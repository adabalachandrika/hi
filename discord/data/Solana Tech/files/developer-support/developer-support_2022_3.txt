<#937905165074300999>
related to this, is there a good basic overview that covers using the metaplex JS library and the differences between `mintNFT`, `mintEditionFromMaster`, and `createMasterEdition` ?
Is there any reason `maxSupply` would always be forced to 1? I'm using the metaplex sdk and calling `mintNFT()` with a `maxSupply` of 1000 but the resulting token is still showing 1.
I believe you can do it with https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program
I'll give it a whirl
vros how does on verify a signature inside a program given i have the signature as a string and the pubkey of the signer?
I think 1.9.1 had a few issues iirc
Update to `1.9.9` and try. That's the current version for devnet
1.9.1
What cli version?
I used to get the below intermittently when deploying to devnet, now i get it all the time. Anyone else experiencing this?
`Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.`
You could do with bytes 0 so you only get publicKeys
Same with dune analytics on data
I'm not quite sure what solana fm and chaincrunch does, but they've been able to keep up and have their data available
When using `getProgramAccounts` to get mint NFTs from a particular candy machine account, is there a way to say LIMIT = 1 so that I don't get all mint NFTs when I run the query?  Just need one of them to get collection_name
anyone aware of an open-source indexer? trying to think of a good way to keep up with new blocks - thinking `getSlot` -> `getBlocksWithLimit` continuously for now
I'd recommend asking the Serum devs in https://discord.gg/HzjSuzZe
I'd recommend reading up on https://dev.to/cogoo/solana-how-to-send-custom-instructions-via-instruction-data-4g9g and the Rust book to get started with what you're trying to do
As mentioned, he was able to fix his problem by matching his CLI version
No, SOL is a system program transfer since it is native to the chain https://solanacookbook.com/references/basic-transactions.html#how-to-send-sol
Recommendation is to use WSL. There's a lot of tutorials online for that. Also, what exactly are you running?
I want to transfer SOL from one wallet to another. Does SOL in a wallet also belong to a token account? Do I still use token transfer or some other type of transfer for this?
same for me
This is my client
And I see that the error because of this line:

let mut greeting_account = GreetingAccount::try_from_slice(&account.data.borrow())?;

What am I doing wrong there?
Hi <@!814228493302497301> I'm completely new to this solana and rust. Can you please help me by elaborating it?
i can't deploy on devnet
is dev net down ?
some help here pls
help
thanks for your help
well - thats that. Redployed, but I've no idea if it used the correct amount of SOL. Used about 6 in total
trying to deploy again
yeah, I cant recover (cant transfer out of the wallet). I wonder if its in a bad state now
I'm currently writing code to place an order using serum-ts (https://github.com/project-serum/serum-ts/tree/master/packages/serum), which is a DeFi DEX. The code I'm using is the "Usage" sample code from the above github.I don't know what caused this error to be output. I would like to know if there is a solution to this problem.
Also, below is the source code and the error that I am running. What is the meaning of the error "ReferenceError: System is not defin" that is output as an error? I would like to know if there are any environment settings required to run the following source code.

‚óãSource Cord
// Placing orders
let owner = new Account();
console.log(owner);
let payer = owner.publicKey; 
console.log(payer);
await market.placeOrder(connection, {
  owner,
  payer,
  side: 'buy', // 'buy' or 'sell'
  price: 1.,
  size: 1.0,
  orderType: 'limit', // 'limit', 'ioc', 'postOnly'

‚óãError
error TS2339: Property 'placeOrder' does not exist on type '() => Promise<void>'.

22     await market.placeOrder(connection, {
I expect you'll be able to do both matching CLI version

please help unable to install solana cli on windows 10
thanks - do you think there is any way I can recover the SOL ? Or will the version switch in theory just make my program deploy more likely to succeed ?
bros, how can i verify a signature in a program? I send the signature in instruction data as a String, i have pubkey of the signer. Which crate do i use?
I also think 1.9.1 had some issues. Latest is currently 1.9.9. However, I would still try 1.8.14
Try switching to that
mainnet-beta is on 1.8.14
solana-cli 1.9.1 (src:b66e2ae3; feat:4100269022)
lol
oh
What version of the CLI are you on?
so basically I cant recover the funds... and I cant continue the transaction
and now I tried closing the program and recovering the SOL using this:
`solana program close --buffers -C recover.json` 
but I cant transfer the funds out of the recovered account:
`Transaction holds a writable account that cannot be written`
but if I try to continue the deploy I get insufficient funds
Hi, having a few problems deploying a program to mainnet:

`==================================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
==================================================================================
BLEEP
==================================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
=================================================================================='

solana write-buffer gives this:
`error: Found argument 'write-buffer' which wasn't expected, or isn't valid in this context`
Maybe they can add it to our cookbook as well
I would head over to metaplex for this information https://discord.gg/cjs49KRR
Hey guys, I'm finishing up the https://litprotocol.com/ Solana integration.  Are there any NFT projects on Solana that want to experiment with decentralized unlockable NFTs?
Gm Solana fam!  I'm trying to get collection_name for a candy machine.  What I'm trying to do currently is go from a candy machine to a mint NFT of said candy machine then using the URI from that NFT I can then access the collection name.  Question is, is there any easier way than this for getting the collection name?  Following the steps here to get these pieces of data: https://solanacookbook.com/references/nfts.html#candy-machine-v2
Thank you so muchüòÉ üôè
https://github.com/metaplex-foundation/metaplex-program-library/tree/master/gumdrop/program
THX
The code is open source for gumdrop
https://solana.com/branding
Hello everyone, can you tell me where is the link to the Solana logo and other graphic materials for developers? 
I can not find( üò•
Thank you <@!489206164270350337> . But  I want build it locally  with rust . do you have any suggestion?üòÉ
I think it would be hard to change consensus that much
Check out gumdrop https://github.com/metaplex-foundation/docs/blob/d811ed39ee2a61c62e9c79410ffca80b125c512b/docs/airdrops/create-gumdrop.md
Hi guys I hope everyone is well. I have a question anybody knows how to use Merkle Trees for NFT Whitelists with rust?üòÉ
Sorry if it's a stupid question, would it be possible to run Solana with a proof of authority as a consensus?
Got it.
Don't spam the channels with the same question. You'll more likely get an answer in <#428295358100013069>
We are looking for an L1 or L2 to fork and use as our "database" for our game. I'm pretty sure some blockchains work better and some worse when using centralised as a private blockchain.
Im not seeing much info online if Solana is a good fit for it - as a private blockchain
What ever program you are calling is sending the error. You should look that error up in the program source code to determine what the issue is.
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x4 [5 log messages] when trying to mint tokens anybody knows how to fix this?
WSL should not be the problem but Anchor may be. You should ask in their Discord
it might be cause?
I'm using WSL
anchor deploy --provider.cluster devnet
How are you deploying your program, show the command you use with it's arguments
```

BREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default.
This is no longer the case. Verify if you need this module and configure a polyfill for it.

If you want to include a polyfill, you need to:
    - add a fallback 'resolve.fallback: { "stream": require.resolve("stream-browserify") }'
    - install 'stream-browserify'
If you don't want to include a polyfill, you can use an empty module like this:
    resolve.fallback: { "stream": false }
```
```
Compiled with problems:

ERROR in ./node_modules/cipher-base/index.js 3:16-43

Module not found: Error: Can't resolve 'stream' in '/home/xyxyxy/solana-steps/app/node_modules/cipher-base'
```
Does anyone else get this? This is more or less an empty CRA app that imports `wallet-adapter-wallets` and from there `wallet-adapter-torus`
no luck. I'm still getting same error.
https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo
is there an rpc method to check whether an account does exist?
So you have to:
1. In program make sure you are now parsing the new variable
2. In client make sure you serialize the data so it lines up with the deserialization of `instruction_data` in the program.

I see you added the var to GreetingAccount but you only allocated 'u32' in the `data` when creating the account
This is the smart contract program
Yes <@!814228493302497301> I've added
I would advise 1.8.14
downgrade to 1.8.0
1.9.9
whats your solana version
You added the new variable in the program as well? It isn't an adaptive AI that can detect when you send a new bit of data that it itself does not have defined.
All I did is, added another variable called name along with counter
`Saying hello to HRoFJUPwpGHzehNpWMNZM6N8zAr3832fYaGKqgCHPFK7
Transaction simulation failed: Error processing Instruction 0: Failed to serialize or deserialize account data: Unknown 
    Program JDg5ZgvHT31RKvUDZ36DpFqTK7yZEdgf8Wdpbk5NFmXF invoke [1]
    Program log: Hello World Rust program entrypoint
    Program JDg5ZgvHT31RKvUDZ36DpFqTK7yZEdgf8Wdpbk5NFmXF consumed 1563 of 1400000 compute units
    Program JDg5ZgvHT31RKvUDZ36DpFqTK7yZEdgf8Wdpbk5NFmXF failed: Failed to serialize or deserialize account data: Unknown`
<@!814228493302497301> Yes I did, but I'm getting below error:
please help me
```
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
============================================================================
convince about vague hurt chair crawl summer collect gold fruit filter spice
============================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
============================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.
```
I'm trying to deploy a contract on solana devnet and I'm getting this error.
https://i.imgur.com/VHgN17i.png
So if you look at the client side of the hello-world you will see how an instruction is built, wrapped in a transaction and sent to the program.
What program? If you are sending in with the instruction a brand spanking new Account (vis-a-vis Pubkey in AccountMeta) then the program may require you call some kind of Initialization instruction first.
Look at the Rust tab and expand the code by clicking the `</>` : https://solanacookbook.com/references/basic-transactions.html#how-to-send-sol
`instruction requires an initialized account` I encountered this error while trying to invoke program, how to debug to check which account is not initialized in the instruction?
i am trying to deploy a program on solana devnet and i am getting this error:

```
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
================================================================================
Error: Custom: Invalid blockhash
```
any help?

solution:
downgrade
Can I get a simple solana smart contract which just sends a message to Solana?
Hi,

I followed https://github.com/solana-labs/example-helloworld and everything is working

Now my question is, how can I send a message to Solana?
i am trying to call the `mint_to_checked`instruction from `spl-token` and have already built the instruction. just dont know how to insert it into a transaction and send it yet

this is all in rust btw, not js/ts
is there an example for building and sending a transaction using the `solana-client` library?
Use something like invoke or invoke_signed to create the CPI
Thanks mate, for the reply. Can you please help me to identify how to do that? It would be really helpful.
`['address', [32]]`
yes can be done
Hi All,

Can we do CPI to metaplex contract from our smart contract? I would like to call functions available there.
can one transfer token accounts?
I have buffer in my packages
And this is my code
This is where it gives it
This is the error
Hi guys, I'm trying to transfer SPL tokens but I keep getting the same error for days. Still couldn't find the solution.
how do people dynamically generate metadata (token names, etc.) for new SPL tokens like LP tokens so that it is recognized by dapps in Solana ecosystem? or is it all submitted manually? it wouldn't be scalable being forced to manually submit new LP tokens everytime someone creates a new pool in DeFi apps

e.g. https://solscan.io/address/CZexS9ALC7rFzApHYnAeQJsJqzM9J18zu4xRvgLVQSHk?cluster=devnet shows this token as "Unrecognized Token"
sure. you can take a look at https://solanacookbook.com/guides/get-program-accounts.html#facts
for mint account layout: https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/state/mint.ts#L52
basically you can use getProgramAccount to fetch all accounts which owned by some program and with some specific data.
assume i only have the mint authority keypair here (pubkey + secret key)
is there a way to find all token mints controlled by a specific mint authority?
thanks!
How can I ser/deserialize `PublicKey` of  `@solana/web3.js` using borsh? I tried 
```
class Foo { 
  address = PublicKey.default 
}

borsh.serialize(
  new Map([
    [Foo, { kind: 'struct', fields: [['address', 'u256']]}]
  ]), 
  new Foo()
)
``` 
but received `Error: Assertion failed`.
You are trying to create an acconut that you already created once
Hey people, I was wondering if you had any recommendations for guides for Solana. I just finished Buildspace's one but I'm still confused on how accounts work and how to tie everything together. Any recommended resources would be great, thank you! Also, apologies if this is the wrong channel to ask
Hey, can someone please explain the origin of this error:

"account Address { address: hk....................................3u, base: None } already in use"
you may need to learn more about what values are part of NFTs metadata and schema.  https://docs.metaplex.com/
I was looking at the NFT section of the cookbook and got stuck on how to get the uri for the mintNFT function. If I use the id from the upload transaction, the url leads to the image and not to the metadata which is required by the mintNFT.
Hey Jacob.. any idea about my error?
it says what it is..  you may want to run through https://spl.solana.com/token to get familiar with some concepts, and the cookbook, https://solanacookbook.com/core-concepts/accounts.html#facts if your asking what that is.
someone knows how do the convert from buffer to base64 with solana web3.js api?
gm
all things NFT candy machine related:
https://discord.gg/zUQ2bAuz

ull want a better public or even a paid services for good NFT related services. for production u likely want to use other services anyway for performance.
Could you please tell me how can I initilize a mint token inside my program?
what is "mint_pubkey" in the 
pub fn initialize_mint(
    token_program_id: &Pubkey, 
    mint_pubkey: &Pubkey, 
    mint_authority_pubkey: &Pubkey, 
    freeze_authority_pubkey: Option<&Pubkey>, 
    decimals: u8
) -> Result<Instruction, ProgramError>
thanks for the reply. I'm trying to create a v2 candy machine dapp. I noticed the following limits for the default solana-hosted api node:

Rate Limits#

    Maximum number of requests per 10 seconds per IP: 100
    Maximum number of requests per 10 seconds per IP for a single RPC: 40
    Maximum concurrent connections per IP: 40
    Maximum connection rate per 10 seconds per IP: 40
    Maximum amount of data per 30 second: 100 MB

Would each of these "requests" = 1 request to mint per user? In that case if I'm just trying to deploy an NFT collection of a few thousand, those rates seem well within range for live prod use. Am I missing something? Because the sol docs recommend paying for a candy machine service
yea more or less to the RPC question.   
there are dev and mainnet instances
these are the solana basic public end points:
https://docs.solana.com/cluster/rpc-endpoints

other providers like figment, genesysgo, runnodes, quicknnodes etc  provide either free and or paid services for more access/performance.
if it is, then is there a de-facto RPC service to use that has a decent free tier? Something for relatively light usage/testing for deployment.
hey can I ask what in the world is a custom RPC endpoint service? Is it essentially a service that I use to connect my dapp to the solana network? Is it similar to alchemy on ETH?
oh ok no problem got my query solved. but can i please have your suggestion on fractional nft thing in solana? any tips what to use for that?
not sure what you are trying to do but basically they are the same address depends on your descirption.
maybe take a look at https://solanacookbook.com/references/accounts.html#how-to-close-accounts
`solana program close` only for program's buffer account.
a mint account can only init once. maybe check https://spl.solana.com/token#example-create-a-non-fungible-token
I think it only lives in quicknode's endpoint, `qn_fetchNFTs` not an official rpc method.
why do we pass token_program_id in params when we can get spl_token::id()?
is it possible to close accounts that hold data and recover rent? I'm getting " is not a Program or Buffer account" when I try the `solana program close ...` . Is there another instruction?
Hi. Is there any guide/help?
When I trying to initialize a mint via solana spl token instruction I got:
'Program log: Instruction: InitializeMint',
'Program log: Error: account or token already in use',
I'm trying to fetch the nfts that a wallet has, but I'm getting "ERROR:root:Method not found"
```from solana.rpc.api import Client
from jsonrpcclient import request, parse, Ok
import logging
import requests

solana_client = Client("https://solana-api.projectserum.com")


response = requests.post(
    "https://solana-api.projectserum.com",
    json=request("qn_fetchNFTs", ["ExSBVYkR7qdEyx2CEE2b1BMzZ35yPcMw6WJktqBRHYFX", []])
)
parsed = parse(response.json())
if isinstance(parsed, Ok):
    print(parsed.result)
else:
    logging.error(parsed.message) ```
Hi, I'm new to solana py, anyone knows why this isn't working?:
there are some endpoints you can choose https://docs.solana.com/cluster/rpc-endpoints
lol
they shoudl rename it to getTransactionSignaturesForAddress
wow, that is the endpoint? lol
check https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
just guessing you are trying to use token transfer, you can take a look at https://solanacookbook.com/references/token.html#how-to-transfer-tokens
remember the from and the to should be a token account. if you don't have token accounts, check https://solanacookbook.com/references/token.html#how-to-create-a-token-account
The solscan public api leaves out all valuable endpoints, and thus isn't an option. I used their private api for a while until they restricted the returned the number of returned txes to a low number.
Does anyone know how to do that without keeping an entire copy of the blockchain oneself (downloading all blocks + building a customer endpoint)
Hey guys üôÇ I just went through the RPC endpoints and can't seem to find any endpoint that enables one to make a request kind of like the following "get the latest 100 transactions from this account"
Ah, ok.
if you mean you want to change an exist mint's decimals, it can't be done atm.
Would something as simple as changing the decimal value of an SPL token also be handled through this process?
I see, thanks.
Current process is to wrap the token program with another program and impl the custom logic
Hi everyone. The more I learn about SPL tokens, the more it seems like they aren't as customizable as ERC20. From my understanding, you don't write programs yourself. Instead, you use the existing SPL program to make and manage your token, therefore, you are bound to whatever features SPL offers to do so. 

I was interested in implementing a feature where there is an automatic % cut from all transactions that are either burned from the total supply or go to a specific wallet. Is this possible to do with SPL?
it takes 8 bytes. check https://doc.rust-lang.org/std/primitive.slice.html#method.get
hello - https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L493 -> what is the `..8` syntax? take 8 bytes? what is that syntax called
Error Message: The program expected this account to be already initialized. - what does this error mean?
<@!788215642070581289> can you send me audit report of spl token if it can be provided
i think this will work
thanks spl-token authorize token_mint_address mint wallet_address
what does this error mean? "Error: 3007: The given account is owned by a different program than expected". I am using a transfer function. Which of the "from", "to" or "authority" accounts is this error referring to?
check `spl-token authorize --help`
if you want to make your block parser system, you can take a look at https://docs.solana.com/integrations/exchange
And make sure you match the commitment between the two calls
Use `getBlockWithLimit` instead
Because not all slots produce blocks
hello team is there any cli command to change  spl-token mint authority
anyone know why I would be getting "block unavailable for slot x" when running `getSlot` to get the current slot and running `getBlock(slot)` on it?
Thanks for your response, Surely we will be trying accountsubscribe. Is there any reference link for block parser how we can do it without having our own validator by just using a thirdpary solana RPC endpoint. One more question, earlier we tried to use program accountchange event but we are missing lot of NFT transactions in that. do you have any suggestion why this approach is missing lot of events. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#onProgramAccountChange
if you have the latest holder, you can use https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe to monitor data changing or you can implement your block parser to monitor every blocks
Nope not running
maybe check this lib https://docs.rs/solana-client/1.9.9/solana_client/tpu_client/struct.TpuClient.html
Hi technical geeks, We need help on how we can get latest NFT trade information, Is there any APIs for it. Basically we want to have a latest Solana NFT holder information and we want to keep it updated when it gets change. Is there a way we can get NFT trading data?  I want to have similar information like https://solscan.io/nfts#trades. which should be updated when any Solana NFT trade happens. Many Thank!
check there is a validator running on your http://localhost:8899
check https://docs.solana.com/implemented-proposals/durable-tx-nonces
Hey Guys, I'm facing this error from past few hrs
I'm using wsl to deploy a solana program and I keep getting the same error

*Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 111)*
or perhaps is the pubkey enough to send the direct transaction and IP is not needed?
2. Given the IP of the leader, is there a way to send a transaction directly to the leader?
1. Is there a better/more direct way to get the IP of the current leader (perhaps without having to use the pubkey to search the getClusterNodes() output
I guess I have 2 questions:
i can get the the current leaders via getSlotLeader(). this returns a public key. then I can use that public key to find the associated IP in the output of getClusterNodes()
it is possible to send a transaction directly to the current leader?
[7:12 PM]
i am messing around with some stuff, think I am able to get the ip of the current leader
[7:12 PM]
but how would i go about talking directly to the leader given their ip?
Hey all, has anyone had luck integrating with web3auth? i'm struggling to get in touch with someone from their support team maybe someone here can help? When a user connects using the web3auth social login, it looks like their wallet is getting loaded up correctly but when I go to sign transactions with it I'm getting the error: `Error: Error: Transaction fee payer required`. The strange thing is if I use their integration with any other option besides the social login (Phantom Wallet, Torus Wallet) it works fine so I am including the fee payer. Anyone have experience with this?
Looking at staking spl-tokens, is this the best repo to go by? https://github.com/project-serum/stake-v2 I saw at stake v1 was deprecated.
Hey, a few developers and myself are having a lot of trouble pushing our programs to devnet since a recent update. It hangs for two mins on `Program path: ~/Desktop/my_program/target/deploy/program.so`, and then just gives this error:

```=======================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
=======================================================================
SEED PHRASE HERE
=======================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
=======================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.```
Hello guys! anybody knows what's the difference between a nonce account and a regular solana's account?
Deploys are super slow on cli `1.9.x` any fixes for this?
the cli just uses an RPCClient and get_version(), from the RPC module
Is there anyway to programmatically determine what cluster you're connected to from the Solana Rust client?
does anyone has sample writing integration test for program in rust with devnet ?
https://solanacookbook.com/references/nfts.html#how-to-get-all-nfts-from-a-wallet
generally means what it says, u ran it too many times to close together. the public RPCs have some limitations.  as mentioned many times above, u want to look into alternative RPC providers, public and paid options.  genesysgo, figment, runnodes, quicknodes, and more
Hi, does anyone know a way to pull a list of nfts from an account address
Im running this function on devnet and it is running fine `connection.getBlocks(time_slot)` but when running it on mainnet-bet it is returning : `Server responded with 429 Too Many Requests.  Retrying after 500ms delay...`

`Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...`

`Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...`
Thanks for the info! One follow up question: If I were to make a website to look up info on Solana would the IP limit be based on the website's IP or the users?
<@!785084693023424542> I'd like to gather up the previous N-days worth of transaction data for a specific candy machine in order to build up a N-days volume metric.  I've got the account for the CM and a Solscan API for getting account transaction history but now the question is how do I specify in blockchain terminology how far back I want to go.  I'm thinking `blocktime` is my goto.  Is `blocktime` the time at which the block handling the transaction of interest completed?  And if `blocktime` is my time value then Im thinking I do something like unixtime(now() - Ndays) as my threshold
Yeah im not against verifying at all, just want to list collections other then mine to be sold with our native currency. I‚Äôll look into how I can add support for non verified NFT‚Äôs! Thank you for the response‚Ä¶ good chance I‚Äôll be back haha
most NFT centric stuff is here:
https://docs.metaplex.com/
https://discord.gg/zUQ2bAuz
resources in general aside from the docs and githubs here
resources: https://soldev.app/
code and concepts: https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata
Hey Guys, am excited to  join this community. I am in process of developing a module to perform NFT based authentication on a Website.. could anyone point me in the right direction to resources or any github repository if someone have followed or already created this feature?
Wow so I spun up QuikNode and it doesn't have any rate limiting applied.  I can run my code with 0 delays, so awesome!
archive nodes are separate services, by other RPC providers you can access, or you can instead set up your own.
is that something related to solana or an external service?
for historical data you need to look into using or hosting an archive node..  perhaps related to 'bigtable' api..
Ok, is there a way to get the genesis block? or the first time slot?
this is more of a data and storage issue,  real time vs historical, and depends on your goals.  you base your approach on the data you want.  if you just want all the data.. you may as well run your own node and reference other stuff for historical purposes. if you want specific data, identify what data, create the calls, and figure out how to subscribe and or schedule calls that you need to run, to filter and parse out the data your interested in on an active basis. either way youll like want to store it if your providing a service.
I saw a function to get a single block, but I didnt find anything get all the blocks
Im building an app where i need to get an access for all the blocks. But I couldn't find a way to get all of them
no. why would you want to do that?
<@!785084693023424542>  any idea on how to traverse all the blocks?
Yep got it! Thanks a lot for the information üôÇ really appreciate it. I‚Äôll use the wallet adapter API then üôÇ
if you want to spin up your own node entirely thats a whole different thing,  for that https://docs.solana.com/running-validator and <#560174212967432193>
the other providers u just use their service and change the end point your pointing to, so u dont need to do anything besides research and try them out..  just change the rpc end point   from  api.devnet..   to api.otherprovider etc.
hah no.  you cannot touch the private/secret key from the users wallet.. would defeat the whole purpose of the wallet.   the wallet is the identity, authory, signer, owner, public key..  thats what u have to interact with, from the web.
Got it.  Have any article links or tutorials handy that could ramp me up on this idea of spinning up a node?  Should I refer to Solana docs?
Hmm makes sense .. I am working on web app. Was wondering if I could use the plugins for wallet authentication (only) and send the user‚Äôs private key (securely) to backend server instead of doing transaction in node/TS itself.
How can I get all the blocks? Im looking for a function to return all the blocks... What I found is `getBlocks(time_slot)` which returns all indeces for all blocks in the specific time slot only. Other function `getBlock(slot_index)` returns the block... But I want to return all the blocks since day 1. Is there such a thing?
every provider is different, so the details are up to them.  there are many now so would encourage trying a few, and doing some research before you pay.  especially in regards to any limitations/cost.
Insightful information that I really appreciate - a question on this.  So by spinning up a node (e.g. QuickNode or something like this) I'm able to make unlimited requests to an RPC endpoint?
for sockets I probably use another provider and or paid provider. to expect a public end point to allow mass socket usage for free is not a very realistic expectation.   for rate limits they usually apply to calls, not to sockets?  a socket is something you try to keep open, or open and close on a basis, not continue to blast calls over and over with new connections.
most of the wallets your referring to are plugins, and have adapters..  and they are used through web interfaces.  So the nature of that is the design.  For another type of client, like rust, that would require a compatible wallet implementation, if your expecting the user to experience a wallet,  if its a rust client your running independent of users, you can use file system wallets and other related wallets if there is no real user interaction.
to deal with the rate limiting appropriately I've setup my code to do a wait for 10 secs every 40 requests but it seems the socket hangs up after just a few seconds.  Is there a way to configure the connection so that it stays open for some duration of time?"
perhaps because verifying is encourage. not really sure about the intricate details of what might be involved in this special case scenario, sounds like an issue youll have to keep searching for and dig on, and review metaplex code. sounds like the store itself would need to support non verified..
Hello all. I am working on a dApp and want to integrate solana wallet. Is there a way to integrate wallet using react wallet adapter library AND use non-node based backend (eg rust server)..? From what I have read, wallet adapters provide interfaces that allow wallets to interact with clusters without exposing private key. Can this be achieved with non-node based backends? Any way to securely pass private key to server to process transactions?

(reposting here from <#694949720644124762>  since got no response over there)
Nobody there seems to knowü§∑üèª‚Äç‚ôÇÔ∏è any idea how secondary marketplaces add collections in the backend?
This is to add a program name to solana explorer, not token-list. Could you direct me to an appropriate channel?
https://discord.gg/zUQ2bAuz
no it does not really make sense to me.  were you following a guide or documentation, or what did you do exactly? the commands you ran.  and on what network? etc
Does anybody here know how to sell NFT‚Äôs on metaplex that are not verified by all creators? Is there a way to incorporate a mint list as sellable NFT‚Äôs on the storefront. Been trying to figure it out for a while now with no luck‚Ä¶ any help and/or guidance would be much appreciated
im not sure how to interface, im using linux so its all cmd, my pubkey is the address is sent it to, so i dont know how to differentiate the commands from sending sol, or the token from the pubkey. if that makes sense.
sounds NFT related?  is so you probably want to look up some kind of mint authority or other related properties, and the metaplex discord should be able to help with that kind of query.
the other extent of most of the NFT resource we have are here:
https://solanacookbook.com/references/nfts.html#how-to-create-an-nft
and here:
https://soldev.app/

https://discord.gg/zUQ2bAuz
https://docs.solana.com/cluster/rpc-endpoints
`I accidentally sent some tokens to my pubkey address`  if its your pubkey, you have the wallet access?
Hi all, what is the rate limiting specs for https://api.mainnet-beta.solana.com ?
is the ledger-tool available as an individual package? in the main repo it's version is 1.10.0 but the latest rust crate is 0.20.5
I accidentally sent some tokens to my pubkey address, little copy and paste error, im wondering how to get those back out. im using dev tools on linux
You want how many mint accounts a user has made?
Hello all, can I retrieve information about how many mints already a wallet made? thank you!
Hello i have a question about a silly mistake
ty
<#836969024130777118>
Hey guys does anyone here know anyone at Solana Beach? I have a question about a query they make for reward details
Ok I see thanks I'll look up for it
ELF is not unique to solana, you can find many descriptions of the format online
Aaah yes indeed I see the ELF thing. So do you know about some documentation decode this ELF for now ?
Folks are working on better reverse engineering tooling
If you speak ELF and eBPF, the bytecode is all on chain
We do not support token-list here
They are, but the source is always there.
gentle bump on this
Oh ok thanks ! So that means most of the contracts on solana aren't actually publicly verifiable ?
This SO question has your answer: https://stackoverflow.com/questions/71200670/how-can-i-see-the-contract-code-in-solana/71200823#71200823
`@here` is always bad form
Nah it's disabled
here was allowed üòÑ thanks for the answer üôÇ
Hello ! I am wondering if there is a way to read the code of deployed smart contracts on solana ? The code is supposed to be transparent right ?
Using @ here ain't cool either.
But to answer your question, I don't think such code exists currently.  The data in bigtable is largely binary and so doesn't readily export into bigquery without additional translation
*not the head of Eng Ben I am not that cool üò¶
hi Folks @here I am Ben from Chainlink working on some data analytics regarding solana, and my question is are you aware of any code which is moving the bigtable solana-ledger into bigquery?
I haven't jumped into Rust, only know solidity so cant help that much. But if you google `transfer ownership rust contract` or something like that you'll find something for sure üòâ
how can I do that?
that's transferring the contract ownership
any luck?
But I mean like, transfer the authority to mint new tokens and everything.
hey ‚úåÔ∏è that's what send function does
Hello everybody! I have a noob dumb questions but here it goes: is it possible to transfer the authority of your tokens to another wallet address?
Hi. How can I use `#[account(init, owner = ...)]` in Anchor to create an account whose owner is another Anchor program? I tried but received  an error said that the 8-byte discriminator  does not match.
Hey, I am going through the governance-ui codebase for realms, and I am a bit confused on how the state management works. I have never used Zustand before. Does anyone know how the state is being set after connect? The only thing I can see is the providerUrl being set, which doesn't seem to populate anything else. Thanks!
https://github.com/solana-labs/governance-ui/blob/main/components/ConnectWalletButton.tsx#L152
I've quickly read about BPF though need more reading to come talk about that.
Though I was more talking about why choosing a low level language than higher one like python or else in terms of easiness of development
thanks!
Let me try again
hey Jacob. sorry for huge delay. the program id should be set on the program_pub.json...

i guess you figure that out already.. did you manage to have an insight about my error ?
Thanks!
Probably in <#428295358100013069> but the moderators have asked to keep to one line and be succinct
Is this the best location to offer contract work? I have a client that would like to contract with a developer to solve an issue they have on their smart contract.
üò¶
Their support is there, not here.... you'll have better luck
i believe i did it properly
yes, i asked in their server but no response yet
For metaplex?
at least I thought I did, how long does that take on the blockchain side?
I just updated the metadata (royalty addresses) for an NFT collection
Howdy guys
It is not Rust that is executed on chain. It is BPF. Read more about BPF, why it exists and what it accomplishes then ask: What do other BC's execute on chain. Your report back to this thread would be interesting to see.
please don't use developer support for advertisement
no
when your services exceed these limits: https://docs.solana.com/cluster/rpc-endpoints#mainnet-beta
Question about making a "web3.Connection" object:

When would I need to add my own node and when could I use 'mainnet-beta'?
hello, it's been 13 days since I submitted the PR, is this inline with the queue-wait-time?

if not, what's the appropriate way to get attention/ a review?
Great thanks
hey <@!489206164270350337> do you have sample of integration test with program in rust, devnet ? like deploy new program, new instruction, new account,...
https://github.com/solana-labs/solana-accountsdb-plugin-postgres
Thanks .. Where can I find more info about this ?
What exact question are you going after?
You could use accountsDb postgres plugin, the recommended way, and not rely on getProgramAccounts
Could you give some actual evidence that Solidity is better than Rust for smart contracts? Bugs will be bugs. Otherwise this just sounds like FUD
That's why it doesn't matter if you change the address `foobar.sol` resolves to. You do not have to transfer any assets
I think you're misunderstanding how the name service works. There's a `.sol` address that is readable like `foobar.sol`. When you register the base58 address that `foobar.sol` points to, you set that data in the account. When you "resolve" the address from `foobar.sol`, you do the lookup to get the actual base58 address and pass that to the program. You do not pass the readable name
Is the any other way to get the same result ?
Yes I am trying with a private one too and I am getting the same error
hey folks üññ

been following Solana and other new blockhains that use Rust. Though I'm quite concerned about using Rust for smart contracts as there were already enough hacks and enough complexity in DeFi protocols, so why are the real benefits of using Rust over solidity for smart contracts?

I know Rust is getting lot of popularity and it is a very good language to optimise resources which makes sense for OS, IoT, backend... but is really a wise choice for smart contracts?

I've done some researches and still think it is not smart contract friendly. What's your thought? (I'm a solidity smart contract dev)

Unfortunately I had not got the chance to speak with many solidity developers that switched to Rust to have enough feedback and pros & cons of both, that's why I'm raising my concerns here
On chain it does not point to `foobar.sol`. It points to whatever address is behind the `.sol` address.


///////////////////////////////////////////////////////////////////////////////////////////////

Can you send me 500 so I don‚Äôt ever ask again then?üòÇ
I work for Solana Labs üòâ
If you don‚Äôt mind me asking how do get so much devnet? What do you use
Beast! Thanks
np, done!  KYLvW8gykxgEbmTmrHRg7L43JAiZMkwrQVK8sbTdrAVbe4eWArFSihAco8XSjZBmXEuvt6L392C7TYjr4Mx4tmz
I was already going to send it sorry
EuTsMuKwXCUawZ1tDJjojbZgLfrRY8xpAZ9GTAd3GbRR
You're gonna make me ask for your address?
Or if anyone could give me some I‚Äôd really appreciate it
Hey <@!445425471027544095> not to be that guy but I saw you give someone one 200 sol yesterday can I get some too pls I need some üòÇ
whats fine and not?  is your app making calls?  not clear on your specific issue
raydium not
dexlabs fine
yup
are you personally experiencing an issue right now?
like this has been 3 months of tpu/tps/ping bullshit
wondering why we continuously have these issues
no
are you wondering how to interpret the chart?

wtf is this shit
not sure on how exactly your wanting to do that,  here is a base scaffold that integrated the wallet adapater:
https://github.com/solana-labs/dapp-scaffold

this project does some NFT related functions, using the wallet, you may find useful:
https://github.com/thuglabs/create-dapp-solana-nextjs
I was wondering if anyone has more insight into the performance of E.powf(n), seems to vary a lot depending on the value of n, is there any documentation on how to optimize n for better performance? For example `E.powf(PI)` executes in almost zero compute units, while `E.powf(somevalue)` can take around 10,000 units for values like 555
I just want to integrate Solana wallet adapter on Candy Machine
just because they will very likely not have any SOL in their wallet
so the end users will be signing the transaction... but I don't want them to have to pay
I'm basically tying to build a system where I reward my users with NFT's that will be held in a program account owned by the program I'm building... but I don't want my users to have to pay to create their associated token account
whats the question?
but then the program would not be able to sign for that address right?
is there any way in localnet to get tokens of arbitrary mints?
All accounts start out being owned by the system program.  To assign ownership of the PDA to your program requires the program take an extra step.  Just remove that step!
So I copy its css paste it there
Like I just want its UI
what do you mean
would not work... its needs to be assigned to system program?
Can anyone help me with it
Hey listen
so https://explorer.solana.com/address/E8QechzbA1gdbFPBWS8sUTipQcp7k7c8nX4Ni2U7umRc?cluster=devnet
Ahh
The funding account still needs to be owned by the system program, maybe that's it.  The PDA-ness of an account affects the account address and who can sign as the account (only the program), but the account ownership is an independent axis
I keep trouble shooting, just wanted to make sure I was taking the right approach
That E8QechzbA1gdbFPBWS8sUTipQcp7k7c8nX4Ni2U7umRc should* be a PDA account owned by the program... but maybe I'm missing something else
hrmmm ok, must be some other issue then... getting : failed to verify account E8QechzbA1gdbFPBWS8sUTipQcp7k7c8nX4Ni2U7umRc: instruction spent from the balance of an account it does not own
yeah as long as it's via a CPI, since only a program can "sign" a PDA account
Is it possible to use a PDA account for the funder account when using -> create_associated_token_account
Hey guys! Do you have any advices on running a private node? If the best option to host one would be AWS or what
lol scammers get hot and bothered whenever they see somebody say "wallet"
But you are not a mod
<@456226577798135808>
I had a question regarding solana wallet adapter
Hey guys
This may help fill in the gaps https://solanacookbook.com/guides/retrying-transactions.html
TLDR: If you want to absolutely certain a transaction can be sent again, verify the blockhash on the failed transaction is invalid(>150 blocks). Other mechanisms exist too.
Thank you
hey Jacob, I'm confused about something. There are a lot of cases I can't get response from Solana especially during network congestions. I get things like "Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed." so I try onSignature websocket if transaction exist and confirmed or I try getTransaction() but they can get failed or timed out aswell. I mean there is a possibility transaction went through but I can't get it because of failures and timeouts. How am I supposed to proceed? I need to check the signature user gives me and make sure transaction exists but since Solana do not give certain responses and getting things certain (e.g. getTransaction function) can go timeout aswell I don't know how I should proceed‚Ä®. It seems like I can't rely on anything to be sure about anything
Ah found one, thank you!
sure sounds great
There is an issue here for discussion https://github.com/solana-dev-adv/solana-cookbook/issues/189 Please put your thoughts there and we can discuss on github
Currently token-list repo is the way to go. In the future it will be the metadata program with potential fallback
If i use https://github.com/metaplex-foundation/metaplex-program-library/tree/master/token-metadata/program over https://github.com/solana-labs/token-list am I going to face any major issues.

My dapp needs to display and create metadata for tokens - does my dapp have to create and read metadata at/from both places? Would prefer just interacting with one - prefer the on chain solution but its not official - wanted to clarify if I could face major issues
<@!489206164270350337> <@!134416332509675520>  Would you guys be available for a brief discussion regarding creating security roadmap for the cookbook. I actually want to understand if there is already a road map in progress and if so can I get some details on it or would I be starting it from scratch.
Mmh
It looks like phantom does not support images today. Ideally this will be the way forward soon
Unfortunately, we do not support requests on token-list
Yes I create an issue but Idk why this error appears. I do exactly what the doc want üò¢
https://github.com/solana-labs/token-list#error-validating-schema-chainid-conflicting-values-103-and-0
Want to add metadata tokens - confused about https://github.com/solana-labs/token-list and https://docs.phantom.app/integrating/tokens/on-chain-metadata? Any suggestions on what I should use? I would prefer to use on-chain-metadata but are there any gotchas?
Btw I don't understand this error : 
error validating schema: chainId: conflicting values 103 and 0

I test on 3 differents tokens, 3 times same error. I check all PR above/bellow with automerge error, nobody have my error.. What did I need to do for don't have this error anymore ? (Try to push a token to token-list)
Jupiter agg does CPI with depth > 1 I believe. You can go through their source code here https://github.com/jup-ag
devnet is having some issues right now. Needs to be restarted. Best bet is to develop on local validator right now
That program id is correct. It is likely one of the accounts you are using for transfer is incorrect
FYI: sharing your seed phrase is really bad practice. This allows anybody to recover the private key to your address (`BYo4Nq7CE8Pf3pLW2NrXXPPsJ95HFTcaf4JnktCqyUmq` in this case).  Fortunately that account was empty on mainnet üôÇ
Testing some edge cases and it's unclear how those are formatted in json rpc responses
Hi there, anyone have an on-chain example of a nested CPI call? E.g. with depth > 1
Please help me

I have got this error every time when I deploy the program to the devnet
SOS
My command is: Token.createTransferInstruction(
          TOKEN_PROGRAM_ID,
          mynftaccount,
          receiver_token.publicKey,
          wallet.publicKey!,
          [fromWalletPK!],
          1
        )
or is TOKEN_PROGRAM_ID just the variable that i import?
is the token program id, the owner program here: https://solscan.io/token/6Fj3Jfs4XTsfKa4bFLczthVB1CqiHoQMMsdRz8cKMxVs?cluster=devnet
it seems like the token program ID is incorrect
i'm creating an account for the nft owned by the receiver of my nft and i can see that it is being created correctly on solana explorer. However, then when i try tro transfer the nft using spl-token i get: Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction 
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]
    Program log: Instruction: Transfer
    Program log: Error: InvalidAccountData
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1781 of 200000 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for instruction
Try doing
```.rs
invoke(
  &create_associated_token_account(&payerAccount.key, &combinedOwner, &mintAccount.key),
  &[
    payerAccount.clone(), // the payer
    combinedOwnerAssociatedTokenAccount.clone(), // the account we're creating, I think?
    combinedOwnerAccountInfo, // need to pass this in from the client
    mintAccount.clone(),
    systemProgram.clone(),
    splTokenProgramAccount.clone()
  ]
)?;
```
what's happening to the network? all my txs are lost
So you don't need `invoke_signed` at all, just `invoke`
Also, you don't need to sign for anything when creating an associated token account (see the link I posted above)
Can't totally tell if you're doing that üëÄ
You need to pass in (from the client!) the associated token account for that combinedOwner+mint combination
Is my 3rd argument(signers_seeds) for invoke_signed, correct ?
Ok now I have added 6 expected accounts in order, but getting "ERROR :: Instruction references an unknown account 2EbwDDfby8bH88oFYypXKDrC8sos9fV56ZJ3rja9UXSh" --- Upon further debugging I found that this account is associated token account(which is expected to be created)
Oh. Thx !
https://github.com/solana-labs/token-list#error-validating-schema-chainid-conflicting-values-103-and-0
Hey guys ! Any idea about this error on token-list ?
error validating schema: chainId: conflicting values 103 and 0
You can see which accounts you need to pass in here: https://github.com/solana-labs/solana-program-library/blob/master/associated-token-account/program/src/instruction.rs#L25
How are you deciding what accounts to include in that accounts &[...] list? Can you walk me through your thought process?
In any language, as long as I'm able to do it
Does anyone has a lead on how to do that please ? üò¶
To make it an NFT
I just wanna attach the JSON to a SPL Token with a 1 supply
Hello guys ! I'm just trying to do a simple thing but i REALLY can't find any documentation on how to do it
Ok, I have been trying to do the same, but unable to sign for transaction, getting "ERROR ::  failed: An account required by the instruction is missing", can you please tell me what mistake am I doing ?

let combinedOwnerAssociatedTokenAccount = next_account_info(account_info_iter)?;  // this line is present above
Sounds like the account doesn't exist
General recommendation, yes. It can be easy to learn Anchor, but learning native first can help you design better programs in the long run. Personal opinion is to learn native, build with it, but ultimately build with Anchor in the long run
You usually have the ATA owned by the PDA account. That is correct if you want the program to control token accounts
hi i have a question regarding sending an nft transaction: the error i get is Error: failed to get token account balance: Invalid param: could not find account
Should one learn vanilla Solana contract development first before starting with Anchor ?
Hi, I have created a mint account using spl_token program(spl-token create-mint --mint-authority ...), now I want my custom rust program to be able to control transfer of token from one token account to another token account. How can I achieve this? or is there any existing example.

Currently, I am trying to create associated token account using pda in  my custom program, so that my program should be involved in signing. Is it wrong way of thinking?
you can use signAllTransactions but you have to send each one individually
can we batch together transaction and send them with just a single signature or do we need to sign again and again for every tx?
Okay, thank you <@489206164270350337>
That's my understanding, yes
Be patient
<@!489206164270350337>  so tell me how to change name and logo while pr is sccepted and closed
Correct?
Okay, so no matter what all the data is copied to all nodes in the network. As it's public network
So the answer is no. If there's something you want to push data to but keep it hidden from the network, my advice is to not put it on the network
Sounds like you want a centralized service for some customer data, while a normal chain for others
Oh, thanks
https://explorer.solana.com/ Check bottom graph. Seems to be some issues going on
So, instead of replicating to all nodes, I want to replicate onto only some nodes. Is that possible? Basically I want to replicate one customer data on to one node and the other customer data onto other nodes
Is there any issue with mainnet right now? I'm getting ‚Äúunable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds‚Äù but I do have the funds.
When the wallets decide to update
so when token name will be updated
Yes
Wallets update their token list as they want to
explain please
So, whenever we add any data, that data is replicated onto all nodes in the network right?
What do you mean only a few nodes?
All depends on when the wallets oull
Hi everyone,

Is it possible to replicate my data onto only few nodes? Just like the channels in ethereum
my pr is closed but my token name and token logo still not updated ???
I'm using the nonce account just to be able to store an offline transaction signed and push it later to the blockchain after a certain condition is met
Ok thanks
Sure, as long as the owner of the tokens signs the tx
The scenario is I want my program to burn a spl-token when I call a certain function. Is it possible for program to directly burn the tokens through normal CPI without using any PDA?
Is it possible to allow a program to burn some of my spl tokens through CPI?
that is the primary use for nonce account??
Hi everyone, I'm implementing an offline transaction to transfer funds from one sender to one receiver. I have been reading the docs and I was able to make it work but I have a couple of questions. 

I'm creating a nonce account where the authority is the sender.
1. If I need to sign and store multiple tx from the same sender account, should I create a new nonce account for each transaction?  
2. Is it possible to withdraw the nonce account to the sender after the transfer instructions has been executed? I have tried by adding an instruction to withdraw to the offline transaction but it says I can only advance the nonce once per slot. So I guess that I should withdraw the funds in a separate tx later but it can't be an offline tx, is that correct?
Is it normal for `withdraw nonce account` instruction to be `Unknown Instruction` on solana explorer? It does what I want it to do but the display is strange.
https://explorer.solana.com/tx/36J9aAaWPmuhBhyabPNxG4xeyuq5NjcLRWrRkhsMnwE8Dp9FJFmura5dtFAGKzgRWCyPMBBsM58dknVdv2c4ZHm1?cluster=testnet
getAccountInfo is giving complete data. But if I've 10 records in my account, I want to get only one record based on the ID of the record
are you using https://github.com/metaplex-foundation/metaplex-program-library/blob/master/token-metadata/program/src/instruction.rs#L289 ?
you mean you save some data in your account and you want to retrieve it?
if yes, you can use getAccountInfo to get the data back
but it is a byte array, so you need to deserialize depends on how your program serialize it.
I don't think you can use a PDA to pay gas but you can use it to pay rent.
maybe try https://solana-api.projectserum.com
the error means a node hasn't caught up.
hi, is there some guild  how  to  create  a  archive mode node without google big table. ?
I've been seeing a lot of errors recently when using the `spl-token` cli tool:

```
error sending request for url (https://api.mainnet-beta.solana.com/): connection error: Connection reset by peer (os error 54)
```
And this is the other:
```
 RPC response error -32005: Node is behind by 210 slots 
```

Any ideas what could be wrong?
can I use a PDA to pay the fee of a txns or CPIs?
Hello everyone,

How can I get a record by it's ID?

Example I'm saving one record as:

{
id: 123,
name: 'Pavan'
}

Now how should I get a record by ID? in this case, I want to know the name by id which is 123
Hi, I have a question - I have a mint, which is PDA from my account owned by token program.
Now I'm trying to create account for metadata as a PDA from mint+'metadata'+metadata program, ownded by metadata program, but there is missing signature for mint.
How can I do it / what I'm doing wrong?
could I ask why anchor deploy keeps failing on devnet ? 
```
Error: RPC request error: cluster version query failed: error sending request for url (https://api.devnet.solana.com/): operation timed out
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
Why is that happening?
Guys, I have git cloned solana git code (the blockchain) to run tests and get used to how it wors but, everytime I run cargo build and cargo test I always get stuck with an error of linking with ' cc' failed: exit status: 1 = note: collect2: fatal error: ld terminated with signal 9 [Killed]
Why can't I find my transaction hash after a while?
I noticed that the free official solana mainnet nodes are kind of slow, and some rpc calles are even forbidden. Same goes for the project serum nodes. This is understandable, since they are free. Now, if I host my own node for my client accessible dapp, there is nothing preventing the users of that dapp to figure out my own hosted rpc nodes address and use it in their dapps too, possibly lowering my dapps throughput? Can I secure my node so it only works with my dapp?
it doesnt make sense that it just add only 1 or 2 SOL nothing else via solfaucet... im so confused
Guys is someone able to tell me why when i create wallet on DEVNET -> Everything is set up corectly config etc keypair. When i do solana airdrop 5 for example  i got this " Error: airdrop request failed. This can happen when the rate limit is reached." But when  do solana balance i got 0 SOL üòÑ 

On Sollet.io same 0 sol ->  and when im funding balance through https://solfaucet.com/  i can fund only 1 or 2 sol otherwise it doesnt apply transaction pass but sols are not added 

any idea what im doing wrong?
I have created a mint account using spl_token program(spl-token create-mint --mint-authority ...), now I want my custom rust program to be able to control transfer of token from one token account to another token account. How can I achieve this? or is there any existing example.

Currently, I am trying to create associated token account using my custom program's pda, so that my program should be involved in signing. Is it wrong way of thinking?
is there an accurate implementation of checked_pow that works with fractions?
ie default compute limit (200k) costs 500000 lamports, if I request an additional of let's say 300k, how much is the txn fee ?
appears something with the request is wrong or invalid, depends on whats being requested.
when posting code use links, or copy the physical code is small and paste in code blocks.

here is json rpc api docs:
 https://docs.solana.com/developing/clients/jsonrpc-api
{"jsonrpc":"2.0","error":{"code":-32602,"message":"Invalid params: invalid value: map, expected map with a single key."},"id":1}
code screenshots are generally not favored here.  if its not too many lines pasting some code within code blocks, or using a link to paste the actual code to is.  
in addition, it helps to describe the problem or error your getting .. when asking what the mistake or problem is
where i m making mistake
There's a new feature proposed for this in SPL Token 2022 (not shipped yet): https://github.com/solana-labs/solana-program-library/pull/2912
But currently, not possible
i tried to solve this since yesterday, so silly
we've all been there üòâ
look into the freeze/freeze authority..   `spl-token freeze`  I dont recall all the details however and not sure if it will give you the control you seek.
god
im running two apps, BE and FE. My FE is still connecting to devnet
u know what
stupid me
Hi, in spl_token program, we can create mint with mint-authority, how can we restrict transfer of token from one token account to another token account(just like I am restricting creation of mint using mint authority) ?
when you set your connection object in web3, what does that look like
if your making calls to a program of your own you need to make sure its deployed to the validator.  also depends on if your using anchor from the client, etc.  can be lots of things üôÇ
localtestvalidator is running

all i can say is make sure your local test validator is running,  and the actual connection object is correct..  but if it was not you should probably get an error related to that..
hard to help with no errors, and no code.
ok maybe something wrong in my js code, ill try to fix it
longggggg code
hm, code is complicated
and what does your code look like?  can use pastebin or some code paste link if you dont have a github/gist and the code is more than a few lines.
server code
im running from nodejs
are you running this from a test file or a web browser?
yes
that looks like creating a token (mint?)
but my js code works perfectly in devnet
does it means maybe something is wrong with my js code?
but when i send trx from javacript i didnt get anything
i got this in solana logs when sending trx from CLI, it means it works right
no error
what error are you getting?
i was responding to arbaz on that, u seem to have opposite interests
not when im sending from web3js tho
but when i send transaction from cli it works!
but really its not very common to just use CLI to actually construct a transaction,  generally at least a script or client is run, with a language like js, python, rust, etc.
oh u meant that, im doing it from web3js
ok i check
for CLI and JSON RPC CURL, you can check out these as a reference, and you can use commands like this:
https://spl.solana.com/token
already change it to localhost:8899
im trying a simple createAccount but it wont work
how to send a transaction to the localhost?    you just point to localhost with your connection object, when setting up your RPC connection end point.  What client are you trying to use?
how can i make transaction of solana from cmd  without web 3 ???
just ask the questions. üôÇ
üëÜ 
for errors it depends what they are, but metaplex discord is probably your best bet
for rate limits, it means the calls your making to the RPC/URL your calling have limitations and you probably want to find alternative RPC providers (genesysgo, quicknode, runnode, figment, etc)
https://discord.gg/824qj893
1. https://realms.today/realms
2. Check in <#937905165074300999> for a link to the metaplex discord server
Hi guys I have 2 major questions,
1. How does one code a DAO on the solana chain?
2. I'm trying to do a candy-machine v2 tutorial but I'm unable to upload my NFT, it either keeps erroring out or I get rate limited.
Any suggestions ?
in*
anyone know how to send transaction localhost? (solana-test-validator)
i already read it question comes after reading docs !
the docs are free
i have many questions about solana transactions and testing any one free to disccusing  on this topic ???
Can someone help me on how to extend this to store multiple candidates information?
I extended this from example-helloworld
Here is my code: `https://github.com/pavanelthepumisc/solana-hello-world`
Now I'm able to store one candidate information. How can I extend this to store multiple candidates?
I want to store candidates information in Solana
Here is my requirement:
No... the _nonce account_ can only have one authority. That it signs is required to advance the nonce. Any other signers are irrelevant to the advance nonce instruction, but may be relevant to others
that example is now very stale (and archived). reviving it would take a bit of work, but might be a fun exercise
Any idea?
I'm trying to run `https://github.com/solana-labs/example-tictactoe` example give by solana

But I'm getting this error on running `npm run build:bpf-rust`:
üòÑ
i just want to impress my community
please dont judge me im neither python nor blockchain dev
ayeee
Are you suggesting there can only be one signer(authority) in a transaction? For the  create nonce account transaction(instructions: create account and initialize nonce account), I need two signatures to make it works. Would you point out which part I got it wrong? Thank you.
lmao, it magic keys out of json too?
'secret_key': secret_key.decode("latin-1"),
i decoded it like this
because when i store the key in json
sender = Keypair.from_secret_key(account['secret_key'].encode("latin-1"))
i had to do this
appreciate the help
sorry for wasting your time guys
oh my god that was it
but maybe i need to use some specific encoding?
it asked for 32 bytes raw secret key
i did encode, because without it they secret key couldnt be read
sender = Keypair.from_secret_key(account['secret_key'].encode())
and it is not my wallet's public key
i tried printing the public key
waiiiit i think my secret key does not get encoded correctly!
It doesn't seem like you understand the roles of the transaction components.  I suggest you spend some time with the docs and cookbook
No it can only have one authority
Yes I understand but the nonce account doesn't have to be authorized by all the signers in order to be used in a transaction right? it only has to be authorized by at least one of the signers?
fuckin' hand holding languages ü§¶‚Äç‚ôÇÔ∏è

But not serialize
RPC send tx fills it in
that is not an optional parameter
okay thank you very much sir
I‚Äôll try to reproduce it locally give me some time
ahh sorry about that
okkkk
Hey, I saw your DMs and your prior two questions here ‚Äì I don‚Äòt know but try checking google I think it knows the result üëç
"error: transaction recentBlockhash required"
thanks but then it seem like i need to fill the optional variables too
Of course
-ps is uh postscript(?) output
<@!803824233096282142>  how simulate transaction of hello word i m new in solana
I only use -pr
ohh what‚Äôs the s flag
I got this üòâ
`xxd -r -ps <<<'hex string' | base64`
Ah sorry still not awake
gonna make me bash it into base64 eh?
If any instructions' required signers overlap, the only sign once
print(tx.serialize_message().hex()) <@!263967078346653697>
all required signers must sign the transaction
i have no idea what you're asking
There are some restrictions; advance nonce ix must be specified first, can't be used twice in the same slot, etc
if the there are two signers in the transaction, it only needed to be authorized by any one of them?
and honestly i have no idea how to dump serialized transaction üòÑ
im not
yes, the nonce authority must sign the transaction
okay let me try
I have another question about nonce account. For a transaction to use the nonce in a nonce account, the nonce account has to be authorized by one of the accounts involved in the transaction or by one of the signers? Are there any rules for a nonce account to be used in a transaction?
Actually, just dump the  serialized transaction to base64 and paste it here
Are you specifying a third party fee payer?
...
but it should already be, since my solana_client is on devnet
maybe in the transaction part i need to write somewhere that this is a devnet operation?
yeah i have funded both :<
Error: Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed. Check signature (long tx hash)

what's the solution to this ?
Well the recipient needs to be funded too. Not only the sender. If That is already the recipient, I have no idea. Maybe a bug in Solana-py, haven‚Äòt used it myself yet

<@!803824233096282142>
this works

yeah
From the python code?
no its not i can check my balance
Call get balance and see if it‚Äòs zero
wherre i need to simulate my transaction ??
how can i check that?
Probably you‚Äòre connected to the wrong RPC node from your python code
you can write test for your program https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/tests/lib.rs
if you use anchor, you can also use anchor test
simulateTransaction() !!!
how can i test my transactions in solana ???
error comes from here
i think they want some dev tool, but I have no idea what a terra station is

gist your code so that I can take a look
You can move your funds between Terra and Solana using the Wormhole Token Bridge
yeah so then support like that any thing so this is my question ???
Solana smart contracts do not support Terra Station
Check for typos maybe? What is the command that creates this error?
i m on same but this question is about solana
I think you are in the wrong Discord sorry
Hm weird I‚Äòll take a look later <@!263967078346653697>
only one piece of history, that i have funded the acccount
this is the explorer
https://explorer.solana.com/address/Eqo9Q79BuEz1D4fXmHQYheZp334vhU92HcAioiyHzKUG?cluster=devnet
i just want to check my transaction works or not where i need to test it
<@!803824233096282142>
can you answer my question ???\
like funding
all other functions work
but i am on devnet for sure
it didnt copy paste correctly
solana_client = Client("https://api.devnet.solana.com")
Could you check both in the explorer? Wrong network maybe?
im having a problem sending funds to other account
error: {'code': -32002, 'message': 'Transaction simulation failed: Attempt to debit an account but found no record of a prior credit.', 'data': {'accounts': None, 'err': 'AccountNotFound', 'logs': [], 'unitsConsumed': 0}}
its devnet
and both accounts have some fake SOL funded
can anyone know how to test my smart contrct like we test on terra staion or maybe like cmd or another way ???
I see. I found the silly bug and fixed it. It works now. Thank you everyone.
üêê
THANKSü§©
keep the change
Thanks man
6yTSgCFwriiJsC4G24yEPU6zmeq9h6sVz62PJpzF7R8R
üôÉ what's your devnet address?
$10 for each 100 devnet sol
I‚Äôll buy with real sol for the favor
Can anyone here do me a huge favor and send me 100-200 sol DEVNET??
gist your code
signatures have nothing to do with it
yes I did. I am checking my position of my signatures in the array.
FYI https://solanacookbook.com/references/offline-transactions.html#durable-nonce
Are you flagging the transaction as using durable nonce (first ix is System::AdvanceNonceAccount)?
I keep getting `Transaction simulation failed: Blockhash not found.` üòõ
never try, but basically it work I think.
durable nonce is a system, when you use nonce account's nonce as recent blockhash and put advanced_nonce instruction as the first instruction you trigger it.
Hi. May I know if it is possible to use durable nonce from nonce account to initialize a new nonce account?
you can set program's PDA as a mint authority so that only program can mint the token.
then when someone wants to mint token you check the supply in your program.
I want to mint 100 token so how can i set program to mint 100 token only.
Unlimited I think
Like over 4000
Impossible to get alot, right?
Works
CLI airdrop doesn‚Äôt work ?
You can find a faucet on web and airdrop 5 SOL and switch to lower every time. (5-2-5-2-5-2 etc..). You can do it in like 10 minutes
Need for testing
Is it possible to collect 200+ SOL on devnet?
Guys
I will consider this and empty meta. Thank you for your help.
I was thinking it might be less of a PITA to import multiple versions of the solana crates, then fuzz the compatibility breaking slots
iirc, we launched mainnet with this version: https://github.com/solana-labs/solana/releases/tag/v0.23.8
so, roughly:
1. Modify the source for that version of solana to support the transaction metadata
2. Get the ledger archive for epoch 0
3. Reprocess (2) using `solana-ledger-tool` from (1)
4. Run a validator from (1) that enables RPC and read the metadata out, or write more custom code to extract the metadata directly from the ledger
You're probably looking at months of effort if you're not very familiar with the code base from early 2020
Thank you <@!445425471027544095> .
"1. a bunch of work that you'd need to do" can you list them for me?
1. a bunch of work that you'd need to do
2. accept an empty meta in whatever system you're trying to import into
is there any workaround for this case?
or not without a bunch of work
right
so that means we can't get the status of old transactions, right?
Some of the older blocks don't contain any meta.  Mainnet was literally launched before that feature was added
hello everybody, i'm using web3/solana to fetch block from the main-net. Normally, when i getBlock from recent, like '124259637', it will return the meta object which has the "status" of the transaction and "logMessages" inside "meta" object. But when i getBlock with slot = 1, it returns no meta. How can i get the transaction's status in this case?
Was curious about this message: https://discord.com/channels/428295358100013066/689412830075551748/951256404277198919 and hoping this is a better place to discuss... If not, what is the right place to discuss?

And the main question I'd like insight on is, what is the alternative method suggested by the Solana team to e.g. snapshot a mint hashlist for metaplex NFTs if gPA is more or less verboten? I have asked around a few other places on this (and looked at some other tools / repos for examples) and yet to get a viable alternative and without one, this feels a bit like a classic "you're holding the phone wrong" scenario...

I understand gPA is considered harmful, but I feel a bit at a loss as to what to do with that response if there's no alternative? Would love to do something less intensive for the network if there is another option.
Ok thx üò¶
Create an issue on the repo.  No one here supports it
When I want to push my token to solana-labs/token-list I always have this error and I don't understand why.. The structure is good
When looking for developer roles, do they usually require leetcode style algorithm questions? Or do blockchain interviews usually involve more about experience developing?
Awesome !!!, Thank you so much !!!
Some examples here: https://github.com/cqfd/quidproquo/blob/main/programs/quidproquo/src/lib.rs
the anchor syntax
Can you say more about what you're confused about?
So just as you're passing in the mint, you need to calculate that same associated token address on the client, and pass it in as an account
Right, you still have to pass in that associated token address (despite not having made the account yet)
i'm definitely struggling with understanding how to implement cpi.  Is there a tutorial for understanding it better in the context of anchor?  I've read the anchor book.
Yes cqfd, I have passed mint account to invoke, but there is no associate token account created yet by me, I have simply tried to obtain associated token account address using line:89
Should I create associated token account before calling the invoke ?
Got it
Yes
They're the tx fee payer (right?) so they need to sign
Infact we need a sign when we need an element to leave the wallet of this sign, right?  No need for the user to sign if they only receive, but must sign if they give something
Sure!
Thanks you so much for your help <@!134416332509675520> ‚ù§Ô∏è
Or use this yes. ü•≤
You can create a Socket or a cron task who call an endpoint every X time.
And if you use React with Apollo, you can call an endpoint when you want
You can use `connection.onAccountChange(theAddress, callback)`
does anyone know a way to automatically update an account on javascript by listening to the solana for changes?
You need to submit it as an AccountInfo too in that invoke call
Did you actually pass in the associated token as an account from the client too?
Yes I don't know why but, signTransaction = one popup, send Transaction an other one.
Reminder, we said we only have 1 signer and we need 2. So we need to sign in frontend. And we can't sign and then send, because 2 popup (bad user experience and no work i don't know why)
Ok so, when I use invoke function, I ma getting "ERROR :: An account required by the instruction is missing"
Wonder why doing `sendTransaction` didnt' work (tried finding the source to look through, didn't see anything super suspicious)
Aha, sendRawTransaction, cool!
You don't need to use your own seeds there, you can actually just used `invoke` (you can't sign for the associated program's PDA, since that's a totally different program)

I GOT IT LET'S GO
Hi, I am trying to create a an associated token account in rust program, but I am getting "ERROR :: Provided seeds do not result in a valid address"

What 's the correct seed expected ?
Mm, interesting

Right, just call signTransaction on the tx, rather than sending it
Btw with the deserialized tx I have "true"
I can't sign without a tx inside
If you try just signing with the wallet (like we did above, not submitting the tx), and then call `theTx.verifySignatures()`, what do you get?
I need to find a way for idk what
So
Yep like I say, both are good public key
Ok, that seems right since the user is supposed to be the fee payer
Ok so. The first signer is the user signer (the connected user). The second signer is the wallet who have all spl-token
DM me if you want one üòâ
okay awesome! Thanks for the reply!
Skids.
I cant get any transactions through. Anyone else?
I need to check how yes. Wait a minute
That seems ok, right? Can you confirm that the first one's publicKey is indeed your phantom wallet's publicKey?
I need to maybe confirm something or I don't know for finalized this freaking transaction lmao

So when I use signTransaction with the deserialized transaction, I have a final transaction with my 2 signers
Lmao, can somebody ban this dude
You think those are different in terms of backend?
üò¶
I. Don't. Use. Smart. Contract. 10 times. I use Solana Javascript modules.
Yeah, confirmTransaction isn't what you want
ah, kk.  `--fund-recipient` but not `--allow-unfunded-recipient`.  This'll transfer the WL token but require that the receiver hold SOL in their wallet, which they'll need to mint with anyway
Do you mean that you want the RECEIVER to see SPECIFIC parts of your smart contract?
I am. Always. I wanna try to confirm the signed transaction but confirmTransaction want a string transaction. Mmh
"The frontend won't show what happened in backend"
Are you going to pass me your code so I can judge on my own or we're going to play wack a mole here?
Lol, ok, let's stay focused.
Okey thanks for your help
Nothing.
Nothing, you, say, makes, sense.
I am not going to read all that nonsense, I coded 8 crypto wallets so far.
sorry, whitelist for a Candy Machine
What's a WL token?
<@!788621241040371732> The thread begin here
Actually delete that, you are blocked.
You sure I'm the confused one?
What's best practice for this (or would you recommend) for an airdrop WL token. Token is just for access not a free mint
From being confused
Break from what?
Please take a ten minute break to reread the previous bunch of messages lol
Are you just learning?
Is this a tutorial?
Like it doesn't make sense to me.
Again you keep saying that, how is it  even possible for the frontend to display or do something the backend doesn't allow.
`--allow-unfunded-recipient` -> this is intended to prevent a transfer to a bad address
`--fund-recipient` -> if the recipient doesn't have a token account yet, the sender can chose to pay for it with this option
Serialize it from backend, send to front, deserialize it and try to use it
Send me your entire code plus the private parts.
Can you send me your code really quick, you keep posting different parts.
Look look just.
Sooo, you use web3js.... and you tell me you serialized it but you can't use it?
Btw, we are very close. I feel it
https://solana-labs.github.io/solana-web3.js/
Lmao
I never heard of such thing, serializing it and being unable to sign it.
What thread?
Send me your library a bit.
Wth is going on with solana.
Dude, read the thread
That's impossible with smart contracts.
How did you serialize i without knowing how to sign it and execute it?
Can anyone clarify what the difference is between these two options for "spl-token transfer", this is for a CM2 whitelist. 
--allow-unfunded-recipient    Complete the transfer even if the recipient address is not funded
--fund-recipient              Create the associated token account for the recipient if doesn't already exist
They are not sir ! We are close with <@!134416332509675520>. We have serialized the transaction and send it to the front. I just need to find the solution for sign/execute it
The client-server slide smth is off with it.
Who do you send all that to?
I'm so confused.
Why is RPC included now.
And you told me you used a library why are your arguments different than the library?
Also why do you use buffer.
Yes.
When I use signTransaction, I have an other transaction. Maybe I need to found a method like "confirmTransaction" ?

The error should come from a signature fail maybe
This one
Which error?
What do you mean by the same error?

The problem can come from the blockhash ? In the transaction I send the latest
I mean sendTransaction(theTx)
And I have the same error above if I try to send the desirialized signed transaction lmao
No error ü•≤

And then see what happens if you try to do `theTx.serialize()`
So just sign, don't actually submit it
Yeah
signTransaction with the deserialized tx inside ?
I'm curious if you get a better error
If you just call `signTransaction`, what happens if you then subsequently try to do `theTx.serialize()`?
I have this. So im pretty sure I only need the sendTransaction method
üò≠
Doubt it
So don't need the option ?
Don't need the private key of the user, that's what asking phantom to sign does
Did I need to use the option ? Idk how because I don't have the private key of the user
Dk if its enough
I only do that actually
Yup
That's it?

What does your console say?


Ok we are very close. When I send the transaction, the popup launches and I have my :

+1 token in green

But two problems:
1) I don't see that the user has to pay the fee
2) The transaction fails
Yeah your closed
Can't remember the frontend wallet API
Can you do something like `wallet.send(theTx)`?
Yes yes I have access to it, ReactJS with wallet-adapter-react
Do you have access to phantom etc.? How are you doing your frontend?
I'll check how
ü•≤
Now go ask the user to sign it etc
Yep I have a Transaction
Ok, now do
```.js
let deserializedTx = Transaction.from(thatBuffer);
```
Oh my bad yes ofc. Its a Buffer now
You'd need to send `let serialized = tx.serialize(...)` and send that
Are you sure it's not? `tx.serialize` for me returns a Buffer
Mm, pretty sure it should be lol
It should ?
Nein
Ah, is it not like an array of bytes?
Like you told me haha

How did you serialize the tx on the server side?
Ah, I'm actually not totally sure how to do that just based on that object, but yeah
(I use wallet-adapter)
Now I suppose I need to deserialize it, add the second signer and confirm the transaction
He is here
Ready

Now try sending it to the client üëÄ
50% of the job let's goooo
Hell yeah

Oh I have a transaction now
Ok, cool‚Äîat any rate, tell solana to chill and not freak out that they havent' signed yet
They need to sign too, so you'll have to do
```.js
transaction.serialize({ requireAllSignatures: false })
```
The user pay fees no ?
Why is the feePayer the toWallet?
ü•≤
Error: Signature verification failed
Ok, try what I wrote above
Yes its this wallet
The source of the tokens that will wind up in the destination account üòõ
It's the token account whose balance is going down
What is source account ? fromWallet is the wallet with each spl token
Source means the source of the tokens you're transferring (to the `destination` account)
(Assuming fromWallet is the owner of the source account)
The call should be `createTransferInstruction(fromtTokenAccount.address, toTokenAccount.address, fromWallet.publicKey, LAMPORTS_PER_SOL)`
You don't need to update or delete anything
What does source mean for example etc..
I tried but I don't really understand what I need to update/delete or something else
Really encourage you to jump to source on that function, it has extensive comments above its signature
Right, it's implicit in the source/destination accounts
You told me I don't need to specify the spl-token in the transaction
What do you mean?
How can he know which token to send then?
Use type signatures/hop to source üßò‚Äç‚ôÇÔ∏è
Don't use examples (lol)
Idk too.. In each example I see I understand like this
The latest version of the jS spl code doesn't require you to pass the SPL token program_id at all
Are they different? I don't understand what you're doing there/why you need both

TOKEN_PROGRAM_ID come from <@!893467316564676698>lana/spl-token and SPL_TOKEN is (screenshot) my spl-token
Yeah, I get what you're trying to do‚ÄîI think you're at least partially just calling that function incorrectly
Why is TOKEN_PROGRAM_ID the first argument? And what is SPL_TOKEN?
Basically I'm trying to prepare a spl token transfer transaction by signing it with my private key in the backend, serialize it and send it to the frontend to deserialize it and I don't know what to do with it yet. But basically I want the transaction to be displayed in the user's wallet with the popup
The order of the arguments is supposed to be source, destination, owner
I am confused too. The further I go, the less I understand what I'm doing. The theory is simple but I don't understand why no one can help me lol as if it was unique when I have already seen it concretely. Btw yes I use the latest version
Are you using the latest version of the spl library? I'm confused by the arguments you're passing to that createTransferInstruction call
Do you know about that ? Error: unknown signer: mywallet
I don't know hot to help you, this makes absolutely no sense.
I do it all the day ü•≤
Check the API that connects to the chain. <@!857917486237220874>
Wait.
And when I wanna try to serialize the transaction I have this error : Transaction recentBlockhash required
Something must be off with your backend no other explanation.
Never heard of your situation before.
That's the tricky part. Normally the transaction should be prepared and pre-signed in the backend, serialized and sent back to the frontend. On the front we deserialize, add the second signatory (the user) and it's supposed to work. In theory
You did something super strange here.
Okay and how does the button shows off the private key exactly?
So you are using a react library.
It's not a smart contract since I'm sure we can do it without. I've seen it before but I don't know the developer. It's just a simple button in React and when the user clicks on it a transaction is done to receive the token
Is this a wallet, or you do a smart contract on the chain?
That's one issue, secondly.
Absolutely no idea how you managed that.
For starters, I never heard of any blockchain development that shows your private key by default.
What ?
Display none?
Idk if im clear
I could make do with my script that airdrop and finished. But I'm detail oriented and want complete transparency. Moreover, with the airdrop script, I pay the transfer fees. But it's the user who should pay it
Yes, I want to do a spl transfer.

What I want is that this transfer is visible to the user. What I mean by that is, for example, like when you mint an NFT. You click on the mint button, a transaction appears with marked :

- X SOL
+ 1 NFT

The idea is to have the same thing, except that instead of NFT, it is the token. Except that in any case, I need the private key and it's obvious that I can't put it in front. So I have to couple a back + front script. And I'm stuck on this
Ok wait
fzeezgbe√†zg
The transaction?
It doesn't show on the chain?
Wait.
You want the script to transfer a sol token?
But the user "don't know" it
You get a backend error despite copying a correct script.
Transfer the spl from -> to
Script 1 use this method
Alright alright, let's take this from the beginning.
Idk what I am doing bro lmao I have my script 1 working, I just want to try to make the transaction visual via Phantom rather than just a script that stupidly airdrops
Then why do you get a backend error?
So you just want to connect the code you written to the frontend?
I just want the user to have his Phantom popup appear with marked +1 token, validate it and receive his token. That's it.
What do you mean "frontend execute it"?
Everything is executed on the chain, the backend gives the instructions the node js does the connection to the chain.
What do you mean "execute it on the frontend".
Wait.
Seems like a common issue in the solana network.
https://github.com/VegetarianOrc/sol-nft-staking/issues/2
To put it simply, I'm trying to transfer a spl token from my account to a user's account.

I have a working Script 1 that does this through the backend. Except that I want the user to see the transaction in the popup of his wallet (phantom/sollet etc..). So I try to find a solution to prepare the transaction on the backend with the private key, send it to the frontend and execute it on the frontend
https://docs.rs/solana-sdk/1.7.14/solana_sdk/transaction/enum.TransactionError.html
Maybe it's a language issue, it doesn't seem to be a blockchain development issue.
I really can't imagine what you did wrong.

Which library did you use to connect to the chain?
Private key one authorizing transaction for public address 2
You need to automate what this guy is doing above.
What do you mean solana program, you mean a script that transfers funds?

That's my point.
Where is it then in your json?
fromWallet have public and private key
Something has to verify the transaction.
Here
Did you hide it or did you forget to put it?
<@!857917486237220874>
Where is the private key for the sender.
Wait a minute.
Yes. How do I authorise the Solana Program to deduct from Wallet A (which I had created) and transfer the tokens to another user's wallet?
Its all data I tried to send to the createTransferInstruction method
I can't tell clearly.
Or an object?
Is that your JSON?
Is that all?
So a smart contract?

Hi team, 
Is there some documentation to demonstrate how I can programmatically transfer custom SPL token from Wallet A (which belongs to me) to Alice(user) wallet when certain conditions are met (for example, when Alice answered a quiz correctly, she will be awarded some custom SPL token)
Your syntax looks fine.
Is the only thing I thought of.
The best way to find which one is that is through JSON.
Something on your object has some form of data that makes no sense.
__**: Transaction loads a writable account that cannot be written.
**__
That yes cause.
Not only that.
You wanna see the value of each data ?
Try it and tell me what it shows. <@!857917486237220874>
On an IDE.
And run it.
For all the objects.
Make a json.
Then it makes no sense.
Its my spl
The syntax seems perfect to me btw.


SOL token.
SPL token.
Also you got a syntax error.
Ok I got it when you mean JSON lol. I use the solana web3/spl-token module
Mind you I am pretty certain not entirely though, this makes no sense for node js.
Yes, I import createTransferInstruction from <@!893467316564676698>lana/spl-token and Transaction from <@!893467316564676698>lana/web3
You just try to throw requests to the solana network?
Only node js?
You didn't use JSON?
Wait what.
Show me the libraries you imported.
I don't have any JSON ü•≤
Yes I don't understand this error
Can you show me your JSON?
Component I mean the JSON.
Yes but its not a component, I use it in NodeJS atm
: Transaction loads a writable account that cannot be written
Did you import them correctly?
Are the components defined in your object?
In your case we don't need private key ? ü§î 

I wanna test to create the transaction in backend, but when I send the transaction i got this :
SendTransactionError: failed to send transaction: Transaction simulation failed: Transaction loads a writable account that cannot be written
Or at least resources for it?
Not a crypto exchange real time API.
Anyone has any APIs that provide real time data by analyzing all the blockchains/ parachains/ side chains/ miners nodes/ not just fund transfers?
Mmh I will take a look. Thanks you
front end examples for this are in the cookBook my friend. 
https://solanacookbook.com/references/basic-transactions.html
I think my logic is bad if nobody can answer :/
right now the only ecosystem generally adopted solution is the github token-list, but this is going away soon. until then. that is the way. https://github.com/solana-labs/token-list
Hey guys anyone know an easy way to edit a tokens metadata? for fungible ones
<@!489206164270350337> Do you have an idea sir ?
in some cases, without knowing how much the fee is, it can be difficult to calculate how many lamports you will want to send (example being if I want to sweep all funds from one address to another)
one other note on this - it is often necessary to know the lamportsToSend before creating the Transaction object
transactions are generally 1 at a time, and can contain multiple instructions.  batching instructions is something you would have to do yourself, and or might be supported by the wallet in some way, but each one is separate anyway.   it would be no different than sending multiple transactions yourself.
Accounts. Close all accounts
not sure where step finance is doing this, but u may want to ask them üôÇ
I should have at least the first part done soon. Trying to wrap up some changes and I'll be submitting a PR.
<@!671621352553316352> is working on it and you can see some of the work above https://discord.com/channels/428295358100013066/517163444747894795/951228582779310111
You can use `compileMessage()`
do you know how to go about getting the Message from Transaction as mentioned in that issue?
I even reported it as being helpful üôÇ
Hey, that's my issue
this would be helpful, <@!489206164270350337>
https://github.com/solana-labs/solana/issues/23491
feeCalculator is being deprecated in 1.9
what is the difference between `getFeesForMessage` and getting the fee from feeCalculator?
Now it's a challenge for me. Understand how step.finance sends an array of transactions in a single tx.
Any idea ?
yeah definitely want to move away from the hardcoded approach
right, into a single transaction.
concat all instructions into a single tx
did you read this?   what does it say it does.
https://github.com/solana-labs/solana-web3.js/blob/8ee1be4/src/transaction.ts#L178
```javascript
  async sendTrasaction( transaction: Transaction, reason?: string ) {
    try {
      const signature = await this.walletAdapter.sendTransaction( transaction, this.connection );
      if( signature ) {
        this.toastService.show(`Transaction sent`, { tx: signature, description: `Your ${reason} has been sent.`,classname: 'bg-success text-light', delay: 10000 });
        let result = await SolanaUtils.getTransacionStatusUntilFinish(this.connection, signature);
        if (result === 'success'){
          let description = `Your ${reason} has been confirmed.`
          this.toastService.show(`Transaction confirmed`, { tx: signature, description ,classname: 'bg-success text-light', delay: 10000 });
          let resultFinalize = await SolanaUtils.getTransacionStatusUntilFinish(this.connection, signature, 'finalized');
          if( resultFinalize === 'finalized' ) {
            let description = `Your ${reason} has been processed.`
            this.toastService.show(`Transaction processed`, { tx: signature, description ,classname: 'bg-success text-light', delay: 10000 });
            await timer(1000);
            this.ngOnInit();
          }
        } else {
          this.toastService.show(`Transaction error`, { tx: signature ,classname: 'bg-danger text-light', delay: 10000 });
        }
      }
    } catch (error) {
      this.toastService.show(`Transaction error`, { description: error, classname: 'bg-danger text-light', delay: 10000 });
    }
  }
```
yes, another method
last line sendTrasaction instead of Transaction. Its normal ?
Yes ok I found this and its work on backend. But know, I just wanna transfer from react. The user want to have his wallet popup for see the transaction.

Actually, only on backend my code works and I can send an SPL token from my account to an other
```javascript
async closeAllAccount(){
    if(this.markets.length) {
      let transaction = new Transaction();
      const finalTransaction = new Transaction();
      let totalLamports = 0;
      let transactions: Transaction[] = [];
      let i = 1;
      let count = 0;
      for( const openOrder of this.markets ) {
        if ( i == 10 ) {
          transactions.push( transaction );
          transaction = new Transaction();
          i = 1;
        }
        const instruction = await SolanaUtils.createCloseOpenOrderAccountSerumInstruction({
          programId: Constant.SERUM_PROGRAM_ID_V3,
          openOrderAddress: openOrder[0].address.toString(),
          openOrderOwnerAddress: openOrder[0].owner.toString(),
          destinationReturnSolAddress: openOrder[0].owner.toString(),
          marketAddress: openOrder[0].market.toString()
        });
        transaction.add( instruction );
        totalLamports = totalLamports + openOrder[1].LAMPORTS_BALANCE;
        count++;
        i++;
        if(count === this.markets.length){
          transactions.push( transaction );
        }
      }
      finalTransaction.add(transactions);
      finalTransaction.add( SystemProgram.transfer({
        fromPubkey: this.walletAdapter.publicKey, 
        lamports: ( totalLamports * Constant.PERCENT_FEES_CLOSE_ACCOUNT ) / 100, 
        toPubkey: new PublicKey(Constant.SOLANA_LANADEX_FEES)
      }));
      console.log(totalLamports);
      this.sendTrasaction( finalTransaction, 'Close All Account' );
    } 
  }
```
link to the code..
I don't have a way to send you a link, since I can't send the transaction because I get the error I mentioned.
link to it
```javascript
    add(
      ...items: Array<
        Transaction | TransactionInstruction | TransactionInstructionCtorFields
      >
    ): Transaction;
```
when i check the transaction.add method this accept array<Transaction>
```javascript
Argument of type 'Transaction[]' is not assignable to parameter of type 'TransactionInstruction | Transaction | TransactionInstructionCtorFields'.
  Property 'programId' is missing in type 'Transaction[]' but required in type 'TransactionInstructionCtorFields'.ts(2345)
```

i have the array, but i get a error with transaction.add(array)
My problem comes when, instead of receiving an array of transactions, i obtain transaction with 27 instructions arrives.
this is custom.  
but above u made a Transaction object, you did not make an array of transactions.
i have 27 account, which I would like to close with my front-end and not with step.finane.
i dont sent this transaction
just link to the transaction, no need to post giant images üôÇ


like step.finance
u did not make an array..  you just declared a transaction object.. right?
the instructions are too large. And I need to separate them into an array of transactions for a simple sign.
Because you're adding instructions to a transaction object?
Note: this is not the case forever. Fees are changing a bit. You can use `getFeesForMessage` to get more information on what the current fees are in `1.9.X`  https://docs.solana.com/developing/clients/jsonrpc-api#getfeeformessage
hello

I have an array of transaction.

transaction[0] with 10 instructions
transaction[1] with 10 instructions
transaction[2] with 9 instructions

when i want to make a
```javascript
 const transactionArray = new Transaction();
transactionArray.add(transaction);```

This does not store an array of transactions, but instead stores all the instructions together, why?
thanks
had previously hardcoded 5000 lamports as fee which certainly isn't optimal
can figure out the rest
feeCalculator.lamportsPerSignature will always return expected fee for recent block in the cluster?
somewhere on github lol
possibly, where is your snippet from?
something like this maybe?
that would be a great contrib
Definitely thinking about contributing to it from the security side of it and as well as debugging it. For example one suggestion is that sometimes when programs are not fully built setting test environment and accounts with data can be a pain - with https://github.com/neodyme-labs/solana-poc-framework it was possible with some ease.
trying to sweep all funds from one account to another and need to deduct fee from account balance to determine how many lamports to send
hi all - is there some way to get the expected fee amount via web3.js lib before sending a transaction?
Thanks! Missed the cookbook !
for sure.  if you have suggestions let us know.  and if you want to contribute its a great way to learn, get some cred, and help others.
Def but  the cookbook is still maturing as time goes.
Yeah. You can restore from the secret and get your keypair https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret
https://solanacookbook.com/references/name-service.html#resolving-sol-domains
Hi there, I am trying to find the easiest way to get a wallet actual address from a bonfida .SOL domains . I‚Äôve searched around and cannot find a way. Trying to basically use solana-cli to send NFT to a a .sol domain address. Anyone know how to do this? Pointers Much appreciated
is there a way to use mainnet wallets on a local validator dev setup?
concepts def help understand whats going on. by example, any program examples show how to load the accounts, and do not show examples of public keys turning into accounts. what many do tho is figure..hey i can turn this into that.  The cookbook and some other resources go over this, and the Solana docs are in depth about the technical details and implementation of things. 

Cookbook has a great section going over some big concepts.
https://solanacookbook.com/core-concepts/accounts.html

In general, just remember anything you need for a program you need to either pass in, or needs to already exist in the program.  You cannot call out of a program that goes outside the blockchain, or use it like an API.  You can call other programs from a program, but that is the extent.  Whats on chain must at some point be sent from off chain to be interacted with on chain.
The issue I'm facing while trying to develop or test is the docs are pretty much less informative in regards to stuff like this. Is there a secret community where the docs are better üòÖ. Or maybe its just rust specific on how the community has got used to it, pretty new to rust itself.
keep in mind you can do different things from a rust client and within a rust solana program.  inside the stateless nature of programs there are limitations and expectations, and in general, one of those is passing in the accounts and data you require.
okay thanks üôÇ
Trust me, won't work‚Äîyou're going to need to pass the account in from the client
is this dud?
but I'm unable to import the function from the struct
there is a struct in the docs which does it, https://docs.rs/solana-program/latest/solana_program/account_info/trait.IntoAccountInfo.html#tymethod.into_account_info
Just have to pass it in as an account, no way around it unfortunately
It's not possible in your solana program to dynamically turn a Pubkey into an AccountInfo
what cqfd said - u need to pass it in
Its a program
So I am trying CPI and trying to induce a public key into invoke_signed
You're gonna have to pass it as an account
is it a rust program or a client?  and where then did the public key come from?
are you using anchor or native solana?
AH. Wow. I'm glad to know why it wasn't working, but also frustrated that it was that simple üòÇ 
thanks!
the public key was not passed as an account.
was the public key passed in as an account to the program?  thats how you get the account info. otherwise you dont.
How do I convert a public key into a account_info struct in rust
I switched to use `recentBlockhash: blockhash` in your message on the gist and it worked üëç
this is design related. the technical resources and answers have been provided. youll need to do some research and experimentation to figure out your app & product design, and how it functions within a stateless blockchain. sounds like a good time to chew glass on app design and architecture. if you come across specific problems, or technical issues please reach out on them. we have plenty of examples.  between https://docs.solana.com/, https://solanacookbook.com, and https://soldev.app/, its plenty to get you started.
I don‚Äôt understand üò≠
If you have one side being front end using phantom, yes
And we have the popup on phantom for the transaction ?
Going to try again and see what happens.
Interesting. I did try extracting the blockhash and sending that, but that gave me a different error about message.serialize() not being a function.
Expected string, got object
You're sending the object response from the `getLatestBlockhash` call instead of the `blockhash`
Figured it out
okay thanks I will try that
That does the same under the hood
maybe try this as well
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedTokenAccountsByOwner
https://docs.solana.com/developing/clients/jsonrpc-api#getmultipleaccounts for multiple accounts at once
I think if you do https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo with `jsonParsed` encoding, you should get your info
Would I use one of the getTokenAccounts queries or something similar?
Thanks this is useful, but do you know if I can get the owner from here? I can see the addresses that are returned from the query
Reproduced error
Ah, okay. I‚Äôm assuming that‚Äôs something web3 should be exporting, though.
Unrelated error, just trying to run locally
`SYSTEM_INSTRUCTION_LAYOUTS` is not exported by web3 ü§î
https://docs.solana.com/developing/clients/jsonrpc-api#gettokenlargestaccounts
Is it possible to programatically get the data that's listed here on solscan?
1.36.0

I also wanted to mention that I can call serialize on the message; however, once I try to convert it into a base64 string it breaks. I tested that out of curiosity but I removed that from the gist.
Thanks, lets get rusty
yes
Ok so solana supports both ?
What version of web3?
You'll get a lot more support using Rust. Better tooling exists. But it is still possible in C++
Hey, what‚Äôs the best language to write solana programs ? I wanted to start learning rust but someone said C++ was better
Added gist. I basically just used the sample code from the docs for `Message`, and I added the call to `getFeeForMessage`.
https://gist.github.com/marcnjaramillo/50211396a92f46d45e3779daed4d1fad
Do you have a gist or something of your code?
Hi everyone, I'm trying to work with the `getFeeForMessage` call and I'm running into some issues. Inside the function it takes `message`  and calls `serialize` on it, then attempts to create a base64 string from that. However, when I call the function and pass in a message I get this error: 
```    
if (typeof string !== 'string') throw new TypeError('Expected String')
                                          ^
TypeError: Expected String
    at decodeUnsafe (/Users/marcjaramillo/solana/solana/web3.js/node_modules/base-x/index.js:52:43)
    at Object.decode (/Users/marcjaramillo/solana/solana/web3.js/node_modules/base-x/index.js:81:18)
    at Message.serialize (/Users/marcjaramillo/solana/solana/web3.js/lib/index.cjs.js:2248:49)
    at Connection.getFeeForMessage (/Users/marcjaramillo/solana/solana/web3.js/lib/index.cjs.js:6028:33)
    at file:///Users/marcjaramillo/solana/candy-machine-accounts/transaction.js:54:31
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
```
I'm new to the ecosystem, so I'm not sure if there's an issue with how I've created the message, or if there's something else I've got wrong. Does anyone have an idea what might be the issue?
This is for offline signing, but should have all the ingredients of signing in two places you need https://solanacookbook.com/references/offline-transactions.html#sign-transaction
You can partial sign the transaction on front and sign and pay on backend as well
This logic interests me!  I actually think that's what I need.  Do you have an idea how to do it?  front and back?
<@!768486252168216647> <@!445425471027544095> What you have so far is really impressive. I have some ideas for perhaps creating pseudo-anonymous transfers. I'll be diving deep into the `token` and `token-lending` libraries for a project I'm working on, so I look to forward to further dialogue in the future
Haven't thought about your situation very much, but you can create the tx on the backend, sign it with the wallet, then serialize it and send it to your front-end so that the front-end can execute/sign it
Any idea guys ?
<@!768486252168216647> gets all the credit here üôÇ
Thanks. I made an issue. Here's a link for any of those curious about the follow up to this issue
https://github.com/solana-labs/token-list/issues/21522
and great work so far!
Got it, thanks
The concepts, yes.  The notable exception is the work-in-progress balance changes I mentioned earlier.
No I haven't, I'll read through these. Thanks for sending. I'm assuming that what's documented in these papers is what's implemented now...
No one who supports that repository is on this server. Those who do have requested that all support be requested through issues on github
Hello I'm new here and I have a question. The official Solana token-list says a token has zero decimals, but the Solana explorer and SolScan say the token has 9 decimals. I checked the git history and the decimal value hasn't been altered. Does anyone know why they're different? Here's links to the PR and the currently displayed info:

PR: https://github.com/solana-labs/token-list/pull/12158/files
Explorer: https://solscan.io/token/674PmuiDtgKx3uKuJ1B16f9m5L84eFvNwj3xDMvHcbo7
We dont anything written down for anonymous yet
Have you seen the papers at https://github.com/solana-labs/solana-program-library/tree/master/token/zk-token-protocol-paper ?  That‚Äôll help with the design behind confidential transfers
<@!445425471027544095> and thanks a lot for answering my questions. really appreciate it
Awesome. I'd love to understand the ct implementation a bit better. I assume I should just read up a bit more on elgamal encryption, and dive deeper into the `solana_zk_token_sdk::zk_token_elgamal::pod`. Are there other resources you'd recommend i take a look at? And also resrouces you may have to understand how your team is thinking about approaching anonymous transfers?
We‚Äôd like to do that next, just want to ship confidential first.  No real eta though for anonymous
when were block times added?
always before we added block times, never afterwards
Thanks, I'll stay on the lookout...Are anonymous transfers on the roadmap by any chance?
How often is a random transaction's `blockTime` set to `null`?
Needs a `#[deprecated]` IMO.  Avoid it
That part is going to change soon actually. Currently the confidential transfer users need to read the full transaction history to figure incoming transfer amounts to their accounts. These three fields assist with that tracking.  But it‚Äôs really painful and there‚Äôs a better option that we‚Äôre working on still
What is the **ThinClient** in `solana_client` for? https://docs.rs/solana-client/latest/solana_client/thin_client/index.html In code it seems like a weird wrapper around the sync version of the rpcclient and it actually uses the rpcclient, but only allows certain RPC calls.
<@!445425471027544095> I'm also a bit confused as to why the `pending_balance_credit_counter`, the `expected_pending_balance_credit_counter`, and `actual_pending_balance_credit_counter` are needed.
I see thanks.
1 SOL = 1B lamports
anyway to know how to get the amount of solana transfered in a transaction when using get transaction in API? When 4.1 Solana is transacted it shows up as 41000000
coordinate that trust offchain somehow
I see. What would you recommend if someone wanted other trusted parties to have readable access to those encrypted fields. Without giving away the private key.
Elgamal is asymmetric, so we also include an AES version of the balance in the account for easy decryption: https://github.com/solana-labs/solana-program-library/blob/b7b76902179332b96de833a4d344e191939eb9ab/token/program-2022-test/tests/confidential_transfer.rs#L613
Great, thanks. I'll play with it locally. And looking further through the code now. It looks like it largely uses elgamal encryption on transaction data fields. Is there a utility function somewhere that can be used to easily decrypt these fields given the owners private key?
Seems wrong ü§î Let me try on my side and see what comes up
No it just returns `null`, the version is` 1.36.0`
Is there an error? What version of web3 are you using?
In essence it's really just:

```js
const krakenAccount = await connection.getAccountInfo(
    new solana.PublicKey('KRAKEnMdmT4EfM8ykTFH6yLoCd5vNLcQvJwF66Y2dag'), // Vote Key
    // new solana.PublicKey('krakeNd6ednDPEXxHAmoBs1qKVM8kLg79PvWF2mhXV1'), // Identity
    'finalized',
  )
console.log(
  solana.ValidatorInfo.fromConfigData(krakenAccount.data),
  solana.VoteAccount.fromAccountData(krakenAccount.data), // Works with Vote Key
)
```
Ideally you're just adding and subtracting balances. I know some NFT marketplaces tranfer authority on the ATA, but that is not best practice
Do you have a gist of what you're doing?
Grants usually go to people building primitives
Solang is working on some of this stuff. Same with Neon
Hi - any ideas how I get hold of some USDC from here pls? https://explorer.solana.com/address/4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU?cluster=devnet Looked around for a faucet but nothing cooking.  I see others have the same problem. Tx
Sometimes when I call `getTransaction` it returns **null** as a response. But if I try to call it again with the same signature it gives the correct response. It happens quite frequently. Anyone know why that is?


///////////////////////////////////////////////////////////////////////////////////////////////

devnet is up as far as I can tell
is devnet still down?
I think he meant in the context of whether centralized storages are supported lol
Hello all, currently having problems interacting with SolanaWeb3.js sdk. Working on Expo.
I can't use it pretty much. Has anyone had troubles and managed to fix it?

Already had to use ethers.js and expo-random in order to substitute Crypto nodeJS package and be able to create mnemonics and seed

Many thanks!
Yes it seems it was about i didnt have enough sol. thanks again
I'm not aware of any reason why you'd be able to deploy to other networks but fail while deploying to testnet, besides running out of sol, so if that's not the issue then I'm not sure
Thanks i will try again
In general you'll need 0.7 sol / 100kb of .so file, so you can check by seeing how big your .so file is
I made airdrops. I write solana balance to cli and it seems i have enough to deploy. I got errors few times when i didnt have enough
How are you checking that?
Yes i have enough sol
hey guys while deploying to mainnet i am getting invalid blockhash error have been trying since 3-4 hors
I mean, are you sure you have enough? I thought that error during deploy meant you didn't have enough sol (not positive though)
Sure
Do you have testnet sol?
I can deploy program to devnet without problem, However i get "Error processing Instruction 1: custom program error: 0x1" when I try to deploy the same program to testnet. Should i worry about my program have errors or it is testnet?
every time you cross post, i kill a kitten
I am trying to set up Octane to pay for the fees when someone makes a transaction with my custom token, everything seems to work fine (no errors) but It keeps saying "YOU DON'T HAVE ENOUGH SOL" when I try to make a transaction, (the feePayer wallet has SOL).
hey guys, how do you listen on new produced/mined block using the sdk?
and btw does it work with fungible tokens also?
export async function updateDataInstruction(
    data: data,
    signerKey?: web3.PublicKey
):Promise<web3.TransactionInstruction>{
    const dataProgramId =  new web3.PublicKey(METAPLEX);

    const metadataBuffer = Buffer.from(serialize(DATA_SCHEMA, data));

    const keysSet = [
        {
          pubkey: signerKey,
          isSigner: false,
          isWritable: true,
        },
        {
          pubkey: data.mint,
          isSigner: false,
          isWritable: false,
        },
        {
          pubkey: metadata.updateAuthority,//mintAuthority
          isSigner: true,
          isWritable: false,
        },
        {
          pubkey: web3.SystemProgram.programId,
          isSigner: false,
          isWritable: false,
        },
        {
          pubkey: web3.SYSVAR_RENT_PUBKEY,
          isSigner: false,
          isWritable: false,
        }
      ];

    const instruction = new web3.TransactionInstruction({
        keys: keysSet,
        programId: dataProgramId,
        data: metadataBuffer,
    });

    return instruction;
}
 And then sent using anchor provider
where will i get programid from then
Ok‚Ä¶ really wanted to know which direction to go forward with.. is there any channel here that can help me with it or is this out of scope for discord chat? I really want to know which direction is safe and feasible to proceed
I'm not a lawyer and will not comment on legality questions, only tech support and feasibility questions
Don't use the function. Manually create the transaction and pass to your wallet adapter
So its perfectly legal to have a centralized storage right? Just that its not in the spirit of decentralized setup lol..
which requires Signer
but before these lines there is createMint function
Some use Arweave. Others use centralized solutions. It's up to you
What is recommended way to store NFT metadata? Decentralized or centralized storage? `s3 vs database vs airweave`? Will centralized storage cause any legal issues? This is for an NFT game where updates to NFT would be done on a very frequent basis!
Got a gist or some example of your code?
There's some good discussion here that may fill you in https://github.com/solana-labs/solana/issues/13391
If you want to do `createMint` with wallet-adapter, you have to manually construct the transaction like this https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/actions/createMint.ts#L41-L50
any ideas why am i getting this error?
I try with more founds but don't works, I have 3.5 SOl
But I have seen for example, Solana mentions a fixed price curve on one of their programs, and Saber uses something like that a constant product + constant price! but I can't add pools on saber.
What adds something to the stack and what takes something away from the stack? Is there a way I can tell Rust to remove a local variable from the stack when I'm no longer using it? Is that what lifetimes are for?
Hi again! I'm stuck with a web3.TransactionInstruction that I'm trying to send to the devnet.  The printed error is the following. "Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: Failed to serialize or deserialize account data: Unknown". How should I add the account data to a TransacitonInstruction? Because I feel I‚Äôm not getting it right.
As mentioned before, you don't just decide to make swaps stable. You need high amounts of liquidity
Yes bytes

Hello guys, webservice accidentally down, somebody knows what happened please?
Hello all! I need to create and host a swap for my own custom token! and other quote token! so far I haven been able to create a pool and swap on Raydium! all good! but I need something that always maintains the swap prices stable, so my token is always worth the same! is there anyway to do this? any project? or UIs?
No versioned docs at this time
It should be set to `0.2.0` in your package. Docs are on the latest always
thanks! how do i ensure my program is using 0.2.0, do i just change the entry in package.json to 0.2.0? And where on the documentation website do i find the version number that the docs apply to?
The can happen with things like too many local variables, array slicing, etc. There's a lot of information online on bpf stack frames
The docs are based on spl-token `0.2.0`, not `0.1.8`
have you removed it from your package.json file?
Hi basic question here, on this code and the documentation...... mintA is a mint returned by Token.createMint

await mintA.mintTo(
      initializerTokenAccountA, 
      mintAuthority.publicKey, 
      [mintAuthority], 
      initializerAmount
    );

The call above has 4 params. I'm checking the documentation on mintTo https://solana-labs.github.io/solana-program-library/token/js/modules.html#mintTo

but the docs say there are 8 parameters + 1 option, not 4...  

Am i using old library code while the docs are for newer library code? Where do i find the version that the online documentation is applicable to? How should i fix this?

In my package.json...

        "@solana/web3.js": "^1.30.0",
        "@solana/spl-token": "^0.1.8",
Hey all, getting some errors when I run cargo build-bpf that I've never seen before:

`Stack offset of 4184 exceeded max offset of 4096 by 88 bytes, please minimize large stack variables`
`Stack offset of 4200 exceeded max offset of 4096 by 104 bytes, please minimize large stack variables`

I've found this, but not much else: https://docs.solana.com/developing/on-chain-programs/overview#stack

Anyone got tips for fixing this error?
Hey there, anybody experienced in Anchor may help me out with this?
most of them: i just replaced like 48 of these with 0.2.0
What packages?
some of modules in package-lock.json required version 0.1.8 of the spl token and i just replaced all of them with 0.2.0 and also deleted yarn.lock file just so it work with npm only
What was the exact issue? May help someone else
solved already, ty
Sorry,
But the other program doesn't use this address
And literally read the error message
That's how you don't get any support
Do not tag `everyone` if it is not urgent
Hello @everyone,
code: 3007,
  msg: 'The given account is owned by a different program than expected'

Why does this issue happen?
thanks
yeah but when I try to deploy the web folder to any hosting it just loads a white screen
If open source, you should be able to run it yourself. You can chat with metaplex community here https://discord.gg/NwMAer8W
The code is open source iirc
I am talking about the metaplex ui store
There make be something on your side overriding the version. Not sure, more of a package management question
When you say metaplex, are you just speaking of the programs?
At least 2.7sol is needed for deploy
So for that is strange <@!729472750934294579>
Before redeploy I have 2.5 SOL

I have these balance
0x1 error is generated at that time
Please check your wallet balance
Good day!!
I'm trying to redeploy a smart contract!!
But I get these error...
Any help?
Hi. I'm a Blockchain and DApp developer and have a lot of experience on these parts. Hope work on your Wrapped Solana project, once you have a role for me, please contact me. Cheers.
when i do that and install solana/spl-token@0.2.0 it still downloads both versions (0.2.0 and 0.1.8)
I need help is it possible to deploy the metaplex forked repo to my own server? will i need a vps or any special stuff installed on the server?
Are you talking about byte-size?
Delete the `.lock` file and reinstall your modules
when i run yarn remove
how can i remove this from yarn lock file?
ty bro ‚ù§Ô∏è
Don't at-message unless it's urgent.
Hi <@!687000627615629332>, I am in search of pool staking examples. (github repos).
Hi, just one quick question: Whats the size of average normal transaction and vote transaction? I cannot find any data about transaction size in solana explorer. Thx :)
oh sick! i am compiling and serializing the message before I pass it to the Ledger anyway, so all I have to do is skip that step and I should be good. I'll be sure to report back when I get a chance to try this out a little later today
let me check something quick, i can't remember if I'm passing the transaction or compiling it and passing to the Ledger now
Hey there. **Anchor question here (0.21.0)**. Anybody may tell me how to pass a Vec<u128> argument from the TypeScript client side onto a Rust program instruction? I can't manage to type it correctly and the test fails with "TypeError: src.toArrayLike is not a function". So far, I'm just passing a regular array like [1,2,3]. I tried with BigInt arrays too. Can't get it to work.
hmmm
FormFunction does this today with Phantom to do login
I believe you can sign messages like this through phantom with the wallet-adapter
My main use case is signing transactions using a Ledger device, and currently that works just by passing the transaction to the device
The problem I'm having is that I don't always have access to the secret key
The problem is when you're partial signing transactions
This should work in more cases that that because you're just signing a string. wallet-adapter has the ability to sign messages like this
Just want to confirm that this does work if you have access to the secret key - just in case anyone else comes across this issue
Let me know if there is anything else I can do to help, or if there are any solutions I can test in the mean time please!
https://github.com/solana-labs/solana/issues/23610
yeah 100%
Could you file one with all of the details so we can get it fixed? https://github.com/solana-labs/solana/issues
There was someone that reported this issue yesterday, but they didn't file a git issue
https://github.com/billyjacoby/solana-signature-problem
you can view the diffs for the message before and after `Transaction.populate()` in the two JSON files in this repo herE:
What do you mean by this?
That should work.. I think there's some writable order change that needs to be updated as well
totally open to try any other one too
1.36.0
What version of web3?
And i don't always have access to the secret key, so https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-sign-and-verify-messages-with-wallets will not work for my use case
Transaction.populate is creating the TX with the accounts in different orders, which is what is causing the TX to fail
This is where I'm having the problem...
it will just work, but with real solana instead of test one?
i wont need to change any code
if i changed solana_client from devnet to mainnet
hey i just wanted to know
also https://solanacookbook.com/references/offline-transactions.html#sign-transaction
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-sign-and-verify-messages-with-wallets
ah here?
Can you send me the link for how to sign a raw message? I can‚Äôt seem to find that
FYI https://discord.com/channels/428295358100013066/517163444747894795/948526421452673045
so basically both of them are valid tx. 
i think when you try to sign a raw message. you can follow how cookbook do so that the message won‚Äôt be recompile
Hi guys, when I write indices I receive an error 
 failed to send transaction: Transaction simulation failed: Error processing Instruction 0: Program failed to complete
https://github.com/billyjacoby/solana-signature-problem
if anyone has any experience with this I welcome whatever help I can get!
i just created a repo that replicates the exact problem I'm having, as well as where I think the issue is occurring (`Transaction.populate()`)
hey guys! i've been trying to track down a bug I'm having populating a transaction from a pre compiled message
Or this https://solanacookbook.com/references/nfts.html#how-to-get-the-owner-of-an-nft
Thanks üôè
Hello guys, for a school project I need to create a NFT minting page on Solana, I figured out how to mint it, block the supply to 1 and everything, but I couldn't find how to attach the metadata to the token, any idea ?
`Token.getAssociatedTokenAddress`
Use `@solana/spl-token`
is there anyway to get the token account for an nft with the solana/web3 package?
alright ill try, thanks
Idk, I would just delete your node_modules directory and reinstall (without being able to take a closer look)
shows the latest

package.json of the module? or the full app
ye but this shows the latest
Ok, what does your package.json say? You're somehow on the wrong version

nono this is yarn.lock

Is that a different format or something?
That doesn't look like a yarn.lock file
package.json
What does your yarn.lock say?
0.2.0
You're not using the latest version üòõ

yeah
Latest. Are you getting an error or something?
if so what version of spl-token are you guys using?
Hey! anyone using mintTo or createMint functions?
updateAuthority is a pubkey, and first I assigned it the ['u8', 32] but that gave me some errors. Also, I'm sorry if this is a beginner question, I'm quite new to this üòÖ
Hi guys, I have a problem related to Metadata_schema, I'm trying to update the Metadata of a token through a Transaction Instruction, but when I create the schema I'm unsure which type should be assigned to that. Would this be correct?    [
        Metadata,
        {
            kind: 'struct',
            fields: [
                ['key', 'string'],
                ['updateAuthority', 'u32'],//['u8', 32]
                ['mint', 'u32'],
                ['data', Data],
                ['primareSaleHappened', 'u8'],
                ['isMutable', 'u8'],
            ],
        },
    ],
I don't know, so I post this error in this channel
He sent this message to me
Please confirm this user ScothAureal#8463
is that why it doesnt work
oh
Hello, solana Administrator
hi, guys. i recently develop "Offer" function of a NFT project on Solana. i have to close all other un-accepted data accounts (may be many) at one shot once the seller accepts one .how should i pass in those dynamic parameters? i'm using Anchor framework. Thank you Thank you!~
But now, I have got the same error and several failed to deploy
Before 12hrs, I have succeeded to deploy
Solana devnet isn't working right now
i have 7
At least 2.7sol is needed for deploying
Maybe your current devnet acc doesn't have the sol for deploy
That makes sense but still I can't find a way to look for its id
how can i remove or disable transfer function to a custom spl-toke.
I just wanted the token to be minted and burned , but cannot be transferred . Looking if you could help me here , in this. or is there any other alternative to achieve this.
Error: Account Aso---- is not an upgradable program or already in use
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: ""}.
what does this error mean?
what is the code to find the length of data in an account?
Is there any updates on why the devnet is failing right now?
Modifying a .env file is easier than > finding the code file where the CandyMachine ID is stored
It is not in the env file for hiding it, but rather so that it's easy to change.
Read here on how to determine that: https://solanacookbook.com/guides/feature-parity-testing.html
Ok, thanks
Also how can I scrape it?
Hello, candy machines ID is not hardcoded in the scripts of the mint site, but it's hidden using environment variable. My questions are, why would the Devs hide it? Shouldn't it be something like the smart contract address on ethereum? (which 99% of the time is disclosed to gain trust from the investors)
thanks a lot
`getOrCreateAssociatedTokenAccount`  in SPL-Token
https://solana-labs.github.io/solana-program-library/token/js/modules.html#getOrCreateAssociatedTokenAccount
Hello everyone, do u know how to check the Associated Token Account is created on Blockchain or not?
not unless its open source, and by id even then u may have to hunt.  the SPL programs and many others are now open source. You can do a `solana program dump` or related commands,  `--help`, but that will not give you any readable code if that is what you are looking for.  There is no etherscan to display and show abis of all contracts etc currently.
Thank you, was searching for it
https://discord.gg/C6xAvUwr
Hi! Is there any way to get program's code by its ID?
```
{
    #[account(mut, signer)]
    pub from: AccountInfo<'info>,
    #[account(mut)]
    pub to: AccountInfo<'info>,
    #[account(address = system_program::ID)]
    pub system_program: AccountInfo<'info>,
}
```
<@!788215642070581289> I am trying to make a simple sol transfer using Anchor. I have set the "from" account and "to" account to mutable. But it is showing an error "A mut constraint was violated" If i remove the mut constraint from "to" account, it shows "Cross-program invocation with unauthorized signer or writable account". What's the solution for this?
Is there a way to add a whitelist to a Solana NFT without using an SPL token?
try https://yihau.github.io/solana-web3-demo/advanced/metaplex/get-nft.html#does-a-wallet-has-a-specific-nft
or https://solanacookbook.com/references/nfts.html#how-to-get-the-owner-of-an-nft
is there a list of wallets that supports devnet?
Thanks i made a script to retrieve all the transactions using the signaturea
will 
https://solanatools.xyz/faucet/devnet.html be resupplied? its at 0 now
Thanks chido but this will take time as it will get non nfts trx. Do get trx have any filters?
I think for now you should 
1. https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress  for your wallet then
2. https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction to parse all instructions
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
Is it normal for `withdraw nonce account` instruction to be `Unknown Instruction` on solana explorer? It does what I want it to do but the display is strange.
https://explorer.solana.com/tx/36J9aAaWPmuhBhyabPNxG4xeyuq5NjcLRWrRkhsMnwE8Dp9FJFmura5dtFAGKzgRWCyPMBBsM58dknVdv2c4ZHm1?cluster=testnet
GM folks!
This problem still persists :/
bumped Anchor to v0.22.1 and solana to v1.9.9
It is still giving the `Blockhash expired` error when I am trying to deploy to devnet
can anyone tell me what else can I do, except retrying? (Been doing that for about many hours now... really really frustrated lol)
Hello! I set up a token on the devnet 10 days ago. I think I did everything correctly for adding the name and image to the repo. Any ideas?
https://solscan.io/account/5At2WZJ8Ua9mjLwZA2U818c8c9zrhiTLD1Qab9AwXMJz?cluster=devnet
wdym?
Hello everybody! So I'm trying to implement a lottery system in which i want to keep a track of how many times a user has purchased the ticket and how many user bought it? 
But here I can't make a sense on how do I create an acccount that can hold such values? Because the account that we create a predetermined to store values!
<@!890234576973230120>  https://api.magiceden.dev/#afefe1c7-466f-4823-9483-d65eaaa2b7d8
use magic eden api buddy
if it is in current wallet?
Or should i code it all myself?
Hey good morning  how would i go about making an airdrop? Is there some function to which you feed some addresses and an amount to spend and solana sends splits it up and sends to those addresses?
hello, ive got a question. is there a way to pull all transaction using the Program of ME "MEisE1HzehtrDpAAT8PnLHjpSSkRYakotTuJRPjTpo8" and a specific wallet address?
it‚Äôs here: https://github.com/solana-labs/solana-program-library/tree/master/token/program-2022/src/extension/confidential_transfer
solana-labs/solana/zk-token or something
Can you link where it is? I'm having trouble finding which repo you're referring to
Is there any method to get all the transactions for an address? Im using web3.js npm package for solana
I was wondering if anyone could help me with potential game mechanics involving solana, such as paying solana for a reroll game mechanic
it's in the monorepo now
Is zk spl token still in the works?
kk checking that now
replied you there
https://gist.github.com/billyjacoby/2dcb174c7cea97793e3537e496bfba70
updated gist if anyone else wants to take a stab at this:
gonna update my gist with exactly how its running on console. i'm at my wits end here lol
and that even changed after i upgraded @solana/web3.js to latest
Hmm i'm getting an even different signature when just running in node: `38wyTQtsRaYrnrXJfCQ6KxfV8Rnj2fwgcoPqBd4cKMVpWwyZjDqZX21VxZBq6cS7VFNsGhCLwXXp3a8HeVdkn9KT`
Hmm this is the current process im doing and it takes a while to fetch all nfts that transacted on that wallet
(obviously a little abstracted - if you need any more info just let me know)
this is exactly how i'm trying to implement it
https://gist.github.com/billyjacoby/2dcb174c7cea97793e3537e496bfba70
it would be great
i could share a code gist if that would help?
i'm using the @solana/web3 library
yeah... the expected signature is a correct one. depends on your description, the signature is generated at your iOS device right ? which lib your iOS device used to sign? I think you has pointed the problem just need to debug with the signing process
got
and signature i'm receiving: `3hWo9gQigGVQuT1DjDEHuMUjsyqkis8XiAWkPkWv2auqGNJ15QW1ThPGNfGh2e3p46Fx2cJYzWk41RfTdfHLTieW`
the expected signature: `3QfLPJbSixK8CeqWUwpzStcW6eYLMH7iw4rsXcU3sh8YSZ4igJ6og43HVAinRYCV7ipds7Whgad5dDzBwFpNg8Wo`
id ask in the saber discord..
https://discord.gg/fPKAegbq
the encoded message i'm trying to sign is: ```
7X67XgM8GNM5ZQyRsUrAoPY3Hpg1JnYcte8U3Wnfssp6qc7Xo4JZX2EbXt3xsgSrK8DtE5GSv6Kodtz2TcvGz3xqBH3DC6rz48teAme9hVLWCe8krFD8afPyongtQ3xz1pAtiU1dqT2MVKLPPUMj7uVJcDzz5ew4hgwDNHRJAZAc3rJ4jP4iPnS496Ts2rAtd7QQoAvJmyCjm2hJ1xAv4cRU5x32zQr8B1x2a5m38gfEuEAhk2eEvhSzZ3uiRyts5cRaN6iGJrWNpMsvYaghqoxRiyumVtH15vC9AbMKTbhqig967HThfyNn6bXG4g7AWm9dGQgJCPaWUdK2u2zbJ58Vfq7NT4JCkZ5dUqrzoA61LLVwmPJvHfuEGWmCQuQ4ssuYmsdWHfkaY1dZ987euGod4ujkPnFzmPcTfZPEMmtNaUe11w7xbmsYAWqtGEj2n4NR3wRtNJDRuYYZ86dPxyhMsp2owwkgqHdwcK5sLdJzcdmSJiwVAV3yw52NcfsXFXituwWzGbaJz7uvRJaGNQpZugcrPCVDRsiFNcRACVrgvKx5koRQ1pcKtJdcV9jcrTxfCSKkzXBNDjX46F6fwZeUqPtXVzBiACM3dYL5g4AhXcRYggJqDqpXbgN9CApuHUV9839UZBhPohqSuUaVztFnFbQ9jvk2eXLhVYqo82pTimPfTdFBsPg2kztvZZTjURSsiSsYaBh9T93UUFJd5pDzstknFbCZaGBRQmcbjMK64Nn8z1NeHzMEsSvHF74rQEwHFEH3pcQLfVUG4DJjdpCsvtjWBXNVgXkycsvBnetZ8c88jTCb9RJKJhDvs893nuJ57V53kwghyhYpyksTV423EdGE8q4bH
```
i mean i could send you encoded Message and Keypair i'm currently trying to use along with the two different signatures i get if that would help?
they're both base58 encoded right, nothing else weird?
i've logged literally everything I could imagine along the way,
right!
so the question will be narrow down to when the account sign, when the account sign the signautre is correct and why finally the signature is wrong
üëç at least I'm being useful now üëç
i'm happy to provide you with anything i can that will shed more light on this!
a nonce account used to prevent blockhash expire.
yes i know which one is wrong
so you know which signatures wrong? TBH I can't help you more because of the less informations you provided.
done, oVNMhJ21VWMddqYaeTCe8cERgpPsZax3xNGcdFVvwBBzhuCXV24zQyA7Nmc4P1mGfLhUmbTGqcyeJiKrYaLKXqJ
i've been trying to understand the nonceAccount part, but i can't seem to wrap my head around why that might be necessary.
so right now i'm not even trying to send the transaction - just checking if the signature matches what it should be. and it doesnt
if that makes any sense
I'm reliably getting the same wrong signature though
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress can get all txs from a specific address.
https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts can get all accounts which owned by some program
Hmm I'm currently using the first method listed there and that seems not to be working
guys a question, using the program of a marketplace example is magic eden "MEisE1HzehtrDpAAT8PnLHjpSSkRYakotTuJRPjTpo8", can you extract all trx from a wallet that uses this program?
maybe https://solanacookbook.com/references/offline-transactions.html#sign-transaction
also your signatures will match to your account list which in the message (first sig is the first account...)
so you can use https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-sign-and-verify-messages-with-wallets 
to check which signature is wrong.
If that‚Äôs a yes here‚Äôs my address I need about 300+ please and thanks
EuTsMuKwXCUawZ1tDJjojbZgLfrRY8xpAZ9GTAd3GbRR
is there something simple i'm overlooking here?
then i call `Transaction.populate()` with that message, then sign that new transaction but that signature is never correct
<@!585868308419444749> can you give me some sol I see you have sol in your name and one of guys responsible here üòÅ?
so in my iOS app i am recieveing (what i think) is the encoded message string, then decodeing that using bs58 and creating a new Message from it
hey guys! i'm at a total loss here. I'm trying to sign and return a transaction passed in from `solana/wallet-adapter` to my iOS app, but it seems that no matter what I do i get a signature mismatch error
congratulations to michael on his promotion to devnet faucet!
<@!445425471027544095> ?? Can you hook me up with 300+ sol?
<@!445425471027544095> ask him if you need more bro ima send 100 rn im also gonna need a reup soon but ill ask another day lol
Alright bro ima dm you I appreciate it
dm me or send addy
I got you bro i can send you max 100 cause i got some earlier from one of the devs here but also gave other 2 who dm me
Can someone send me 200-300 devnet sol?
Hello there! I am trying to use octane and apparently I deployed it on vercel and everything "works". When I go to the route app/api I can see the fee payer address and the token mint and account correctly. (the fee payer account has sol) however it just doesn't work! I keep getting "YOU DON"T HAVE ENOUGH SOL" when I try to make a transaction from other wallets! Octane is not paying the fees! any reason for this?
Is the "new versions" available now? I need it very much in the current project. Thanks!
Does anyone know how to access these USDC devnet tokens?
https://developers.circle.com/docs/usdc-on-testnet
is there any way to get the state of an account as of a past slot?
Yes thank you!
aha - that did the trick
`thePubkey.toString()`
Question about using the Solaria wallet adapter.
Does anyone know how to get the pubic key of the connected wallet?
I am using the official wallet adapter from https://solana-labs.github.io/wallet-adapter/ on a CRA typescript front end.
```    const { publicKey } = useWallet(); ```
I am trying to get the public key as a plain old string from the `publicKey` object.  

Any help would be greatly appreciated!
Is that solana/bin directory in your PATH? `echo $PATH` and check
Keygen, airdrops, config
Hmm. Okay, the Solana commands work fine though
Then you can do `which cargo-build-bpf` and it will find the solana/bin/ one
You haven't quite installed solana correctly. You need to make sure the solana/bin directory from when you installed it is actually in your PATH
Hey, i want to get a signature using notary end point but dnt know how to send in the request... can anyone help ?
while using ts-node command
<@!167500700601942016> Translating error Error: Transaction was not confirmed in 60.00 seconds.
it seems i can build with just ```cargo build```, do you know what the difference is between ```build``` and ```build-bpf```?
although part of the instructions were to uninstall the rust compiler, which were given for macos, and i cant seem to uninstall using any of the package managers on my system (yum, dnf)
ive installed and uninstalled solana cli tools and rustup, plus tried upgrading rustup as per what ive read in threads
Don't think you've installed solana or are on a bad rustup version
what errors
Hey guys, I need to upload my collection to the mainnet but It give me some errors. Ca any1 help me?
Has anyone experienced the ```error: no such subcommand: `build-bpf` ``` error when trying to build the example-helloworld in a linux-based system?
Trying to understand compute unit usage, why is signed math so much more expensive? ``` 
let time_to_maturity: u64 = (expiration - time_now) as u64 * COMMON_DENOM_U64 / 60 / 60 / 24 / 365;
//line below uses 1000 more compute units than the line above!
let time_to_maturity: i64 = (expiration - time_now) * COMMON_DENOM_I64 / 60 / 60 / 24 / 365;
```
?
where do i find a candy machine id
Hi there! I am using Metaplex's CandyMachine for my drop.
I would like to limit minting to 1 per wallet (not using the whitelist feature, but by editing the actual program/smartcontract). Can anyone help?
That's a bummer
some days its fine, other days everything fails
Over the last month it's been a coin toss
This is temporary right? I have spent about 2 hours now trying to deploy stuff to devnet
I'm also having blockhash issues (or rather issues getting recent blockhash). Keeps coming back as `null` which is sweet
I'm trying to get web integration working in a remix app (framework on top of React, see https://remix.run) but it blows up when I pull in the `ConnectionProvider`

```
Uncaught TypeError: Failed to resolve module specifier "buffer". Relative references must start with either "/", "./", or "../".
```
I think you may be able to `getProgramAccounts` on the token metadata program. Not too sure on the structure, you'll have to look into the metaplex program library or ask in their discord
Whats the best way to check if a symbol exists already?
Go for it so
Same idea
Yes ok
I use this method to send a transaction once it is signed by the user. Or I have to serialize and send the transaction back to the backend to make it
Send the transaction signature to the backend and broadcast to your node there
So how can I use the sendRawTransaction method without publicly displaying my RPC?
That is true
Here, instead of 'devnet' I will put my quicknode RPC. But its in ReactJS side so.. Everyone who read the code can take my RPC
What do you mean show everyone
Any idea guys ?
Thanks
thanks!
https://solanacookbook.com/references/token.html#how-to-manage-wrapped-sol
which doesnt use a dex or cex
does anyone know how to convert SOL to wSOL?
I will note that at this time, image won't appear with this. Soon though
Same process https://docs.metaplex.com/token-metadata/specification#token-standards
How does one attach metadata to a regular spl-token (not nft) or is the process the same? I want things like symbol, name, pic etc.
it is the latest version
cool thx
but it seems all available features are enabled
i just thought there might be speculative features that are in the code but not enabled by default
yeah i think once a feature has stake support someone sends an ix that enables it
Check in your node modules
of package
how can i check the version
It's not immediate. It should be after a certain number of epochs
so i guess each version just enables all available features..
oh i guess the id comes from the feature set hash there
Likely you have the old version installed. I have had this issue before with npm or yarn not updating
ah still not working
You can check different version tags with that file
https://github.com/solana-labs/solana/blob/master/sdk/src/feature_set.rs
ok, do u know where the list of ‚Äúfeatures for version x‚Äù is? i can‚Äôt find anywhere in repo. might be related to ‚Äúfeature set‚Äù number in output of `solana feature status`, i don‚Äôt know where those numbers come from
Make sure you're using `0.2.0` of `@solana/spl-token`. I've had issues where the old version was still installed
iirc, features are activated after a certain amount of time that a release version with the feature reaches majority on the cluster. You can check currenlty added features with `solana feature status -um`
so should be working
idk but i have readded spl-token
Are you using the latest version?
does anyone know why theres no exported member createMint? it should be exported
Any other solution ?

Thanks a lot!
https://solana.com/rpc
are features tied to release or are they manually approved by every validator? if the former, i can‚Äôt find in solana code default features for current version
where do I find that?
its possible.  u can also try another rpc provider (url), for dev.
you can also try overriding the deploy url/cluster to make sure its going to the right network
Yea I asked there... they said it's a common issue with devnet... just gotta keep trying
here is the anchor discord:
https://discord.gg/C6xAvUwr

not sure why it would be using sol every time for a non deployment..
not sure what command you are running to deploy either.
u can try the `solana program deploy <path>  -v`  to see if you get some other output.  what does your config look like?   `solana config get`  generally this is used to deploy from the default keypair when using `solana program deploy`
I need this in frontend for sign a transaction with the user wallet. But when I will put the quicknode RPC, it will be show to everyone right ?
Do we have to do anything more than changing the provider in Anchor.toml and the program ids in Anchor.toml and lib.rs, while deploying to devnet?

Everything works properly in localnet but I am facing this error while trying to deploy to devnet
 
```Blockhash expired. 5 retries remaining
Blockhash expired. 4 retries remaining```


It is a chain of errors that's happening
moreover, my devnet sol is depleting, but my program is not getting deployed
i see) thanks
People draining faucet and no one else can get more :C
You cannot airdrop more than 2 on devnet
thanks, worked) why can not more?)
try 1 or 2 instead of 500
Why Balance unchanged?
$ solana airdrop 500 HszJtse6e6pApNoanUgCbUBwsC9E8BW49nM9XpSTfWkQ  --url https://api.devnet.solana.com
Requesting airdrop of 500 SOL

Signature: 2w1gNfD5sWXNrGV89LND15Bav98yMTokRuAySyBdivYbThP1ean8ZccuKesQemPUEjaTmTkcq4giQj7jnLTREgGd

Balance unchanged
Run `solana confirm -v 2w1gNfD5sWXNrGV89LND15Bav98yMTokRuAySyBdivYbThP1ean8ZccuKesQemPUEjaTmTkcq4giQj7jnLTREgGd` for more info
Can you help me?
in the github issue maybe mention:
`transaction.populate` and
`message.isAccountWritable`
that's bad
Wait, it changes writable statuses now?
lol, sounds like it's even more broken than I thought
This ordering was fixed in `1.36.0`, which is where you don't have issues https://github.com/solana-labs/solana-web3.js/commit/410780a41bbffb556e1d1f53d097934ffb56870f
Same behaviour with web3.js@1.36.0 (all accs marked writable), but no signature verification error there.
Okay, so had 8 accounts, 5 of which were marked writable.
Transaction.from(...) , all 8 are marked writable now.
I suspect you have the same count of keys and accountMetas, but the accountMetas are shuffled
ok so the pubkeys are in order, but the accountMetas are recovered in the wrong order
sure
The order seems to be maintained from what I see, just that it is marking some accounts as writable when they should be not. (left- original, right - after transaction.from(tx.serialize()).
and I'm still a noob, so i'm sure there are many steps im missing
can you file a github issue?
hi, I just started developing on solana and I was wandering how do i grab the candy machine ID from a mint website? Seems like it's hidden in the .env file which can't be looked from the user side. Tried to reverse engeneer, but code is so messy!
It doesn't retain ordering of accounts IIRC
Pretty sure Transaction.from is broken
Also some of the keys which had `isWritable: false` now have `isWritable: true` , after doing `Transaction.from(tx.serialize())`
Still failing, Constructing with isSigner first, then isWritable.
i would try the other way and see what happens üôÇ
so i can receive it later on
Hey! Does anyone know how can i add data to nft
Yes, The transaction In my example has isWritable first, then isSigner. Considering it is just an object, shouldn't really matter ?
not sure if this is related to your issue.
tmk isSigner comes first,   but for some reason, in your example construction it appears its being constructed in reverse?

` t0.add(new TransactionInstruction({
      keys: [{
        pubkey: signer.publicKey,
        isWritable: true,
        isSigner: true
      }, {`
May I ask if you had a chance to check? If you think my code is correct I am happy to create an issue on GitHub
seems like mainnet beta taking a hiatus today üç≠
gotta love it
yep...6 of the 9 transactions i just sent through all failed or never confirmed
Hey guys, 
I was testing out a transaction and found out that while doing const tx1=Transaction.from(tx.serialize()) the transaction generated(tx1) is different from the one passed(tx). The Order of {isSigner, isWritable} is sometimes reversed which causes SignatureVerification error on < web3js@1.31.0.
Is this change of order intended/expected, am I constructing the transaction wrong or is it a bug with older web3 versions?

Error Demo - 
https://github.com/torusresearch/solana-serialization-bug
Argh I really need to learn how to use the cookbook and use it. Thanks you !
https://solanacookbook.com/references/token.html#how-to-get-all-token-accounts-by-owner
I just wanna get all spl token from the user
Its the error from getTokenAccount method
I'm learning... slowly...
üëç yep it's the same behaviour as non-PDA accounts
Thanks man... that was the issue... I did not realize you could fund a PDA without first "create_account" for it... I guess that makes sense
Where is `in`?
Thanks man
Will do !
done, but if you see somebody else around here that needs devnet SOL and I'm not around please share!


///////////////////////////////////////////////////////////////////////////////////////////////

Is there a solution for this sir?
Almost certainly it's the RPC servers taking time to incorporate transactions into their indexes
Hi guys,
I am performing a transaction with web3 in Javascript/Frontend, but I can't find this transaction immediately when I search for it on the backend, it is reflected after about 1-2 minutes of time. So what is the reason for this?
Which may be impossible given Phantom's propensity for doing everything mostly wrong üò¶
And if you care about Solana, you'd probably have to take up the banner on making it better.
It's a wider problem if that's the case.
Agreed.
can't do much if the wallet UX sucks though
But I think we need to do better.  Scams have been far too easy to pull off because devs have all required users to act unsafely and conditioned them to accept unsafe systems.
I understand, I have done a bit of that myself.
I actually don't remember if it did on metamask but honestly even as a dev and privacy conscious person, I've been signing and approving things left and right without digging in.
Please let's not try to build systems that encourage users to behave unsafely
And assuming that it does, I think it's your responsibility to ensure that users understand what they are signing and why, and that the data they are signing is easy for them to verify as non-malicious.
I *hope* that it shows the user the actual data being signed.
I don't know how the UI for this arbitrary sign works for, say, Phantom
well, not like most people use anything other than those few
And I think if you are going to ask users to sign arbitrary data you are going to have to work hard to make sure they trust that data
But limited to only a few wallets
That looks promising
https://github.com/solana-labs/wallet-adapter/blob/master/FAQ.md#how-can-i-sign-and-verify-messages
oh wait, I found something
(for ethereum)
hm, this is doable using etherjs though. There is a method for it (I don't understand the underlying technicals because new to it)
They don't have "sign random data" functionality
The design is that users trust wallets, and wallets only sign transactions
I highly doubt it
yeah, that I know which is what I wanted to know initially. Is there an example of solana-web3 js that does this?
Normally they trust wallets, not random UI code
And they'll have to trust your code
You'll have to implement something on the UI side to ask the user to sign something
But that's UI work
Sure you can
I don't them to sign a transaction
Can I have them sign a random message though?
And they'll have to trust that you'll not submit the transaction which would cost them a transaction fee to execute.
They have to be willing to do that though, their wallet is going to pop up a "are you sure you want to sign this transaction" thing and the transaction will just be a no-op.
OK then you can just have them sign a transaction that does nothing I guess?
If you are just writing some random thing that interacts with users, then the only way is to have them sign something with their private key and you verify the signature.
I'm writing a frontend login using solana-wallet
no, I'm not.
By the way I had assumed you were writing an on-chain program.
I guess you *could* also have them include data in the transaction that is signed with their private key, but, then you'd have to implement verification of signature in your program itself which would be costly and pointless.
The only way you can do that is by having them include the wallet address in the list of signed accounts in the accounts list of the instruction that invokes your program.  Then the Solana runtime itself checks that they signed the transaction properly which means that they have proven that they own that account.
can you elaborate more? I'm lost by the second part of your sentence. 
I'm trying to implement solana sign-in so I want to confirm if people own the wallet address they tell my backend
You require that the address that you want to verify is listed in the Accounts section of your program instruction with the flag indicating that it was signed.
Can someone give me an example of verifying that a user owns a wallet address on the backend?

The way, I see it you would need the user to sign a message and then verify if the signature matched. Is there any example or reference on how to do it?
Did anyone had problem building  farm program on Mac M1
the hell
`Error: failed to send transaction: Transaction simulation failed: Insufficient funds for fee"`
was there any change?
hi there, out of sudden i started getting `Insufficient funds for fee` for my transactions
I think sending the money to a contract and withdraw from it when there is enough money, not per transaction
Hi guys, I am looking for an advice, any idea is appreciated
@here i am not able to get some initial lamports to my wallet on developer test network. I am trying to spin up a small blockchain for a non profit project. any help will be appreciated

Hi from Los Angeles! I‚Äôm setting up my Solana CLI and my FILE SYSTEM wallet and I‚Äôm in my terminal, it says ‚ÄúFor added security, enter a BIP39 passphrase‚Ä¶. ‚Äú but there isn‚Äôt a way to enter anything
Hi, when I call invoke_program, can I just tell the invoked program that the contents of any accounts it cares about are whatever I want to tell it?  I have to pass in a data array and a data_len in each "account info" structure, so presumably the runtime just passes that on to the program (otherwise why does the API take AccountInfo structures?).

I think I'll just write a program to fabricate SOL by invoking the system program and telling it to transfer nonexistent SOL out of accounts that don't really have it.
you can use https://docs.solana.com/developing/clients/jsonrpc-api#getversion to know what versions current node used.
if you want to know a recommend version on devnet and mainnet, you can trace this channel <#669406841830244375> <#749579745645166592>
thanks, sir! this seems to solve my problem.
for that
I think you should be able to use. https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
You would need some backend logic that gets transaction details
yes, they can manipulate the API at any time. I don't know how to do this right.
I see what your asking though...
its that save request that they could always manipulate
I think I can find out the amount with the information here.
yes sir, I am going to save it to a table in backend and I want the user not to be able to manipulate it on the frontend*.
I think if the transaction is succesful you could trust the amount that you sent in the transaction right?
no I trying
and get what you need from that?
hmm after getting the transaction id could use just use connection.getTransaction(transaction_id)
but I need to reach the amount in this signature in the backend
yea just change that sendTransaction to sendAndConfirmTransaction
I need to save this process in the database.
yes. There is no problem with the frontend
```javascript
const transaction = new Transaction().add(
    Token.createTransferCheckedInstruction(
        TOKEN_PROGRAM_ID,
        fromTokenAccount.address,
        myMint,
        toTokenAccount.address,
        fromKeypair.publicKey,
        [],
        1 * 1e6,
        6
    )
);
const signature = await getWallet()?.sendTransaction(
    transaction,
    getConnection()
);

console.log({
    signature
});
```
let transaction_id=   await sendAndConfirmTransaction(
or are you using spl-token transfer ?
only javascript - frontend/web3 sir
ie: javascript or rust?
<@!345912880446570496> - are you working on the frontend or in the contract?
But I can't look at the users in that signature and the actual amount.
Hi guys,
How can I find out the details from the signature of an spl-token transfer transaction that has been made?
i need to verify this transcation in the backend.
yea, thought about that, but was trying to avoid that just so the contract could be public
Ok, another approach is to have your frontend just send a regular old web2 request to your backend, and then have your backend submit the tx
but I suppose I could transfer just a small amount... could be loop hole for abuse though
yea, I may just do something like that... I built a "rewards" system for my website users, and I did not want them to have to have SOL in their wallet
But also, tx fees themselves are generally very small
There's this thing: https://github.com/solana-labs/octane, or I guess you could do something lower tech and just have the contract reimburse the tx submitter
rather than the wallet that submitted the transaction
is there a mechanism to have the contract pay the fee?
Usually it's whichever wallet submitted the tx
hrmm ok
Solana doesn't really have per-instruction fees‚Äîthere's a single fee payer for the whole tx
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs
For this  intruction:  spl_token::instruction::burn() what account pays the transaction fees?
How do I view what solana versions are running on devnet and mainnet?
maybe https://solanacookbook.com/references/token.html#how-to-set-authority-on-token-accounts-or-mints
Hello there is there any way to change the token account owner of a token?
Im developing a program that uses time, and need to fast forward time in a test file to ensure it works correctly
Hi, is there any way to accelerate time in the local solana-test-validator
you can take a look here https://solanacookbook.com/guides/retrying-transactions.html
a transaction is composed by many instructions, so just pack them into a tx.
like https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/actions/createMint.ts#L42
the code composed two instructions into one tx
basic idea here https://solanacookbook.com/references/offline-transactions.html#offline-transaction
spl-token lib is based on web3js 
you can just use it or take a look at https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/instructions/transferChecked.ts#L42
no. mnemonic to keypair is one way. you can't get the mnemonic from a keypair
If you want a mnemonic, you can write a for loop by yourself.
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-generate-a-mnemonic-phrase
then find the match.
Transactions take an array of instructions, just add the various instructions you are talking about
If any of you could confirm that'll be the case, would be cool https://www.quicknode.com/chains/sol  I'm going offline now otherwise would TIAS, so sorry about asking. Thanks in advance!
I'm having "Error: Transaction was not confirmed in 30.03 seconds. It is unknown if it succeeded or failed. Check signature XXXX using the Solana Explorer or CLI tools.". If I pay for a Quicknode rpc, would this happen?
Hi everyone i have one query solana config once set it is set for that particular instance on that server... But if I have multiple client projcts running on the same server how do I set separate solana config for each of the client??  I have the root access of course
or i have no option but to buy separate servers for each of the client?? which is not cost effective as the server is barely run for few days
How can I batch solana transfers with custom program instructions into one transaction?
with nodejs
does anyone know how to send offline transactions?
How can I create that Instruction
Whats the syntax to make a SPL token transfer using Web3js?
i am gettin this error please tell me how to resolve it

how to decode a Unint8Array in javascript
after grinding keypair with 

solana-keygen grind

is there a way to get mnemonic after you got the keypair?
we skipped use mnemonic code because it just took so long
PDAs:
https://solanacookbook.com/core-concepts/pdas.html#facts
https://solanacookbook.com/references/accounts.html#how-to-create-pdas
and signing in same area, so the program can transfer
also sections on tokens and other things.

a good tutorials to tie some things together and concepts, and a native escrow tutorial with pda accounts is here:
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account
associated anchor tutorial if that is your thing

official docs:
https://docs.solana.com/developing/programming-model/calling-between-programs#program-derived-addresses
can u give a doc for that?
sure a program can have an SPL Token accounts.  Thats how programs hold balances of tokens.
a solana program can store data via account, can it store spl tokens as well?
https://github.com/solana-labs/solana/issues/22528
not sure I follow. different ways may have different requirements. NFTs. anything that gets deployed to main-net has an associated cost as well.
My dev said I need a sol token for a whitelist
just an authorization check on a list of addresses. store an address collection in an account and check it when required.   github gemworks, and anchor examples, metaplex, and others have whitelist features.
How can I add a whitelist feature to my program?
not sure when you mean during run time. you need to query and get transactions from a client, and if needed use that info or pass into a program.
How do I get a token accounts transaction history during run-time? Is it possible? For example, if I wanted to use the mint time of a token_program Mint, but that is not available in the account itself, how do I access that?
store some kind of collection in the account data, and do you best to guess the amount of memory youll need, and add more (buffer).  eventually reallocation may be coming among tons of other things üôÇ   always try to estimate, and when in doubt give yourself a little more room than you imagine u need.
```sh -c "$(curl -sSfL https://release.solana.com/v1.8.14/install)"
```
yeah! downgrade ur solana version to `v1.8.14`
any luck with devnet deploy?
The account in solana are created using predetermined values or data they can store! The problem is that I don't know how much data would i need to save? For eg 5 people can buy a ticket maybe 10 will do so! How do I manage this sort of thing?
you can attempt to store all kinds of data inside an account, im not sure I understand the questions otherwise. What problem are you facing?
Can I load my PDA in any wallet?
I fundamentally don't understand what the point is of passing in SolAccountInfo instances because the runtime cannot possibly "trust" the values I put in there.
So what is the account_infos argument to sol_invoke_signed for??
Oh wait I just noticed that SolInstruction includes account metas.
trent you still around?
I really don't understand why sol_invoke and sol_invoke_signed don't take an array of SolAccountMeta instead of an array of SolAccountInfo.  If the arguments were SolAccountMeta then the runtime could satisfy the invoke by loading those accounts just like was done when the calling program was invoked.
Are only *some* of the fields of SolAccountInfo actually used and the runtime overwrites the rest with the correct values?
I don't get it
And I can tell it it the account has as many lamports as I want to???
So I can just put in whatever data I want to in the SolAccountInfo structs?
**I** compose the SolAccountInfo instances that is passed to the invoked program?
sol_invoke_signed looks like this:
```c
/**
 * Invoke another program and sign for some of the keys
 *
 * @param instruction Instruction to process
 * @param account_infos Accounts used by instruction
 * @param account_infos_len Length of account_infos array
 * @param seeds Seed bytes used to sign program accounts
 * @param seeds_len Length of the seeds array
 */
static uint64_t sol_invoke_signed(
    const SolInstruction *instruction,
    const SolAccountInfo *account_infos,
    int account_infos_len,
    const SolSignerSeeds *signers_seeds,
    int signers_seeds_len
)```
OK so now I am *very confused*
Anyone know how I can serialize a `TransactionIntruction` object into base64?
meaning your validator on devnet? or local
i think its just a devnet problem. i could deploy it to a test validator i set up. worked smooth
12 days and my devnet token still doesn't have a name or image. Normal?
could I ask what is the recommended cli version on devnet ?
https://github.com/project-serum/anchor/issues/1157
only accounts list keys are sigverified
https://stackoverflow.com/questions/70437644/error-custom-invalid-blockhash-when-solana-program-deploy
OK so it's not possible to find out whether an account was a signer of the transaction except by having it listed in an instruction's list of accounts?
still doesn't work 
solana-cli 1.9.12 (src:3875bc91; feat:1070292356)

=========================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
any luck ?
Do I have to use CERTAIN VERSION of solana-cli to deploy ???
Is this a problem of me using the old @solana/spl-token 0.1.8 library (latest documentation version is for 0.2.0) or am i reading the documentation wrongly?

in my code
`mintA = await Token.createMint`
seems to return a Token object (evident when i console.log(mintA), where i can access the publickey via mintA.publickey etc

but in the createMint documentation 
https://solana-labs.github.io/solana-program-library/token/js/modules.html#createMint
it says this function returns a Promise<PublicKey> and not directly a Token object

Is the problem just the way i'm reading the documentation? Or is the problem that 0.2.0 createMint returns a publickey while 0.1.8 createMint that i'm using actually returns a Token object?
Hello, I am trying to integrate the solana/wallet-adapter-base for vue 2.0 to use the Phantom wallet in my website. However, all support for Vue appears to be only for Vue 3.0. I am looking for vue 2.0 support for at least another year. Any insight anyone has is appreciated!
1.9.12 doesn't help
seems like you can't deploy a program using the the default mainnet-beta RPC with the 1.9.12 toolchain; I'm getting `Error: RPC response error -32601: Method not found`
change rpc doesn't help. let me try older CLI version
any luck getting devnet deploy working?
allright, Thanks alot.
you want to develop one or just through a UI create one?  im not aware of a UI that lets anyone create a LP for dev per say.     for development, the token-swap program you can use to create a pool.   quarry may have something as well..
Hey all, I am wondering whether there is a service that can permit me to start a liquidity pool on devnet?
did you try a previous CLI or a different RPC?
solana-cli 1.9.11 (src:607a98e9; feat:1070292356)
deploying to testnet also throw the same error
i think devnet still not working
If I create a smart contract to send the money there and make the transfer there and leave the 0.001 on the contract, I have to pay twice, one for the transaction to the user and one for the transaction on the contract right?
deploy to devnet keeps throwing this ..
```
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
Let's suppose I want to send 100 SOL to another person and I want to charge that person 0.001 sol extra of the regular fee
Hi guys, what would be the right way to add an extra fee for the app on each transfer?
(when accessed via the SlotHistory sysvar)
`solana_program::slot_history::SlotHistory.next_slot` is the *currently executing slot* or the *next slot after the currently executing slot*?
There are limits to how much the time can be adjusted each epoch, to help defend against attacks by validators that send a fake timestamp with their votes.  Certain validators don't send a timestamp at all with their votes too
well you could if time went backwards but ü§ï
Good point.
never.  can't relock a stake account
Oh I see so you guys don't correct backwards?
OK thanks that is a good suggestion
timestamps never go backwards either
You don't necessary need to decide now, support both slot and timestamp then the auction creator can decide.  The stake program does exactly this actually
Slot numbers also never go down ...
Timestamps can theoretically go wonky at any time I guess.
I like slot number because it becomes more preditable the closer you get to it, which matches well with "end of auction" since people will be more focused on the end the closer it gets
Could use an oracle of course, but then there's external trust

By the way I really enjoy programming at this level.  I've always been more of a low level "systems" programmer, and the closer I get to UIs and javascript, the more unhappy I get.  But writing Solana programs, with all of the specific constraints and rules, now that's my cup of tea.
It's the closest time source to wall clock that's available on-chain.  A slot height works too, but then you're guessing about what the future slot times will be
It's to be used for something like (but not exactly equal to) "end of auction"
Seconds or minutes typically.  Although there's been bugs in the past were we've had a day or so of drift.
I'm assuming "seconds".
OK thanks.  What is the expected accuracy?
It's used for locked stake accounts
I guess it probably already is by tons of defi systems so
So the accuracy is trusted?
unixtimestamp
If you were designing a time-limited function, where a program can only take a certain action after a certain time, would it be better to use a slot number, or a unix epoch time?
what does your function look like tho..
Directly for Vercel/Outsource
how are you invoking?
Anybody knows why? I haven't been able to fix it.
Hi all! I am trying to use Octane! serveless functions for index.js and blockhash.js work fine, but when I try to invoke transfer.js serverless function I get this error:
Oh wait I guess this doesn't have to be a PDA.  It just needs to be a compiled-in account address.  Can be a normal system account.
So looking up the 'admin user pubkey' and gating admin functions to only be allowed to that user is probably not undue overhead
Which is OK, especially because the admin functions would be invoked rarely
However this will require that I keep a separate PDA holding the 'admin user pubkey'
losing keys is something i think about often
Thank you that is a great suggestion.
Seems like a second admin key that can only assign the first, that is kept offline and backed up would be reasonable (in this case)
(keep in mind that I plan to stick to my mantra of "programs should not be upgradeable", so once I'm past beta or whatever, it gets locked down and only that key will ever be able to use the program with admin rights).
The scary thing is locking it down like this - "only this signer will ever have rights to use this program in this way".  Then if I ever lose that key, the program is useless.
I see
(well, except through other instructions of the program that do other things to the data)
Other users will be able to query the PDAs for that program to find the data and read it, but not write it.
I want a program that I, as admin, have rights to use to create PDAs and fill accounts with data.  No other users will have those rights.
Sorry I don't understand.  What is alot of work?  And what can I let users do for me?
sounds like a lot of work.  let the users do it for you üôÇ
typically you'll want them to sign (real signature) the tx, then one of the pda seeds will be the signing key
Program will enforce that only a single fixed signer can use it for this function.  That user is me, the admin who is the only one allowed to use the program to create new PDAs.
if you just like, let the user hand you some bytes, anyone can grift the address space
Hi all, I'm just getting started and I know the Solana stack overflow is not yet up-and-running. Where is the best place that I can post beginner-level questions?
yeah, but prolly take more control over the seed (other than bump, if the application is resilient to aliasing).
But I'm using a program to fill data into an account on behalf of a user, and the user cares what the account address is (and the program really does not, as long as it's valid) so that it can reference it later.
My use case is I realize somewhat different from the norm, where clients don't usually care what the PDA is.
ok thanks.  So I think that in the end, what I gotta do is, have the client specify a seed, program calls sol_create_program_address, which via its return value indicates whether the seed results in a valid PDA.  If that's successful, program calls invoke_signed with a CreateAccount instruction that creates the account, and if that succeeds, all is well.  And the client knows the PDA because it also knows how to derive the PDA from the seed it provided.
yeah same rules as normal create account calls
It's not like the account gets wiped or something, right?
OK final question.  Just to verify, creating an account that is already created is an error right?
hopefully
It returns uint64_t, presumably that return code indicates success or failure
Oh wait I misread the API
Can't this fail?
```c
/**
 * Create a program address
 *
 * @param seeds Seed bytes used to sign program accounts
 * @param seeds_len Length of the seeds array
 * @param program_id Program id of the signer
 * @param program_address Program address created, filled on return
 */
uint64_t sol_create_program_address(
    const SolSignerSeed *seeds,
    int seeds_len,
    const SolPubkey *program_id,
    SolPubkey *program_address
);
```
are parsing exceptions swallowed by rpc nodes and inner instructions just not returned at all?
any thoughts re: inner instructions question above?
sol_try_find_program_address is a syscall too
The rust version does at least (it returns an error if the address happens to land on-curve)
Oh wait I'm wrong
OK in the end my program is going to call sol_create_program_address.  It's the only API I get from C.
find is a wrapper around create that searches for the bump seed
create_program_address doesn't check or care that it's a PDA
No, they could squat another user's address
Oh wait I GET IT
But wouldn't that also be true if the client supplied the whole seed?
so you don't have to trust or verify the user input beyond create_program_address returning success
Thanks although I'm a little confused how "use it client-side and pass the bump seed" is functionally different from a methodology where the client just computes the whole seed.
find_program_address has variable runtime, so usually you'll want to use it client-side and pass the bump seed, or in an init instruction and stash the bump
So it's 100% all cool now.  I finally get it üôÇ
The BPF code calls out into the C function I am gonna use
Oh
Oh wait forget it.  Didn't notice the "#[cfg(not(target_arch = "bpf"))]" part
Yeah
Looks to compile a bunch of code directly into the program.
Pubkey::find_program_address does its work **in the on-chain program**.
I am confused
Also
I have to find out the C analogue for that
I am writing in C so
`Pubkey::find_program_address`
In my experience the client just kinda has to know the seeds too
I believe that what I am going to find is that there is a system call provide that computes PDA from "array of seeds".  And that it doesn't cost compute units to call it, presumably ..
both compute
OK then I just gotta figure out who computes the address itself in this scenario
Oh I see.  So the program uses invoke_signed with CreateAccount, where the account to be created is a PDA
Yeah they suck, but we needed a thing to derive stake accounts from their authorities early on
is there any reason CPI aren't captured in the inner instructions returned by a getTransaction RPC? i see some previous discussion saying CPI recording can be turned on/off for different nodes, but the missing inner instructions don't seem consistent enough to make me confident that is what is happening... for example: https://solscan.io/tx/5tEEC835EbJtmQDV9qgdV2wj4gsCas3Cwr1Wwhy5RiohwXvQ35mScBL1a2Dzt4jpfPZMZ4o8ZGZBg3tyRuavt2cG
Whereas the new/cool PDA addresses *can* be signed for (by their deriving program, via `invoke_signed`, so they can keep on using `CreateAccount`)
I think it's helpful to note that the reason why CreateAccountWithSeed exists is because the regular old CreateAccount instruction requires that the address of the new account signs‚Äîbut the weird old type of address *can't* sign, so you need a whole separate instruction to init that kind of address.
OK I can do that, thank you
Maybe look at SPL ATA, it's a good basic PDA example
I would very much suggest against using any of the *WithSeed methods
I guess I'm confused about whether or not my program will create a PDA by cross-program invoke of the system program's CreateAccountWithSeed, or by calling out to some syscall thing
No
No of course not.  Program just passes through the seed to CreateAccountWithSeed, correct?
What you don't want to do is trust (or need to verify) the user's inputs
the client needs to know how to derive the pda so it can be added to the transaction's accounts list anyway.  you can do this with a helper library (or be lazy and just publish the spec)
(like, querying RPC for info about what account was created)
My question is, does it make sense for the client to compute a seed in my described scenario?  Or is it better for the program to create a seed and for the client to somehow find out about it by querying?
*WithSeed also sucks because it doesn't force the derived address off-curve
OK so sorry to keep bugging you, I promise I am coming to the end of this line of questioning.
My goal is to have a program that creates PDA accounts and fills them with data of a certain form.  It will do this in response to being invoked with a certain set of instruction data.  But I want the client who supplies the transaction to know what the resulting program derived account will be so that it can then refer to it later.
In this case, I believe what makes the most sense is for the client to compute a seed, and supply that to the program.
That array being a more convenient and more efficient form for the expected use case of "seeds that are segmented into sections to represent sub-seeds within domains"
OK then so, CreateAccountWithSeed is a system program instruction that has a more impoverished means for specifying the seed; but within an actual on-chain program itself, I "syscall" out into a "better" API that takes an array of seeds.
OK now I think I am getting it
Why spend what you don't need to?
that manipulation costs CU
But I can do that anyway, with even more generality, just by manipulating a byte array however I want to.
So you can do cool shit like `&[b"program_domain", user_pubkey.as_ref(), b"address_usage", &[bump]]`
Maybe only the outer is a ref i always forget
Yes I am sorry that's what I do not understand.  Why not just &[u8].
Or something
signer seeds is &[&[u8]]
How the actual account address is derived
I'm talking about how it actually functions, independent of API
in you api or the one that exists?
Am I wrong?
There is a single sequence of bytes involved here, + the program id
Really not trying to be nitpicky
Yes I am sorry, it's the pluralization of seed that I don't understand
i am lazy and do this often
sorry, "verifies that the seeds result in an off-curve address"
(not sure why you say 'seeds' since in effect there is one unique sequence of bytes that combine with the program id to create a PDA, and that sequence of bytes is 'the seed')
And it generates the PDA using the program id and the seed
invoke_signed verifies that the seeds are off-curve, yes
Or am I hopelessly confused?
(but I am assuming that the runtime must also be told about the seed along with the program id so that it too can verify that the hashed account is a PDA of the program)
OK thats fine, let's forget about the client side question.  Just wondering about the program side.  If I understand correctly, it takes some arbitrary data and combines it with its own program id and hashes that.  And that value is "magical" in that the runtime will allow the program to operate on accounts with that address as if the program was a signer for transactions writing to that account, even though there is no way to sign transactions addressing that account since the derived address must be off the curve.
implement arbitrary program controlled user proxy accounts with your interface
Or even if not, I don't see why the program has to do it with arrays of arrays
I assumed that's how it would work.
but the program may want to control seed generation
you're suggesting the entire seed be constructed client side?
I am just trying to ensure that I understand how PDA pubkeys are derived and whether there are constraints that I am not realizing
I am honestly not trying to be argumentative or nitpicky
What concatenation overhead?  I construct those 512 bytes however I want ...
array of arrays allows you to avoid concatenation overhead
Right so, all I need is to provide an input to be hashed.  So all I need to provide is 512 bytes, not arrays of arrays etc.
Look at the implementation, they're just hash inputs
I don't quite understand why I want more API than "array of up to 512 u8 bytes" and then I can manage the contents of that array however I want.  The fact that I don't understand why the API is more complex than that just worries me, like I don't understand something about what it's doing.
'cause you can arbitrarily specify your program's address space
What do you find uncool about it?
OK so why is an array of at most 16 u8 arrays of indeterminate size better?
Thanks for the heads up
They should be, but if it's working fine for you then it must be something else. I'm sure it is something very silly.
Haha
'cause it's the old, stupid one
That's the old and stupid one
Are you sure all of your arguments are correct? I'm doing the equivalent locally and it works, so I think you're doing something else wrong
Which I also don't understand
The CreateAccountWithSeed instruction takes a string of ASCII characters
Which one is the new and cool one?
choose your fighter
```javascript
await program.rpc.func(
            // ... other args
            [40,60].map(i => new anchor.BN(i)), // this doesn't work
            {
                accounts: {
                    // ...
                }
            },
        );
```

Rust

```rust
pub fn func(ctx: Context<Thing>, /* args */, list: Vec<u128>) -> ProgramResult {
  // ...
  Ok(())
}
```
one is old and stupid, the other is new and cool
It doesn't create a PDA, contrary to what the name would suggest lol
Makes me feel like I am not understanding something
create_with_seed is a weird/totally different API
I just don't understand why there are different ways to specify the seed
And why does create_with_seed take a string?
Why does create_program_address take an array of seeds instead of a 64 bit value to represent the seed?
Can you show me the JS syntax you're using?
I keep getting the "TypeError: src.toArrayLike is not a function"
I just tried this locally and seemed to work fine for me‚Äîwhat's not working?
It's not working with BN either :/
123n soon hopefully though
Yeah, anchor doesn't natively support bigints, only the janky BN thing
maybe the toArrayLike method is defined for BN and not BigInt, idk
im not sure if it works with native bigints like `1273737n`
I tried it using [BigInt(40), BigInt(60)], let me see if using BN helps
Whoops beat me too it
Can you not just do `[1,2,3].map(i => new anchor.BN(i))`?
does it work with `[new BN(‚Äò0‚Äô), new BN(‚Äò1‚Äô)]` ?
https://github.com/project-serum/anchor/blob/2529b06c02b0b40cf17e2017f3f8fd90b935826e/ts/src/coder/common.ts#L31
hm nvm i thought only vec<u8> cuz it special cases that to bytes
The Anchor IDL says "vec: u128" for that type but yeah, not too helpful
I kinda need the uint to be big. Any idea on what I can do about that?
There is some deal going on with the serialization that I'm not really being able to debug
only vec<u8> i think
oh
u128 should work
I can't seem to be managing to pass Vec<T> with T=some number in general
wait nvm maybe not true
I tried that and still didn't work üò¶
u128 too big for anchor idl, use u64
that repository is not supported on this server.  the people who maintain it have asked that all support requests be raised via issues on github
hey i keep getting an auto merge error for the token list does anyone know what this error means ```failed to normalize: failed to normalize JSON: hujson: line 2, column 6: invalid character ',' after object name``` in regards to this PR https://github.com/solana-labs/token-list/pull/21751
i want to locally test my program, otherwise team members and I cant develop in parallel very well unless we have multiple deployments on devnet. 
ended up using anchor's cloning features
Hey there. Anchor question here (0.21.0). Anybody may tell me how to pass a Vec<u128> argument from the TypeScript client side onto a Rust program instruction? I can't manage to type it correctly and the test fails with "TypeError: src.toArrayLike is not a function". So far, I'm just passing a regular array like [1,2,3]. I tried with BigInt arrays too. Can't get it to work.
So it should be something like this?     [
        Metadata,
        {
            kind: 'struct',
            fields: [
                ['key', 'string'],
                ['updateAuthority', ['u8', 32]],//['u8', 32]
                ['mint', ['u8', 32]],
                ['data', Data],
                ['primareSaleHappened', 'u8'],
                ['isMutable', 'u8'],
            ],
        },
    ],
why not just call them on devnet?
rust cpis
Because I was wondering if it was worth stacking an NFT to receive a token that has no value except for utility (actually I don't know how to create a corner and make it have a value for maybe later the SWAP or something)
are you making a cpi within rust or calling them within javascript
and that will cause problems
is there any way to locally test integrations with arbitary programs by dumping them and then deploying them to localnet? i know i can get the `.so`, but the locally deployed program wont have the right programId will it? since i dont have the keypair
anyone use quicknode here who'd be willing to help? we're running into this issue where if we do sendAndConfirm and then read that value, it doesn't work. My guess is that the replication time is longer when using quicknode vs. using api.mainnet. Anyone know otherwise?
Hi ! Do you know guys a tool for create his own staking NFT website ?
ty
So the compiler clearly emitted some funky logic that was eliding some 'if' conditional based on its assumptions of memory contents or something
And I even went so far as to print out the compared values to try to see what was different, and they were identical
Essentially sol_memcmp was returning nonzero when two identical pieces of memory were compared.
it depends on where you need to do it, but thats an example of offline signing
would be nice to have some more support for that, just a lot going on.  thank you for battling üôÇ
I'm also asking on the clang Discord about this issue
Thank you
i think max/mango did some C stuff for some trading intefaces.. he may have some insight üòõ
do i do that in the frontend ts file?
right. seems strange at a glance.  i dont think the C end of things gets as much attention
The real example was alot weirder, it was failing in a strange way
What I gave was just a more concise example
The example I gave is not even the example that caused the problem
https://solanacookbook.com/references/offline-transactions.html#sign-transaction
Yeah but, it's really weird to me that clang emits faulty code
dose anyone know how to do offline tx signing?
c itself was never known for 0 initialization.  so may be why
I am searching but can't find any options to tell clang "assume memory is zero initialized when you do your optimizations"
i ll ask there then. what link though?
i hope so, or configurable. sounds great. id dble check in the anchor discord. can share a link if you found one
FWIW it seems that the weird and possibly incorrect compiler behavior only occurs at -O3 optimization level.  At -O2 everything works as expected.
i think this has changed.. metadata is populated automaticallly now from what  i found
OK then I'll ask a more succinct question:
**Does the Solana runtime zero initialize heap and stack (and BSS if there is one)?**
I thought that the Solana runtime zero initializes all memory?  If it does, then the LLVM compiler is optimizing incorrectly.
If I memset the two structures to 0 first, then it optimizes to "return 0".
Oh I get it
But if that's so .... WHY?  Because the result should be "return 0" since the memory is identical
I'm guessing that the compiler is doing some gnarly optimization and determining that the program can be optimized to just the "return 1001" case?
Compiles to this:
```
$ ~/.local/share/solana/install/active_release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/llvm-objdump -d /sandbox/nifty-stakes/test-c/test_c.so 

/sandbox/nifty-stakes/test-c/test_c.so: file format elf64-bpf


Disassembly of section .text:

0000000000000160 <entrypoint>:
      44:       b7 00 00 00 e9 03 00 00 r0 = 1001
      45:       95 00 00 00 00 00 00 00 exit
```
For example, this program:
```#include "solana_sdk.h"

typedef struct data
{
    char a_bool;

    uint16_t a_u16;

    uint32_t a_u32;

    char a_string[14];

    uint8_t a_bytes[7]; 
    
} data;


static void log_data(data *d)
{
    for (int i = 0; i < sizeof(*d); i += 5) {
        uint64_t array[5];
        for (int k = 0; k < 5; k++) {
            if ((k + i) < sizeof(*d)) {
                array[k] = ((char *) d)[k + i];
            }
            else {
                array[k] = 0;
            }
        }
        sol_log_64(array[0], array[1], array[2], array[3], array[4]);
    }
}


uint64_t entrypoint(const uint8_t *input)
{
    SolParameters params;
    
    data expected;

    expected.a_bool = true;
    expected.a_u16 = 10;
    expected.a_u32 = 0xdeadbeef;
    sol_memcpy(expected.a_string, "Hello, World!", 14);
    for (int i = 0; i < 7; i++) {
        expected.a_bytes[i] = i;
    }

    data expected2;

    expected2.a_bool = true;
    expected2.a_u16 = 10;
    expected2.a_u32 = 0xdeadbeef;
    sol_memcpy(expected2.a_string, "Hello, World!", 14);
    for (int i = 0; i < 7; i++) {
        expected2.a_bytes[i] = i;
    }
    
    data *d = (data *) &expected2;
    
    //sol_memcmp(&expected, d, sizeof(*d));
    
    if (sol_memcmp(&expected, d, sizeof(*d))) {
        return 1001;
    }
    else {
        return 0;
    }
}
```
to the users
so that i dont show my private key
Hi I am getting the absolute weirdest behavior with compiled C solana programs
Does anyone know how can i do offline signing tx?
ohkay...
not sure if this has changed.  always had to manually update the idl with a program address, if you were wanting to store it in there.
anchor build does not populate the program address, if thats what u were referring to, its done manually, from what I recall ?
oh... but still anchor build should in theory put the metadata address on to the idl file
```json
"metadata": {
  "address": "sewfwef"
}
```
like this
not really sure what this means here..  there is a mint authority of a token, and there is a signer when performing a mint to method,  there are many examples in anchor, I would check the ido-pool, escrow, and some other related examples.  can search on the method you curious about as well.
Hey everyone! Does someone had a problem building farm program from solana program library with m1 mac?
i have declared the program id in lib.rs and changed it in anchor.toml too
I'm actually not sure off the top of my head why anchor would care about the IDL stuff while deploying (it's kind of unrelated to deploying)
tysm
Hey everyone! I am having a problem.. anchor build is not emitting the metadata address in idl json file.. i am not being able to deploy to devnet because of that
https://solanacookbook.com/references/token.html#how-to-transfer-tokens
generally the first account is the payer, not 100% if this is guaranteed in all cases atm, and in the case of the field 'feePayer', or in a get i do not recall. may have to do some experimentation there and or look at some of the web3 js and related code.
like this?
what do you mean by custom tokens?   spl-tokens can simply use the spl-token transfer and related commands to transfer them where you like per normal use.
can we be sure that the first account in the `result.transaction.message.accountKeys` list pulled with `getTransaction` is the transaction's payer?
Is it just me or are my transactions being dropped more frequently than before?
hey does someone know how to assign a pda as authorithy in the MintTo function from anchor?
This helped. Thanks
Hey guys! does anyone know how can i transfer custom tokens from one wallet to another?
Ok, back to work :), two more modules I want to write tonight.
yea just an added ref but for programs so on validator end.
<@!785084693023424542> yeah, but who prints that exactly? I'm building a Rust tool that uses of course things like `solana_client` for sending RPCs, so I understand I might see logging messages from the `solana_client` , but why would I see `msg!` logs, that's what the validator outputs to the logs, no?
the thing with Anchor is, everything changes every month xD. Anchor 0.22 made basically 100% of anchor programs incompatible without a few changes.
println from client, and msg! from program to get into logging, generally as well, if you didnt know.
these articles look neat, I'll give it a read later.
and an additional one on top of that for anchor with some diagrams: https://hackmd.io/@ironaddicteddog/solana-anchor-escrow
and paul's solana bible that lets you visualize it with the escrow contract.
https://solanacookbook.com/core-concepts/accounts.html
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account

Are about as simple as it gets
Is there an easily digestible flowchat, document, video that walks someone thru the account model... 

The docs and all the blogs I have seen got me about 80% there... but just seems like there is a lot of unnecessary pain involved in getting this stuff comprehended
Thank you, I will check
or you can do thigs like `which solana` to print the path
the find command I sent you will help you find it
you must have installed somewhere else then
that's where the install script puts everything, config is saved and solana caches things by default
False, I did it and it didn't remove solana
you can verify with `find / -iname '*solana*' 2>/dev/null`
`rm -rf ~/.cache/solana ~/.local/share/solana ~/.config/solana` should remove everything
you may try delete the install folder default ~/.config/solana has the files/dir u want to look at.  backup and review as needed prior to any delete.
Super quick question:

the logger https://docs.rs/solana-logger/latest/solana_logger/

for example used as: `solana_logger::setup_with("solana=debug");`

will result in visible logging, so for example when I call any RPC with `solana_client`, all relevant logs get printed to `stdout`/`stderr` of the process I called the RPC from or I misunderstood?

edit: ok, it's just this, so it just sets up the env_logger, nothing fancy.
```
// Configures logging with a specific filter overriding RUST_LOG.  _RUST_LOG is used instead
// so if set it takes precedence.
// May be called at any time to re-configure the log filter
pub fn setup_with(filter: &str) {
    let logger =
        env_logger::Builder::from_env(env_logger::Env::new().filter_or("_RUST_LOG", filter))
            .format_timestamp_nanos()
            .build();
    replace_logger(logger);
}
```
--slots-per-epoch just seems to change epoch duration to set number of slots
i want like 10s slots rn haha, for testing
is there a way to change slot duration on a localnet?
Hi! How to complete uninstall solana-cli  on ubuntu? I've deleted solana folder in $HOME/.local/share, $HOME/.config, $HOME/.cache but 'solana --version' still works
if you are using web.js you can just use: let transaction_id = await sendAndConfirmTransaction
<@!345912880446570496> how are you creating the transfer instruction?
i need to verify this transcation in the backend.
Hi guys,
How can I find out the details from the signature of an spl-token transfer transaction that has been made?
<@!499605357719453736> thanks a lot, i will take a look on github. you are awesome.
bump
Heres some code that does this. Not sure how ledgible it is tho: https://github.com/nibbus0x/nft_playground/blob/main/app/components/NftFetcher/index.js
How I do it:
1) Get all token accounts of the connected wallet
2) Filter token accounts to those that are non-empty 
3) For each token mint check if it has an associated metadata account
3.1) If yes, mint is an nft. Add it to a list of NFTs
3.2) Otherwise it is not
4) Return the list
I have a txn where a ATA does'nt belong to the wallet but he was able to transfer token from it to another one which is quite odd
i connect to a wallet, i got the public address, now i want to get contract address of NFTs owned in that wallet.
<@!629343184480108574> You have an account address for a NFT and you want to get the public key for that account?
It looks like solana public keys are 32 bytes (256 bits) according to: https://docs.rs/solana-program/1.4.4/solana_program/pubkey/struct.Pubkey.html#method.new_from_array
or atleast point a direction to work on
can anyone help me please?
So sure that is the problem, because I don't know which type has to be assigned to pubkey variables, is it ['u8', 32]??
Tysm
but i want to get contract address of owned NFT's for a public key
I use public key as search string on "https://explorer.solana.com/address/J7spGEJ17wyMPFj6Hhws8BuVqraBAD7yFSVkEGX9RM18/instructions?cluster=devnet" and i could see the tokens owned.
Hello, How will i be able to get contract address of NFT collected for a public key?
Is the `getProgramAccounts` rpc call working for anyone? I keep getting a `410` Gone error
No
Yes exactly, provide UX testing support, to improve usability and aid adoption. I‚Äôm interested in options for setting this up
Is ATA is transferrable ?
Thanks for your reply..so as per my understanding if somebody gets access to my associated token account only then will they be able to mint more of my tokens..?
And hello everyone üëã üòá
does anyone know how a program (which is the mint authority), using a pda,  can mint a token to an address? i always get an Error, that the owners don¬¥t match, when using MintTo in Anchor
It's a great experience and awesome to learn on the journey
All good! My first hackathon I had no UI on the final day. I didn't win anything, but I was able to scramble one together
I have completed smart contract - gui is pending - have to make presentation as well - feeling nervous : /
Yesterday I believe
1) You can also mint more tokens if you have authority to
2) If they're minted to your associated token account, you own them
was this added today?
Big `SUBMIT PROJECT` button https://solana.com/riptide
promo isn't really allowed though. I'd recommend sharing it on twitter
How to submit project to the hackathon?
Hi everyone..hope everyone is doing fine..I am new to solana n I have a couple of questions ..it would be really helpful if somebody can help me out please..I am trying to build tokens in solana which is very easy to build as per documentation..kudos to solana team for that..my questions are as follows
1) if I create a token but don't disable new minting of the tokens  can I always mint new tokens later on?
2) n if I mint tokens n associate them to a particular account can somebody else (a bad actor)also mint those tokens or my tokens can be minted only by me with only my associated account?
Pretty fun tool
Hi,
I have developed a website so that I can test JSON RPC API with UI. Multiple public networks are supported, and custom networks are also supported.
I am constantly developing this, and I hope other developers will find it useful as well.

https://www.api-composer.org/json-rpc or https://api-composer.vercel.app/
`TOKEN_PROGRAM_ID` is exposed by `@solana/spl-token`
If the serialization is done correctly, this should have worked. I would double check that
were you able to find out which program address is this ?
It can be used with fungible tokens, but wallets are still getting full support
Not all too sure on expo, and the error shown isn't the most helpful
So you want to help others with user trials?
100%
But you can give it as an example if source is open when people ask about fanout
share that?
I can push to my repo,
No promo really allowed
it includes a ui in the browser for fanout stake, unstake, and claim
dunno if I can linkdrop here or not
hi üôÇ dunno who wants to hear this but I took metaplex fanout aka. hydra and entangled it with strata foundation social tokens, with high fees, it's a nice lil crap game. but illustrates mechanics nicely
any specific code base you deem particularly helpful?
I'm a user researcher, looking to provide ux research support to projects building on solana, to aid ecosystem adoption
Thanks for the suggestions.
if doing in native you need to choose deserialization technique and set it up. there are lots of serial/deserial examples in the code base. there is no 'auto' deserialize for anything.  anchor has made serialization as easy as possible. if you need something more, you id look into the examples and solutions in Solana and SPL code bases. Token, Gov, Farms, being some examples of projects that have different approaches.
I'm already in there, just wanted to include possibly anchor-independent approaches to the issue by asking on this server.
What are you building?
I'm looking to speak to someone about applying for an Ecosystem Fund grant, but unsure where to place my expertise. Is there someone from Solana Foundation who can help point me in the right direction?
`Foo::try_deserialize` where Foo is the account state
https://discord.gg/C6xAvUwr
using Anchor btw
Are there any helpful tips in regard to dealing with the deserialization of large accounts in solana, apart from using zero_copy, which unfortunately only works with structs purely mad up of PODs?
When's the last time it was down?


///////////////////////////////////////////////////////////////////////////////////////////////

Hi, I have a SPL token account existing on mainnet cluster, if I check the balance by "spl-token supply" on CLI command prompt that is coming different than if I check via RpcClient::get_token_account_balance in program. It looks like 2000000100 tokens less via program. Does anyone know the reason of this difference ?
if anyone has a github or docs
and not their currency
Hey how can I upload a json file to arweave? Using SOL
I'm trying to create my own token but I got this error. Does anyone know how to fix this?
Ok, thank you. Is there a Serum/Raydium support group?
In general, no, unfortunately
(I have a spec/protocol written up)
where would the best place to talk about potential project ideas be?
I'm interested in extending wormhole securely to privacy preserving chains (e.g. scrt, oasis) to enable prifi bridges to Solana
I'm viewing transactions on solscan.io and I'd like to find the code corresponding to them. I know how to download the binary of code (solana dump), but is it possible to get the human-readable code? Specifically, I'm trying to find out what "Raydium:monitor" means.
Worst case you can just copy the source-code of `Token.createMint` and do it yourself
No, you can pre-pick your own address to use for the mint, and then pass it to createMint (at least with the latest version of the spl library, which you aren't using)
Wait i don't get it. Because if I want to get the mint pubkey I have to execute createMint
```
const mint = await Token.createMint(...)
const tx = new CreateMetadata( ... mint ... )
send(tx)
```
So just pick the address first and then use it for both createMint as well as the PDA
Can't remember about the old versions
Oh,  got it‚Äîwith the new spl library yeah, you can pass in an optional argument if you know the keypair you want to use
Is it possible to know the token mint account pubkey of Token.createMint before executing?
So you can go ahead and calculate the PDA too
You already know the address you want to create the mint at
Why does that matter?
Because I have to calculate PDA first?
Don't see why not, have you tried? üòõ
Sorry not token account, metadata account for Metaplex
hey , i am in need of kinda some help regarding staking pool. I have to implement that functionality but don't know how can i do that, kindly show me some direction.
Thanks in advance
Don't see why not, have you tried?
Hello, is it possible to createMint and create token account in one transaction?
or is that something i have to construct myself
gotcha - is there some sort of api or list of mints that I can pull from?
Right, I think I mismanaged the code. The first `PublicKey` parameter, should be the token account which changes I'm listening, am I right?
For example, if I'm interested to listen USDC account changes, the `publicKey` should be the token account address for the usdc?
Don't think so, no. You'd need to look up details/metadata about the mint itself.
I was thinking of filtering by programID, but i‚Äôm not sure what other factors to filter by
Is there any way to distinguish between NFTs and token accounts with balances when calling getParsedTokenAccountsByOwner?
Check how big its data is
Are you sure that account is a token account?
Thanks! `AccountLayout.decode` throws `Attempt to access memory outside buffer bounds` error, any ideas ü§î
Thank you for this
Is there any way to return all transactions from a wallet (with transaction details)? I want something like  `getTransaction` but instead of getting all the details by inputting a tx I wanna get all transaction from an address
Is this supposed to be simply switching the endpoint to the provided quicknode rpc? or is there something else I should be aware? Thanks
On javascript `@solana/web3.js` I'd like to understand how to use a private rpc. So, for my test I've picked Quicknode RPC but when replacing it by the original computed endpoint, it doesn't seem to allow me to make any transactions, while switching back to computed endpoint with network set to mainnet-beta seems to work

```js
// where network is "mainnet-beta"
const endpoint = clusterApiUrl(network), [network])
```

I replace it with

```js
const endpoint = 'https://<node name>.solana-mainnet.quiknode.pro/<private-hash>/'
```
I haven't tested this but I believe it's as simple as
```.js
import * as spl from "@solana/spl-token";
connection.onAccountChange(theAddress, newAccountInfo => {
  const tokenAccount = spl.AccountLayout.decode(newAccountInfo.data);
  console.log(tokenAccount.amount); //  or whatever
});
```
What's the best way to listen/update balance changes? For example, websocket for `onBalanceChange` would be perfect but I cannot find anything related to that, only `onAccountChange` but not sure how I can convert the returned data to easily see the balance changes?

A naive way would be to call the `getTokenAccountBalance` after tx is confirmed but feels clanky and websockets would be *much* better
Thanks!
`solana-keygen grind --help` to grind the keypair
Hey guys do you know how to make a vanity address the token mint of an SPL token?
Nobody helps me please
Hey, is there a way to do an offline listing for NFT ?
So no?
does anyone have an example of react typescript project with wallet adapter ?
there is a someone deployed successfully yesterday via cli tool which version is 1.8.x
maybe you can try it.
Yeah, that direction doesn't always work, for the same reason
Oh, unless you're trying to convert a BN back into a regular JS number?
Can you show me the syntax you're using? The string syntax is intended to solve that issue, so I think you're invoking it incorrectly
Hey anyone able to deploy to devnet?
But as an example, you can try this in a JS console:
```.js
Math.pow(2, 53) + 1 === Math.pow(2, 53)
```
For really big numbers you can't do `new BN(123412341234123413212341234)`, because that inner number expression will be a JS `number`, and those can only represent (all) integers up to 2^53. If you really want to use a huge BN you need to use the string constructor: `new BN("23412341234134212341234123")`.
Hey, is there a way to do an offline listing for NFT ?
Did any changes occur to the TPU in the newer updates?
Hi. what is BufferLayout for Address Public
vros, I added spl-token to my ProgramTest then did program_test.start().await, but when i send it a transaction which does CPI to the token program it says 'Invoke context not set!', how can i setup my tests to do CPI?
<#560174212967432193>
is it normal?
im using local test validator, and it seems the clock is 2 days behind
Got it. Thank you!! üôÇ
I think you will need to do some validations before you call invoke_signed and the validations depends on your business logic.
also if you want to read some data from an account, you must remember to check its owner is a correct one because some malicious user can fake a same struct account to cheat your program.
<@!788215642070581289> Got it. Thank you! Another question. In the escrow example, does that mean anyone send a fulfill the escrow requirement by sending the correct amount since the programId and is publicly available? And to prevent that, there must be another validation in place?
actually when you called `invoke_signed`, you can only pass `seed` into it. it will use current program's program id so only the correct program can sign the PDA (only the correct program can derived to a correspond PDA)
Hey guys!

"No other program can fake this PDA because it is the runtime that sees which program is making the invoke_signed call. Only the escrow program will have the programId that will result in a PDA equal to one of the addresses in invoke_signed's accounts argument." Got this from paulx (https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/#processor-rs-part-1-rent-part-1-starting-to-process-the-initescrow-instruction)

Don't understand why "No other program can fake this PDA". 

for PDA to be signed, you'll need the program_id, seed and include pda address in Invoke_signed right?ü§î
there is no etherscan equiv currently where u can just view all contracts, its a tool that has not yet been developed.  Many projects are now open source and post their code on their respective githubs, and Solanas source code is open source on their githubs.

in explorers like https://explorer.solana.com/ you can see transactions, instructions, and lots of info. but not any readable contract code.
Hey folks, I'm delving into Solana Smart contracts, I was wondering why you can't audit Smart contracts from other projects. Does that mean by default Solana Smart Contracts are closed source?
what exactly is in the sysvar_recent_blockhash account
Not as far as I know.  It's a very difficult slog through alot of complex programming concepts and no simple tutorial exists.
Hey, has anyone here tested out accountsdb plugins? I'm trying to figure out if, in ideal conditions, an accounts db plugin would return data faster than an RPC request; in a hypothetical situation where the RPC is being continuously polled (no rate limiter). And if so, roughly how much faster?
there are rarely guides or how tos concerning dev on comlpex topics, but you can read other code as a guide and see how others do it to actually develop.  for concepts and theory your better off googling how staking in general works.

here is an open source NFT staking project: https://github.com/gemworks
cc: <@!857917486237220874>
like how to do it
is there a tutorial that's specifically tells me about the staking part? <@!821639748652761121> not just smart contracts
Yes
if Im making an nft project on solana and I want to allow my people to stake my nft, how can I do that ? I would have to make a smart contract right?
Hi guys! Do you know a tool to be able to stake NFTs in exchange for coins, and which has the possibility of locking the NFT.  The longer you lock, the more coins you will receive
Resolved: Check out how they send tx in their samples (https://github.com/phantom-labs/sandbox/blob/main/src/App.tsx) using sendrawtx. sendtx doesnt work by them for whichever reason
Has anyone found a fix/workaround for this bug?
Sad
only partially.
yeah this is how it is. they sent me a dm and tried to send me to a site to connect my wallet. like bruh im a dev, im not fully braindead haha
I've received 4 people in DM asking to help me with no messages in the server. Very suspicious.
Sending a message here invites so much spam.
ah thanks. i found the solana spl-token-registry
That data is off-chain, so to get it you go off-chain to whatever source has it.  I am not sure where this info is kept, used to be github.
from the mint address of the token
does anyone know how to query token metadata? get token symbol, name, etc
thanks!
aw man
They only have their help ticket site
No, they closed their Discord because of scammers
not sure if this is the correct channel for this, but does phantom  ahev a discord server/ somewhere one can ask questions when building with their wallet?
I guess it's too late to change anything though.  Because who knows if on-chain programs actually depend on behavior of failing when they pass in bogus data instead of having it ignored.
Although honestly the best way to do this would be to map the read-only accounts as read-only and let the operating system disallow the program from updating them.
I guess maybe the AccountInfos are an optimization assuming that memcmp is faster than memcpy?
I wonder how much time is being wasted on cross-program invocation checking AccountInfo contents and comparing them with what they "should be"
Just ignore everything in the passed-in AccountInfo structures except those that are needed to update account data.
The instruction execution engine should be keeping a hash of accounts used by the transaction along with their contents.  And it should ignore all AccountInfo passed through except those which are for read-write accounts owned by the calling program.  Those should get "copied" into the hashtable as an update of the account contents.  And the AccountInfos composed up when actually invoking the callee should be re-created from the actual account contents from the hashtable.
The only AccountInfo structures with any point are read-write account data owned by the calling program.
And then its implementation is dumb enough to actually compare the values passed through rather than just ignoring them
It takes an array of AccountInfo structures which have no point
OK so until someone can show otherwise, I posit that the cross-program invoke API is really dumb
Not really üòÇ I don‚Äôt know how to develop smart contract (i mean the logic) and the strength of Solana is that there are many actors who manage to develop generalist tools
idk if thats a helpful answer at all lol
Not sure of any atm but you could always try to build one yourself
Any ideas guys ? üòä
ty
Hello guys, may I know if we can get keypairs with address generated by the  created_with_seeds?
does anyone know of a way to query spl prices in usd or sol? for example, i have the mint ID of the atlas token ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx,  i want to query the usd or sol value of it
hi, is there a maintained list of good and reliable solana rpc nodes somewhere? We're looking for a fast rpc node without rate limits and as little as possible occurrences of "blockhash not found" or "node is behind" issues.
maybe the RPC for devnet is overloaded
any ideas?
hey! im trying to send one offline tx and after pressing button to send the tx one time i get this
Is there a graphql api for Solana transactions?
Hey, what's the difference between a RPC node an a Validator node ?
ü§î
The ones in resources are 404
Gm guys ! Do you know if there is Java / scala SDK ?
Hi, How do we go about adding a feature where you need to connect your wallet before you can play in a unity game? Is there any tutorial on this? Multiplayer.
is there a good way to filter recent transactions like spl transfers given a wallet id that werent sent by a certain wallet? I am looking at parsedTxns but would be good to only be able to query SPL token transfer transactions
? üòä
make sure you have SOL to fund the deploy
can try a different CLI, that is the same one as the network your deploying to,
some were able to with a earlier 1.9.x, or even a 1.8.x CLI
you can try to write buffer or close buffer and redeploy
you can try a different RPC end point 
can try a local validator if thats something you can do
This command is running, but result is same
solana program deploy <.so file path> -u d
But result is same
I have already updated the program's buffer acc with new seed
That's mainly because of network congestion, Try again many times or later....  it would resolve...... or you can use the shown SEED phrase to load (Recover) your program from the program's buffer account
How to solve this error on devnet?
I have got this error everytime to deploy the program to the devnet
Is there any way to make the Solana wallets (for example sollet.io) to approve the transactions  automatically, without getting any approval from users?
i'm looking
how do I get all the nfts a solana wallet owns?
Check out the "onXXX" functions of the Connection class: https://solana-labs.github.io/solana-web3.js/
Hi guys! Do you know a tool to be able to stake NFTs in exchange for coins, and which has the possibility of locking the NFT.  The longer you lock, the more coins you will receive
I have to recheck every 5 seconds. This is also a very bad solution.


///////////////////////////////////////////////////////////////////////////////////////////////

So if I get the account data too small for instruction error, is there no way I can fix it without losing the previous program's state?
thanks for letting me know! I'll check my implenentation as I definitely need to make usre I'm confirming the transaction exists.
Looks like the transaction never got confirmed
Same question
What I mean is, the data in the solana explorer is empty right. Is that because the state of the transaction was not confirmed? Does it ever get empty, or does it show something else like failure?
I'll check my implementation, at the moment I'm not sure if I check if the mint went through correctly or not
Maybe they got scammed ü§∑ Not really a developer support problem
I have two users who reported that their "NFT disappeared". One claims to have seen the image in the wallet earlier. I checked the explorer and both are empty!

https://explorer.solana.com/address/2JPekevwHSACL95txZ2u7N9fNUK8uVaeAH4c6rev8xaR?cluster=mainnet-beta
https://explorer.solana.com/address/98MDPZg8eg4wzaG42H4GwocNwpyksspbJtpNE8rS6eS4?cluster=mainnet-beta

Not sure what to say, as there are issues and sounds like a scam
No, you just deploy somewhere else
Hey guys, does anyone know if we can change the program id once a program is deployed?
... I understand the purpose of dereferencing....but why "double dereference"?
ty
Double dereference (pointer stuff)
'**'
what does the '**' mean in this line:
* * escrow_account.lamports.borrow_mut() = 0;
i will try adding the external accounts address in the tx.  thanks!
i see, well its compliled from solang, so maybe its not easy to determine that.  i guess it its callable by a user to change the sub-account storage, then its probably ok to do so from another program?
No, not unless that other program is written in such a way that it requires one
ok - but shouldn't need a sig?
You need to pass that other program's program_id into the tx as an account too
So you're CPIing to a different program?
this would be for writing to an account owned by another program, not the one receiving the instruction, so a program to program invocation
Getting this: Program log: call to account not in transaction
In general the owning program doesn't need a signature‚Äîit can do whatever it wants
Whether you need a signature is up to the program that owns the account
change the data?
Ah, no‚Äîyou can write to an account without it necessarily needing to sign the tx
I guess its related to the requirement that any accounts be written to needs to sign the tx.  You are familiar with that?
Sorry don't know the answer.
<@!182296047052259338> think you could answer this one?
Yo guys anyone knows web3 developers for web staking-game thingy? Paying well, if you are interested, we'll schedule an interview
I'll see how that goes! Thanks <@!182296047052259338>
Yes, that's correct!

Yeah
I'll go with that <@!182296047052259338> thank you
<@!182296047052259338> so basically remobve the first check I have, as I actually do that just after
const transactionResponse = await connection.getTransaction(txSignature);
Yup
<@!182296047052259338> can I use the transaction signature? that I use for the confirm transaction?
Ok I'll try that! I used confirmTransaction as a checkup, as I learn all of this on my own based on what I find
Just use the GetTransaction with the commitment set to finalized
Really no need that I can see to even use confirmTransaction.
https://docs.solana.com/wallet-guide/paper-wallet#seed-phrase-generation
Use "solana-keygen pubkey ASK" with your seed phrase from 
solana-keygen new --no-outfile
the status in the explorer is "finalized"
This is really driving me nuts. Changed the checkup to "finalized", and same issue. "Error: Transaction was not confirmed in 60.67 seconds. It is unknown if it succeeded or failed. Check signature 5pN6LcYiGDq4bbanReysfoTRB7PdZ2vKKGqn48PVb1GbeLkZqHWSYt21kZFDaR9g2AJstM8vAqii8C9GtDvdmVdm using the Solana Explorer or CLI tools.", using the "retry approach"
You know its throwing the error because serialized is not of type string. So work backwards.
Get back to me when you have those. Or work through them and figure out why it's happening.
Start logging. Log what the request body is, log if it's null, log the transaction in the body if the body isn't null. Log the const serialized. Log the typeof  serialized
Hey guys! Question about the Paper Wallet.
I did solana-keygen new --no-outfile
then solana-keygen pubkey prompt://
and the pubkey from 1st output doesn't match with the pubkey from the 2nd
I thought they should be the same. Am I doing something wrong?
and hard to justify to end users, they end up thinking I'm scamming them
and had similar issues, it's really frustrating
Yeh, that's a good idea as you mentioned before; mind is a bit more rough and quick as I literally do it by a given number of "retries" linearly; as the timeout between network calls is fine for me at this time, as I couldn't afford spend more time implementing. I've now changed it to "finalized", but I might be crazy but I'm sure I tested that one before
Yeah that should be fine. I use something along those lines but also along with an exponential backoff during times of congestion
This is the code, but it has no errors.
What about my approach, isn't it ok?
Any idea why I am getting this error? I am trying to use Octane, and I did every step of the guide:
It sets up a subscription on that signature. That will happen very fast, possible missing the callback.

<@!182296047052259338> I'm going to change it now
<@!182296047052259338> but I'm sure I tried those and had the same issue, it's so frustrating.
<@!182296047052259338> thanks! I had confirmed before but thought it was best to lower, sort of trying to get a "compromise" over wether is confirmed or not so that the end user doesn't have to deal with it
Or better yet, finalized.
Don't use processed, use confirmed
I believe any accounts that get a state change need to also sign the transaction?  In that case, would the tx need to be signed by the storage account owned by the externally called program, for which the state is changing?
Gets this error: `Program log: call to account not in transaction`
specifically related to: https://github.com/solana-labs/solana-solidity.js/issues/24
can anyone tell me if its possible for a program compiled from solang to call a mutative function of an external program (which is also complied from solang)?
üëÜ Is that alright for @solana/web3.js `connection.confirmTransaction(...)` ? As it's failing to confirm a tnx even though explorer has it as "success".
A recursive fn https://paste.sh/SkaND0I4#HlqqIQKilQ4LscfImE5TGATN
What function does this refer to (from the compute budget https://github.com/solana-labs/solana/blob/0224a8b127ace4c6453dd6492a38c66cb999abd2/sdk/src/compute_budget.rs#L102) ```     /// Number of compute units consumed by a log_u64 call
    pub log_64_units: u64,```
Very interested in the new process, Thanks!!
They have to pull the new versions too
I figured the wallets would be longer. However It's not even on solscan or explorer yet
If you're interested in a sneak peak of the new process, check out https://github.com/jacobcreech/Token-Creator
Hopefully this will be archived sometime soon
It usually depends on Phantom or the other wallets pushing the code
Ok, it's been 2 weeks. Did I do something wrong. Why is my token devnet name and image still not showing up.
https://github.com/solana-labs/token-list/pull/20520
Can I see you retry confirmation code, as well as a a transaction that shows good on explorer but your code refuses.
So, I did check the article and I do keep retrying like 5 attempts, for long period. By checking it directly in the solana explorer is "successful". My expectation is that the js call should return the same.
keep an eye on that if you want more accounts in a tx :))))))
there is a proposal that will allow for account lookups which will mean we can have way more accounts, but i imagine thats a ways away given that it's not much utility for the normies (https://docs.solana.com/proposals/transactions-v2)
Gotcha, even 30 accounts is still a much better improvement than v1.7
scammers all over in my DM's ...ü•¥
counting bytes in a tx is a lifestyle, adjust and cross your legs
god no man, its more like ~30 accounts then its gg
but now i am stuck with that type error
this is what i used
So if you want to use wallet, refer to these:
https://github.com/solana-labs/wallet-adapter/issues/189
https://stackoverflow.com/questions/70224185/how-to-transfer-custom-spl-token-by-solana-web3-js-and-solana-sol-wallet-ad/
DAHizi468Xqh1u1qaECeTiRSJWq84ApVnyj1cotqF8Ey
yes
Ok, your token is on main net correct? What is the tokens address
i want to send to multiple wallets but for now i am figuring out how to send to 1 wallet then i can make a loop
Instead of code. Can you lay out exactly what you are trying to do? Do you want the end user to send a spl token to someone, or do you want to send an spl token to someone
wallet to sign txn
i want to do it using wallet
i have a script similar to this and it works
This is some of mine.
i have updated link
That's basically unreadable
Oh boy
this is my current code https://gist.github.com/loktioncode/5b94267bcb27ae4c3c78ec493c9b8566
Are you positive you're passing in a correct publickKey?
now when i use the mint account i get. TypeError: Cannot read properties of undefined (reading 'negative')
    at BN.cmp (bn.js?fd88:2869:1)
    at BN.eq (bn.js?fd88:2935:1)
    at PublicKey.equals (index.browser.esm.js?156f:1791:1)
    at _callee$ (getOrCreateAssociatedTokenAccount.ts?494b:71:23)
    at tryCatch (runtime.js?ecd4:45:16)
    at Generator.invoke [as _invoke] (runtime.js?ecd4:274:1)
    at Generator.prototype.<computed> [as next] (runtime.js?ecd4:97:1)
    at asyncGeneratorStep (asyncToGenerator.js?e2f7:3:1)
    at _next (asyncToGenerator.js?e2f7:25:1)
That's how the mint account is displayed here https://explorer.solana.com/address/GXkq4EkzxQZ6PCMDNasmjGXTb8rELbaEzPbmWZX9C3Db
You can get the mint account from a token account by doing https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedAccountInfo or https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedTokenAccountsByOwner
No. The mint account is a separate account altogether
is the mint account the wallet that holds the token account?
https://explorer.solana.com/address/GXkq4EkzxQZ6PCMDNasmjGXTb8rELbaEzPbmWZX9C3Db is a token account according to mb
It doesn't look like `GXkq4EkzxQZ6PCMDNasmjGXTb8rELbaEzPbmWZX9C3Db` is a mint account. You got an invalid mint
https://gist.github.com/loktioncode/5b94267bcb27ae4c3c78ec493c9b8566 <@!489206164270350337>
lemme work on that
So for testing, you are sending a transaction. And then you are timing out trying to confirm it. However you see it on explorer as finalized?
Appreciate it! Have seen you helping as well. Really love seeing others help out as well
I find that at least during testing it keeps checking and the explorer shows it as "success", so not sure why that is.
I see you in Dev support a lot. Just wanted to say thank you for all the help you are giving people. I am looking forward to having stack up so we can contribute and reference things easier.
All good though. Glad you got it solved
Common issue üëç
Didn't have enough funded.
A slight embarrassing oversight on my part, having wanted to test something quick on dev net.
Curious, what was the error?
Got it! Lifesaver.
Another wallet should show the real error, then you can fix it and go back to phantom
I've let Phantom know they're swallowing errors and causing this issue. They're working on fixing it
Ohhh, ok. Sorry. Bit sleepy from pulling my hair out on this.
What I am saying is that phantom is hiding the real error code. If you try with another wallet, it should give you the real error code
So try a different destination?
Phantom is swallowing errors at this time
Try another wallet. It'll give you the real error code
Cannot read. Got a gist?
Hey Chido. Any advice on this one? On devnet. I'm sending a spl token. The code is textbook in my opinion.
That's part of v2 transactions. Not entirely sure, have asked the question and awaiting answer
the commented out part is what is giving me errors
Hey there, got a question on solana, does solana support up to 100 accounts in a single instruction in v1.9?

when you try to init a token account, the mint should be initialized before or it failed.
FYI https://solanacookbook.com/references/token.html#what-do-i-need-to-get-started-with-spl-tokens
have you read this https://solanacookbook.com/guides/retrying-transactions.html
use https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
and https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
got it thanks -> got it from distribution
yes
Are they your NFTs?
no tokens here i want to know the account on which my nft is minted or more clearly which contains my nft so i can burn it
Select detailed

Not enough information. What does your transaction code look like?
can i know token-account address from explorer?
That page describes all the things you can do really well. You just need to implement it.
Not much you can do. Add an onSig to get the callback when it reaches commitment level. Even if that fails hold onto the sig and employ exponential backoff for an extended period of time until you can consider it failed.
It's really hard to decide what to do without being able to confirm a transaction ( https://solanacookbook.com/guides/retrying-transactions.html )
which also didn't get any feedback. Not sure if anyone experienced this and can provide some hints around it
I've put a question yesterday about this, to see if I could use an alternative RPC as paid quicknode but didn't get any feedback, but seems that other user also asked the same here https://discord.com/channels/428295358100013066/837340113067049050/951306518404427796
I'm facing the same issue, while did try the retries etc, today is the worse to the point that I keep retrying and no response. Although the explorer shows as "succeeded"
what might be my issue. please help <@!439210198142550016><@!804350183105363980><@!746013355730272328>
next-dev.js?3515:32 Transaction simulation failed: Error processing Instruction 0: custom program error: 0x2 
    Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL invoke [1]
    Program log: Transfer 2039280 lamports to the associated token account
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Allocate space for the associated token account
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Assign the associated token account to the SPL Token program
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Initialize the associated token account
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [2]
    Program log: Instruction: InitializeAccount
    Program log: Error: Invalid Mint
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 2912 of 174509 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: custom program error: 0x2
    Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL consumed 28403 of 200000 compute units
    Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL failed: custom program error: 0x2
i am trying to send spl-tokens using javascript app and i get error belo
By lowering the commitment on check would that help? The available states are

```
    | 'processed'
    | 'confirmed'
    | 'finalized'
    | 'recent'
    | 'single'
    | 'singleGossip'
    | 'root'
    | 'max';
```
üëÜ I need to be able to confirm this programmatically as it was working before, this seems to be a persistent error for the past few minutes
Having an issue when using the `@solana/web3.js` connection.confirmTransaction

"Error: Transaction was not confirmed in 30.03 seconds. It is unknown if it succeeded or failed. Check signature 2msUfRJHEjZ6CkgqfzN18SvnPWdZqEieW2YfV4QYbqQes3sdhrWVpVEuVaiuKmJt58FCf4XXYCMTFaBUn4BU4Dp4 using the Solana Explorer or CLI tools."

The transaction is confirmed via https://explorer.solana.com/tx/2msUfRJHEjZ6CkgqfzN18SvnPWdZqEieW2YfV4QYbqQes3sdhrWVpVEuVaiuKmJt58FCf4XXYCMTFaBUn4BU4Dp4
Not sure how to fix
Deploying program "gem_bank"...
Program path: /Users/addaad/solswine-staking-v1.0/gem-farm/target/deploy/gem_bank.so...
==============================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
==============================================================================
`dadjhacjhbahc ajc a
==============================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
==============================================================================
Error: error sending request for url (https://api.devnet.solana.com/): operation timed out
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
Hey, has anyone else had this error when attempted to deploy on the devnet?
Hi, I am new to Solana and I have a few questions. I need to get all transactions for an address. In BTC and ETH I did this by running a node and creating my own indexed Dynamo database. Do I need to do the same thing for Solana?
Does anyone know how to get support added for a solana wallet in the official sol wallet-adapter?
Thanks <@134416332509675520>
Yep
Understood. So thinking of how id implement that (coming from solidity) I would keep a list of the possible signers PK on chain, and in the function verify one of them signed the transaction?
So, one way to do the above is to just keep track of multiple possible signers, and verify that at least one of them signed (could also technically use a multisig for this)
What is the current state of affairs with duplicate transactions hitting the validators? At which stage do they get dropped? Is there still benefit in sending same tx multiple times to get it confirmed? Any reference explaining the current situation (and planned near future updates) is welcome!
In general the only way to do access control in solana is by verifying that some address signed
Is there anything in solana like RBAC on specific functions in contracts? For example, the SPL mint function can only be called by the mint authority. However what im looking for is potentially multiple addresses allowed to access a function.
getProgramAccounts stopped working for mainnet ?
Hmm I think the ATA issue that I'm trying to resolve getting is bcoz of MEisE1HzehtrDpAAT8PnLHjpSSkRYakotTuJRPjTpo8 program which transfer the ATA ownership and  I suppose belongs to ME
but it creates new program each time
No, not normal, though I think I remember magic eden doing it
Also, can I ask how to redeploy/update a program? I am using this currently:

```
cargo build-bpf --manifest-path=Cargo.toml --bpf-out-dir=dist/program
solana deploy --keypair keypair.json dist/program/program.so --url https://api.devnet.solana.com
```
thank you so much !
it worked!!
Just last question. Is it normal among solana dapps do they changes the ownership of ATA generally asking ? What's the benefit of that.
```"The RPC call or parameters have been disabled."``` getProgramAccounts still works ?
ty! I will try it right now ‚ù§Ô∏è
No, that's for solana in general üòõ
thats for anchor right? but I cannot use it at solana_program
`Clock::get()?.unix_timestamp`
and tried on pc too - same error
still not working
how can we get a timestamp at solana_program
yeah
heyoo
what if you run with `solana-test-validator -u localhost`
did you set that?
oh no..
```
Config File: /home/lightyagami/.config/solana/cli/config.yml
RPC URL: https://metaplex.devnet.rpcpool.com/
WebSocket URL: wss://metaplex.devnet.rpcpool.com/ (computed)
Keypair Path: /home/lightyagami/.config/solana/devnet.json
Commitment: confirmed
```
whats your `solana config get` sayn.
wait - lemme try it on desktop and see if it works there
windows laptop - 16 gigs ram
low memory can cause weird issue with access and overrun
connect tends to mean folder, file, permission, network, etc. 
what about your machine specs?  is this a home box, a vm, 
how about the memory
still same error
tried `-l` flag too
just not solana-test-validator
and all other solana cli tools are working fine
yeah
did you go through a WSL setup?  i usually refer others to this,  https://docs.microsoft.com/en-us/windows/wsl/setup/environment
may skim it and see if anything pops out
tried -r, still same error
not sure if it could be a permission issue, and its not able to access something,  can try specifying the -l  for ledger dir, or sudo,  checking some permissions..
wait lemme try it
you could also try running   `-r`  flag to reset and check --help for some other options.
it stays stuck on `‚†† Unable to connect to validator: Client error: test-ledger/admin.rpc does not e`
does it keep running then?  that doesnt look like the beg of the logging for some reason
updated & upgraded - still same error
good idea
Hey, in the solana explorer, some instructions are marked as Unknown in a specific transaction. Considering I have the source code of the program, is it possible to know which instruction is invoked?
https://pastebin.com/nupjuC0b
did u make sure u installed the ubuntu updates,  the apt update get for packages?
lemme link it with pastebin
`solana-test-validator --log` seems to be outputting same stuff over and over again
`solana-test-validator --log` ?
looks like part of the error is missing. not sure why that is.
not sure if that would print anything better
did u try running with logging,   logs -v
yeah that's why I posted that ss lol
lol
no that's all it's displaying
is it cut off?
```
Ledger location: test-ledger
Log: test-ledger/validator.log
‚†§ Unable to connect to validator: Client error: test-ledger/admin.rpc does not e
```
try copy and paste the error here if its not very large, otherwise use a gist pastebin or some other tool for linking to larger text
Anyone knows how to fix this? (Running `solana-test-validator` in WSL2 - Ubuntu)
Ya new day new learning for me. I got it what could be the issue I will try to analyze it more deeply and find out that particular txn thanks <@!785084693023424542> <@!134416332509675520> for ur help.
Hie, i am trying to sign an spl-token transaction using a wallet adapter. How do i go about it using info from connected wallet
Initializing an ATA always sets the ownership correctly (it's just that it might annoyingly get changed later)
Yeah
If the ownership of ATA is transferred to some other wallet and then that wallets close that account then the ownership would be shifted to old wallet back when initializing again ?
Yeah, this is unfortunately possible (associated token *accounts* are just regular old token accounts, so you can do whatever you want with them‚Äîit's only their address that's special)
def going to be room for forensics
i dont recall the rules off hand for transferring ownership on certain things, but maybe a delegation, or approval of some kind took place at some point, perhaps in a transaction prior to that happening.  just guessing. it does look like the transfer was on that account on behalf of the address you specified tho,  and currently ownership is back where it was? so, thats my guess üôÇ
oho so it is possible that ATA ownership could be changed ?
hard to say, it was a while back to, so may be difficult to search on the other transactions that might be linked if any, during that time.   someone that account must have had authorization/ownership, if not temporarily.   lots of apps and wallets have made lots of oops code with ata, pda, and so forth.   the tricky part is fixing it, or tracking it down, and in some cases..  there are stuck funds/tokens out there. be interested in your case what u are able to find out
would submitting a tx thru a tpu client be faster than thru an rpc?
He is basically staking NFT so it gets transferred to a PDA and the token account of the user from which it gets transferred is saved into PDA so while unstaking it transfer back to same token account. But when trying to calculate the ATA for this token and wallet the token account which is saved into the PDA and the account which is being sent by calculating on frontend doesn't match so the txn is failing. I'm investigating how in first place during the stake instruction the ATA which is not for this wallet user got saved into PDA.
what issue are they facing?  did something happen that was not intended?
ideally it does, not sure how many levels of inner instructions or various details explorer shows.
I'm investigating a issue which a user  of my dapp is facing currently. I thought explorer shows all the txns related to any account
it seems that huobi wallet is deprecated now https://socket.dev/npm/package/@solana/wallet-adapter-huobi cmiiw
Is there a good resource for the costs of transient storage costs on solana?  I'm trying to understand the economics of a transaction that, etc, needs to keep 1kb of state active in the "contract"
are you investigating something, or just trying to figure out how someone is doing something?  not really sure, not everything is generally shown, from most of what I have seen.
i meant why it's not included? does solana wallet adapter still support `huobi wallet` ?
Ya when I search for all the txns for this 5hwxmokioUy38vTEUq98j4EH1PuD7ce4hiYPRbAYNRgK these two calls happened one after other ... there is no txn of how this 5hwxmokioUy38vTEUq98j4EH1PuD7ce4hiYPRbAYNRgK is transferred from  7ZpuSrxBsMVQ8z4GPdTvzsVvaT1qEw5yhRgh8fHKdDqP wallet  to  CBAZKNb1UT3MNu2ULbeoYPVFYvgHTYw5AU139b8spEPY wallet.
because its no included?
hi guys, anyone know why I can't find `wallet-adapter-huobi` from this file? https://github.com/solana-labs/wallet-adapter/blob/master/packages/wallets/wallets/src/index.ts
The first txn I'm not sure of but for the 2nd txn the NFT gets staked and for that its transferred to a PDA . This EP78mvsuvhEkbLH6BVHmzgmqTeWup8vGfTUKyKciV9cq account is the token account of the PDA
that address actually has a domain: crypt1an.sol
looks like someone 'staked' an NFT was staked on behalf of a program.  is this some unexpected behavior, use of some program?     how did this transaction occur?
sure these are two txn :

https://explorer.solana.com/tx/5GQ9xr41tPUaxrgEMmsVoBHxJgsfADcRLDzodj5aDHuaArXnCo6rFMBarzR7FUJ19oDUmh8AN78R46PQ1DggWFHT
https://explorer.solana.com/tx/5jEtvZVJ4w1tUf8tAjz8HQwqp2tNaMKindVc5g86bhvo96sMuBbtpVu1aWeifJbJbz1eRBKZL7rNh6pToJsgQxkE

Here ATA is 9nURhy3L5oMRtCAyXs742Er3J6MsaV12du3nqzvNRu7u and belongs to 7ZpuSrxBsMVQ8z4GPdTvzsVvaT1qEw5yhRgh8fHKdDqP
but in 2nd txn this is used by wallet CBAZKNb1UT3MNu2ULbeoYPVFYvgHTYw5AU139b8spEPY for signing
post a transaction üôÇ
I'm facing strange issue where ATA belong to some other user and some other user signed and transferred a token from that. Not sure how that is possible. Can anyone help me out ?
I tried multiple private ones yes, I'm going to try the public serum RPC now, then compile against 1.8.x and last option I'll ask a friend to do it for me, maybe it's something with my setup.
solana cluster-version  is not 1.9.9
because the majority of mainnet is not on 1.9.9, all I can think is its possible the deploy is doing some check and something with the more recent version does not exist on the RPC its trying to go through.    you tried other RPC servers?
I'm trying to deploy to mainnet yes. Devnet worked
yes one "-v" it don't give much more info
i dont think 1.9.9 would cause issues,   have you tried   using the verbose flag on deploy?
your trying to deploy to mainnet?
are you getting an error?
The crate dependancy is more recent (1.9.9) but how does it matter ? I mean at the point of failure, I am just uploading the .so, it is not executed yet...
or you mean the crate dependancy?
but I tried all of the list
for example
The same as the CLI, ```text
BPF SDK: /home/olivier/.local/share/solana/install/releases/1.8.12/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
```
Hey can you help me .. please
but what version of the SPL/Solana is your program pointing to, or building with?
I tried to match the RPC version (1.8.14 every time) but also tried other version and I rebuilt my program with it after every change (cargo clean then build). Note that works perfectly on devnet with default RPC but RPC version is more recent (1.9.9)
i try to make u64 it works but publickey not
Yes.
your asking how to do BufferLayout for a PublicKey?
https://solanacookbook.com/guides/feature-parity-testing.html
that can mean whatever network your deploying to, through whichever RPC, may not have a method your trying to deploy..  for some reason. different version, or out of sync. 
so it may depend what version your actually building with and the methods in that version, not just the CLI.

Hi. what is BufferLayout for Address Public. Thanks
Hello, I'm trying to deploy a program with a fair amount of space reserved (`--max-len 1665984`) and it always fails with an error -32601, Method not found. I tried multiple mainnet RPC (private and public) and version of solana cli (1.8.11 1.8.12 1.8.14 1.8.16 1.9.5 1.9.12) All with the same result...Idk what to do anymore.
Thank you!
Hi, does anyone know when the Solana adapter for WalletConnect will be released and why the folder with it was removed from https://github.com/solana-labs/wallet-adapter ?
https://solanacookbook.com/
https://soldev.app/
Whoever messaged me please send it again. I just accidentally ignored the message
Hi devs, What is a good way to encrypt using solana wallet keypair? Because they are ed25519 keys, do I have to convert them to x25519 keys before attempting encryption? Is there an example anywhere?
Hello everyone, I want to learn Solana ecosystem. I am a beginner in web3 space. Recently done some solidity projects. Now I want to move to Solana. So what should I learn to develop Dapp in Solana? Could anyone provide me with any courses or resources which I can follow?
Does anyone have some insight as to the best way to store wallet keypairs in a database? Trying to test a closed ecosystem with wallets stored on a db but I‚Äôm not sure of the best way to store the keypair in the db
https://github.com/solana-labs/solana/issues/new

The web3.js source lives in the monorepo at https://github.com/solana-labs/solana/tree/master/web3.js
The odd part is I don't need it on my test validator. My transaction appears to be using more compute units on devnet for some reason.
you can test it on your solana-test-validator
I think it haven't lived on devnet
<@!788215642070581289> A question I should have asked earlier... is this live on devnet yet?
Thank you!
maybe use it temporary 
https://solanacookbook.com/references/basic-transactions.html#how-to-increase-compute-budget-for-a-transaction
Is there a web3 instruction for this? https://github.com/solana-labs/solana/blob/0224a8b127ace4c6453dd6492a38c66cb999abd2/sdk/src/compute_budget.rs#L44
I don't find an issues list on that repository
Where do I submit issues for the Solana web3.js library?
Thanks üôè
Ok so i just try and error üòÇ
when will the faucet be refilled
you can take a look at https://discord.com/channels/428295358100013066/517163444747894795/950399367548923995
If I write it in rust myself, the problem would be what's the max number of instructions I can put in a single tx
https://j-neeraja.gitbook.io/spldrop/create-and-airdrop-spl-tokens
https://docs.solminter.com/spl-token-tutorials/bulk-distribute
I found several websites doing this
Thanks!
May I ask what is the best way to airdrop spl token to a number of addresses?
I got  0x136 = 310 "Invalid param" but cannot know what parameter I am tossing wrong
is there convenient location to look for the detail of error?
Actually nvm lol, it's an zsh thing. Had to import things in bash_profile to zshrc
Thanks for the help!
Ok, I think it's a VSCode thing. It works perfectly on Mac terminal
printenv shows the Solana path and I did add it to bash_profile
That command will only add it temporarily. You will need to go too 
~/.bash_profile
and add it there
Can you run the printenv command
It's just when I like close out of VSCode or start a new terminal, the "Solana" command doesn't work anymore
Yep, I opened up bash_profile and copied "export PATH=..." into it
Did the installation tell you this:
Please update your PATH environment variable to include the solana programs:
Hello, I just installed the solana CLI, but everytime I open a new terminal and run something like 
```Solana --version```
it would show "command not found: solana"
I would then need to export the path everytime this happens.
I am running on a mac
Could just use this:

https://docs.solana.com/developing/clients/jsonrpc-api#gettokensupply
In JS?
Hey everyone, anyone know an easy way to get the number of decimals for a given token using the mint address?
Thank you <@!134416332509675520>
https://docs.rs/spl-token/3.3.0/spl_token/static.ID.html
Hello all, quick question: from Rust, how do I get the address of the token program? Is there a const defined somewhere?
Using getRecentBLockchash give me these
So, all depends on the version of solana that have my node? It's all about that?
Yeah that is the node you are using
The node in these case will depend on quicknode or the RPC that I'm using'  ?
It is telling you the correct thing. It is deprecated. However if the node you are hitting doesn't have the newer method, it won't do you any good. However if you are saying it was working before, I'm not sure. Maybe something changed with your node
VS studio code tell me that <@!182296047052259338>

The strange thing is that before all works fine.. ü§î
Did you try getRecent instead of getLatest. I think getLatest should work for quicknode tho
Ok so you are using quicknode. And it is setup for devnet.
I already made it üòÖ
Yeah yeah
Delete that
I'm using devnet
If you are using a node running an older version of Solana:
What node are you connecting to?

A solana transaction signature is 64 bytes long.  Depending on the actual signature bits, the base58 length will vary as base58 is not a fixed length encoding
I'm not positive, but that seems rather high. Someone else really should chime in on this. I know a bitcoin address is somewhere in the fifties.

What part of your code is throwing it
Thanks. Number of characters are 87/88? Or am I incorrect ?
Good day!!
Someone knows why I get these error?
Sure, should work fine in the browser
Tried sending it somewhere else but it‚Äôs still there
Someone airdropped me a NFT scam how can I get rid of it from wallet ?
What are you trying to replicate?
.
.
.
https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountbalance
Hey, if anyone has been using the @solana/spl-token npm module, is it able to be directly executed on the browser or does it have to run in a server-side node.js environment?
e.g. BpuIV/6rgY....
It's a big base64 blob and I'd like to get the actual balance
How does one parse the data in an SPL token account?
Please help me - SOS...
Current solana cli version is 1.9.12

I have got this error every time when I try to deploy the program to the devnet
Hello, everyone
im actually finding it super difficult to even find any resources on this
so it's actually an issue with phantom?
ah.
Make sure people are using the latest version
and im also fairly sure it didn't USE to fail on mobile (using phantom wallet browser)
Phantom mobile broke signing a short time ago, not sure if they fixed it yet.
<@!182296047052259338> well that's it - it works exactly as you'd expect and verifying properly - but just somehow failing when the verification happens on mobile
on Windows 64.
I tried adding them to system32 and hit an error still.
I have libcrypto.dll just not x64. Did this change or do I have the wrong dll's?
trying to run a test validator and getting errors that I don't have libcryptox64.dll
Verify it on the front end and see what issues you are having
So on the front end you are encoding it, then signing, and sending it to the backend and trying to verify it
<@!182296047052259338> I am using Solana.signMessage(), encoding a string using `new TextEncoder().encode(string)`. Then remotely on the server I am verifying this using `nacl.sign.detached.verify` (as signing using the same nacl library to sign). This has been working, and verify returns "true" on desktop wallets. But when someone signs the same message on mobile (phantom browser) verify just returns false
Define error
It goes through and collects rent, ignores those that are rent exempt and collects from those that are not. If they hit 0, it purges them.
Hi, in the documentation it is written that "Each validator periodically scans all accounts and collects rent. Any account that drops to zero lamports is purged." How does this process work as the number of accounts can be very large?
Anyone know how to adjust the clock of my local validator? it's off by 5 days
Anyone I can ask some questions about using solana's web3 libraries to sign transactions? Essentially I am signing and then verifying remotely, but for some reason signing the exact same way on mobile wallets as I do on browser ones is giving me an error
That is correct.
Yes, but this forces him to use services like FFF and therefore the need to have a buyer
You can't really control that. Free market. Anyone can sell your token if they want to. LP or not
Mmh ok I think I know what you mean. Indeed I'm looking to create a utility token but avoiding the possibility of swap in $ which would make obsolete some of our tools/efforts
Not sure what you are trying to show with your example. A token can have value with no LP because it is desirable, has utility.
How can you have this value without a LP ?
What do you mean?
How ? üòÆ
Sure, plenty of coins have value with no LP
Hi ! Question about coin for staking NFT:
We agree in theory that you could totally use the coin without it being linked to an LP and having value? Linking it to an LP just gives the possibility to SWAP in $ only ?
Just use this. Use a realistic rate limit. No need every 30 seconds. If you need to know an exact count down to the second look into subscribing to the collection. Change the end of this to your collection name on ME
https://api-mainnet.magiceden.io/rpc/getCollectionEscrowStats/the_remnants_
How does solscan parse serum markets? Is this code public?
You are trying to get the number of listed remnants from your collection every 30 seconds?
Hello, who do you guys would do if you had to store historical data of NFT collection from Magic-Eden for example ? any tips / guideline ?
How would you retrieve listed count etc like every 30 seconds for a lot of collection ?
Need more information. What node are you hitting. What is your request format
is it phantom or the devnet.?..cuz i can't do swap operations on any dex on devnet...is it a temporary issue or just these days ??
bump
I seem to be having issues with phantom wallet. I am using the most basic example to send a transaction. Phantom says the transaction will most likely fail. And it says transaction failed when I try to approve it. This is on devnet.
have you resolved this issue?
Is anyone having issues with the Phantom wallet? I'm trying to add a custom token in "Manage token list" but the plus button doesn't appear anymore?
I want to deploy my program but I cannot airdrop myself SOL since its been rate limited for a while
hi, how long is the rate limit going to last for devnet?
Hiii, this is my first time coding with WS in the Solana network, is there a way to reconnect to the WebSocket endpoint after it closes/timeout?

In Ethereum, I can easily pass some config options to the WebSocket provider when declaring it, and that's all. So I'm not sure if there's something similar on SolanaWeb3.Connection, and I didn't find a clear answer on what to do when the WebSocket connection unexpectedly closes to make it run again.
No prob.
thanks :)
Arweave and Bundlr both have their own discord channels, btw.
Sure. You can check out the block explorer at https://viewblock.io/arweave
Make sure you're on the right network (e.g., devnet, testnet, mainnet).
You can also go to https://arweave.net/<transaction_id>. If you uploaded via Bundlr, you should be able to access your file right away. If not, you'll have to wait for confirmation.
is there a way to verify on-chain the contents of an arweave link?
Or, more technically, immediately usable.
There are several benefits to using Bundlr; you'll also get a transaction id that's immediately valid.
An arweave transaction is something I would do client-side. I'm not sure what your particular use case is, but the Bundlr network allows you to do do arweave uploads paid directly in Sol.
Someone else can correct me if I'm wrong, here, but I believe Solana signatures are base58, which can be represented by the regex [1-9A-HJ-NP-Za-km-z]. Add the number of characters you want in curly braces after.
Hihi, are there working tools for uploading data to arweave inside a solana program? And if so what are they
Hi, are there any resources available on regex for validating Solana signatures/transactions?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getAccountInfo - I would like to get account info with data as byte array - not a javascript programmer - how would I be able to do this? Currently account_info data is returned as buffer, when I stringify it does not become a byte array but into a buffer object. Need to serialize it so the data field becomes a byte array.
Does anyone have any advice or resources they can point me to for interacting with a program built in Anchor via C#? I'm not quite sure how to structure my program instructions.
gotcha, thanks!
Nope, not unless that owning program is the system program itself (so, basically, you only get one shot to assign program ownership‚Äîthe account starts out owned by the system program and then you can change its owner once)
ran on devnet, worked like a charm. thanks again
If a program owns an account, can I use this instruction to change the owner of that account?

https://docs.rs/solana-program/latest/solana_program/system_instruction/fn.assign.html
i'll look at the docs/test on devnet first
I've never used it so don't know how easy it is
didn't know it was that easy thanks
in solana cli
something like `solana program close`
does anyone here knows how to close a Program Executable Data Account and get the SOL back that is being held in there?
PDAs can only be signed by the program from which they're derived. So if a PDA address is derived from program A, then only A can sign for it (via `invoke_signed`).
PDAs can only sign for transactions within the programs that created them, right? So if I have program A and program B, and a PDA account that was created by program A. Could I use the PDA to sign a transaction from program B using `invoke_signed` if I knew the PDA's seeds?
The repo at least is here: https://github.com/solana-labs/rust
How can I find out the rustc version used by the latest solana bpf compiler?


///////////////////////////////////////////////////////////////////////////////////////////////

You can read through this guide here https://docs.solana.com/developing/clients/javascript-api#interacting-with-custom-programs for some idea
How can I decode transaction instructions data buffer in javascript, any ideas?
thanks
This is the future impl https://github.com/jacobcreech/Token-Creator
?
can anyone tell how to add meta-data to corresponding token like name of the token in solana
These steps work fine:
```
$ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
$ source $HOME/.cargo/env
$ cargo install spl-token-cli
```
`createAccount` actually executes an instruction on the systemProgram that creates an account within the program. Programs are required to create an account
I can't read that. Make a question on stackoverflow or create a gist
what do you mean the code on the program ? i mean, if i declare a createAccount instruction on the JS side, then i don't have to create an account inside the program too.
so basically the program code runs separately from the instructions as i see it... 
am i getting it all wrong ?
If any instructions within a transaction fails, the entire transaction fails
The instructions execute the code on a program
we write instruction on the client side (JS) and we pass  them with sendTransaction(...), as we run this command (as i understand) the program is being executed.. so my question is, what actually happens in the background - does the client instructions being fulfilled, or the actual code is running? 

does that sound reasonable ?
Can you say more? Not sure what you mean
sorry for wired question - what executes first - clients instructions  or actual rust code inside program ?
Please do no ping random devs
What does `which spl-token` say? Looks like it's not in your PATH
can anyone help me with this?
does anyone know how to get a nft name with the mint address? without using MagicEden endpoints
That's just how solana works, every single account your transaction wants to used needs to be pre-specified by the client
Can someone help me pls i don't know what happened here
so as i understan a pda can only by singed by the program. so what would be the uses of sending an account?
If you want to actually use that address as an account, there's no avoiding finding it on the client and passing it in as an account
what consider better practice ? or what are the different uses of:
1. initiating pda (with  PublicKey.findProgramAddress) and pass to program via instructions
2. find pda with nonce (using  Pubkey::find_program_address) inside program ?

does one approach might consider less safety ?
Awesome, thank you so much
An example:

```
    const transaction = new Transaction({
      recentBlockhash: blockhash,
      feePayer: userPublicKey,
    });

    // Charge the user in USDC
    const transferInstruction = createTransferCheckedInstruction(
      userUsdcAccount.address,
      usdcAddress,
      shopUsdcAccount.address,
      userPublicKey,
      100 * (10 ** usdcMint.decimals), // 100 USDC
      usdcMint.decimals,
    );

    transaction.add(transferInstruction)
```

The function `createTransferCheckedInstruction` comes from the package @solana/spl-token

Note that `userUsdcAccount` and `shopUsdcAccount` are associated token accounts, which you can get with eg. `const userUsdcAccount = await getOrCreateAssociatedTokenAccount(connection, signer, usdcAddress, userPublicKey)` (and that function comes from the same package)

`usdcMint` you can get with eg `const usdcMint = await getMint(connection, usdcAddress)` and you can probably guess the package that function comes from!
How to create transaction for Fundgible Token transfer?
yes and yes.  transactions can contain multiple instructions
Hello,
I have a question for transactions:
- I can combine a single transaction with multiple SOLs to send to multiple people
- Is there a way to do the same with fundgible tokens? (I'm currently using JS library and there is only transfer method no transaction for spl)
Hey guys has anyone used `spl/farms/farm-client` program ?
thanks ser, i'm trying..
I've been reporting issues while trying to confirm transactions in Solana via the js lib. It's been extremely hard to justify to the endusers. Increased the timeout calls between confirmation, incrementally (the algorithm increases the timeout by spacing it with longer periods through a long period of time). Seems to work great, but not for some users! I'll ask if they have any sort of firewall, although this is quite hard to justify and support. The users are using Phantom.
Mm, I'm still a little fuzzy about confirmation levels‚Äîmaybe
If I open a connection only for finalized processes, will it be resolved?
```javascript
const transaction = new Transaction().add(
    Token.createTransferCheckedInstruction(
        TOKEN_PROGRAM_ID,
        fromTokenAccount.address,
        myMint,
        toTokenAccount.address,
        fromKeypair.publicKey,
        [],
        Number(amount) * 1e6,
        6
    )
);
const signature = await getWallet()?.sendTransaction(
    transaction,
    getConnection()
);
```
That would mean that that tx hasn't confirmed yet (do you maybe want to use `connection.confirmTransaction` instead?)
But for a system_program account you'd just transfer all the lamports somewhere else
How you do that depends on which program owns the account (since only that owning program can take the account's money)
Closing accounts in solana amounts to draining all of their lamports
Hi guys,
Why does the signature object return empty?

```javascript
connection.onSignature(signature, async ({
    err
}) => {
    if (err) return;

    const signatureDetails = await connection.getTransaction(signature);

    console.log({
        err,
        signatureDetails
    });
});
```
Hey , i have a new token on my test net , and i want to add that for staking purpose and want to set custom reward ? Any resource, help or guidance please ?
I tried to use serum stake : https://github.com/project-serum/stake
But it's deprecated .
Hey, if i want to close a system_program account - what is equivalent of - spl_token::instruction::close_account (for token accounts)
I keep getting this error when using @solana/spl-token

```
TypeError: spl_token_1.Token is not a constructor
```

Any help would be appreciated
worked ! much appreciation!! what is the reason for that bug ?
Oh, sorry, misread‚Äîcan you try the other order then?
i do transfer first - 


        **maker_temp_sol_account.try_borrow_mut_lamports()? -= amount_return_to_maker;
        **account1.try_borrow_mut_lamports()? += amount_return_to_maker;

        let close_account1_nft2_ata_ix = spl_token::instruction::close_account(
            token_program.key,
            account1_nft2_ata.key,
            account1.key,
            &account1.key,
            &[&account1.key],
        )?;
        msg!("Calling the token program to close pda's temp account...");
        invoke_signed(
            &close_account1_nft2_ata_ix,
            &[
                token_program.clone(),
                account1_nft2_ata.clone(),
                account1.clone(),
            ],
            &[&[&b"escrow"[..], &[nonce]]],
        )?;
This is dumb, but switch the order of those two calls. Try doing the transfer first and then do the `close_account`
ok.. here is your bug - 

 Program GKb2g458CcFjmwwg1jwbkNsavr5hQf6Sujf75DPzmz3V failed: sum of account balances before and after instruction do not match - 

i get this when trying to close a associated token account:

let close_account1_nft2_ata_ix = spl_token::instruction::close_account(
            token_program.key,
            account1_nft2_ata.key,
            account1.key,
            &account1.key,
            &[&account1.key],
        )?;
        msg!("Calling the token program to close pda's temp account...");
        invoke_signed(
            &close_account1_nft2_ata_ix,
            &[
                token_program.clone(),
                account1_nft2_ata.clone(),
                account1.clone(),
            ],
            &[&[&b"escrow"[..], &[nonce]]],
        )?;
Doesn't really make any difference, though if the address of the account is a PDA you can't create it on the client (creating an account requires the signature of the account's address, and for PDAs that's only possible via `invoke_signed`)
so what's basically the difference between creating an account on the JS (client) side (as instruction) or in the program itself? does it make any diffrence?
OK! thanks
The TokenAccount owner is the "logical owner" of the tokens, the person/thing/whatever who needs to sign in order to send the tokens somewhere else, burn them, etc.
The AccountInfo owner is the *program* that owns the account (the only and only program that can mutate the account's data or spend the account's money)
The `.owner` on an AccountInfo unfortunately means something totally different from the `.owner` on a token account
hey, can you please explain the diffrences between those two functions beacuse i see the result of each are totaly diffrent:
let account1_nft2_ata = next_account_info(account_info_iter)?;

returns:
AccountInfo { key: HbUqhamzj6ohmNnKjNZUzcY1s446PdyJFjZPsVa4T295, owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA, is_signer: false, is_writable: true, executable: false, rent_epoch: 280, lamports: 2039280, data.len: 165, data: d0b742e3cca7f37e82001d334115396b63623e1b566271b3d9321d10c0ab8ee9ab20cb1dba0d378557a57c4605ff7be1437481990d0243fde6f9df934460e37e, .. }

and:
let account1_nft2_ata_info = TokenAccount::unpack(&account1_nft2_ata.try_borrow_data()?)?;

returns:
{ mint: F3jswm1jMRQArt2vyFxoob8UBNjhhcw4ZEpFdhxDYVTW, owner: CX1ihfpkEPpoqgmcnhdXeY3MzcDMFfgcnBFrMkno5v3w, amount: 0, delegate: None, state: Initialized, is_native: None, delegated_amount: 0, close_authority: None }

how come owners are diffrent ?
<@!134416332509675520> - things seems to work!! thanks allot. will contact with further questions :))
I don't know, sorry
is there any code mentioned for "deposit SPL tokens" in Solana Cook Book? <@!134416332509675520>
Yep
yeah one sec!! thankss <@!134416332509675520> you are awosome
if we create 5 accounts for 5 types of token then who will hold that 5 accounts? 
mean a single person(Single public key) can hold 5 types of accounts? <@!134416332509675520>  Please
Fixable, can you go back to that code and then post it?
Aha, interesting, you may have run into a funny bug-ish in solana
That account above is owned by your program, so the system program *can't* spend its money
i tryied that and it worled but i got a diffrent weird msg - something about balances of account are not the same...?
The rule is that in solana, every account has a single program-owner, and *only that program* can spend the account's money or mutate the account's data
You have to just manually move the lamports yourself, using `.try_borrow_mut_lamports()`
Ah, ok‚Äîthat means *your* program is the owner, so you actually can't use the system program at all to do the transfer üôÉ
yeah,, its just a type - its the temp account
im creating the temp account in the TS (client) side - like this - 

const createTempTokenAccountIx = SystemProgram.createAccount({
    programId: escrowProgramId,
    space: AccountLayout.span,
    lamports: await connection.getMinimumBalanceForRentExemption(
      AccountLayout.span
    ),
    fromPubkey: account1KeyPair.publicKey,
    newAccountPubkey: tempSolAccount1Keypair.publicKey,
  });

it means the program is the owner, right ?
Just to make sure I'm understanding, that msg! says you're sending lamports *to* the maker, but the instruction above has the maker as the source account, not the destination ü§î
You'll need multiple separate token accounts to store each individual type of token
let transfer_to_maker_ix = system_instruction::transfer(
            &maker_temp_sol_account.key,
            &initializer.key,
            amount_return_to_maker,
        );

        msg!("Sending {} lamports to maker...", amount_return_to_maker);

        invoke_signed(
            &transfer_to_maker_ix,
            &[
                maker_temp_sol_account.clone(),
                initializer.clone(),
                system_program.clone(),
            ],
            &[&[&b"escrow"[..], &[nonce]]],
        )?;

so in this example, how do i specify "maker_temp_sol_account" as the signer?
<@!134416332509675520> i want to write deposit function which can hold multiple types if SPL tokens? How i can implement? Any Suggestion?
(This is assuming that the tempSol thing is a system_program account, not some other kind of account)
Not some other address‚Äîjust the temp sol address needs to sign
Above you're sending money from that temp sol account to someone else‚Äîso, that temp sol account's address needs to sign
If I want to send you some sol from my wallet, my wallet's address needs to sign
Can you say more about what you're confused about? I think you're close to understanding this, I'm just not quite sure what the remaining thing you're confused about is
you mean one Account can hold one type of token?
Hi!  I was reading the doc about "Fork generation" and found the following in the sentence.  "Note that only data from leader L3 will be accepted during leader slot L3. Data from L3 may include "catchup" ticks back to a slot other than L2 if L3 did not observe L2's data. L4 and L5's transmissions include the "ticks to prev" PoH entries."  I feel so confused about this.  Shouldn't it be "Data from L3' may include "catchup" ticks back to a slot other than L2 if L3' did not observe L2's data."?  I think this makes more sense when reading.
One address can only hold one kind of tokens
god im so confused....

maybe some code examples ?
can a solana program hold multiple kinds of SPL tokens(Token A, Token B)?
Does realloc work now?
You need to sign for the source account's address, which in this case is (apparently) that tempSolAccountPubkey, not the PDA
Ok. Why are you trying to sign for the PDA then?
yes they are diffrent... 
the source account is the "escrowState.tempSolAccountPubkey" - this is the temp account holding the coins listed, which should return to the original wallet account...

im confused too...
Which one is the source account here?
Also, I'm confused by your code above, isn't the escrowState.tempSolAccountPubkey different from the PDA?
ohhhhh... ok.. let me checkkk ü§û ü§û
(The destination account will also need to be writable)
Sending money from an account requires it to be writable
No, the PDA, assuming it's actually the source account
which account ? account1KeyPair ?
you mean this - let (pda, nonce) = Pubkey::find_program_address(&[b"escrow"], program_id);
Also, you're going to need to mark that account as `isWritable: true` if you want it to send money
Ok, how are you calculating the nonce then?
const PDA = await PublicKey.findProgramAddress(
    [Buffer.from("escrow")],
    escrowProgramId
  );
Can you show me how you're calculating the PDA's address on the client?
it is a PDA, and im doing it this way:

let transfer_to_maker_ix = system_instruction::transfer(
            &maker_temp_sol_account.key,
            &initializer.key,
            amount_return_to_maker,
        );

        msg!("Sending {} lamports to maker...", amount_return_to_maker);

        invoke_signed(
            &transfer_to_maker_ix,
            &[
                maker_temp_sol_account.clone(),
                initializer.clone(),
                system_program.clone(),
            ],
            &[&[&b"escrow"[..], &[nonce]]],
        )?;


the maker_temp_sol_account - is the temp account holding the SOL coins.. i get to the program via :

let maker_temp_sol_account = next_account_info(account_info_iter)?;

and from the client side:
const initCancelListingIx = new TransactionInstruction({
    programId: escrowProgramId,
    keys: [
      { pubkey: account1KeyPair.publicKey, isSigner: true, isWritable: false },
      {
        pubkey: escrowState.tempSolAccountPubkey,
        isSigner: false,
        isWritable: true,
      },
      {
        pubkey: escrowState.initializerTokenToReceiveAccountPubkey,
        isSigner: false,
        isWritable: true,
      },
      {
        pubkey: escrowState.escrowAccountPubkey,
        isSigner: false,
        isWritable: true,
      },
      { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },
      { pubkey: SystemProgram.programId, isSigner: false, isWritable: false },
      { pubkey: PDA[0], isSigner: false, isWritable: false },
    ],
    data: Buffer.from(
      Uint8Array.of(5, ...new BN(amountToTransfer).toArray("le", 8))
    ),
  });
And just to reiterate, the point is that when you do a system_program transfer, the source account's address has to sign
If it's not a PDA though, then you'll need to sign from the client with its corresponding keypair
If it really is a PDA, then the only way to sign for it is in that `invoke_signed` call, as you're trying to do above
when and where should i sign it ? when creating the account ? or somewhere inside the program ? üò≠
how to check if my key is bip39 or bip44
So the seeds you're using above apparently aren't correct (you'll just have to double check you're understanding the source address correctly)
Ok, `    93Ya2KuTeJdpvr1tgHimdiQbaQx34nsuCzzB4AV9MuBT's signer privilege escalated` means you're somehow not signing correctly for the source account
Program log: amount_return_to_maker 100000000
    Program log: Sending 100000000 lamports to maker...
    93Ya2KuTeJdpvr1tgHimdiQbaQx34nsuCzzB4AV9MuBT's signer privilege escalated
    Program GKb2g458CcFjmwwg1jwbkNsavr5hQf6Sujf75DPzmz3V consumed 63654 of 200000 compute units
    Program GKb2g458CcFjmwwg1jwbkNsavr5hQf6Sujf75DPzmz3V failed: Cross-program invocation with unauthorized signer or writable account
(node:8903) UnhandledPromiseRejectionWarning: Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: Cross-program invocation with unauthorized signer or writable account
Hi!! Someone can help me with loading on-chain data?
Do you know if there anything similar to subgraphs for indexing data?
Can you post the full program log? It will include an extra line in it disambiguating that "or"
i get this error now - Error processing Instruction 0: Cross-program invocation with unauthorized signer or writable account
Yeah, if the source account is the PDA with seeds = ["escrow"], then that looks right
so if i understand correctly i need to write the transfer functionlity inside the program ?

let transfer_to_maker_ix = system_instruction::transfer(
            &taker.key,
            &initializers_main_account.key,
            lamports_to_send,
        );

and then call :

invoke_signed(
            &transfer_to_maker_ix,
            &[
                taker.clone(),
                initializers_main_account.clone(),
                system_program.clone(),
            ],
            &[&[&b"escrow"[..], &[nonce]]],
        )?;

like this?
So you would need to sign with `escrowState.tempSolAccountPubkey`'s corresponding private key if it's a keypair address, otherwise if it's a PDA you'd need to sign for it with `invoke_signed` inside your program (not in JS)
You don't, the "owner" of a system_program account's sol is the address itself
really?? a try, thx
how do i specify the owner ? 

const trasferSolToOriginAccIx = SystemProgram.transfer({
    fromPubkey: escrowState.tempSolAccountPubkey,
    toPubkey: account1KeyPair.publicKey,
    lamports: offerAmount, 
    programId: SystemProgram.programId,
  });
That snippet is assuming you've done `import * as splToken from "@solana/spl-token"`
if i keep version 0.1.8 i could try this way https://solanacookbook.com/references/basic-transactions.html#how-to-send-spl-tokens but when copying the example it tells me that "splToken" does not exist

`const transaction = new web3.Transaction().add(
     **splToken**.Token.createTransferInstruction(
       splToken.TOKEN_PROGRAM_ID,
       fromTokenAccount.address,
       toTokenAccount.address,
       fromWallet.publicKey,
       [],
       1,
     ),
   );`
Whenever you send sol from a system_program account, the address of the source account needs to sign.
the owner - you mean the program or the original account the SOL is sent from ?
the problem occurs when updating @solana/spl-token to 0.2.0 if I keep it in 0.1.8 metaplex works, but it doesn't work for me
-----> createTransferCheckedInstruction <----
https://solanacookbook.com/references/token.html#what-do-i-need-to-get-started-with-spl-tokens
not sure which lib you used which made by metaplex. maybe open an issue for it?
so i have two steps:
1. creating a temp account - and transferring 0.1 SOL from my wallet to this account - so far so good. SOL token transferred successfully.
2. i want to cancel the transfer and return tokens to original wallet address (from temp account)

In my proccessor.rs - i have two different functions to deal with this actions..
hello guys, i have a problem, metaplex solana/spl-token "import Token" but now "Token" does not exist in solana/spl-token 0.2.0... import error: 'Token' is not export from solana/spl- token
it depends on the function your trying to call, and the program.  I would review the cookbook for some good examples, concepts, and more. along with the official docs.
https://solanacookbook.com/core-concepts/transactions.html#facts
what does your code look like?
whoever is sending, the owner, must also be signing
i get - Signature verification failed
when trying to transfer SOL from a temp account i just made to the origin accoutn from where the sol was sent in the first place.. 

Can someone help - who should be the valid signer ?
Hi, I'm still trying to sort out how web3's `ValidatorInfo.fromConfigData` is working:

```js
const krakenAccount = await connection.getAccountInfo(
    new solana.PublicKey('KRAKEnMdmT4EfM8ykTFH6yLoCd5vNLcQvJwF66Y2dag'), // Vote Key
    // new solana.PublicKey('krakeNd6ednDPEXxHAmoBs1qKVM8kLg79PvWF2mhXV1'), // Identity
    'finalized',
  )
console.log(
  solana.ValidatorInfo.fromConfigData(krakenAccount.data),
  solana.VoteAccount.fromAccountData(krakenAccount.data), // Works with Vote Key
)
```
I get `null` and no error, and use v1.36.0
google anchor project serum github
you can use anchor for simpler calls, and you can strongly type based on idl
thanks in advance
or any other guy
can you please help me.
I want to do something like this **contract.methods.transfer** as we do in web3
Hi, I am working with Solana web3. I have a question how can I call the function of a specific contract using Solana web3. Currently, I am calling solana**Web3.SystemProgram.transfer** function for transfer tokens
I encoded with bincode and it worked
it's Solana limited or other reason ?
any reason why ?
https://discord.com/channels/428295358100013066/517163444747894795/950454737013202984
hello guys, i have a problem, metaplex solana/spl-token "import Token" but now "Token" does not exist in solana/spl-token 0.2.0... import error: 'Token' is not export from solana/spl- token
Hello guys, i'm currently writing a smart contract that stocks a message of about 1000 byte and on the devnet it's costing me about 0.02 sol + gas fees, which is way too high for the application, is there something i'm missing, like the cost is higher on devnet relativ to mainnet ? Or am i doomed ?
Sorry if it's a simple question, it's my first time writing such things üòâ
you can use https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-sign-and-verify-messages-with-wallets
or https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#sign to sign your transaction

you can use https://solana-labs.github.io/solana-web3.js/classes/Connection.html#sendTransaction
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#sendRawTransaction
to send your tx
<@!788215642070581289>
about commitment https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
max, root, single... is outdated
for now we use finalized, confirmed and processed
https://docs.solana.com/developing/programming-model/transactions#anatomy-of-a-transaction
the raw tx is a byte array. we encode it just because it is more easy to communicate
sure. I think the only problem you need to worry about is the blockhash will expire.
the solution is durable nonce.
Is it possible to get AccountInfo at certain block ?
i have keypair but need methods like signtransaction and sendtransaction
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-generate-a-new-keypair
how to convert to keypair to wallet in javascript
hi
How much confirmations are needed for the different levels. Couldnt find anything in the docs except recent, confirmed and finalized.
THANKS ALOT. Its working with generate keypair from a secret
guys anyone know what solana transaction wire format is? is it shortvec+base58?
Tried running on both 1.8.14 and 1.9.12 CLIs, but both unsuccessful
hi, do you know anything about closing of buffers on mainnet?
kind of a stupid question i suppose, but offline transaction signing would work for burning and transferring tokens as well right!
I also assumed that. So I might get the data if I provide the base58 decoded version of the MintAuthority?
not sure a wallet address mean
this is a mint and its supply is 1
so there must a token account to hold it.
and a token account has an authority
I assume the wallet address you mentioned means the authority.
One more thing. Does this ss have wallet address?
yes. base58 is reversible
Can I get the public key from wallet address then?
ideally yes. I will say a wallet address is a base58 encoded string which used a correspond public key
and a public key is just a 32 bytes array
Thanks a lot!
Also, is the wallet address and public key same thing?
Thank you very much!
actually, should've been fixed since we upgraded the validators this morning
assuming it was the cost model bug, v1.9.12 should fix it
for recover you private key to keypair object
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-mnemonic-phrase
https://solanacookbook.com/references/nfts.html#how-to-get-the-owner-of-an-nft
or 
https://yihau.github.io/solana-web3-demo/advanced/metaplex/get-nft.html#does-a-wallet-has-a-specific-nft
1. https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress then
2. https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
maybe try cli version 1.8.14. there is a someone success by downgrade his cli tool version.
====================================
updated: https://discord.com/channels/428295358100013066/517163444747894795/953176206021390407
anyone can help me?
Hello guys, I want to use solana web3 sendAndConfirmTransaction function with custom keys instead of solanaWeb3.Keypair.generate()
Hello, is it possible to check if the wallet provided has certain NFT? What i‚Äôm trying to achieve-

In a discord server, user inputs their wallet address >> The script/bot checks if the wallet has an specific NFT >> If yes then do something else stop.
Hi Guys. Hopes everything is going great. I am a dev having 15 years of experience. Primary expertise: C++,DS and Algo, Solidity, Web3 frontend in Javascript+React, flutter, backend in Django, Nodejs and Cloud Microservices. I can do platform development, smart contract, web3 web and mobile app. I am looking for something quick. Ideally decision making should be fast and less bureaucratic. Interested people may contact on discord or email me on reachaks@protonmail.com.
Hello. Is there a way using the Solana JS SDK to fetch all transactions associated with an Account? I'm basically working on a standard way to find the creation timestamp of an Account.
trying to deploy just seems to hang..is there network congestion?
has anyone had issues deploying to devnet?
What do the messages services sign usually look like? Is it just an arbitrary human-readable string, or do people generate some sort of random string?
Hi, i have been trying to close my buffer accounts using solana program close --buffers --authority ASK  --url  mainnet-beta --verbose --recipient <account> on mainnet for at least 50 times. My command gets stuck on  [0/1] Finalizing transaction and times out after 1-2 mins.
Does anyone know what is going on??
Tried running on both 1.8.14 and 1.9.12 CLIs
a tx is composed by signatures + message
a message is composed by instructions

a offline transaction signing will more like
1. you create a message then serialize it
2. signers sign this serialized message
3. combine them together

ideally you can make it without `populate`, the byte array (raw tx) will like
signature count (u8) + signatures (64 * n) + serialized message

*the signatures's order is same as the account list in the message. for examples: if A is a signer and he is in the first of the account list, his signature will be putted in the first
Hello everyone, I need some help with offline transaction signing. I haven't been able to make sense of it a brief example on it would be great! Thank you.
```typescript
// there are two ways you can recover the tx
// 3.a Recover Tranasction (use populate then addSignauture)
{
  let recoverTx = Transaction.populate(Message.from(realDataNeedToSign));
  recoverTx.addSignature(feePayer.publicKey, Buffer.from(feePayerSignature));
  recoverTx.addSignature(alice.publicKey, Buffer.from(aliceSignature));

  // 4. Send transaction
  console.log(`txhash: ${await connection.sendRawTransaction(recoverTx.serialize())}`);
}

// or

// 3.b. Recover Tranasction (use populate with signature)
{
  let recoverTx = Transaction.populate(Message.from(realDataNeedToSign), [
    bs58.encode(feePayerSignature),
    bs58.encode(aliceSignature),
  ]);

  // 4. Send transaction
  console.log(`txhash: ${await connection.sendRawTransaction(recoverTx.serialize())}`);
}
```

this is the code snippet for offline transaction signing taken from the solana cookbook
`  recoverTx.addSignature(feePayer.publicKey, Buffer.from(feePayerSignature));`
i get the publicKey but what is the feepayer signature? is it the secretKey of the wallet we need to sign with?
also the message argument that is being passed into the `populate` function what does it take?
Like the accounts, the supposed signers and what is a `Compiled Instruction` object? 
any clarification on these would be great

Do I need to recover a transaction that was previously sent to the blockchain online and then pass it to the populate method? As that would seem much more appropriate for doing so!
Tried running on both 1.8.14 and 1.9.12 CLIs
Does anyone know what is going on??
Hi, i have been trying to close my buffer accounts using `solana program close --buffers --authority ASK  --url  mainnet-beta --verbose --recipient <account>` on mainnet for at least 50 times. My command gets stuck on ` [0/1] Finalizing transaction` and times out after 1-2 mins.
worked now...gosh
but its confusing as I'm literally getting the errors for the past hour on testnet and devnet, not mainnet but can't afford spending more money
this seems to always say they are fine https://status.solana.com/
Been spending a bit too much testing in mainnet, at the moment I've got devnet and testnet throwing msg "Note: Transactions processed before block 43704921 are not available at this time". Is there a way to check congestion in these networks?
I'm grateful
1) Rust, C++ and any compatible language as described in the docs
2) web3.js is a javascript RPC wrapper to help you interact with the Solana blockchain
3) too late to start what?  never to late to learn.
This could make sense. I just want to prove to my backend that the sender of the public key actually owns it, therefore I need them to sign a message and send the signature. 
I think using a nonce account or storing a signature in session storage for a short duration would likely be enough. 

This was really helpful, thank you!
üëÜ so this relates what I've been dealing with today.
https://solanacookbook.com/guides/retrying-transactions.html#facts
```
On some occasions, a seemingly valid transaction may be dropped before it is included in a block. This most often occurs during periods of network congestion, when an RPC node fails to rebroadcast the transaction to the leader. 
```
Hey, I have a few questions about solana being a developer
1-) Is Solan's backend software written only in rust language
2-)What is done with web3.js, is it indispensable for solana?
3-)Or is it too late to start this now?
Goodnight everyoneüôè
Is this normal "Note: Transactions processed before block 43704921 are not available at this time"? I had very long day having to deal with user issues, on a side project, not even my day job, to avoid looking as a scammer; decided to look at it late on the night, through the morning and now getting this error... Which makes it impossible to check if a transaction is finalized.
if your server is the one signing, and has access to the ability to sign, then your service could sign, if its signature is the one that is required..
you can use nonce accounts, to store and sign for offline like transactions,
if any data changes as part of an already signed transaction, it will invalidate the signature. and you cannot just store a signature from someone else to use later, for something new, per say.
depends on what your trying to do.  you can bundle instructions together, an use different forms of data, to achieve certain things, and possibly using a single signature.
if its a repeated task tho, it depends, based on use case, how you want to do it.
Agreed, it makes sense logically. I guess it's just tricky if you need to make several requests to the backend with signatures it compromises UX. I guess I can store one signature and send it with each request.
this is for anything requiring signing and signatures
depends on how you view authorization and security..  based on your scenario and design.  but the ability to 'approve' is generally part of a signature and authorization process, and provides another layer of certainty.
Hey can anyone help me understand why I need to approve signMessage calls in a wallet? Is there a security vulnerability when it comes to signing messages? If I created a wallet which allowed auto approval of message signing for whitelisted domains, is that considered insecure?
For `accountSubscribe`, is there a way to get the response to include the account, so when there are multiple subscriptions, we know which corresponds to which?
Yes, it's true that it's a lot of data, so it's feasible in theory. I just need to find a way to encrypt the data to be sure that nobody can read it.

I hope to be able to read it:
- The owner can read the non-sensitive primary data
- When my protocol is activated, the wallet authorized by the requester is the only one who can retrieve the file and read it entirely, including sensitive data

So in theory, except by taking possession of the authorized wallet, there is no way to read the data. And even then, he can only read the authorized wallet and not all of them
are these things data?  so the answer is.. ?
whats the best storage mechanism for large data? 
there are other solutions like IPFS, Arweave, and other types of distributed and decntralized blockchain and related storage.  youll have to look into solutions that make sense for you.  remember storage costs money, so finding optimal solutions for this is probably something to think about.
Can we push on blockchain text files? Or PDF ?
A lot of pressure ü•≤
Mmh
Ok so in theory, Solana will allow me to save these data, but I will have to find a solution to encrypt everything
very familiar with all risk levels üôÇ  so again, id consider your options design and decisions when choosing storage and format
to be fair, its a business decision where and how you store these things.   you should read about blockchain in general, and use cases for it.  its storage like other things.  if its on a public blockchain its potentially accessible by all.  readable is a different story. but the data exists. so this is a business matter in design.  so yes you can store data, similar to a database in some ways, but the format is largely up to you.
By high level of risk I mean for example the backup of a file (if it is possible) or a large text that will contain data such as a private key of wallet or other. And if it were to leak I'm going to have big problems
Mmh..
Because in fact I would like to make an automated app that will read in... Death records (super happy sorry). And to match with my possible clients, I need their name, first name and literally high level risk sensitivity data. And I'd like to decentralize it all
the format you save data in is up to you.
Is the data saved on the blockchain readable by everyone? If for example I want to save someone's first and last name, is it readable? No way to encrypt?
because serialization is independent and up to a protocol/implementation, if your dealing with one or more its a case by case basis.  serialization is not forced into a box. if your dealing with raydium related calls, odds are you will want to ask them how to decode their data. look at what code and instructions they have available, use their discord, and see whats available. there are common techniques used, but it also depends on their instructions, and models.
cc: <@!709527485095739482>
Hello, is it possible to decode any transaction?
I have no idea how to parse the `"data": "..."` based on the program. I'm not even sure where Raydium makes program code public (if at all).
I did look at account subscription and log. Unfortunately, account provides the change in balance, but not what instruction triggered it or why. The closest thing is programSubscribe, but this provides only base64 data above. When parsed via getParsedTransaction, the instruction data is only more mysterious base58 data:
```{
    "programId": "675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"
    "data": "63SfuT4qF7xKR7GVpYz4juh",
    "accounts": [ ... ],
}```
i dont recall to what extend program changes trigger the event, but there are also account subscription, log, and many others, based on how many details you actually need.
Is it possible to subscribe to all transactions/instructions associated with a programId?
I see, thank you!
refs like this from the web3 js that are examples of the parsing and related methods:
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts
It is not yet possible to create a mobile application that opens phantom mobile?
What is `getParsed` a reference to? I don't see it in the RPC doc
Ok, great, thank you
if your posting large chunks of code, its better to use a gist, pastebin, or other pastable code link, and where required, use code blocks  surrounded with    `
depending on what comes back in your data, is how you can determine to decode or parse it..  getParsed is a good place to start for common account types, when dealing with results, to see how its done there for common account type and related items.  Look at the web3.js for how its being done for anything custom on subscription.
How does one parse this base64 data?
{"jsonrpc":"2.0","method":"programNotification","params":{"result":{"context":{"slot":124975912},"value":{"pubkey":"8ekXiGjEjtWzd2us3rAsusKv7kKEhPENV7nvzS7RGRYY","account":{"lamports":126124800,"data":["AQAAAAAAAAD+AAAAAAAAAAcAAAAAAAAAAwAAAAAAAAAJAAAAAAAAAAYAAAAAAAAABQAAAAAAAAABAAAAAAAAAECcAAAAAAAAAAAAAAAAAABAS0wAAAAAAECcAAAAAAAAAOH1BQAAAAABAAAAAAAAAADKmjsAAAAAAMqaOwAAAAAFAAAAAAAAABAnAAAAAAAAGQAAAAAAAAAQJwAAAAAAAAwAAAAAAAAAZAAAAAAAAAAZAAAAAAAAABAnAAAAAAAAE2rI+XsRAADMZhOhAgAAANcQNsoQAAAANZGFZFhmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI3rxubfG5EAAAAAAAAAAABYMSb+YRgAAAAAAAAAAAAAhY4uHhAAAAA22npfjhgAAAAAAAAAAAAARBBcPuaflAAAAAAAAAAAAFtDB+b4YwAAuOKXC1guRCYKiv1oAV/a6UvvhoVV9G0Okq0X8E+MZn5KJEjv3cQS5tYnCex9TU3wiKXbWpAXmpXKgHECht20DTNONS/zbBmxv0BIZKX17zOhGhL7KmjHOJ8ioH4Do+KVxvp6877brTo9ZfNqq8l0MbG75MLS9uDkfKYCA0UvXWEJtFPp/hXp0nUoBYiOfIaaNOBa47dq5CvQoSmueWkmM98cWTU5410JQrzFP//l8Q91QGEclZ+SWkdnWsGhHprICjfGScsisL4Dgxymq2DlTwgDMsmKcOSXxMV/CkDWAAOFDy1uAqR6+CTQmradxC1wyyjL+iSft+5XudJWwSdi7w9/KVI8gvzglscz9V4YvwnNHUJMwgVM/LY2Dzh5w6aTCHddmzdodOU0+O76ufmF45i9eoq0SnTTy8jkGr7OIAnQ21HX8naOqfbwRJwdSZ8aXkDdE82IgXRzqndJGRj2APflDIK2/QOR3b6OxK/pJgfYBmbwDOqRg/8vhAc+E4W1uGQD0yBABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","base64"],"owner":"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8","executable":false,"rentEpoch":289}}},"subscription":20977087}}
Example result:
{
              "jsonrpc": "2.0",
              "id": 1,
              "method": "programSubscribe",
              "params": [
                "675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8",
                {
                  "encoding": "jsonParsed"
                }
              ]
            }
Example call:
The JSON RPC endpoint programSubscribe seems to return base64 data even when the flat "jsonParsed" is passed
Figured it out, I had an instruction with an account marked as a signer that shouldn't have been a signer

Okay great! Now let's get to work
if any more come up those sites will list them,  and soldev in particular will.  its an aggregator.
Yes indeed I know and have started but I am open to discovering others if anyone knows of any! Thx
yea the same links u have been given over and over are all great places filled with tutorials:  https://soldev.app/  being a great aggregator for them, and addition to the docs and cookbook.   buildspace, figment,  super team dao, and several others specifically are also linked from soldev and also available.
thats a whole setup.. and does not sound like a first time app interaction. Lots of pieces need to interact there and relies heavily on several things. The last thing Id be concerned about is the RPC in this case, after a quick check on https://explorer.solana.com/ to check status. 
If anything that is a Metaplex related scenario, and there is a lot involved there. Id start there and try to troubleshoot the setup: https://discord.gg/824qj893
Do you know of any good interactive Anchor/Rust/Solana tutorials to make learning more enjoyable than reading over and over?
Running Metaplex locally and trying to mint NFTs, but the processing is taking forever and it has failed on me several times. Using this config {
    name: 'mainnet-beta',
    label: 'mainnet-beta',
    url: 'https://api.metaplex.solana.com/',
    chainId: ChainId.MainnetBeta,
  } Any idea why tx processing is slow? Solana doesn't look like it's having issues. Could this be an RPC issue? First time interacting with Solana apps
yeah, I've got a transaction built and I'm trying to send it with the following code

```typescript
const sig = await sendAndConfirmTransaction(connection, tx, [userKeypair]);
```
Are you trying to send out
Hey all, I'm attempting to send a transaction from a typescript client with `sendAndConfirmTransaction` and I'm receiving this error:

`signature must be base58 encoded: {}`

Has anyone seen this before and know how to handle it?
`spl-token accounts -v`  is a fun one
Is there an "accepted proposal" for requiring rent exempt data accounts and dynamic rent? I'm trying to piece together what's going on from discord and commit comments, which I'd expect to be explained here: https://docs.solana.com/proposals/accepted-design-proposals
hello guys, why sometimes the getParsedTransactions, return a null or empty object even though when i search the signature address it was valid and confirmed success
I created a token by using spl-token command on mainnet, then I created n account associated with the token id, then I mint  a big nr. but I guess it allows until u64::MAX , then if I need to see the balance which command I need to use? I guess for checking the balance I don't need to pay the fees?
masochist! just punt them to metaplex discord üòâ
thats a pretty vague issue.  what network?  and did u check statuses already available?
stalling out isnt very descriptive. this is not a car/engine situation are you getting errors?
Yes, something is wrong in my calculation. The same thing I do on my local test validator and I get the correct result in both but it gives different result on mainnet
Trying to mint NFTS on metaplex and loading is stalling out. Are their RPC issues?
Looks like that first referenced value might be the difference between the second and third referenced value, which might imply mixed saturating and wrapping math?
Note that both of these values are different from the one that you initially referenced
which one is the _expected_ value?
Sounds like you've hit some bad math in the CLI maybe
That first one is `u64::MAX` biased to 9 decimals
if I check the balance on CLI by using the command spl-token supply then I get 18446644073.709551615 but if I fetch the same token account balance via my rust program then I get 16446643973.709551615 . That means via program I get less nr. of token in balance.
difference in what?  you only referenced one query's result
i understand renaming was required, but when rpc service provider is updating 1000 nodes, it will take some time, so does that mean that app has to be down x hours?
this is imo quite a blunder.
`getLatestBlockhash#
NEW: This method is only available in solana-core v1.9 or newer. Please use getRecentBlockhash for solana-core v1.8`

is there any reason why in these situations both methods are not supported by RPC for few versions until people have time to switch?
via RPC
Hello guys, for having a wallet and send/receive transactions do i need to run my own Validator?
Hello everyone, I often see examples of Solana codes with the new Connection on the front and there is something I do not understand.

I guess it's only for information that the examples do this?

Because as soon as we go to mainnet, the connection will require a custom RPC that can't be stored on the frontend for logical security reasons, so in the end all the code goes to the backend right?
Hi, I have a SPL token account existing on mainnet cluster, if I check the balance by "spl-token supply" on CLI command prompt that is coming different than if I check via RpcClient::get_token_account_balance in program. It looks like 2000000100 tokens less via program. Does anyone know the reason of this difference ?
still not working after I restart my terminal app, even with export before

Good call. I actually pulled this from my `.zprofile`
You can check the features with that command. It does not look like realloc, which is feature `75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1`, is a part of 1.9.12
in addition, üëÜ   if you only do export <....>  in the terminal, its only good for the session, you need to set it in your profile or related path that gets loaded every time terminal runs
I think I did that but without the export, should it fix the issue if I add export before ?
Something like `export PATH="/Users/jacobcreech/.local/share/solana/install/active_release/bin:$PATH"`
You need to set your path
Hey, I'm facing an issue when trying to install solana CLI on a MacBook Pro M1 :
I install the solana CLI like shown on the docs, I update my environment path. Everything works just fine. 
But when I close my terminal and reopen it, it's acting like I never installed the CLI.
its a custom program error, probably account not initialized in this case, need to decode the erro above, and find the program in question
Do I send SOL to 3aVJtfRnDJqdAxtxu9VE1arfjPSpkrKwAvzBxfgQBodE
Yeah I think so
Where is the issue then, on the program's side?
that should be enough
On which side? I have 5 SOL in my wallet
That could be related to a insufficient balance
I have written a short program to lock/unlock an NFT, but keep getting this error:
```
Transaction simulation failed: Error processing Instruction 0: custom program error: 0xbc4 
    Program 3aVJtfRnDJqdAxtxu9VE1arfjPSpkrKwAvzBxfgQBodE invoke [1]
    Program log: Instruction: Lock
    Program log: Custom program error: 0xbc4
    Program 3aVJtfRnDJqdAxtxu9VE1arfjPSpkrKwAvzBxfgQBodE consumed 4811 of 200000 compute units
    Program 3aVJtfRnDJqdAxtxu9VE1arfjPSpkrKwAvzBxfgQBodE failed: custom program error: 0xbc4
```
this is anchor,  and also using a non advisable approach do account definitions from what I recall.   I would look in the anchor discord and the new anchor docs for more info on close, and the examples from anchor repo and docs as well.
Thanks; are there any other features or changes to be aware of?
Hey
```#[account(init, 
        seeds=[b"vault-seed".as_ref()], 
        bump, 
        payer=from, 
        space=10240 
    )]
    vault: AccountInfo<'info>,```
This is how I initialize.
```#[account(mut,
        seeds = [b"vault-seed".as_ref()], 
        bump = escrow_check.nonce,
        close = from
    )]
    vault: AccountInfo<'info>,```
This is how I am accessing it from a different function. Please help what am I doing wrong? The error is "close must be on an Account, ProgramAccount, or Loader" when I use anchor build
It is added in 1.9, but feature-activated. You can see it is currently not active on devnet with `solana feature status -ud` `BJVXq6NdLC7jCDGjfqJv7M1XHD4Y13VrpDqRF2U7UBcC | inactive                    | enable sol_{set,get}_return_data syscall`
The release notes are really terse: https://github.com/solana-labs/solana/releases/tag/v1.9.12
Where can I find a summary of changes in 1.9.x vs. 1.8.x - eg. is account resizing now supported?
an account, is an account.  accountInfo is information on an account.  You should just be able to pass the relevant close information to account close, like account key/address, and as long as you have the authority, to try to close the account.
When you use init on an AccountInfo type account, how do you close the account and return rent to some user? If I use the close=user argument, it says "close must be on an Account, ProgramAccount, or Loader"
Try asking on StackOverflow! Your question may help someone else, and getting it indexed on Google would be great. Add the tag `Solana`
I asked in that discord as well üòÖ
i guess that would be irrelevant, since you'd then need the signer to pay the new fee, which would incur the original signature cost... last question then if anyone knows, is it technically possible for a benevolent validator to include a transaction with no signature? or is it made impossible by the protocol? just want to know if this requirement boils down to validator decision making or protocol requirements
another way to say what I mean: if the additional fee parameters were implemented (cost to load an account etc.), would this arbitrary signature to submit still be required? or would that requirement go away because there would be a different fee to incentivize a validator?
in smart contract is there any better way to log custom error than this: `Program log: Custom program error: 0x1771` ?
If the fee for a txn is defined by lamports_per_signature though, it seems strange that the number of signatures cannot be zero. I mean if that's the way it works then I guess that's how it goes, but feels like a semantic mismatch :/
(I think)
I think it's just that every tx, no matter what, has a fee, and every tx has a fee payer who has to sign in order to pay that fee
right this makes sense. I didn't realize the act of submitting requires a signature though, I didn't see any direct reference to this in the main solana docs: https://docs.solana.com/transaction_fees https://docs.solana.com/implemented-proposals/transaction-fees#congestion-driven-fees
Is there a technical/security reason there must be a signature when none of the accounts need to be marked as signers? Or is it just the fact that a transaction without a signature provides no incentive to be processed?
It's permissionless in the sense that the contract you're invoking isn't making sure you're on some allowed list etc., anyone can submit the tx
No, the tx submitter still has to pay tx fees just for submitting (which requires a signature)
I'm curious about the concept of a 'permissionless crank'. I have seen references in a few places and my understanding is that it is an instruction which can be called by anyone which checks some state and *might* have some effect if certain conditions are met. My question is, if this is permissionless, doesn't that imply no signature is needed? But since fees are per-signature, is this a free transaction? Do validators still have any incentive to include it?
Is anyone else having extreme issues with transactions not confirming?
I think something related to Migration,it has sent my balance to 4 newly created address(these were created in transaction) please have a look
https://solscan.io/tx/58BJRxnWJUFe1Za2CWHbhhhD9uAbP1616zBYpC3uhCSw8vHobQuGkaYXmZfYzU4UVNKJwUVxambFtw2p4SWfq3gq
well probably something related then. having to do with the stack and if your using are targeting esm. based on your setup and the latest updates, things related to esm are still experimental, so many possible issues may exist.  if you feel its an issue having to do with the latest package id search then if necessary file a github issue to raise further awareness, and otherwise you could look into the issue yourself or try to use a previous version that was working if your blocked. esm related items with packers, configs, setups, and builders are still shakey exerpimental ground atm.
removed lock file, and reinstalled all with npm install, removed node modules before also
just did this
to wallet adapter react
i updated dependencies to latest
did u update dependencies?   what does all the sudden mean.. its rarely the case exactly.
anyone else?
`./node_modules/@solana/wallet-adapter-react/lib/esm/ConnectionProvider.mjs
Cannot find module: '@solana/web3.js'. Make sure this package is installed.`
out of sudden i am getting this
https://discord.gg/824qj893
Does anyone have a Candy Machine running on devnet with a collection of test nfts?
this is anchor right?  
https://book.anchor-lang.com/
https://discord.gg/C6xAvUwr
good question that brings up proposals and features, for submitted, accepted, implemented, vs deployed..   vs inactive/active feature. and how these are tracked and the awareness.
also is there an article you could recommend?  I'm trying to understand this syntax as it relates to CPI more deeply.
What do the three '_ represent in CPI function signatures?  

```fn into_transfer_to_pda_context(&self) -> CpiContext<'_, '_, '_, 'info, Transfer<'info>> {```
asking cause that md file is not in the `implemented-proposals` directory
is this https://github.com/solana-labs/solana/blob/master/docs/src/proposals/return-data.md exactly what got deployed?
Yeah, it works on both devnet and mainnet
What did you click? Unfortunately, no one can recover funds truly lost.
Can i share the link?
Hey guys can someone help me with my transaction,i mistakenly clicked something and this happened my funds were gone


Interact With
System Program -11111111111111111111111111111111  icon copy
Instruction Data
0000000040696401000000009c0c000000000000850f2d6e02a47af824d09ab69dc42d70cb28cbfa249fb7ee57b9d256c127... Show moreicon copy
Input Accounts
#1 - NewAccount -
ctvpG6jrfvg1pGBsvn5ZZ5TB4VrtGcyGbFFTNk2ByC7icon copy
#2 - Source -
9w7YmrpnagqmJLY8xpEdFGvCCwyEzRDaUnfgSqTSBvbhicon copy
#3 - TransferAmount(SOL) -0.02335776
#4 - ProgramOwner -
Serum DEX V3icon copy

This happened 4 times in that transaction,pls help me
let me just try it out and see
I think the programId is the same across
program id*
ohh, devnet and mainnet both different, right? <@!489206164270350337>
Wrong programId I believe https://solanacookbook.com/references/basic-transactions.html#how-to-add-a-memo-to-a-transaction
I'm trying this right now, but it won't send the transaction. No errors in the logs
Any examples of the memo program being used by web3.js?
Thanks! Wasn't aware
<@!489206164270350337> FYI this is the log budget https://github.com/solana-labs/solana/blob/49443406fd729c5818ecf58ae773592804d35d89/program-runtime/src/log_collector.rs#L4


///////////////////////////////////////////////////////////////////////////////////////////////

Anyone else getting frequently getting this error while deploying a program to devnet? Any way I can prevent it?

`Error: Custom: Invalid blockhash`
<@!134416332509675520> Thanks so much üôÇ
https://discord.gg/wJ6HAHpE
<@!785084693023424542> Any chance you have a link to the Anchor discord? I am failing googling.
<@!785084693023424542> Yeah - it's the latest, packages installed with yarn etc. Awesome, thanks. I'd assumed Anchor was a subproject of Solana - didn't realize it had it's own discord üôÇ thanks
Hey! I want to allow program upgrade using 'multi-sig' approach. Like, for example, we can upgrade program only if we have 3 of 5 signatures.
Is it possible on solana?
Thanks
**Tech-decision question.** Why did you early decide to use Bincode for serialization of accounts owned by native programs (e.g. accounts owned by Upgradeable Loader)? I use the state method of Account struct to deserialize these accounts to get the info I need, but I wonder why u use bincode everywhere in Solana and not borsch? If everyone used Borsh from the beginning, we'd have so much simpler interface for the Account struct from solana-sdk. https://docs.rs/solana-sdk/latest/solana_sdk/account/struct.Account.html everyone would just use state and set_state. I think we could all agree now that Borsch is the serialization format of choice for Solana accounts atm and is more efficient.
Ah ok get it, thanks so much!
Looks like this has your info: https://discord.com/channels/428295358100013066/517163444747894795/808668817995464724
Trying to figure out how to derive the config account if possible
I think you may be going about this the wrong way. You need to get the config account that is associated with the vote account
Check this out https://github.com/lieuzhenghong/stake-pool-dashboard/blob/4d2c367f4eba451f303418205957c9e7465d7359/src/backend/getValidatorInfo.ts
I'd like to receive these ValidatorInfo and thought it expects an account, but maybe I'm mistaken. That's what I'd like to know
What information are you after?
Seems so, I'm just not sure if that is the correct approach since "fromConfigData" seems misleading or to ask for something other than the AccountInfo, from the function name.
So it isn't working period?
alright finally figured what went wrong . The command was using my default configured keypair which didn't had any SOL in it as the payer, rather than the `authority`. Corrected command by adding `--keypair`  with the authority as a keypair.
Hi, i have been trying to close my buffer accounts using `solana program close --buffers --authority ASK  --url  mainnet-beta --verbose --recipient <account>` on mainnet for at least 50 times. My command gets stuck on  [0/1] Finalizing transaction and times out after 1-2 mins.
Does anyone know what is going on??
Tried running on both 1.8.14 and 1.9.12 CLIs
found this, and able to do it, maybe you want to save it
https://github.com/metaplex-foundation/python-api
I am sure there is, but the reference is not readily available at this time
oh thank you, is there any way to do it in Python tho?
For SPL, you have to invoke the spl transfer. There's plenty of examples within spl swap
Thanks, I will take a look üëç
it will be same/simmilar for spl, i mean for ex. USDC ?
https://solanacookbook.com/references/programs.html#how-to-transfer-sol-in-a-program for SOL
Im still searching, can u send me maybe some docs, example, any helpful resource?  maybe we overcomplicate that. That's the last part what left for riptide hackathon so we have one day to finish  üòÖ
You will need time as well
https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata
how do I get the metadata? üòÖ
You can get it from NFT metadata
How can a get an NFT name (example#1234) using it's mint address? Without using the MagicEden endpoints.
would this possibly also work? https://docs.solana.com/developing/clients/jsonrpc-api#getrecentperformancesamples
```
Token.getAssociatedTokenAddress(
            ASSOCIATED_TOKEN_PROGRAM_ID,
            TOKEN_PROGRAM_ID,
            PAYMENT_MINT_PUBKEY,// Mint address
            publicKey // Wallet address
          )
```
I don't have experience in run node on windows.
I tried few times, but failed.
So install ubuntu for develop Solana
(cryptographer by trade, insofar as i have any 'by trade')
encryption
e2e
bc all the current crosschain ones don't support any kind of e2
i.e. between scrt/dero/oasis and sol/eth etc
starting my own for interop between private and public chains
There isn't exactly one, but you can use https://docs.solana.com/developing/clients/jsonrpc-api#getblock to understand how many transactions per block, blocks per second, and get tps
is there anyone that provides some kind of "solana TPS" API endpoint?
Are you from deBridge or any other cross-chain startup?
aight cool
ed25519 is basically the only afaik
what's the cheapest on chain signature verification option? is it ed25519? (if so I can look into the other end signing with ed)
_nod_ aight sg
great, so only ed25519 afaik officially supported by native program, but I think nothing prevents you from implementing ECDSA or using some library. The only limitation is size of your code and number of computational units you spend.
You have to provide the call in an instruction to the ed25519 program. I believe this is what wormhole does for their bridge
interchain comms
There's a native program for Ed25519, but I don't exactly understand the purpose and someone told me it costs a lot of computation units and is/was basically unsuable.: https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program
on
Couldn't you just get the account info and deserialize?
Solana doesn't even use ECDSA, why would you do that anyway?
On chain or off
is there an easy way in solana to verify an arbitrary ecdsa signature if passed in the verifying key?
use WSL2 if you're serious, honestly. There are issues on Windows.
I am not able to compile my rust code. It's throwing me this error.error linking with ~\.local\share\solana\install\releases\1.9.12\solana-release\bin\sdk\bpf\dependencies\bpf-tools\llvm\bin\ld.lld
failed exit code 1
Then it's throwing me a bunch of ld.lld errors
At the end: ld.lld: error: too many errors emitted, stopping now (use -error-limit=0 to see all errors)
I am using a Windows 11 system and latest version of solana cli and rust
PLease can someone help me with this.üò•
Hi how do i get the balance in my vault after doing a transfer to it?

        `transfer(&ctx.accounts.initializer.key,&ctx.accounts.vault.key(), stake);`
You can sort of see an example here, in the serum multisig code: https://github.com/project-serum/multisig/blob/master/tests/multisig.js (plus the rust side)
And pass in all the relevant accounts from the client too
Sure, just need to serialize those instructions on the client and then deserialize them back into `Instruction`s in your program
Question: Is it possible to create a program function in Solana that takes a list of instructions as a parameter.?Idea here is that this program could validate a set of (arbitrary) instructions before executing them.
https://discord.gg/SmYkMSvs
If it is auction house, I would connect with metaplex, who owns that program
the program they are using is auctionHouse? Because their program public key is: "E8cU1WiRWjanGxmn96ewBgk9vPTcL6AEZ1t6F6fkgUWe"
You're likely going to need to contact MagicEden on that if their program is closed source
Hey guys! Is there a way to buy an NFT from magiceden programatically? I have searched the whole fuxxing internet but I just found SPL-Token library, but I dont think this is what I am looking for. ETH Txs are soooo much easier to understand tho üòÑ By the way: I got the following variables from their API, but how the fugg do I decode them?

``` [
  {
    "pdaAddress": "BaUX9EGhbqdEHhLDN3Ypd4M97P1czX8H87H8smcV3Ee4",
    "auctionHouse": "",
    "tokenAddress": "HP91KznvAa7unW6cE4ZG7cU3YNUjuJNeGg4PVGRa9byB",
    "tokenMint": "HdcrPMF4kHKqy5V9JibNSoWLNpqnxQUBDEBeimZkLf7u",
    "seller": "EWmtsfBA8EikR3vvhsXgxn7cBQCUZfXJ7jMwXUpYRzXY",
    "tokenSize": 1,
    "price": 99
  }
]
```
use WSL2 and you'll be fine
oops, I think I figured it out.. just bincode. figured it from the `state` method of Account struct here that I used to deserialize accounts owned by Upgradeable Loader so that I could parse it and show in my explorer. https://docs.rs/solana-sdk/latest/solana_sdk/account/struct.Account.html
<@541313888730349600> okk so we can't run a node on windows machine then??
Which serialization format is actually used to serialize the data of programs deployed with Upgradeable Loader? Here it is: https://docs.rs/solana-program/1.10.2/src/solana_program/bpf_loader_upgradeable.rs.html#24 there's #[derive(Serialize)], and I know how to deserialize it properly, but in case I wanted to fake the data and serialize it the same way, i dont know where to look which serde format is called to serialize.
Get associated token account for a public key and mint address.
Hey how can i get SPL token account address from user publicKey.
<@!489206164270350337> just following up here - is there someone i can speak to about sourcing a grant from the ecosystem fund to set this up?
Hi frens, is there a way that I can allow spl-token to be transferred only to specific addresses?
I prefer the LInux OS than windows
Can somebody pls help?
Hey guys .. I am trying to run a node locally on my windows machine ..but when I am running solana-test-validator it showing me q system error that shows
"The code execution cannot proceed because libssl-1_1-x64.dll  was not found.Reinstalling the program may fix this problem"
But it's showing me the same issue even after reinstall
You actually can't use createAccount from JS to init an account at a PDA, because only the deriving program can sign for that program-derived address. Only way to init an account at a PDA is to invoke the deriving program and ask it to do it for you.
Hey, any mobile wallet that supports custom rpc? I would like to connect to my solana-test-validator.
hi, i want to create a pda use SystemProgram.createAccount, except the payer fee account sign, still error like Signature verification failed, i think still need the pda bump to signer, i dont how to do it, any help about this?
I don't know, but I prefer the typescript than javascript
any other module for javascript
I have used it on typescript project
it is for typeScript or Javascript
thanks allot !
Is there project that like as GenesysGo IDO?
We can use same address for mint & update authority. In this case, update authority is account that minted NFT.
But if it's different, only mint authority is account that first minted NFT.
Update authority is used when change metadata
I suggest that use another modules like as @solana/wallet-adapter-react.
There are useConnection() and useWallet() functions.
ohh... ok! so as i understand, the update authority is the account that first minted the nft, therefore he will be the update authority incase he wants to change metadata.. is that true?
???
I don't think so.
It can update the metadata of NFT.
ohhh.. good information.. thanks!
so what exactly "Update authority" is incharge of ? if its still related to previous holder ?
Mint authority and Update authority is not related to holders
Hi everyone, I have one issue in solanaweb3 connection when user switch the account in wallet window.solana didn't detect and it show the previous connected account and when refresh the page then it show the connect button in React js ?
allright, but after transfer the "Update Authority" of the NFT is still set to Account #1, is that ok ?!
I think that you don't need to set authority. 
You can only transfer spl-token to ATA of account#2
Sure thing. I'm not a pro myself but this article helped me a lot when I was trying to deploy my first CM. Maybe it'll help you too üôÇ
> <https://www.quicknode.com/guides/web3-sdks/how-to-deploy-an-nft-on-solana-using-candy-machine-v2>
I will try this one nowm thank you so much for the help ü§ó
My guess would be that your token properties is missing the `creators` key. Make sure you include all of the required properties, here's an example token schema:
```json
{
    "name": "Number #0010",
    "symbol": "NB",
    "description": "Collection of 10 numbers on the blockchain. This is the number 10/10.",
    "seller_fee_basis_points": 500,
    "image": "9.png",
    "attributes": [
        {"trait_type": "Layer-1", "value": "0"},
        {"trait_type": "Layer-2", "value": "0"}, 
        {"trait_type": "Layer-3", "value": "1"},
        {"trait_type": "Layer-4", "value": "0"}
    ],
    "properties": {
        "creators": [{"address": "xxx", "share": 100}],
        "files": [{"uri": "9.png", "type": "image/png"}]
    },
    "collection": {"name": "numbers", "family": "numbers"}
}
```
Hey, question - if i transfer a spl-token from account #1 to a account #2 (to an associated token account owned by account #2).. should i call spl_token::instruction::set_authority inside the program to set the account #2 as an owner, or the ownership is replaced automatically ?
Hi Everyone I am an aspiring Developer. 
I badly need your help with this:

**Beginning the upload for 8888 (img+json) pairs
started at: 1647330235312**
**Error deploying config to Solana network. Error: Creator address is missing**

do you know how I can fix this? Please help.
Hey guys! I thought I give it a try! I am surching for Solana programmers for a NFT project! Do you guys maybe know where the nest place to look / find them? Thanks for your support!
thanks
thanks!!
After first transaction escrow account cannot be used again.
https://spl.solana.com/token#example-transferring-tokens-to-another-user
https://solanacookbook.com/references/token.html#how-to-transfer-tokens
the main idea is that you use your token account to transfer to another token account.
`your_bool as u8`
Hi Guys. how do i encode the bool value
but it still shows successful
hello, what spl-token transfer actually does, cuz I can't seem to transfer tokens to another account
Ok. I will recheck everything. Thanks for your time. üôå
That will be a little bit hard to debug in my side. The error message say an account doesn't exist means maybe you forget to init it or you pass a wrong account. you will need to check it.
yeah I did it during the escrow initialisation.
After first exchange instructions I'm trying to do same again and I'm getting this account.
there is a Initialize instruction for vault account, have you done it?
Error: Account does not exist 5WnxKLuuvA5jY4ED2LDajnqarZEekVXomvhQNS4ZMTJP (vault_account_pda)
what error message you got?
I am using the `Exchange` from here https://hackmd.io/@ironaddicteddog/solana-anchor-escrow slightly modified.
and swap logic you also implement in your program?
Yeah That was the functionality I'm trying to get.
not pretty sure what error you're facing. but the main idea is that different tokens need different token account to hold.
you tx is like
1. User A (use UserA's A token account) to deposits 1000 A tokens to some A token account
2. User B withdraw 300 A tokens (from some A token account) and withdraw 300 B token from some B token account
3. ...
I am supposed to swap tokens in the escrow.
Yes
`withdraws 300 A tokens for 300 B tokens` what did you mean here.
you swap token or something?
Hey how can I use an escrow for multiple transactions?
User A deposits 1000 A tokens 
User B withdraws 300 A tokens for 300B tokens
User C withdraws 700 A tokens for 700B tokens
I'm trying to modify https://hackmd.io/@ironaddicteddog/solana-anchor-escrow this escrow but second transaction fails. It says vault account not found.
Alright thanks a lot
I think it depends on how many features you want to implement.
an account is just like an empty file, you can write anything into it. so you can write json or some byte code.
or you can take a look at https://docs.solana.com/developing/plugins/accountsdb_plugin
What kind of account exactly, just some json content? Sorry if im asking too many questions.
you can write these data into a custom account (on chain). you can make some connection between NFT and stake record by find_program_address or create_account_with_seed
Thanks so you're saying that the only way to verify account balance is to go through a remote API right? Nothing like what Ethereum planned with light clients?
With stake record are you referring to a little db?
use https://docs.solana.com/developing/clients/jsonrpc-api#getbalance
you will need to build your custom page to decode your data. explorer only provide raw data atm
I think yes. and when you stake, you can also write a start time into a stake record
Got it! Thank you!!
So you would want to make the vault account live at a program-derived address, so that the program itself can sign for it when you subsequently use `system_instruction::transfer` to move the funds somewhere else
Usually pure sol accounts don't have any explicit set_authority idea, the authority is just the wallet's own address
Hi, i'm created a simple escrow storing sol. Not token. Can someone point me to an anchor set_authority function? Cheers!
Hi, I'm doing research on client verification of blockchain state in Solana. Specifically, how would I verify an account balance from a mobile app? Can't seem to find any info online. Is it even possible or do mobile clients rely on querying a remote API without verification?
Thanks for the response, then how people can check the transaction meta data on explorer to have more trust factor ? Can we use Program logs to expose this data on explorer ? is this a good practice ?
Do you just move all the nfts to a seperate staking wallet?
How do you build A staking s system
It's likely just serialized, not encrypted. Anyway, Solana explorer does not know how to deserialize just 'any ol' account data' so that will not be possible at this time.
You can‚Äôt, they‚Äôre separate networks and everything  on devnet is worthless by design
Hi can anyone tell me how to transfer devnet sol to mainnet ??
maybe https://github.com/solana-developers/solana-dapp-next
Need a developer who can create a solana integrated web app.
There is a link to the image in the uri, they you can just read the link
I am storing some transaction related info on SmartContract using PDA, but how real users can check that data on Solana explorer ? Currently showing that data in encrypted format on explorer
Hello all,

I need some guidance regarding the design of emission scheduling and vesting for a the supply of a new token living in Solana.

Is there a smart contract that manages when and to who are locked funds released? Is there a ‚Äútemplate‚Äù code I can use to configure this?
Any docs or example that shows a good approach to getting images? I have is the URI to each of the Arweave JSON metadata files. But not sure how to get the image from that.
can anyone tell me how can i declare my id here? in advance before building cargo?
Oh I will post there as well thanks 
But even from uri I couldn't really find a way to distinguish them...
maybe <#937905165074300999> 
but iirc there are some different metadata version. collections are written in different place depends on the metadata version. (some of them in a uri, some of them on chain)
so I think you will need to make some rule for different NFT.
Hello guys ! I am wondering how one could distinguish subcollections of a nft collection just by looking at the metadata? For exemple boryoku dragonz released the baby dragonz and the 2 collections have the same update authority. Is there an easy way to distinguish them ?
You can read the uri I think
hey guys, can anyone tell how to add meta-data to the corresponding solana token like if I have to add token name and other info of token?
Hi, best way to get the NFT image for use on Front-end? I'm using  `Metadata.findDataByOwner` filtered to a specific collection. It returns the Metadata for each account/NFT like URI and mint address, but how can I get the image of the NFT? Thanks
I never try but ideally if you can redeploy the program to the same program id, you can still manipulate the PDA.
```
async function create_name(connection, user_name, user_pubkey, payer) {
    let tx = await solana_name_service.createNameRegistry(connection,
        user_name,
        10,
        payer.publicKey,
        new solana.PublicKey(user_pubkey),
        100)
    let tx2 = new solana.Transaction().add(tx)
    let result = await solana.sendAndConfirmTransaction(connection, tx2, [payer])
    return result;

}``` in solana name service when i tried to assign a name to a publickey on devnet it is working fine and does not accept the same name, but on mainnet the same name is getting  accepted by contract again and again,
is it possible?
so I wanna recover it again
but NFTs and some tokens are stored in that PDA of that program
I mean the program is closed by accident
thanks for your support
<@!788215642070581289>
what did you mean 'retrieve'?
a PDA is calculated by seed + program id
so you can always get the address.
if you want to sign, it must happen in the program which program id is the same.
I have keypair of closed program
can I retrieve the closed PDA?
.
lesson: if your tx is failing with an opaque error message but also not showing up on the explorer, make sure you disable "skip preflight"
np. I just wasted countless hours solving a single bug today. solana is pain üôÇ
thanks a ton! new to rust/solana here. This was super helpful ü•≤
I think anchor just (understandably) didn't know how to pull a &Pubkey out of a Result<Pubkey, ...>, but it _does_ know how to pull it out of Result<&Pubkey, ...>
yes! this worked!
or declaring your pubkey somewhere in your code

```
let my_wallet_key = &Pubkey::from_str("...").unwrap()
...
```

and then in your constraint, do

```
constraint = wallet.key == my_wallet_key
```
try adding a & before Pubkey
wait no dont listen to me
yes
thank you!
oh sorry, prob not the right channel. But just from a rust pov, this Pubkey::from_str("...").unwrap() should create a public key from a string right?
like the name btw
oh shit yea I don't know anchor macros that well
I have the constraint in a derive accounts struct
what is the signature of the function that contains your `constraint = ` line of code?
it looks like your function returns a pubkey, but the unwrap will return a result if it fails
Hi - I am trying to implement a constraint like here:
```constraint = wallet.key == Pubkey::from_str("...").unwrap()```
I have these imports:
```use std::str::FromStr;
use anchor_lang::solana_program::{pubkey::Pubkey};```
I get this error: no implementation for &anchor_lang::prelude::Pubkey == std::result::Result<anchor_lang::prelude::Pubkey, ParsePubkeyError>
Any help on what this means?
ty
Not with the `System::Transfer` instruction
Is it true that you cannot transfer lamports from an account that has data?
Yep, it was a post-compilation step the @solana/web3.js maintainer forgot. Easy peasy
Webpack is always a hell of configuration files. Do you have an exmaple?
Ok, how did you get it working with webpack?
anyone know how to derive associated token account from token address?
Is there some kind of post-installation compilation command that must be run for `@solana/web3.js`, like https://stackoverflow.com/questions/65543518/cant-walk-dependency-graph-cannot-find-module-crypto-auth-sodium-universal
Browserify is as widely used as webpack and has worked with every package I've fed to it‚Äîexcept when the package maintainers neglect to include a necessary post-compilation step
browserify is a separate bundler right?   all these bundlers and packers may have mixed results in terms of how they handle things.  web3 js works as a ref in the browser, and compiling with the more common webpack.  not sure what this would be related to, but it sounds fairly specific to browserify.  not sure whose end this would be on, but web3 js as intended works.
This is inside a directory just after a successful run of `yarn add @solana/web3.js`
I believe there may be a bug in @solana/web3.js. When one includes it in a browserify project, one gets the error `Error: Can't walk dependency graph: Cannot find module '@solana/web3.js'`
an error like that typically means the way your trying to update the data, and or the object your sending as data to be written is either not being serialized, or deserialized properly, when its being run in the program.   it depends on the account, what your trying to update, how the account data is written, the instructions, etc.  the details.
is your Node version up to date, and did you install the packages with yarn from the project folder?  otherwise I would ask project specific and anchor stuff in the anchor discord for more specific help.
you may want to make sure your Node version is up to date for stable releases, and try again running
`yarn create next-app --example with-typescript-eslint-jest with-typescript-eslint-jest-app` 
you could also try running `yarn` from the root.

if your still having issues I would check the issues in github and see if there are similar problems, and if not and still having issues you could try filing an issue yourself.
Yea
I am close to finishing, and looks like, I'd rather have the separated smaller program combined together into the larger program to avoid all the duplicate field in structs and possible serialize/deserialize compute etc..
Hi all, fairly new here. Trying to bootstrap an example of this https://github.com/solana-labs/governance-ui on localhost but running into an error. Anyone offer some quick help?

```Downloading files from repo https://github.com/solana-labs/governance-ui. This might take a moment.

Installing packages. This might take a couple of minutes.

npm ERR! code ERESOLVE
npm ERR! ERESOLVE unable to resolve dependency tree
npm ERR! 
npm ERR! While resolving: with-typescript-eslint-jest@1.0.0
npm ERR! Found: @solana/web3.js@1.31.0
npm ERR! node_modules/@solana/web3.js
npm ERR!   @solana/web3.js@"^1.31.0" from the root project
npm ERR! 
npm ERR! Could not resolve dependency:
npm ERR! peer @solana/web3.js@"^0.87.1" from @project-serum/common@0.0.1-beta.3
npm ERR! node_modules/@project-serum/common
npm ERR!   @project-serum/common@"^0.0.1-beta.3" from the root project
npm ERR! 
npm ERR! Fix the upstream dependency conflict, or retry
npm ERR! this command with --force, or --legacy-peer-deps
npm ERR! to accept an incorrect (and potentially broken) dependency resolution.
npm ERR! 
npm ERR! See /Users/sagan/.npm/eresolve-report.txt for a full report.

npm ERR! A complete log of this run can be found in:
npm ERR!     /Users/sagan/.npm/_logs/2022-03-16T01_59_29_244Z-debug-0.log

Aborting installation.
  npm install has failed.```
some projects even spread a single "instruction" over multiple instructions and transactions because of the accounts limitation
yes
Oh so this restricts us to  deterministic flows. Very strict !
otherwise Solana runtime can‚Äôt do OCC because it doesn‚Äôt know which accounts are involved until tx is over
<@!917752451120119820> yes
why not hit the official Solana endpoint? I think it gets routed to rpcpool anyways
I am geting `POST https://free.rpcpool.com/ 429 (Too Many Requests)` error from a single call
Say for example, Instruction X in Program A calls Instruction Y in Program B which needs access to Account M. Do we have to pass Account M in the accounts list when calling Instruction X ?
Any ideas what I've got setup incorrectly? Is my node too recent? Something else entirely?
Hi all - just trying to do basic setup of dev env and using the gm-solana example, but it fails on anchor test```TypeError: Module "file:///mnt/s/Temp/AnchorTest/gm-solana/tsconfig.json" needs an import assertion of type "json"
    at new NodeError (node:internal/errors:372:5)
    at validateAssertions (node:internal/modules/esm/assert:82:15)
    at defaultLoad (node:internal/modules/esm/load:24:3)
    at ESMLoader.load (node:internal/modules/esm/loader:407:26)
    at ESMLoader.moduleProvider (node:internal/modules/esm/loader:326:22)
    at new ModuleJob (node:internal/modules/esm/module_job:66:26)
    at ESMLoader.#createModuleJob (node:internal/modules/esm/loader:345:17)
    at ESMLoader.getModuleJob (node:internal/modules/esm/loader:304:34)
    at async Promise.all (index 0)
    at ESMLoader.import (node:internal/modules/esm/loader:385:24)
    at importModuleDynamicallyWrapper (node:internal/vm/module:437:15)
    at formattedImport (/mnt/s/Temp/AnchorTest/gm-solana/node_modules/mocha/lib/nodejs/esm-utils.js:7:14)
    at Object.exports.requireOrImport (/mnt/s/Temp/AnchorTest/gm-solana/node_modules/mocha/lib/nodejs/esm-utils.js:48:32)
    at Object.exports.loadFilesAsync (/mnt/s/Temp/AnchorTest/gm-solana/node_modules/mocha/lib/nodejs/esm-utils.js:103:20)
    at singleRun (/mnt/s/Temp/AnchorTest/gm-solana/node_modules/mocha/lib/cli/run-helpers.js:125:3)
    at Object.exports.handler (/mnt/s/Temp/AnchorTest/gm-solana/node_modules/mocha/lib/cli/run.js:374:5)```
anyone know why?
failed: Failed to serialize or deserialize account data: Unknown'
hi um i get this error when I try to update associated account's data
Thank you!
Yeah I think the only option is to generate accounts for users, keep their private key safe outside the network, and then let users feed their temporary account directly
yea i see use cases. just tricky.  would be easier if you were able to just hold each user account as a PDA in your program, instead of having to sync with their wallets directly. but that may not be an option for you.  trustless direct debits is a basic one.
My use case is allowing user transactions without having to store their private key. It's a security issue indeed but a needed one. I'll find another way, though.
In what way would the vault account be tied to the user? (If they paid the rent or something?) I am finding the PDA on the client side and transferring solana from user to the vault account on the program‚Äôs side.
anytime funds are leaving an account they should be signed for by the account owner.  there is no way that I am aware of to allow for your to remove funds from another owners account whenever you want, even after 1 approval.  not sure what the use case is, but a lot of potential security issues there.
Hello, I would like to setup a solana program that withdraws lamports from an user wallet (who agreed to participate to the program before). From my understanding of solana programs, they can only withdraw funds from their associated Program Account, never from user wallets. Is that right?
it depends how you did your account ownership in the program. transfer requires signature of owner. it depends how you set up the vault account pda, but  if the vault account is owned by the vault PDA alone, and not tied to a user in anyway, then the vault is the one that owns the account and signs on the accounts behalf.
its a PDA, to which I am transferring SOL using the system program::transfer instruction.
Anyone heard of soulbound NFTs ? Is this possible on solana to tie a NFT to an address for life
https://tenor.com/view/captain-phillips-tom-hanks-captain-richard-phillips-barkhad-abdi-abduwali-muse-gif-5096442
Non market related such as AMMs etc
Anyone building something exciting ?
the owner can sign for transactions from this account
when you create the account, who is the owner?
Hi - I am trying to transfer SOL (not tokens) from a "from" player to a vault account (a PDA). I then distribute this SOL from the vault to other wallets. I have the program sign for this transaction since the vault is at a program derived address. Now does the original "from" player still have any control over this vault account (since he paid the rent and all)? Do I need to transfer authority of this vault account like we do for Tokens? I am under the impression that native solana works different from the tokens.
Hi guys!
How can I use Solana wallet adapter* with nuxt/vue2?
I see, it's a bit embarrassing though, maybe if they had a different text message saying its verifying
<@!133338035533119488> look at the pubsub api and accountSubscribe
anyone else getting enormous bundle sizes when using solana's wallet adapters? building with `esbuild` produces bundle sizes > 1MB which seems strange.
Yo, looking for the best way to monitor a Solana account and log whenever tokens flow in and out of the account. What‚Äôs the best way to do this? Thanks for taking the time to review my question, this channel is busy asf it seems.
for example: any generic user coming in and changing one particular variable of an object that is technically marked as owned by someone else
if i make an account mutable and change certain variables within that object, are other variables in the mutable object considered unsafe or potentially exploitable even if my program doesnt interact with them
So I always see it when Phantom first launches, but then it refreshes after 5-10 seconds and shows the transaction details. I think what's happening is they display that while they're simulating the transaction, then update to show it afterward
<@!492411676889710592> this was reported by a user, when developing, if I see that I kind of try anyway and usually works, as I do "retries" and do a payment checkup through a increased timeout over a given number of max attempts
So are you seeing it permanently say that? Or is it saying that, then updating?
You people never get that?
I've got user's reporting this and it also happened to me while developing a few times; I wonder why that'd be
More concise: failed txs are not showing up on devnet. Anyone know how to deal with this?
Is that in Phantom and does it refresh and then show the transaction? Or is it permanently showing that?
I've never asked, but seems to be very common. Is this normal?
How can i connect and find a good resource
I was looking for a Experienced DEV for a Project.
Hi
I can reproduce this by splitting up the tx into 2. First, a tx containing the ixs that succeed. Second, a tx containing the ix that fails. The first tx succeeds and I can confirm it and see it in the explorer. The second appears to hang forever on confirmation --- i suspect it's just rejected from the network.

I can then reproduce this "rejection" by taking the first tx that succeeds, specifically changing an ix so an assertion fails, sending that instead. This should result in a failed tx in the explorer. instead, devnet rejects the tx as if it never was sent to the network
Oh it does do ARWeave.. someone really has done the work for me üëçüëçüëç excellent
Hello! I'm attempting to deploy and initialize some programs on devnet. One of my instructions fails, but I cannot see it in the explorer (it appears Devnet rejects and refuses to propagate failed txs for me). It is impossible to debug the issue without access to the logs. Anyone know how to get devnet to accept my failed tx so I can see the logs?
Thank you
metaplex does this today
I don't just want URL link to website trash. I want everything on-chain.
esteemed colleagues, is this channel a good place to ask for help debugging  `@solana/wallet-adapter` library?
I'm looking to launch an on-chain NFT collection of images. Is this feasible on Solana or at the very least feasible linking to ARWeave
Seems the function had to -> Result<()> and not -> ProgramResult like the tutorial is showing. Hopefully that doesn't change anything else along the way haha
Hey everyone, I am just getting my feet wet here with anchor and solana development. I am following one of the tutorials to make that solana twitter project. 

I am trying to get my enum errors to work but I'm getting some errors. I referenced the Anchor documentation and it seems to be a little more up-to-date than the tutorial, but I'm getting "mismatched types expected enum 'anchor_lang::prelude::ProgramError' found 'anchor_lang::error::Error' 

Is there a specific thing I need to declare/do  to make it use my Error enum? I structured it pretty closely to the documentation here https://project-serum.github.io/anchor/tutorials/tutorial-4.html#defining-a-program
What's the best way to keep up to date with the list of a certain account type on chain ?
The first thing that comes to mind is just doing `program.account.ACCOUNT_TYPE.all()` using anchor every few seconds.
I expect this kind of account to get created really often.

But it feels wrong to just loop over that, is there a better way ?
Answered on SO
Sounds like you just need to add a transfer instruction call or put something that transfers on your program
I want to create a vault where users can deposit spl (farm / lp) tokens with the "claim" method which will harvest rewards and transfer them to the address / charities, can you recommend me some place/libs to start ?
Are there guides for running a light/thin validator/client that can run on a personal machine? The full validator never catches up on mainnet-beta with <8 cores.
instead use the same seed phrase with `solana-keygen recover 'prompt:?key=0/0 --outfile recovered-phantom-wallet.json`, to get the matching CLI keypair
You can do that, just ignore the CLI pubkey
This page should help you https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret
Generate a phrase with CLI tools, and then import it to Phantom
This has a list of resources https://twitter.com/solana/status/1483315577678544897
You're going to have to state your goal
Sorry doesn't make sense for me. Is there a way to match standards?
What resources should I read to start developing Solana?
Yeah, I thought about it. Is there a way to match standards? Is there a phantom chat anywhere? The discord invite from their website doesn't work
CLI generates raw ed25519 keypairs by default, Phantom bip32 derived ed25519 keypairs
Could you rephrase the question? Not sure of the ask
I think it is of a different standard. That's more of a phantom specific question though
Thanks it worked.
But I have another question. Why is the generated seed phrase for Paper wallet doesn't work in Phantom wallet? Actually it works, but in a strange fashion. When I import the generated seed phrase into Phantom wallet it shows the list of addresses to import where I **can't** find the one that was output by the CLI tools
Hey i found a way how to automate spl token conversion into lp and farm tokens, now i have problem that user should  deposit this tokens into some "vault" with method for owner to use deposited by user tokens only to claim rewards, can u put me into direction how i can do that or which libraries i can use for that (like some vault lib which i can extend) ? [its a logic to allow user to "donate" using collateral]
i have added but they did nt respond
Contact serum discord
?????
Help
how can i use the usage file on readme file for see market data on market.js file
https://github.com/project-serum/serum-ts/tree/master/packages/serum
Hi there , i hope youre doing well , i need help here as urgent
iirc the majority of the Solana ecosystem including docs is open source. So you should be able to update that yourself.
it turns out to be a memory error, would be nice to have it on the documentation so developer are informed about it. a minimum of 2GB is needed
What would you use to deserialize a token account? Is there a struct already produced in a library?
All on-chain state is readable by any program
This may be a dumb question, but I'm unable to find the answer right now. Can a smart contract view the balance of a token account that is not created by itself? This would be to avoid having to do an RPC call.
Thanks, makes sense
My understanding is that it's down to the program. When I asked about the system program specifically someone linked me https://github.com/solana-labs/solana/blob/master/sdk/program/src/system_instruction.rs#L143 - So I think it's equivalent of that for whichever program you're using would be your starting point
It would be perfect if there is similar way to decode transaction instructions data buffer that there is to decode account data `AccountLayout.decode(account.data)`, but I guess no?
depending on the program*
Thanks a lot guys! Regarding: `Eg. you can read lamports in a SOL transaction using` is there a general structure that each transaction instructions must follow or can it be basically anything?
Need a lot more
38% committed! üëÄ
Sounds like these questions need to be public on SO
Also look into the `buffer.read...` set of functions, which are really useful here

Eg. you can read lamports in a SOL transaction using `const lamports = data.readBigUInt64LE(4);`

So that's reading an unsigned 64-bit integer after skipping the first 4 bytes

There's a whole load of functions like that on Buffer and they seem much nicer than the older SO answers I found for doing similar decodes


///////////////////////////////////////////////////////////////////////////////////////////////

is tagging <@!489206164270350337> or <@!788215642070581289> allowed for this? üò¨ü§û
Can anyone tell me why do I get this error? ```js
/home/muhitrhn/Discord/web3-connection/sol-to-disc/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.js:44
    accountInfo.amount = spl_token_1.u64.fromBuffer(accountInfo.amount);
                                         ^

TypeError: Cannot read properties of undefined (reading 'fromBuffer')
    at deserialize (/home/muhitrhn/Discord/web3-connection/sol-to-disc/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.js:44:42)
    at new TokenAccount (/home/muhitrhn/Discord/web3-connection/sol-to-disc/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.js:26:45)
    at /home/muhitrhn/Discord/web3-connection/sol-to-disc/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.js:35:52
    at Array.map (<anonymous>)
    at Function.<anonymous> (/home/muhitrhn/Discord/web3-connection/sol-to-disc/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.js:35:23)
    at Generator.next (<anonymous>)
    at fulfilled (/home/muhitrhn/Discord/web3-connection/sol-to-disc/node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.js:5:58)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)```
```js
//Outside component function
const programID = new PublicKey(idl.metadata.address);
const network = "http://127.0.0.1:8899";
const opts = {
    preflightCommitment: "processed",
};


//Inside component function
const getProvider = async () => {
        const connection = await new Connection(
            network,
            opts.preflightCommitment
        );
        const provider = await new Provider(
            connection,
            window.solana,
            opts.preflightCommitment
        );
        return provider;
    };

    useEffect(async () => {
        const provider = await getProvider();
        const program = await new Program(idl, programID, provider);
        try {
            const vibes = await program.account.vibe.all([
                {
                    memcmp: {
                        offset: 8,
                        bytes: provider.wallet.publicKey,
                    },
                },
            ]);

            console.log(vibes);
        } catch (e) {
            console.log(e);
        }
    }, []);
```
but when I change something in the file and save it, desired result comes
```
Error: failed to get accounts owned by program 3NcczXqNpzUsp6c2pGqLNJMnUwScvZBXduj8f3sg6Qdz: Invalid params: data did not match any variant of untagged enum MemcmpEncodedBytes.```
GM everyone! I am facing this problem in the frontend
i have another question. is there a parsed version of connection.onAccountChange? data is buffer but obv. i want jsonParsed.
ty man!
There should be more examples in governance if you poke around
Not sure on a full guide, but I know Friktion did this recently for governance-ui. Their code it here https://github.com/solana-labs/governance-ui/pull/428/files#diff-9a20b40cc53615cf3781f456a56106dc59c87c97f6a661772e9f42b9150c5e53R46
yes
Like how to deserialize instructions in a transaction?
do you know any ressource related to that?
Custom programs need to do their own deserialization
spl and native programs get this treatment iirc
It's special on the rpc I believe
on my side I just have a data field
how do they do? On our own programs we don't have this parsed field
When I do `connection.getParsedTransaction` the instructions for spl-token are very detailed, eg:
Please add and dm
Looks like it may be activated now on mb `DwScAzPUjuv65TMbDnFY7AgwmotzWy3xpEJMXM3hZFaB | active since slot 117936008 | enable sol_{set,get}_return_data syscall`
You could make the connected wallet sign something and then have your server verify the signature, I guess (e.g. https://docs.phantom.app/integrating/signing-a-message)
having a concept question: Connect Wallet on (angular) website, communicating with a REST server (nodejs). what could be the best way that the server knows request is done by connected wallet user? dont want to store data onchain, but only want to query data by wallet.
cool thanks
Yeah, kind of weird names, but: `owned` is the address of the account whose authority you want to change (so it's the token account itself, or the mint, etc.). `owner_pubkey` is the *current* owner of that account (they need to sign off on relinquishing their authority to the `new_authority_pubkey`)
You can't get private key of signer
Ok i see! I guess that a transaction has to be "fully" signed to be able to go through, right?
can someone explain what the owned and owner pubkeys are for? <@!134416332509675520>
Uh interesting might want to look into that
thanks for the answer
that's awesome, what i wanted
I dunno if there are solana blockchain simulators like truffles on ethereum...
https://solanacookbook.com/references/local-development.html#how-to-load-programs-from-mainnet
programs in 
metaplex-program-library
i want to deploy it to local system
solana test-validator doesnt have  metaplex program deployed
Metaplex program u mean candy machine?
i am on the site, there's no links to tutorials
Buildspace.so has some good tutorials
it is the main different. https://github.com/solana-labs/solana/blob/master/web3.js/src/transaction.ts#L477-L480
you can try to log your transaction's signature like `console.log(transaction.signatures)`
compare between sign and partialSign
is there an easy way to use metaplex program in Solana testing environment?
I was particularly curious about this candy machine v2 code, in connection.js. This is the main method called to execute the mint transaction. Why would i partially sign every transaction, when i can easily just call sign? I was also wondering what that wallet.signAllTransaction does... does any1 here know an open source solana wallet so I can check the source code?
thx, but looking at that code I don't understand why would someone call partialSign instead of sign which takes care of everything
Have you looked at autoConnect
maybe notify the wallet to update their token list ?
https://github.com/solana-labs/wallet-adapter/blob/master/packages/starter/example/components/SendTransaction.tsx#L8-L36
to decode data, you will need to know how program read it.
basically the data is a byte array and program will separate them into meaningful segment
if you want to decode it, you need to do the same thing as program do.
I don't think you can use a PDA to pay transaction fee atm
here is the source code https://github.com/solana-labs/solana/blob/master/web3.js/src/transaction.ts#L459-L514
yup I know.. but phantom auto connecting with localhost would be slightly better for UX
phantom wallet can also change network to localhost. there is a gear icon in the bottom right.
`const endpoint = http://127.0.0.1:8899;` will work but I want the Phantom wallet to auto connect with Localhost
yeah I just mistyped here
maybe not "/" but ":" before the  port number
`const network = http://127.0.0.1:8899;` doesnt seem to work
```js
export const Wallet: FC = () => {
    // The network can be set to 'devnet', 'testnet', or 'mainnet-beta'.
    const network = WalletAdapterNetwork.Devnet;

    // You can also provide a custom RPC endpoint.
    const endpoint = useMemo(() => clusterApiUrl(network), [network]);

    // @so#2589lana/wallet-adapter-wallets includes all the adapters but supports tree shaking and lazy loading --
    // Only the wallets you configure here will be compiled into your application, and only the dependencies
    // of wallets that your users connect to will be loaded.
    const wallets = useMemo(
        () => [
            new PhantomWalletAdapter(),
            new SlopeWalletAdapter(),
            new SolflareWalletAdapter({ network }),
            new TorusWalletAdapter(),
            new LedgerWalletAdapter(),
            new SolletWalletAdapter({ network }),
            new SolletExtensionWalletAdapter({ network }),
        ],
        [network]
    );
```
(picked this up from Solana Wallet Adapter) How do I change this to have the network as localhost:8899?
use https://explorer.solana.com/
and the WASM bindings specifically
Hi, Roughly how big should a fungible token contract be in KB?
of the web3.js library
what's the difference between `Transaction.partialSign` and `Transaction.Sign`?
Anyone knows that if solana v1.9 will support more accounts in a transaction ? Thanks !
Hey üôÇ 
I'm trying to decrypt what is happening within a transaction. No clue where to start : 
```
console.log(parsedTransaction.transaction.message.instructions[0].data)
YKmz3pSoZibBKvLS6uX18Nb
```
ü§î  Any hints ?
please help
<@!788215642070581289>
here is my code. how can i get signer from phatom wallet
facing this error
<@!788215642070581289> how can i get private key of signer for payer.

this is devnet compute units
Why does the budget adjustment work during local testing but not on the development network?
I see, okay gotcha, thank you very much üôÇ <@!134416332509675520>
You'd have to somehow figure out a way to build a single tx (fixed, no more mutations) and get both of them to sign it
As written, no, that's not possible (tweaking user 1's tx after the fact will invalidate their signature).
Hi :)!

I want to merge instructions from 2 different users, into 1 transaction, and not sure what is the best way to go about it.

User 1:
Creates instructions and signs the TX

User 2: 
Takes the TX user 1 created, and adds new instructions that only revolve around User 2's accounts. Then signs the TX.

I am aware this is most likely not possible, but just wanted to confirm
what is the solana equivalent of solidity events ? have a smart contract on ethereum that uses events in a significant way in an attempot to port it over to solana would i need to redesign the architechture if such a thing does not exist on solana.
And by placebid it goes wrong. I figured that out with console.logs
This is what I call when a user press the button:
```await actions.instantSale({
  connection,
  // @ts-ignore
  wallet: wallet?.adapter?._wallet,
  store: toPublicKey(storeAddress),
  auction,
});```
Can you share the code of buy NFT?
Hello guys, I'm building a NFT marketplace but when I try to buy (or placeBid) a NFT I get the following error (see image). The NFT is successfully listed. Does anyone know how to resolve this error?

How can I change it ?
Yep <@!134416332509675520> you are right. It's importing from `metaplex/js`

Mm, you're somehow not using the latest version I don't think (it's a function for me, and I linked you to the source‚Äîwhere it's definitely a function)
`getOrCreateAssociatedTokenAccount` not a function. I'm using `spl-token@0.2.0`
Latest version of the token library doesn't (just a mint pubkey): https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/actions/getOrCreateAssociatedTokenAccount.ts
How to check if user has an tokenAccount or not and if not how to create a token account of a specific Mint.
getOrCreateAssociatedAccountInfo requires a mint. But I have only access to tokenMint publicKey.
Check out this article on Solana Master editions!
https://medium.com/invisible-lab/what-is-a-solana-nft-part-3-e7a02dc3dde1
<@!893467316564676698>lana/buffer layout causing error in creating a fungible token using spl token
I have another question, is there a way to check which PRC is better at the moment, for example, which is more stable, or faster ?
For some txs, you may also need rent exempt balance to be stored in the account which should be taken account into if in the case.
Yeah, you can estimate. For txs, every signature costs 5000 lamports.
*fixed
Is there a way to estimate a fee for transaction or is it fiex?
Hi, does anyone know when the Solana adapter for WalletConnect will be released and why the folder with it was removed from https://github.com/solana-labs/wallet-adapter ?
this code is written in txs
Hello Everyone
I tried to create my own fungible token using spl-token library in javascript front end along with solana web3.js library but i am getting this error-
ReferenceError: Buffer is not defined
    at createInitializeMintInstruction (initializeMint.ts:54:1)
    at createMint (createMint.ts:42:1)
    at async handleGenerate (index.js:38:1)
These .ts files are imported from <@!893467316564676698>lana/spl-token library
Thank you!
How to call a JSON RPC API from React native? can you send me any sample code or the guide to use it inside React native.
Hi frens, is there a way that I can allow spl-token to be transferred only to specific addresses?
https://solanacookbook.com/core-concepts/pdas.html#facts
and 
https://solanacookbook.com/references/accounts.html#how-to-create-pdas
I think you will need a backend to do this  https://docs.solana.com/integrations/exchange#listening-for-deposits
or you listen to https://docs.solana.com/developing/clients/jsonrpc-api#programsubscribe 
and filter your account
Hi! I'm trying to create a PDA own by an escrow to hold SOL from multiple address. How do I do that?
I'm currently initializing a keypair on the frontend and passing it to my program. However, I'm not too clear on the change of authority or how do I make it so that my program can sign the account.
Hi, When I receive any tokens I should get a notification in my app. I am using React native. How should I achieve this, can anyone help me out on this??
Thanks I'm sending wrong accounts.
Hey, thanks for the link!
Yeah i'm sending both transaction instructions in same transaction
have you init `tempTokenAccountKeypair` as a token account before this instruction happened?
also need to check `sellerTokenAccountPubkey` is a valid token account and its auth is `publicKey`
```
  const transferTokenToTempTokenAccountIx=Token.createTransferInstruction(
      TOKEN_PROGRAM_ID,
      sellerTokenAccountPubkey,
      tempTokenAccountKeypair.publicKey,
      publicKey, //owner == seller
      [],
      amountOfTokenWantToSale
  );
```
I'm trying to transfer SPL tokens from my wallet to temporary wallet. Error `Owner doesn't match`
 any suggestions where i'm doing wrong?
you can extend it as a full code. this is a part of it.
and cookbook is telling you how to create a token transfer transaction and use private key wallet to sign.
for a real world wallet signing, you can refer to the second link I posted to you before.
where is user signing process?
so if i want to get token from user to owner account then alice will be the owner of that token and tokenAccountYPubkey will be the public key of owner account. right?
from's owner. from is a token account and there is an authority owned this token account.
who is the alice?
when you create a transaction you can also specific a fee payer.
official node is a full-node. I think you can fetch data from it.
who will be the fee payer
Hi Solana community, may I know if the token information for the Devnet tokens take longer to be referenced from Solscan & Phantom wallet?

I have gotten my PR for the token information auto-merged into solana-labs/token-list's main branch but the token is still depicted as unknown token on  Solscan & Phantom wallet.

More recent tokens on the Mainnet have already been able to be picked up on Solscan.

Does the token information for the tokens on Devnet get referenced from this token-list repo as well? And if so, do they take especially longer than the Mainnet tokens?
I have same thing in backend using solana spl token and private key
the token you created we call it mint
a mint need a correspond token account to hold
when you transfer your token, actually you use your token account to transfer to another token account.
and all method written in the cookbook
I have already created token, and i want to create transaction for that token
Hello Everyone,

This is Nitin here from Bangalore, India. Our team is looking for the best way possible to get access to Solana blockchain historical data (not more than last 6 months). We explored a few things and are still figuring out what will be best way. Looking forward to your view/guidance on the same. Thanks.
how to create a correspond token account for your token is also written in the cookbook.
I want to transfer this token from phantom wallet to destination wallet address by signing the transaction
How can i add this address for solana token
Token. ‚Äî Solana
==================
Token Address: DxfEB8qDoyCgoGr3qZyU5iK2hKuRGjaEooHs3eyb9P8k
1. to know how to transfer token via private key wallet 
https://solanacookbook.com/references/token.html#how-to-transfer-tokens
2. to know how to integrate it into a wallet
https://github.com/solana-labs/wallet-adapter
https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe can notify you if the account data is changed.
or https://docs.solana.com/integrations/exchange#listening-for-deposits
<#517163444747894795>
hope you guys are doing well. I am working with solana token. how can i sign transaction with phantom and transfer my token to another wallet. please help

Click submit -> phantom open -> sign transaction -> send token to destination wallet address

I have done this same thing by using metamask for ethereum

Click submit -> metamask open -> approve -> transfer token to destination wallet address
anybody for help me
ty, deleting your post to prevent accidental clicking
can you share the website link too? we can work to get that site taken down
<@456226577798135808> he is scammer and asking for wallet recovery phrase on his website. Please remove this wrong person from this group. He is fetching amount from people by using their recovery phrase.

<@!804350183105363980> please remove this guy
I'm using the wallet adapter from Solana: is there a way to subscribe to an event for when there is a change in the wallet? (a new transaction has been processed)
How do I add this to my Cargo.toml file, I wanted to use the confidential transfer file specifically https://github.com/solana-labs/solana-program-library/tree/master/token/program-2022/src/extension/confidential_transfer
inside the npm initializeMint.mjs put 'buffer' that fixed a problem but now it tells me in *web3.mjs* publicKey.toBuffer() is not a function....I don't understand why it's so complicated =/
I personally had many problems, I migrated to ubuntu and so far everything is going well
So for windows development. I need to run the test validator on WSL?
Ahh i see
on WSL
u need AVX2 processor(core) in win2.
if your processor doesn't have that technology you won't be able to do much
How do i test my solana program on windows?
im not sure solana-test-validator runs in windows..  it will run on WSL and related linux based platforms though.   yes the openSSL lib is a common one, among other packages that may need to be installed.
is this a custom project or using an open source code base?  its showing esm related errors , which have been frequent lately based on setups, builds, packs, configs, etc.  Tough to know more or potential fix without code. Possible there are related issues in the github.
do i need to install openSSL on windows? because i get this error while running `solana-test-validator`
`libcrypto-1_1-x64.dll not found`
think i have found the problem , its because both the owner in octane relayer and client are the same...Thanks
nothing TT____TT
<@!150787664553967616> code can be found in these repo's octane relayer - https://github.com/mohan00710/octane-test.git         and octane client -https://github.com/mohan00710/solana-test.git
did you try and manual install 'buffer'  with yarn or npm?
I've been investigating for a few days, but I don't see any errors, only the buffer issue over and over again, I did the code again from scratch and it still tells me about the buffer üò¶
sounds NFT / Metaplex related?
this is probably the better place for those specific questions
https://discord.gg/824qj893
currently the token-list in github is used for spl-tokens, but this is changing soon.
https://github.com/solana-labs/token-list
here are the similar and related functions:
https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/actions/createMint.ts

https://github.com/solana-labs/solana-program-library/blob/48fbb5b7/token/js/src/instructions/initializeMint.ts#L42

it may have something to do with how compilation/bundling or dependencies are being installed, discovered.  Buffer generally comes by default with Node js,  and some other libs, for some reason its not being discovered in your dependency chain
another reason to not bincode for on-chain stuff. I wish we ditched bincode in the core code years ago üòï
the program BpfUpgradableLoader expects 4 bytes somehow
EDIT: because https://github.com/bincode-org/bincode#why-does-bincode-not-respect-repru8
Why some enum are marked as `repr(u8)` but bincode serialize those into 4 u8s ?
üëÄ
With React, you generally want to use `useEffect` to react to state changes. The button is just something that responds to state changes by rendering, and dispatches events to change the state when interacted with. You can listen to the public key change to know when a wallet has connected and ignore the button.
Not enough context to say. It really helps if you post a link to a complete project of code that produces an error rather than just an error string.
<@!150787664553967616> what kind of transaction i can me with octane, i was trying to make a simple sol transfer...i am getting this err "unhandled rejection: Error: owner is writable"
is anyone having super long wait times for fetching metadata on node js?
Hello, please can anyone help. Me on how to name a
SPL token and give SPL token registering it with a name.
My problem is still there.

 if I do the command normally with the json file, the creator address problem isn't there. but then it tells me that I need to select a storage option. if i add the storage option, it tells me the creator address isn't there... it's so fucked. Lol

Hi everyon have you ever tried this one? What do you think is the problem?
Hello guys, I am trying to send a value in usdc to the client's wallet so that he accepts the transaction. I'm using react, but it's giving me a buffer error...
initializeMint.mjs:33 Uncaught (in promise) ReferenceError: Buffer is not defined
    at createInitializeMintInstruction (initializeMint.mjs)
    at Module.createMint (createMint.mjs:31:1)
` var connection = new web3.Connection(web3.clusterApiUrl("devnet"));
  // Construct wallet keypairs
  var fromWallet = global.config.datawallet;
  var toWallet = new web3.PublicKey('xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx');
  
  // Construct my token class
  var USDC_pubkey = new web3.PublicKey('EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v');
  var USDC_Token = await splToken.createMint(
    connection,
    USDC_pubkey,
    splToken.TOKEN_PROGRAM_ID,
    fromWallet
  );
  // Create associated token accounts for my token if they don't exist yet
  var fromTokenAccount = await USDC_Token.getOrCreateAssociatedAccountInfo(
    fromWallet.publicKey
  )
  var toTokenAccount = await USDC_Token.getOrCreateAssociatedAccountInfo(
    toWallet
  )
  // Add token transfer instructions to transaction
  var transaction = new web3.Transaction()
    .add(
      splToken.createTransferInstruction(
        splToken.TOKEN_PROGRAM_ID,
        fromTokenAccount.address,
        toTokenAccount.address,
        fromWallet.publicKey,
        [],
        0
      )
    );
  // Sign transaction, broadcast, and confirm
  var signature = await web3.sendAndConfirmTransaction(
    connection,
    transaction,
    [fromWallet]
  );   `
?? üôÇ
yea.. good point.  pretty bad example.
maybe this will help with your understanding:
https://learn.figment.io/tutorials/solana-wallet-intro
this and some other cook book references talk about signing.
https://solanacookbook.com/references/offline-transactions.html#use-nonce-account

its methods of signing, and how the keypair is stored, accessed, and utilized, to execute signing.
cc: <@!361946224615620608> 

not sure on phantoms implementation exactly.
it is a wallet adapter package + a multisig smart contract
that is actually confusing
goki isn't really a wallet
no.  there are other wallets that are open source you can look into.  
goki wallet, among others.
phantom wallet is not open source right? I need to understand how window.solana.signTransaction works
I'll dig into the source code though, thanks for the pointer
I'm trying to force disconnect a user if the wallet adapter's auto connect triggers, but the user's backend session is expired
i believe so, but it might be in the base..  i dont recall. what are you trying to do?  If you follow the auto connect stuff youll see where it attempt to do this internally.
Does the wallet-adapter library's ``WalletMultiButton`` have some sort of "on connection" event listener?
yea your probably going to require a historical archive node, from a provider.. or know how to access related historical data. are perhaps use some service that does this.  there is more interest in this lately.
Lets say there is  transaction that was a scam and it happened on an account 2000 transactions ago. I would like to get and analyze the transactions that happened after the scam transaction.
not sure I follow. what is your end goal?  it sounds like you want to subscribe to account changes, ae you the one initiating the transaction, or is this if any transaction happens on the account? and you can only get 'x' number of transactions in history generally on an account, after which point you may need access to older data.  Not sure why you would want so much transactions after every new transaction..
I‚Äôve heard that it doesn‚Äôt matter if his RPC mainnet is public? Because then the backends become almost useless
Is there an API call that can return the transactions for an account made **after** a transaction? the getSignaturesForAddress call works using the parameter "until" only if the transactions was within the last 1000 transaction i believe. Any answer is greatly appreciated.
basically npm install @solana/spl-token was installing the typescript library when I actually needed the javascript one. Is this the expected behaviour? And why it wasn't working? Is it different to import ts or js modules? (Looking at them i would say they are the same...)
ok found the solution and it was pretty weird
```Token.createInitMintInstruction(
      TOKEN_PROGRAM_ID,
      mint.publicKey,
      0,
      USER_PUBLICKEY,
      USER_PUBLICKEY
    )
```
This code throws `UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'createInitMintInstruction' of undefined` which is weird since creteInitMintInsctuction is static... any idea?
Ah, just found it ‚Äî 1232 bytes
Thx bro
This is a pretty good guide: https://www.quicknode.com/guides/web3-sdks/how-to-send-a-transaction-on-solana-using-javascript - you can ignore setting up a node though and just use devnet for testing
Is there a limit to the amount of data that can be sent in an instruction?
let's say i have the user  keypair (so private & public address right?), how do i  actually make a transaction?
The line of code is `transaction = await wallet.signTransaction(transaction);` seems like i need this wallet object to sign a transaction...
I'm not sure I understand fully, but you can sign the transaction from your script if that works?

```
const signer = Keypair.fromSecretKey(base58.decode(process.env.PRIVATE_KEY as string))
```

If you're asking whether you can execute a transaction without all its signatures, then I'm pretty sure the answer is no though
https://pastebin.com/uqBykG60
Here is the basic sendTransaction of a CMV2. Can I modify it so that the wallet.signtransaction is not needed anymore? If not how do I istanciate a wallet object so the script can still run?
Hi guys! Someone would know the complete logic, doc or even tutorial allowing :

Create a NFT staking site, allowing to generate $COIN (which are spl-token ?) linked to a liquidity pool. If two types (generation) of NFT are staked from the same wallet, in this case, the reward of $COIN is multiplied (Generation 2, allows to multiply the rewards of staking of generation 1)
Is there a way to give a script the permission to execute transactions ? Like a script running on node.js with no browser UI
And for most purposes, it's "good enough."
Confirmation takes much less time than finalizing the transaction.
does it take more time to get finalized?
I mean I get the difference, but I don't see why people seem to prefer confirmed over finalized
> Bank state to query. It can be either "finalized", "confirmed" or "processed".
maybe they are different things. seems like it
but, in different api.
funny thing is in api, it uses finalized as a flag
like get_confirmed_transaction(self, tx_sig, encoding='json')
i use it because it's the part of the name of the function.
Hey, I have a very noobish question, but I didn't find an answer quickly.
Why do people use "confirmed" commitment mostly, not "finalized"?
getOrCreateAssociatedTokenAccount throwing 
```
TokenAccountNotFoundError
```

Anyone has any ideas? Trying to transfer nft over to another users address
hey guys
k thanks, will look up how to check if recent blockhash has expired
It's fine to rebroadcast at a reasonable rate, just _never_ re-sign
if it doesn't land in a block by the time the recent blockhash has expired
am noob
i like failed tx, but how do you know it's dropped?
a message should never be resigned after being broadcast until after its recent blockhash has expired. human time is useless for this
start by not conflating dropped and failed. they are different things
üôÇ
i get so many scam dms when I type something here.
k thanks.  on devnet it sometimes hangs or succeed with same request
If the transaction is hanging, you might have http errors or a malformed request.
For Solana, ten seconds or so is usually more than enough time.
when can you tell a transaction is failed when there's no confirmation
how long do you guys usually wait for transaction confirmation?
Okay, thanks. That might help.
on devnet
like if you get transaction from rpc api, i get  'logMessages': ['Program 11111111111111111111111111111111 invoke [1]',                                              'Program 11111111111111111111111111111111 success',                                                                'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]',                                                  'Program log: Instruction: InitializeMint',                                                                        'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 2457 of 200000 compute units',                       'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success'],
or looking at the transaction
i can see program logs here
https://explorer.solana.com/tx/5MaSZtthwQyPL2Fc8P4gTQ5SW4b2X3xzebDVjLmQWfBdksMXa8t5VuKWAinXmiZBcbyFqDjNEGSVaXZKKAaYAH7x?cluster=devnet
There's no way to access the program logs for a program running on devnet, is there?
tx only exist when it succeed, so confusing
i get tx address, and it doesn't exist when it fails
Keep getting the SanitizeFailure error when I try to run my transaction, and I haven't figured out why yet.
I've been struggling with SolNet recently. I don't think anchor programs are built to run on anything other than javascript.
i mean more than 50% fails
using pythonapi, creating associated account sometimes fails,
Depends on the developer.üòÖ
A program id is a unique identifier to a particular program on the Solana cluster. It will be constant for that particular program, but every program that runs on the network will have its own ID. So if you want to run an instruction using a program/smart contract, you have to identify the program with its programID so that Solana knows which program to run.
Which one is the right thing to do if I want to connect a wallet?
```ts
const wallet = useWallet();

//Option 1
wallet.select(walletName);

//Option 2
await wallet.connect();

//Option 3
wallet.select(walletName);
await wallet.connect();
```
do devnet transactions fail alot?
how do I get Keypair object from phantom in web3 ??
I've been told it's 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA' is that constant forever?
https://docs.solana.com/developing/programming-model/transactions#program-id I've found this but still not sure what that really means?
Could someone help me understand what the 'program id' is?
like, it imports it just fine, and it renders and everything but there is no context
it's more a setup problem I think because it only fails if it's imported as a dependency
then it can't access the context for some reason but I don't know why that would be
it's weird because if I copy the files into the package directory itself and import it like that it does work. it just doesn't work if I import it as a dependency using yarn workspaces
Can you put your minimal code on replit or similar?
Must be something on your code side üòê
nextjs one same unfortunately
My repo isn't public yet, but I've put the api route + relevant react component in a gist here: https://gist.github.com/mcintyre94/ad55baed64b39683c05ea41f440acd20

Can definitely strip this down a bit though üôÇ Also it's sending an SPL token instead of SOL from the user to mimic USDC ATM, can also change that

The API is designed to meet the specification for transaction requests too

Actually I put a demo up earlier: https://solana-pay-tutorial.vercel.app/buy It uses the token from https://spl-token-faucet.com to mimic USDC on devnet
I believe Anchor does this
Sounds awesome. Got any source?
I have code for creating a transaction where user sends SOL, receives SPL token, partially signed by the server. Works today on solflare wallet. It's part of a tutorial I'm writing, so I'd be happy to contribute to this if it'd be useful üôÇ
in the docs, there is just mention of native Rust unit testing... can we use js unit testing tools to test out rust/solana programs ?
interesting suggestion
damn so you need to take snapshots at all times? You could replay transactions locally and see how it modified account data.
Another example you might find useful is https://github.com/solana-labs/solana-pay/blob/link-request/point-of-sale/src/server/api/index.ts#L32 - that's the solana pay point-of-sale PR that uses transaction requests - so it returns a serialized transaction from the server call
<@!150787664553967616> might like to hear what went wrong

but it didnt work after tons of tries so kind of gave up on that üòÑ
oh i think ive recently tried octane
Thanks, guys
Let me see if I can cook up a tutorial on this. May not be immediate though
https://github.com/solana-labs/octane
Octane does this today
yep, thats what im asking help with
now trying the nextjs one
same result with the create-react-app-starter
You can partial sign on the server, send the transaction serialised as a HTTP response
and that would expose the key
yeah but you still need a private key to define it in partial sign
Can you create a transaction where the user sends SOL and you send tokens, then you partially sign it? Doesn‚Äôt work in all wallets yet (Phantom), but if you can control for that then you can do it atomically
I'll give them a try. thanks
if I put the custom button files in the project itself and import it like that it just works
Recommend using the starter here https://github.com/solana-labs/wallet-adapter/tree/master/packages/starter/create-react-app-starter or if you're ok with next.js https://github.com/solana-labs/dapp-scaffold
I have a custom button that I import as dependency (yarnworkspaces monorepo) and it's not able to access the context
nothing add
create-react-app default stuff
react
What framework
Oh, Thanks
You always have to pay double the rent for the program
it escrowed my SOL in the buffer account, Isn't going to make use of it ? Do I have to pay double ?
You don't have enough sol
I even tried many times with --buffer <buffer-Keypair>
like, how does it not find the context
does anybody know what might be causing this? the component tree is literally nothing but the context providers and a button using the context
yes
You're getting that from a `solana program deploy`? That's a custom error
Error: Deploying program failed: Error processing Instruction 1: custom program error: 0x1
Why I get this error while deploying a program on mainnet?
So what problem are you actually having?
true, true
It definitely is safer though
and probably will cost to deploy
because i think rust is way harder than doing an api call
Have a program hold a specific token, gives out a set amount of tokens based on SOL sent
No, I mean why not do the transfers on the program side?
when he inspects and stuff
because i dont want to expose my private key to the user
Not entirely sure. I would expect the answer to be yes
Why backend?
This seems like a program related thing rather than a backend thing
its not the problem
i know how to send a tx
Can the Anchor framework / Mocha test suite be used to test non Anchor / vanilla rust programs?
You'll want to use @solana/web3.js if you're in Node - https://solana-labs.github.io/solana-web3.js/classes/Connection.html#sendTransaction is probably where you want to start
http call or api or something
just
not like rust or anything
and i want it on the backend
I just want to send some tokens to a person after he sends me some sol and so far i have the tx in the frontend
What problem are you having
does anyone know how to do backend txs i would reallyy need some help I would pay by SOL
spl-governance does this today. Mango uses it
No
found this, using cli version 1.8.12 fixed it for me
Is it possible to get older states of account data given a blockhash/blocktiime?


///////////////////////////////////////////////////////////////////////////////////////////////

$500 x 365 for 1mb seems wrong
Epoch is ~2 days I think
so kinda per epoch, how many epochs a year?
https://docs.solana.com/implemented-proposals/rent#timings-of-collecting-rent
[edit: misread, my bad]
is rent per month? so you'd need a balance of $500 x 24 to cover 1mb? (rent exemption)
Anyone know where I can find this piece of information?
7 sol.. oh shit.. i thought it was lamports
Rent is expensive
Ah, sorry, no, $700 per *mega*byte lol
that's reasonable, lol
so yeah, $700 USD per petabyte
anyone knows if there's a way to watch the pending transactions on solana ?
Yeah I guess that's not so bad
asking question just out of curiosity. if i create a account and gets its pubkey and use it in my declare_id macro in smart contract. than can anyone deploy a program to on chain? or do i need to change keypair to that specific id and then deploy my program?
Rent exemption is very close to 7 sol/mb (500$ roughly)
But yes üòõ
and the balance you need to keep, also significant
(Meaning, rent is completely local to an individual account‚Äîhas nothing to do with any other account/program)
Ok, but assuming you made a Program like Twitter.. with billions of posts.. your rent would be fairly significant
You can do `solana rent <num-bytes>` to see how much rent costs
It's calculated based on the size of the data in each individual account
The question is more around "Is rent calculated against the post data" or just the program binary... not so much the schemantics of how it's paid
So who pays rent depends on who funded the account creation
No, every account in solana has a lamport balance (1 lamport = 1 billionth of a sol), and rent is deducted from that lamport balance (assuming the balance is below the "rent exemption" threshhold‚Äîif you have more than that rent exemption amount, then no rent is collected)
(or programs account)
I'm new to Solana.. but in the example of a Program that was storing "posts" .. those posts would be charged rent to the program?
Rent is applied to every account individually
Is "rent" charged only for the size of your program... or for all of the data stored for users as well?
Hey, do you know when realloc will be available?
its up to you, getTransaction will return more info, and if your assuming they go through within 3-4 retries with a backoff, then u have the transaction response information.  if after then its not successful. its highly likely it did not go through, but u can query the signature still if you want.
until it reaches consensus I feel I need to wait as in getTransaction + retries
Shall I still do connection.getTransaction + retries first and only after a given number, check the https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignatureStatus or the other way around?
Having same issue here... but I solved it by putting all signers in sendTransaction() like
`sendTransaction(tx, connection, { signers: [signer1, signer2] })`
thanks so it will link program to that account. great so i think this way we can also update our program. great do we have any article which explains. this all i wanna have a read
oh ok ok now i am getting this we create a new solana account and then we put its address in that program right?
Thanks for letting me know!
where does the blockchian store the pending transaction for processing then ?
you create account => delcare your program id => build
so wont it change id?
yes
thanks both of you but dont i need to build again? after changing it
not possible
You need to generate the program id keypair in advance anyway.  Generate it, put the pubkey in code, deploy
You create account for your program
i.e. solana-keygen new -o ./account/program.json
How can I get a list of the pending transactions on the network with the RPC API ? 
The getTransaction function only returns the confirmed ones ... anyway to retrieve the pending/failed transactions on the network ?
hey while creating smart contract, does anyone know. how do they know id in declareid!("") in advance?
you might be looking for this, and related..
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignatureStatus

not found, or error, generally means it did not go through
https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction

Ideally I need a way to understand if the readiness of the final state was reached. Until now I do, on failure check after a timeout (which increases by recursion/iteration)

```
getTransaction#
Returns transaction details for a confirmed transaction
```
On `solana/web3.js`, is there a method to check if a "transaction" is a failure in the blockchain? I'm doing `getTransaction` if I don't get a transaction id, I keep retrying until I get it. But there's a point where the transaction in the blockchain is "not found" ( https://explorer.solana.com/tx/3gwUgFQBUn9FzdJaSJgSxZs4sNWmJDk79sJzsr7twb5rwXCqUSogeVNsFqdwbyRMmxSBt85t75ikoHsMhmSSJU7D ).

```js
    const transactionResponse = await connection.getTransaction(txSignature, {
      commitment: 'finalized',
    });

    const transactionId = transactionResponse?.transaction?.signatures?.[0];
```

Guess will have to dig into the "transactionResponse"
<@!501570363566587905> Could you please checkout https://github.com/project-serum/serum-dex/pull/224 ?
You can also use checked_mul and similar operations
yeah that makes a lot more sense why all the code i was looking at was casting to u128 and doing the operations then recasting back
So yeah, maybe still good to convert to u128? Haven't thought about this much
But presumably also have to be careful about overflow
oooh i see thanks
You probably want to do the multiplication first then and divide afterwards
even when their 10^8 if `a < b` then `a / b = 0` when using u128 or u64
If you multiply all the numbers by 10^8 or something you can represent up to 8 decimals
isnt the problem still the same even with u128?
```
if deposit1 >= vault_balance1 {
  amount_to_mint = deposit1 / vault_balance1 * pool_state.total_amount_minted;
} else { 
  let v = vault_balance1 / deposit1; // a / b = mul 0.25 => b / a = div 4
  amount_to_mint = pool_state.total_amount_minted / v;
}
```
like right now im using if statements
You can convert to u128, shift left by some amount, do the math, shift back as needed
I think this help my question too actually, the warp seems more useful than ts delay functionality
does anyone know a good library for u64 operations like div and multiply which don't go to zero when value is < 1 ?
Anchor happens to mainly use JS/TS tests so I've been lazy and haven't written many rust ones, but they're definitely useful and I'll probably write more of them in the future
JS/TS tests talk to an actual running solana validator + (maybe) help you test your any JS/TS client code you have at the same time as your contract code. Rust tests are more flexible because the rust testing framework lets you do stuff to the test runner, like warp forward in time etc., that you can't do with an actual validator
I noticed like here https://github.com/project-serum/serum-dex/blob/master/dex/fuzz/fuzz_targets/multiple_orders.rs they don't have any instructions that require a delay or particular time sequence with some delay
how does this compare to the Rust unit testing described in the docs ?
All of the web.js tests also have tests against a local validator. Anchor just has the setup a bit nicer. Same thing though
thanks <@!134416332509675520> ... Can you differentiate between doing this and the Rust based unit testing described in the docs ?
You mean this kind of thing? https://docs.rs/solana-program-test/latest/solana_program_test/struct.ProgramTestContext.html#method.warp_to_slot
so.. in all reality, one could just use mocha + web3.js and essentially test any rust solana program my asserting what should happen against what actually happens when over the RPC are initiated
Not really sure how to mock a five second delay in Rust. I guess what you're saying is that Rust is chosen because it has the necessary tooling for those particular tests and the performance advantage makes it a better choice.
Anchor doesn't really have any js testing framework per se‚Äîit's just mocha or whatever + you using web3.js to talk to whatever validator is in use
indeed it does.. but can you use anchor and its accompanying js based unit testing framework to run unit tests on vanilla Rust solana programs
And just to be clear, this charge only happens if the lamport balance is less than the rent exemption minimum (that's 0.00089088 sol, or currently about 7 cents)
Thanks
Yep https://docs.solana.com/implemented-proposals/rent
Is this documented anywhere?
So, when account is created it is charged 46 Lamperts
Why does it seem easier in TS than rust? Not following that
Well let's say you have some instruction that takes a number input and stores it, then if you run it again five or more seconds later it adds one to the stored input. Run it within five seconds and it does nothing. This feels a lot easier to mock in TS than in Rust
Try running `solana rent 0` to see how much
Alas, yes: every account, even empty ones, have to pay a bit of rent
Hi,
Is there a charge when creating a wallet and sending to it SOL for the first time - I'm currently on Dev network, and when I send 0.00001 - test wallet receives 0.000009954 instead, 
Transaction, that run after are fine
Easier how?
Why is Solana's fuzz testing done in Rust instead of TS? Isn't it a little easier to work with randomness and mock various delays?
Every time a client interacts with a contract it can specify "I want exclusive/mutable access to this account" and then that account's owning program (and only that program) can write to if the tx asks it to
No
super quick question, just having a strangely difficult time finding the answer lol.
something set to "Not Mutable"
is permanent? Just wanna confirm this
i didn't think it would be straightforward but thought it worth checking
ok, thanks
i dont recall there is an easy way to do this
just to see how bad something is going over the 1.4m compute unit limit
is there a way to activate "unlimited" compute units on solana-test-validator
cool thanks!
anybody knows if the request more compute units feature is active on mainnet?
It will be in v1.10
@everyone Hello guys, Does anyone know why phantom wallet auto connection is not working well on the Gatsby project?
is the address lookup table rolled out yet on mainnet? I see 1.9 is running on more than 50% of the validators, how much % consensus should there be that we can use it the new version on mainnet?
üëã Does the JSON RPC API have an endpoint to get the authority? This is referred as Update Authority on metaplex, so not sure if I can get it from the json rpc api. Thanks!
are there any public jsonrpc nodes to use or do we have to run our own?
Would it make sense to have a concept of 'dispose' for web3 connection that could ensure that the websocket is closed?
Is it recommended to reuse solana web3 connection as much as possible? I've noticed that in constructor it opens a socket connection so it seems to me it's pretty expensive to have it around.
Ah, cool, thanks for posting that‚Äîthat looks easier to use than I thought it was üëÄ
this code is actually written in TypeScript, but hopefully you'll be able to make a few changes to get it over to plain JS
i.e. demonstration of the use of a durable nonce to sign your tx offline.
there seems to be an example in the Solana Cookbook on this page here: https://solanacookbook.com/references/offline-transactions.html#sign-transaction
Hi guys, does anyone have an example of offline signing of a transaction with nonce account being used instead of recent blockhash? JS would be really helpful! Thanks!
Oh, yeah. I should check that. Sounds like thats the issue.
panicked at called Option::unwrap() on None.
E.g. it should be base58, not hex
You're probably not using an actual valid string in there
What's the error?
Yes, this is aldy included. Btw, the error is on chain. It compiled fine nicely.
`use std::str::FromStr;` then yeah, do what you're doing
Hello guys, quick question. How do I convert string literal to Pubkey? This is throwing error:
let pub = Pubkey::from_str("xxxxxx").unwrap();
<@!265256084556480513> <@!785084693023424542> maybe you know
Thx bro, it works, but mine works too
https://github.com/myungjunChae/solana-bpf-boilerplate/blob/master/client/src/transaction.ts maybe you looking for this?
looking good i never used anchor tho https://docs.solana.com/developing/clients/jsonrpc-api#sendtransaction
Okay this right?
const transaction = new Transaction().add(
          Token.createAssociatedTokenAccountInstruction(
            ASSOCIATED_TOKEN_PROGRAM_ID,
            TOKEN_PROGRAM_ID,
            mintPublicKey,
            newTokenAddress,
            clientPublicKey,
            serverWalletAccount.publicKey,
          ),
        );
        await anchor.web3.sendAndConfirmTransaction(
          provider.connection,
          new anchor.web3.Transaction().add(transaction),
          [serverWalletAccount],
          { skipPreflight: false },
        );
ts
in which language rust?
Can I do that with a simple rpc call?
make a tx? youll have to pay the rent form account A -> B if i remember correctly
How can I create token account to other wallet?
anywhere a boilerplate for an implementation of the https://docs.rs/solana-client/latest/solana_client/ ?
Hi everyone) I'm trying to add `https://solana-labs.github.io/solana-web3.js/` module into `react-native` app and got this error who got the same error?

`error: Error: While trying to resolve module `@solana/web3.js` from file `mobile-wallet/staking/rewards-store.js`, the package `mobile-wallet/node_modules/@solana/web3.js/package.json` was successfully found. However, this package itself specifies a `main` module field that could not be resolved (`mobile-wallet/node_modules/@solana/web3.js/lib/index.browser.cjs.js`. Indeed, none of these files exist:`Indeed, none of these files exist:

  * mobile-wallet/node_modules/@solana/web3.js/lib/index.browser.cjs.js(.native|.ios.jsx|.native.jsx|.jsx|.ios.js|.native.js|.js|.ios.ts|.native.ts|.ts|.ios.tsx|.native.tsx|.tsx|.ios.cjs|.native.cjs|.cjs|.ios.browser.cjs|.native.browser.cjs|.browser.cjs|.ios.json|.native.json|.json)
  * mobile-wallet/node_modules/@solana/web3.js/lib/index.browser.cjs.js/index(.native|.ios.jsx|.native.jsx|.jsx|.ios.js|.native.js|.js|.ios.ts|.native.ts|.ts|.ios.tsx|.native.tsx|.tsx|.ios.cjs|.native.cjs|.cjs|.ios.browser.cjs|.native.browser.cjs|.browser.cjs|.ios.json|.native.json|.json)
Hana's flash loan program uses it: https://github.com/2501babe/adobe/blob/master/programs/adobe/src/lib.rs#L126
are there any code sample available for this?
cool thank u
In JS you can use `web3.Ed25519Program.createInstructionWith{Public,Private}Key`
yea that rly beats the purpose lol
(Otherwise you'd be relying on an honest client having submitted that extra ed25519 instruction)
You can then use the also kinda awkward https://docs.solana.com/implemented-proposals/instruction_introspection to verify in your own program that the signature really was checked within the surrounding tx
ah i see
So the idea is you issue that separate ed25519 instruction alongside your own, and then if verification fails it will abort the whole tx
Unfortunately the API is a bit awkward, you have to issue a whole separate instruction from the client‚Äîinterestingly you can't CPI to the ed25519 program from within your own rust program
i cant seem to find ed25519_instruction in solana_program tho? can i just import solana_sdk into my program?
It's pretty annoying to use, but https://github.com/solana-labs/solana/blob/2400e86d136f5c151eb447bd7fbda6fed4068f49/docs/src/developing/runtime-facilities/programs.md#ed25519-program
hello there, how can i verify an ed25519 signature in solana? the usual crates dont seem to work <@!134416332509675520>
This is very doable but you're going to need to read some solana tutorials first
That's fine, you'd have the mint authority be a program-derived address (PDA) derived from contract 1
Damn it how could I miss that : https://book.anchor-lang.com/chapter_3/PDAs.html üòÑ
isn't it?
but mint authority is contract 1.
And I gonna mint from contract 2. so, need to call contract 1.
No, it's possible, I'm just clarifying that you don't need to write your own token program‚Äîyou'll just use the already existing spl token program
so, is it not possible? üò¶
üíØ  Thanks a lot for the support, I'll check what you suggested
hi can some one help me with  this.
Mints in solana aren't their own contracts, they're just mint accounts (owned by the one-and-only spl token program)
Strictly speaking you can, since the rpc infrastructure supports this (you can look up all accounts owned by a program, so assuming you don't have a bazillion nft config accounts it would be ok I guess)
I gonna to build spl token mint contract.
And in other contract I want to call mint function. so, many contract can use same spl token. 
how to call function of other contract from my contract? Is it possible?
The client could probably do it I guess
But that means I wouldnt be able to lookup all the configs in one go right ?
I'm starting to get it
Conceptually it's a map from nft ==> config account
You would use `seeds = [the_nft_address]` (pseudocode), and then store a little config account at that PDA address
If you only ever need to look up a given NFT's config (rather than, like, all of the configs in one go) you could use a program-derived address for this
What kind of config lookup patterns do you need to support?
Thinking about it, the way I could acheive this is instead to dedicate one contract per NFT staked ?
Hi everyone, I'm fairly new to Solana development, so please bear with me if I say anything dumb üòõ
I'm developing a game where the user would be able to "stake" multiple NFTs within the game to earn rewards. Each NFT staked can be boosted to increase the reward.

Heres a small example of what a user could achieve.
```
Staked:
-- *NFT-A* + 1 boost X + 1 boost Y
-- *NFT-B* + 2 boosts X
-- *NFT-C* no boost
-- ...
```
So I basically need to map the staked nft to a data structure that allows me to store the configuration for each of these.

My guess would be that I need an account that holds the configuration for each nft staked. Although my worry is that I would have to store an array of public keys to these config accounts inside the program account's data which will be limited at some point. Any idea how I can recover config accounts created by the client ? Or does the client have to give the list of accounts related to its staked nfts ? 

Is what I am looking to achieve even possible?
Thanks üôè
Looking for a back end developer üíé please dm
Hello Guys, 

Is Zebec.io the go-to multisig wallet in the solana ecosystem now ?
The error from above would mean that you're somehow using a weird programId. Where did you get that hardcoded pubkey from?
Hi guys, if chainlink is so expensive to make requests to custom external APIs, what you use as an alternative? and what are the best practices?  any information or link would be helpful, thanks!
I think that you set wrong accounts on web3
but shouldn¬¥t there be a different error message? because when i add a keypair to it as signer i get this:
also i need to set the mint authority of that token to the pda init ??
that makes sense. Thank you so much
I think you can write a custom program and use its PDA as a mint authority so that everyone can mint token via your program.
hi, can I set the mint authority to anyone ?? not just limited to single person?
I think that you don't set wrong account.
Maybe token account, but not sure
You didn't set signer
Question about the extra compute instruction - I've deployed and tested on localnet, works no problem. But on mainnet it seems to fail. What might be a reason for that?
I will share my screen please help
or over here
can we call over google meeting please?
get account info and check owner and data size. even decode it as a token account
how can i check this?
check from is a token account
https://solanacookbook.com/references/token.html#how-to-transfer-tokens

This is the code but it is showing error.
yeah. I just want you know how to sign. I think you stuck how to sign. you have already known how to compose a transfer token transaction.
I want to send tokens from phantom wallet to other user.
this code is sending lamports from wallet to destination but i want to send tokens from phantom wallet to other user.
does anyone know when idempotent ATA creation will be rolled out? https://github.com/solana-labs/solana-program-library/blob/master/associated-token-account/program/src/instruction.rs#L36 I'm actually not even sure exactly how this code gets upgraded on the network
Nobody answer my questions . Why
<#812122623654887444> there is someone will help you to kick out these guys.
One questions. Three scammer

sure üôÇ

Hi, I got an error while deploying a program anchor. I already have enough sol in my deploy. Please help me. Thanks
thanks man will look into it
maybe https://solanacookbook.com/guides/serialization.html#how-to-deserialize-account-data-on-the-client
in js
i used the connection one but then i dont understand how to deserialize using borsh
yes i tried it. actually we have two functions on that name one in connection and for other one we have to create a token object and then call it from that token object
if you don't do it on chain, you can use jsonprc, `getAccountInfo`  to fetch account info
if you want it happen in a on-chain program, you need to pass the account into your instruction
hmm is there any other way i can view data of an account i just want to know the amount property of that account
if you want to retrieve account data or balance in your program(contract), you will need to pass it into your instruction
Thanks, I will check it.
`spl-token authorize --help`
actually i am just trying to get amount in the account by deserializing the data, either it can be from rust or js. thats why i wanted to create accountinfo object by code manually in my small util program
you need to pack all accounts you needed into a transaction before you send it.
(I assume you are talking about you want to create an accountInfo object in a program runtime)
hey all, i have a public key in string can i create its accountinfo object manually in rust?
Hi, I want to change the [Mint Authority] of My SPL Token.
However, I cannot find any documentation that describes how to change it. (by using CLI)
Can someone please tell me how to do this?
do you know any other resource that has the list of error codes?
i think this might be outdated. my error 0x98 (152) doesnt show up in the error lang
Hi
Hi, I got an error while deploying a program anchor. I already have enough sol in my deploy. Please help me. Thanks
can you share code
Alright thanks!
look up "gas stations"  I think someone made a solana one during a past hackathon.  No idea if it took of though
Hi, I want to send sol to the smart contract and then program distribute it to the  2 accounts. Is there any example from where i can take help?
hello, i always get an error since today when sending a transaction from an anchor client to a program:  "  Error: failed to send transaction: Transaction simulation failed: This program may not be used for executing instructions  "  does someone knows where this comes from? the program is 100% marked as executable and has data in it, so it dosen¬¥t really make sense. pls help
I shall look into that and see how it works.. thank you üôÇ
ah yes, "feePayer"
https://docs.solana.com/developing/clients/javascript-reference

Look the second bloc code : ¬´¬†let manualTransaction¬†¬ª
Let me found
In Solana RPC API I already see you can create a transaction and choose in the params who is the payer
this is what feegrant does on Cosmos, it allows you to pay the fees for a user so they can have fee free transactions
(Im a newbie üòÖ)
not another crypto..  have like a Program, and a "grants" wallet.. and have a user sign up to the platform... and then create a transaction and have it paid for by the grants wallet... presumably in SOL
Crypto -> USDC -> send to phantom -> USDC to SOL
If you mean an other crypto, maybe create a program for swap crypto to SOL, send it to a phantom wallet and pay with
Btw if you use holder snapshot, I don‚Äôt know if the snapshot take escrow wallet too. Escrow is not an holder but a marketplace
You can use metaboss: https://github.com/samuelvanderwaal/metaboss

Take an NFT on Solscan and take the authority account (no need if you know the CM ID). And you can use the snapshot tool for get all tokens.
<@456226577798135808>is offering "support" in DM. assuming a scammer.
After the tx you have a tx ID, you can ask for Solana if this tx is confirmed/finalized with NodeJS
sorry to ask this again, my question kinda got lost.. is it possible for a transaction to be paid for by another wallet (i.e. feegrant in Cosmos SDK).. I want to be able to offer free transactions for certain things
Hey! How can I get a list of all token addresses from a collection?
hey guys is anyone having problems deploying a program on an m1 mac? im on solana version 1.9.4
many thanks! i will try this out üôÇ
this is probably still relevant
https://www.notion.so/Debugging-Custom-Anchor-Errors-b8540dd418c44a4e939ab17c56a3fd3b

basically its the above though, and once you find he hex->string value, that is usually the code you can search for in the correlating source code, in this case perhaps candy machine or metaplex, possibly.  there are usually error structs or enums, and the string conversion could be the index, or hard coded into the error in the code.
do you have any guides on how to track down error codes?
tried that already but i couldnt find that error code in their discord üò¶
using anchor or native?  is it a custom program error then?   need to convert the hex to a string, and track down the instruction/program it came from. 
the metaplex discord you might be able to search and look for that error code. and ask relevant questions as well to candymachine.
https://discord.gg/M6YPptPk
yea, the wallet has functions you invoke, for the transaction signing that they do internally.  just hard to say what it is or what is going on.  simulate could fail, could be a timeout or network related, could be a lack of funds issue, could be several things.
does anyone know how to actually debug these error codes?
hi i get 0x89 when i try minting from a candymachine deployed on localnet
ok ty i will try it üòá
oh. your mint auth is a PDA. you will need to use invoke_signed to called mint to
these are the program instructions, don¬¥t really know what to do know. I transferred the mint authority to the program address, so it should be fine to mint tokens with a derived PDA.
> is there a way to tell from the instruction data which function is being called
yes. if you know the program's source code.

use first 8 bytes as an instruction selector I think it has a high possibility an anchor program.
some other program like token program, just use the first 1 byte as an instruction selector.
the implement depends on different program do. I don't think there is a general rule.
~~iirc unknown signer is mean you pass a signer into a transaction and the transaction don't need the account as a signer~~
========================================
updated: unknown signer is that you miss a signer's signature.
these are the accounts and the client instructions. But i get a different error now üòÖ
is there a way to tell from the instruction data which function is being called? like i don't necessarily want to know what exact function is called.

but is there a way to split like multiple unknown instructions?

i.e. program X is invoked, 

2 instructions were made in total.


Here are the possible scenarios
1) Contained a byte array structure where the first 8 bytes would be the function involved.
2) Literally different for each program.

is 1 possible?
yes. it seems executable, how you compose your instruction? do you pass valid accounts and data into it
Are any of yall able to easily reach Chase btw? A lot of people have been trying to ping him today about not getting a Riptide submission confirmation in <#938448379673989120>
it should be executable
https://explorer.solana.com/address/DhGNX27oFPR7g9i13vQUcoHTkY8HhuGRT7tju5FrYz9L?cluster=devnet
check your program is a correct one
about message format https://docs.solana.com/developing/programming-model/transactions#message-format
hi, how can i fix the fs\ module error that Im getting while using provider local for anchor in the client side ? I know its anchor thingy.. But just so you guys know. Thank you
does anyone now why i get this error even though the solana program is marked as executable?
This is from solana cookbook, it shows how to  prepare transactions. It doesn't add any instruction since in the `populate(...)` function it seems to be able to get them from the Message. How is a Message structured?
cause the transaction will initiate and pop up with the message "unable to estimate balance changes - transaction may fail to confirm"
but the transaction creation is done client end as in whatever wallet provider theyre using?
appreciate that yeah, im not blaming the network here, im sure its most likely my fault but just hard to pin down
https://solanacookbook.com/references/basic-transactions.html#how-to-send-spl-tokens 
copied how they implemented it here
Just weird that it works perfectly for some wallets and not others
hard to say without more data what the cause may be. I dont know of any error that correlates to creating a transaction in the code base though,  'unable to create the transaction'  creating a transaction is done on a client, not sure how big your data set is, or user base.. but I can tell you this is not a problem of 10% fail transaction creation, in the general ecosystem. You probably need to collect and analyze the data.  See where the failures are. If it really is random or there are consistencies. Find it hard to believe this is not specific to how the transaction is being created, and or the wallet used to sign and submit. Sound like a good time to write some test cases and do some automation üôÇ
I dont think its necessarily phantom either, seems to be just a general 10% of wallets that are unable to ever create the transaction
not a failed transaction but rather a failure creating the transaction is the error
Hey all, just a quick question.. I am weighing up Solana vs Cosmos SDK and wondering if Solana Programs have a feature like Cosmos's feegrant? (https://docs.cosmos.network/master/modules/feegrant/).. i.e. having the transactions paid for on behalf of a user to help onboarding / removing cost barriers
how many blocks does it take for a tx to become finalized?
Hello people
Anyone here with problems with RPC endpoints? I'm getting lots of errors like `ws error: connect ECONNREFUSED 145.40.113.239` sometimes, but it's not consistent enough to understand why is that. May someone here knows more about this?
thx!
this section on keys and the related sections should have all the info
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret
how do i derivate the public key from the secret key? Also how do i cast the secret key from string to its web3.js type? (Not sure if it's a Uint8Array)
from a client, you can call a separate get and see if it exists and then create, and there are some wrapper functions in the spl-token package lib that getOrCreateAssociatedToken..  or something along those lines.
Or is it like a system limitation and you need to have a separate instruction to initialise the account/s?
Hey Ya'll 

In a program, how can you check if an ATA already exists to avoid calling `create_associated_token_account`? I can't seem to find any function that retrieves the account information
sry
tysm:)
users can get failed transactions for many reasons. if its on phantoms end its hard to say way, may be worth opening a support ticket with them if it seems to be the case..  what about other wallets?  torus, solflare, etc
tsym:)
lol
sry
it did
but i dont think it will work
ill try
no
did u try to just open the json file and import private key to phantom?
and vice versa?
like if i were to do: `solana-keygen grind --starts-with e1v1s:1` and open the .json that it created is there a way to turn that private key into one that i could put into phantom?
like the stuff in a .json
yessss
just around 10% of the people trying to send their NFT it displays that "this transaction may fail" and then fails because it was "unable to create the transaction"
but it works completely fine for most people using phantom
seems to happen on phantom
essentially have a basic transaction where a user sends a specific NFT to a specific wallet using the wallet-adapter
like dis?
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret
not very clear on why..  and what wallet?  is it a wallet issue?
no it hasn't https://github.com/solana-labs/solana/tree/master/programs/bpf/rust/noop
the only solution being sending their NFT to a different wallet and connecting to the site again and it will work everytime
using this to have a user using the wallet-adapter send a custom SPL token however for whatever reason ~10% of the time a wallet is unable to create the transaction
https://solanacookbook.com/references/basic-transactions.html#how-to-send-spl-tokens
I actually see that this was included in the main repo but has since been removed
hello, does anyone here know how to convert a solana wallet private key(that you get from phantom) into unit8array?
like into a keypair.json yunno
https://docs.rs/solana-noop-program/1.8.0/solana_noop_program/index.html
I found this, it links to the official ssolana repo but I don't see its source code when using gh search
Is there a program that will just consume some input bytes and no-op?
have you  'yarn' installed in the project to make sure the dependencies are all being installed?
and did you try the dapp scaffold and including any additional modules and installing them there per above ?  that was the suggestion to help you troubleshoot.
'C:\Users\ASUS\Desktop\sol-token-demos\first-demo\node_modules\@solana\web3.js\node_modules\@solana\buffer-layout\src\Layout.ts' file: Error: ENOENT: no such file or directory,
it is saying
i checked the project setup
i responded to you above üëÜ   it does sound project setup related as well.
I am getting buffer is not defined reference error while using spltoken library functions
yeah nvm fixed this
the guess is whatever your doing calling that is not valid or interpreted correctly, and so the spl_token_1 or related property is undefined, causing a fromBuffer error.  may want to check the call your making and whats being passed, making sure its a valid value that is expected.  otherwise may hop over to metaplex to search for and seek related issue answers
https://discord.gg/M6YPptPk
not really sure what this means, or what the issue is..  sounds like something with your project setup or implementation, if u change something in the file and hot reload, fixes it..?
for web3? 
you may want to take a look at the explorer source to see how they do this
https://explorer.solana.com/
https://github.com/solana-labs/solana/tree/master/explorer

But if your looking for transaction time generally you probably want to use something like this, for web3
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedConfirmedTransaction
very specific to metaplex: 
may search through discord there and ask in regards to this.
https://discord.gg/M6YPptPk
what does your project setup look like?  
have you tried mocking a similar call in the scaffold ?
https://github.com/solana-labs/dapp-scaffold
can someone help me in this
this is my error
Hello everyone, 
I'm trying to make NFT using JSON RPC API and I've stuck - need some help or advice.
I've created a mint on devnet (PDA 8z8TwUrf8WHxF7E5Wy7u2vpf2wLohnAey6Z3gsi5DyqW), and derived address for metadata as 'metadata'+tokenMetadataProgram+mintPubkey from (GtFY4GN8nfwYiuJftN8qwUTmvSwU96uAgUaUqHmNwUyp).

Now I'm trying to create it by calling token metadata program CreateMetadataAccount(), but I'm getting this error:

    Program metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s invoke [1]
    Program log: Error: BorshIoError
    Program metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s consumed 2919 of 200000 compute units
    Program metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s failed: Failed to serialize or deserialize account data: Unknown

I've compared my Borsh data with some real NFT with metadata V1, and added padding to name(32), symbol(10) and uri(200) like this had, so now my binary matches, but no change.
There is something I'm missing - any advice?
does anyone know how to figure out at what time a solana transaction occurred? I have blockTime and slot. how to figure out time?


///////////////////////////////////////////////////////////////////////////////////////////////

I just need to confirm it, thank you really
thank you
Yeah, that's right.
fetch('https://arweave.net/3wXyF1wvK6ARJ_9ue-O58CMuXrz5nyHEiPFQ6z5q02E', {options})
.then(data => {
    // Do some stuff here
})
.catch(err => {
    // Catch and display errors
})
should I make new ajax function ?
But How can I get from API. ?
Yeah, right

Then simply copy pasting the uri in the browser should show you all the off chain meta data like in the example uri mentioned in the cookbook
No, I don't think like that, everything is right
and it doesn't seem like your own chain uri data is uploaded properly?
To understand more easy, could you let me know any code.
make a get request to that uri
But Medata I just got is onChain data
I need to get offchain data like this.
Yeah, I think so that, but How can I get that from uri ? so which api I should call again ?
You should be able to get that from the uri

Hi <@!691197026184069121>, Exccuse me, I need your help again.
I just running your func, but this can get only MetaData, before I already MetaData.
I need to get image of NFT collection. but there are no image data.
They‚Äôre all ppl mate cant keep hounding them
Is it impossible to ask continuously? ü•∫
<@!954566833472700456>  at the risk of being banned you should really try to do some research before coming back with the same question, and he's already given you the answer. But since you keep asking here it is
https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata

const connection = new Connection('mainnet-beta');
const tokenMint = '9ARngHhVaCtH5JFieRdSS5Y8cdZk2TMF4tfGSWFB9iSK';
const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint));
const tokenMetadata = await Metadata.load(connection, metadataPDA);
console.log(tokenMetadata.data);
which API call I should ?
Hello, guys, I need your help.
How can I get offchain data from uri of metadata.  I need to get image of NFT collection.
Hi <@!788215642070581289>, now I am waiting your reply yet
does anyone have an estimate of how much in TB it is to store all of solan's blocks/transactions?
I tried encoding the timestamp and stripping the 4 bytes without success so ful
I have a bit of a crazy question. Has anyone been able to filter memcmp on timestamps? I'm trying to filter really just for items in today, so the first 4 bytes of my timestamp - has anyone been able to do this successfully?
Hi, if an API is limited to 2 RPS, is that limit count is shared between all user of a website or it is "unique" per user ? like 100 users on the website can make 2 RPS at same time without problems ?  Thanks
How can I find an information like this
On getSignatureStatus I get a "confirmed", on "getTransaction" it takes a bit too long to get "finalized", should I accept or is it safe to accept it as "confirmed"?
Can someone explain how the lookup for an account by address works in Solana?
Is it like a hashtable?
idk where the problem is, using this code i get a message tx failed and then i get tx popup and after confirming it doesnt send any sol
Will there be an easier more straightforward way to assign name, symbol, image etc in metadata to a token instead of using Github? Seems quite weird to me when Ethereum has all this data in the smart contract
Looking to get info on how to parse genesis.bin file which probably has that info
Nope. That would give account info for current slot. I am looking to get info accounts that were funded before genesis i.e, already had balances since block 0 on mainnet beta
how can we do the difference given a mint address that is either a fungible token or nft
Hey rusty and solana dev do you know how we can make the difference between NFT token and Fungible token on the anchor program ??
maybe just open an issue. we can talk there
do you mean https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo ?
I seen ur rep on github, pls can I dm u ?
Hi , how can I get information on premordial accounts and their balances for solana mainnet beta
maybe take a look here https://portto.github.io/solana-go-sdk/
I am new to code. I want to write my own API for Solana in GOlang. Can you please suggest the logic of sending transactions. I caught requests through Fiddler and read the documentation. But I don‚Äôt understand how to correctly build the logic of the function sent $SOL from 1 wallet to another
not sure I understand your qn. I look at the code you posted, if everything goes well, you will receive a signature and you can confirm it or getTransaction from it.
If so, can you guys share github repo ? I appreciate üòÑ
You guys are doing  side projects to practice api contracts ?
<@!788215642070581289> thanks, getting blockhash worked, but i dont know how come i receive a transaction to confirm, it even says sol transaction amount but after confirming it doesnt send
also <@!788215642070581289> thank you for answering all these questions you are a hero
that's essentially the solution I came down to -- just fetch a ton of blocks, store them locally and then try and key in by blockhash

I was wondering if others had simpler solutions but alas
It worked üëç
Do what chido suggested
I think you can only fetch blocks by slots atm unless you have your db to index it.
not the blockhash
the tx is failing
im using it, but seems to fail regardless, any ideas?
You need an `await` in there
or pull a specific block based on blockhash?
is there a known way to pull a specific transcation by blockhash? assuming I do not know the slot number
use https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getRecentBlockhash
or 
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getLatestBlockhash
why cant i get blockhash of the transaction

Because I didn't understand the issue initially I installed the Solana Tool Suite a number of times... will this cause problems?
Thank you
https://techpp.com/2021/09/08/set-path-variable-in-macos-guide/#How_to_Set_the_PATH_Variable_in_macOS
You should add to your bashrc
I'm new to mac and when I try to install the Solana Tool Suite I get the following message...
`Please update your PATH environment variable to include the solana programs:`
When I update the path according to the docs it doesn't persist after I close terminal. How do I make the path update permanent?
ah i probably should serialize the tx not the signature im dumb
hey! does anyone know how can i serialize this transaction?
Thank you so much!
Just typescript complaining, can do `(window as any).solana...` if you want
why is my window.solana not working

<@!788215642070581289> much appreciated!!
use
1. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
then
2. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
does anyone know the best way to use the web3.js API to pull transcation history for an account?

https://solana-labs.github.io/solana-web3.js/classes/Connection.html

I have been fiddling with "Connection" so far
Has your issue be resolved?
Yeah
I‚Äôm having issues transferring an NfT from my wallet gives me an error issue and I have enough fees, who can I contact?
Is it safe to accept "confirmed" as confirmation status? Finding "finalized" taking a bit too long some times
Yes
`Token of associated account`
does `associated account` mean associated token account?
https://spl.solana.com/associated-token-account
What is associated account..?
weird weirrd
why should i need to use token address?
it's weird if it uses token account address by default
Try meditating on those docs for a bit
```OPTIONS:
        --address <TOKEN_ACCOUNT_ADDRESS>    Specify the token account to query [default: owner's associated token
                                             account]```
You've chopped off a significant amount of text üòõ
```$ spl-token balance --help
spl-token.exe-balance 
Get token account balance

USAGE:
    spl-token.exe balance [FLAGS] [OPTIONS] <TOKEN_ADDRESS>```
Hi <@!788215642070581289>  you there ? 
How can I fetch some off chain data from uri of metadata
Need to do this instead (read the `spl-token balance --help` docs to understand why): `spl-token balance --address ALnJZXmE2SBGig6wAcEMCqMmwN17CeY23kF1dcqDHthf --url devnet`
so it should work the same
we have the same version
well are you sure u did the same
Could you let me know link ? because I just started Solana, so I don't know a lots of thing
1. you should get the nft‚Äôs metadata
2. there is a uri in the metadata, you can fetch some off chain data from it

how to fetch nft‚Äôs metadata is written in the cookbook
Hi @guys, who know about it ?
`spl-token-cli 2.0.15`
<@!134416332509675520> what's your version?
Hi <@!788215642070581289>, now I am waiting your help
my version
```spl-token-cli 2.0.15```
doesn't work with token account address
Ok, so yeah, maybe different versions of the spl-token command do different things

worked with token address


?
Lol, I just tried too and they *don't* both work, lol
wuuuut
Ok, idk, maybe they both work lol
I thing i signed correctly since sometimes it worked
not account
it's token address
```
spl-token balance ASFLaEqUs3nTLVDm2s5yjYQfjD5MPZVNHSkA55kFQC96 --url devnet```
I just  did
I can
I need to get like this.
You can't‚Äîyou need to know their token account address
How ?
there's no info about token account but only token address
```
spl-token balance <token address> --url devnet
```
How do you check someone's token account with this
ideally the image will hide in the uri, you need to do one more request
how can you check someone's token if u jus use token address
Not sure what you mean lol
it's not token account address
With that line!
it's token address
how tho
That's what that does, it checks a single account's balance
why should i check token address instead token account address
to check balance of someone's token
`in a single person's token account)`
Why not what?
What do you mean?
well then why not
```
spl-token balance <token account address>
```?

The supply one is for the entire mint as a whole (how many total tokens exist for it out there, versus in a single person's token account)
sometimes it worked well
<@!134416332509675520> sorry i made a mistake
Hi <@!788215642070581289>, you there ?
I just get NFT collections from API you sent
but there are no image.
i can see both checks balance just?

```
spl-token balance <token address> --url devnet
spl-token supply <token address> --url devnet
```
What is the difference?
Sorry, aren't those errors basically identical?

with these two error
it not worked
but other times
sometimes it worked
that makes sense!!
this one is unstake part
this one is stake part using game_account as authority

Because you're burning some specific person/account's tokens
```
spl-token burn <token account address> <balance>
```
Why is it `<token account address` when burning tokens?
I thought it would be `<token address>` ?
I am trying to make game_account as authority and construct game_account using js
Figure out who the authority is for that token transfer (can't tell from the screenshot since you've bundled away the actual context part)
You just need to make sure you're signing correctly (you're apparently not, based on that "signer privilege escalated" error log)
sometimes the unstake process worked well some times there will be problem. Can anyone give me some hints



I used anchor and solana web3 to call my program got two types of errors
above is stake process i use game_account as authority. Bottom is unstake process use find_program_address to get the pda signer.


here is my code
Hello everyone. I just met a weird thing. I am trying to code stake and unstake nft process for my program. Currently stake process worked but unstake process sometimes failed
Probably easier to just ask specific questions
does anyone here have experience with node js api (sending solana transactions on the backend?) would pay with sol for help
Annoyingly, Buffer is a node thing, not a browser thing. I think you'll need an extra dependency to get it working in the browser too, e.g. https://github.com/feross/buffer
Hi guys so I am trying to create an spl-token with js and react and I'm running into a weird error.  I get the error in the screenshot when I start the server and when I press the button to create a mint I run into this error ```ReferenceError: Buffer is not defined
    at createInitializeMintInstruction (initializeMint.ts:54:1)
    at createMint (createMint.ts:42:1)
    at async initialMintHelper (App.js:67:1)
```
To add this error only occurs in this specific case, works fine when I set up a stand alone package.json and just run node index.js.
I will recommend <@!788215642070581289>.
üëç
oh, thank you, cool
there is a icon `</>` at the top right, you can see the full code
Hi <@!788215642070581289>, what is it ?
they dont even reply you... but the anchor devs  replies you here ... haha
ahh so painful üòÑ
```
cargo install spl-token-cli
```
yes. I think it should be. you have a v2 program and you notify user to migrate their account to v2
i installed it today
maybe https://discord.gg/RSNRbKPj
Alright I solved the issue. I needed a filepath argument
Hi, I literally have this on the  anchor client and its giving me error on this idk y.. ```const program = new anchor.Program(idl, programId);```
migrate means having the two programs running until all data account are migrated
```js
new Connection(clusterApiUrl("mainnet-beta"), 'confirmed');
```
https://solana-labs.github.io/solana-web3.js/index.html
your cli is up-to-date?
what should I install for it ?
Hi <@!788215642070581289>, Excuse me , How can I get Connection ?
you will need a migrate instruction I think.
you don't know the reason? garmamelle
So if we have lot of Data Account created from our program, we are going to loose them if we want to release new version of the program?
```$ solana-keygen new
Generating a new keypair

For added security, enter a BIP39 passphrase

NOTE! This passphrase improves security of the recovery seed phrase NOT the
keypair file itself, which is stored as insecure plain text

BIP39 Passphrase (empty for none): thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Os { code: 6, kind: Other, message: "The handle is invalid." }', keygen\src/keygen.rs:576:92
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```I got the error. I don't understand it
iirc you can't atm.
ideally when we deploy a program, we will use a double size account to store it.
if in the future you exceed the size, you will need to deploy a new one.
yes.
and then Can I use it `https://api.mainnet-beta.solana.com` instead of that ?
what  is `mainnet-beta` ?
yes. pass wallet address into it
Hi <@!788215642070581289> , 
this is wallet address ?
yes tried and it shows me this üòõ now i dont know if this is correct or not bcz getting another error in program idk if it relates to this or not but thanks chido üòõ
maybe 
`new PublicKey(new BN("your BN string here", 16))`
yes but i can only run that function from a variable i lost the variable, so i can only copy the text in from console basically those big numbers
If I do a simple spl token transfer, in my program via a cpi call, will I have to borrow the account data again and deserialize it again to see the change reflected in the account balance, similar to how anchor lang reload works ?
you can use `toBase58()` to get the address. I think it will more easy for you to transfer
if you have the address, you can fetch it by https://solanacookbook.com/references/nfts.html#how-to-get-all-nfts-from-a-wallet
Hello üëãüèæ is there a guide or reference for how to deploy a private rpc pool node on GCP?

does anyone know how do we convert this bn back to public key from code by copying the long number 
PS: i lost variable
Hello @guys, How are you ?
I am new member of this server, 
I am working on solana, but I have question ?
if I know only wallet address(phantom), How can I get all NFT collections in wallet from API without wallet connection ?
maybe take a look at https://github.com/yihau/solana-web3-demo/tree/main/program-101
there is a part about accounts
I was trying to link 2 accounts to the hello world example, how do I do that ?
Any directions ?
Can anyone point me to docs explaining exactly how to build a deeplink?
maybe you can follow https://solanacookbook.com/references/accounts.html#create-a-pda
trying to create pda account inside program - however system_instruction create account fails with access violation - 
```
ClientError { request: Some(SendTransaction), kind: RpcError(RpcResponseError { code: -32002, message: "Transaction simulation failed: Error processing Instruction 0: Program failed to complete", data: SendTransactionPreflightFailure(RpcSimulateTransactionResult { err: Some(InstructionError(0, ProgramFailedToComplete)), logs: Some(["Program 5fTuAJMQKJdXo5N1dZD47t4LC3VRzbfsBbpNXB6Z3XBA invoke [1]", "Program log: 123", "Program log: AccountInfo { key: AADt4eotUHCYskj1EQX7cXjwhzSYJomZCFgaQ12DxHaa, owner: 11111111111111111111111111111111, is_signer: false, is_writable: true, executable: false, rent_epoch: 0, lamports: 0, data.len: 0, .. }", "Program log: AccountInfo { key: DwSx3LsHFPSssh5JsWNDm4R1aHwkJE1JtNtorBDYfWPD, owner: 11111111111111111111111111111111, is_signer: true, is_writable: true, executable: false, rent_epoch: 0, lamports: 9985936480, data.len: 0, .. }", "Program log: 123", "Program 5fTuAJMQKJdXo5N1dZD47t4LC3VRzbfsBbpNXB6Z3XBA consumed 45832 of 200000 compute units", "Program failed to complete: Access violation in unknown section at address 0x7ffffffffffff007 of size 8 by instruction #13370", "Program 5fTuAJMQKJdXo5N1dZD47t4LC3VRzbfsBbpNXB6Z3XBA failed: Program failed to complete"]), accounts: None, units_consumed: Some(0) }) }) }
```

Both accounts are writable not sure what else can cause access violation
Parcel doesn't seem to build @project-serum/anchor into my production build. Anyone else have this issue? 

Import statement: `import * as anchor from '@project-serum/anchor'`

The first reference of anchor here throws the error, and sure enough, `$f9936ec00aa88bd7$exports` has no definition

Anyone know a possible solution?
the only time it changes the public key shown on the top right is if i click on disconnect from the button on the webpage, rather than within the phantom extension
just cloned this repo and tested it out.
after switching accounts, the top right still shows the first account's public key üòÖ
missing `keypair` and `confirmOptions` arguments from the function call ü§¶‚Äç‚ôÇÔ∏è
now you can remember and save yourself future time üôÇ
I‚Äôm mad I didn‚Äôt think of that now that‚Äôs usually the first place I start with a problem like this
Good call on looking at tests
look at the solana-program-library\token\js\test files for createMint
they have test files with examples. for usage.
try the tests there and see if they produce the same results. 
if your getting cjs/mjs or esm related errors, it may be something in package or depedancy linking as well.
generally when you create your setting initial data, and then after that you use additional calls, instructions, or transactions, to futher modify or do anything other initialization.  associated-token-account program does this with create pda, then initialize functions after
Wow that‚Äôs embarrassing. Closed my laptop for the night but -`key = signer.publicKey.toString toString is not defined`. Updated my original comment.
Can i create a pda and modify its data in the same instruction?
not sure what this is, I dont see an error message.
take this for a spin and compare to your implementation:
https://github.com/solana-labs/dapp-scaffold
I'm detecting the user's public key using the wallet adapter library via:```javascript
const { publicKey} = useWallet() 
```
This successfully updates to my first connected wallet's key.
If I switch my wallet through the phantom extension, it still displays the first wallet's public key.
Is this how it's supposed to work, or is this  likely a bug with my own code?
I'm using `@solana/web3.js` and  `@solana/spl-token` trying to create a `Mint` object and running into the following where `toString is not defined`:

```
.../node_modules/@solana/web3.js/lib/index.cjs.js:2687
      const key = signer.publicKey.toString();
```

actual source code:

```
    const mint = await spl.createMint(
        connection,
        fromWallet,
        fromWallet.publicKey,
        null,
        9,
        spl.TOKEN_PROGRAM_ID
    )
```

where `fromWallet` is generated from `@solana/web3.js#Keypair.fromSecretKey` (confirmed the returned keys are valid)

```
  fromWallet: Keypair {
    _keypair: { publicKey: [Uint8Array], secretKey: [Uint8Array] }
  }
```
how can i solve this error
hello please i need help with this, anytime i try to create token on the CLI i get this error C:\Users\user>spl-token create-token
error: The system cannot find the file specified. (os error 2)
Hello is there a way to customize the transaction detais page to our likening?
oh it just worked lol
and it keeps saying 403
I am trying to install an old version of solana 1.18.12
haha ,  or happy about the amount of refactor u save in the future üòâ
Thanks - now I have to refactor everything I am sad xd
yes. you need to call `create account` in your program.
https://github.com/solana-labs/solana-program-library/blob/master/associated-token-account/program/src/tools/account.rs
you can take a look at ATA program. it is using its PDA to store token account data.
I am assuming I have to create the pda account inside my program
I want to store some data in pda I am assuming I have to pay rent - however to create a system account the created account has to sign the transaction - however only program can use pda to sign transaction - so I cannot think of how to create the pda account for storing data - am I missing something?
not sure why this isnt there yet. maybe im missing something.
double credits. dual wield contrib
would make a nice quick addition to the cook book and also to the spl-token web 3 library  üôÇ
I dont recall if there is an equivalent for front end standard user wallet..  but in any event, u can go here:
https://github.com/solana-labs/solana-program-library/blob/master/token/js/examples/create_mint_and_transfer_tokens.ts#L22
copy and create your own wrapper.. that essentially does the same thing,  just you sign and send transaction with wallet, instead of the way they are doing it with is what usually a keypair..in this case.
got it. it would have been a really convenient API üôÇ
Yeah, you kind of just need to jump to source and copy the implementation so that you can use your wallet adapter thing instead of the `Signer` type
yea you cant use this directly with a traditional plugin wallet only, it requires the actual wallet/signer.  many helpers are like this, and not really usable for front end typical wallet operation. Its more for server side or other type of client.
But if the transaction goes through a Phantom wallet, I don't have access to the private key
Yup, it's from `@solana/spl-token/lib/types/actions/getOrCreateAssociatedTokenAccount.d.ts`
this is from a helper class right?  maybe the token or mint object in web 3?
it requires a signer/wallet to be able to pay with this helper class.
thanks bud
Hi, I could use some help with this api:
```ts
function getOrCreateAssociatedTokenAccount(connection: Connection, payer: Signer, mint: PublicKey, owner: PublicKey, allowOwnerOffCurve?: boolean, commitment?: Commitment, confirmOptions?: ConfirmOptions, programId?: PublicKey, associatedTokenProgramId?: PublicKey): Promise<Account>;
```
What do I pass in as the second parameter (payer: Signer)? My wallet only has a publicKey, but the API requires a private/public key
Can run `solana-test-validator --help` to see more info
`solana-test-validator --clone the-address --url devnet`
hi, how do i copy sepecfic account from the devnet to my localnet??
Just to update - your suggestion really helped, thanks! I did not initialize the nonce account first...
Going to test, connected to new zealand, let's see
hmm yes.  it seems we could use some more information, clarification, docs, and code examples related to the above.  with all the options and flexibility some use case examples would help. regarding paulx query as well.
although the document says its not necessary for recent tx; of course that in the example, it's a tx I generated a few minutes ago, but when the initial response was shown was immeidately after the tx being generated. So seems that we should always use `searchTransactionHistory` no matter what to avoid false negatives
with `searchTransactionHistory` gives me `result?.value` where confirmationStatus is "finalized"
I'm going to try add the param `searchTransactionHistory`
<@!785084693023424542> this is one of the example I created while connected to Osaka/Japan
I guess I'm doing something wrong, but if getSignatureStatus should provide the status of a signature, the example above clearly demonstrates it's not reliable and thus throws a false negative.

Let me know if I'm wrong!
```js
      const txSignature = "KVtob4RfvdfTyRRt3VwNnbzXokfuUe5UaUojToMXcSz9mBhiKVhKX2k1BwhAa84G6MhPuX8EWSYFJsGaEJYsvBs";
      const signatureStatus = await connection.getSignatureStatus(txSignature);
      console.log('[debug] signatureStatus', signatureStatus);
      const transactionResponse = await connection.getTransaction(txSignature, {
        commitment: 'finalized',
      });
      console.log('[debug] transactionResponse', transactionResponse);
```

Result is:

 ```js
{ value: null, ... }
````

While the result for getTransaction is valid :

```js
{ transaction: { signatured: ["xxxxx"] }, ... }
```
was pointed out here that I should use getSignatureStatus but got a false negative, so very confused atm
I'm wondering if there's a reliable way to determinate if a transaction is "not found" or "invalid" or whatever that is "bad"
^
What do you need?
I havent been using it cause it doesnt do what I need
Unrelated question: I'm now using   https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignatureStatus  with the expectation if result?.value is null to determinate that the tnx is invalid, but happened that by checking it in the solana explorer I see it as "finalized" so wasn't expecting that. Wondering if it's been reliable to you?
seems a bit related but I have a feeling mine would be possible. I dont care about pending tx after all. just `>= processed`.  https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignatureStatus returns info for those tx but unfortunately only a https://solana-labs.github.io/solana-web3.js/modules.html#TransactionError which doesn't include the logs. But the validator has processed the tx and was able to determine that it errors so it feels like it should be possible to return the logs for the tx too
Thanks for the attention! The fn which handles the confirmation is https://paste.sh/puKs2G49#jElpabUtN1TtOOBAW9ekHpra
is this relevant ?
https://discord.com/channels/428295358100013066/517163444747894795/954428958785556480
and not sure how solana explorer is determining transaction loss in its stats, but it might be relevant in a query you seek?
is there a way to use the solana sdk on chain?
do you have any reproducable test project where all this is occurring?  would be nice to have something to look at and determine scenario paths and recommendations.
not sure on this..  may have better luck in the <#837340113067049050>  or <#560174212967432193>  channels. Id like to know how to query as well. I imagine so, but not certain.
https://docs.solana.com/proposals/simple-payment-and-state-verification - still a proposal
Is it possible to get merkle proof to verify the data of an account?
thanks!
probably a better question for <#560174212967432193>  keeping up with the latest.  if i recall way more than that for entire history...  depends on what your interested in.
is there any way to get logs of a failed transaction with commitment levels other than `confirmed` or `finalized`? I know I can get them with `getTransaction` but that call works only for `confirmed` or `finalized` commitments
Thanks. That what I actually did but I‚Äôm getting an error of ‚Äúblockhash was not found‚Äù upon submission.
Does the default RPC [https://api.mainnet-beta.solana.com] have the  `--full-rpc-api` flag enabled, I'm like 90% sure yes, but wondering if there's a way to confirm?
Unexpected behaviour, so on `getSignatureStatus` I get a "result" which "value" is `null`; but the transaction signature is actually valid and is `finalized`. So, should I only determinate if a tx is not valid if both `getSignatureStatus` and `getTransaction` are `null`?
i know eth is roughly 1tb
anyone have a ballpark figure for how big the sol blockchain is in terms of storage?
in these way?
and presumably the runtime is unwilling to decide what assigning an `undefined` to a `string` should do, so is forcing you to be explicit
seems like a question for the `process.env` docs

and give me these error...

Hi guys!!
Any idea why my enviroment variable have these type?
i think we covered that above. transactions can take some time based on different factors. so in those events yea you handle accordingly.
and another question. whats the reason for `getTransaction` only supporting `confirmed` and `finalized` commitment levels?
Ok, got another error there https://explorer.solana.com/tx/3VrJPfB8jBLr4zAsQZ7HhM9TqceFyLRbHdF8YcDVQa1VR8w7PMcrTPBXJgTWKvQZ9CPgSdxRuaKkMP5FgXixzjUA for the cases where a transaction is not found almost immediately, guess you people do a retry just after? or throw an error and request the user to try again?
yes im aware. but that was not my question. my question is whether the proposal is exactly what got deployed or whether something changed in the deployment but wasnt updated in the proposal.md
This drives people nuts
If I have not changed the source code and just been making tests for the past hour or longer, I don't know.
Seems to be working now HK, I don't know what to say. Don't think the "solana status" page is to take seriously.
I've tested again with my regular connection and works. Now going to switch to HK, or Japan...
yea I get it. and thanks for the heads up..  metrics have to start somewhere. just saying its not been a very reported thing as of yet. but will note this.  generally its due to the above and related.
<@!785084693023424542> right but as you might know, for dev feedback on solana you're most of the time on your own; so after the report of a colleague in the Phillipines, I had to test on my own means, and happened to replicate the same experience he has. There's nothing I can do then, ask other people, which is what I've done. Hope it's a bit more clear üòâ
VPNs.. are not exactly reliable connection metrics on per use cases.
Not sure what the issue can be aside from connectivity and region availability on any number of things.
your personal test, through a VPN, is not something very reproducable.
üëÜBased on my tests, used Hong Kong, Singapore, now back to London/Lisbon tests; Happens that I wasn't able to confirm the transactions. Although, I can in the DevNet. Checked the Solana status and seems to be alright. So, the heck is going on?
better to discuss here so others can benefit.
Can I dm you so I don't  fill the chat? you can delete me after.
<@!206570049811513344>  last I checked octane had a read me that when followed will run as intended. another user also submitted a new updated version in a branch if you want to look at that.
It started with the original reported of my colleague who went to the Philipines for holidays, and I'm having the same issue through the VPN, would be nice if other users here have a look, a quick test. I'm going to attempt "Hong Kong" before "Singapore" actually.
jso.config?  can you link to what you are referring to?
So according to the documentation you just need to change some env variables, but I see that there are other files like Jso.config that are needed, this is not mentioned and when I filled it up I just receive an error.
thats not really a good sample data set.
I'll now test a "Singapore" connection.
I'm currently testing it and my attempts with a regular european connection go through, but not the VPN attempts. It takes very long. For this reason, I've asked. It seems to be a problem so far.
can you be more specific?
The instructions are rather incomplete. There are some steps that are necessary which are not mentioned on the documentation.
what do u mean outdated?
Hello everyone, I am trying to use Octane but I found out that the instructions to set it up and have it running correctly are outdated, is there anyone here who has successfully set up Octane and have it working?
there is a strong presence in the general areas, from what I recall, and I am not hearing of these problems.
is there an actual data set to back this up?  thats a fairly large blanket statement and have not had reports of this. would be interested in this data set if so.
It seems that it's useless for user's in the region of Japan, Phillipines, etc. That's quite bad! Hard for me to justify the experience to the end users without being able to mention that.
its about providers and locations, somewhat like amazon google ovh, or other cloud providers.. all based on network, instances, availability, bandwidth, etc.   more demand and infrastructure in areas will likely result in better performance.  supply vs demand. right.
Does anyone know anything about this?
Even though I'm connected to Japan/Osaka through my VPN, while the connection is slower then just using my regular provider, it's sill quite fast. And I'm finding that the verification getTransaction is definitely failing to be confirmed. That's surprising to me, it's like Solana nodes have a preference to other locations? Is this related to the timezone given that it's very late now in that region?
or do I need to create a new stake account every time I stake SOL
is it possible to add more SOL to an existing stake-account that has delegated stake?
retrieving that level of data, with arbitrary access patterns and maintaining our goal transaction throughput are not exactly reconcilable
bad connections and locations are always going to affect network performance for anything.
i got it from the keypair, that the anchor program generated while building. I just read the pubkey with $solana address -k <json directory> . When i look it up on explorer it is the correct one.
I've got a friend who's currently in the Phillipines and our application takes longer to verify the transaction on chain. I've now tested by changing my location via a VPN to Japan/Osaka which is the closest my client VPN has available from him, and I do notice that the getTransaction api does take longer. Why are the users in this region affected by this?
storing it should cost peanuts
a terrabyte is nothing in terms of modern technology
a billion posts isn't bulk storage, it's data
Solana isn't a bulk storage chain
so it's the same difference to cash flow, except you can borrow against it
and yes, your not spending it.. but staking is money you cannot use
I could host like servers all around the world for that
Still half a million USD per terrabyte is a lot
E.g. try doing `solana rent 1000000`
ahh ok
so if rent is per epoch, then that's 365 periods
I factored that into the 7sol/mb figure
it says you need 2 years "rent" to qualify for rent exemption
Yeah
you still have to have the money "staked"
Rent-exemption is rent/mb (roughly), not rent/mb*time
No, if you've got the rent-exemption amount in your account then you don't pay any rent at all


///////////////////////////////////////////////////////////////////////////////////////////////

Thank you! Is there anyway to delete token from token list? 

I can not create another token with different decimal with the same name and ticker, I guess 

Thanks
https://solanacookbook.com/references/programs.html#how-to-transfer-sol-in-a-program
Btw, here's an example of one for solana https://app.decommas.io/multisender
I was interested about how disperse.app works, and I kind of understand how to make it work for the etherium chain, but I really wanted to make something like it on solana. I have recently started learning rust, and I don't really have a great idea on how to make a program that would work like disperse.app works on the eth chain. Can someone provide me with some basic guide of how to make programs that would be capable of creating transactions and etc?
I don't have an example off hand, but you'd need to use the system_program's `transfer` instruction
Nope
not sure if this is the right channel to ask this but does anyone know of an existing API that provides the historical transaction data for an account (specifically the first transactions made by the account)? I've tried using solscan and solana beach but their functions are not usable for accounts making thousands of transactions an hour
Is there any way to change created spl token decimal?
Can anyone point me to examples where SOL is transferred between a wallet and a PDA? There are a lot of examples for transferring tokens, but not the native SOL.
You didn't update the deserialization on the TS side. And because you use the uncheck (because you have variable length) you need the same on the client side:
```typescript
/**
 * Report the number of times the greeted account has been said hello to
 */
export async function reportGreetings(): Promise<void> {
  const accountInfo = await connection.getAccountInfo(greetedPubkey);
  if (accountInfo === null) {
    throw 'Error: cannot find the greeted account';
  }
  const greeting = borsh.deserializeUnchecked(
    GreetingSchema,
    GreetingAccount,
    accountInfo.data,
  );
  console.log(
    greetedPubkey.toBase58(),
    'has been greeted ',
    greeting.counter,
    "time(s) with experience ",
    greeting.experience,
    'And name ',
    greeting.name,
  );
}
```
I wanna create a token with the token program if I do it on a random server even if the server is not running does the token still work normally?
I mean when you create a token like this and install the program on your computer do you need the computer to be running in order for the token to work?
Sure will try it out
I know they do because I've seen projects use them. Try searching in the metaplex discord as we don't support metaplex here
You can also use https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret
unfortunately not üò¶
Used TextEncoder but it returns bad secret key size errro
Try metaplex discord. They should have tooling to do those things https://discord.gg/cjs49KRR
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-mnemonic-phrase
I do not know. Check the discord I sent
Doesnt state deprecated anywhere also.
??
Is there a V2 - Seems to work fine with almost all but phantom wallet.
Is it possible to have a whitelist sale?
I am not talking about a MINT, but assuming that I want to sell my NFTs (which are already minted) to a specific group of people?
What's the best way to convert string into uint8array ?

For context, need to convert wallet secret phrase into uint8array for performing transaction on frontend
I thought serum swap was deprecated?
Issue doesnt happen when swapping with another wallet other than phantom.
I use GenGo RPC they did checks and all seems to be fine.
Error code question would be for https://discord.gg/HzjSuzZe
phantom uses the serum rpc
Node behind means your rpc you're using isn't catching up
Have been getting error log's such as node is behind 500 slots sometimes when using phantom wallet.
Error doesnt persist when using wallets other than phantom - And will go away intermediately sometimes with phantom. Is this internal phantom RPC issue?
Custom Program Error: 0x12e when invoking Serum Swap Contract @ Addr = 22Y43yTVxuUkoRKdm9thyRhQ3SdgQS7c7kB6UNCiaczD | Seems as though this error would mean its out of rent? but that wouldnt make sense?
I'm guessing that solscan looks up your tokens on coingecko's api
hey guys, when i go on solscan.io, i can see my USDC spl token has a value while other spl tokens have no associated value.  how do you assign a value to spl tokens?
my node version was out of date too but sorted that
woohoo!
don't need quick node right now!
Got it working now phew thank you
tx!
delete target repository and run build again
No. The base units are stored in a u64, so you're working with `max_units = (2^64 - 1) / 10 ^ decimals`
Hey I have a question related to Solana tokens. Is it possible to mint 10 trillion supply with 9 decimals, if not what‚Äôs the highest decimal possible for a 10 trillion supply?
Try asking in their discord https://discord.gg/K6UXJ8u3 The creators of whatever tutorial you are using are likely there
Yes I am using Anchor
This is anchor?
Any help with this error please? <@788215642070581289>
thanks!
You shouldn't have to
I don't need quicknode tho right
no way to change it without contacting their support via ticket -___-
Then you can use the keypair as part of the program deploy command
You can generate a vanity address like this https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-generate-a-vanity-address
do you know how to generate a new programID?
thanks
derp
Makes perfect sense they used the wrong screenshot in the tutorial
if only lol
You cannot airdrop on mainnet-beta
Running QuickNode API on Solana main beta network
okay cool I'm starting to wrap my head around it
sounds like you got it working on devnet. I don't know where your quicknode url points to, it may not be devnet
ok thx!
Once you close a program, nothing can be deployed again on that address
lol so you have 29 sol ?
Sorry to be annoying
I've got conflicting tutorials here... so first I was told to use "solana config set --url YOUR_QUICKNODE_URL" and then "solana airdrop 1" but that didn't work so I've just used "solana airdrop 1 PUBLICKEY --url https://api.devnet.solana.com" and now it says I have 29 sol when I use " solana balance PUBLICKEY --url https://api.devnet.solana.com"
or is that programId perma lost
is there a way to get around `Error: Program {...} has been closed, use a new Program Id` ? after closing and trying to redeploy
thanks
check your balance on the account of the solscan tx
use crate::id;
id()
like address(this) in solidity
how can I get current program address in smart contract?
You're probably not on devnet
Yes
that is why I open 5 terminals  for airdroping üôÇ
my balance is still 0 dunno what i've screwed up here... I tried faucet and solanatools
i know you can get some back from the rent exemption when you close the account too right?
It can. Depends on the size of the program
Is that meant for someone else or?

seems crazy large for a pretty simple program, no?
is it normal for a program deploy to cost 5 SOL ?
np
id try again and check that -- it should show the error on solscan
really appreciate this guys
thanks I'll try
the option appeared but didn't look tbh
you check the tx on solscan?
You can also try https://solanatools.xyz/faucet/devnet.html
yes
does it say it succeeded?
no just 1
did you do 2?
I tried that too but nothing arrived
you can only get max 2 sol per drop tho fyi
i use this faucet for devnet https://solfaucet.com/
A point in the right direction would be greatly appreciated
Total noob here getting to grips with deploying on candy machine v2... got so far as trying to airdrop 1 sol to my devnet wallet with quicknode but getting the following error message: Error: airdrop request failed. This can happen when the rate limit is reached.
np!
Thank you!
other than that you gotta look at other AMMs and their APIs
https://github.com/pavanelthepumisc/solana-hello-world

<@!814228493302497301> Here is my code
its basically a high-level api on the token-swap program
if your ok with using orca pools you can use their sdk -- but youll need to code local/devnet development : https://github.com/orca-so/typescript-sdk
There's a deployed program, but it feels like putting the swap into the program logic or into js makes no difference since it's a part of the same tx
is your program a deployed 'program' or is it your JS code?
I want my program to accept only specific tokens, if a user owns something else, it's swapped in the same tx
whats your use case?
or really how does connecting an application to the blockchain work on solana, thats  my question, if its any different from eth
I thought there're other amm with a friendly interface
hello,  so long story short, me and my friend are trying to do nft based "game" on solana;. But neither of us has any experience in rust(JS and Python respectively), So we would like to program the "game" in either of these 2 languages. Can we do that and then connect it to the mainnet or do we have to program it in C(since rust is based on it)
np
Ok gotcha! Thanks for the help üôè
the sdk makes it really simple to swap between tokens
you could checkout the orca-sdk but it only supports orca pools
its an AMM so its not gonna be very simple but im not sure how else you would do it tbh
if you want to do a swap between two tokens you need a program to do it for you -- token-swap is probably the simplest way of doing it -- checkout how they do it in js  https://github.com/solana-labs/solana-program-library/blob/master/token-swap/js/cli/token-swap-test.ts
usually you setup the minting as a PDA and then have the deployed program give out the mints
Hi! Can someone suggest a simplest way to generate instructions for swapping tokens in js?
I looked into token-swap program and seems like really hard to use in generic environment
not that i know of
I am trying to build a new proposal type that create/initializes a Mint, an Associated Token Account and then mints a single token to an address. I create the mint and associated token account as part of the pre-req instructions and then have the actual mint-to as the main instruction of the proposal. This proposal is failing because the mint key that is created in the pre-reqs is not being used to sign the transaction. How can I save and reuse this key later on to sign the transaction? Or should I instead create the key with a seed or as a PDA and re-derive it later? Does anyone have an example proposal to create an NFT mint?
Hi!!
I want to change the name of my token here: https://github.com/solana-labs/token-list/pull/18091
But as you can see I have these error: https://i.imgur.com/h6mZ5Ur.png
In details appears these: https://i.imgur.com/PmNWSRj.png
But I only modify the code in these way: https://i.imgur.com/phOqYsW.png

Anyone knows a solution of these?
been messing around with Solana eco system for the past two weeks, trying to learn and write some programs.. I manage to understand most of things (thanks to help from this group). but have no idea how this happened. (localhost), can someone explain 500 million SOL??
Basically meaning: Can I change ownership of an account several times?
3) When I transfer ownership of this account to some other executable program, is it possible to again change ownership of my account if the executable program allows it?
Does anyone know the why?
do you use blake 3 ?
2) The system program allows to me to change ownership of that account?
1) When I create a new account on Solana it is owned by the system program?
I hope this is the right channel to ask
Considering account ownership
I am new to solana and have a specific question
hi guys
Sure
If you publish your modified hello world to git or gist I can look at it later
I multiplied the GREEING_SIZE by 4. But it didn't work, so reverted the changes
You skipped the very first line in the suggestion. Reread it: https://discord.com/channels/428295358100013066/517163444747894795/948567802552406066
That size calculation won't work. It has no idea what size string your are going to put it nor does it cover the extra 4 bytes needed for the borsh serialization of a string
If you don't mind, could you please try to reproduce the issue and suggest the solution?
I tried both but it didn't work <@!814228493302497301> . Getting same error
I tried that and changed names to what is found in target/types. But I still get same error that "escrowCheck not provided"
This is the structure of my accounts:
#[derive(Accounts)]
pub struct CreateCheck<'info> {
    // Check being created.
    #[account(zero)]
    escrow_check: Account<'info, Check>,
    // Check's token vault.
    #[account(mut)]
    vault: AccountInfo<'info>,
    #[account(mut, signer)]
    from: AccountInfo<'info>,
    system_program: Program<'info, System>,
    rent: Sysvar<'info, Rent>,
}
i learn about borsh framework in typescript to read an account
in Solana
what is the difference between slot and blocks
Typescript: You need to allocate the account in your typescript to NOT be the size of the greeting structure but something that is big enough to fit all the 'u32' as well as the maximum anticipated size of the string you want to send in.
Then, in the Rust program, instead of this:
`let mut greeting_account = GreetingAccount::try_from_slice(&account.data.borrow())?;`
Use:
`let mut greeting_account = solana_program::borsh::try_from_slice_unchecked::<GreetingAccount>(&account.data.borrow())?;`

But most importantly you need to read about and better understand Solana, Programs Accounts and Serialization. What I've given you here is a hack at best and will break every time you change things up without fully understanding these concepts
I want to kill Phantom üòÇ
If I remove following line it's working:

`
 greeting.name = String::from("Test");
`

Then how can I store string data?
<@!814228493302497301> it's too much for my brain to understand. Just I'm doing a PoC of storing a string and custom data type. That's it. I'm new to RUST

If you can tell me where am I doing wrong, that helps me a lot please
That won't work either. It doesn't account for the size of the account that is needed to support a variable length string
try let mut greeting = GreetingAccount::try_from_slice<GreetingAccount>(&account.data.borrow()).unwrap();
He's using hello world and not anchor. Furthermore, if he is resetting the same ledger there is no need to update lib.rs
https://solanacookbook.com/guides/serialization.html
So, what should be the change in my code <@!814228493302497301> ?
String is variable length... so it is subject to be very error prone if you assume a fixed size in your program when you have allocated a fixed size. Furthermore Borsh encodes the length of the string during serialization so you have to account for an extra 4 bytes (little endian u32).  So you can get away with it in the short term by only creating fixed length string and your account size will be:
4 bytes for the count
4 bytes for the experience
4 bytes for fixed length of string
N bytes for fixed string itself
How can I get message?
There is no anchor.toml. And I already modified the lib.rs
and modify  lib.rs and anchor.toml with the new id of your program
does anyone notice that solana-test-validor CPU consumption dramatically increase with time? when i run top command on linux, it goes from 30% at the beginning to 120% one week later
I did <@!814228493302497301> . But same error. Can you check what am I doing wrong please?
Hello devs, I'm getting this error while trying to transfer SPL token. Does anyone know the why?
Sure, if you want to have multiple ledgers after creating with default (which results in `test-ledger`)
You have to rebuild the program before redeploying it
or restart using --ledger parameter with new repository
Were you able to resolve this issue?
I restarted with --reset and redeployed also. What am I missing <@!814228493302497301> ?
<@!814228493302497301> I added another variable of type String but getting same as error:

**__Client:__**

`const GreetingSchema = new Map([
  [GreetingAccount, { kind: 'struct', fields: [['counter', 'u32'], ['experience', 'u32'], ['name', 'String']] }],
]);
`

**__Smart Contract:__**

`pub struct GreetingAccount {
    /// The number of greetings that have been sent to this account.
    pub counter: u32,
    pub experience: u32,
    pub name: String,
}`

`
let mut greeting = GreetingAccount::try_from_slice(&account.data.borrow())?;
    greeting.counter += 1;
    greeting.experience += 11;
    greeting.name = String::from("Test");
    greeting.serialize(&mut &mut account.data.borrow_mut()[..])?;
`
How do I transfer funds from one account to another? something equivalent to `.transfer` method in Solidity.
With Anchor cli 0.22.1  and Solana-cli 1.9.9 after doing 'anchor init <project>' and then run anchor test .. i get the following error:

Error: Unknown file extension ".json" for /Users/gundeepsingh/Desktop/development/tt/tsconfig.json

Any suggestions?
any idea on how to send multiple transaction in one go without waiting for the previous transaction?
I found this issue https://github.com/solana-labs/solana/issues/23376
Thank you so much for the help <@814228493302497301>
Token address: https://explorer.solana.com/address/invSTFnhB1779dyku9vKSmGPxeBNKhdf7ZfGL1vTH3u/largest
Have a quick question, released our token and everything seems OK on Solana explorer, however on Phantom, it is "Unknown Token"
Hey guys!
The lack of additional output looks like a regression, I‚Äôll look into it but feel free to open a github issue in the solana repo if you‚Äôd like to track
solana version 1.9.9 on M1
What version solana on your machine?
Also, I assume after you start it your are doing a `solana program deploy ...`. Instead use the `--reset ---bpf-program ...` argument when starting the test validator which will automagically deploy your program and that is ***super fast***.
on running `solana-test-validator --reset` command the output should be this ```Ledger location: test-ledger
Log: test-ledger/validator.log
Identity: EPhgPANa5Rh2wa4V2jxt7YbtWa3Uyw4sTeZ13cQjDDB8
Genesis Hash: 4754oPEMhAKy14CZc8GzQUP93CB4ouELyaTs4P8ittYn
Version: 1.6.7
Shred Version: 13286
Gossip Address: 127.0.0.1:1024
TPU Address: 127.0.0.1:1027
JSON RPC URL: http://127.0.0.1:8899
‚†à 00:36:02 | Processed Slot: 5142 | Confirmed Slot: 5142 | Finalized Slot: 5110 | Snapshot Slot: 5100 | Transactions: 5142 | ‚óé499.974295000``` according to the docs but not it only showing me this ``` Initializing...
‚†§ Initializing...
‚†ê 00:00:36 | Processed Slot: 72 | Confirmed Slot: 72 | Finalized Slot: 40 | Full Snapshot Slot: - | Incremental Snapshot Slot: - | Transacti
^C
```
What is your exact command line on the test-validator ?
Yes, if you reuse the same validator ledger it WILL NOT redeploy your program.... it will be ignored
Do `solana-test-validator --help`... it would have saved you a whole day
I did everything except Start the test validator with --reset. I restarted with `--rest` and now it's working. Does it mean, for every change we need to restart the cluster????
When you changed the program and wanted to run again, did you:
1. Rebuild the program
2. Start the test validator with `--reset`
3. Redeploy the program
4. Then `npm run start`
???

I just made the same change in the lib.rs of program, updated both the sanity test and the tests/lib.rs to alloc a u64 and ran those tests and it worked
I then changed the typescript code to include the new field in the struct
makes sense, thx chido
?
my get pull request taking forever to auto merge can someone help me out
hello
tried with `--reset` flag still the same.
It's not the PublicKey/account issue <@!814228493302497301> . Everything is working if I clone hello world example. All I did is, added another variable(experience) and ran the program. Then I'm getting this error:

`Transaction simulation failed: Error processing Instruction 0: Failed to serialize or deserialize account data: Unknown 
    Program JDg5ZgvHT31RKvUDZ36DpFqTK7yZEdgf8Wdpbk5NFmXF invoke [1]`
When you create the instruction for hello world, you include the PublicKey of the account that the program reads/writes (deserialize/serialize) to. It has to be a program owned account. In your client code.... show me where you are creating this account. If you just send a PublicKey for which an account has not been created it will fail.
Where should I do it? I'm sorry for asking so many details.Please help me
onslotupdate is giving block not available
hi guys
I don't see where you are allocating the account for the program to work with
This is my client side snippet and smart contract <@!814228493302497301>
Show me the client side account creation and verify that if you are getting the size from the schema, verify what that is returning to you
let mut data = vec![0; mem::size_of::<u32>()];

This is sanity test <@!814228493302497301> . I deleted the tests and same error
In `solana-test-validator --help`
```bash
--bpf-program <ADDRESS_OR_PATH BPF_PROGRAM.SO>...
            Add a BPF program to the genesis configuration. If the ledger already exists then this parameter is silently
            ignored. First argument can be a public key or path to file that can be parsed as a keypair
```

Note the 'silently ignore' comment

To validate, either invoke with the `--reset` (which will delete and create a new test-ledger) or you delete the ledger yourself
not pretty sure what happen on your side but I think it is a good try.
the instruction which in the tx only use idx to represent account.
the idx correspond to the message's account list.
so if you only change message's account list but don't make the same change to instruciton.
the instruction will refer to a wrong account or program
yes its on localhost, mine also work fine before updating. Should I delete the test-ledger folder and try again?
I've tried my side. use 1.9.9 command line and 1.9.9's test validator.
I think it not takes me a lot of time. just want to check did you remember to specific the url to local validator
interesting - what do you mean by "just remember you also need to re-complied your instruciton"?
Ok, that looks fine. I noted that in your Rust test code of your entry point you were not allocating enough space for the additional field. you have:
`let mut data = vec![0; mem::size_of::<u32>()];`
Where it should be 
`let mut data = vec![0; mem::size_of::<u64>()];`

So in your client code when you initially create the account, it should be that size as well.
I need a list of accounts acociated with my mint
<@!788215642070581289> solana-test-validator takes so much time to  deploy a Program. version 1.9.9
actually the list is ordered and grouped by
1. signer and writable
2. signer and read-only
3. non-signer and writable
4. non-signer and read-only

I think it still work if you change the order which belonged by the same group. (like you can change two program id's position)
just remember you also need to re-complied your instruciton
maybe try a multisig https://spl.solana.com/token#multisig-usage
`buy` is a human defined behavior.
you can only know some tokens are transferred in some programs
Yes <@!814228493302497301> Here is my client snippet:

/**
 * Borsh schema definition for greeting accounts
 */
const GreetingSchema = new Map([
  [GreetingAccount, { kind: 'struct', fields: [['counter', 'u32'], ['experience', 'u32']] }],
]);
are you looking for something like `new Pubkey("vines1vzrYbzLMRdu58ou5XTby4qAqVRLmqo36NKPTg")` ?
solana-test-validator take ages to deploy?
not sure what you mean, you can take a look at https://docs.solana.com/developing/programming-model/transactions
```
The addresses that require signatures appear at the beginning of the account address array, with addresses requesting write access first and read-only accounts following. The addresses that do not require signatures follow the addresses that do, again with read-write accounts first and read-only accounts following.
```
and when you get a transaction, there is a account list and complied instructions
complied instructions only use index number to represent account
the index is correspond to the account list.
maybe take a look at Chinedum's reply

https://github.com/solana-labs/solana-program-library/issues/2683

```
Update
The problem disappear if I install:

npm install -S @solana/buffer-layout
NPM package:

@solana/buffer-layout: ^4.0.0
Maybe it's an npm dependencies resolution problem.
```
when parsing the tx using this RPC call - https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
is it necessary true that the `program ID` is listed as last account in this array:
```js
"result": {
  "transaction": {
    "message": {
      "accountKeys": [
        "6xcUGMJdnUkedpvcHyNqudEJKrUnbKytv2S98HtL2Ur3",
        "Dw9tDqnLmPuWBUPCCQWEzWudkkZD8yTUMnh8vrtZB8Pw",
        "6sXxnkFCHMtV6HatnookT6Pm37ukJVXVB9TotiJGmqu9",
        "6tpf356bQ5W9NRUhUrEb7tPhy94M7aeHkRMXStwybHZ3",
        "7Ppgch9d4XRAygVNJP4bDkc7V6htYXGfghX4zzG9r4cH",
        "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
        "J7RagMKwSD5zJSbRQZU56ypHUtux8LRDkUpAPSKH4WPp" //<---- THIS
      ],
```

In other words, is that a robust heuristic to use?
can a single token account be owned by many wallets?
Hey devs, I want to create a series of NFTs to sell for charity and send all funds to the Solana wallet of the Ukrainian charity that Solana shared on Twitter today.
We have experience with Solana but zero with Solana NFTs. Looking for someone to take 30 minutes to walk me through technical possibilities and provide other useful information. If you'd like to help with development as well, even better.
Please DM me.
Also, please don't turn this into a political discussion.
Please help me
Hey guys I see that 1.9 is being rolled out on mb. do we have to wait for majority validators to pick up 1.9 before we can use more than 30 accounts in a tx?
Hi all
How can I get all addresses that bought some token?
Hello. Can i convert string to BN type like image
Sure, as I noted yesterday I couldn't scroll to the actual serialization code in your client, show me the Schema you created in the typescript space
how to know order of accounts in transaction
how to order of accounts in getBlock
Dont want to spam the websocket too much
In order to retrieve the transaction details from websocket, do I have to call getTransaction every time I receive the signature from the websocket? Is there anyway the websocket can directly push the details to me? Thank you
whats order of accountkeys in getblock message
hi
hi <@!788215642070581289> wondering if you had any thoughts about my issue?
Thanks
I think the process is like
1. you create tx on your frontend 
2. request user to approve the tx
you can take a look at https://github.com/solana-labs/wallet-adapter
thank you so much
not sure what happen on your side. you don't provide any mint, token account or wallet address. 
I can only recommend you follow the examples https://solanacookbook.com/references/token.html#how-to-create-a-token-account
https://github.com/solana-labs/solana-program-library/issues/2683
The user will definitely approve the transaction
I mean integrating it to a website so that a user can pay for a product with Solana
Hello. Just requested new pull for git but still in progress? 
https://github.com/solana-labs/token-list/pull/16520/
hi all - I'm having trouble accessing spl-token via vanialla js. after i npm install @solana/spl-token, in the node repl trying const spl = require("@solana/spl-token") gives me Uncaught TypeError: fields must be array of Layout instances
sounds like something a scammer would ask
Is it Possible to transfer Sol to an address with the web3.js API when the user is connected to Phantom, without using private keys
My findAssociatedTokenAddress is not generating the expected associated token address for a wallet address
AFAIK nba top shots is a NFT project lives on another blockhain, flow.
so I think you are asking for how to build a NFT project?
I'll say that you have to 
1. know how to interact with solana https://solanacookbook.com/
2. take a look at metaplex which is a NFT standard on Solana https://www.metaplex.com/
Has anyone built out a nba top shots style project using solana as yet? Are there any guides/howtos?
there is a hash process in a PDA calculation. so if you want to reverse the process it will be very hard.
FYI https://github.com/solana-labs/solana/blob/master/web3.js/src/publickey.ts#L146-L168
Hi <@!814228493302497301> . Can you help me with this please?
try `escrow_check` to `escrowCheck`
after you built, there should be a type file resides in `target/types/<file-name>.ts`
you can check all attribute names by it.
usually we use snake case in rust and camel case in ts
Hi, I am trying to transfer solana from a player wallet to a vault account (owned by my program). I am using a siystem_instruction::transfer to do that in the lib.rs file.
This is my test case
await program.rpc.createCheck(new anchor.BN(100), "Hello world", {
      accounts: {
        escrow_check: anchor.web3.Keypair.generate().publicKey,
        vault: vault,
        from: from.publicKey,
        systemProgram: anchor.web3.SystemProgram.programId,
        rent: anchor.web3.SYSVAR_RENT_PUBKEY,
      },
      instructions: [
        await program.account.check.createInstruction(check_escrow, 300),
      ],
      signers: [check_escrow, from],
    });
I keep running into the error: "Invalid arguments: escrowCheck not provided". I am generating a random wallet, but not sure what I am missing here? Please help!
I'm a full-stack developer with 2 and a half years of experience. Also, I know how to code rust smart contracts. I'm looking to join a team, and I'd love to join a team.
1. https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
2. https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
BTW if you want to fetch all token accounts which owned by someone, you can also try https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
I have tried it by
```
curl https://ssc-dao.genesysgo.net/ -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 32,
              "bytes": "ANmBr3DXHKjuD4cMhJEg3yaRJniNsn5jAkxMwmUMmm4i"
            }
          }
       ]
      }
    ]
  }'
```
and returns 77 accounts. I think the endpoint is fine. I think just check what is the final endpoint you're trying to fetch. maybe you make some changes unaware.
genesysgo node, pretty widely used, but yeah i'll try standard node, maybe something is up
maybe try https://solana-api.projectserum.com 
have no idea what cluster behind the url you paste
`https://ssc-dao.genesysgo.net/`
check your endpoint. guessing you're fetching it from devnet
https://solscan.io/account/ANmBr3DXHKjuD4cMhJEg3yaRJniNsn5jAkxMwmUMmm4i
I'm very aware
solscan is showing 42 tokens...any idea what I'm missing here
not sure, something just feels wrong
keypairs is not the same as the wallet adapter implementation.. partial and sign are different.
me expecting phantom/wallet adapters to behave in this same way
trying pull tokens an account owns with 
```js
    const response = await fetch(solana_uri, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            jsonrpc: '2.0',
            id: 1,
            method: `getProgramAccounts`,
            params: [
                'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',
                {
                    encoding: 'jsonParsed',
                    filters: [{ dataSize: 165 }, { memcmp: { offset: 32, bytes: `ANmBr3DXHKjuD4cMhJEg3yaRJniNsn5jAkxMwmUMmm4i` } }],
                },
            ],
        }),
    });

    const body_pre = await response.json();
```
but this results in only 11 tokens shown.
```
Object
id: 1
jsonrpc: "2.0"
result: Array(11)
0: {account: {‚Ä¶}, pubkey: 'CHDeqzX5X7xeAttpWM34uNksotkKgGXtyoKXQq9dQbQp'}
1: {account: {‚Ä¶}, pubkey: '3UD7xPBshQ6P5awf7xbgLhvAw5Vxfw9RnwRgkQjhvNdF'}
2: {account: {‚Ä¶}, pubkey: '9atoGtvb24GxS5h8EaTTbR8GhRKzJYN2LLGFkE9FXumS'}
3: {account: {‚Ä¶}, pubkey: '5fphq3EvF7H2ogGjfK1WKb2LrJjGTu1mCoSV1KgPgMso'}
4: {account: {‚Ä¶}, pubkey: 'Ede4zvgFLVTDxVQdWJkYmWB468X1GQrVLF6GVP4Gjbtu'}
5: {account: {‚Ä¶}, pubkey: 'FeM8WADP8HWa5KVaXJuPwgLXZszQU3J1nnEq8GM6tNFb'}
6: {account: {‚Ä¶}, pubkey: '5s7LTRPBLMaHhCmRetmTHeFWdgJZmMX2RfB8yFCjdijY'}
7: {account: {‚Ä¶}, pubkey: 'AE3pqr8sKU8rECvrG8XxmxikvU1ZiVpoUdvN2FLNZAzN'}
8: {account: {‚Ä¶}, pubkey: 'GYVH1o59BgQyLmv2F6AomnMBA8gErvUkqFiW2i7iYtK4'}
9: {account: {‚Ä¶}, pubkey: '2RE3CDD1Bi8e1AGTWpvSfwLscSTSG3aXyPi7wdtNtqex'}
10: {account: {‚Ä¶}, pubkey: '7R4K5onPVyamk7tWjBCNLx9bCT6Pfct6nqCucHmfyRCA'}
length: 11
[[Prototype]]: Array(0)
[[Prototype]]: Object
```
it gets the coverable messages, adds the signature and moves on
well no, because I can build it up regularly using keypairs
partial sign is inteded for a subset of keys, not having all the signers,
when you actually 'sign', that is intended to be the final sign where all signers are required to be a part of the transaction
the wallet adapter just passes the sign to the wallet being used, and carries out their sign transaction method..   so if anything, and your using phantom for example, it probably depends on what they are doing  -  if they dont use partial sign it probably wont work
thats actually from the wallet adapter, right.
ok only can assume signTransaction was the wallet, as i dont see a wallet reference otherwise.
I thought signTransaction() would basically act like a partial sign call but it must be doing something to break this work flow or I'm missing something
wallet adapter doesn't seem to support partial signing otherwise
the only time partial sign is done is when the wallet adapter is the one sending the tx

and your doing a partial sign with the wallet?
it seems to just be an issue with wallet providers not doing partial signatures correctly, as it works perfectly great when the interface is Keypair using solweb3
the base64 encode is equal up to the point where I partially sign it again, I do not modify it in any way
verificaiton fails if somehow the transaction has been tainted from the original serialized and signed transaction, or if block hash i no longer good.
how are you inspecting it and then signing it after the wallet signs and you send it to the remaining signers.?
idk
despite the transaction having two signers that are complete by the end
seems really odd
not sure
it's like the wallet adapter sign message locks it out from having an extra signer or something
it is A. again this works great locally using Keypairs for everything. the issue only appears when using a wallet adapter
who is intended to be the payer?  or how and where is that set, if not just using the first signer
üò≠
works out great with keypairs, but when A is phantom wallet it no longer works
1. build transaction, set signers a & b
2. get recent blockhash
3. sign with a, serialize with require all false & verify false
4. send to b, b inspects transaction & partially signs & sends the tx
what does your implementation look like?
that would be the first best bet.  and make a case for your reasoning if nothing else. trying to guess and reverse engineer that is probably not worth it, and based on their schema may be a long term losing battle, if they even require a bump to be passed in the first place.
have you tried reaching out to the protocol/program and ask about the usage?
phantom docs seem to say signTransaction() and it looked like it was going to work but this final hurdle is tripping me up
any idea why signature verification might be failing when all signers have signed a tx? building it with solana web 3 partial signs & such, inspecting the transaction shows all signatures present. Particularly, this works when signing with Keypairs but when I replace one of the signers with a wallet provider (phantom) it no longer seems to work. Is there some trick to get a wallet provider to partially sign?
what program
not sure what your referring to specifically, but not likely
copy and paste smaller relevant portions of the error or link to a gist with the error, and the code your trying to run.  thats not enough info

for wallet implementation use this as a reference:
https://github.com/solana-dev-adv/solana-dapp-next

run
`yarn
yarn dev`
I coppy the code from https://github.com/solana-labs/wallet-adapter#setup
Hello, I'm trying to implement wallet but I still getting this Error
In this crowd funding program tutorial (https://learn.figment.io/tutorials/build-a-crowdfunding-platform-on-solana#donate-to-a-campaign) they donate to a campaign by
- creating a new account to hold the donation that is owned by the program
- the campaign program moves the lamports from the new account to the campaign account

It seems like this temporary account is inefficient, it's no longer needed right away and this process seems like it would double fees.

Is it possible for the campaign program to request the system program transfer from the donator to the campaign account? (the reasoning they give is that only the owner program can change data, but system is direct owner of donator and indirect owner of campaign)
thos are all experimental package managers and builders, etc.  if you do not use the tools supported we cannot really help or suggest here, 
these are not related to Solana.
that is not currently supported, tm knowledge.. per earlier convo.  thats all around.
thats vite and esm module related..
yes
your using vite right?
?
@solana/spl-token/lib/index.browser.esm.js
this isnt solana related.
[!] Error: unfinished hook action(s) on exit:
cant run npm run build now
<@!785084693023424542> <@!626912028845539328>
```
[commonjs] Complex binding patterns require an initialization value (2354:6) in C:/Users/****/Documents/Build/Test/node_modules/@solana/spl-token/lib/index.browser.esm.js
file: C:/Users/****/Documents/Build/Test/node_modules/@solana/spl-token/lib/index.browser.esm.js:2354:6
2352: }(buffer));
2353:
2354: var global$1 = (typeof global !== "undefined" ? global :
            ^
2355:   typeof self !== "undefined" ? self :
2356:   typeof window !== "undefined" ? window : {});
```
üëç
thanks for the help guys
instead of charging you endlessly like AWS they cut off.
Ok, got it.
you cant.  programs have limited CPU budgets. if it goes over they fail.
That's not allowed? Won't a validator just load and run it forever?
uhhh well actually - so what happens if i just create an infinite loop in the program
Got it. great mental model to keep in mind... 'only when loaded and executed'... thanks
hahhaha
thanks lmao
lol
ayyy ditto
https://solanacookbook.com/references/nfts.html#how-to-get-all-nfts-from-a-wallet
when you have a chance
sorry to cut back in, but wondering how i get a list of NFTs owned by a user once I have a working connection and publicKey
programs only run when loaded and executed. and is a stateless architecture, design.  think of it like serverless functions.
There's no way to have a program continually track time, say by running an infinite loop?
So implement a function that participants can call which resets the program given the systemtime is past a certain point?
you would need to use a service to query/track the time and then call the program to reset.
Hey, I'm trying to create Program that runs in cycles based off Solana sysvar Clock data. So this Program will reset each epoch, each 8 hours, each 24hrs, etc. All based on Solana Clock data. 

This seems to require a 'listening' behavior. The program has to constantly listen to sysvar time, and 'reset' each time a new epoch, or a new 8hr, etc is reached. 

Does anyone know any Solana programs that are currently doing this? Or any way to implement this?
think iu might have gotten it
if you get a working build please share and take your victory laps tho..  would be very much appreciated. i know its been asked about.
ok thanks for your help
it was not built for vite, and unless there was an update, you can never assume anything will work with these newer tools,  and these things can make a big diff. 
esmodules have been a pita to do upgrades and deal with, with different package managers, frameworks, and libs.  unless there is someone with a vite working version, or you see vite as something supported, I wouldnt count on it working without attempting to resolve yourself.  this is an issue with compatibility with your tool set.  may hunt for `vite`  in discords or in the githubs, in the repo..  otherwise you might have to solve it yourself.  i dont have the time atm.
https://github.com/lorisleiva/solana-wallets-vue
might look into using this
```
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";
import inject from "@rollup/plugin-inject";

// https://vitejs.dev/config/
export default defineConfig({
    plugins: [
        vue(),
        inject({
            Buffer: ["buffer", "Buffer"],
        }),
    ],
    define: {
        global: {},
        "process.env.NODE_DEBUG": JSON.stringify(""),
    },
    optimizeDeps: {
        include: ["buffer"],
    },
});
```
which i included this for
i have only heard about issues building the project
i know there were issues in the past, not sure if they were resolved or not, and it depends on your framework, config, pack builder, etc.
ahh now we get somewhere..  vite. did u check if the wallet adapter has compatibility issues with vite?  it makes a difference
not next.js
im working in vite
that doesnt help. if your 'connection' object is really null..

download and run the scaffold quick.

not it
`    const { connection } = useConnection().connection;`
try useConnection().connection
there
can you provide the surrounding code here
<@!626912028845539328> <@!785084693023424542> this is the function
```
function useSolanaAccount() {
    const [account, setAccount] = useState(null);
    const [transactions, setTransactions] = useState(null);
    const { connection } = useConnection();
    const { publicKey } = useWallet();

    const init = useCallback(async () => {
        if (publicKey) {
            let acc = await connection.getAccountInfo(publicKey);
            setAccount(acc);
            console.log(acc);
            // let transactions =
            //     await connection.getConfirmedSignaturesForAddress2(publicKey, {
            //         limit: 10,
            //     });
            // setTransactions(transactions);
        }
    }, [publicKey, connection]);

    useEffect(() => {
        if (publicKey) {
            setInterval(init, 1000);
        }
    }, [init, publicKey]);

    return { account, transactions };
}
```
oh...
it already is a pubkey
you are trying to run line 3 without running line 2

Skelly, I think you need to convert to pubkey first
go here: use the scaffold.  
https://github.com/solana-dev-adv/solana-dapp-next

`run yarn
yarn dev`

if you dont have the issue its something in your code
if you still have an issue, you have a different problem.
via javascript?
is there a way to get the UDP address of the current and/or future slot leaders?
<@!785084693023424542>
^^
useConnection() returns ConnectionContextState, which then has the property 'connection'
what error show up in your console?
console.log(connection) returns undefined
yes
did you install the package?
its not that then
its part of a library
that's exactly it, thanks!
https://solana-labs.github.io/wallet-adapter/modules/_solana_wallet_adapter_react.html#useConnection
let me take a look Skelly
whats the issue?  if connection is not defined, something in your useConnection may not be setup or done correctly, 
errors in the console?  
where is your code?
stuck trying to get a connection that isnt undefined
can anyone help here?
then, yes... 34
Are you talking about AccountMeta? (What used to describe the account in the accounts structure as part of your instruction)
Pubkey is 32 bytes
Do you know how many bytes one account adds to the transaction size? I'd guess it would be 34 (one pubkey and two bools), but I'm not sure
Yeah, the 1232 cap does force some design decisions
Gotcha, was hoping there was a way around that since transactions can only be so large. Thanks anyway
No, but you just need to pass the public key and the runtime will look it up and populate the AccountInfo delivered to your program entry point
Is there a way to read an account's data on chain without passing the account into the transaction?
I don't know, but I would actually make sure it's not `undefined` (the error message implies it is)
Thank you!! I'll give it a try
is this incorrect?
```
const { connection } = useConnection();
```
its grabbed like this
That seems to mean your `connection` variable is undefined

trying to use solana web3 to get account data from a public key
but its returning undefined
```
const init = useCallback(async () => {
        if (publicKey) {
            let acc = await connection.getAccountInfo(publicKey);
            setAccount(acc);
            console.log(acc);
            // let transactions =
            //     await connection.getConfirmedSignaturesForAddress2(publicKey, {
            //         limit: 10,
            //     });
            // setTransactions(transactions);
        }
    }, [publicKey, connection]);
```
`let acc = await connection.getAccountInfo(publicKey);`
this line
`console.log(publickey.toBase58())` works fine
probably have better luck in the NFT/Metaplex discord.  try searching on that error in the discord servers and google as well.
https://discord.gg/zUQ2bAuz
Thank you. Exactly what I was looking for.
wrapped Solana, for SPL-Token is:
`So11111111111111111111111111111111111111112`
that is the equiv native mint, otherwise you query or view the native 'Solana' balance directly, and query lamports, lamports it the underlying unit that Solana is measured in.
I'm guessing not as tokens are within Sol
Does Solana have a token address? Is there any address that corresponds to Solana?
Trying to upload nfts to the devnet for testing. However I keep getting this error message "upload was not successful, please re-run. Error: ENOENT: no such file or directory, open 'assets/#0.json'. Does anyone know a way this can be fixed? Would be much appreciated
Hi, ran into a problem with minting through our site. The candy machine worked during testing and now once the mint went live no one can mint any NFTs. Not sure where to go from here. Is there anyone that can help us?
Hello Developers, I have created a token two months ago, and I want it to be available for people to buy it (swap). and till now I have no idea where I could start
I think it was due to the branch you've created
I think. Isolved the issue

Hello, I have created a token. I would like to add it to token list but, github says I do not have different file than main file, so I can not make pull request. 

Can anybody help me out?
Well i opened an issue on github for the deployment problem.  https://github.com/solana-labs/solana/issues/23427   <@!944172729626689536> <@!489206164270350337>
This problem happens with all fresh new accounts, so i'm not sure that will help.
hmm
use    --help flag   
closes buffers associated with the program account typically used on deploy.  experiment with devnet or a local validator before using with mainnet.
This is interesting.  I can't regress to older versions though, as i upgraded versions to fix other issues i was having.
What does that command do?
niceeee
it takes a few seconds to change the RPC end point to go somewhere else, genesysgo, figment, many others have devnodes and mainnet-beta nodes
awesome thanks
only 460kB
https://docs.solana.com/cluster/rpc-endpoints
ah ok, do you know what the rate limit is?
an account can be no more than 10mb from what I recall, but your no where near that, right?  üôÇ
you have to come up with your own batching. but a better solution is to use different RPC nodes, public and or paid ones.
you mean there is no limit at program size?
is there a way to batch client requests so we dont get rate limited ?
if its just regarding deploy, you should be able to.
`solana program close --buffers`  
can get rid of some issues.

that size, unless it has to do with going over original program size, should not be a blocker.
https://stackoverflow.com/questions/70437644/error-custom-invalid-blockhash-when-solana-program-deploy/70677718
I ve spent 2 months on testnet every was fine so I ve made my best to do the program I wanted and now I have to slash it
still not working for me with 398kB
so it isnt a linux thing
I get the same error on my M1 macbook, btw
<@!886279599162535969> I think you can manage some parameter for compilation to reduce .so size
I first though because of the size and the number of transaction the all transfer could not be achieved in single block
yes I agree
I think a good strategy is having a single Account
üôÇ
398,7¬†kB (398‚ÄØ688 bytes) for me
But, 400k doesn't seem like a large program to me....
which kinda makes sense, as the error `Invalid blockhash` has something to do with the age of the 'recent blockhash'.  i.e some kind of timeout issue is at play here
Reducing below 400k seemed to solve the issue
I killed my program.  I removed half the functions.
but <@!886279599162535969> how did you manage to save 100kb in your .so without killing your program?
solana 1.9.9 working on ubuntu last release
Hello
I want to see how does Solana node save blocks and transaction to the storage. I mean I want to read the code where it happens. Could someone help me to find it in this repo https://github.com/solana-labs/solana ?
linux/solana version, etc
no i mean on your client
devnet
platform you mean cluster ?
So you have the same error originally?  What platform are you on?
Ah ok
no no this just lead me to another problem, the more strange is I can fully download my program to a buffer account but them I cannot move it to program account
I need a bit of help understanding something... if I transfer tokens from 1 token account to another, it looks like the token account amount field does not get updated within the same transaction, it remains the same amount balance until the transaction is finished. Why is this the case? Is there any way to get an updated amount within the transaction to do further processing afterwards? some logs:

```
Program log: before yield_vault_amount: 10, deposit_vault_amount: 1
    Program SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 invoke [2]
    Program log: Instruction: Swap
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [3]
    Program log: Instruction: Transfer
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 3327 of 127952 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [3]
    Program log: Instruction: Transfer
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 3200 of 97739 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success
    Program SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 consumed 45760 of 139473 compute units
    Program SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 success
    Program log: after yield_vault_amount: 10, deposit_vault_amount: 1
```
I'm just trying things out to figure out what is wrong, i'm very new to solana.  This problem arose recently, after i started linking in mpl_metadata libs.
How does this avoid the problem?  A deployment is still needed to a different address.
how did you do to go from 467 to 346 ?
the same, then I decide to this : https://docs.solana.com/cli/deploy-a-program#using-an-intermediary-buffer-account
when verifying a signed wallet message using ed25519_dalek in rust, I should use `verify_strict()` and not `verify()`, right?
HI guys, I am trying to transfer SOL using cli, but does it work if I use the command for SPL tokens?
I get this:  `Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.`
did you get something like : Error: Buffer account passed is not large enough, may have been for a different deploy?
Is there some kind of max binary size limit configured somewhere?
Got it, thank you so much!! I learned a lot.
Hey guys, can someone recommend me a few guides that teach you to do some funky stuff with spl tokens through smart contracts. For example something like getting all the nfts of a collection, or idk, getting all the existing collections or something like that. Because this stuff is not very easy to do through web3, and I was told that the best way to do this would be through smart contracts
how can i figure out what the issue is here?
Okay reducing the size of the binary from 467K to 346K fixes the deployment failure to devnet..
Solana transactions need to be under a certain size, right? The only things that contribute to the size of the transaction are the number of accounts passed in and the data associated with the tx, right? How many bytes does each account that we pass in add to the transaction?
Type usdc in solana explorer and check mint address
Save public key of real usdc and compare if it‚Äôs right
Thank you, this is so helpful! I have one more question - how can I trust if the token account is the "real" usdc -- not a knock-off?
binary size is 467K
This only happens with the program i'm currently writing.  Fresh empty projects are ok.
Token account have mint public key if you fetch that mint account with given public key you can determine what token it it‚Äôs
I see. How can I tell which token account is the usdc mint?
Then you will have token account with mint of usdc
What if someone just sent USDC to my wallet?
Nope if you create token or pass ownership of mint account to wallet you will have mint account
Don't know, the attachment stops before I can see the code. Maybe put on a gist
<@!810533902481227806> I don't know too much about this. If my wallet has some USDC in it, does that mean my wallet has a separate "mint account" with the USDC in it?
‚Äúio‚Äù not I‚Äôm
Or you could just look it up on solscan.I‚Äôm
I don‚Äôt remember the name but there are some GitHub repos that will look up all accounts linked to a token
Maybe someone encountered this problem and have some example. How to fetch all mint accounts owned by some account/wallet?
üëã  Hi everyone! Anyone know how to query how much USDC a wallet has? With JS or the RPC?
Is there any help on how to create metadata account?
I'm using spl-token-metadata
Also looking to expand out dev team if anyone is interested. Just DM me. 
Thanks for the help in advance.
How do I get a program to use my solana wallet? 
Do I change the ‚Äú.config‚Äù or the ‚Äú.yml‚Äù
The account is already made I just need the program to use that address
Could you create an issue on github with all the details? I want to make sure there's no issue on 1.9.9
I still get the same thing with 1.9.9  üò¶
Oh I see. Thank you
As <@!242234529396424704> said, yes. You will likely need to do this with WSOL, which just requires a call to syncNative
I don't believe it is normal to send transactions over the tpu. Usually only program deployment is done that way
But would  recommend adding authority while you debit vault account.
Yes
Thank you, this is starting to make sense now. Can SOL be transferred from and to a vault account owned by a PDA?
Is there any reason using send transaction rpc method over it and vice versa?
Hi, Is it normal to send transaction through  tpu client ??


///////////////////////////////////////////////////////////////////////////////////////////////

Im using the phantom docs to connect to my site. https://docs.phantom.app/integrating/sending-a-transaction . The code works for when im on desktop but when I try on mobile it can conncet to my site but im unbale to make a transaction on mobile.?
(after invoking `system_instruction::create_account` on the PDA to create the account of course)
In an on-chain solana program, how do you get an `AccountInfo` from a PDA account to pass into other programs (via `invoke`?)
Hmm I see. Will use .findProgramAddress() - just to be ‚Äòsafe‚Äô üôÇ Also will dive into the implementation of .createWithSeed() whenever possible! Thanks for your help!
I am a full-stack developer with 6+ years of experience. I read your requirements very carefully. I suggest creative ideas for successful project, and satisfy clients with high quality & strict time-management. I have excellent communication skill with dear clients, and can provide clients with long-term support. I can work for you in many positions with my skills. 

- Front-End: React.js/Next.js, Angular, Vue.js
- Back-End: NodeJs/ExpressJs, Django, Laravel/PHP
- BlockChain:
  NFT marketplace, NFT minting, NFT Game
Smart Contracts, Solidity, Ethereum, Polygon, Algorand, Solana, ICP, BSC
Web3 integration
ERC(BEP)20/721/1155, HardHat, Truffle 
Staking, Yield Farming,Uniswap, Sushiswap, Swapping tokens 
-Mobile: React Native, Flutter
-Database: SQL(MySQL, PostgreSQL, SQLite),  NoSQL(MongoDB, Couchbase, Neo4j, OrientDB) 
- Other
 Git, Jira, Trello, Docker, Jenkins, CircleCI,  Jestjs, Jasmine, Selenium,GrpahQL, Three.js
AWS, GCP, Firebase
Please contact with me. Thank you.
So it's not necessarily wrong to use it, but it's not a PDA
Yeah, that API works, it just does a different thing than a PDA
Oh okay. I‚Äôll explore it a bit more. As of  now, I am able to create account with this pubkey and store data in it from within my own program (since the owner of this key is set to program id)..
So, they're not actually PDAs, just kinda similar-ish.
That's true, but there's no guarantee it will lie off-curve, and even if it does, that address is created in such a way that you can't actually sign for it with your program, which is part of the point of PDAs.
updating solana worked i think
But the pubkey returned does not lie on curve üòÆ (verified with PublicKey.isOnCurve() method). Shouldn‚Äôt it be a PDA then? It has seed, pubkey is not on curve, and it returns same pubkey for given seed..
im installing latest solana
solana --version
solana-cli 1.7.11 (src:bdb77b0c; feat:1140394761)
The cargo build-bpf command uses solana's own fork of rust, so maybe you're on a really old version? Not
What version of solana are you running? `solana --version`
Ah, hmm, not sure then, that ought to be plenty new enough
rustc --version
rustc 1.61.0-nightly (8d60bf427 2022-03-19)
Your rust is too old (try running `rustc --version`). You'll need to upgrade it
It's a weird third type of address, neither keypair nor PDA. Almost definitely makes more sense to just use a real PDA, with `.findProgramAddress`
`.createWithSeed` actually doesn't create a PDA at all (confusingly)
Hi All, is there a reason why one would use PublicKey.findProgramAddress() and not PublicKey.createWithSeed() for creating a PDA?
why error https://github.com/solana-labs/solana-program-library/issues/3016
anyone encountered this?
yo

<@!134416332509675520> ok - gotya. so the problem is not the rust/c struct - structure itself but the allocated space when account is created - right? thanks alot mate!
Any changes you make to the struct need to be backwards-compatible with whatever raw bytes live in the account
In general it's hard. Currently (hopefully not for long) you only get one chance to allocate space for an account, so you have to think ahead and pre-allocate extra space in case you want to add fields later (otherwise there won't be any space for them)
<@!134416332509675520> well - this works. Thanks alot! But how do I migrate an application if it is now possible to change the schema?
`solana-test-validator -r` will give you a fresh state
I would suggest making sure you run with a fresh validator each time, since otherwise, yeah, you might not be able to change the schema for an old account
Not as far as I know
<@!134416332509675520> thanks for the hint! I changed the GreetingSchema and GreetingAccount; Still getting this error 
`Failed to serialize or deserialize account data: Unknown`
don't want to bother you, is there some kind of extended example?
I found that msg a day ago when I was searching for a solutions üòÑ but I misunderstood the problem it seems. Will check that out thanks.
E.g. here https://github.com/solana-labs/example-helloworld/blob/master/src/client/hello_world.ts#L190
You'll need to allocate more space for it
<@!134416332509675520>  I do not understand how I can extend the GreeterAccount struct - just wanted to add a second field, but then (I think this is an understandable behavior) the existing account data cannot be deserialized
Can you say more about what you're stuck on? Probably easier to just ask specific questions
Hi guys, is there an continued example for the example-helloworld program? I'm kinda stuck here (or is there another channel for real real noob questions?)
Think if you use a nightly rust compiler you can also do this: https://discord.com/channels/889577356681945098/889584618372734977/915927123275960360
Yeah, it's just a trick to get yourself some new stack space.
hey, is there a way to transparently wrap and unwrap sol on the frontend? i have a program written that currently only accepts spl tokens, but i want to make it easy for users to use it with sol. should i wrap/unwrap sol or should i add support for native sol to the program?
As the function finishes and the frame gets popped, I only keep the data I need
I see, so I should actually split the code up to more functions with little logic to avoid this error right?. ü§î
Got it. Thank you sir!
(`invoke` just calls `invoke_signed` under the hood, so they're not really two separate functions)
Right
So for both `invoke` and `invoke_signed` it is not necessary to include target program in accounts right?
So if you're in a current function and you're getting close to running out of the current 4kb frame, you can just invoke another function and get a new 4kb frame to play with
Each stack frame is 4kb, up to some total limit (think it's a max of 64 frames, not sure where I'm remembering that from)
I'm saying each function call gets its own stack frame
I'm just curious if I should work with references, or ownership and clone/copy for the functions. But probably references are the best way right? I'm not really good with these stack frames, but isn't solana FILO, so stack is getting added up with all the function calls and new allocations?
You *do* have to pass the invoked program as an account in from the client, but you don't need to pass it in that accounts slice in `invoke`
It's not necessary, no
Hello guys,  for `invoke` and `invoke_signed` should we pass target program account in `accounts` field?  It seems not necessary in instruction like `system_instruction::create_account`, if I not add `system_progam` in `accounts` , it still work. But In a spl-library example:     https://github.com/solana-labs/solana-program-library/blob/b7a3fc62431fcd00001df625aaa61a29ce7d1e29/examples/rust/cross-program-invocation/src/processor.rs#L42,  the comment said  the program being invoked should be included,  makes me little confused. So may I know we should add the target program in `accounts` or not?
Not sure what you mean
Does it matter what I pass in to that function? &AccountInfo, or &Pubkey?
One funny trick is that the stack pressure issue in solana is *per frame*, so you can just wrap a chunk of code in a helper function (giving yourself a fresh stack frame)
```solana program deploy --upgrade-authority <UPGRADE_AUTHORITY_SIGNER> <PROGRAM_FILEPATH>
``` in this command how do i provvide the value of ```UPGRADE_AUTHORITY_SIGNER``` is this a file path to the keypair file containing the private key of the wallet i want as upgrade authority ?
Hello, it is possivel set a transaction as "pending" in purpose? A is sending 10 tokens to B, i want the 10 tokens be pending for 1h is this possivel?
What are the best ways of saving stack size in programs? I removed all the `msg` macros, and stored a few variable on the heap, but I think I will run out of options soon and I have quite some more logic to write. ü§î
Even though the type (using the rust client) is Account?
When you do an `getAccount` or similar you are in effect getting a copy of AccountInfo
No, you can set breakpoints in your program if using the `solana-program-test' option
Is there a way to get the metadata program account from a given Account?

I could just hardcode the metaplex metadata address, but I was wondering if there was a way to programmatically get it. If metaplex is the only way to upload metadata right now then I guess it doesn't matter, but I wasn't sure if that was truly the case or not
Is it possible to use AccountInfo off-chain?
Hi, is there a way to create a wallet and account using RPC? (I'm developing an Android app)
I see this error
I was using web3js in stackblitz (online code editor)
```js
TypeError: _0x4a99f6 is not a function
    at parse (https://node-zxhgdg.w.staticblitz.com/blitz.6495216afc69f31e3592b868d6f1407d8619435d.js:34:32346)
    at URL.set [as host] (https://node-zxhgdg.w.staticblitz.com/blitz.6495216afc69f31e3592b868d6f1407d8619435d.js:6:147841)
    at makeWebsocketUrl (/home/projects/node-zxhgdg/node_modules/@solana/web3.js/lib/index.cjs.js:4189:12)
    at new Connection (/home/projects/node-zxhgdg/node_modules/@solana/web3.js/lib/index.cjs.js:5190:41)
    at getWalletBalance (/home/projects/node-zxhgdg/index.js:14:24)
    at Object.eval (/home/projects/node-zxhgdg/index.js:21:1)
    at Object.function (https://node-zxhgdg.w.staticblitz.com/blitz.6495216afc69f31e3592b868d6f1407d8619435d.js:15:101746)
    at Module._compile (https://node-zxhgdg.w.staticblitz.com/blitz.6495216afc69f31e3592b868d6f1407d8619435d.js:6:196043)
    at Object.Module._extensions..js (https://node-zxhgdg.w.staticblitz.com/blitz.6495216afc69f31e3592b868d6f1407d8619435d.js:6:196398)
    at Module.load (https://node-zxhgdg.w.staticblitz.com/blitz.6495216afc69f31e3592b868d6f1407d8619435d.js:6:194488)
```
```js
_0x4a99f6 is not a function
```
Is anyone in here able to explain to me exactly what the SanitizationFailure error means? I seem to be getting it whenever I send a transaction instruction with more than one signer. The documentation wasn't very helpful in explaining what causes the error, or how to prevent it.
how can i make sure that all requests made from my dapp website are made from logged in user?
so... i can set breakpoints in side the test body, but not in my program... correct
You can't debug an app on the devnet/testnet/mainnet-beta but you can use the combo. The best you can do is put in a bunch of `msg!` statements and check the log However;
solana-program-test and vscode locally to debug your program code before deploying to the other nets
https://solanacookbook.com/guides/debugging-solana-programs.html#facts
I'm talking about the simplest scenario: 
```
async def func():
    client = AsyncClient("https://api.mainnet-beta.solana.com")
    res = await client.is_connected()
    pa = await client.get_program_accounts(PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"))
    await client.close()
```
httpx.HTTPStatusError: 410 Client Error: Gone for url: https://api.mainnet-beta.solana.com
For more information check: https://httpstatuses.com/410
Big thanks guys !
In principle, yeah, if you can produce signatures from both
Can I send money from 1 wallet but pay fees from another?
one is sender and one for the account that pays the transaction fees
But why in the example there are 2 different PrivateKeys
yes account with keypair and pubkey for sender ==> alice
What is the meaning of these names? I can assume that this is just 1 privateKey, which can be called the "Sender"
<@!804445037957218384>
alice is name given for the feepayer (variable name)
fee payer is someone who pays fee for the account transfer ttransaction
I set value the same and tx is working
<@!788215642070581289> can u pls explain whats mean "feePayer" and "alice" in this code? 
https://portto.github.io/solana-go-sdk/tour/transfer.html
can anyone gives me a sample `instruction data` (byte array ?)  for `solana_sdk::loader_upgradeable_instruction::Write`  ?
is it possible to use GDB to debug a solana program
i dont think its worth the time... its probably something stupid with Windows. The issue is that on Windows 11 WSL with ubuntu 20, bpf library never gets installed. the solution for me was to not use WSL. It works using the ubuntu:latest docker image, so I can proceed
share the issues here maybe me and people can help
```js
class Keypair {
  static generate() {
  };
  
  get publicKey() {
  };
  get secretKey() {
  };
  // codes..
}
``` I got the basic structure of Keypair class now
i guess some stupid thing with Windows WSL
then what's issue
it works for me in docker ubuntu:latest !
i think its a toy app yeah
is it a solana app
eh i dont know what it means!
no problem! now if i can just get `example-helloworld` to run my life will be complete
you are something man! thanks
ohhh makes sense man
oh
```  get publicKey(): PublicKey {
    return new PublicKey(this._keypair.publicKey);
  }```
When I try to borrow lamports, does it give me balance including deposited rent? If so, is there a quick way to calculate rent exempt amount without me tediously calculating bytes?
oh
it looks like a javascript getter to me
then it would be `wallet.publicKey()`
it's method..?
https://solana-labs.github.io/solana-web3.js/classes/Keypair.html#publicKey
maybe the prototype of Keypair has publicKey/secretKey ?
`wallet.publicKey` allows me to access `publicKey` inside the object weird
The weird thing is that I can access `publicKey` and `secretKey` without using `_keypair`.
```js
Keypair {
  _keypair: {
    publicKey: Uint8Array(32) [
        2,  80,  55,  93, 184, 106, 213,  60,
        1,  88, 211,  26, 139, 129, 174, 120,
      103, 145, 176, 132, 110,  92,  31, 177,
      201,  75, 208,  19,  50, 138,  62,  70
    ],
    secretKey: Uint8Array(64) [
      167, 204,   4, 243, 212, 210, 236, 200,  78, 233, 18,
       49, 205, 178, 189, 154,  97,   7,  52, 146,  86, 57,
      119, 142, 240,  21, 106, 165, 243, 255, 198, 105,  2,
       80,  55,  93, 184, 106, 213,  60,   1,  88, 211, 26,
      139, 129, 174, 120, 103, 145, 176, 132, 110,  92, 31,
      177, 201,  75, 208,  19,  50, 138,  62,  70
    ]
  }
}```
well they are the same i just checked it
```js
const { Keypair } = require('@solana/web3.js');
const wallet = Keypair.generate();
const pubkey = wallet.publicKey;
```
also this works
I'll give it a try running in docker instead, hopefully that will work
```js
const web3 = require('@solana/web3.js');
const wallet1 = web3.Keypair.generate();
const pubKey1 = wallet1.publicKey;

const {Keypair} = require('@solana/web3.js');
const wallet2 = new Keypair();
const pubKey2 = wallet2._keypair.publicKey;
```
Found they are kinda different
`error: no such subcommand: `build-bpf`
cool !  ill have to check it out ...
nope!
i just liked the OS!
using normal customized PC!
i was gonna buy one but i backed out
out of curiosity are you using one of the system72 computers
I am using PopOS! 
try not to use the nodejs build script 
goto rust program directory directly and run this
`cargo build-bpf`
or have you had success using Docker instead? that would probably be my preference anyway , i might try that
<@!644613562018299954> i tried following instructions in https://github.com/solana-labs/solana/issues/21053#issuecomment-1002747726 and running ./env.sh appeared to work, but unfortunately build:program-rust and c still do not work... what OS are you running on to build successfully? maybe its a problem specific to my set up, I am using Windows 11 + Ubuntu 20 VM but I can switch to whatever OS makes this work
```js
import * as web3 from '@solana/web3.js';
const wallet = web3.Keypair.generate();

import {Keypair} from '@solana/web3.js';
const wallet2 = new Keypair();
```
seems like this is the same
oh thanks didn't know it
then the RPC api will query the wallet with pubkey
```js
const walletBalance = await connection.getBalance(pubkey);
```
seems like this `getBalance()` method sends a request to Solana RPC node
The PublicKey class has a toBase58() method
can anyone help  me with this ?
https://github.com/solana-labs/solana/issues/23791
32 numbers in public key

seems like originally the public key and secret key are array of numbers
nice man that's base-58 string value. the pubkey
https://github.com/solana-labs/solana/issues/21053#issuecomment-1002747726
`new PublicKey()` will encode publicKey to base-58
new KeyPair() creates a new pubkey/privkey pair.  

new PublicKey(pubkey) creates a pubkey from existing public key (could be paper wallet/pubkey from solana-keygen)
but i just found the difference between `new PublicKey(wallet._keypair.publicKey)` and `wallet._keypair.publicKey`
oh shit thanks man
im a little confused by the contents of solana-bpf-tools-linux.tar.bz2  ... it has a folder llvm and rust, and it appears to contain actually llvm and rust binaries
actually if you are DEVELOPING in solana , 
web is not needed at all
web3js is for consuming apis and stuff , not creating new things
oof i see man. i thought web3.js is something essential that sol devs should learn
I use https://github.com/bmresearch/Solnet + webassm
i thought web3.js is the only thing
oh really what can i use then?
oh the rust
i dont use web3js
i dont lol im trying to run the "hello world" project
cool, github is also very slow in middle east in these days
then how do you develop solana..?
<@!644613562018299954> USA. I restarted and it went muchf aster
<@!767969172583088150> sorry i do not know ...
which country are you in ?
with `new PublicKey()`
the difference
<@!655333244358623235> Do you know it ?
all github releases download are very slow the last couple weeks, i wonder whats going on
cool, ty trying that now
What's the difference between two
```js
const { Keypair } = require('@solana/web3.js');

const wallet = new Keypair();
let publicKey = wallet._keypair.publicKey;
publicKey = new PublicKey(wallet._keypair.publicKey);
```?
https://github.com/solana-labs/bpf-tools/releases/tag/v1.23
how do i install bpf manually
it was a bit tricky for me too
if every thing  failed 
try to install bpf manually
`sh -c "$(curl -sSfL https://release.solana.com/v1.9.13/install)"` right
alright i think i already did that but ill try again
install `solana cli` , make sure you have good internet connection and let the `cargo` download finishes
I am trying to run the example-helloworld but it fails to build for either Rust or C, with an error related to not having bpf ... any ideas?
Hi!
I am developing an app to interact with `solana_sdk::loader_upgradeable_instruction::`
I am sending  this byte array as  transaction data:
```
1
1
0
0
0
25
```
my explanation is as follow :
1- first one is to indicate i am invoking ```Write``` function (1)
2-second is the  offset to write as U32 (1000) [i want to  write to index 1]
3- last byte (25) is my desired byte to be written 
but this transaction gives me  ```invalid instruction data
```
can anyone helps ?
i can explain more if someone is asking
Hi. Is there a snapshot equivalent in Solana for DAO voting?
Does `solana-keygen` command comes from `cargo install spl-token-cli` ?
Using features flag i reckon
And you can also check the feature different between mainnet, testnet and devnet in you solana testnet validator
They have features for that
Yes. You can choose to deploy programs that are in mainnet to your localnet
Good thing fees are fixed to no. of signatures. There shouldn't be any surprises when I deploy to mainnet I guess.
So it should be same
I mean  like the system rent program are pretty much same across all the cluster
I cant find an explicit mention of that in documentations.
Does anyone know if solana-test-validator, devnet and mainnet cost the same fees in terms of SOL?
That‚Äôs right! üôÇ
Good idea. I could delete local-ledger and restart. üéâ That will save my headache of closing and deploying to different account.
Why not play with solana-test-validator to create a local ledger? I believe the cost is same throughout networks (please correct me if I am wrong). Local ledger gives more control - you can delete local ledger folder to start from scratch..
I hope it is the same. üëÄ But it is still not convenient because I need to close my prev account in devnet or deploy to another account in devnet to see how much lower it costs now.
ü§ï
Sadly, I havent tried that...
?
isnt it pretty much same in mainnet and testnet
Right now, I have to deploy in devnet, check the cost, optimise the program, deploy to another account to check how less it costs.
Something like solana program deploy --commitment=estimate. I want to know how much SOL will be deducted from my wallet before I deploy so that I can optimise my code to bring it down.
explained really well there
try checking solana cookbook
If someone could guide me with this as well üôÇ
i reckon
those are just for creating account
Means createWithSeed is not a PDA? (createWithSeed + createAccountWithSeed)
wym?
you need commitment
Thanks. That will work as workaround for now.
I may have overlooked. But I do not find any related resource to deploy check without commitment.
Thank you so much haha..
üî• ü•¥
yes that was the issue ...
I think maybe it should be `SystemProgram.programId` when you composed your instruction
tested both
just to make sure this wasnt the issue
```js
import {SystemProgram} from "@solana/web3.js";
```
i tried using this systemProgram and
```js
const anchor = require("@project-serum/anchor");
const { SystemProgram } = anchor.web3;
```
yes all of em are pubkeys
just want to make sure about SystemProgram
how you get it ? in normal case all these value should be pubkeys
for now is yes.
yes im getting blockhash too
Hmm sure. But if i dont have anchor instruction in my tx, it works completely fine ;-;
Try checking solana cookbook
You have function to calculate u for that
maybe also check for blockhash
Btw, how do i estimate how much it will cost to deploy a program (rent+transaction fees)? Are devnet and mainnet fees exactly the same?
ü•≤
```I just logged all the accounts and its completely fine.```
Thank you so much. I will check it and update you on it.
oh im going to add another tx when it cant find ata for that token account, so depending on that, the other tx is added. I just didnt post the other condition. üòÑ
also if an anchor instruction is the only one instruction in the tx, you can just use `program.transaction.xxxxxxxx` to build your tx. (just want to let you know, your current code is also work)
maybe log these accounts for sure they are all fine
```
                authority: wallet.publicKey,
                systemProgram: SystemProgram,
                tokenProgram: TOKEN_PROGRAM_ID,
                rent: SYSVAR_RENT_PUBKEY,
```
this is the error ;-;

findProgramAddress is to find a PDA
createWithSeed is just create an address which related by from + seed + program id

PDA has two major features:
1. off curve
2. only program can sign
Thank you ‚ù§Ô∏è
if you feel comfy in gist, I can send it there too. Thank you
```js
let myTx;
try {
    myTx = program.instruction.test(new anchor.BN(amount),
        {
            accounts: {
                authority: wallet.publicKey,
                systemProgram: SystemProgram,
                tokenProgram: TOKEN_PROGRAM_ID,
                rent: SYSVAR_RENT_PUBKEY,
            }
        }
    );

} catch (e) {
    console.error(e, "Anchor error");
}
console.log(myTx, "Anchor Ix");

// add instruction to the transaction
let tx = new Transaction();
tx.add(myTx);

// add data for signature generation
let { blockhash } = await connection.getRecentBlockhash();
// TODO: update the recent blockhash in certain interval, so transaction doesnt use the expired one
tx.recentBlockhash = blockhash;
tx.feePayer = wallet.publicKey;

// to sign
let signedTx;
try {
    signedTx = await wallet.signTransaction(tx);
} catch (e) {
    console.error(e)
} // ----> throwing me non base 58 error here

console.log(signedTx, "Signed tx") // ------> getting undefined here

let txId = await connection.sendRawTransaction(signedTx.serialize());
// after this just sendconfirm transaction
```
it is about raw tx format https://docs.solana.com/developing/programming-model/transactions
this func can help you to recover a tx object from a byte array https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#from

technically we will use base58/base64 to encode a raw tx

to get meaningful info, you will need to parse instruction
a token transfer is an instruction, a SOL transfer is also an instruction ...
maybe use a gist
I did that let me post full code.thankyou
can't see any code. ideally you create a new tx and add an anchor instruction then you specific fee payer and recent blockhash. I think it will work
To add to it, is there a way to get all PDAs that are derived from particular fromKey (instead of seed). If not, how can we keep track of accounts that are created by a particular user (pubkey). I see we can get all accounts that belong to a program id. But I want to maintain list of accounts that are owned by program id AND that belong to a particular user (user‚Äôs pubkey). Should the seeds be stored somewhere (postgres db or someplace else? - trying to avoid this approach)
Also, what is this transaction encrypted with, can I write my own
```
AcIZPct4GQ+1XvyhUdeltxMc43MCEu4fi7v3dGo6F7+2cI+x2n0SEQ85qwQQxR5HFFgkSh445UNVfiKknRH3PgwBAAEDlRuxoz/P4iKgwl3RLkzQO0xlfTM+/B8J/N/ssWGsUCxqD3p8UvUcUlprh5tGr/mHumPs0Fn6k8F1ba/Cy4ApgwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyqQ1JOTuvfRcKDXARmcQfTL1IK6hdgIJFreh//YYGE0BAgIAAQwCAAAAECcAAAAAAAA=
```
When i do this i get a meaningful result
```
solana decode-transaction AcIZPct4GQ+1XvyhUdeltxMc43MCEu4fi7v3dGo6F7+2cI+x2n0SEQ85qwQQxR5HFFgkSh445UNVfiKknRH3PgwBAAEDlRuxoz/P4iKgwl3RLkzQO0xlfTM+/B8J/N/ssWGsUCxqD3p8UvUcUlprh5tGr/mHumPs0Fn6k8F1ba/Cy4ApgwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAyqQ1JOTuvfRcKDXARmcQfTL1IK6hdgIJFreh//YYGE0BAgIAAQwCAAAAECcAAAAAAAA= base64
Recent Blockhash: Ee2ahQVWS18JT7muFhYjwwwENUtVEJuKDsE3RUqHT2Fn
Signature 0: 4t5WucFDUzBdHTJLB6To4MTTLGu8QPxtxxQ1fd434EoxYwAi6j42WPmrvozgiCwXemvfKTe1NFoQjRbyKTpQa4Yb (pass)
Account 0: srw- B34EtynzC654XSLFZfskPZssaGpTCXj6nbHJ7PDq8BS3 (fee payer)
Account 1: -rw- 891uW4ajkeckmicdtTKoztxxR7sd4f5tTQ1rqkLkSLGz
Account 2: -r-x 11111111111111111111111111111111
Instruction 0
  Program:   11111111111111111111111111111111 (2)
  Account 0: B34EtynzC654XSLFZfskPZssaGpTCXj6nbHJ7PDq8BS3 (0)
  Account 1: 891uW4ajkeckmicdtTKoztxxR7sd4f5tTQ1rqkLkSLGz (1)
  Transfer { lamports: 10000 }
Status: Unavailable
```
So why do I not get such a result when I decode as base64 directly on the website?
```
=x^Q◊•stj:p}9GX$J8CU~">ÔøΩ?"].L;Le}3>    aP,jz|RRZkFcYumÀÄ)ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ §5$\(5Fg}2 v    MÔøΩÔøΩÔøΩÔøΩ'ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
```
Hi all. What is the difference between web3 PublicKey.findProgramAddress() and PublicKey.createWithSeed()? I see the createWithSeed() takes a fromKey as input. Apart from this what is the difference?
Triple for box and double for focus
oh thanks
```hi


```
Its ```
Tripple
Put it inside those
Use ```
when i pass normal tx that is not anchor, it works completely fine
ü•≤
gives me non base58 error like..
tx holds my anchor tx
Hi, So Im not able to sign in anchor tx like this ? ```rust
 signedTx = await wallet.signTransaction(tx);
```
looks like signature
ü§ï
nvm its fixed. Just realised the importance of try catch...
```rust
const tx = program.instruction.test(new anchor.BN(amount),
        {
            accounts: {
                authority: wallet.publicKey,
                systemProgram: SystemProgram,
                tokenProgram: TOKEN_PROGRAM_ID,
                rent: SYSVAR_RENT_PUBKEY,
            }
        }
    );```
coz I have something like this and it doesnt work...
Thanks you so much. Just wondering where did you get these info?
sure, you can try `program.instruction` or `program.transaction`
after you done `anchor build`, there is a typescript's type file. you can take a look. the file write everything you can use
Hi, can I add anchor instruction call to a transaction, instead of directly using anchor program rpc??
Thank you this works for me for now
here is a useful tool you can take a look https://explorer.solana.com/tx/inspector
can't see full error message, but I guess you have created a token.
maybe just lookup it on explorer. (explorer can also connect to localhost, it will be more easy for you to know every account's status)

and here is some example for spl-token cli https://spl.solana.com/token#example-creating-your-own-fungible-token
Hey can we decode this transaction 
AZ6kaPHpJ5t/KoIs0x3eY001iToJbFNf9nCd0fTYy89JLwHtHZyY5t0S5lPAdjQvzKKIRhFaRPLEqqhPy6IqSwkBAAEDlRuxoz/P4iKgwl3RLkzQO0xlfTM+/B8J/N/ssWGsUCwneFDPDytsM+L+lXfn/UOU0GrbHU8SWYA5FjNPiusw8wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA17QbTyzbDlFi7a7BN/eIvUw4ZBeBmAWcXh/KqTx4WqIBAgIAAQwCAAAAECcAAAAAAAA=
 , What parameters are here
Looks like the token didnt create: spl-token create-token -- token.json
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages]
not sure how you get these data, if you're using metaplex, iirc an image will store in a uri so you will need to update the content in the uri
how you call the cmd? are you trying to mint a huge number?
I think it depends on your design. everyone is allow to create a ATA
you need to wait some time for airdrop transaction to be confirmed
trying to mint a token using spl-token mint on my local devnet and getting the error "RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0xe [5 log messages]" any ideas?
Okey but the token account is created by the contract ?
I think it will from new ones to old ones. [tx3, tx2, tx1 ...]
ideally I think when you stake a NFT. it is just transfer your NFT to a token account which owned by some program's PDA
Hi! 

When a user stake his NFT, were is the NFT:
1) On an account Solana (you can see it on phantom for example) ?
2) On an PDA with the authority for send back the NFT ?

here's my enum in the anchor program:
The error my test is returning

Does anyone know how to pass an enum value from the client (typescript) to a program written in anchor?
```getConfirmedSignaturesForAddress2``` returns confirmed signatures for transactions involving an address backwards in time from the provided signature or most recent confirmed block" (from  https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getConfirmedSignaturesForAddress2). This means if i send tx1 at 1 PM, tx2 at 2 PM, and tx3 at 3 PM this method will return the ordered array [tx1, tx2,tx3], correct?
Proper bugging me this
`"properties": 
  {
  "creators": [{"address": "N4f6zftYsuu4yT7icsjLwh4i6pB1zvvKbseHj2NmSQw", "share": 100}],
  "files": [{"uri": "0.png", "type": "image/png"}]
  }, `

How do I update the image number here? `"0.png"`

I'm using `str(token["tokenId"]) + '.png'` elsewhere
Hi does anyone know what this error means?
`bn_js_1.default is not a constructor`

I think it is a ts error but can't figure out why. For reference, I'm importing the bn module w
`const BN = require('bn.js');`

and am creating bn instances w
` let swap_amt = new BN('1000000000');`
`let min_amt_out = new BN('500000000');`
I never found any tutorial :/ I always being redirected to gemfarm
Hi ! Someone know a good documentation/tutorial for create a pool $COIN/USDC, inject liquidity with this duo and create a Yield Farming with the token received from the injection ?
Solana skating sounds OP üëçüëç
Hey where I get the tutorial for making solana nft skating system?
^ chatted in DMs, looks like this is a different issue unfortunately!
hey seems we have the same problem, did you ever find a solution to this?
thats the response from the wallet provider it seems?
specifically the 'undefined: Transaction creation failed'
was finally able to track some of these error messages down. any idea what could be causing these?
Try to airdrop some $SOL in testnet on new wallet.
Trans is success but balance valule 0
Doing by that github.com/portto/solana-go-sdk
thx bro
https://docs.metaplex.com/token-metadata/specification
Hey do people know how we can make the difference between fungible and nft token for a given token"Mint" address in anchor program ?
Thanks, I'll take a look. Indeed I would like to try to develop a complete system of staking etc... purely for my personal learning. I have to learn to think about the logic of how for example to make a program so that the user can inject a peer in a pool to receive a token that he can use for yield farming for example
when using getSlot with a "finalized" commitment, any idea why it sometimes returns a prior slot that it already returned before? does this indicate a fork?
that should give some good background on pools that is relevant anywhere
its an open market. with different models.  you may want to look into reading more about pools and dex's.  serum has some docs.  uniswap has some docs on how it works. https://docs.uniswap.org/protocol/V2/concepts/protocol-overview/how-uniswap-works
For the token to have a value on the market, it must be linked to a pair like $COIN/USDC (DEX) in a pool, right?
not sure what 'linked' means.  you may want to ask the developer and link to what your referring to.
Hi! I saw a developer who said he created a token and linked it to a $COIN/USDC pool but without using DEX and Raydium. He did it himself with a smart contract. It's interesting but I didn't see any documentation on the subject
Yeah anything
oh ,,, I think we can't use fetch, we use axios.
Glad it helped!


///////////////////////////////////////////////////////////////////////////////////////////////

Which shell function are you referring to?

E.g. in the followin command: how would you use a paper wallet when the -k flag asks for the keypair:

`ts-node ~/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts upload \
    -e devnet \
    -k ~/.config/solana/devnet.json \`
does anyone have any experience with running an accounts db plugin on a validator? I have some questions about getting up and running with a test validator.
Just a shell function for parsing it on the fly / storing it in memory for the lifetime of the deploy script https://docs.solana.com/wallet-guide/paper-wallet
because lots of commands require the key pair as an argument
and delete it again afterwards?
By no means am I a security expert but I‚Äôve been encrypting the mnemonic seed with a yubikey and generating the keypair from seed when I need it
Did you guys use a basic filesystem wallet to e.g. deploy your candy machine and interact with the solana CLI?
Is it secure to have a filesystem wallet as the update authority for NFTs? Especially when working with hidden reveals....

If not, is it possible to use a paper wallet to interact with the solana CLI?
Hey guys, might be a dumb question  but , is there a way to verify the deployed code of a solana program? Like I think here is no "decompiler" or such for BPF, if so please tell me, but just verify the code would be nice 
Thanks kindly for your help and time üôè
yeah no need every programming language has some library available to standard serialization, same for checking the signatures
I'm aware of that, I just wasn't sure if there was a base58 decode function that I'd missed somewhere in the first-party `@solana` libraries üôÇ It doesn't sound like there is though!
RPC part uses base64 too
base58 is an encoding standard and is adopted by solana devs for serialization of byte data that's why
any estimation of how long it takes for a transaction to reach 'confirmed' status on mainnet ?
Nah I don't know if there is one but I'm using `require("base-58");` as well.
Sorry this is kinda unrelated but does `Base58` there come from a `@solana` library? I've been using `bs58` but it's always seemed like a weird omission that you need another lib for that so I'm wondering if I've missed something!
np!
thanks!
web3.js connection
Yeah you were right it was `UInt64`. Thanks a lot!
```js
let instructionData = Buffer.from(Base58.decode(details.transaction.message.instructions[0].data))
let listingPrice = new Uint64LE(instructionData.slice(8, 16))
>> 7999000000000
```
which library is it from?
Has anyone run into this?
I'm confident web3.js is installed through npm
I'm running browserify -r @solana/web3.js -r @metaplex/js -p esmify > bundle.js and I'm receiving the error Can't walk dependency graph: Cannot find module '@solana/web3.js' from '@solana/_fake.js'
Which one would you prefer ?

Ah yeah I put it there just to inform you
I think you should get a uint64 not a uint32

BTW in the first block, the data is base58
and the other fields are hex
Are you sure about the encoding ? Because I'm getting the wrong values i think.
```
>>> Price should be 7999000000000

Data:           39rc9xGK3jTWYDCUUH2xDkk4n
Instruction:    33 e6 85 a4 01 7f 83 ad 
Price:          00 b6 8d 69 46 07 00 00 
Bump:           ff
Bump Authority: ff
```
```js
// Get the listing price log.
let instructionData = Buffer.from(Base58.decode(details.transaction.message.instructions[0].data))
let listingPrice = instructionData.readUint32LE(8);
>> 1770894848
```
it takes 8 bytes, I guess it is a u64
ulong ?
Thanks, do you know whats the type of the price ?
depends on program, but normally we use LE
Also are they LE or BE ?
Thanks for the reply, is this a universal thing or any program can specify the encoding whenever they like to be ?
actually those value are hidden in data.
you can take a look here https://explorer.solana.com/tx/3Eh3xdieLq44TqSdn8dbYZu9LcfFpVv5tZ7UmZ4UaE1QH9RrctLyZFoLBhHv7cpwEMvsSr25vfCn8R3yM384CHcG

the data is `33e685a4017f83ad00b68d6946070000ffff`

the program is written by anchor, the first 8 bytes is function selector
then 8 bytes is price, 1 byes for bump 1 bump for authority

it is very hard to decode it without source code or idl file.
I decode it depends on solscan's result and assume solscan is correct.
Thats not that kinda help I wanted lol
Lol someone just sended me a phishing site
thank you so much
i need the solflare one but then it will be ok
i can have my phantom balance
thank you so much
omg it fucking works
ok ok i'll try to change this
Can some one help me out ?
I couldn't find the values at the `Input Accounts`
That's in lamports, there are 10^9 lamports per sol - that's why my code does `balance / LAMPORTS_PER_SOL`
i dont have all these sol üòÇ
i got ```jsx
392532843```
for phantom i think that's good but i got a format error
Can someone point me in the right direction for learning about on-chain generative art on Solana?
for solflare
for phantom and ```undefined```

as a publickey object, i got
As a `PublicKey` or a string?
yes, nothing for solflare and for phantom i got the pubkey
I'm kinda new to the Solana but we used to use something like an ABI to decode those variables in EVM, are there any thing like that ?
I've tried to use `getTransaction` and `getParsedTransaction` but couldn't find and resources to get those paramters.
Hey, do you guys know how can I parse the parameters of an instruction like this via Web3 Solana ?
(https://solscan.io/tx/3Eh3xdieLq44TqSdn8dbYZu9LcfFpVv5tZ7UmZ4UaE1QH9RrctLyZFoLBhHv7cpwEMvsSr25vfCn8R3yM384CHcG)
Have you tried logging the public key?
what the fucking fuck is it
exactly the same
and i just console.log our connection
fucking reactüòÇ
but not with mine
It works perfectly with your code
It is, but I'm barely using any TS so you can just ignore it: https://codesandbox.io/s/belpxf
is it typescript ?
thx, i will try with this example, it's perfect
TBH I'm not really familiar with the connection code you're using and that could be the issue - maybe try logging `resp` or `resp.publicKey` to see what's going on there

Here's an example of getting a balance in a trivial react app though which might help: https://belpxf.csb.app/
Please can you help
Hi, <@689436112812507155> . I need to get the active listings and make purchase through phantom wallet. I don't have any clue from where will I get the active listings for nfts
I think it's `mainnet-beta` but yep exactly
so you need to use the solanaWeb3js library
Yes
do you know react.js ?
Is there anybody to help me to connect solana wallet in react native app?
Hello
from `getMultipleTransactions`
theres a `.blockTime` u can use
getBlockTime response gives me block hash
Does anyone know how to get solana transaction date?
Yo!
just have to replace with ``mainnet`` or ``testnet`` ?
if i wanna use the testnet or the mainnet
```Web3.clusterApiUrl("devnet")```
what about this line :
aaaargh
but no console error, just nothing
idk where is my error
```jsx
    if ("solana" in window) {
      let provider = window.solana;
      if (provider.isPhantom) {

        try {
          let resp = await provider.connect();
          setAccounts(resp.publicKey.toString());
          setConnected(true);
    
          const connection = new Web3.Connection(Web3.clusterApiUrl("devnet"));
          const accountTokens = await connection.getBalance(resp.publicKey);
          console.log(accountTokens);

        } catch (err) {
            // { code: 4001, message: 'User rejected the request.' }
        }

      }
    } else {
      window.open("https://phantom.app/", "_blank");
    }```
<@!492411676889710592>  Ok, just it doesnt works too...
Thank you so mmuch for your help, u can't imagine how much does it helps me
i need to upgrade my skills to ask the personalised token balance
ok  i'll try this at the moment
If you just want the balance in SOL then that's a different function and much simpler - `connection.getBalance(publicKey)`
So if i wanna get the balance in Sol i have to ask the tokenId with the public solana adress ? (the token)
There's a bit more documentation about these params in the JSON RPC doc you were looking at before BTW: https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
Ah I didn't notice that was required

It's defined in the docs here: https://solana-labs.github.io/solana-web3.js/modules.html#TokenAccountsFilter

`{ mint: PublicKey } | { programId: PublicKey }`

So you can either pass it a mint, or a program ID. I'm not sure what passing a mint would do, I guess it'd just give you the token account for a single token which I don't think you want

So maybe you want to pass a `programId`? You can get the token program ID from the @solana/spl-token library: https://solana-labs.github.io/solana-program-library/token/js/modules.html#TOKEN_PROGRAM_ID
but idk how to get this one
it's an object with mint and programId
and can't understand this in the doc
and i don't know what is this
i need to take this arg too
ok, i have a problem. Now i dont have errors when i take the publicKey, but what about the Web3.TokenAccountsFilter ?
ok i'll try this
??
All of these libraries are written in TypeScript so if you check the docs (https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountsByOwner) you can see the types it's expecting:

`getTokenAccountsByOwner(ownerAddress: PublicKey, <snip the rest>)`
I suspect you need to do `new PublicKey('2PBng191iHpd3jfUuivdnJF85Sh7obqTy8pq8rfjDPUP')` and pass that `PublicKey` in instead of the string

i got that errror :
so i put 2PBng191iHpd3jfUuivdnJF85Sh7obqTy8pq8rfjDPUP in accounts
i have some Sol on the devnet
i got the public adress it's 2PBng191iHpd3jfUuivdnJF85Sh7obqTy8pq8rfjDPUP
i did a normal connection it's window.solfare.connect
ok, i'm log with solflare on the devnet
does anyone know how to pull all transactions from a solana wallet on to a cvs in the most efficient way?
in other words what binds NFTs into a collection, blockchain-wise
GM guys, i hope yall doing well
i want a know to if there is a way that i can get  the addresses of all NFTs from the same collection
like if there is a magical method that takes a collection name or update authority or whatever that NFTs from the same collection share, and returns a list (array) of NFTs adresses
Question: Is it correct to say that associated token accounts can't be a signer in a transaction? Or is that too simplistic/incorrect?
And what does that log? Have you tried logging `accounts` too just to make sure it's exactly what you expect? Also note that it expects a `PublicKey` object as that input
accounts is the adress of the wallet connected
```

            <a className='menuLink' onClick={getBalance} id='disconnect'>getBalance</a>```
and here is the moment that i call the function :
Here is my code,
```

  async function getBalance() {
    const connection = new Web3.Connection(Web3.clusterApiUrl("devnet"));
    const accountTokens = await connection.getTokenAccountsByOwner(accounts);
    console.log(accountTokens)
  }```
Hi, sorry to disturb you a second time, it doesn't works
I've seen quite a dodgy connection to devnet a few times in the last 10-15 minutes, so it might just be that. Eg I saw phantom, solscan and solana explorer having issues with various requests
Hi, solana/web3.js `connection.requestAirdrop` fails on devnet with Internal Server error, any ideas?
oh i see !
No sorry, I have a full time job and nowhere near enough knowledge or experience to be a paid tutor!
can you tutor me
I prefer to help in channel when possible, it helps others too and lets people jump in if they have a better suggestion!
can u accept friend request
No worries! There's a tonne of functionality already in the `@solana` JS libraries so they're a really good starting point for anything like this
thank you so much it's so simple haha, two days that i'm asking everywhere
This is on the `Connection` object in `@solana/web3.js`: https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountsByOwner

```
const connection = new Connection(clusterApiUrl('devnet'))
const tokenAccounts = await connection.getTokenAccountsByOwner('your-address')
```
thank you everyone who takes time to answer
the idea is to print the user's balance like solanart.io did it
here is the doc, but the request uses curl, anyone to helps me to understand how it works and then i can adapt it in react.js ?
https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
as we can do with getBalance in Metamask
i'm trying to get the balance and the table of all the tokens in a wallet when he's connected
Hi everyone, i'm a young dev, can i ask for some help ?
Sorry to ask such silly questions but i am new to Blockchain development
And also what is seed?
How to get active listings of nfts on solana
got it up
probably both at the same time
down or really slow
solana devnet down?
Hi! As far as I know `solana_program` crate is used to develop Solana smart contracts. It also writes to use `solana_sdk` to develop Solana clients. But what about `solana_client`? What is it for?
Hi guys! Anyone of you know how to get the very first transaction history of an account?
I've got issue with `crypto` module on react-native app with solana web3. Issue link here https://github.com/solana-labs/solana/issues/23772 , does somebody know how to fix it?

hey I am getting this error while fetching metadata of the token, any clue what could be the problem?
Hello every one, I'm going to write a program for a simple market place. The seller send me the token and I will create an account for showing it's price. Is there any example of this case? Thanks
thanks
Hello... i have a question 
I made spl-token in Mainnet-beta 
Also i use token-list -> PR 
But i mistyped token address 
https://github.com/solana-labs/token-list/issues/22698
Idk how to fix them üò≠
for all programs in general there is no etherscan or place to view them all easily persay.  many of them are open sourced online, in github, and various places currently. others are still working on tooling for these kinds of availability   otherwise https://github.com/solana-labs/solana-program-library and associated github is a great place to start.
Hello everybody. I have a question: Where can i view the source code of  a deployed Solana's program?
??
these error occurs
Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x4
react_devtools_backend.js:3973 Transaction simulation failed: Error processing Instruction 0: custom program error: 0x4
maybe just follow the cookbook's steps and try again
maybe https://docs.solana.com/integrations/exchange#listening-for-deposits
it give invalid account argument
how you transfer your token?
maybe take a look at https://solanacookbook.com/references/token.html#how-to-transfer-tokens
and you need to transfer your token to a token account.
I couldn't find onLogs function?? Is it named in a different name?
spl token specific stuff is in a separate package that depends on web3.js https://github.com/solana-labs/solana-program-library/tree/master/token/js
any one
if the program is not ssytem program owned, it cannot be used to sign transaction since its SOL balance cannot be debited.
This is a token account, so token program owned
24 again.
this time it was limited to 22
ü•¥
creating accounts and pumping sol :-;
thats sad ...
Looks like it, yes
Hi I am using Connection.onLogs from "solana/web3.js" I am getting logs whenever SOL token transaction occurs but I am not getting any logs when spl-token transaction occurs. What should I do to get log whenever I do any transaction of spl-tokens?. I am sending public key as the paramater
you are limited to only like 24 tokens ?
??
got that error ü•≤
ye
`Error: airdrop request failed. This can happen when the rate limit is reached.` this is the error you get when you're limited
seems like i just reached limit for my other account to  airdrop sol ;-;
{code: -32003, message: 'Transaction creation failed.'} on  sending token to contract transaction
guess gonna cli airdrop now
```shell
solana config set --url https://api.devnet.solana.com
solana airdrop 2 7aJymKMpkJMUum98TLyAm1esGnAc7dPpDqxyStVzzAMH
```
I'm using the CLI
which site are you using for it ?
https://explorer.solana.com/tx/3vSsiugBcu35wAp9fyM31kEH2i1R8ZKSxxigDaYqYWCzk6opku9XZMLHCMYZ9HTtAG1DmMuynP2njxDNeCiR5po8?cluster=devnet
on devnet. Thank you
7aJymKMpkJMUum98TLyAm1esGnAc7dPpDqxyStVzzAMH
Thanks heaps brah.
Feel free to send me your address and I'll send you some
Looks like it works here.
ü•≤
Hi, im not able to airdrop in devnet? is there any issue?
Thanks for the info!
And if I understand it correctly, the fee payer which has close authority can close when it has 0 KIN and then I can re-create it later?
Thanks, that makes a lot of sense. Probably because it's created by another fee payer.
you need to use another account as a fee payer. the SOL in this account is rent. you shouldn't do anything to this balance unless you want to close this account.
also if some account wants to be a fee payer, there are some rules need to follow
1. the account should own by system program
2. the account's data size should be zero
I got an issue with this account, this account owner and associated token account are the same.
 
https://explorer.solana.com/address/Don8L4DTVrUrRAcVTsFoCRqei5Mokde3CV3K9Ut4nAGZ/tokens?display=detail

When I load the account into a wallet like Solflare or Phantom I see some SOL, but when I try to transact some tokens I get an error message: `This account may not be used to pay transaction fees`

Any idea what's wrong with this account and how to fix it?
Just checking on 1.9.x versions of solana, deployment to mainnet just doesn't work? (Am just writing a buffer)

`Error: Custom: Invalid blockhash`

Fine if revert to previous versions of solana cli, devnet deployment works fine as well.
NM. Solved it. I had to use `navigate` instead of `href` to navigate to different routes.
Has anyone ever encountered a problem using  import { useWallet } from '@solana/wallet-adapter-react';  with  "react-router-dom": "6.2.2"

For some reason, the wallet keeps getting disconnected when navigating to different routes. Any recommendations?
Ok, I thought so but I figured I'd ask. Thanks for the quick reply Chido üëç
no. if your mint has been created, you can't revert it atm
gengo is good for RPC requests but solana-mainnet rpc is the way to go for sending txs to mainnet imo
wouldn't recommend gengo for sending txs -- use solana mainnet rpc
Hey all - I minted a token with the wrong amount of decimals. Is it possible to remove that mint (and re-mint it again) or change the decimals?
i dont remember the exact version but it was 1.8 something
like just copy paste that command
its literally the word stable lol
which exact stable version did you use to be able to deploy?
but just be aware the stable cli does not have features like account dumps
instead of `sh -c "$(curl -sSfL https://release.solana.com/v1.9.13/install)"` u do `sh -c "$(curl -sSfL https://release.solana.com/stable/install)"`
no i used the curl command
ah, did you have to do the manual installation process as well for these older versions?
does anyone know why  `"Program log: Instruction: Transfer", "Program log: Error: Operation overflowed"` occurs on token swaps?
stable should be ~< 1.8
i had the same thing
try downgrading to a stable cli version
Hey I can't deploy programs on solana version 1.9.10 on an M1 mac, does anyone have any ideas on what's happening
using genesysgo
I suggest you use a good RPC provider.
I don't know if it's just me, but development on Solana has been a real struggle in the last month or two with consistent network issues
üòï
```
Error: Transaction was not confirmed in 60.01 seconds. It is unknown if it succeeded or failed. Check signature 2Veqgh8JDHaahq7SNDy4ntBbJJ27NgaLqBviww1tj6i24zwijx1nK6LMdZ5gk1Vy3dDJ9qQugiLwtT4TRbUdGMdL using the Solana Explorer or CLI tools.
```
four back to back transaction broadcast failures
ty
interesting
also make sure you use a finalized blockhash
ü§î
it wouldn't know about that blockhash
usually that is when you grabbed a hash and simulate against a node that is behind
yeah
`Blockhash not found` becoming a recurring issue
ah you mean why blockhash not found
no I mean get*Recent*Blockhash
```
curl https://ssc-dao.genesysgo.net -X POST -H "Content-Type: application/json" -d '
>   {"jsonrpc":"2.0","id":1, "method":"getVersion"}
> '
{"jsonrpc":"2.0","result":{"feature-set":1006352700,"solana-core":"1.8.14"},"id":1}
```
because it is implemented from 1.9.0
sure but why would that cause `getRecentBlockhash()` to fail
for instance genesys go isn't
some rpc might not be on 1.9
it is deprecated in favor of `getLatestBlockhash()` but this too results in an error `Method not found` on rpc
using `getRecentBlockhash()`
```
Transaction simulation failed: Blockhash not found
```
Been getting this error more frequently:
I was curious what you were doing where you needed to explicitly call that method
Did you ever get an answer to your question?
Any recommendations will be super helpful.
Hey guys, what are the best/recommended solana RPC nodes with unlimited/high rate limit? 
Folks from triton (https://rpcpool.com/#/) replied they have like 2 weeks waitlist and never get back after.
Hi ! Quick question here (screenshot). In the case of mainnet, we are forced to use our custom RPC? So it becomes completely public? Is this not a problem? If someone takes it, he can use it to do anything
or if before that il pay somone 1 sol if they can get a fix
im going to stop now and try again tommorow. If in roughl;y 24 hours I cant work it out   still  il pay someone 1 sol for a fix
I tried that, still no differnetü§î
<script src="https://unpkg.com/@solana/web3.js@1.29.2/lib/index.iife.min.js"> that?
You need to install @solana/web3.js
the code that retrievs the data
I get the transaction data through a request with blockchain api
where the transactionData is simillar to this


hmm with that i get this error
the base of the pda is to not have secret key ?
so why when we create an account we provider earlier in the client a keypair
hey simple question using init in the attribute create a PDA right ?
Hey, can you try using the `window.solana.signAndSendTransaction(transaction) `function instead of request?
https://docs.phantom.app/integrating/sending-a-transaction#:~:text=Signing%20a%20Transaction,possible%20to%20do%20with%20request%20      Im using this. Il pay 0.25 solana for a fix
Is it possible to have a user sign a transaction once, but split up where it‚Äôs being sent? For example, the user pays 0.10 SOL to play a game - 0.03 goes to one wallet and 0.07 goes to a different wallet?
il pay at this point if someone can fix my issue lmao
its really hard to check errors as I cant check errors on the phantom wallet app and thats where the issues are apearing
thats getting parsed into there, works on desktop but not on mobile üòï

an example of the transaction data is:

I cant get the phantom wallet app to pick up my transaction, it works on desktop but not on ios
Hi. This is probably not the best channel, but I  wanted to report somewhere that navigating with the browser "Back" button is kinda broken in Solana's Ecosystem page. 

How to reproduce: go to https://solana.com/ecosystem, search for example for "oracle", then click on a project. Then when you click on "Back", it doesn't do anything. I expected it to take us back to the search results page.

 Is there a better place where  I could have reported this? Thanks!
is lastValidBlockHeight in the returned object the same block height as the returned blockhash?
For the web3.js function `getLatestBlockhash`
Anyone?
Did u ever get it fixed I got the same issue
They are pretty much the same thing
Is it even possible for them to be owned by something else?
Are all NFT tokens owned by the token program? `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`
Sorry, i'm looking specifically for the Typescript bindings and examples
Actually no, i was looking at this one: https://github.com/project-serum/oyster-swap
This one? https://github.com/project-serum/serum-dex
I was able to find serum's open source repo for swaps, but it looks like that repo is 17 months old and does not work as expected anymore. Are swaps strictly using SPL token library still possible and recommended?
I'm actually wondering the same thing as <@!848051446943186964> here. I just checked the cookbook and couldn't find a simple example of using the SPL token swap functionalities.
I'm interested in using the Solana SPL token-swap program for my application. With this SPL token can I use it to swap with USDC-solana and send a fee to my account for using my dapp? I was looking into creating my own token-swap program but it looks like I can just use the Solana SPL token-swap program here: https://spl.solana.com/token-swap
I have a question on block data: Is it possible for a solana block to contain zero transactions?
From another perspective: Does every block require (specific) vote transactions, does consensus allow for empty blocks?


///////////////////////////////////////////////////////////////////////////////////////////////

Getting this error on my M1 when running `anchor build`
I've got 14k accounts from `getProgramAccounts`  with web3js and then filter it for the current user, it takes near 30 seconds to load them all( Any ideas how to speed up this?
Guys can i ask u? i heard about that MEtaplex is slow is taht true because i went throught the files and didnt find reason why ppl say that
if I combine 2 instructions into one transaction, I get one signature right ? but when I look up this transaction signature in the explorer it only has the fee that relates to one of the instructions. Is there a way I can find both related fees easily ?

The reason I ask is that in my app I keep a record of every signature and later on (asynchronously) I look up the transaction to also make a record of the fee in lamports. But if only one of the fees is recorded then there is a gap in my records. The only way around this would be to do the 2 instructions in 2 different transactions in order to be able to find info on the 2 related fees
I have question, Solana cli allow us to deploy to existing program-id. Does that me someone else can replace my program if they happen to know my program-id?
I should explain better, I wanna adapt some sort of gamified app to web3 that will give user reward (ex an spl token) but logic for balances, rewards and so would keep on current web2 system. Was thinking how I could do a system that allows users to claim it base on that web2 balance I thought on offline trx presigned by the system wallet and then user will submit them
duplicate transaction?
Thanks appreciate it, I have an iPhone as well fyi
can offline transactions be sent multiple times?
ah i see
because of shitbags abusing it to imperonate staff and scam people
banning other chains i can understand but sol?
yes, but why is having 'sol' in a name banned on a solana discord
you have it too! so its just bizarre to me
Looks pretty self-explanatory
so, erm my dev friend tried to join and? what?
Hey, does solana support mp4 videos ? 
Like if I'm an artist and wanna sell a music video as a NFT, can it be done on solana ?
thank u, yeah it should be a phantom issue, tried it with slope and it worked
FWIW someone reported an issue like this in the Phantom beta group (which is for their Android beta), so it might be an issue on Phantom
i have the exact same issue
You are right it worked with Glow wallet hmm ü§î
seems like it would be related to some validation, and having to do with phantom most likely?
The send is grey‚Äôd out
Hi I am having issues with being able to send tokens to my SolanaPay QR code
and maybe account #4 aswell
https://explorer.solana.com/tx/5npDLuMg4sCUSmtbmkdTZbz1UqmMJRxNhfCWJdH3aexAG3aMXY6gYBw7sn55d4HhCkQSCHKNrkEiXnyWxG7qMD6T Hello... how would you generate the #11th account in #6? i am trying to mint via python and am quite stuck here
<@!788215642070581289> thank you! Everything worked
if you approve some account to transfer your token, the delegate will be the account and there is another value called delegate amount, it will also be set
im guessing just just 32 nevermind
Yes I know! I've chewed the glass, what is the specific offset here though. Assuming I only have the publickey of a wallet
there are many different use cases, if you just want to find all token account owned by some owner, you can use https://solanacookbook.com/references/token.html#how-to-get-all-token-accounts-by-owner
What is Delegate btw?
So I've written memcp filters before to get all tokens owned by a specific wallet etc
The answer is always getProgramAccounts lol
you can take a look here https://solanacookbook.com/guides/get-program-accounts.html#facts
the main idea is that a mint account is token program's account
and mint authority is stored in the mint account
so you can get program accounts and specific mint authority
but it won't be very instinctive
anybody can help me?üòî
you can init a random account as a mint then specific a PDA as its mint authority.
Thank you
Ah I'm dumb. I had the URI metadata selected. Yes they did follow the metaplex metadata format
Is there a way to look up mints by mint authority?
hello,
anybody can help me?
I want to integrate Solana wallet adapter to a react native app.
how can I do this? which npm is good for this?
Dapps already commonly use Vercel and other serverless hosting providers. Octane needs to respond to simple requests quickly and doesn't need a persistence layer or background jobs, so serverless API functions are a good fit for it. Octane is also a proof of concept, so you could extract what you need and run it in your own environment. Do you have a different idea about how you want to do that?
Hey there! Is it possible to create a mint token account and then transfer ownership to a program and its data account? Or does the mint token account necessarily have to be a PDA?
You need to change your declare_id! to match that 7uQ... thing and then rebuild + redeploy.
That error is unrelated to the ANCHOR_WALLET variable. It means that your `declare_id!` doesn't match your actual program id, which in this case is apparently 7uQ....
yeah probably custom program code could ignore in checks i saw contract there was no optional thing next to that.
Hello everyone, i have created spl token in Solana, how to implement presale functionality here ? Any ideas ?
Hey guys. I'm stuck on this. I try to set the ANCHOR_WALLET variable to the path I get from running "solana config get keypair", as described in https://project-serum.github.io/anchor/tutorials/tutorial-0.html#generating-a-client. If anyone has any useful info or tips, I would be forever grateful
I don't know, but I'd be surprised
Unlikely that that did what you want it to
idk how but systemprogramid worked
ah ok nw
Ah, ok, maybe that will work? I actually haven't tried doing an account dump before‚Äîmy bad, misunderstood
How are you going to load it? Maybe I'm misunderstanding the approach you're taking
it should be the same thing as an account dump + load no?
that it shows me error "Error: InvalidArgument" while validating rent. if i pass it masteredition it goes over that statement fine but then throws error on statement where i uses master edition
wdym, why cant I modify the accountInfo data directly, save as json and then load that accountInfo on my local validator setup?
Only the token program itself can write to a token account‚Äîyou can't do that write yourself
You can't write to token accounts like that, unfortunately
i want to setup a local-validator-node with an initial token balance for token X but on mainnet the ATA has balance 0, so the idea is to grab the accountInfo of mainnet, change the account field to something > 0, and save locally
Just don't pass the account at all
can someonr please explain this error :

mint.toBuffer is not a function

when trying to call :

const takerAta = await tokenMint.getOrCreateAssociatedAccountInfo(
      taker1Keypair.publicKey
    );
if a field is optional like

```
{
                "name": "masterEdition",
                "isMut": false,
                "isSigner": false,
                "optional": true,
                "docs": [
                    "The master edition of the metadata (optional if exists)",
                    "(pda of ['metadata', program id, metadata mint id, 'edition']) - remember PDA is relative to token metadata program"
                ]
            },
```

then what do we pass pubkey in js instruction?

```
        // {
        //     pubkey: None,
        //     isSigner: false,
        //     isWritable: false,
        // },
``` what should be the pubkey???
how do I get the llvm-objcopy dependency fixed?
i've checked the folder and it's right, llvm-objcopy doesn't exist
trying to work with Solana on Ubuntu for first time (usually macos)
`/root/.local/share/solana/install/releases/1.9.1/solana-release/bin/sdk/bpf/scripts/strip.sh: line 23: /root/.local/share/solana/install/releases/1.9.1/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/llvm-objcopy: No such file or directory`
<@!150787664553967616> why octane is built in such a way that it can work with vecel, is there any specific reason for that?
Thanks, I'll try that now
https://github.com/solana-labs/solana-program-library/issues/2683#issuecomment-1059266041
thanks a lot
I saw this error before, try installing `@solana/buffer-layout` package. I think it's some kind of bug in the spl-token package
Still the same error
Just do `let program_id = Pubkey::from_str("asdfadsfasd").unwrap();`, forget about the result stuff
<@!134416332509675520> do you know how can make this expression of Result<> into &Pubkey?
Can you just do `Token.TOKEN_PROGRAM_ID`, after that import I suggested above?
Returns this ```Uncaught TypeError: fields must be array of Layout instances
```
```import { TOKEN_PROGRAM_ID } from '@solana/spl-token';```
Auto-complete should (hopefully) be your friend
What have you tried so far?
How does the new version want me to import ```TOKEN_PROGRAM_ID```?
Why are you directly mutating some JS objects like that? I'm not quite sure what you're trying to do ü§î
ah thats why i was getting error when i tried to npm install that
I'll try
That snippet is out of date
It states ```import { Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';```
but this returns ```export 'Token' (imported as 'Token') was not found in '@solana/spl-token' (possible exports: ACCOUNT_SIZE, ASSOCIATED_TOKEN_PROGRAM_ID, AccountLayout, AccountState, AuthorityType, MINT_SIZE, MULTISIG_SIZE, ......... transfer, transferChecked, transferCheckedInstructionData, transferInstructionData)```
oh sorry
Latest versions of the lib got rid of that export
Can you do `import * as Token from "@solana/spl-token"`?
Does anyone know the correct import for the Token object? Its not exported from the token library according to my logs. (From the Solana Cookbook)
thanks + have to import use ```std::str::FromStr;```
`Pubkey::from_str()`
does anyone know why this doesnt work when setting the token accounts balance? : when i use this account with a local-validator i get overflow errors from the token transfer account 
```
let init_balance = 2 * 10 ** mint_decimals; 
token_acc.amount = (new token.u64(init_balance)).toBuffer(); 
let data = Buffer.alloc(AccountLayout.span);
token.AccountLayout.encode(token_acc, data);
```
can anyone tell me how can i create rust Pubkey object from strting of "p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98"?
I will try it
https://stackoverflow.com/questions/69245982/import-phantom-wallet-private-key-into-solana-cli
I try it but i dont know how to obtain keypair.json from phantom
I don't remember for sure, but maybe it's not possible in Phantom. I think Phantom will use a different derivation path than the CLI, so you always get different addresses. You can try doing it the other way around: create a seed phrase with phantom and then import the private key in CLI or seed phrase (while specifying the derivation path).
welp! thanks man!
Solana-keygen new ‚Äîword-count 24
How did you create the seed phrase?
Hi, someone knows how to open paper Wallet in Phantom. I have seed phrase but open many wallets Different from the one I have created
This means that it use local environment
Well, if you know the program that owns the account and it is an open source program you can look at how it lays out and serializes the data (they are not all borsh)
```js
const checkIfWalletIsConnected = async () => {
  try {
  const {solana} = window;
  if (solana) {
    if (solana.isPhantom) {
      console.log('Phantom is found!');
      const response = await solana.connect({
        onlyIfTrusted: true
      });
      console.log(`Connected with public key: ${response.publicKey.toString()}`);
    }
  }
  } catch (error) {
    console.error(error);
  };
};```
things I learned today
Think thats the root
Boom!
If the link works in your browser, but not in explorer or in a wallet, it could mean that you didn't set the CORS headers, you can check it in your S3 bucket > Permissions
I've tried with ipfs - pinata so its definitely an aws issue üò¶
Did you set Allow Origins to *
CORS header maybe?
```js
const provider = anchor.Provider.local();
```
What does this mean? provider? and local??
Tried this - didn't work. Also tried adding metadata from the upload. - fyi <@!492411676889710592>
I wanna use the `VoteState` struct in my program, but it's not possible

Do you have any idea why the `solana_vote_program` doesn't compile against the BPF target?
And then edit Content-Type to application/json
I didn't see this before, maybe you did something wrong when uploading. If you are using the web interface, try to open the exact file and go to Object actions > Edit metadata
I've set Content-Type in S3 before, from this SO it looks like you can only do it on create/copy: https://stackoverflow.com/questions/41015200/how-to-change-content-type-of-amazon-s3-objects - so probably re-upload with Content-Type set is your easiest bet
any idea how to set this up? come across this before?
Hmm - yes that could be
Arweave link has `application/json; charset=utf-8`, aws has `application/octet-stream`
I think the problem is that the reply from aws link doesn't set the Content-Type header correctly
the AWS has public access (anyone can download the metadata). I've tried to make the metadata exactly the same - <@!489206164270350337>
It's probably an access or formatting problem
thanks in advance!
any ideas why this might be? Any fixes or suggestions?
https://solscan.io/token/84VgCBi6YYzUnjtnmRBxxMbNN63xTp1EiuNgs38Q9FCK?cluster=testnet#metadata
https://solscan.io/token/9b1EQFhG3GHCcC99rTTAW8Y6rvihZgpaka7uhJxrC7MH?cluster=testnet#metadata
Hi there - I'm having difficulty getting metadata loaded in solscan. Both URLs contain the same data (one is AWS, one is arweave) - arweave works, aws doesn't.
I was looking at web3.js in my local project (^1.36.0) and it doesn't use that, sha256 just returns a string
not pretty sure but just guessing the first version of createProgramAddress use an async sha256 func
https://github.com/solana-labs/solana/commit/a29e08816938e92f7093f50aa54bb44d512a2f0e
I was trying to pay for it with an account owned by my program. It seems account must be owned by system program
Hello, in web3.js why is `PublicKey.findProgramAddress` async? To me it looks like the implementation doesn't use any async functions.
yes. if you want to decode data of an account, you need to know the struct because you can only get a byte array when you use get account info. you need more context  to separate them into meaning segment
before you deploy a program, use `solana-keygen grind --help` to find a pubkey you want
you mean you wants to use a PDA to pay an account rent ? if yes, yes you can.
just remember only an account which 1) owned by system program 2) data size is zero can pay for it.
thanks i was passing my custom wallet account but need to pass associated account with wrapped sol as mint
I think you should pass an account which data size match
hello there everybody! I want to burn a transfer tokens from a Wallet let's say A to wallet B and wallet B is the one that calls the function to do so i need to send wallet A as a signer as well in the transaction to the blockchain but to do that i would need to put the keypair of wallet A on the frontend code and that is not a safe approach! 
Is approving the tokens to a pda from wallet A the answer to this question or is there any other way I can go about doing this?
So best way is just ask in their discords and there's no better alternative? Couldn't find sources for those either.
As <@!788215642070581289> pointed out, your using a structure/schema of accounts that are consistent with the cookbook which is implemented around a different program
The account you passed is not an account consistent with that program
```js
const {solana} = window
```
What does this mean? How can window object have solana properrty?
how can we have custom program address like [ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL,SSwpkEEcbUqx4vtoEByFjSkhKdCT862DNVb52nZg1UZ] ?
Hello,
I am trying to create a PDA.
I choose an account owned by program for from_pubkey parameter. 
However i get this error : instruction spent from the balance of an account it does not own. 
Is it possible to pay with a program owned account when creating PDAs?
hey i am passing my wallet address here. but getting error invalid data. any one have idea why i am getting this error?
ps: my input length is going 0.
id go ask in their discords, many of them have special methods, wrappers, and sdks for their particular protocols.
its intuitive to know what your asking for.  account data can be anything. its serialized also in different ways. so based on the data you need to know what your asking for and how to deserialize it. this is the luxury of flexibility right now.   an amm data is not standard, they are likely all custom.
any one how is working with solana contract and integrate it with React js
I basically want to implement something similar to https://api.solscan.io/amm/read?address=EGZ7tiLeH62TPV1gL8WwbXGzEPa9zmcpVnnkPKKnrE2U
It's a token swap account (amm) so it should be at least standardised somehow right? 

It's kinda unintuitive that you need to know data layout before, I think that's what abi in ethereum used for.
I would also ask their discords, most are helpful.
it depends on where you getting the data from.  as people pass different data layouts.  so if its a non standardized format,  like token for example, you will have to look into or ask the protocol or addressee, or see if they have docs or open source for their products and tooling, or an sdk, instruction list, and so forth.
if you 'read' the first 2 sentences here, it says this.   account_schema is defining the data layout, for which you must have incorrect, based on the account your trying to retrieve.
Thanks. And what's the way to get account schema in a first place?
when you get account info, u generally need to know the format to expect so you can deserialize,  the address is also different than what you initially sent,  more than likely your going to have to figure out the acount info data to deserialize, especially from a custom potocol.  there is no 1 deserialize fits all, and the example shows according to the account schema, as that is the schema it is expecting.
```
    return account_schema.parse(base64.urlsafe_b64decode(data['value']['data'][0]))
``` line caused an exception
Nope that's just a playground, dots mean there's a code i've removed for clarity. Updated example to be working as is.
hmm.. so what line actually raised the error,  and do u normally switch things around and put imports inside of functions?
```
class MyClass:

    def get_account_info(self, client, account_pk):
        """Fetch account information from RPC, parse out the data and deserialize"""

        import base64
        from borsh_construct import CStruct, U8, U32, HashMap, String
        from solana.rpc.commitment import Confirmed
        from solana.publickey import PublicKey
        from solana.rpc.api import Client

        # Schema to deserialize program's account data
        account_schema = CStruct(
            "initialized" / U8,
            "map_length" / U32,
            "map" / HashMap(String, String)
        )

        res = client.get_account_info(account_pk, Confirmed, encoding='base64')
        data = res['result']
        if isinstance(data, dict):
            return account_schema.parse(base64.urlsafe_b64decode(data['value']['data'][0]))
        else:
            raise AttributeError(f'Unknown RPC result {data}')

    def _get_data(self, address):
        from solana.rpc.api import Client
        http_client = Client("https://api.mainnet-beta.solana.com")
        info = self.get_account_info(http_client, address)
        print(info)


MyClass()._get_data('6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj')
```
what does your calling code actually look like?
not that I am aware of. If you look up some of the NFT marketplaces they may have a devnet for you to test.
fixed that
what you're doing wrong is using way too much whitespace to post
Hi, I have just minted a NFT using metaplex in local, I am able to see NFT in phantom wallet and solscan
Do we have any online marketplace where we can see the NFT minted on devnet/testnet?
Hey guys. I'm following:
https://solanacookbook.com/guides/serialization.html#how-to-deserialize-account-data-on-the-client
guide for Python to deserialize data from account.
client is: 
        ```http_client = Client("https://api.mainnet-beta.solana.com")```
I'm using `get_account_info` func from example for following account: `EGZ7tiLeH62TPV1gL8WwbXGzEPa9zmcpVnnkPKKnrE2U` and it fails with an error:
```
    raise StreamError("stream read less than specified amount, expected %d, found %d" % (length, len(data)), path=path)
construct.core.StreamError: Error in path (parsing) -> map -> items
stream read less than specified amount, expected 117440512, found 735
```
What am I doing wrong here?
i just rebased master! ty
I cannot use anchor. It's Windows
```E:\solana\udemy>anchor --version

Only x86_64 / Linux distributed in NPM package right now.
Trying globally installed anchor.
Could not find globally installed anchor, install with cargo.```
CI's already red, can't make it much worse üòâ
just merged it
Oh I see. So because there is no recipient account. I let `spl-token-cli` creates it when transaction occurs?
thank you <@!585868308419444749>  ! i'll rebase as soon as this gets merged; may need to sleep first tho
gm. https://github.com/solana-labs/solana/pull/23825
not sure if this is the best channel and apologies if its already known, but seems like solana master is failing CI? 

https://buildkite.com/solana-labs/solana/builds/68374#cecec33e-e6f9-4380-8dee-c50ef02efc74
Your TX will create it first, that's what you're acknowledging
`this flag makes the sender acknowledge that recipient account doesn't exist`
How can I transfer tokens if the recipient account doesn't exist?
the token account must be rent exempt (hold a minimum SOL balance).  this flag makes the sender acknowledge that recipient account doesn't exist and they're willing to deposit the rent-exempt reserve balance
thanks man.
--allow-unfunded-recipient -> this is intended to prevent a transfer to a bad address
--fund-recipient -> if the recipient doesn't have a token account yet, the sender can chose to pay for it with this option

I didn't understand what `the sender can chose to pay for it` means
https://discord.com/channels/428295358100013066/517163444747894795/951298265037549649
maybe try an official node. I'm not sure genesysgo whether a full node. ideally a normal node will only remains few days data.
you can use https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getFirstAvailableBlock to check
I was trying to use ```bash
spl-token transfer <token address> <balance> <wallet address> --url devnet --allow-unfunded-recipient --fund-recipient
```
```
--allow-unfunded-recipient --fund-recipient
```
What are these?
I'm using the ts web3 library, and sometimes `conn.getTransaction(sig)` returns null. I'm using genesysgo as my RPC. Any ideas as to why this is happening?
```bash
spl-token create-token --url devnet
//token address: A
```
```bash
spl-token create-account A --url devnet
//token account: B
```
```bash
spl-token balance A --url devnet
// 0
```
here the balance means token balance in the token account B?
can i dm you ? <@!788215642070581289>
hmm thanks man
there is an output file, you can cat it or open it. it is a byte array.
```bash
solana-keygen pubkey```
I have the private key? how can i see the private key? I can see only pubkey
to be more specific, when you do `solana-keygen new`, you create a ed25519 keypair.
you have the private key. Solana's account based on it, so you can use the keypair on mainnet, testnet, devent. even the other chain which support ed25519, like near
what does it take to become a contributor?
Did I understand it correctly?
I could find my wallet in mainnet then converted it to devnet and the wallet is there.
it seems like wallet is just an independent program and it can be connected to different solana networks.
When I do ```
solana-keygen new```
does this mean I create my solana wallet on all solana networks or only devnet?
hey guys i have a question
What about 1.10?
where is some info about it?
Fees did not change with the mainnet upgrade to 1.9
Mainnet 1.9
whats the new fees structure?
Hi how will the new fees structure impact market makers?
Anyone knows how to decode account data from geyser ReplicaAccountInfo?
https://docs.rs/solana-geyser-plugin-interface/latest/solana_geyser_plugin_interface/geyser_plugin_interface/struct.ReplicaAccountInfo.html
if the NFT follow metaplex's rule, the creators should be stored in a metadata account.
https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata
np!
thanks again
Where is this creator stored? It's not in the metadata. What RPC endpoint can I hit to find this?
Ahh thank you. This is a good lead.
What if I wanted to build a Verkle tree version of the Merkle distributor contract, how would I go about it? Is it possible to implement a Verkle tree version of this

https://github.com/saber-hq/merkle-distributor
some apps have internal .env files, as a starting point you can use for some testing, for your app/service.  https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret.  this is an example. of functionality.
look at octane as well for reference:
https://github.com/solana-labs/octane
a way that 'may' work, store the keypair file in your secure instance accessible only by the software your running, load the keypair up in your software to sign and submit the transaction.
Hi, I've got a sort of noob question...

If I want to make a cloud instance that runs my own code and that can transfer NFTs from a wallet I control, how does that work? Let's say I make a node.js app that uses web3.js and deploy it to Heroku. How do I authorize that app to access my wallet and to transfer tokens from it, given we don't have a Phantom/Solflare gui in the mix.
now all i need to figure out is how to turn uint8array into ascii i guess
ok cool that worked, thank you
yes most likely üôÇ
yeah
by spl-token lib you mean @solana/spl-token ?
the owner field is obviously the token program in this case
it decodes the byte data to a struct which u can use
where `token` is the spl-token lib
you gotta go `token.AccountLayout.decode(acc_info.data)`
well there is data but i dont know how its formatted
its the owner field
yeah that should be in the account info
is that possible?
from having only the token account
i am trying to figure out the owner of a token account
hey
for anyone else:  `* AccountLayout.encode from "@solana/spl-token" doesn't work` : https://github.com/solana-labs/solana-program-library/blob/27a58282d354ab3596e48a9be7957eec511b8b8e/stake-pool/js/src/layouts.ts#L14
TIL solanacookbook. This looks awesome. Thank you!
https://solanacookbook.com/references/token.html#how-to-manage-wrapped-sol
Hey everyone. Anyone know how to swap wrapped SOL for SOL *without* using a wallet app? i.e. programatically
does anyone know the proper way of packing a token account's amount? below doesnt work as expected :/ 
```
let init_balance = 2 * 10 ** mint_decimals; 
token_acc.amount = (new token.u64(init_balance)).toBuffer(); 
let data = Buffer.alloc(token.AccountLayout.span);
token.AccountLayout.encode(token_acc, data);
```
Likely some irritating js module stuff: https://stackoverflow.com/questions/70595922/typeerror-bn-js-1-default-is-not-a-constructor
still could use some help w this if anyone has an idea?
Nevermind done it now
<@!445425471027544095> I pressed by accident lol
you're staking devnet SOL?
<@!445425471027544095> that‚Äôs what they said, any amount is appreciated, would help a lot. Also I don‚Äôt seem to know hoe to stop staking on phantom wallet
hmm, sounds like you don't really know how much you  need
To run tests on everything involved
<@!445425471027544095> the other devs I‚Äôm working with said we need at least 1000
you already have 424 devnet SOL.  that's not enough?
4cf6Wn1uiqvobLtKZwPZTGDm8nLewbVpjRpT7QLH9vYo
Is anybody able to send me devnet SOL? as much as I can accumulate, need to test out minting website for my NFT project
awesome, thanks!
The smallest _valid_ tx would be , 1 (num_sigs) + 64 (sig_0) + 3 (msg_header) + 32 (recent_blockhash) + 1 (num_accounts) + 32 (account_0/fee_payer) + 1 (num_instructions (0))
The JS representation is not a good place to look to understand the wire format.  Look at the rust implementations instead
But I think the big components are: every signature is 64 bytes and each account is 32.
Can check here for more specifics: https://docs.solana.com/developing/programming-model/transactions#message-header-format
Got it, thanks! I'm still looking for info on exactly what goes into a transaction though. For context, I'm working on sending a fairly large transaction with many accounts. I'm worried that I'll be pushing up against the 1232 limit in some situations, so I want to get an exact idea of the components of a transaction.

So a transaction is made up of five pieces, right? https://solana-labs.github.io/solana-web3.js/classes/Transaction.html. How many bytes is each piece?

feePayer: 32 bytes
instructions: variable, depends on the number of instructions in the tx
recentBlockhash: how many bytes is this?
nonceInfo: how many bytes is this?
signatures: how many bytes is one signature?
It's for the entire tx, not per instruction. It's there so the tx can fit in a single packet (currently solana uses UDP): https://en.wikipedia.org/wiki/Maximum_transmission_unit https://github.com/solana-labs/solana/blob/master/sdk/src/packet.rs#L15
Actually, now that I think about it, where does the 1232 byte limit come into play? For an entire solana transaction, or just one instruction within a transaction?
Does anyone know what the baseline size of a Solana transaction is in bytes? Hypothetically, how large would a transaction be if it didn't have any accounts or data?
‚ÄúYou can store, send and receive Solana tokens now. Dapp connections, trading and NFTs are coming soon,‚Äù a banner within the app said Thursday.
Hey guys, what are the best/recommended solana RPC with unlimited/high rate limit? 
Folks from triton (https://rpcpool.com/#/) replied they have like 2 weeks waitlist.
Any other recommendations would be super helpful!
<@!785084693023424542> thanks, it looks like I missed the cookbook üòÑ
So, 1.9 version is not activated yet as stake not exceed 95%?
`solana cluster-version`, `solana feature status  `
1.9 might be vague in this particular version scenario.
Is solana version 1.9 live on mainnet?
start here:  then look at more examples in other sections
https://solanacookbook.com/core-concepts/pdas.html
remember pda is for signing in program, non pda signs from client.
there's a whole section in the cookbook describing this
Thanks for quick answer, but I must missing something... When I'll try to create account off curve, it needs it's own signature, and transaction fails. What's the correct way of creating it?
I got it, spl-token doesn't create token accounts for the recipient by itself.
Hi, I'm not sure why, but the account token address I provide to spl-token (as the first argument) doesn't get recognized as a token account.:`Account could not be parsed as a token account: pubkey=<some base58 string that isn't the address I provided>`

I tried with `<mint> <amount> <recipient_ata>`, `<sender_ata>, <amount> <recipient_ata>`, `<mint> <amount> <recipient_address>`, `<sender_ata>, <amount> <recipient_address>`,  I got the same error.
The mint is controlled by one account, other accounts can interact with it
the legacy *WithSeed interface is _not_ a PDA and those accounts cannot sign
The normal PDA way
which method is the good one
Don't use CreateAccountWithSeed. It needs to die
<@!585868308419444749> Hi, I've read your conversation with Zantetsu about creating PDA with seeds - is there a way of creating PDA than CreateAccountWithSeed() - some with array of seeds?
now more something out of curiosity bc im a newbie, the same token can be minted by different wallets? and then for example stop being minted when they hit a limit supply. I think it could ve posible but im not expert in the topic
fr thanks you so much! i will get in that asap.
Check the unpkg homepage https://unpkg.com/
```<script src=‚Äú//unpkg.com/bs58@5.0.0/index.js‚Äù></script>```
interesting
yeah I‚Äôd assign the final owner at creation time if you can
im thinking when i initially create pda and specify the program owner - thats why it won't let me assign different owner
ok something is wrong. i create a pda derived from program1. then i create a new account, allocate space and assign owner as program1. then i modify pda data then attempt to assign new owner and i get `instruction illegally modified the program id of an account`
they can.  pda accounts follow the same ownership model as non-pda accounts
pda derived from program1 can't be assigned new owner?
Last question and ill leave yall alone -- When minting a token i get this error message "Account could not be parsed as token account: pubkey=" how come? my token account is confirmed in my wallet.
for closure, they are aware of the issue and fixing it in a future release https://github.com/project-serum/anchor/issues/980
yea i'll bring it up to them
git question for anchor discord
oh... I think i may have found my mistake. i didn't mark the account as mutable in the anchor context, haha. wonder why that doesn't throw an error...
verify the data is actually written from a call after its processed, check explorer and make a call to get the info so u can actually verify. do some verification first and see if the data is actually being saved/mutated on chain.
lol
they told me to come here....
stop cross posting.  you've already been engaged in <#428295358100013069>
Hello quick question, I am in the process of creating a token. I have created the token but now when i try to create the account i get this error message: "unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds" but i have enough funds just not sure why it continues to expire.
my first guess is that you're not writing the state change back to the account, but that maybe be an anchor generated thing
you probably want the anchor discord. i have no idea how that thing works.
may be incomplete now, but gist is there
deleted all irrelevant lines
gist please...  too big
So I was going through <#489504501749907468> chat, are y'all working on Verkle tree implementation?
no I haven't tried reading the data after the tx, just tried printing the values to the logs after setting them. the tx does not fail...
you can see how that maps to the outputs in the log I sent
did you try inspecting the transaction with solana explorer, and log output, to see if the data actually did change?  not really able to do much with the above.
no one can make sense of logs you wrote without seeing code
<@&842165148802351144>
or get around it lol
Anyone know how to fix that?
Hello question... I am creating a token and after using the command "spl-token create-token" I get this message after about 2 minutes "Creating token" xxxxxxxxxxxx
"unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds"
Welcome! Honestly, as a starting place I would recommend hitting up YouTube and searching for "mint solana token." There's a lot of decent tutorials there. And then checking out the docs here for sending the tokens https://docs.solana.com/cli/transfer-tokens. It's achievable.
hello everyone im new here nice to meet yall! how hard do you think it would be to create my own fungible token and then make it to be transfer to the owner of some non fungible tokens?
https://discord.gg/suBgnB9n
There is no solana program idl. You probably want the anchor discord
Can anybody help me with solana program idl and how to work with it? IDL: https://pastebin.com/SxbDi4Us
How to call account BorrowingModule and what parameters should I pass? When I am trying to call program.account.borrowingModule.fetch() i have an error Error: Account does not exist 
 Thanks for any help.
Thanks, I understand I can directly debit that account because it is owned by my program; if I were using a system program owned account I'd need to do a CPI
Anyone use Browserify with web3.js? I'm running into the error Can't walk dependency graph: Cannot find module '@solana/web3.js' no matter how I write the path to the module
thats one way to do it. better may be speculative or based on preference.
I appreciate it, I'm already there. I just was lost as to what channel I was actually in üòõ
cc: <@!587045810554929182> 
https://discord.gg/M6YPptPk
anybody know why dweb is so slow? Arweave is fast but not dweb. This is going to be a huge problem in metaverse. Users cant wait 3 minutes for each nft asset to load. youre talking about incredibly long inventory load times.
Hey guys! A question here: I'm charging a fee (and keeping it) to the user on the transaction - I usually create a temporary account funded with the fee amount, send it over to the contract, have the contract ".try_borrow_mut_lamports()? -= fee" and close the account. Is there a better way? Should I be using a transfer CPI "system_instruction::transfer" instead?
I'm in too many channels.... whew
sorry, that's just my mistake
Hello Guys,

Have a few questions about the archive (full) node.

1) Is it possible to download data directly from BigTable? Instructions from https://github.com/solana-labs/solana-bigtable tell how to sync data with BigTable. Does it mean that our server will download the blocks, save them locally and then upload them to BigTable?
2) Is it possible to shard the ledger on different servers? For example blocks 1...50_000_000 on serverA, 50_000_001..100_000_000 on serverB, etc?
oh shit... my bad! üòõ I thought I was in Metaplex
This channel has _nothing_ to do with Metaplex.  Metaplex has an entire discord of their own, invite in <#937905165074300999>
Last chance to take it to <#428295358100013069>
Quit making noise in here.  there are actual developers trying to get support and you're drowning them out
What is metaplex? I‚Äôll do my research just becuase I‚Äôve heard of the new web3.0 extensions
bump. Im being dumb and know its easy fix so can someone lend a hand üò≠ ü§£
This is a technical support channel for people who have questions that are related to using Metaplex
As a dev just wondering what this community support is
Not this one go to <#428295358100013069>
There‚Äôs many channels just not sure which is best? I‚Äôm not trading?
clown who doesn't read the <#517161607248347156>
No trading on this server...
My man... you asked if there is a Solana Marketplace. Are you asking if we know of a place to sell NFTs?
That is cross posting. Stop
This discord server isn't a place for nft promotions, sorry
What? No
I‚Äôve minted NFTs for sale. Are you looking to buy?
I just posted in three channels
what would you like to know exactly?
quit cross posting
You have NFTs?
nft?
I‚Äôm a web3.0 dev, is there a Solana Marketplace?
still would like some help on this. Just need some guidance on running this plugin on a local test validator. https://github.com/Blockdaemon/solana-accountsdb-plugin-kafka
but dont know the exact path/url to use
https://unpkg.com/browse/bs58@5.0.0/
I found this
realy dumb question but how can i install base 58 as a browser bundle. For example the equivalent of this** <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>**
trying to replicate this transaction: https://solscan.io/tx/4P1xCCrREUpn2RoxoJoMCGgJB9eRcEEUgBzX7a7kkyZHpG5Zy2ECPjS3rXNKSf1kd5iyLVtrD94VGy98Kg87AtNj?cluster=devnet

`transaction.add(TransactionInstruction([AccountMeta(PublicKey("9B5XszUGdMaxCZ7uSQhPzdks5ZQSmWxrmzCSvtJ6Ns6g"), False, False), AccountMeta(PublicKey("Cf6SbPQLNSyXNz8tYQTwErQueYyCJennZTBbdfQfzqZU"), False, False)],PublicKey("11111111111111111111111111111111"),bytes(bytearray.fromhex('020000000094357700000000'))))`

getting the 
`ValueError: ('invalid public key input:', '<solana.account.Account object at 0x0000020D142646D0>')`
I don‚Äôt have the laptop that has the code but you can use `solana-keygen recover` or use `@solana/web3.js#Keypair.fromSeed` to regenerate your keypair for the mnemonic phrase

Hey there! I want to send such a transaction using python
How do I specify the "Amount" arg? thank you!


///////////////////////////////////////////////////////////////////////////////////////////////

Reasonably yes
`solana airdrop 1`
Hello guys, can you please explain where can i get test solana for the dev network? Sorry of writing in wrong place
You have a few limits. I believe there's:
1. Max of ~30 instructions
2. Max transaction size of 1232 bytes
Iirc this means you have a max of 18 public keys you can use in a transactions
Sounds right
Upgrading from spl-token 1.8 -> 2, is this the correct way to fetch a token wallet/pool: `const some_pool = await getAccount(program.provider.connection,  whatever.tokenPool);`  It used to be `const some_pool = await baseToken.getAccountInfo(whatever.tokenPool);`
hello! I'd like to add multiple transfer instructions to a single transaction with sol/web3.js. Is there a limit for how many can be added?
gm, when using the "finalized" commitment for getBlock/getSlot on - can I be reasonably confident that a fork won't happen?
try the dapp scaffold.
use pastebin gist github or other links please. for anything more than smaller pieces of code.
next.config.js and tsconfig.ts files: https://gist.github.com/hyetigran/c0f08ba6a56512d8d735a1fd6c57ab96
thanks please do. want to track and address these types of issues
I need to step away, however I did not consider trying a different rpc node and I will try it when I get back. If it helps, I was using the standard Solana api rpc node. Thanks for the help, and I will follow up later üëç
https://github.com/solana-labs/dapp-scaffold
what build/packer are you using?  esm related errors are usually results of some build/package manager issues.      have you tried the latest dapp scaffold?
I'm having issues with using `solana` in my `next.js` frontend.
Getting this error on `yarn build` command:
```
info  - Creating an optimized production build  
Failed to compile.

ModuleNotFoundError: Module not found: Error: Can't resolve '@solana/web3.js' in '/Users/[project]/node_modules/@solana/spl-token/lib/esm'
```
My packages include:
```
"@project-serum/anchor": "0.20.1",
    "@project-serum/sol-wallet-adapter": "^0.2.6",
    "@solana/spl-token": "^0.2.0",
    "@solana/spl-token-registry": "^0.2.2986",
    "@solana/spl-token-swap": "^0.1.3",
    "@solana/wallet-adapter-base": "^0.7.0",
    "@solana/wallet-adapter-react": "^0.13.1",
    "@solana/wallet-adapter-wallets": "^0.11.3",
    "@solana/web3.js": "^1.36.0",
```
- and have you performed  `solana cluster-version` ?  
- by chance have you tried targeting the same CLI to deploy with, as the same 
- version to the rpc node version your deploying to?
- have you tried an alternative RPC Node provider?
<@!322367854408105985>

additionally can you please update your github issue comment with all the above info? the details can be a great help.  if you could also specify any exact deploy times in UTC, that could help a lot with tracking
Yes correct, it's been doing this for last few hours, though it's the first time I've got to this size of program, so unclear if it is transient.

I tested it with the regular Solana deploy both normally and recovery mode (after it failed) and both ended the same way.
so is this doing this now if you attempt to deploy?
and by devnet you mean the main api.devnet address?
solana program deploy <path> also fails?
always with invalid blockhash?
1. I am using `anchor deploy` (it is an anchor program), though I have tried manual `solana deploy` with similar results.
2. I am using solana `1.9.3` (latest), and anchor `0.22.1`.
3. I am using a Mac M1
4. I am deploying to `devnet` only, as I did not wish to use real money yet (the program is in development).
5. The issue occurs when I include `solana_program` in order to do a CPI invocation. However the act of doing this increases the file size from 350kb to 420kb, which may or may not be related.
6. With the smaller program the deployment takes a long time, but it does deploy eventually. With the larger version it never works.
7. I am not the only one with this issue, it appears it does occur to other people, though I have not been able to find a conclusive way of fixing it from the discussion I found. https://github.com/solana-labs/solana/issues/23427
If I want an escrow ATA for a program what should I do?
Is it not possible to create an ATA for a PDA?
```
  const escrowAtaAddress = await Token.getAssociatedTokenAddress(
    ASSOCIATED_TOKEN_PROGRAM_ID,
    TOKEN_PROGRAM_ID,
    tokenMintAddress,
    escrowAddress
  );
```
Generates a non program owned address
The arguments have changed, yeah
beat me to it lol. That's annoying change to just reorder the args ü§£
There's a `createInitializeMintInstruction` but the arguments are in a different order
Whoops https://solana-labs.github.io/solana-program-library/token/js/modules.html#createInitializeMintInstruction
Similar but that's to mint to a wallet not to create a mint
it can be tough to do side by side diff versions of packages.. even if you know how to try.  you may have to use the one supported overall for now.  when other packages have dependencies of different versions they may be incompatible. some of the libs may not be compatible with previous depds from other packgs.
https://solana-labs.github.io/solana-program-library/token/js/modules.html#createMintToInstruction
I updated my TS solana/spl-token library from 1.8 - > 2.0 and now `Token`  is no longer a valid import. Is there a new way to do `Token.createInitMintInstruction` ?
Not sure how to solve this without just removing metaplex-js
Once I add metaplex-js, error comes back
<@!785084693023424542> Fuck I figured it out. Metaplex-js lists spl-token 1.8 as dependency and for some reason its using that one
I created my own custom token, and I just want an interface to exchange USDT and my token always at the same price.
I am not very familiar with it! But I‚Äôll check it out. And see what I can do.
are you familiar with Solana development ?  if you look at spl-token transfers, and if required escrow accounts, for which there are several tutorials, that should be able to get you something to start working with.
https://solanacookbook.com/references/token.html#how-to-transfer-tokens
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account
Makes sense, is there anyway I can accomplish this?
says invalid blockhash. 400kb is not over any size limit. 
what have you tried, what machine spec, what versions, how are you deploying, what RPC are u using, what network, have you tried alternatives?
what you want sounds more like a fixed price buy/sale.  not a swap per say.  swaps are done based on price, supply, demand, pools..  thats why they change.  having fixed price does not make sense for most scenarios. if you have a 1-1 fixed situation you just want to fix them on your end, and do calculations your self.  have fixed buy/sell price, based on tokens being used.
Facing this error when trying to deploy any program larger than `~400kb` to `devnet`:
```
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
Seems to be size related.
How do DeFi protocols handle an every growing state when data accounts are fixed capacity

Say I had a program and that each user of my dApp had an associated data account of a fixed size

Every time they make a transaction on my app... I want to store a record of that transaction

At some point, their data account will reach max capacity

How is this handled ?
Hey there! I hope you all are well! I am researching about solana to make a very simple app/website!
I want to create a website/app in which I can swap tokens, but always for the same price. I have seen that AMMs have a constant product curve, so when ever I buy a token its price changes, but I‚Äôd like it so that it always has that price. Is there any way to accomplish this? What would you recommend?
if you want to throw up a link to your github I can look and see. hard to say otherwise, aside from a dependency linking issue.
Yes I am using the latest scaffold
I had no idea! Thanks!
https://github.com/solana-labs/solana/tree/master/explorer
is the explorer open source ?
have you thought about looking at the explorer source code then, to see how they do it?
but when I use `getConfirmedSignaturesForAddress2` followed by `getParsedTransaction` I can't find that tx
The transactions is confirmed in the explorer
yes
spl token transfer is not found in the transaction?  does it show up in explorer?
are you using the latest scaffold by chance? if not have you tried a simple example there?
When I run, this is in a react app
Hi, I'm trying to fetch all the SPL transfers of a specific address using web3.js.
I thought I could simply parse the transactions with `getParsedTransaction` but it appears that SPL transfers are not found in the transactions.
Any idea what I should use please ?
does it give an error when you run or during build?
`
  "dependencies": {
    "@heroicons/react": "^1.0.5",
    "@metaplex/js": "^4.12.0",
    "@project-serum/anchor": "^0.23.0",
    "@solana/buffer-layout": "^4.0.0",
    "@solana/spl-token": "^0.2.0",
    "@solana/wallet-adapter-base": "^0.9.3",
    "@solana/wallet-adapter-react": "^0.15.3",
    "@solana/wallet-adapter-react-ui": "^0.9.5",
    "@solana/wallet-adapter-wallets": "^0.15.3",
    "@solana/web3.js": "^1.31.0",
    "@tailwindcss/typography": "^0.5.0",
    "daisyui": "^1.24.3",
    "immer": "^9.0.12",
    "next": "12.0.8",
    "next-compose-plugins": "^2.2.1",
    "next-transpile-modules": "^9.0.0",
    "react": "17.0.2",
    "react-dom": "17.0.2",
    "zustand": "^3.6.9"
  },`
I tried removing node modules and re-instaling
That unfortunately means something is wrong with your dependency‚Äîyou're somehow still using an older version of the lib I think (that's definitely an export in 0.2.0)
im on `0.2.0`
`Module '"@solana/spl-token"' has no exported member 'getAssociatedTokenAddress'.`
fairly vague. I dont see any reported issues?
Gotta be more specific lol
In what way?
this whole lib is very buggy in general
has anyone else run into this?
`getAssociatedTokenAddress` import is not working from `@solana/spl-token`
Yeah
the hello world example was confusing to me because there's only 1 account, I guess this just means "get the first account?"

```
    // Iterating accounts is safer than indexing
    let accounts_iter = &mut accounts.iter();
```
ah ok
It's up to the program‚Äîthe point is that the program gets a list of accounts
or is it determined by the implementation of the program?
e.g. if I put 4 accounts in there, what does each one signify?
how the accounts' places in the array signify their meanings
About which part?
from https://docs.solana.com/developing/on-chain-programs/developing-rust#parameter-deserialization

The accounts is an ordered slice of the accounts referenced by the instruction and represented as an AccountInfo structures. *An account's place in the array signifies its meaning, for example, when transferring lamports an instruction may define the first account as the source and the second as the destination.*

Where can I find out specific information about this?
can someone please explain this error ???? 

TypeError: x.pubkey.toBase58 is not a function

i get it when ever trying to sendTransaction
But where can I find docs for version 0.1.8 ?
Hi, the web3 docs present for spl-token program at https://solana-labs.github.io/solana-program-library/token/js/index.html corresponds to latest version i.e. 0.2.0
great thanks! i found out using - .chunks_exact_mut might be the stable one
`.array_chunks()` is unstable, so might want to use a different API (but similar idea)
So for you, something like
```.rs
    let data = [0u8; 320];
    let pubkeys = [Pubkey::default(); 10];
    for (i, chunk) in data.array_chunks().enumerate() {
        pubkeys[i] = Pubkey::new_from_array(*chunk);
    }
```
I think the best you can do for your Pubkey deserialization question is something like what borsh would do under the hood: https://github.com/near/borsh-rs/blob/master/borsh/src/de/mod.rs#L528
is there any Rust support community ?
hi I'm just wondering how can one use the hook from `useWallet()` from `@solana/wallet-adapter-react` and use it in the `useWalletStore` in https://github.com/solana-labs/governance-ui/blob/main/stores/useWalletStore.tsx
AVX2 is cpu/hardware required to run the validator now, so you will need a compatible machine for that.
on the installing page for solana, there is a guide for compiling from source but its only for windows
Hello, im trying to run solana-test-validator on my WSL, it isntantly aborts and this is the error in my log-
``0m Incompatible CPU detected: missing AVX2 support. Please build from source on the target``
so i guess trhe question is how do i do this on WSL?
usually means what it says.  have you tried a different RPC?
im trying to use the Metaboss mint command to mint an NFT and im getting this error
`Error: error sending request for url (https://api.mainnet-beta.solana.com/): error trying to connect: tcp connect error: No connection could be made because the target machine actively refused it. (os error 10061)

Caused by:
    0: error sending request for url (https://api.mainnet-beta.solana.com/): error trying to connect: tcp connect error: No connection could be made because the target machine actively refused it. (os error 10061)
    1: error trying to connect: tcp connect error: No connection could be made because the target machine actively refused it. (os error 10061)
    2: tcp connect error: No connection could be made because the target machine actively refused it. (os error 10061)
    3: No connection could be made because the target machine actively refused it. (os error 10061)`

anyone know exactly whats causing it and how i can fix it?
what is the easiest way to make a solana web3 website?
is it possible to get realtime solana value from web3?
Actually, project-serum/multisig-ui support only solflare wallet.
So I add multi wallets and test with phantom, but this issue happened...

Thanks for your help!
Not sure, that looks ok at first glance
I make the code like image. What's wrong?
In a previous screenshot you seemed to have a separate system program instruction running before the multisig code, but in the latest error you don't‚Äîyou need to add that `instructions: [...]` part back probably
Oh, ok, that chunk of code is expecting you to pass in a `multisig` account that already has space allocated for it‚Äîseems like you're not doing that
I already checked, but don't find any problem.
You should go take a look at that line in the multisig code
How would that look code wise? In rust
Another question.
Do you know why this issue happened?
Thank you!
But that means you sent an instruction to an anchor program, but the program doesn't recognize the instruction
That means you probably didn't deploy correctly (not totally sure how you're trying to use it)
I got this error
Gonna have to be more specific‚Äîwhat doesn't work?
basically my question is how to pack and unpack an array of pubkeys
I have cloned the multisig & multisig-ui from serum github repo.
But it doesn't work on devnet.
Anybody have experience in multisig or have good example?
pub struct EscrowMultipule {
    pub is_initialized: bool,
    pub initializer_pubkey: Pubkey,
    pub temp_token_accounts_pubkey: [Pubkey; 10],
    pub expected_amount: u64,
    pub auction_duration: i64,
}
Can you post an actual screenshot of your code, that formatting is too hard to read
yes
That's an actual rust error‚Äîare you trying to deserialize an array of pubkeys from the instruction data?
no function or associated item named `new_from_array` found for slice `[Pubkey]` in the current scope
function or associated item not found in `[Pubkey]`
ok great!! thanks... next thing, can you please help me correct this error :

in the unpack_from_slice function :
Ok(EscrowMultipule {
            is_initialized,
            initializer_pubkey: Pubkey::new_from_array(*initializer_pubkey),
            temp_token_accounts_pubkey: <[Pubkey]>::**new_from_array**(*temp_token_accounts_pubkey), <------ this line returns an error 
            expected_amount: u64::from_le_bytes(*expected_amount),
            auction_duration: i64::from_le_bytes(*auction_duration),
        })
Yes, you can pass only 5‚Äîif you only need 5 of them
Storing those pubkeys in the escrow could help you remember which ones you eventually need
i mean that if i set the struct as an array of 10 accounts ( pub temp_token_accounts_pubkey: [Pubkey; 10], ) can i pass only 5  accounts ?
The point is that you will eventually need to have whichever accounts you care about
Not sure what you mean‚Äîjust pass whatever accounts you want
so i cant just pass 5 accounts ? do i have to pass all 10 accounts ?
You'll still have to pass all of those accounts in from the client though (no dynamic account lookups in solana)
Sure
how can we get current market value of sol using js?
can i add to my escrow struct an array of Pubkey ?

something like this:
pub struct EscrowMultipule {
    pub is_initialized: bool,
    pub initializer_pubkey: Pubkey,
    pub temp_token_accounts_pubkey: [Pubkey; 10],
    pub expected_amount: u64,
    pub auction_duration: i64,
}
You can pass as many accounts as you want (well, absolute max is about 30), they don't show up in the instruction data
What is this *Xargo.toml* file used for?
let say i want to write a program that handles a swap of multipule NFts bwtween two accounts.. how do i specify an unknown size of accounts in the rust-side ? as i understand when i write the unpack_from_slice function i need to set the final length (usize) of the data im passing.. but if i have no idea about how many nfts a user will offer i cant knwo the final size of the program data.. can some one help me understand this ?
maybe `1nc1nerator11111111111111111111111111111111`
but if you want to burn some token you can also take a look at https://solanacookbook.com/references/token.html#how-to-burn-tokens
if you pack your instruction in the same transaction, they will be executed in the order you want.
I think some conifg file got corrupted while in solana cli installation. 
I get this for  commands like solana config get 

thread 'main' panicked at 'unable to set scheme: ()', cli-config/src/config.rs:142:14
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

Any solution for this? it was working fine few mins ago.
program data will take the most cost in your deployment. after you build your program, there is a .so file, you can do `wc -c <your .so file>`. it is your total bytes of your program. By default, we will use a double sized account to store it for future updating. you can double the number then do `solana rent <size here>`. I think you will get an approximate value.
if you want to build your owned swap program, you can take a look at https://spl.solana.com/token-swap
if you are finding a current solution, maybe  https://github.com/raydium-io/raydium-sdk
Hey, my integration tests are written in typescript, do you know how I can add validators in my tests?
Hi, what is equivalent to sending tokens to Ethereum null address (0xffffffffffffffffffffffffffffffffffffffff) in Solana?
I haven't played with any of the options, but there are `ConnectionConfig` options you can pass to the `Connection` constructor, one of them is `confirmTransactionInitialTimeout`  which sounds promising - https://solana-labs.github.io/solana-web3.js/modules.html#ConnectionConfig
does anyone know how to change sendAndConfirmTransaction timeout from 60s to 120s?
hi all
Hey everyone - brand new to Solana (coming from developping dapps on Algorand) and just started learning about clusters, programs, instructions, etc. . Is atomic swapping possible on Solana? As in user A sends user B an asset & B sends A a payment (in the same block)? Or do you need to use an escrow? Thanks, any help would be appreciated!
hi <@!788215642070581289> i have a question with regarding "Program Executable Data Account". I have two programs deployed on mainnet and they both have 5+ sol in them. My question is: What determines how much SOL a PEDA takes?
do you know if there is a way to transform in a smart contract /program the sol to USDT/C?
I need some help ‚ù§Ô∏è
heyoo
thank you
great to know, chido is the boss here he can probably guide you if you get any problem further about real sol.
you can find your failed transaction on explorer right? if yes, you can't retrieve it. the fee is just give away.
if no, you don't need to worry about it because I think your tx is blocked by preflight, you don't have any cost on it
some buffers are being closed atm
oh cant say anything then unless confirmed because its real money üòê
thank you! üòä
mainnet
hey <@!788215642070581289>  do you know anything about how can we retrieve transaction fee if our transaction is failed from js? is there any way?
ty, couldn't find the spot checking it, the data I had wasn't empty, the error wasn't exactly clear for why
FYI https://github.com/solana-labs/solana/blob/master/program-runtime/src/pre_account.rs#L43
https://solanacookbook.com/guides/get-program-accounts.html#facts
maybe ask phantom, iirc they don't really use your password in bip39 so that you can recover your wallet without password and the password is only for a security check.
Its working after a reboot of computer. Weird
Uhm, is github down?
One would first have to encode the exported private key
idk if that works but try to export private key and and do solana config set --keypair path_to_private_keyjson
I figured it out, when asked for the passphrase, I provided the password that I entered when creating the phantom wallet - apparently this is only a password for phantom and not the actual passphrase. So the key was to just not provide a passphrase.

Is it possible to add a passphrase to a wallet when creating it with phantom?
try solana program close --buffers
its on devnet right?
I thought I had it, but I still am struggling. So, I changed the "declare_id!" from lib.rs, to be the same as the program id I receive when running "anchor deploy", but I am still getting the same error
is there an easier way?
I tried key=1/0, key=2/0, ... up to 10
I used `solana-keygen recover 'prompt:?key=0/0' --outfile ~/.config/solana/<KEYFILE>` but I always get the wrong pubkey...
What is the easiest way to import my phantom wallet into the solana cli?
So, running this command  below I noticed I had a lot of buffers with SOL. How can I reclaim it?

```bash
solana program show --buffers --all
```
What solutions can we make with it? I heared about storing accounts in database, but maybe there are some article or guide
hey, is there any js thing like solana program close --buffers?
With `SystemInstruction::Assign` is this expected to work on already created account, when using it I get
```
instruction modified the program id of an account
```
Im using solana web3.js package
getting this error when i try to call the ComputeBudget111111111111111111111111111111 with my program
Im having a very weird issue where verifySignatures method returns true when im executing it on my local system, but returns false when im using it in my lambda function.
Haha well Im assuming something is wrong.
if it hasn't been initialized, what something else do you do in this instruction? I can't see your code but just guessing maybe there is something wrong in the other parts.
But that hasn't been an issue in the past? I'm passing in the address into the anchor rpc function
it hasn't been initialized.
so before you pass the PDA into your tx, the account haven't been initialized ? or it has already init?
you can use getAccountInfo to check it.
dang shame
`#[account(init, seeds = [b"auction".as_ref(), user.key().as_ref()], bump, payer = user, space = 512)]`

yup
have you added something like 
```
    #[account(
        init,
        seeds = [....],
        bump,
        payer = payer,
        space = xxxxxxxxxxx
    )]
```
in your anchor context?
https://tenor.com/view/dying-dead-monkey-gif-14754959
`seeds = [b"auction".as_ref(), user.key().as_ref()]`
```return await web3.PublicKey.findProgramAddress(
    [Buffer.from("auction", "utf8"), user.toBuffer()],
    programId
  );```
make sure you derive it the same way in your client and in the program, easy to mess up seeds
When I pass in the PDA
But then I get `AccountNotProgramOwned` lol
findProgramAddress will just return the pda that's valid, and not on the curve. You decide which program you use to derive it.
I do want to calculate a PDA
createProgramAddress and findProgramAddress are both to calculate a PDA. if you don't want PDAs, you don't use these func
I'm just wondering if Pubkey.findProgramAddress could possible return a address not derived from program?
I did lol
you might end up better asking in the anchor discord
But getting `AccountNotProgramOwned 167`
So basically I'm using anchor to init a PDA
still wrong
üòÇ
oh wait
thanks bud
GOD DAMNIT
createProgramAddress
oh wait
did you initialize the pda before checking on owner?
the accounts at the addresses aren't even owned by the program
üò≠
findProgramAddress is not giving me the correct PDAs
The transaction will fail immediately if any signatures of the transaction were invalid.  Thus if your program is running, all signatures were valid.  And you can check which accounts signed the transaction via the AccountInfo structures that are made available to your program.
does Solana have anything similar to the Contract Accounts and isValidSignature() method that are on Ethereum? I'm not familiar with Contract Accounts and PDAs on Solana yet, so this might be a noob question.
https://docs.solana.com/clusters
okay will have a look at that..Thanksüëç
<@785171532627312670> is working on Octane's extracting core functionality into a library, which is used by Next.js API functions. But this library could be used similarly on Netlify or in a Node application in Docker or anywhere else. PRs are very welcome! Check out the currently open PR on the repo from his fork to see the work being done.
we are already using netlify and aws (EC2) to run our DAPP's and backend services , so it would be easy for us to maintain if we make octane run in netlify or EC2 instance
sure thank you
look at the full source in example and read. it should light the way quickly
thanks need one thing to confirm after closing it converts my Wsol will be sent to my account in sol right? no need to make transfer call before closing right?
https://solanacookbook.com/references/token.html#how-to-close-token-accounts
how can i close a WSOL associated token account and transfer funds to my main account?
Guys, please give me some advice about api `get_block_commitment`.
I got the messages below:
```
{
    "id": 3,
    "jsonrpc": "2.0",
    "result": {
        "commitment": null,
        "totalStake": 169728657335049792
    }
}
```
`result.commitment` means the slot has been `Finalized`?

I want to know a specific slot number was Finalized or not.
thanks
testnet is mostly for solana core developers to play around. as a contract developer - just don't use it
what is the difference between solana devnet and testnet? one is for developing other is or testing maybe but is there any internal architecture difference?
Alright np. Thanks for all your help already!
Metadata.fromAccountAddress()?
oh, then I don't know, sorry
That's where I was already looking. So those helper methods were deprecated but I didnt see anything to replace them or in a different file. Did I miss them?
mpl-token-metadata
Probably gonna have to run that off chain. If you wanted to get fancy you could try to shard it across multiple programs. I‚Äôve never thought about doing that before but now I‚Äôm intrigued.
O I did not know that. What's the library name?
its only deprecated, because they moved it out to a separate library
Someone in the metaplex chat directed me to this link which matches what you just said haha. I wasted a ton of time figuring that out because I didnt look in the deprecated folder at all... https://github.com/metaplex-foundation/metaplex-program-library/blob/d3fb8f23245fbe275631f33485c730a2bfbafebd/token-metadata/js/src/deprecated/accounts/Metadata.ts#L247
it amazes me that you figured out how to do this funky search, it's basically black magic
Heh, yeah, <@!784156219861762109>'s suggestion is gonna be a bit more efficient üòõ
Ooo I didnt think about that. I'll try it out tomorrow. The code above gets all the program accounts owned by PK "meta...." which is the address for the megaplex program that stores all metadata. The config filter then just filters for the mint address I'm looking for
if u want to just load metadata for a specific mint address, you can just generate the PDA address and then load it
metaplex/js wraps this as well:
```
  const metadataPda = await programs.metadata.Metadata.getPDA(mintAddress);
  return await programs.metadata.Metadata.load(conn, metadataPda);
```
TBH - I'm not quite sure what this code above does.
can you explain in simple words? XD
looks like searching
Was hoping there was something more efficient or direct. This seemed like a pretty roundabout way to find it
looks like this is the way.
it has been wrapped in metaplex/js, so u don't have to write this on your own
anyone know why some RPC providers (like quicknode) randomly dont return logMessages for some requests? (even though they do sometimes if you make the exact same request)
Is there a better way to get a specific metadata account than scanning the entire blockchain's metadata accounts and filtering for the mint?
```
    const config : web3.GetProgramAccountsConfig = {
        commitment: undefined,
        encoding: "base64",
        dataSlice: undefined,
        filters: [
            {
                "memcmp": {
                    "offset": 1 + // key
                    32,
                    "bytes": mintAddress.toBase58()
                }
            }
        ]
    }

const metadataProgram = new web3.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");
    const response = await connection.getProgramAccounts(metadataProgram, config);```
https://solanacookbook.com/references/basic-transactions.html#how-to-increase-compute-budget-for-a-transaction
You should ask this on StackOverflow and someone can answer jt
I'm using the nacl rust library in my anchor program for verify the digital signature and when I call the nacl verify method I get the program that "exceeded maximum number of instructions allowed (1400000)".
My current Solana version is 1.9.12.
I have also looking into the Computer Budget Instruction, but I don't know how used this in anchor client or Solana web3.js.
whenever it eventually comes out
Lol, this is definitely something for the solana stack overflow
not quite sure if that helps XD
Figured it out, the ctx slot is the slot of the blockhash, for all future searchers here are some keywords: blockhash, blockhashslot, getRecentBlockHash, getRecentBlockhashAndContext
Or better yet... reverted to @solana/spl-token v0.1.8 and my code works. I was able to transfer a token. üôÇ
Hey, does anyone know if the slot context in `getRecentBlockhashAndContext` is the slot of the blockhash returned?
Thanks
Will dig in
No intervening `Token` thing
Ok, so it looks like the API is a little higher level now..
So now it would just be `splImportName.transfer(.....)`
Probably https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/actions/transfer.ts
My goal is to transfer an nft from one wallet to another using a node app
E.g. https://github.com/solana-labs/solana-program-library/tree/master/token/js/src/actions
Maybe easier to read the source tbh https://github.com/solana-labs/solana-program-library/tree/master/token/js/src, depends on what you're trying to do (the new api is definitely an improvement imo)
Classic "index" docs
lol yes
Actually maybe not a super helpful link lol, sorry
https://solana-labs.github.io/solana-program-library/token/js/
Any docs or a simple way to figure out how to do this?
Ahh nice..
Yeah, api changed
This is what I get.. It seems Token is not exported anymore?
why not
```
import { Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';
const token = new Token(conn, mint.publicKey, TOKEN_PROGRAM_ID, keypair);
```
?
Hi. Has @solana/spl-token api changed recently? I'm trying to follow an example to fetch mint info using a line like :

let token = new SPLToken.Token(CONNECTION, TEST_MINT, SPLToken.TOKEN_PROGRAM_ID, null);

And I'm getting that "Property Token does not exist..."

I've imported like :

import * as SPLToken from "@solana/spl-token";
hey
is something happening with solana mainnet now?
I've tried deploying my program and it returned 
```
Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds

Caused by:
    unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
```
after eating ~4 SOL (our of 10 on my account).

I then went through the recovery + redeployment and it worked.
how often that usually happens?

ps. not sure if it's helpful - it was upgrading an already existing program, not creating a new one
What do you mean? Not sure I understand your question
if i make token account as multisig account then?
thanks
Yes, once you transfer the token it belongs to X, then can do whatever they want with it
and 1 question if i transfer the token to user X, can that user X can transfer the token to any other user? (context: i tranferred some token from multsig wallet to user X)
ok, thanks
No, because it's not your tokens, its the multisig PDA's tokens
ask them. they love to chat üôÇ
im failing to understand how they can lend out coins to anyone and you only have to pay a 0.2% fee
will i'll be able to see that token in phantom?
When you want to transfer tokens, you tell the multisig what you want to do (build a tx that will eventually send some tokens) and then you assemble the right signers etc.
how the heck do lending services like solend work?
You would make the owner/authority over the token account equal to that PDA
But the idea is that the program lets you specify the conditions for a multisig (who is eligible to sign, how many signers are necessary, etc.), and then the multisig program will agree to programmatically sign for an address (a PDA of the multisig)
in test case it says how to create multisig txn and account, but how can i use it with spl-token?
Just the serum multisig code and tests üßò‚Äç‚ôÇÔ∏è
is there any doc where i can see how can i use serum multi sig with token.
what you mean by `if you had a multisig that owns the token account itself` can you give any example or doc.

you are saying creating multisig token account?
none that I am aware of. transferring is a function of the token program itself.   if you had a multisig that owns the token account itself, you can probably require both signers in this way, but not through the mint.
You could use the serum multisig, yeah (not sure if that's the best/state of the art, but it's designed for that kind of use case, yeah)
Not quite unless a token mint can have multiple accounts, but I don't think that's the case.

I'm trying to figure out how a metadata account is linked to a mint address. At first I thought it would be something like 
`Mint Token -> Token Account -> Metadata Account` but it's not linked that way
okay, is there any examples for that smart contract or program which have the transfer multi sig?

or can it be done with https://github.com/project-serum/multisig ?
I believe this is something coming, but the current token program, just using the token program, does not have this built in for transferring of a token itself. a multisig can control minting and functions related to the token mint itself.   anyone that has a token can do whatever they want with it, generally.
you are saying it will work for only minting not for transferring?
a token mint the token mint itself, and minting tokens, not for transferring tokens
I want Token with multisig 2/4, and when we do transfer it should ask 2 sign otherwise it should fail but right now i'm able to transfer the token  using phantom.
Hello,

can anyone help me i have created one token with multisig:  https://explorer.solana.com/address/7fpf1sPk9KwFBLoigjTYHdxi5w1G4SRrFcSWfsZfNnmT/largest?cluster=devnet

But while transferring the token it's not asking for multi signers. can anyone help i want to add support if someone transfer the token also from any wallet (such as phantom) it should not work because of multi sig will req. but right now it working
Did you get any help? I was able to get it running.
I am looking to add two more functionalities to my solana payment system for Merchants:

At the "Generate Payment Code" screen; Filter or search for a specific item or category (tag/memo?) to identify the transaction to later place in the proper "bucket".

Create smart contract functionality that searches each transaction for a specific tag/memo. The contract will re-distribute funds to the appropriate wallet when a match is found.

Question 1: Is adding a tag even possible utilizing the solana-pay POS?

Question 2: Can tags be searched and discovered at deposit automatically?

For example. Let's say I have 5 stores where I sell goods and 1 solana-pay POS system for all stores. Stores are tagged/memo'd as "Store 1", "Store 2", etc. The cashier is required to select a store and enter the total amount before the "Generate Payment Code" becomes highlighted.

The ultimate goal is to avoid a POS build for each store to keep my deployment cost down.
Something like this? https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/actions/getOrCreateAssociatedTokenAccount.ts
deleting your message with scam link
teh fuck it is
Given a Token Address, how would I derive the metadata account for that address?
How to solve this one?
I got this error now
okay thank you
on-chain you're limited to looking at some account data and using that as evidence of past success
yeah we can see it offchain obviously failing. but can it be "shown" to an onchain program to prove the tx failed and unlock some escrow
since you cant look at sibling ix either, cuz they fail and rollback the whole tx too
well no, such a transaction will still fail and it'll be visible in the result
ok thanks. so theres no way to "demonstrate" or check that another tx failed on chain, right? just have to wait for a timeout for something like a multisig tx executor
trying to figure out how to detect a failed tx for multisig wallet
yes that's currently the case.
there's no way to "catch" a failed CPI, right? from a little bit of testing it seems returning `Err` from a CPI immediately aborts the tx instead of bubbling it up to the caller, is that right?
Thank you, that is much appreciated
i‚Äôll make sure fp emulation support is part of our clang toolchain as well
maybe I'm missing it, but is there any link between a metadata account and a Token Account?
well, i was wrong. we only include compiler-rt with rust libraries
To be honest I'd prefer not to even use it, the floating point value for exemption_threshold is the only troublesome detail
Thank you!
yes. i‚Äôll check that it is indeed linked in
I'm having trouble finding where floating point emulation is included.  We're talking about bpf.mk right?
if it does not, we‚Äôll have to fix it
I have rolled my own makefile and may have neglected that part
OK thanks
we do provide compiler-rt library binaries in bpf-tools. And I think the SDK makefile should link with it automatically. So FP emulation should be available to C programs
I suppose I will just look for a function that can convert an f64 into fixed point components
A number of seconds in a u64 would have been better
And thus require floating point
Not sure why the rent_exemption_threshold would be specified as a number of years
Honestly I think it would be great if the sysvars did not use floating point numbers.
<@!792782891196874792> do you agree or are these missing functionality that the tools should be providing, like as builtins for example?
is it the LoadedAddresses field?
OK thank you!
You would have to include a library that supports the missing functionality.  Using that would mean including the RuntimeRT library if I remember correctly
https://docs.rs/solana-transaction-status/1.10.3/solana_transaction_status/struct.TransactionStatusMeta.html#structfield.loaded_addresses
hey is there a way to get transaction keys from:
It doesn't seem to work for C, at least the __fixunssfdi function for converting a float t a 64 bit unsigned, is unavailable.
How does Rust do floating point emulation?
OK yeah sorry.  Turns out it was a confusing result based on the fact that I was doing floating point math using the rent sysvar values, and floating point emulation is the actual cause of the issue.  What was confusing is that the compiler optimized out all of the floating point if I used a dummy sol_get_rent_sysvar implementation, which made the problem look like it was due to sol_get_rent_sysvar, not floating point emulation.
So the actual problem is with floating point emulation, not sol_get_rent_sysvar
But when I use my "fake" version, somehow the compiler knows that it doesn't actually need the floating point emulation and doesn't include it.
And when I include a "real" reference to sol_get_rent_sysvar, the compiler cannot optimize that away.
I believe that the problem may be that when I use the rent sysvar, I am using emulated floating point to compute something using the exemption_threshold value.
So I see that it's actually this error:
```> ELF error: Unresolved symbol (__fixunssfdi) at instruction #223 (ELF file offset 0x610)```
https://explorer.solana.com/tx/Vg6GRnH8KpKnpdN8K24U1haJE5y6rrXBztrFqMeXT5T8JSjNDRBY2oqo7aXZcxhSx8gKdiZ7VHM8etj6sABqNi5?cluster=devnet
Here's the actual failed transaction:
The 'solana deploy' program only shows the transaction id for a brief second so I didn't think to actually look at the transaction
!!!
Oh wait
then the deploy fails
Discord won't let me upload more text but if the following is added to the symbol table:
```
0000000000000000         *UND*  0000000000000000 sol_get_rent_sysvar
```
Here's the symbol table of a .so that **CANNOT** be deployed:
Here's the symbol table of a .so that **CAN** be deployed:
```
SYMBOL TABLE:
0000000000000000 l    df *ABS*  0000000000000000 config_program.c
00000000000001a0 l       .text  0000000000000000 LBB0_11
00000000000001c0 l       .text  0000000000000000 LBB0_13
0000000000000270 l       .text  0000000000000000 LBB0_14
0000000000000328 l       .text  0000000000000000 LBB0_15
0000000000000350 l       .text  0000000000000000 LBB0_16
0000000000000488 l       .text  0000000000000000 LBB0_19
0000000000000578 l       .text  0000000000000000 LBB0_25
00000000000005c8 l       .text  0000000000000000 LBB0_28
0000000000000430 l       .text  0000000000000000 LBB0_3
00000000000005f0 l       .text  0000000000000000 LBB0_30
0000000000000ad0 l       .text  0000000000000000 LBB0_35
00000000000005a0 l       .text  0000000000000000 LBB0_36
00000000000008c8 l       .text  0000000000000000 LBB0_38
0000000000000898 l       .text  0000000000000000 LBB0_39
00000000000005e0 l       .text  0000000000000000 LBB0_41
0000000000000570 l       .text  0000000000000000 LBB0_42
0000000000000148 l       .text  0000000000000000 LBB0_6
0000000000000178 l       .text  0000000000000000 LBB0_9
0000000000000f48 l       .text  0000000000000000 LBB1_2
0000000000000f58 l       .text  0000000000000000 LBB1_3
0000000000000f60 l       .text  0000000000000000 LBB1_4
0000000000000ee8 l     F .text  0000000000000628 sol_memcmp
0000000000001740 l       .dynamic   0000000000000000 .hidden _DYNAMIC
00000000000000e8 g     F .text  0000000000000e00 entrypoint
0000000000000000         *UND*  0000000000000000 sol_create_program_address
0000000000000000         *UND*  0000000000000000 sol_invoke_signed_c
0000000000000000         *UND*  0000000000000000 sol_log_
0000000000000000         *UND*  0000000000000000 sol_log_64_
0000000000000000         *UND*  0000000000000000 sol_log_pubkey
```
Let's say I include this code in my program.  If I define USE_RUNTIME_GET_RENT_SYSVAR, then the program cannot be deployed.  If I do not use that, and instead just have a dummy implementation that does not result in an undefined symbol "sol_get_rent_sysvar", then the deploy succeeds.
As a demonstration:
```c
#ifdef USE_RUNTIME_GET_RENT_SYSVAR
uint64_t sol_get_rent_sysvar(uint8_t *fill_in);
#else
static uint64_t sol_get_rent_sysvar(uint8_t *fill_in)
{
    return 0;
}
#endif```
If I compile a c program with this symbol undefined, the deploy fails
What do you mean it does not work?
The tx-wide cap might be a little bit.  Realloc still waiting on a dependent feature.  But the rest should make it to mnb in the near term
thanks but my bad my last id is different üòê
try using `as_ref()` for everything
returning unwanted testnet SOL to the faucet address is always appreciated: https://explorer.solana.com/address/4ETf86tK7b4W72f27kNLJLgRWi9UfJjgH4koHGUXMFtn?cluster=testnet
thanks
yes, if transaction has valid signatures and is received by the leader, it'll be executed and included in the block regardless of whether the transaction succeeded or not
me?
turbo noob question, do you pay the transaction fee for a failed transaction?
any pro here can tell me why these two things are giving me different results?
doing same thing from different platform :/
Hi, all. So I minted some tokens and got my PR merged, the decimal for the token is 9 but I accidentally put decimal 8 in the token list. Will this cause any issues?
<@!453347985628200960> re: https://discord.com/channels/428295358100013066/910937142182682656/955521374812774431
yay! are these slated for dev/mainnet 1.9 too or will it be a while?
Is this documentation just wrong?
```There are two ways for a program to access a sysvar.

The first is to query the sysvar at runtime via the sysvar's get() function:
let clock = Clock::get()

The following sysvars support get:

    Clock
    EpochSchedule
    Fees
    Rent

The second is to pass the sysvar to the program as an account by including its address as one of the accounts in the Instruction and then deserializing the data during execution. Access to sysvars accounts is always readonly.
let clock_sysvar_info = next_account_info(account_info_iter)?;
let clock = Clock::from_account_info(&clock_sysvar_info)?;
The first method is more efficient and does not require that the sysvar account be passed to the program, or specified in the Instruction the program is processing.```
I don't really know how this stuff works but I noticed that the undefined symbols in my program .so that have the same name as implemented functions in this code work, but that sol_get_rent_sysvar() does not.
I think the problem may be something to do with this (from program_stubs.rs):
```rust

#[allow(clippy::integer_arithmetic)]
pub trait SyscallStubs: Sync + Send {
    fn sol_log(&self, message: &str) {
        println!("{}", message);
    }
    fn sol_log_compute_units(&self) {
        sol_log("SyscallStubs: sol_log_compute_units() not available");
    }
    fn sol_invoke_signed(
        &self,
        _instruction: &Instruction,
        _account_infos: &[AccountInfo],
        _signers_seeds: &[&[&[u8]]],
    ) -> ProgramResult {
        sol_log("SyscallStubs: sol_invoke_signed() not available");
        Ok(())
    }
    fn sol_get_clock_sysvar(&self, _var_addr: *mut u8) -> u64 {
        UNSUPPORTED_SYSVAR
    }
    fn sol_get_epoch_schedule_sysvar(&self, _var_addr: *mut u8) -> u64 {
        UNSUPPORTED_SYSVAR
    }
    fn sol_get_fees_sysvar(&self, _var_addr: *mut u8) -> u64 {
        UNSUPPORTED_SYSVAR
    }
    fn sol_get_rent_sysvar(&self, _var_addr: *mut u8) -> u64 {
        UNSUPPORTED_SYSVAR
    }
    /// # Safety
    unsafe fn sol_memcpy(&self, dst: *mut u8, src: *const u8, n: usize) {
        // cannot be overlapping
        assert!(
            is_nonoverlapping(src as usize, dst as usize, n),
            "memcpy does not support overlapping regions"
        );
        std::ptr::copy_nonoverlapping(src, dst, n as usize);
    }
...
}```
a fee is paid per transaction, and in general 1 payer of the transaction.
Causes this failure to deploy:
```Error: Deploying program failed: Error processing Instruction 0: invalid account data for instruction```
Including this in my program:
```c
extern uint64_t sol_get_rent_sysvar(uint8_t *fill_in);
```
How do I acquire the rent sysvar in C?
i got my test sol from solfaucet . com
Oh so they can just make more?  I can just burn what I have?  I won't worry about it then.  Thanks!
testnet sol is not finite iirc
Is there somewhere to return my airdropped SOL to so that it can be airdropped to the next tester who needs it?
Hi, I got some testnet SOL from airdrop but I think I'm going to switch my development over to devnet, which is where I probably should have been doing it from the beginning.
`rustup update`
Ah damn. I get it. Thank you very much dear sir


///////////////////////////////////////////////////////////////////////////////////////////////

cookbook also has examples:
https://solanacookbook.com/references/token.html#what-do-i-need-to-get-started-with-spl-tokens
it all references the source code. so you can check the appropriate source as well for any version and for anything older.
How do I check  for different version?
ü•≤
Thats for 2.0
ü•≤
Oh thank heaps. I'm using 1.8
https://solana-labs.github.io/solana-program-library/token/js/
these docs are your close friend for web3 token related calls
this seems like solana's mainnet is overloaded and responding with time out errors. not sure what the cluster's auto-scaling looks like, but in case anyone is searching through the channel for an answer (as I was), pointing your RPC URL to a private endpoint or trying the command at a later time would help.
when i have a token object i cant just do getmintinfo..
Hi, how do i get mintinfo for the token like its current supply using web3 ?? whats the function for it ? 
ü•≤
will do... thanks a lot
that should suffice tbh
try adding 1 more sol? is this on main net ?
you will find valuable stuffs regarding what you are looking for.
Also try checking out the mango markets code? github org name blockwork foundation
I have like 0.3 SOL
Did you check if you have sufficent amount of sol in the fee payer account?
ü•≤
and ye this too.
up to you.
Like Arweave?
I am trying to use `solana program close` but I keep getting this error:
```Error: Close failed: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds```
or not even, 'cause why trust a single entity to publish reliable data
rather than in onchain account. Most likely only store the latest data on the offchain
I would recommed storing those offchain in some database
say its data about trades that are taking place off chain
what are you storing ?
its storage capacity
what you mean by reached its limit??
thanks for this, it was not obvious from the nav panel without clicking around
so, bare with me, 

PDA is created for USER
every time a user does something in my offchain app I want to record some data about what they did to the blockchain
I fire off a transaction to record that data to their PDA
after some time, that PDA has reached it limit... 

1) How would I know when the the next transaction would push it over its current limit... ie: when to create another PDA for that user? 
2) If I am using programID + userWallet to create the PDA... What is the move for creating subsequent PDAs ? 

Is there a smarter way to do this ?
https://solanacookbook.com/references/accounts.html#how-to-create-pdas
codes
there are
who can i contact to get more details about historical/archival nodes setup and configs ?
im on solanacookbook right now looking at the PDA section and they do not display any code
what you mean? You can create as much pda as you want
if my program generated a PDA for each user of my dApp.... eventually that PDA would reach capacity.... what then?
And check solana cookbook, it is explained there clearly.
you just create a struct of a the account type layout. And calculate the space for those fields in the struct.
IIRC you provide from_pubkey, the size and the number of lamports to take from from_pubkey, which has to be positive
they have immutable size, but you can version your pda account. Incase, you think you would change it in the future.
PDA size is not adjustable. Rent payor is supplied as part of the CreateAccount instruction.
All of the resources I have found on PDAs do not talk about size and rent 

When a PDA is created, Who pays the rent? and is the size of that PDA adjustable ?
Hi, how do i get mintinfo for the token like its current supply using web3 ??
is it possible to clone a program from mainnet to devnet by downloading the program data straight from the blockchain? Should be doable since the program data should be redeployable to another executable account.

Similar to what you can do with `solana-test-validator --clone` for localnet
Thanks, this is exactly what I needed to know! Unfortunately I might not be able to block on it, but maybe when I add white-label version of my project, it'll be ready üôÇ
Trying to run a simple `withdraw-from-vote-account`  command from mainnet and after waiting for a while I get the error `Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds.`

Withdraw authority has enough funds and CLI is running on the latest version - v1.9.13. Not sure what the issue could be, would appreciate direction
If anyone else gets access to my computer the folder with the keys is accessible
what is best practice for storing private keys for use in simple scripts. currently i am just pointing the script to a folder on my computer but is there anything better than this?
token-2022 has the ability to close a mint: https://github.com/solana-labs/solana-program-library/blob/master/token/program-2022/src/extension/mint_close_authority.rs
It‚Äôs not on mainnet yet, but devnet/testnet have a preliminary (unaudited!) deployment of token-2022 for early testing and feedback
I've searched the Issue list at https://github.com/solana-labs/solana-program-library/issues for 'mint' and didn't see anything in the open or closed issues. Should I file a bug?
Has anybody ever asked about the possibility of burning an SPL Mint that has zero supply? Truncating/deleting the Mint account and returning the rent to the burner?

Why I ask: I have a project that will create 4032 SPL Mints with supply 1, and it's in "preview mode" now with a mint price of zero (and a security deposit of 0.1 SOL). When I launch, all 4032 Mints will be created again, and the preview mode mints will have their functionality disabled in my project's smart contract (utility -> 0). When the utility goes to 0 the value might be worth less than the rent in the Mint. I'd like to allow the user to burn the Mint (and the Metaplex Metadata, but that's a separate Discord thread).
Can you direct me to right resources ?
I am trying to use `solana program close file1.json --url https://mynode.com/ --authority ./keys/signer.txt --verbose` but I keep getting this error:
```Error: Close failed: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds```
gm
Got it. Does it generate all the transactions history or is there any limit?
If spl-token in create-token instruction accepts another mode of token which it has all the instructions of spl-token but it is available on other program id, then spl-token uses invocation to acts as a proxy for this type of token, so everyone can code his custom token and register it in spl-token
Use Solana Pay (npm install @solana/pay)

`const signatureInfo = await findTransactionSignature(connection, 'your address')`

That's the actual code I used to generate that request above üôÇ
Thanks for the reply. Do you have the same for javascript?
Try importing this into curl (this is devnet):

```
curl 'https://api.devnet.solana.com/' -X POST -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:98.0) Gecko/20100101 Firefox/98.0' -H 'Accept: */*' -H 'Accept-Language: en-GB,en;q=0.5' -H 'Accept-Encoding: gzip, deflate, br' -H 'content-type: application/json' -H 'Origin: http://localhost:3000' -H 'Connection: keep-alive' -H 'Referer: http://localhost:3000/' -H 'Sec-Fetch-Dest: empty' -H 'Sec-Fetch-Mode: cors' -H 'Sec-Fetch-Site: cross-site' --data-raw '{"method":"getSignaturesForAddress","jsonrpc":"2.0","params":["YOUR ADDRESS",{"commitment":"confirmed"}],"id":"0124c4ad-c58d-49a9-af33-7751bd66d199"}'
```
Don't think that will work unfortunately, since the resulting "tokens" won't have the spl token program as their program owner, and hence won't be treated as tokens by the rest of the ecosystem.
Hi, can anyone provide me api url for getting transactions history using public address ? For example we can make use it in postman and retrieve the list
I mean customized behaviour token
Hi, i need to code some tokens with some custom instructions, if i clone spl-token and change it for myself, how can i add my generated tokens in my custom spl-token to public marketplaces?
what the best way to instant sale a spltoken or nft??
thanks
No, you can do this right in vscode.
https://solanacookbook.com/guides/debugging-solana-programs.html#facts
do we have to deploy contract on local env? can i have any docs on that?
Yes, if you use `solana-program-test` in your test case you can set breakpoint in your program
or anyway i can have a single wallet popup to sign for multiple transactions?
oh, can you tell me the tough way?
No, not in any easy way
wow, thanks!
is it possible that we have authority from the user to sign its transactions for fixed period of time?
Hi all, I was trying out a few things with the Rust solana libraries to get more familiar with Rust and I've gotten stuck on a docs page from which I can't make sense. 
I'm trying to get the token account (or the token owner's wallet) from a token address using the get_token_accounts_by_delegate method, but it's asking me for a TokenAccountsFilter which I don't know how to set. Could anyone help me out? üôÇ https://docs.rs/solana-client/latest/solana_client/rpc_client/struct.RpcClient.html#method.get_token_accounts_by_delegate
Ah, ok, maybe solscan doesn't show this info (wtf?), but the vanilla explorer does: https://explorer.solana.com/tx/3Eh3xdieLq44TqSdn8dbYZu9LcfFpVv5tZ7UmZ4UaE1QH9RrctLyZFoLBhHv7cpwEMvsSr25vfCn8R3yM384CHcG
I can't find this information, can you point it out for me? thanks
Hi guys, I wonder if I can use breakpoints for debugging in local environment?
Solscan ought to tell you if an account is mutable/a signer when looking at a transaction
Hi , I want to know how to determine AccountMeta when constructing transaction parameters? 
For example, to determine the "isWritable" of an account is true or false?
Is it possible to view the AccountMeta of the parameters of a completed transaction from solscan.io?
i have also try the ComputeBudget program but but when i added this in my anchor transaction it gives error 

Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: invalid instruction data


const data = Buffer.from(
        Uint8Array.of(0, ...new anchor.BN(14000000).toArray("le", 4))
    );
    const additionalComputeBudgetInstruction = new TransactionInstruction({
      keys: [],
      programId: new anchor.web3.PublicKey("ComputeBudget111111111111111111111111111111"),
      data,
    });

  const rawtx = program.transaction.updateLevel(sigHexString,
                nftAddress,
                new anchor.BN(5),
                new anchor.BN(currentBlockTime), {
          accounts: {
            user: anchor.Provider.env().wallet.publicKey,
            levelUpAccount: levelUpAccountPda
          },
              signers: []
            }).add(additionalComputeBudgetInstruction);
I'm trying the NACL rust lib for signature verification
but when i call the nacl::sign::verify method it exceeded Compute Budget units which is 1400000 in Anchor test
Yes
Will see if it happens again, but thank you for all the help.
<@!785084693023424542> Just an update, I tried it this morning and it worked fine. So it's possible that the issue was transient, or happens only occasionally.
Is it possible to create a dollar pegged coin in solana. Want to create a coin whose value should always be 0.1$ always ?  1 RAT token = 0.1 $
ü•¶
use anchor.. it stops you from making these kind of errors
ok.. all good.. i now noticed i used println! instead of msg! and i can see why it fells.. order of next_account_info was incorect. thanks <@!242234529396424704>
Show the error?
it fails inside the program can i try catch it somehow??
üò∂
ü•≤
Use try catch
im trying to add the keys seperatly from the instruction object...  

is that invalid ?
it wouldnt give you that error if it was valid ;-;
everything looks valid to me... ü§£
argument you passed isnt valid ?
what does this error means?

invalid program argument

got it for TransactionInstruction ...
i try to airdrop once in 2 accounts consecutively through same connection object and gives me too many request error smh
why is there so  rate limiter on connection to devnet like
Any direction on how can one generate an NFT from the Solana Program itself ?(ie. not minted from the client end but by the program itself )
üëç
Cheers
Ye seems like it. ü•≤
maybe you're having a bit old versions of this library, idk
not sure from your explanation, but check the installed version of "@solana/spl-token"
Yeah, I think by pda i'll have a good control over this, also updating data on Arweave is not a big-deal, as with transfer the whole player (with all power-ups will transfer between users)
Maybe its just a matter of changing ownership of the pda
Sure haha, thing is I don't know if you plan to transfer this information when your players exchange their NFTs, it will start being a little more complicated then
yeah I would only go with Anchor as it super-duper simplifier tool for the developing process üòÑ
Nice to hear that, good idea to keep in touch :D. Yeah, definitely hashmaps is good idea. What I had in my mind was to, just keep NFT data in Arweave, and as player NFTs are powering-up, I change metadata on Arweave.
When player wants to play with these players, some centralized server acts like an Oracle and bring these Arweave Metadata into game (So there is no need for renting some space for this hashmap).

But I was not sure with this approach. Hashmaps like to work well. Another approach is to store some metadata (e.g. health, strength, and speed) on the solana chain, not Arweave. As so i'm a bit confused, haha.
Also assuming you use the anchor framework
Note that there would be a lot of verification to do, like the user actually owns the nft, thats some parts I'm also working on. Lets keep in touch maybe we could help each other on this
<@!692721532228730952> Hi mate, we're on the same boat haha.
What ppl have suggested to me and I started implementing for my own game is a hashmap like structure using PDAs.
It was a bit of a hassle for me to understand at first but I finally got it to work yesterday.
I suggest you follow the tutorial part on PDAs in the Anchor book : https://book.anchor-lang.com/chapter_3/PDAs.html
The only difference for me and you is that a user could have multiple keys (for each NFT). At the initialisation of the derived account you could provide something that identifies the NFT (hash maybe? I'm still working on understanding all of that).
for the accounts declaration you can use a `#[instruction(nft: Pubkey)]` to add it in the seeds along the user pubkey and bump
i have it from the solana cook book?
why does it says no member for mintToChecked??
Hi,
Heya this actually works perfectly, although it current has not been uploaded to NPM. This code was added around 14 days ago but the last update to https://www.npmjs.com/package/@solana/spl-token was a month ago
In general how would you structure a Solana NFT-based game which user can power-up their NFTs?
Hi there i'm developing a solana NFT-based game using Anchor. 
In this game i‚Äôm using Metaplex for issuing my NFTs. These NFTs are players which has some properties like health, strength and speed.
However, as the game evolves users can train their players for having higher strength. I know how to program this in my mind, but there are so many approches,  and I want to do this in the best and effienct way for my client. How do you reccomend this power-up occurs?
For example: Should I just update the Arweave metadata? or having some corresponding accounts which will contain health, strength, and speed for each NFTs?
If I just update the Arweave metadata how sould I get these ‚Äúhealth, strength, and speed‚Äù values into my contract? Is it safe to have a centralized-online key with administrative permissions to bring these data into the contract (a.k.a. solana program), in case of playing-time?
Ok Thanksüòá
I know you copy code from these lines, but apparently you can't run it successfully.
have you tried to give a mut tag to the staker and run it again? I'm not the code owner. I'm not pretty sure is the origin code is fine or not.
Yeah actually I think this ought to do it. Lemme try!
<@!788215642070581289>
maybe https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/state/account.ts#L115
or you can adjust your commitment to `confirmed`. it will make you get the result more quickly but just remember it is not a finalized so maybe there should have a finalize process ?
https://github.com/Hiroki-Yoshida7/Stake-NFT-on-solana/blob/main/programs/nft_stake/src/lib.rs#L106-L114
Hey guys,

A quick question here - was wondering if there's a neat solution.

I want to getMultipleTokenAccountBalances() but this function does not exist. Currently I am making multiple getTokenAccountBalance() calls. 

Is there some way of doing this quickly that I'm missing? Or I can getMultipleAccountInfos and parse that data?
oh sweet cheers.
check https://solanacookbook.com/references/token.html#how-to-mint-tokens
the new version spl lib has many friendly default value.
Hey <@!788215642070581289> , I have set up a permissionless crank to update the data in an account. But the updated data is only available after the transaction is finalised which takes 10+ seconds. Is there a way to make the data available much faster , lets say within 1-2 seconds
i wanted to use Token.minto <--- but it had like createMintToInstruction, what program id do i pass here??
oh yes thank you. I misunderstood something there thank you. Where can i check the function of Token module for web3??
AFAIK the pattern will more like https://github.com/Hiroki-Yoshida7/Stake-NFT-on-solana/blob/main/programs/nft_stake/src/lib.rs#L82-L87
someone is a payer so someone has a mut tag.
check out this
https://github.com/Hiroki-Yoshida7/Stake-NFT-on-solana/blob/main/programs/nft_stake/src/lib.rs
not sure I understand. you create a mint when you want to have your own token.
it won't return you anything or maybe a successful transaction hash?
you can use getAccountInfo or https://solanacookbook.com/references/token.html#how-to-get-a-token-mint to check
I mean the payer, `staker`. I think you also pass an account called staker in your context.
or you can ask them for a better support https://discord.gg/RSNRbKPj
if you want to get all closed token account, I think you need to get all tx history from the owner.
basically those accounts are closed, it means it is just like a random account on chain. the only connection is that it must closed by its owner.
Is there a PR (or set of) to follow the progress of this proposal? https://docs.solana.com/proposals/simple-payment-and-state-verification#light-clients
where can I check this? thank you
Hi, so when Ive create mint? what does it return ??
***mut cannot be provided with init***
welp, this doesnt return the account i need to use. i need to find another way to get all those closed accounts
thanks again <@!788215642070581289>
hmm. yeah we thinking of this as a solution
if you don't have any DB which owned by you, I think you need to grab these tx history like this.
how about this one? is there a more elegant solution?
thank you very much appreciate it, im just creating a dapps right now, so its more of fetching some data on the block chain.
agree. maybe you can take a look here https://docs.solana.com/developing/programming-model/overview
those concepts are very important.
also we're always here to help you.
with this program, token account and account
man solana is really confusing
thank you.
this is the detail about ATA 
https://spl.solana.com/associated-token-account
and 
https://solanacookbook.com/references/token.html#how-to-create-a-token-account
well my problem is, i need a transaction from that closed account, thats why i need to fetch it.

"if you are using ATA, you can know the token account address via owner + mint although it hasn't initialized"
how can i do this?
this is a complex problem, I'm not pretty sure which token accounts you're using.
if you are using ATA, you can know the token account address via owner + mint although it hasn't initialized
and TBH if a token account has been closed, it just mean it don't have any token in it and it is just an empty account atm

I think for your requirements, you will need a DB to store those custom data so that you can fetch them more efficient
yeah.. so im looking for another way? or is there still away?
if a token account has been closed, I think it is hard to fetch it back through getProgramAccounts.
i just have another question,

how can i get the token account of an address if it the account is already closed? coz its not showing when i used this getParsedProgramAccounts
not pretty sure the context, but I just guess you create and close an account in the same tx. the account only live in the tx executing.
thank you, but this will really take long. üôÇ ive done this i just want to find a more elegant solution. thank you anyways
you can get your wallet transaction history.
use
1. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
then
2. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
parse instructions and inner instructions, find a token transfer or transfer_checked
or you can only check pre/post token balance, it will also a solution.
the error is `the payer specified for an init constraint must be mutable`
your payer is staker, you have to give it a `mut` attribute.
yes
Hi, I keep getting `Blockhash expired` error when deploying program on localnet, how can I fix this?
what does solana transient account means?
Just did a major update to my airdrop2holders script - Save on gas fees during airdrops by bundling airdrops to holders of multiple NFTs + skipping airdrops to sender accounts, 

Simple and efficient SPL token airdrops ü™ô

https://github.com/jjonahlowercase/airdrop2holders
yow, i got a question, how can i get an NFT that was sold on my wallet like 5months ago? is there an easy way?
`#[account(init,seeds = [my_account.key().as_ref(), b"stake"],bump,token::mint = stake_mint,token::authority = authority,payer =staker)]
    pub contract_token_account:Account<'info, TokenAccount>,  `    *** error*** :-the payer specified for an init constraint must be mutable.    in   ***pub contract_token_account:Account<'info, TokenAccount>, ***
But burning reduce the total supply and I want to keep a minimum number of total supply of my token Mint. I have to create a token Account whose owner is the Incinerator then transfer to this account. Since no can can derive the Incinerator's private key so the amount is practically locked. Is it right?
yow, i got a question, how can i get an NFT that was sold on my wallet like 5months ago? is there an easy way?
Ok, so basically, if the number refers to a supply, we use a u64.  Much thanks.
in the case of supply, this value would never be negative right. so this is at least 1 reason it would be a good idea to make the value unsigned as a datatype.

unsigned means generally at least 2 things,  the value cannot be negative, and because it can hold the same amount of data as a signed value, it can generally refer to a larger positive value range.
some context:
https://doc.rust-lang.org/book/ch03-02-data-types.html#integer-types
I think so.  The link I reference specifies a u64, which is unsigned.  Is my understanding correct?
are you familiar with what signed and unsigned data types are?
In the code for some smart contracts and for SPL, I have to use u64 instead of i64.  u64 is unsigned .

Example--> https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L22
Ok I think I have a better understanding than before, I will try what you suggested and connect with you again.

Thank you once again for replying so quickly.
what are you referring to specifically?
https://docs.rs/crate/xargo/latest
Hello.  Why does solana use uint64 instead of int64 for token amounts and SOL amounts?
I think really, and in general, its probably easier to look at explorer and solscan and cherry pick what addresses they claim to be from certain protocols and map those yourself and store them somewhere. things like this generally people create their own system and data stores for, and potentially check others to corroborate.   so if you have a list of magic eden addresses, for types of transactions from scolscan, and whoever else has them, when your parsing your transactions you map them to your known address lists.  and can use a proper name for known ones.  

I believe solana explorer does something with addresses and names as well, and its open source so you may look at their approach as well. obviously not all explorers have all named addresses, and may use diff methods for verifying.  addresses mapped to names may change, but more likely would not, if they are programs.
Hi! Does anyone knows what is the need of Xargo.toml file?
Hey, thanks for the prompt response.

Ok so if I understand it correctly I have to look for the address in the logMessages object similiar to how we look for the token string when we need to find spl tokens?

I am new to solana so pls bare with me.üòÖ

Oh btw I completely forgot to mention that I am using solana web3 and metaplex metadata library in order to achieve this.
basically digging in and doing the research
probably just finding a list of addresses commonly used in the transactions associated with the protocols. there is no other association or query you can make other than that from your own findings or another source you may trust.
Hi all,
Hope you all are doing well,

I am working on making a custom solscan like website where I am only concerned with NFT trades. I have figured out how to track NFT transactions.

The thing I have been struggling with is how does solscan figures out what NFT was traded/listed on what marketplace/website.
If you go to solscan > NFT > trades, you will see that solscan is able to figure out whether an NFT was on magiceden, solanart etc.

I wish to achieve the same thing any ideas how I can go about it?
https://discord.gg/suBgnB9n
not for a desired prefix of more than two or three
error: bump targets should not be provided with init. Please use bump without a target.
I followed metaplex struct but it generates this error
I'm assuming this will take a while, we want to do it quickly on demand whenever minting a new NFT, so I'm assuming this is not viable
How can I calculate the exact transaction fee ?
Ya, it seemed a little sus, still getting familiar with how solana works, definitely lots of room for issues for people writing programs

I am facing a problem sending instructions using the phantom wallet in Solana Hello World Example Program. I am getting the following errors. Does anyone know what i am doing wrong. would really appreciate your inputs. Thank you.
ya, obviously one would generally not want to generate an ed25519 keypair using this hashing technique for use on mainnet
Cool!  
https://github.com/solana-labs/solana/blob/master/SECURITY.md
But I can assume what it is
Nope, I'm primarily looking at it for a CTF challenge
üëç  you know about the security bug bounty program right?
I thought it must have been in the elf somewhere
It's a framework used for security research, doing stuff locally so not really too important
 https://github.com/neodyme-labs/solana-poc-framework/blob/main/src/lib.rs#L289
weird, I'm curious what framework did that?
Oh, I see, look like the framework I was using attempts to generate one using a hash of the binary
https://discord.com/channels/428295358100013066/517163444747894795/955772112696668170
So can you generate a key pair/address with a specific value?
when you deploy a program you can select the desired keypair, which determines the program address
You're right, signatures aren't hashes, my mistake
I don't have to deal with someone after telling them that signatures aren't hashes
Is it possible to set a public key for a elf program?
You don't have time to tell me if signature hashes utilize seeds?
man you aren't even wrong. I don't have time for this, sorry
I'm asking if signature hashes utilize seeds similarly to PDAs
PDAs are generated using seeds, and bumped off of the ED25519 curve
you should at least act like you made an attempt to look it up on wikipedia
what are the seeds
meaning like
Randomly?
It's just ed25519, nothing magic
Does anyone know how transaction signatures are actually derived? I'm assuming they are derived from the private key and the recent blockhash, but is there any documentation on how exactly a signature is derived?
i'm still on 1.8.11
is there a tutorial for how to upgrade solana on a mac (m1)?
thanks!
thank you, is this what most programs use?
maybe https://solanacookbook.com/references/nfts.html#candy-machine-v2
you can use  https://pyth.network/
Hey, does anyone know how to get the price of SOL/USD in a smart contract? So to validate that the amount of SOL needed is accurate
anyone know how to check for every nft in a collection generated using candy machine v2?
How can I name my contract Instructions? like Sol-Transfer or CreateAccount, you can see in the image, those unknown instructions are in my program, Im using anchor btw
hey does anyone know when are program logs created?
Hi guys, I built  https://solthread.com. A site which allows users to connect their wallet and but their NFTs on physical products like T-shirts. I have other businesses that are taking most of my time and cant give this one the love and attention it deserves so I was wondering if any of you know the best place to find someone to purchase a fully working Solana NFT startup like this one. Or if any of you have any experience selling a solana project. Any advice will be appreciated. (Can DM me)
righto, cheers <@!134416332509675520> , seems like the only way to shed some fat is changing the data
Yep, that's most of it, can read more here: https://docs.solana.com/developing/programming-model/transactions#message-format. There's also the 32 byte blockhash
is there a rough rule of thumb for calculating the transaction size. I am getting Transaction too large error by not much.
is it something like
size = 
numUniqueAccounts * (32 + 1 + 1)  //pubkey, signer flag, writer flag
+ numUniquePrograms * 32  // for each instruction program pubkey
+ sum(data size in each instruction)
+ 64 + 32 // signature, and signer pubkey
Missing anything here?
thanks
got myself a node and it was flawless
its not a big job tho
did you try another RPC url?  based on the nodes they can get behind, and need to catch up. there are times when u may want to try an alternate provider.
i need help with solana development (creating a website for nft swapping) im willing to pay dm me if youre experinced with this topic
is this just Solana being slow?

but I keep getting this error
hello
i've been trying to write a function that close token accounts asynchronously 
```typescript
async function closeAccounts() {
  let response = await connection.getParsedTokenAccountsByOwner(
    keypair.publicKey,
    {
      programId: TOKEN_PROGRAM_ID,
    }
  );

  let promises = response.value.map((revolve, reject) => {
    getAccount(connection, revolve.pubkey)
      .then(function (tokenAccount) {
        if (Number(tokenAccount.amount) === 0) {
          let txhash = closeAccount(
            connection, // connection
            keypair, // payer
            tokenAccount.address, // token account which you want to close
            keypair.publicKey, // destination
            tokenAccount.owner // owner of token account
          );
          return txhash;
        }
      })
      .catch((error) => console.log(error));
  });

  Promise.all(promises);
}
```
I would like to see this program: https://www.solaneyes.com/address/EdYp85RTTNJJAFCXuCPc1uoSJuchchxEXr9W39tmktFu
Is there a tool that allows to see the different functions of a program in mainnet? I only found this one (https://www.solaneyes.com/address) but when I am in mainnet I can't see the IDL
?
when is 1.10 coming
oh i see
do nfts have like approve for all etc like eth ones do
how do we call smart contract functions from phantom wallet?
How are you trying to create the token?
hello
Yes, you can pick the keypair/address you want to use
Is it possible to specify the token ID when creating it
Thanks you üôÇ
If this isn't the right place to ask for v. basic Anchor help, please send me elsewhere.

I'm trying to set up Anchor, following the instructions in the book. When I try to run ```avm install latest``` I get an error message: 
```PS C:\Users\MyUsername> avm install latest --force
    Updating git repository `https://github.com/project-serum/anchor`
     Ignored package `anchor-cli v0.23.0 (https://github.com/project-serum/anchor?tag=v0.23.0#77b1afcf)` is already installed, use --force to override
warning: be sure to add `C:\Users\MyUsername\.avm\bin` to your PATH to be able to run the installed binaries
Error: The system cannot find the file specified. (os error 2)```
Does anybody know what that's about? 

Running ```avm use latest``` gives me ```Version 0.23.0 is not installed, no current version.```, but ```anchor --version``` gives me ```anchor-cli 0.23.0```. I am confused. I would try purging everything and starting again, but I'm not sure what went where when I was setting the various bits up...
yes, solana-web3.js needs improvement here I believe.  The correct method is to wait until the transaction blockhash expires.  The Rust solana-client crate does this, but the JS SDK just dumbly waits a max of 60 seconds
Hey all! 

What is the best way to handle the error 
`Transaction was not confirmed in 60 seconds`
A lot of the time, the transaction does go through. Would it make sense to keep retrying to send until successful?
Here's how you could burn some tokens within anchor: https://github.com/cqfd/anchor-token-studies/blob/main/programs/token-studies/src/lib.rs#L58
prevents dust accounts I'd imagine
I see, thank you
initialize enforces rent-exemption, so that instruction would fail
what would happen if you made a token account with less then the rent exempt amount? would it just get cleared even with a balance on it?
all DMs are a scam
beware of scammers
i know nothing about NFTs
I mean how can I mint my own NFT and sell it (primary market as I am the creator)?
That would be awesome
I can help you
The NFTs from the primary market have the primarySaleHappened: 0 -> any idea how to mint an NFT and keep this at zero?
no clue about anchor. it's just an instruction. presumably it can deal with those somehow
if it's "general" then it's at least metaplex general
i have no idea
(this is from solscan)

It is more a general question: what did I do such that the status of the NFT changed to secondary market?
Yes ok so if I use the burn command on an NFT, it deletes it. Since it's a CLI command, I guess it's possible to call it with Anchor?
these sound like questions for wherever holaplex support is
NFTs are just a special use of spl tokens
I am listing my NFTs on holaplex as auctions.
I created a candy machine with keypair A, I minted the NFTs with keypair A, the creators of the NFT are the candy machine and pubkey A

However, the NFTs are marked as secondary market and on holaplex they appear under "Secondary" instead of live

Any idea what needs to be done to get a live auction instead of secondary?
As I am the creator and the buyers buy the NFTs from me, it should count as primary market, correct?
Burn NFT and burn SPL-Token -> Same ?
I‚Äôll look ! Thanks
link is in <#937905165074300999>
Yep, exactly
You are everywhere sir üòÇ

So we are talking about a function allowing the destruction of the token and removing it from circulation.  I'll look for that.  Thank you !
You tell the spl token program "get rid of this üò§" and it deletes it
No, burning a token just magically deletes it
Hello, what exactly does it mean to "burn" a token?  Do we create a new account, airdrop the token to this account and then close the account?
is it possible to mint a token with a specific ID on solana?
use case: hash the metadata of the NFT and use that as the ID
Resolved my issue by using `@solana/web3.js` version 1.34.0 instead of 1.36.0
When building an ebpf is it possible to overwrite the public key?
How to check on which network a RPC endpoint is setup ?
`getProgramAccounts` is the devil. Use a geyser instead. https://docs.solana.com/developing/plugins/geyser-plugins
Yep, there does not seem to be a way to `getProgramAccounts` and the context at which you read them üò¢
Hey hey üôÇ 
So i'm building somewhat of an indexer for my project. 
I will run `getParsedProgramAccounts` every N seconds as to reset my cache. 
Is there a way to know the slot at which the data got read ? For i'm getting info from multiple sources (like user transactions) and thus knowing the order of actions becomes important.
Do I have to use metaplex to make an NFT?  Is there any downside to using it?
https://discord.gg/zmDJZJyS
does anyone have the link to the metaplex discord?
to make us request airdrops more üòÖ
wheres the logic

okay! thank you for the comprehensive answer! In terms of usage, is it just a matter of creating a `new Transaction()`, then using the `.add()` method multiple times with many `SystemProgram.Transfer()` instructions? (@solana/web3.js)
Oh, awesome, didn't see this was added. So we just need to make sure we're setting the `token_standard`  attribute to `FungibleAsset`?
Yeah https://docs.metaplex.com/token-metadata/specification#token-standards
We're trying to be more efficient with gas and avoid paying to create a new mint each time because each token will have the same metadata
Is it possible to create semi-fungible tokens where the SPL token has zero decimal points but a supply of greater than 1?
thanks, curious if you know any good resources on detecting re-orgs / their freuqency on solana


///////////////////////////////////////////////////////////////////////////////////////////////

Hi, I'm Bastien, computer science student at EPFL. I'm building an online game with two friends, and the login would be the connection to a Phantom wallet. Unfortunately, we're struggling on verifying the signature of the user. Basically, we want to have this verification in our server (C++) but we're lost on how to proceed. Also, we're a bit confused about the type of the signature given by Phantom, for example, we're unable to decode the return value of the signing to UTF-8, we get unrecognized characters. It would be awesome to communicate with someone from the Phantom team if possible. Or if someone has an example code of a client asking for a signature, sending it to a C/C++ server and verifying it, it would be really helpful. Thank you for your help!
With the small node counts we can support it should be easier to generate a unique hash per entry. Matching something like money paid plus time of order to an order info struct would be cool
No ser i did not ‚ù§Ô∏è thank u
yeah you can make it compile, but since the random state is observable, they're vulnerable
what's the data?  typically hashmaps should be implemented over the program's PDA space, assuming they're holding sufficiently large data
Ah got it‚Äîlol, I was just curious if it would compile üòõ
but subject to collision attacks
We use a sorted vec right now, but there's a pretty big hit to insert into it, also growing with node amount.
Yeah I think you can barely fit a few thousand nodes if they are all a single u64 so it's not like a huge issue at this point
Yeah ^
performance wise an array or vec will always be better for performance when you know what you are looking up.
Mm, trying to think about that, if you have 1000 nodes in that map, that's going to take up a fair amount of space, right? Even if your keys and values are just, like, u64s, that would be around 16kb of space‚Äîthe whole heap is only 32kb
With the btree the performance of a lookup gets slower as it grows so its harder to test against. My concern is we might be good in compute resources when it's empty and then as the account grows we end up over budget.
Ok thank you <@!134416332509675520> for the response, its great help
Not directly, no (not like you're doing above). You would instead need to ask the metadata program to do it for you (they presumably expose some instruction to do so)
Ok that means I will never be able to create PDA account from client ? right ?
Not possible to sign for PDAs from the client, only their deriving program can do it (that's what `invoke_signed` is for, when doing a cross-program invocation)
Hey guys
How can I sign a transaction containing PDA account, any example link please ?

MY CODE
    const [masterEditionPDA, bumpSeed] = await web3.PublicKey.findProgramAddress(
        [
            Buffer.from('metadata'), 
            (new web3.PublicKey(programIdsa.METADATA_PROGRAM_ID)).toBuffer(), 
            mintKeypair.publicKey.toBuffer(), 
            Buffer.from('edition')
        ],
        new web3.PublicKey(programIdsa.METADATA_PROGRAM_ID)
    );
 
    await connection.sendTransaction(
        new web3.Transaction().add(
            web3.SystemProgram.createAccount({      
                fromPubkey: wallet.publicKey,
                newAccountPubkey: masterEditionPDA,
                space: MasterEditionV2Data.SCHEMA.span,
                lamports: await connection.getMinimumBalanceForRentExemption(MasterEditionV2Data.SCHEMA.span),
                programId: new web3.PublicKey(programIdsa.METADATA_PROGRAM_ID)
            }),
        ), 
        [wallet, ??????????????????????????????? ]
    );
One thing to bear in mind is that even with a HashMap, you still have to deserialize it from the raw data stored in the account, which will probably cost a decent amount of compute no matter what if you have so much data
Are you worried that a BTreeMap would be too slow? Or too much compute?
Darn I was hoping someone did the legwork to build it. Constant time lookups looking more appealing as the larger account sizes can store over a thousand nodes
But yeah, you should just use `BTreeMap` instead
It actually strictly speaking can work üòà
Has anyone implemented a Solana friendly hashmap crate yet? I know the rust standard one won't work on chain
thanks!
that does get past the error
Try sending that amount and see if you still get the same error
The rent exemption minimum for an empty account is actually way bigger than that, it's 890880 lamports
yeah
123 lamports?  üôÇ
in 1.8 there didn't seem to be any minimum for an empty account
ahh, so that's new behavior then, is it?
The issue actually might be that if you send such a tiny amount to the PDA, it will then be a real account again, and 123 is below the rent exemption minimum‚Äîeven empty accounts have a rent minimum üôÉ
123 lamports
How much is that `amount` you're transferring?
`&balance_account` is the PDA, at this point in the test it has a balance of 0, and a data.len of 0
In the transaction log you can see that the payer has `999999929529880` lamports
The code which generates the error is this:
```
    context
        .pt_context
        .banks_client
        .process_transaction(Transaction::new_signed_with_payer(
            &[system_instruction::transfer(
                &context.pt_context.payer.pubkey(),
                &balance_account,
                amount,
            )],
            Some(&context.pt_context.payer.pubkey()),
            &[&context.pt_context.payer],
            context.pt_context.last_blockhash,
        ))
        .await
        .unwrap();
```
what is this?  context?
right, and that works fine
no not to receive.  but if the receiving wallet does not have the token account, you may need to fund the token account to be created.
so your trying to have a PDA be the fee payer for the ATA?
https://github.com/step-finance/step-staking
and to be clear, that part is working fine, it's a subsequent system transfer to the PDA account which fails
It's creating the ATA, the SOL balance is just the rent exempt minimum for the ATA
can you share some code?   something of this sounds familiar. the PDA is trying to transfer a SOL balance to an ATA?  why would you be sending a SOL balance to an ATA?
Nope, as long as they're not the fee payer. You might also need to pay for a token account for them for that token. Example: https://solscan.io/account/uzF4pL2DKVPiA8H7K9vvnnwwQkGDj7yadfC1xKiVUkq?cluster=devnet
There is enough token in your wallet?
Hi, Dose transferring  SPL token to CLI generated wallet address requires SOL to receive the SPL?
what's wrong with this?
I'm having trouble understanding the rules of what causes the `InvalidRentPayingAccount` error -- I have a test which sends a balance to a PDA with no data, executes a transaction which uses that balance to create an ATA, and then tries to send another small balance to it. The first two steps work fine, but on the 3rd step, I get:
```[2022-03-25T15:52:59.316281000Z TRACE solana_runtime::system_instruction_processor] process_instruction: Transfer { lamports: 123 }
[2022-03-25T15:52:59.316295000Z TRACE solana_runtime::system_instruction_processor] keyed_accounts: [KeyedAccount { is_signer: false, is_writable: false, key: 11111111111111111111111111111111, account: RefCell { value: Account { lamports: 1, data.len: 14, owner: NativeLoader1111111111111111111111111111111, executable: true, rent_epoch: 0, data: 73797374656d5f70726f6772616d } } }, KeyedAccount { is_signer: true, is_writable: true, key: DP1gJ1Qp1EFsJYSjKKeVEpDiipAPhFfKouhCfXDBAyL, account: RefCell { value: Account { lamports: 999999929529880, data.len: 0, owner: 11111111111111111111111111111111, executable: false, rent_epoch: 0 } } }, KeyedAccount { is_signer: false, is_writable: true, key: 8un8pt3aVJ5MhXu7zStqrKyCvdEEpTujFegf4zzNtRrD, account: RefCell { value: Account { lamports: 0, data.len: 0, owner: 11111111111111111111111111111111, executable: false, rent_epoch: 0 } } }]
[2022-03-25T15:52:59.316506000Z DEBUG solana_runtime::message_processor::stable_log] Program 11111111111111111111111111111111 success
thread 'test_wrap_unwrap' panicked at 'called `Result::unwrap()` on an `Err` value: TransactionError(InvalidRentPayingAccount)', tests/balance_account_spl_transfer_tests.rs:109:10```
Has anyone run into these errors before? Im pretty lost

`prim-utils:build: ../../node_modules/@metaplex-foundation/mpl-core/dist/src/accounts/TokenAccount.d.ts(4,10): error TS2305: Module '"@solana/spl-token"' has no exported member 'AccountInfo'.`

`prim-utils:build: ../../node_modules/@solana/web3.js/lib/index.d.ts(2,1): error TS6200: Definitions of the following identifiers conflict with those in another file: Struct, Enum, SOLANA_SCHEMA, MAX_SEED_LENGTH, P....`
What is your reward formular?
Clicking on "Select Wallet" normally pops up a little window allowing one to connect to the Phantom Wallet and displays the wallet. However, if I click on it while the underlying page  is inside an iframe, I've noticed that all I get is a "Connecting" message and no pop-up window appears - I suppose because it is "trapped" behind the iframe. Is there any way to set the target of the "Select Wallet" so that the pop-up window will appear in the main parent window outside of the iframe? I'm not sure if this is even possible, but would be good to know.
Hello everyone, I'm trying to write staking my token, but I can't write getting tokens as a reward, maybe someone has an example of the staking code, I just found staking in the official git of solana, I will be grateful if someone can help or show an example code
oh thanks for sending this along üôÇ will take a look!
there are a lot of examples https://solanacookbook.com
replied you at <#814696762467287121>
Hi! I'm an EVM blockchain dev  starting to tinker with solana contracts now üôÇ I'm following the docs and am trying to send a transaction on a solana contract to interact with another network, but I'm not sure how to construct the instructions for  the transaction? From the docs -" Programs typically provide helper functions to construct instructions they support" - where do I find these helper functions? Is this only for programs built by solana, or any program deployed on solana generally?
‰ª£Â∏ÅË¥¶Êà∑close accountÂêé ÂÜªÁªìÁöÑsol‰ºöËøòÁªôË∞ÅÔºü
you can turn off CPI recording on individual nodes, the solana RPC might have done that
the behavior you're expecting when you transfer 1 whole token is to use decimals? what does that mean
Hi Peps!

Ref: 
Token decimals: 9
Token Total Supply: 1000 
Wallet Token Balance: 1000

When I transfer 1 token referenced above, it transfers 1 token and left with 999 tokens.
The behavior I'm expecting is it should utilize the decimals, currently's what's happening doesn't give an understanding of the role of decimals, it is exactly behaving as what a 0 decimal token looks like.

Why I was able to transfer tokens in decimals (0.5 tokens) using Phantom Wallet, while this can't be done in Ethereum, that's why 18 decimals are in action in ETH.
I want to know the whole decimal flow here!

Thanks in Advance
Hi everyone , Hope you are doing well, I am Facing issue in signing the transaction with custom Token and Its give me error by sign the transaction . Its gives the error of failed to create the transaction I am using the SPL-token versions 0.1.8 kindly tell me what is going wrong with this code .
Tbh I'm a bit surprised token supplies aren't u128's for this reason. You just can't use 9 decimals if you want that much total supply‚Äîas you say, it can't fit into a u64.
Hi Peps!


I am creating a 10B total supply token with 9 decimals (10^9 * 10^10) which out limits the u64 max. 
When I try to mint 10B it gives an assertion error as it crosses u64 max limit
How can I achieve this? At the moment I can max achieve (10^9 * 10^6) i.e., 1M total supply.

Thanks in Advance
and default mint pubkey
And what mean AliceTokenATAPPubkey
How to fix this in devnet
exceeded maximum number of instructions allowed (200000) at instruction
Mint = tokenAdress?
https://portto.github.io/solana-go-sdk/tour/token-transfer.html
<@!788215642070581289> hey. how i can transfer spl token by GOlang ? dont see that in documentaion
https://solang.readthedocs.io/en/latest/
What things I need to keep in mind if I want to port a simple solidity smart contract to solana program like in solidity numbers are int256 here i64/u64. How the structure changes for libraries and unchecked block of code. If anyone can explain me in detail.
Tried that too ü•≤
I would maybe try renaming that directory (get rid of the spaces in Solana Twitter)
error in "anchor build"
yes
Alright üôÇ and you are still getting the same error message regarding yarn install?
1.22.18
Did you do it now? Do you get an output for `yarn --version`?
Yes...did
You didn't install yarn on your machine
Would it help if I post the entire code?
I am getting this error... Anyone knows how to solve this?
Can block outdated account from using the contract
Anyone who wants to use the program will be forced to upgrade their accounts
Upgrading old accounts would require you adding an instruction to your program that does the upgrade, and then manually upgrading all of those accounts
Yeah, in general any program upgrade would need to be backwards-compatible with any existing accounts it works with (assuming you still care about them).
Is there any resource I could refer to understand how to upgrade a solana smart contract - What if I change the state in my upgrade wont all the program accounts bug out? How do I change the state of all my program accounts
Just added wallet blacklist functionality to my airdrop2holders script - Efficient SPL token airdrops to Candy Machine collection holders

https://github.com/jjonahlowercase/airdrop2holders
Is there any app offering indexed historical data like token accounts at a point in time?
It's difficult to find the solution with this code
Hey guys üôÇ
I am currently learning to write programs in Solana. I am trying to do the following:
```Python
userWalletAccount = Keypair.generate()
    newAccount = Keypair.generate()

    transaction = Transaction().add(
        create_account(CreateAccountParams(
            space=200,
            lamports=10000,
            from_pubkey=userWalletAccount.public_key,
            new_account_pubkey=newAccount.public_key,
            program_id=SYS_PROGRAM_ID
        ))
    )

    tx = client.send_transaction(transaction, userWalletAccount)
    client.confirm_transaction(tx["result"])
```

I am running the solana-test-validator but whenever I execute this code, I get the following error:
```
solana.rpc.core.RPCException: {'code': -32602, 'message': 'invalid transaction: Transaction failed to sanitize accounts offsets correctly'}
```
I have no idea why
1. https://solanacookbook.com/guides/get-program-accounts.html#facts
2. to know how stake account store data then write a proper query.
I think you can use collections to group them. collections will be stored in metadata account or an uri.
has replied you at <#814696762467287121>
AFAIK  getBlock will be the only method.
Hello guys. How can i get stake accounts by owner address?
Is there any way through RPC? Or do I need to use solanabeach or solscan?
how does phantom group nfts together on solana? (and what should I add to my nft mints to make phantom group them together?)
Hello guys,  new to Solana and I'm confused about in Cross-Program Invocations, what is the relationship between the account_infos, which is the argument to the invoke function, and the accounts member in the invoke‚Äôs Instruction? Thanks
My rpc node does not have transaction history set.
Hello.  I use slotSubscribe to get slot updates.  But how do I get a blockHash from a slot without using GetBlock?
(since 1.9 doesn't even send transactions)
using 1.8.14
testnet and devnet ok
keep trying to deploy to mainnet and getting:
```
Error: Account allocation failed: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```

Have 15 sol in the wallet and progam originally took 5 sol to deploy, so it should max want 5 sol

advice?
The output file from this is in the same format needed to deploy via `solana deploy`?
Is there any way to get the transactions fees using <@!893467316564676698>lana/web3.js
did you use the discord search?  üôÇ
amount in your account is not enough for rent after giving upload fee
thanks, didn't realize 1.35.1 would work but it does!
can someone hlep me
Hello everyone, ive been trying to make a site for small swapping nfts like sudoswap on solana network but i cant find how to call solana nft contract functions from vanilla js
When I run `solana deploy ...`, I get this error:
```Error: Deploying program failed: Error processing Instruction 1: custom program error: 0x1```
Does anyone know how to add some hooks onto the <WalletMultiButton> drop down menu? The one from the wallet adapter? I have a session that I want to end when the user presses disconnect
You‚Äôll need to use version 1.35.1 for now. It‚Äôs been fixed so the next release will work, but a new version hasn‚Äôt been released yet because of https://github.com/solana-labs/solana/issues/23615
Did you ever find a solution to this? I have the same issue and can't get `@solana/web3.js` working in React Native
maybe take a look here https://solanacookbook.com/guides/retrying-transactions.html#facts
And I can not explore this signature on the solana explore site: 2gBBdMsiXbrzqQWvRL17fnNh2UnC8Z9DdtRFF6JVNfTpRvGWCq3JhGLsmmT81kxCfhD9CRqHrEeA4gowxTpjpn6w

Hello, I have a problem with timeout 60s on the mainnet. How can I catch this case?
here is the explorer link for the txn https://explorer.solana.com/tx/3pMa6yy1P1xE9XjAe2E9zKg4SoFnNbbkQDFQ99yyBRo3NaSSJ8zJ3GzE8gjeWL4HYurZ3vHhvJAXC6XiUh6tFgM9
hi there, i dont know if this is the right channel to ask, but i am noticing something funny going on with solana mainnet json rpc  .. for some transactions, innerInstructions and logMessages are empty.  here's an example comparing mainnet json rpc and genesysgo (which provides innerInstructions)

https://gist.github.com/maeldur/862c418e79b02a5890d3c4e0d232fcd7
it helps to show what you are doing and where with a link to some code or in code blocks here if a handful of lines. Also as a good reference, the governance program has many examples of different types being used. 
https://github.com/solana-labs/solana-program-library/tree/master/governance
search on types your interested in, for the state and related instructions

here are some examples from cookbook for some different types:
https://solanacookbook.com/guides/serialization.html#serialization-deserialization
I just wanted to highlight this asking for help.
Ok thanks
the other one
Ok what channel should I use there are a lot so I‚Äôm not sure
no excuse to make a mess in the wrong channels (this one) over it
Ok just trying to find an answer
quit cross posting
thank you üôèüôè
Hello devs. I am not having idea on how to store something like Vec in Account's data. While adding elements solana exit with ZERO_WRITE failed to write whole buffer error.
yeah it's very doable, under a different address.  You can grab the ELF off mainnet with `solana account --output-file ...`
Asking this question again since I didn't get a response.

is it possible to clone a program from mainnet to devnet by downloading the program data straight from the blockchain? Should be doable since the program data should be redeployable to another executable account.

Similar to what you can do with `solana-test-validator --clone` for localnet
Check out https://github.com/solana-labs/solana/pull/23771
Hi <@!445425471027544095> and <@!768486252168216647> , sr for directly mentioning. I see that you guys are taking care of zk stuff on Solana and it's all amazing work. One question from me that Are there any plan for open Ristretto Point operation for other zk applications? Twisted ElGamal and Pedersen Commitment are too much for other apps, I just barely need something like `x * G` where `x` is a scalar and `G` is a point.
oh, awesome. Thank you very much! Crying in Ruby over here haha
absolutely.  In JS, there's a snippet here: https://spl.solana.com/associated-token-account#finding-the-associated-token-account-address
For Rust, https://github.com/solana-labs/solana-program-library/blob/master/associated-token-account/program/src/lib.rs#L36
For C, roll your own cause you took the hard way
Interesting! Do you know if there's a way to calculate what that address will be without actually creating it?
yeah, given mint + owner address that is
Like if I close an ATA for USDC, then open another one, will it have the same public key as the first ATA?
Does an associated token account always have the same address for a given mint address?
not currently.  the release channel builds typically run nightly and pick up the latest commit from the respective branches
Is there some way to see the history of when the version  `https://release.solana.com/stable/install`  installs changes?
spread the word, complain to your favorite wallet.  everyone should have easy access to burning tokens
I wish I was that clown lol, I'd take the free money. But ur right, that was faster
Token.getOrCreateAssociatedTokenInfo and getting Error: Failed to find account. Only happening sometimes though.
 ```

const mintPublicKey = new web3.PublicKey(tokenMintAddress);

const mintToken = new splToken.Token(
      connection,
      mintPublicKey,
      splToken.TOKEN_PROGRAM_ID,
      wallet
    );

const toTokenAccount = await mintToken.getOrCreateAssociatedAccountInfo(
      wallet.publicKey
    );
```
why isnt this throwing a method not defined exception? id() is never defined. i ctrl click it goes nowhere
https://github.com/solana-labs/solana-program-library/blob/master/memo/program/src/lib.rs#L32
why does ctrl click on a function not work in VS code
it's not cargo/npm, it's developers
every next compilation is way fastter
first compile is slow
I mean it's just modularization
i dont mean everything is the same just that cargo uses a boat load of depenecies for no reason like npm does
Node js is not compiled at all
It compiles to machine code
hand some clown rent-exempt-reserve SOL for free ‚öñÔ∏è use the burn instruction
and app thats purpose is to write a memo
it takes 10mins to compile for no reason
I guess thats true lol
you don't need that dumb shit, just burn the tokens properly
Anyone know a devnet equivalent to `trash.sol`?
wdym its like npm?
i run cargo test and it spends 10mins compiling
why does rust take so long to build its like npm
any docs on how txes are propagated on the network?
ok ill go through that. i mangaed to find the /home/phil/.config/solana/cli/config.yml file
sounds like you need a getting started tutorial:
https://docs.solana.com/cli
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account

in the meantime you can do this from CLI to point to a different network if you have the basic config setup:
`solana config set --url devnet`
thanks so much
ü§¶‚Äç‚ôÇÔ∏è I just spent a ton of time trying to figure out how to avoid paying all the fees on the backend
sounds like you want partial sign. but your going the opposite way, from server to client.  phantom and some other wallets may have a sign message, but im not sure if it will invalidate the existing transaction.  
https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#partialSign
https://docs.phantom.app/integrating/signing-a-message
no how do i connect to another validator
it looks like your trying to deploy to a local validator, do you have a local validator running?
(it must be signed by a user)
The server signs it & sends it to the user, then the user signs the tx with their key and submits it to solana.
Basically, I want to know the on-chain ID of a signature before it is sent.
the available binaries are here:
https://docs.solana.com/cli/install-solana-cli-tools

you can build from source as well.
i want to build the best sportbook on solana
signatures cost money. and the warning explains why..   and not sure what you mean by get a transaction from a non-primary signature?  what is it your trying to do exactly..?
How do i deploy the memo app?
i ran ```cargo build-bpf``` 
then it says 
```
To deploy this program:
  $ solana program deploy /home/phil/sol-workspace/solana-program-library/target/deploy/stateless_asks.so
The program address will default to this keypair (override with --program-id):
  /home/phil/sol-workspace/solana-program-library/target/deploy/stateless_asks-keypair.json
```
but i want to deploy the memo program and when i run this I get 
```
~/sol-workspace/solana-program-library/memo$ solana program deploy /home/phil/sol-workspace/solana-program-library/target/deploy/stateless_asks.so
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 111)
```
Are there debian binaries that contain solana?

Or is the only way to install solana to pipe in a script from a web page?
(If there is a way to get a transaction from a non-primary signature, that is)
While I understand that there are reasons for why its helpful
about the warning?  because generally any signature that is not paying the fee, or required as part of an instruction related to an account, is not needed.
Yeah I looked into the source code, the fee payer is forced into being the first signature
its the one you designate, feePayer = , or the first account is default.
awesome.
Is there a way to get a transaction by a non-primary signature?
Confused on why this behaviour is being deprecated
Are any of the web3.js devs here?
https://github.com/solana-labs/solana-web3.js/blob/70bb763a10e193fe97ef439593d60165c5a6eb80/src/transaction.ts#L313
<@!785084693023424542>  apparently it was using my default local keypair as the fee payer, even though I can't specify a `--fee-payer` option. So once I funded that account, it worked! ü•≥
i got itttttt omg
can someone help me for my solana nft swapping website i got few questions hmu
Is it just the 1st one in all cases?
What determines which pubkey is the fee-payer?
is this how to do it? Closing all buffers associated with `Bm2...` address. I don't have any buffers stored on my computer though
E.g. 
```solana program close --buffers -v --authority ./keys/Bm2.json --recipient Bm2am4jhLDdyy8J8sZ1qsHjYRJzg73YX5VTVUnEPi91k```
E.g. `--fee-payer ./keys/accrue-1.json`
no, i am not. I do not want to store my keypairs on my computer. They are all in files.
your running commands with your default keypair..right.  thats going to show buffers for the default your running with.
```% solana program show --buffers

Buffer Address                               | Authority                                    | Balance```
buffer account means executable account, right? How do u know it's a buffer account?
the account you put above is a buffer account
i dont have any buffers stored on my computer
did you try the close buffers above?
I am trying to run `solana transfer --from recover2.json Bm2am4jhLDdyy8J8sZ1qsHjYRJzg73YX5VTVUnEPi91k ...` but I get:
```Error: RPC response error -32002: Transaction simulation failed: Transaction loads a writable account that cannot be written ```
Tell me how I can AirDrop some token in the test network and transfer it to another account. GOlang, the documentation is extremely incomprehensible
I think maybe i cant even use `solana program close` for this lol
is this even a program?
https://solscan.io/account/8sU2KjHi4uNVy1cfT5MqD4wV1iM4KtpqkQdZwAG69gwZ
wait a sec....
That is the keypair for the funds i am trying to recover `8sU2KjHi4uNVy1cfT5MqD4wV1iM4KtpqkQdZwAG69gwZ`
is recover2.json a file with the supposed account buffer?
When you accept the tx in phantom it goes on chain -- it should fail
ah interestingg
im not sure a txt file will load. typically they are json files.  not sure that makes a difference.
this is the command im using, but im not sure why it's not working?
```solana program close recover2.json --url https://mynode.com/ --buffer-authority ./keys/accrue-1.txt --recipient ./keys/accrue-1.txt```
for the program in question, if no other authority, just close the buffers passing that key.
I thought your issue was you said that addresses change.. and this transaction does not examplify that.. ?
(for safety reasons)
i dont wanna store the keys on my computer, they're all in one file rn that i want to delete
this is empty
```Buffer Address                               | Authority                                    | Balance```
That was a minimal example to show the problem I'm having, in the actual tx I have an instruction. (Phantom & the chain still accept the tx with no instructions)
`solana program close --buffers `  with your keypair, if your not already running with it as the default
not that i know of
is the authority the owner of any other programs?
what do u mean by that?
are any other buffer accounts associated with this authority that need to stay open?
this is my --buffer-authority: https://solscan.io/account/Bm2am4jhLDdyy8J8sZ1qsHjYRJzg73YX5VTVUnEPi91k
still needs to be signed right
i am trying to reclaim funds from that account
this is the account
do you have enuff sol to pay for the transaction?
https://solscan.io/account/8sU2KjHi4uNVy1cfT5MqD4wV1iM4KtpqkQdZwAG69gwZ
no üò¶
```Error: Close failed: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
```
has it ever deployed before?
I want to get the sol back but it's giving me this error:
i am trying to reclaim my SOL from a program that failed to deploy
what are you trying to do, and what are you expecting to happen?  and what is the error?
```solana program close recover2.json --url https://mynode.com/ --buffer-authority ./keys/accrue-1.txt --recipient ./keys/accrue-1.txt```

Can someone please explain what is wrong here
your example does not include any instructions or other data..  right?  so what exactly are you expecting to happen.  you need to pass instructions, or what can be done..?
but it seems that it doesn't check it
Yeah, and the fee-payer is a random address with (probably) 0 sol, so phantom should just error
you are supposed to set the fee payer, or the first account is defaulted to be the payer. and it looks like your doing so. the transaction in your example doesnt contain anything besides a fee payer and blockhash, right?  what are you expecting?
Lines 128 -> 133
what lines are you referring to?  
you are responsible for building the transactions.  you use a wallet or keypair to sign them.  and then wallets may have helpers to send transactions.  wallets do not assign things generally, you use them as a resource and utility, and for signing.
can someone please help me with `solana program close`?! I've been stuck on this for a day
From what I see, phantom does not validate or even include a user-selected feePayer
Here you go!
`https://codesandbox.io/s/elated-brattain-irijym?file=/src/App.tsx` (Line 128)
Seems to be a phantom issue more than a web3 issue though.
if you search on `SystemInstruction::Allocate`  you will see its usage in relation to what is being called.
we covered the docs do not have additional information. 
Your specifically pointing out an 'allocate' function.. and asking what it does.  It is like asking what an addition function does?   generally when used size is needed to account for space and determine things.  Im still not sure what your trying to figure out?  what context are you even using allocate in?
And is it a big problem that the custom RPC is accessible in the front end?
I can't see a single a word about the method (description). https://docs.rs/solana-program/latest/solana_program/system_instruction/fn.allocate.html
It goes without saying that if the method name is "allocate" then it wouldn't "DEallocate". The question is what it allocates? Why do we need to allocate? Did you have a look at the doc?
Can we talk about a Dapp when we only use Solana's JSON RPC API without using Smart Contracts? With database use
excellent
allocate just literally 'allocates'  the size in bytes for something
whats the question in regards to the code?
fml i wasnt setting any flags i just needed to put --address ü§≠
<@!785084693023424542> Any help? I don think the source is any better in terms of documentation.
Instruction::new_with_bincode(
        system_program::id(),
        &SystemInstruction::Allocate { space },
        account_metas,
    )
did you try looking at the source code?
have you tried the --owner flag?
Anyone, could suggest a documentation explaining 1) what the method for, what it does, and what the params for? For example I'm reading this https://docs.rs/solana-program/latest/solana_program/system_instruction/fn.allocate.html which doesn't have a single word about the method. In particular, what it "allocates"?
Has anyone else been able to use this command successfully?
`supply` works fine, so I'm pretty sure the account address im passing is correct
I can't seem to get `spl-token account-info` to work correctly, whatever I give it for an account address it always says `Could not find token account ####` where #### is a completely different account than the one i passed in with the command
Cool, current code is a bit involved -- I'll try to replicate it with a simpler example
try to keep your context and messages together when posting, replying to yourself a minute later does not help keep your message together or get a response.

provide a link to an example. with detail. and point out whats expected. and what you witness not working that is supposed to be. addresses included in a transaction should exist as long as they are actually included. there is no scrubbing to my knowledge.
I need to keep this unused address so that I know the txid of a transaction before it is signed by the user/makes it's way onchain
Does anyone know how to prevent this type of behaviour?
wen fullscreen invites?
I'm working with web3.js and it seems that when populating a message into a tx & then serializing again, will get rid of any addresses not used within instructions
the invite unfurls just keep getting larger
have you checked with your RPC provider, or Metaplex discord?  
if your doing general web3 calls, its possible RPC provider ends, or your default timeouts are 30 seconds, in which case you want to try and do your own implementation to pursue different timeouts and or retries. These is in line with any type of network calling.

https://discord.gg/YsCp2nxM
Hey guys, I have been trying to upload my NFT collection using candy machine v2. I bought a node RPC on quicknode but it tells me when I try to upload that my "Transaction was not confirmed in 30.00 seconds.". How can I increase the time for the confirmation?
How do I check who the fee payer account is? I think it's just --authority ./keys/signer.txt right
Fantastic thank you
Hello, everyone!

I'm a Computer Science student and I'm very enthusiastic about blockchain technologies and cryptocurrency. I've been following cryptocurrency news, articles, regulations for 2 years; therefore I believe it wouldn't be wrong to say that this is my area of interest. Although I'm a CS student as I mentioned, I'm motivated for any internship job because I would like to be part of the web3 community and I'd like to achieve this in every way possible. I would be very pleased if you would like to meet with me. I can share my CV with you if you message me.
like a contract scan <@!785084693023424542>
hey Is there a place where I can search for contracts like Solscan addresses?
okay, thanks
https://nwosunneoma.medium.com/creating-a-whitelist-token-with-candy-machine-v2-af49cf13f86a
can you please help me with this, any doc or video, i wanted to create normal fungible token in spl-token and have to whitelist some address so that only those address can hold the token.
Check metaplex candy machine
thank you
How to implement whitelist for a spl-token?
Remember it can only hold up to certain number of txs depending on how costly they are
Transaction.add(tx1, tx2)
So transaction = new transaction()
Add all the tx in same tx object before you pass it to the rpc
can i please have sample code or reference to link?
Yes ofc
can i have a single wallet popup to sign for multiple transactions?
Thank you tho.
I checked it. I guess I need to upgrade to 2.0. I have so many shit on 1.8, was just too lazy to migrate it to 2.0. ü•≤
Its 2.0


///////////////////////////////////////////////////////////////////////////////////////////////

what pool?  most protocols have SDKs for querying their pools and other info.  so the best place is usually the protocols discord and githubs.   If you know the pool address you can simply do an spl-token get token balance, but that gives you the pool LP Tokens most likely.
look at the PDA and Program Derived Address sections (in Cookbook).  Examples and explainers on just that.
Could some explain it to me ?
Hello üëã 
How are you everyone?

I'm following the solana cookbook: https://solanacookbook.com/references/programs.html
and I am wodering how to create a "Program owned account"
Hello üëã I'm trying to find a way to get the amount of tokens locked in a pool (e.g. https://solscan.io/account/EGZ7tiLeH62TPV1gL8WwbXGzEPa9zmcpVnnkPKKnrE2U#allTransactions) but I'm unable to do that. Can someone point me to some reference/tutorial on how to do that? Thanks!
there are a few working on chain solutions but im not sure anything officially exists yet,  switchboard and some others are working on this.
Hey do anyone know how can I use random numbers on-chain ?
if I log a message using msg! in an instruction, is there a way to read that message back using solana web3.js?
hi! is there a specific channel i should go to get support for using solana-py
nm, I figured it out by looking at the source for anchor's init instruction.

        let rent = Rent::get()?;
        let lamports = rent.minimum_balance(2000);
<@788215642070581289> , our accounts master, any clue? Thanks in advance!
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountBalance
nvm found it
where is `getTokenAccountBalance` imported from?
yep this is what I ended up doing. I thought the math would be more difficult than what it actually was. Thanks
const balance = await getTokenAccountBalance(...); const decimals = balance.value.decimals
if I wanted to get the rent exemption amount for an account within an instruction, how would I do that? I want to transfer lamports out of the account without drawing the balance below the rent exempt minimum
I usually get the decimal positions from the Token account and do the math locally
hey everyone, is there a convenient way to convert values from large numbers to regular numbers for tokens w/ different decimals, similar to `parseUnits` and `formatUnits` for ethereum?
Gm fam! Quick one: is there a built in way to know the datetime when an account was created?
ideally you can use airdrop as well
sounds like you want to deploy your own token program and you want phantom wallet's UI to support it natively. maybe you should ask them, if they don't want to support,  you will need a dapp to do it like wrap these function in your site.
I understand. I don't need airdrop so, I just need transfer funds to  another account. Thx
Basically i wanna know if i make smart contract with transfer function i want phantom to execute that function instead of spl-token transfer
with phantom extension in their UI how can i execute my program function instead of spl-token
hi all! question from a newb solana dev. I'm building an app that incorporates some on-chain ratings. Ideally, I'd like the ratings to be private until both sides supply their rating, like airbnb does (obfuscated / encrypted would be fine too). I searched here and all over but can't find much. Any ideas?
You can create transactions, add instructions in them, then on phantom as provider, call 'sendTransaction' or 'signTransaction' then send it using any connection
Hello,

can anyone help me i wanted to create token using my program and want to execute my program mint instead of spl-token mint.

And i want to execute the other functions also such as transfer from phantom but i want phantom to use my program transfer not spl-token
Anyone else facing this issue in `spl-token` and `solana-web3` libraries?
Hi <@!787652478345805845> , a Uniswap for Solana would be BEST
Hi guys I hope everyone is well. I have a question. Does anyone have any suggestions on what project to write about to learn more and be good for a resume?
to decode an account info, you need to know the structure.
https://solanacookbook.com/guides/serialization.html#how-to-deserialize-account-data-on-the-client
you can take a look at https://github.com/solana-labs/solana-program-library/blob/master/associated-token-account/program/src/processor.rs
ATA program is initializing its PDA as a token account
when you run a local test validator, there is an account will hold a lot of SOL. it is a normal situation.
When I type "solana balance" I get "500000000 SOL"
I configured my cli correctly: "solana config set --url http://127.0.0.1:8899"
Hello, I encounter a problem with test validator. I cannot make airdrop: "Error: airdrop request failed. This can happen when the rate limit is reached." (under Windows)
I am trying to something like this but am not using anchor. https://github.com/silvestrevivo/solana-svelte-counter-pda/blob/master/programs/counter/src/lib.rs
I am very newbe in solana. Can you please outline how exactly should I do it.
So, not possible to use web3.js + the SystemProgram etc.
You can use PDAs to store data, but the only way to create an account at a PDA is to ask the PDA's deriving program to do it for you, since part of the point of PDAs is that only their deriving program can sign for them (and creating an account in solana requires signing for the account's address)
Hello @everyone How can I use PDA as a means to store program data. How do I allocate space for it at the first place? With only publicKey seems like I can't call @solana/web3js allocateSpace
https://www.quicknode.com/docs/solana/getBalance??
solana balance
how do you guys get balance of the user
yo
Because of same, I am unable to mint tokens from JS, any workaround maybe? As I did checkout the repo's issues, and this is existing one.
Hello People
New to the dev. community.
I am facing a problem with `@solana/spl-token` and `@solana/web3.js`, could anyone please help me out. 

On calling `createMint` it gives following error: `Buffer is not defined` and before this, on starting the React server it gives `Failed to parse source map from '.../Solana/token_js/node_modules/@solana/buffer-layout/src/Layout.ts' file: Error: ENOENT: no such file or directory, open '..../Solana/token_js/node_modules/@solana/buffer-layout/src/Layout.ts'`

Thanks
Hi everyone! Im newbie and trying to run validator using docker following this guide https://docs.solana.com/running-validator/validator-start    .  Im using this docker image https://hub.docker.com/r/solanalabs/solana  (command - ```docker pull solanalabs/solana:v1.9.13```) . To start docker container i just use command ```docker run solanalabs/solana:v1.9.13```. So when i am doing System Tuning inside container i face the following issue (first pic). If i ignore it and continue i face problems on the step Connect Your Validator (second pic). I'll appreciate any help in solving these problems!
How can I decode the getAccountInfo metdata, it throws a base64 encoded string but is isn't valid
this seems like what you said, thank you, this code error 0x0 really confused me
so what do you do in your program? iirc the error means you want to create an account but the account has already created but it is your program, I think you can know more than me what happen, you have the source code.
yea
you run your program means you send a transaction to execute your program ?
I tried to run my program and it was perfectly fine the first time then I ran it again and it threw this error, i looked it up on the solana error and it means the program doesn't have enough rent right?
I remember anchor have a default deployer maybe make sure you are using your fee payer to deploy.
error list will be defined in the program and you can give it attribute numbers os this is really hard to know what happen by an error code. maybe you can try to use `simulateTransaction`, you can get more program log.
what's the code look like? also why you transfer SOL to a program? if you want to make a program can control these SOL, you may transfer them into a PDA.
You can use it in JS without any issues, being written in TS just means that editors like VSCode can give you type hints/better docs. But you don‚Äôt have to be using TS to use it :)
how can I transfer sol to program? I got NotRentExempt error but it doesnt let me transfer sol to program
Is there somewhere a list of error codes? I got `0x178f` error on transaction but cannot figure out whats up?
Guys anyone help me?
Is there a wallet adaptor for react js? I can only find the wallet adaptor for react typescript
im trying to deploy my program idl but it keeps timing out giving me this error
```
Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
```
I have 9.2sol btw does anyone know why?
it saying paste recommended line but ƒ± coudlnt understand exactly which line should ƒ± paste?
I have this feeling that I may eventually become the maintainer of the C SDK
Does anyone know how to override the styling of the react-wallet-adapter?
Yeah install.sh did it all, I'm back in business, thanks
Yeah there's an "install.sh"
But it's been long enough that I've forgotten
that's tickling some memories of doing that
it get's run by some magic somewhere
Thanks
there's an install.sh in the sdk dir under the bins path somewhere
Should I build solana-labs/llvm-project or something?
The "How to Build" documentation here:
<https://docs.solana.com/developing/on-chain-programs/developing-c>
Says that I just have to install the command line tools
How do I get the toolchain?
Now I have upgraded to 1.9.13, and it's gone
Hm.  I think that when I installed CLI 1.8.12, it came with a compiler toolchain
why would you paste the whole output, not just the one line that actually updates the PATH var?
wut?
and When i try to verify, it saying doesnt found. How can it possible, I hope u got my point
Hey everyone, I have an issue about installing CLI tool. Im taking: Please update your PATH environment variable to include the solana programs:

When i paste this:

downloading v1.9.13 installer
Configuration: /home/solana/.config/solana/install/config.yml
Active release directory: /home/solana/.local/share/solana/install/active_release
* Release version: v1.9.13
* Release URL: https://github.com/solana-labs/solana/releases/download/v1.9.13/solana-release-x86_64-unknown-linux-gnu.tar.bz2
Update successful

Im taking this message:
Hi Friends. I am trying to use PDA seeds to create an account. Somehow I have tried everything still I am getting error msg: 'The program could not deserialize the given instruction'. Not sure what wrong I am doing. Please advise. Following is my code. 
#[program]
pub mod referal {
    use super::*;

    pub fn initialize(
        ctx: Context<Initialize>,
        bump: u8,
        refree: Pubkey,
        seed: String,
    ) -> ProgramResult {
        msg!("Seed: {}", seed);
        let base_account: &mut Account<BaseAccount> = &mut ctx.accounts.base_account;
        base_account.bump = bump;
        base_account.refree = refree;
        return Ok(());
    }
}

fn seed_bytes(seed: &str) -> &[u8] {
    msg!("Seed: {}", seed);
    seed.as_bytes()
}

#[derive(Accounts)]
#[instruction(bump:u8, seed: String)]
pub struct Initialize<'info> {
    #[account(
        seeds = [seed_bytes(&seed).as_ref()], 
        bump, init, payer = creator, space = 41)]
    pub base_account: Account<'info, BaseAccount>,
    #[account(mut)]
    pub creator: Signer<'info>,
    pub system_program: Program<'info, System>,
}

#[account]
#[derive(Default)]
pub struct BaseAccount {
    pub refree: Pubkey,
    pub bump: u8,
}
Does anyone know how to overwrite the styles of the `.wallet-adapter-button` class?
Hi, I want to ask how can you custom program instruction with a colon like this? it's from solscan.io btw
I didn't check the validator code but presumably all reallocs fail if they would make the account no longer rent-exempt.  Meaning that before you can re-alloc you have to ensure that there is sufficient excess funds in the account.  Which is fine.
via the command line
And super useful for development, I can very quickly craft transactions with any data I want, and submit them to my program.
Anyway it was a "fun" first rust project.
So you can start with a schema describing your program and a transaction that invokes it, and then generate instances of that transaction populated with input values you provide, from rust (it's a rust library), or command line (via the solxact program that wraps the library), or javascript (via the js functions that the tool can generate).
Also can generate javascript functions that encode the Transaction from input parameters.
Eventually I will wrap a web server around this and allow anyone to decode transactions into a readable format.  Common, known programs will have schema to allow them to be decorated.

e.g.
You can also just encode the transaction and write to a file, sign it later, give it to somene else to sign and submit, whatever.  You can decode the transaction into a pretty json format including decorations that come from the schema to describe the contents and function of the transaction
The above generates a transaction from a schema, piped to an invocation that sets the recent blockhash on the transaction, piped to an invocation that signs the transaction, piped to an invocation that submits it to devnet
e.g.
```
$ solxact devnet_add_metadata_program_id --fee-payer keys/devnet_super.json --                                           \
        new_metadata_program_id="$NEW_METADATA_PROGRAM_ID" |                                                           \
    solxact --set-recent-blockhash -u d |                                                                              \
    solxact --sign keys/devnet_super.json |                                                                            \
    solxact --submit -u d```
I wonder if anyone would be interested
I have developed a program to craft transactions from schema
This makes me very sad
```$ solana  feature status 75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1
75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1 | inactive                    | support account data reallocation

Feature activation is not allowed at this time
```
But I guess each client version knows about only the feature flags it was compiled to know about
I had assumed, bad on my part I know, that the feature set was stored on-chain and any client could know the entire set
So v1.9.13 does know about that feature
Yeah OK
Didn't realize that the client version mattered
```$ solana --version
solana-cli 1.8.2 (src:42a2c292; feat:52865992)
```
Also
I usually try to set all configurations to query them
Is it possible that I'm hitting genesysgo RPC servers?
Oh hmmm
Nothing
```$ solana -u d feature status | grep 75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1```
wfm
That was my command, it didn't find it
```
$ solana -u d feature status | grep reall```
prolly 'cause there's so damn many
Not sure why I didn't see that
I did do a feature search but
Oh
```
$ solana -ud feature status 75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1
75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1 | inactive                    | support account data reallocation
```
<@!453347985628200960> sorry to @ you, but you're just so helpful.  Does the above make sense?
What gives?
And yet if I try to use that program to realloc the account I get this error:
```json
{
  "error": {
    "code": -32002,
    "data": {
      "accounts": null,
      "err": {
        "InstructionError": [
          0,
          "AccountDataSizeChanged"
        ]
      },
      "logs": [
        "Program dcpCtCGcw2u9HLxr1BeYJKQriNMe3kyCQpNiJnJFbqK invoke [1]",
        "Program log: Q4iZQMJvv7EtGrubJVnJGc9VGZShY8HRXCpitAeBViL",
        "Program dcpCtCGcw2u9HLxr1BeYJKQriNMe3kyCQpNiJnJFbqK consumed 2217 of 200000 compute units",
        "Program dcpCtCGcw2u9HLxr1BeYJKQriNMe3kyCQpNiJnJFbqK success",
        "failed to verify account Q4iZQMJvv7EtGrubJVnJGc9VGZShY8HRXCpitAeBViL: program other than the account's owner changed the size of the account data"
      ],
      "unitsConsumed": 0
    },
    "message": "Transaction simulation failed: Error processing Instruction 0: program other than the account's owner changed the size of the account data"
  },
  "id": 1,
  "jsonrpc": "2.0"
}```
We can see that dcp **does** own Q4iZ:
```
$ solana -u d account Q4iZQMJvv7EtGrubJVnJGc9VGZShY8HRXCpitAeBViL

Public Key: Q4iZQMJvv7EtGrubJVnJGc9VGZShY8HRXCpitAeBViL
Balance: 0.000049931 SOL
Owner: dcpCtCGcw2u9HLxr1BeYJKQriNMe3kyCQpNiJnJFbqK
```
And the program derived account is:
Q4iZQMJvv7EtGrubJVnJGc9VGZShY8HRXCpitAeBViL
On devnet, the program is:
dcpCtCGcw2u9HLxr1BeYJKQriNMe3kyCQpNiJnJFbqK
Hi, I'm having some trouble using my program to re-allocate data in a Program Derived Account that it owns.
why?
hi, i need help please. im try to create my own token but i cant...                             
 spl-token create-token:
error: El sistema no puede encontrar la ruta especificada. (os error 3)
So sending "1 sol" means you actually send 10^9 lamports
it's just a UI discrepancy. the data on chain is all whole numbers representing the fractional currency amounts
I mean in ETH if there is a 9 decimal token, and if I want to transfer 1 token it transfers = 0.000000001 token of total supply.


So I'm unable to draw comparision out when it comes to Solana.
Thank you.
https://discord.gg/YsCp2nxM
depends on the program..  says custom.  convert the hex to string, and determine the calling program. then look for the related error enum from that value or index..
may want to ask in project serum discord, some anchor folks may know as well.  not sure of any example off hand.
What is this error?

```
Error: Custom program error: 0xe 
```
My team is working on a trading interface for Mango Markets, we are finding that getting that first wallet set up is a big barrier for noobs, so I have this idea that we could embed Sollet as an application specific wallet, directly in our app, and that we could automate wallet creation for the user. (It's part of a bigger plan we have to allow users to onboard to Mango using Bitcoin Lightning. The best case, from a UX perspective is that a brand new user with no crypto experience, can scan a QR in our app, using Strike or Cash App, such that moments later they have a wallet created and funded and they are ready to trade.
Is there any example of someone embedding Sollet into their own app?
awesome, thank you!
the metaplex discord probably has many approaches and options available. more resources likely here as well:
https://soldev.app/
https://docs.metaplex.com/community#nft-transfer-and-airdrops

any mass operations are ideally not carried out by a front end, but could be triggered by it. probably a service or running this on a server for something like that would be a cleaner approach.
Hey all, I'm wondering what the best way of building out a token airdrop is. Ideally, I want to be able to build a frontend that an admin can connect a wallet app to. Then they can use the frontend to send tokens from the wallet to a few thousand token addresses that they know beforehand. The only problem (for Phantom at least) is that the admin doing this would need to sign ALL the transactions. 

Is there a way that I could build something like this via a phantom wallet, or is the only way to do this to load a keypair from the admin's device?
you can get events, and from logging, as execution happens and executes the log/commands, but u cannot inject.
historical is different then real time during execution.  anything outside of immediate execution is considered historical. you cannot access/watch/interact with a live execution in real time from outside, afaik.
Thanks for you help. But by using vis-a-vis, I can't prevent some malicious usage.
So, you guys haven't ever try to get past transaction info from a running program, <@!785084693023424542> ?
But this channel is rife with smarter people than I, like <@!785084693023424542>
I know of no oracle, yet, that will provide past transaction info to a running program.
The only way I know, and I'm not a guru, would be to get the transaction in a client and send it into your program vis-a-vis an instruction
No, I'm saying look at chainlink for understanding of what oracles do.
You mean I can query transaction data with signature inputs by using chainlink?
Right, that's the idea. Take a look at Chainlink, for example, they have an oracle that you can get random numbers from. They have others as well
Can use it during program execution?
I don't know well about orcale.
Could you let me know what action can I do with oracle?
Sounds like something an oracle would be useful for, I just don't know of any
Sorry.... rethink the approach
Hope to query the chain in someway like `system_programm::invoke()`....
live execution sniffer eh
Yeah.... no
Is that possible?
correct
Do you mean you want your program to query the chian using a signature as input to then look at the instructions during your program execution?
Yes, this is a test program.
is this a test program?
the only way to get the data from on chain is to request it.. so not sure still what you mean by grab from rust code.  do u have a rust client?
When I call `Test` instruction to my program, then my program fetch transaction data
Yes, I can get transaction data from client by using web3 json rpc.
But I hope to get the data from my program's rust code.
the same message still applies I wrote below the response üôÇ  in terms of trying different encoding params/decoding or having to reach out to the other protocols or make inquiries in Metaplex discord and search.
you need to make another call from the client to get the transaction data then right.  still not sure what your asking.
```import base64
import cloudscraper
import json

scraper = cloudscraper.create_scraper(
  interpreter='nodejs', 
  browser={
        'browser': 'firefox',
        'platform': 'windows',
        'mobile': False
    }

)

url = 'https://ssc-dao.genesysgo.net/'

nft = '9ns83H1Kqv6dHH3oKthZL9w6MnmxwGtUqBqAf2DTmB81'

payload =  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getAccountInfo",
    "params": [
      "9ns83H1Kqv6dHH3oKthZL9w6MnmxwGtUqBqAf2DTmB81",
      {
        "encoding": "base64"
      }
    ]
  }

print(payload)
requested = scraper.post(url, json = payload).content
requested_json = json.loads(requested)

print(requested_json)
b64data = requested_json['result']['value']['data'][0]
decoded = str(base64.b64decode(b64data))

print(decoded)
```
Directly from my program.
Oh, sorry.
I need to send one transaction to my program. I will pass a signature of past transaction as param.
Then I need to get the transaction data in the transaction execution.
here for posting should help: 
https://support.discord.com/hc/en-us/articles/210298617-Markdown-Text-101-Chat-Formatting-Bold-Italic-Underline-
hmm not sure what you mean.  you can only get data on chain by putting it there. are you wanting to query for a signature from directly on chain?  not sure i understand the quesiton
Yeah didn't really use Discord much. Sorry.
What do you think, <@!785084693023424542> ?
are you new to discord and posting code?
Sorry, what do you mean by "post code in block" ?
post code in blocks. and for large blocks use gists or links

you could try different encoding. otherwise you may have to look into or contact the protocol that produces this data to see what is the suggested way to decode it.  if its NFT related, you also may have better lucky with similar problems you can search on in the metaplex discord.
Can you think of anything I might be doing that would cause HEX to be returned rather than metadata? 
My code is right out of the RPC Docs ( https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo ) :
payload =  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getAccountInfo",
    "params": [
      "9ns83H1Kqv6dHH3oKthZL9w6MnmxwGtUqBqAf2DTmB81",
      {
        "encoding": "base64"
      }
    ]
  }

And I still get response of : AQAAAI7pDjYAZVOdtDjOfYGmit5tY8NQYQHH9UrE0NDitN0aAQAAAAAAAAAAAQEAAACO6Q42AGVTnbQ4zn2BporebWPDUGEBx/VKxNDQ4rTdGg==

Which Base 64 decodes into:
b'\x01\x00\x00\x00\x8e\xe9\x0e6\x00eS\x9d\xb48\xce}\x81\xa6\x8a\xdemc\xc3Pa\x01\xc7\xf5J\xc4\xd0\xd0\xe2\xb4\xdd\x1a\x01\x00\x00\x00\x00\x00\x00\x00\x00\x01\x01\x00\x00\x00\x8e\xe9\x0e6\x00eS\x9d\xb48\xce}\x81\xa6\x8a\xdemc\xc3Pa\x01\xc7\xf5J\xc4\xd0\xd0\xe2\xb4\xdd\x1a'
Is there any way to get past transaction with signature from on-chain side?
But I hope get such info from on-chain. I will pass signature as param
I can get parsed transaction with signature from web3 API.
Then I can extract the blocktime and transfer amount for the parsed tx.
no.  your decoded data looks like data decoded to a HEX string
"to the above" == Me?
not sure what this means.  
to the above, thats how data is fetched, in some way generally using a signature/address as a reference to something.
NFT: 'FfGdAyCkFn3K5GwQQdi2VJ2uedAfgNfs9TcmprVMvbct' 

I see that getAccountInfo can allow base64 or 'jsonParsed' -- but regardless of what I put they seem to only show base64., which fine whatever I can just decode it.... but when I decode I get the following:

Payload = 
{'jsonrpc': '2.0', 'result': {'context': {'slot': 126653835}, 'value': {'data': ['AQAAAOyOH3huCZBIru4NVq/A/QlRCMFCIoPIy3YUbZUKirAgAQAAAAAAAAAAAQEAAADsjh94bgmQSK7uDVavwP0JUQjBQiKDyMt2FG2VCoqwIA==', 'base64'], 'executable': False, 'lamports': 1461600, 'owner': 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA', 'rentEpoch': 292}}, 'id': '66836jyj61'}

I get : DECODED = 

b'\x01\x00\x00\x00\xec\x8e\x1fxn\t\x90H\xae\xee\rV\xaf\xc0\xfd\tQ\x08\xc1B"\x83\xc8\xcbv\x14m\x95\n\x8a\xb0 \x01\x00\x00\x00\x00\x00\x00\x00\x00\x01\x01\x00\x00\x00\xec\x8e\x1fxn\t\x90H\xae\xee\rV\xaf\xc0\xfd\tQ\x08\xc1B"\x83\xc8\xcbv\x14m\x95\n\x8a\xb0 ' 

Can anyone tell me what I'm looking at? On other NFTs it would display URI Param in the decoded--- It almost looks like HEX Decimal?
If I grab the data with web3, I can't secure my program's instruction.
Hello, guys.
I need to fetch transaction date and transfer amount from past spl transfer transactions.
But can I fetch such data from on-chain with only signature?
when you close you should be able to just specify the destination so you shouldnt need to move anything after.
thanks <@!585868308419444749>  and <@!785084693023424542>
AFAIK their nodes should be exposing the full set.  Probably report it to them and they'll fix it
how do other people deploy their programs then?
they're pretty popular i thought
oh rlly? It's quicknode though
you rpc provider isn't exposing the full rpc method set
I skip the recovery phrase thing, by just lookup the address on explorer. its usually the last address dealt with by the deploy key
thanks tho
ive done it 5-10 times now
yea i got the close command down
look up the BUFFER_ACCOUNT_ADDRESS via solana explorer and do a solana program close, and the funds will come to the deploy address.
and now i gotta recover the seed phrase, close the contract, and move funds ugh
Yes, I am trying to use this, or the createSyncNativeInstruction used by this method. But seems it is not available in 0.1.8
```% solana program deploy -v --upgrade-authority ~/Desktop/keys/accrue-1.json --program-id ~/Desktop/keys/accrue-2.json ~/Desktop/accrue/accrue/target/deploy/autopilot.so --url https://mynode.com/
RPC URL: https://mynode.com/
Default Signer Path: ~/.config/solana/id.json
Commitment: confirmed
=========================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
=========================================================================
this is my seed phrase
=========================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
=========================================================================
Error: Pubsub error: UnexpectedMessageError("{\"error\": Object({\"code\": Number(-32601), \"message\": String(\"Method not found\")}), \"id\": Number(1), \"jsonrpc\": String(\"2.0\")}")```
when you deploy do you get anymore info with the -v flag?
yeah i just checked the node version, it is 1.8.14
```solana program deploy --upgrade-authority ~/Desktop/keys/accrue-1.json --program-id ~/Desktop/keys/accrue-2.json ~/Desktop/accrue/accrue/target/deploy/autopilot.so --url https://mynode.url/```
u can use the -u
gotcha
Here's the full command:
if so the basic  `solana cluster-version`
i am passing in a `url` param
are you pointing to it with your config?
quicknode
from what provider?
we have not tried any other RPC servers
i have a URL to my node
how do I check the version of my node?
looks good there.  what does your own node mean?  
and have you tried other rpc servers yet?
this?
https://solana-labs.github.io/solana-program-library/token/js/modules.html#syncNative
```% solana --version
solana-cli 1.8.14 (src:9c01d90c; feat:1006352700)```
does createSyncNativeInstruction exist in 0.1.8 ?
I am getting Module '"@solana/spl-token"' has no exported member 'createSyncNativeInstruction'. 
I have "@solana/spl-token": "^0.2.0"
Removed node_modules and did npm install again
Still the same.
Any idea? 
I see there was quite a bit of changes between 0.1.8 and 0.2.0 and haven't been able to get this createSyncNativeInstruction working in either of the versions.
something doesn't add up then..  what version of the CLI are you using? when in doubt its worth deploying using the same CLI version, though it may not be technically required. there has been issues in the past with differing CLI versions.
different rpcs, and just keep trying..
genesys go, figment, many other providers.
what should I do to deploy my program rn?
hm the node is running v1.8.14, and my solana version is also v1.8.14
standing by for hacks
nah the fee calculation changed and is much slower now.  hacks incoming, proper solution in the works as well
method not found usually means the rpc is not on the same version as the code your deploying?
what other RPC could I use?
when I do it through my own node, I get this error:
```Error: Pubsub error: UnexpectedMessageError("{\"error\": Object({\"code\": Number(-32601), \"message\": String(\"Method not found\")}), \"id\": Number(1), \"jsonrpc\": String(\"2.0\")}")```
try a different rpc
Problem: I am trying to run `solana program deploy`, but my txn keeps expiring... Any idea on how to fix this? I'm guessing mainnet is clogged
ok, thanks boss
Not sure, but yeah, just have to work with that invariant above: only an account's owning program can change its data or spend its money, no way around it
I'll try this, thank you
I'm trying to figure out if I should make one program and build on top of a stable program or just use its logic, and implement my features on a separate program with cross program invocation
Yes, but that called program can't set any data on those accounts
so can one program call another program & have the other program create accounts that the calling program would own
So maybe depends on what you mean by "ownership" here‚Äîcan you say more?
In general, the only program that can modify an account (well, mutate its data or decrement its lamports) is the account's owning program
for cross program invocation, does the caller program always retain ownership of the accounts? So like the program being invoked can modify the accounts, but like the caller always has ownership
Haven't tried it, but I assume you can use a C++ version of the tweet-nacl stuff mentioned by phantom, e.g. https://github.com/weidai11/cryptopp/blob/master/tweetnacl.cpp
Ok so in that case, I've no trouble sending the public key and the signature in the server. The next step is how to verify it in the server, and so in C++
(I think, haven't tried this myself though!)
All of your verification stuff would operate on raw bytes
I haven't tried using that but I would expect the `signedMessage` to just be some raw bytes, not valid utf-8
Yes, this is exactly what I'm using
So you're doing this kind of thing? https://docs.phantom.app/integrating/signing-a-message
depends what you mean by "large". if you mean serialized size, no.  there's no mechanism to get around that restriction today
Is the `solana_sdk::compute_budget::ComputeBudgetInstruction` a way to execute large TXs without incurring TX too large errors?


///////////////////////////////////////////////////////////////////////////////////////////////

Look at these hot docs: https://docs.rs/solana-program/latest/solana_program/
interesting... <@!134416332509675520> Will check it thanks again üëç
You can just look at the token's data to check if it's frozen, it lives in the `.state` field/or you can just call `my_token_account.is_frozen()`
Ah I can't try/catch CPI :/
<@!134416332509675520> Ok, Thanks for your reply, You are everywhere man. 
My issue is that I 'm working with frozen tokenAccount.
Then, I need to  to Thauw the tokenAccount, before being able to make the transfer.
Or if the tokenAccount account is not yet frozeen then ThauwAccount Ix is failing.
Do you have a snippet to help me finding how I can manage failing Ix or CPI on solana program?
Depends‚Äîyou can't try/catch for CPIs, but you can use normal rust Result types in your own code
Hi, is there a way to do a try catch inside a solana proggram?
Like erc20 contract. But with every transaction on that spl token the potion of the tokens will go to an address
Is there a fungible spl token with transaction fees?
the thought was just to refund rent fees to the sender by closing the account, but yeah, I see your point. thank you!
Then you have the entire weight of the block chain behind ensuring the fidelity and availability of your information
Anyway if there is information that you want, why not store it on the blockchain?
And I don't really know how to query for that info, sorry ...
You'd be relying on happenstance of being able to get that info from some RPC node or web server that collects it.
Doing that is not really sound architecturally.
do you happen to know how to query the logs/messages emitted to the blockchain during instruction execution?
thank you!
~~hey, is there any way to somehow decompile the *.so file of a program? just to get an overview of what it is doing~~ nvm I found SolDragon
I fixed my problem with ${HOME}/.config/solana/cli/config.yml and ${HOME}/.config/solana/id.json
Thank you so much
Once it's gone it's completely gone, so no, there is no way to query anything about the state of the account after that
ok possibly a stupid question - but once an account is closed, is there any way to see its final state? or once it's gone, it's completely gone? related: would it make sense to use a msg!() log to record the final state on the blockchain before closing the account? and how would one then read it back later?
https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint
i have an account im trying to close via the program but i keep getting this error:

Cross-program invocation with unauthorized signer or writable account

i double checked that this account has write permissions (isWritable = true)... what else can trigger this error ?


let close_pdas_temp_acc_ix = spl_token::instruction::close_account(
                token_program.key,
                maker_to_send.key,
                maker.key,
                &pda,
                &[&pda],
            )?;
            invoke_signed(
                &close_pdas_temp_acc_ix,
                &[
                    maker_to_send.clone(),
                    maker.clone(),
                    pda_account.clone(),
                    token_program.clone(),
                ],
                &[&[&b"escrow"[..], &[nonce]]],
            )?;
I broke spl-token cli tool
I mean I don't care about the contents of my .config/solana direcotory, I just need those files re-generated
go with newer what?
then just go with the newer one
i was targeting localhost
the only thing in the  `.config` was the default configuration and the initial key. Did that key hold mainnet SOL?
I was studying spl-token code and did not understand how pubkey of token is generated
Why would you have to do that?
do I need to re-install mac os now?
Unless you backed it up, it's gone
Hi! I deleted $HOME/.config/solana. How can I restore it? I ran sh -c "$(curl -sSfL https://release.solana.com/v1.10.4/install)" again, but it did not restore ${HOME}/.config/solana/cli/config.yml and ${HOME}/.config/solana/id.json. Sorry for stupid question
how can i get all holders of spl token (by mint address)
can this error come from something else ? because i do set isWritable: true for this account
I wonder... since the tx had to be signed with the key (I think?) of the account, would that make the authority multi sig? I'm lost
i dont code
The thing that worries me a bit is the fact that they don't appear in Step's and Sonar watch's close accounts tool
maybe take a look at https://docs.solana.com/cli/install-solana-cli-tools#windows 
and after install, you export the path
it means you pass the account in your instruction and give it read only (isWritable = false) but you change its data.
I think you will need to use https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress and https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction to get the creation tx when you find it you will also get the timestamp
im on windows
it keeps saying solana is not a known command
i cant download sol tools
what does this error means ?

CX1ihfpkEPpoqgmcnhdXeY3MzcDMFfgcnBFrMkno5v3w's writable privilege escalated
Thanks for reply, but how to reference to It's creation timestamp
timestamp of the creation tx?
Hi guys, How can I get created date of a specific program. Thank you...
good to know lol
oh, `solana_sdk::pubkey::new_rand();` creates an accounts pubkey?
you should transfer a value which greater than 0.00089088 SOL (for a zero data account) so that the account won't be charged by rent.
why does the rec. address not ahve a balance?
https://explorer.solana.com/tx/4jZVyrLDnUiBh2nA5mVz4fJ2NpEoq1tDeJ91joBc892tEEfjV6abh5wc3G7fwmQw2GUTkYoEnoenFzMCNXM7bj5E?cluster=devnet
Hello, who can help me with python code? I want to send spl tokens‚Ä¶
a js example is probably fine too
thanks, possibly do you have anything that shows how to interact with a dex onchain? Like jupiter or raydium or so
https://discord.com/channels/428295358100013066/517163444747894795/953277757876494336
<@!955504230813282354>  sir
some Solana God please
Someone please answer this
Hello People
This is good question
what happens when i send someone spl tokens that they dont have account for?
No
Hi, is it possible to handle /ignore the error from a CPI  and continue the process rather than to throw the error and exist?
https://github.com/mvines/solana-cli-template
This is not from the same script, so that wouldn't be the case
this is a guess, but you seem to be reusing the same blockhash for the recent blockhash?
I'm guessing I'm doing something fundamentally wrong üò¶
The tx fails, and I can't figure out why https://solscan.io/tx/4aKtAb6naBocThJRowRBBcq5JpVTLLEThQFiA9gZ7QVAQnoygdNAhW6xb8pLuoiqYNQK8QrBnhQG2Fw8HjSrE1Hv
And this is my attempt at closing it
This the code I used to open the account
Hello, I'm having difficulties figuring out how to close an account I opened with this tx: https://solscan.io/tx/4HPLwSumZuUNHYirnAXcjyQAdBzCtCL6w8165kZahHPY9KnhQ1yjnATUnUeP1YzxrVXW6X43CHVLnTGuUSiyrPe3
looks like it is
i cant even find any examples for this lol
is TPUconnection the same as Connection in js?
there are a lot more JS devs out there than rust
however i want to use the rust api
it is
:) i think the JS api is much more popular
all i can find are for the js version
are there any tutorials for it?
yes
is 'solana-client' the rust equivalent to solana/web3.js? https://docs.solana.com/developing/clients/rust-api
hello! using `@solana/web3.js` here. I have an array of tx signature strings, and I want to confirm all of them before proceeding with my code. Can someone recommend the most elegant way to do this?
spl-token: 0.2.0
and 
solana/web3: 1.36.0

And these both are using 0.3.0 for buffer-layout which seemed to be the problem to me
just ask
what project are you using?  and what versions of the libs are u using? the web3 and associate libs have been updated recently and some things may have changed. it sounds like there are version or dependency issues.
Anyone? Facing this issue?
I have some basic questions on fundamentals of solana , anybody who can spare some time ?
okay.. let me try that
yes
how do I try a different one.. I just upgrade or downgrade the installed version?
solana-cli 1.9.5
what version of the cli are you using? did u try a different one?
I can set config and create wallets, but nothing that requires communicating with the blockchain it would seem
my connection is fine I suppose. I'm using the same connection to chat here. Indeed the error suggests a connection issue, but I can't seem to figure it out
dont have that issue.. on any cluster is there something wrong with your connection or something with machine or config change?  timeout suggest a connection or network issue, or not able tor each the RPC for some reason.   can you run any commands?    cluster-version, ping
Can anyone help out. I've been getting this error on all clusters since yesterday. this one was generated when I ran "solana balance". Help please
also why?
does anyone know how to check for the amount of a particular token in a address using anchor?
Hey all, I am grappling with an invoke_signed transfer error, ```Transfer: `from` must not carry data``` is the log output for failed tx. Can anybody point me toward where in docs I can better understand why `from` account cannot carry data in a transfer? I am implementing per cookbook, but I do not understand why a pda would be restricted from transferring lamports just because it contains state data. thx!
Hi <@!811633301747531786>, maybe you can help me in a easy way to convert the the  json byte string to array of [u8, 64] . Actually now I am sending the complete id.json contents from postman, in the end which is a String in my rust server program. I wanted to convert that comma separated string to array of U8
<@!811633301747531786>
Thank you so much, It works , at least with a little tweak in my program.
Hi I am trying to execute a solana transaction using wallet adaptor(https://github.com/solana-labs/wallet-adapter.) and solana-send-money(https://github.com/jsoneaday/solana-send-money) for phantom. I am able to execute it for sollet but am unable to execute it for phantom.
import the signer trait
`println!("{}", Keypair::from_bytes(&arr).unwrap().pubkey());`
to be honest I tried all possibilities, maybe I amn't trying the right one. My only requrement is that how can I get the base58 string of the public key from the json array which is byte slice.
keypair has a method `pubkey()` and then pubkey has display and fromstr instances. you need to import some stuff from solana-sdk i think
I guess you mean dalek ed25519. I saw that but I am stuck here to get the base58 encoded string of the PublicKey, this is my main requirement.
but this is academic so far i dont think anything being removed is especially important
tbh the interesting question is what if the team really wants to remove something for a very important reason but non-upgradeable programs use it
I think that probably never can go, I'll bet that too many "important" programs depend on it
That seems pretty unlikely but who knows the future
I hope clock never goes
Fees sysvar is the first one that‚Äôs most likely to go, after the new fee model gets fully fleshed out + implemented
It's making me nervous, my goal with my program was to lock it down, but if I have to worry about deprecations breaking it ... hm ...
scroll up üòÇ
Hm weird that stuff can get deprecated like that.  What does happen to programs that rely on it?
o i assumed it meant... yea
Hm yeah looks like the struct definition is marked deprecated, that would suggest that the sysvar contents are not going to be available I guess
I'm not sure if what I'm reading says that some rust functions are deprecated, or that the sysvar and its contents are deprecated
im making an account database thingy for personal use stuff and being very thorough hehe
Oh yeah I didn't look closely, my google search had pulled up docs on 1.5.4 doh
json array to bytes and use the dalek ed35519 crate
fees, recentblockhashes. i see this on the docs.rs page
Which ones?  I see only "Rewards" as marked as deprecated in any docs I can find
Thank you for your reply but I am trying through my rust program not on CLI command prompt
(i dont use them i was just curious. i mean... i will migrate my very important programs away from then in exchange for one million american dollars)
Just fierce words. We can‚Äôt break (obsolete) stuff without a ton of notice and outreach
`solana-keygen pubkey`
Hello, I am looking for extracting the public key from id.json that is created by solana-keygen command on CLI, would appreciate if someone give me some reference or guidance. In the meantime I found some online help, now I have the public key by using PublicKey::from_bytes()  but I am't able to convert the PublicKey of type solana_ed25519_dalek::PublicKey to base58 string, any help pls... or any new idea pls.
i see some syvars are deprecated as of 1.9. what does this mean in practice? theyll be removed and anything that uses them will just break?
Checking out web3auth, might use it too
I like Torus
Thanks üëçüèª
Thanks for this. Now can I refer to some front-end side for this?
no. only the program that owns the pda can sign for it inside the owning program.
look into web3auth and torus wallet provide single sign on wallets and embed as well.   releasing a guide soon. here is the preview:
https://solana-cookbook-git-fork-torusresearch-feat-ref-d2ec89-cookbook.vercel.app/references/wallet.html
Hi, I have a problem: If people knew my seed for get my PDA, and my tokens are save in there. Can another program invoke_signed to transfer my tokens out with that seed by any chance? Thank you...
v1.9.14 works for me. Thanks!
https://github.com/Crossmint/solana-auth
run v1.9.14 instead <@!179446641177133056>
same issue here aswell, even on the prebuilt binaries https://github.com/solana-labs/solana/releases/tag/v1.10.3 
solana-release-x86_64-pc-windows-msvc.tar.bz2 is not a listed asset
A big part of the app I'm building lives offchain, and I need to create a secure session on the server
Login to Web2 servers using Phantom is what I need
```
First, let's describe the design goals for our system:

It should allow users with an Ethereum address to use that address to login to a third party website (that supports this login method).
It should be easy to use and reasonably easy to setup.
It should not compromise the security of the user's Ethereum account.
It should allow users to recover their credentials in case of loss or theft.
It should not require knowledge of contracts or manually calling contract methods.
It should have reasonable latency for a login system (no more than a couple of seconds).
It should not cost users gas (or money) to login.
It should be reasonably easy for developers to implement in their apps.
```
Has anyone implemented something like this for Phantom/Solana ?  https://auth0.com/blog/an-introduction-to-ethereum-and-smart-contracts-part-3/
Mm, that sounds wrong üòõ In solana everyone uses the same token program‚Äîwriting your own custom token program basically won't work (or at any rate, it wouldn't create a "token" in the sense that the rest of solana understands it‚Äîyou'd be making your own weird parallel token universe, totally disconnected from the rest of solana)
Having issues installing CLI on windows, using the solana docs, having issue on 2nd step "C:\solana-install-tmp\solana-install-init.exe v1.10.4" which gives me "The system cannot execute the specified program."
Hello, is there a way to check what SPL tokens a wallet holds using the CLI? cant seem to find the command in docs
A sysvar to view current network throughout/tx queue size would be extremely useful
Error occurs when running the spl-token.exe and doing a transfer from a .net program. When running spl-token.exe directly from cmd it runs fine
Is this CLI error known to anyone?
thread 'main' panicked at 'home directory', C:\Users\travis\.cargo\registry\src\github.com-1ecc6299db9ec823\solana-cli-config-1.7.11\src\config.rs:29:58
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
Or is there a way I can get an NFT on devnet for testing? I don't want to go through the process of deploying to devnet first and then getting it. Was just wondering if anyone could send me one.
Hello guys, does anyone have a test NFT they can send me on devnet?
can anyone please help me on this, thanks in advance.
i have one question if i create transfer func on my program and create token using that, and if someone try to transfer it with other wallet it will run my program function instead of spl-token right

* my program is wrapper around spl-token, i just want to implement check so that user can't send more than 10 Token at once
Hello guys i want to create token from my programId. if i'm not wrong if i create the token with my program id, it will use my function instead of spl-token right?
when i'm trying to create account using my program i'm getting this error, can anyone please help

getting from function `createInitializeMintInstruction`
I'm trying to get USDC on devnet for Drift
How do you create an associate token account?
hey, guys, I have a beginner question
this is on Jupiter's site
yeah the network is slow rn
anyone else unable to get a tx thru rn?
any idea how t o convert solana_ed25519_dalek::PublicKey typers to base58 string ?
thanks! i just reset my keypair (`solana-keygen new`), and tried deploying again. the first couple times it failed with a fairly crypto message (`Error: Deploying program failed: Error processing Instruction 1: custom program error: 0x1`), but it worked on the third try. the only change between tries i made was making the programId on local/devnet consistent, though not sure if that would have affected anything. 

but anyway i think it all works as expected now, thanks again üôÇ
whats the rust crate that includes RPC filter types specifically for filtering program accounts my token mint
my guess is that you have a keypair mixed up.  A program keypair can't be used as the fee payer for transactions, only system program accounts can be used to pay for transactions
oh üòÖ well that probably explains why the phantom tx failed?

i'm trying to `anchor deploy` a new projects, and i get this error: 
```Error: Account 72NkoiFd68dJqpnBwXmmf7P9kU8K4TLrRC8HQtwafMv5 has insufficient funds for spend (2.2007868 SOL) + fee (0.001585 SOL)
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }```

when i do `solana balance` i see that it is `2.2007868 SOL` , so i just assumed i needed more SOL for gas.
it doesn't make sense to send SOL to a program address
alternatively would also appreciate any help debugging why phantom devnet send txs seem to fail (trying to transfer some from phantom to local)
hey would anyone mind sending me 0.25 ‚Äì 1 SOL on devnet: `72NkoiFd68dJqpnBwXmmf7P9kU8K4TLrRC8HQtwafMv5`
Hello good sirs, i'd like to speak to customer support. TPS took a nose dive 20 minutes ago and most transactions seems to fail right now. Who is in charge here?
Hello, I am looking for extracting the public key from id.json that is created by solana-keygen command on CLI, would appreciate if someone give me some reference or guidance. In the meantime I found some online help, now I have the public key by using PublicKey::from_bytes()  but I am't able to convert the PublicKey of type solana_ed25519_dalek::PublicKey to base58 string, any help pls... or any new idea pls.
If I follow the escrow exemple, 
The user should first make a deposit into a token account and give the Program authority over this account.
Then the program can check the balance of this account to ensure that the payment is there
Then the program can trigger the action needed.

Is my reasoning correct?
Hmmmm ok cool thanks üòÑ
Yes
So i guess i would have to bypass that by creating some sort of centralised system that would later on interact on its own to the other blockchain?
Now if you want to have some off-chain mechanism for writing data to the chain, you can do that
It can't interact with anything else
A program can only read and write Solana account data
Not possible
Hey everyone i am fairly new to web3 development. I was wondering if someone could point me to resources how would i go about developing a solana program that can interact with other blockchains?
Yes I will be creating multiple accounts but I was hoping to do it 50K at a time instead of 10K
A form of chained list
You could create a second account and add a link into your PDA
That sucks
Yeah so the limit is 10Kb and no way to realloc?
Oh sorry I misread your comment before
So I think that maybe devnet has a lower limit?
thats over 10kb..
I thought this was working on testnet?  can't recall, it's been a few days.  I switched to devnet
I have another question,
I would like the user to call my program in exchange for some tokens.  Since the program itself cannot initiate a transfer from the user, how do I ensure that the user have actually paid before performing the function ?
The PDA I am trying to create is 42496 bytes in size
as I said..  all are different potentially.  so you need to inquire to the protocols.  also read more up on pools.  There is no magic get tokens from pool accounts for all protocols or pools.
Doing "sol_invoke_signed" to invoke system CreateAccountData
No, not doing a realloc
Yes but Orca was just an example, I was wondering if there was a general way to do it on Solana
your doing a realloc..  ?   not just the account size on create.   not sure on these rules or limitations as of yet.  new err mesg for me.
I am getting this error:
{"error":{"code":-32002,"data":{"accounts":null,"err":{"InstructionError":[0,"InvalidRealloc"]},"logs":["Program dnp5NSZPf3WR4BUJvLUXWkbvULFESJmEZ6h55MxsssH invoke [1]","Program 11111111111111111111111111111111 invoke [2]","Program 11111111111111111111111111111111 success","Account data size realloc limited to 10240 in inner instructions","Program dnp5NSZPf3WR4BUJvLUXWkbvULFESJmEZ6h55MxsssH consumed 1972 of 200000 compute units","Program dnp5NSZPf3WR4BUJvLUXWkbvULFESJmEZ6h55MxsssH failed: Failed to reallocate account data"],"unitsConsumed":0},"message":"Transaction simulation failed: Error processing Instruction 0: Failed to reallocate account data"},"id":1,"jsonrpc":"2.0"}
not last I checked..?
Orca has their SDK as mentioned for this.  go to their githb and search for Orca Typescript SDK
Is this different on devnet?
PDA accounts are 10kb max unless something changes,   Regular Accounts are 10mb max size.
Is there any way around this?
So the limit of 10K is for PDAs according to this:
<https://stackoverflow.com/questions/70150946/systemprogramcreateaccount-data-size-limited-to-10240-in-inner-instructions>
Er wait
For example this USDC-SOL pool on Orca has this address (EGZ7tiLeH62TPV1gL8WwbXGzEPa9zmcpVnnkPKKnrE2U) but the get balance method doesn't work as you suggested
I'm using devnet at the moment
Maybe the limit is smaller on devnet?
is there a concept of a masterchef on solana? I want to see my positions on levered autocompounder protocols (e.g. tulip and francium)... when i call 'getTokenAccountsByOwner' via the API it doesnt show them (just shows the LP tokens with corresponding zero balances that i then deposited)
And it's not possible to ever create an account bigger than that??
Is there really a 10K limit on account sizes?
Thanks üôè  I understand a little bit more.


///////////////////////////////////////////////////////////////////////////////////////////////

Then how can send the account pubkey to the rpc in FE?
#[account(mut)]
    pub state: AccountLoader<'info, State>,
I used the AccountLoader in the anchor
Can someone help me to setup a transaction to purchase listed nfts on magiceden?
The anchor AccountLoader type? Doesn't make sense to do that in typescript‚Äîall you would need in TS is to pass in the account's pubkey ("as an account")
Please tell me if anyone know how to create the AccountLoader in frontend - typescript
Hello, everyone
hi - I'm looking for a good solution to assist in implementing a custodial wallet system (currently looking at tools to integrate with Google KMS). If anybody has any experience or recommendations, any pointers would be greatly appreciated!
locking out and switching short-lived forks certainly does happen, but a validator would never switch *away* from a fork with 66% of the stake voted on it, they would only switch *to* it.
This is incorrect.  No optimistically confirmed blocks have ever been rolled back.  The panel "Unrooted Optimistic Slots" under Tower Consensus would show any data points if this was the case.  https://metrics.solana.com/d/monitor-beta/cluster-telemetry-beta?orgId=1&refresh=5m
How can I use 2 base keys to create a PDA
So yeah maybe you should check out their SDK or whatever
I'm just saying that without that, you wouldn't be able to use my program anyway
Oh I don't know that schema, I have no idea
And to be honest I am reticent to do so right now unless you can use it
i mean the json schema for tulip
I haven't published the source yet
is it maybe possible to get that from the website?
I have a program that can encode and submit arbitrary transactions from the command line (or any rust program, it's a rust library) but you have to have a json schema that describes the accounts and data that will be encoded into the transaction.
Do you know how their transactions are encoded?
hello
please help to find docs or list of all methods and params api https://kyc-api.vercel.app/api
like: https://kyc-api.vercel.app/api/validators/details?pk=AGGySGq5iQAS1gZNx4fy7zGt1PCjSuyaBZLiab8PyYCC&epoch=286

where I can find description of: validator/details and others ?
you would have to get in touch with tulip.  I know they have a github with a client SDK. checkout their discord and try to reach out to the team. i know they have been working on more.
Yep you want `@solana/spl-token`, eg. https://solana-labs.github.io/solana-program-library/token/js/modules.html#createTransferCheckedInstruction
Hi guys. Is it possible to create a transaction for an SPL token in React using the solana connection? Or is it necessary to create a smart contract?
I wanna deposit/withdraw from tulip using my own program
for example tulip.garden
How do i make a CPI call for a program which does not have public code?
Reaching confirmation means 66% of validators have voted on it.  Then for the confirmed block to be rolled back requires at least half of those to switch forks.  This requires that those validators wait until their lockout period ends.  For short-lived forks, this can be only a slot or two.  And from running a validator I know that switching forks for such short lived lockouts is not uncommon.  From that I would extrapolate that it's not super uncommon for a confirmed block to be rolled back, maybe tens of times per day?  BUT if you are talking about a block with 3 or 4 or more confirmations, I think that gets very rare, and more than 6 confirmations, probably very, very rare to never.
`solana stakes` still works against rpcpool RPC servers.  I guess that we may be coming to a point where you have to pay RPC servers for access to more resource intensive queries.
i see, its probably rate limit

something wrong with devnet? ive started getting internal errors on my rpc calls for airdops
ok, I'll try to investigate
I'm just saying where the error is coming from, but if you're seeing it on `Transaction.from` then the response they're giving you or the code you're using to generate the buffer from their response is still not getting you a valid transaction
yeah, but when I make a casual transfer of some sol it shows the public key as a bignumber as well, and it doesn't give me any errors
That usually happens when it's trying to read a `PublicKey` - they seem to be stored internally as `BigNumber` so the `_bn` is the clue there
Spooky. I'll keep investigating. Thanks for the resources
My understanding is that you don't have anywhere near enough compute budget (not sure how the ed25519 program can do its work efficiently enough though)
Is there no other way around that? Why can't I build ed25519-dalek if that's what the Ed25519Program uses?
TypeError: Cannot read properties of undefined (reading '_bn')
ok I've tried converting it from base64 and it seems to return a proper transaction object, but now I get this error:
Ouch.
It's a bit tricky unfortunately, but the program does exist. You have to issue a separate instruction using the Ed25519Program export from web3.js, and send it as part of your transaction. If the signature fails it will abort the tx; otherwise you can do your stuff. But to actually check in your own program that the client really did submit that extra instruction you'll have to use instruction inspection üôÄ https://docs.solana.com/implemented-proposals/instruction_introspection
Hmm I think you'll have to ask the API provider/see if they have any documentation

The way I return a transaction from an API is base64 with code like this:

```
  // Serialize the transaction and convert to base64 to return it
  const serializedTransaction = transaction.serialize({
    // We will need the sender to sign this transaction after it's returned to them
    requireAllSignatures: false
  })
  const base64 = serializedTransaction.toString('base64')
```

And then `Transaction.from(Buffer.from(response, 'base64'))` works

I'm not really sure what happens if you return a buffer without encoding it like that TBH
it returns it as a buffer, which looks like a uint8array - [0,0,255,.....]
I got it from an api endpoint
yeah, sorry I didn't word my question correctly. What i was trying to say is that I am trying to create a transactino object using the buffer, and then signing it
Hey. I'm trying to do some on-chain Ed25519 sig verification. Not sure how to use the Native Ed25519 program (https://docs.solana.com/es/developing/runtime-facilities/programs#ed25519-program); I'm not even sure if it actually exists.

I tried adding ed25519-dalek as a dependency too to do the implementation myself but apparently the bpfel-unknown-unknown target is not supported.

Any ideas regarding this?
How did you create the buffer?
I'm not sure I'm understanding, but `Transaction.from(buffer);` isn't doing any signing AFAIK, it's just creating a transaction from the buffer. So when you say "create a transaction object and sign it using a buffer" I don't think that's what's happening. I guess the cause is probably that the buffer isn't a valid transaction, but I can't really help any further than that without seeing code
All of my tries gave me the error above
I've tried turning the buffer into a uint8array, I've tried to decompiling it into a buffer from base64 and then into a transaction object. And nothing worked
It invokes the error on exactly that line, so it's defintely nothing to do with the signing
Can you show your signing code?
When I try to create a transaction object and sign it using a buffer like this:
```js
const transaction = Transaction.from(buffer);
```
it returns this error, how could I fix it?
```console
Uncaught (in promise) Error: Invalid public key input
```
Serum
Is there a template Solana AMM smart contract I can fork?
anyone have any clue about this error:   Program log: AnchorError caused by account: gem_rarity. Error Code: ConstraintSeeds. Error Number: 2006. Error Message: A seeds constraint was violated.
I want to make one call for all users wallets, is that possible or do I have to make a call for each wallet
Does anyone know how I can batch getbalance calls?
looking for a backend engineer to work with on a gaming project. dm if you can commit and build it as a team. i can pay in SOL and if you are skilled and committed enough we can talk equity üôÇ
if i transfer metaplex nft using spl-token does royalities works?
Hi there, thanks for your answer, and I ran those commands on devnet
1. sorry but I don't know how to init a default signer in command line, please help to tell me how
2. yes, I created the token `7QWQ5boC5Rcz3yRHfGeihufvSSy461Y5oNyJxxNmn27i` successfully

I printed some info in function `fn command_create_account(` in `token/cli/src/main.rs`
```
println_display(config, format!("Creating account {}, fee_payer {}, minimum_balance_for_rent_exemption {}, Account::LEN {}, config.program_id {}", account, config.fee_payer, minimum_balance_for_rent_exemption, Account::LEN, config.program_id));
        (
            account,
            false,
            vec![
                system_instruction::create_account(
                    &config.fee_payer,
                    &account,
                    minimum_balance_for_rent_exemption,
                    Account::LEN as u64,
                    &config.program_id,
                ),
                initialize_account(&config.program_id, &account, &token, &owner)?,
            ],
        )
```
And the result is
```
./spl-token create-account 37vaLv3isjJaiWMuZ6ExDhvsGaJGJZkJGL7irvZPDXZw
Creating account 2UMVntZxpcT9n1bg5CZaPJHdhfJUSaQf6tzbVnvQ6S75, fee_payer G2Tb6nmA7gg8HpWnUmL4yUysyJjorUbvwY8T6xax4kYs, owner G2Tb6nmA7gg8HpWnUmL4yUysyJjorUbvwY8T6xax4kYs, token 37vaLv3isjJaiWMuZ6ExDhvsGaJGJZkJGL7irvZPDXZw, config.program_id TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA
```
all parameters are sufficient
This makes me think you're not quite using the same seeds between JS and Rust (if you were, you'd get the same bump)
It should be exactly the same as the one you generated on the client
got. thx , bro
Like so:
```
    invoke_signed(
        &system_instruction::create_account(
            payer.key,
            mint.key,
            rent.minimum_balance(Mint::LEN),
            Mint::LEN as u64,
            &spl_token::id(),
        ),
        accounts,
        &[&[
            random_seed.as_bytes(),
            payer.key.as_ref(),
            destination.key.as_ref(),
            &[random_bump],
        ]],
    )?;

```

I generate the random_seed in the client and pass it in the data arguments to the program. I then regenerate the PDA using the seed in the rust program.

How can I tell if the bump I get from findProgramAddress is "incorrect"? Its just strange because it only works some of the time and seems non-deterministic.
When I try to create a transaction object and sign it using a buffer like this:
```js
const transaction = Transaction.from(buffer);
```
it returns this error, how could I fix it?
```console
Uncaught (in promise) Error: Invalid public key input
```
There are a lot of options though regarding RPC endpoints so do a little research to find out what suits your needs. If you are testing it may be best to wait for mainnet to cool down. If you are deploying an app I would recommend getting a dedicated RPC through a vendor.
So, how are you threading that bump into your program?
To my knowledge https://api.mainnet-beta.solana.com and https://solana-api.projectserum.com are the only public rpc's. I use quicknode for a shared semi-private RPC endpoint.
An accidentally incorrect bump has about a 50/50 chance of actually "working"
Likely not using the bump correctly
any public rpc servers that not ban by great wall?
I am using a randomly generated alphanumeric string as a seed for generating a PDA. Sometimes, when I try to sign a transaction with the PDA signer seeds, it works just fine. Other times, I get a `Provided seeds do not result in a valid address` error. This error seems to occur randomly for different values of the random alphanumeric string. Does any one know why this would happen? It seems completely random to me.

How I generate the pda:
```
PublicKey.findProgramAddress([Buffer.from(randomSeed), payer.publicKey.toBuffer(), destination.toBuffer()], programId)
```
This PDA works when `randomSeed` = `degb3v8jp8m9r4r7pgmxi8e8ckriu77`

But does not work when `randomSeed` = `rdfj3w1ekbwioh2f46z3swk6zyg7b1`

Everything else stays the same.... very strange.
Is there any way to access magiceden contract from my own code?
Instead of your web3.clusterApiURL method to get the mainnet reference.
Hey, you can set a custom RPC endpoint in this block 
```const solana = new web3.Connection(rpcNodeUrl);```
very simple codes :   var connection = new web3.Connection(
        web3.clusterApiUrl('mainnet-beta'),
    'confirmed',)
    const publicKey=new web3.PublicKey("XXXXXXXXXXXXX")
    let account = await connection.getAccountInfo(publicKey)
    console.log(account)
can't connect api service in my intellij workspace :   FetchError: request to https://api.mainnet-beta.solana.com/ failed, reason: connect ETIMEDOUT 157.240.13.8:443
how to add proxy when using web3.js ?
Is it possible to create a NFT collection and request the holder addresses from the whole NFT Collection via API?
Hey guys, I used to fetch the staking accounts like that but since it's now bad to use getProgramAccounts I would like to change it.
```const stakingProgram = new PublicKey('Stake11111111111111111111111111111111111111');

return await web3.getProgramAccounts(stakingProgram, {
  "encoding": "base64",
  "commitment": "confirmed",
  "filters": [
    {
      "memcmp": {
        "bytes": pubkey,
        "offset": 12
      }
    }
  ]
});
``` 

I tried doing it with `getTokenAccountsByOwner`  instead but it's not working :

```await web3.getTokenAccountsByOwner(pubkey, { programId: new PublicKey('Stake11111111111111111111111111111111111111') });
``` 

Can you point me in the right direction please?
Ok, let me do some experiments, I'll write you back :-).
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L129
sure, but I'd like to use smth like ` AccountLayout.span` but Rust 's version. I don't want to rely on 65 üôÇ
The space needs to be 165 since that's just how much space token accounts take
The program id needs to be the SPL token program's id, because you're assigning program ownership to the spl token program
And the space needs to be what you'd get from that AccountLayout.span (as a number it's 165)
but not sure
That's fine üëç
You've already answered your own question above lol, right?
As for the program I have `spl_token::id()`
I know that I need to `create_account instruction` and then initialise. But I don't know how to calculate/specify `space` and `program_id`.  That's the question!!!
And then you actually initialize the account by CPIing to the token program, as here https://github.com/project-serum/anchor/blob/master/spl/src/token.rs#L123
Ah, sorry‚Äîyou do indeed need to create the account yourself, but that's analogous to what you have above, you use the system program's create_account instruction
And is it possible to get a list of all holder addresses when i create a new NFT?
And I can't see smth like create_account*
Actually those are documented here https://docs.rs/spl-token/latest/spl_token/instruction/index.html
Where do you see creating account code there?
hi, in spl-token approve instruction, the delegate is a token account or wallet account?
Ok, you can see lots of regular non-associated examples here then: https://github.com/project-serum/anchor/blob/master/spl/src/token.rs
Hey, i am new to Solana Network and i wanted to ask if the python library is working fine and if there are any limitations in regards to: create and mint NFTs, create and mint Tokens, request the owner of an NFT and to send Tokens/USDT within Solana Network?
Plus mint_account
It requires a wallet
It seems to create ASSOCIATED token account "documented" here: https://docs.rs/spl-associated-token-account/latest/spl_associated_token_account/fn.create_associated_token_account.html
E.g. here's how anchor does it in rust: https://github.com/project-serum/anchor/blob/master/spl/src/associated_token.rs#L8
The rust version is basically just what autocomplete would tell you to the rust version of the above is (maybe not helpful lol üòõ, I'll post a link, 1 sec)
Ah, sorry‚Äîwhat have you tried so far?
I'm not interested in ts, I meant Rust.
Hi guys, I have updated solana-cli to v1.10.4 and since then I am not able to deploy any program on devnet or testnet. `solana program deploy` gets stuck with no outputs
You probably want to use the spl-token's js library: https://github.com/solana-labs/solana-program-library/blob/master/token/js/src/actions/createAccount.ts
But I guess we have to learn it the hard way
Yeah, that‚Äôs why I don‚Äôt like solana much, there isn‚Äôt much help haha
It is really frustrating there is no description in the docs leave lone examples üò¶
I will try to look for the contract that I had written for a similar thing
<@!525758014150672405> But the problem is I cant find how it is implemented in pure Rust
Actually there are two of them: spl_token::id() and spl_token::ID which return the same value. AccountLayout.span is the size of token account.
and I can‚Äôt exactly remember what the AccountLayout.span is
But the token program id should be the id that you got from above
Ok, sorry I wasn‚Äôt able to find the code for the token account redeemer that I made quite a while ago
TOKEN_PROGRAM_ID and AccountLayout.span confuse me üôÇ
<@!525758014150672405> here is js a example: `const createTempTokenAccountIx = SystemProgram.createAccount({
    programId: TOKEN_PROGRAM_ID,
    space: AccountLayout.span,
    lamports: await connection.getMinimumBalanceForRentExemption(AccountLayout.span, 'confirmed'),
    fromPubkey: feePayerAcc.publicKey,
    newAccountPubkey: tempTokenAccount.publicKey
});`
Hey all,

Can someone please provide with an alternative to getProgramAccounts()?
Give me a second, I had a contract example to redeem token accounts, maybe you would be able to work from there
Yeah I just realised that, sorry I didn‚Äôt read your question correctly
I know, there is a crate spl-token, but it doesn't have a method for  creating an account. BTW, i'm not trying to create a token, I'm trying to create an account to hold tokens.
Oh I‚Äôm stupid, I didn‚Äôt read your question correctly
I‚Äôm not sure how it‚Äôs exactly done from scratch, but there are a lot of libraries like spl_token, metaplex and etc. which make it much easier to make your own tokens, nfts and etc.
So, if I want to create a solana token account, do I have to specify this value for `program_id`?
That‚Äôs the general token program Id on solana
Ok, thank you
I don't think so, but you might need something like:

```
const recoveredTransaction = Transaction.from(Buffer.from(transactionBase64, 'base64'));
```

If you don't have a buffer yet
What is spl_token::ID (https://docs.rs/spl-token/latest/spl_token/static.ID.html)? I run `println!("{}", spl_token::ID);` it prints `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA` Is it the program ID of SPL locally installed on my laptop?
can we simulate a transaction on error?
Doesn‚Äôt from() also require other params like the type of the buffer?
You can use `Transaction.from(buffer)` to get a `Transaction` object, and then call `sign` on it or do whatever else you like
How could I sign a transaction buffer through @solana/web3.js?
How can we create a solana token account in Rust?
<@134416332509675520> thank you! When upgrading, I'm guessing I don't need to pay the cost again but only the transaction fee?
And yes: https://jstarry.notion.site/Program-deploys-29780c48794c47308d5f138074dd9838
The cost for rent-exemption will be roughly 14 sol / mb of your .so code. (Rent exemption in general is 7 sol / mb, but the upgradeable deployment process 2x's your initial code size to make sure you have space for subsequent program upgrades)
QUestion: If I deploy a contract, is there 1. any way of estimating how much rent will be needed for exemption? 2. Any way of retrieving the money when closing the program account?
I was reading this Anchor tutorial (https://project-serum.github.io/anchor/tutorials/tutorial-1.html) and found that the `Update` instruction has no payer. But the transaction (https://explorer.solana.com/tx/5Z4Sxwc4RJFiXdXrLb3nqAYyNGBbDDwKzZFYHPojkg3ftawj9YR4n9r6CmDGFQWn9Kxr1DtMmHjJz2En7s1RrvgV?cluster=devnet) indeed has a payer which is my wallet. I thought the payer account must be in the `&[AccountInfo]` of the instruction, but it isn't. We provide it in transaction prepare step. Anw it makes sense to me now.
what consider best and most efficient service to fetch Solana blockchain data ??? is there a decent one ?
hi guys, how often does a transaction that has reached confirmation level "confirmed" fail? Does it happen often when the network or one program receives a lot of traffic?
Get another job
Tell your solicitor to use `solana-test-validator` locally and they can stop worrying about Devnet SOL
not sure what happen in your side because you do this tx in your local validator.
I think you can check some points
1. did you init a default signer in your command line?
2. did you create 7QWQ5boC5Rcz3yRHfGeihufvSSy461Y5oNyJxxNmn27i as a mint successfully?
you can use it as a input of this rpc https://docs.solana.com/developing/clients/jsonrpc-api#getminimumbalanceforrentexemption
what's your txhash? AFAIK you need at least one signer in your tx to be a fee payer
when you do CreateAccountWithSeed it will hash(from + seed + program )
I think it is very hard to reverse it
it is very common to use the value of getRecentBlockhash in a tx.
you can take a look at https://github.com/solana-labs/solana/blob/master/sdk/program/src/stake/state.rs#L22
you can get a better support at <#937905165074300999>
a mint which based on token program don't support this feature.
thanks
maybe take a look at https://github.com/solana-labs/solana-program-library/tree/master/token-swap
https://github.com/solana-labs/token-list/pull/23407/files
I wanted to add new features. Would you check? How can I get help?
can you tell me how can i add liquidity by smart contract
can i get example of code for liquitidy
I don't want to drain I just need a couple thousand
so now that `getProgramAccounts` is borked, `solana stakes` no longer works? Is there a way to get all stake accounts owned by a user similar to `getTokenAccountsByOwner` ?
Can I mint a SPL token, which will charge a txn fee on transfer
I see, thank you. I can't find how I could create an empty sol token account using Rust. We have create_account in solana_sdk but I guess token accounts are special.
how can i get all NFTS related to a specific collection ?
i don't think developers will be happy if i help you drain all the devnet sols haha üôÇ good luck
All the faucets have a limit on how much you can airdrop and the rate you do it so autoclicker aren't very helpful
Thanks. Where can I learn to write a script?
Yep there is a fee, it's very small but nonzero. Do you have example code where you're sending a transaction without a signer?
I think it's just the size of the byte array for a token account: https://github.com/solana-labs/solana-program-library/blob/48fbb5b7/token/js/src/state/account.ts#L74
Or write a script for it.
I don't think you are gonna get what you are looking for here <@!533144588513312769> üôÇ one option for you is to create different wallets and airdrop 2 devnet sol at a time.
Devnet sol is for developers to test, not for reselling. Whoever "hired" you is probably a developer who need more devnet sol.
So is it possible?
Tbh idc what he's doing with the sol I'm just tryna get paid you know
https://twitter.com/GenesysGo/status/1508335636608167938?s=20&t=LcLloVxgVbhlXaVkhyl9Tw
Hi. Does Solana charge transaction fee like Ethereum does? I noticed that I can send a Solana transaction to devnet without any signer. If Solana doesn't charge transaction fee, then how can it prevent spamming?
is there any tool (or service) that returns info about solana blockchain ?? (i.e - return last 100 recent minted NFTS on the chain) ?
anybody knows a bout a certain implementation of TheGraph on the Solana blockchain ?
anyone getting ENOTFOUND on `https://api.devnet.solana.com/` ? Edit: It is fixed now it seems
How do i interact with a programin rust?
What does `AccountLayout.span` stand for? (solana Web3 js). Its is of u64, but what is it?
hey.. is there a way after listing my NFT to a random  marketplace, to keep see my NFT on my wallet ? or because NFT transferred to a different account i will not see it ?
Hi everyone, I'm trying to build solana-program-library on local and create a token on devnet, but I got an issue, although I create the token successfully with `spl-token create-token` but I can't create-account with this error
```
spl-token create-account 7QWQ5boC5Rcz3yRHfGeihufvSSy461Y5oNyJxxNmn27i
Creating account GXcZBdo51o4mr1u7wSrzkLr2hV9ehA13kCnuYrAvTpS2
Error: RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: insufficient account keys for instruction [3 log messages]
```
I'm using spl-token-cli 2.0.15
So I don't know how different between released spl-token and spl-token build on local, I'm stuck for so long, please help me.
I resolved. You need change to other RPC api, maybe its not updated. Change to the RPC of mainnet-beta is working now
On this site https://solanacookbook.com/guides/get-program-accounts.html#filters
I can see a token account visualization
Where can I see info about stake account structure/visualization?
you are probably getting scammed, or supplying a scammer
devnet SOL has no value
lol what
Are you able to help?
I'm being paid to supply someone with a large amount as its quite hard to get apparently
Hi! I want to ask about Stake Account Seed
In createAccountWithSeed we provide a seed (string, for example: 'stake:0', 'stake:1' and etc.)
How can I find a free seed by account address?
I use getProgramAccounts, but in accountInfo i don't see info about seed
<@!743316376185208843> <@!933759184195977277> 
Hey yeah We are few friends, developing a mobile game and fascinated by NFt and play to earn game.
We decided to build a P2E on Sol chain, but none of us has any experience developing on blockchain.
Can anyone from Sol help us to guide through the whole procedure? 
We tried on YT also but didn‚Äôt find anything related to develop a game on sol chain.
why do you need so much?
are solana nodes down?

Is there any alternative for getProgramAccounts  RPC call ?
Thanks so much. Is there a way to get thousands of devnet sol quickly?
Search for Gemfarm on google
@everyone, I am trying to implement serum sdk swap function but it's  giving the following error. Any help


(node:38663) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'publicKey' of undefined
    at Swap.swap (/Users/talhazulifqar1/Documents/trading-bot-project/jpool-trading-bot-backend/node_modules/@project-serum/swap/lib/index.js:102:49)
    at swapHappen (/Users/talhazulifqar1/Documents/trading-bot-project/jpool-trading-bot-backend/app.js:174:31)
(Use node --trace-warnings ... to show where the warning was created)
(node:38663) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag --unhandled-rejections=strict (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)
(node:38663) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
this is how i am implementing 

var from = web3.Keypair.generate();
  var to = web3.Keypair.generate();
const result = await client.swap({
    fromMint: from.publicKey,
    toMint: to.publicKey,
    amount: '1',
    minExchangeRate: '0.1',
  });
mjhe solana main koi bhi staking contract ka git link de du
yes bro
<@!948475201904078849>  bhatti sb
stuck on same error
I don't think the project has done. he don't pass anything in his rpc called 
https://github.com/vipin-imentus/staking/blob/main/tests/stake_nft.ts#L29
when you use `mintTo`, the receiver should be a token account. can't see your code just guess you pass a wrong receiver.
<@!445425471027544095>
any one can give me staking smart contract git link ??
https://docs.solana.com/cli/install-solana-cli-tools
Umm what is that how do I access that?
Hi Guys I am looking for devnet faucets for tokens like USDC, SRM,RAY. can anyone help me where to find one. thanks in advance üòä
https://github.com/vipin-imentus/staking/blob/main/stake_nft/src/lib.rs                                                           
              1) Is initialized!:
    `*** Error: Invalid arguments: myAccount not provided.***`
i am getting this error. but i am passing the exact accounts needed in the keys
Hi guys hope you are doing well
`solana -ud airdrop 1` should work, there's devnet SOL in that faucet still
When will the devnet faucet be refilled
on CLI
How much time I should wait for a vanity key to grind
Here're my current packages: "@solana/spl-token": "^0.1.8", "@solana/web3.js": "^1.30.2",
Hello, I get error with the getProgramAccounts function, it returns "403 Forbidden: getProgramAccounts is not fully supported on the 1.9.13 branch. Due to an error by the Solana team, all nodes running on 1.8.14 or earlier are no longer supported by Solana". Do I have to upgrade the solana web3 library?
ideally a node won't store all data. iirc only https://api.mainnet-beta.solana.com is a full node. you can use 
```
curl https://api.mainnet-beta.solana.com  -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getFirstAvailableBlock",
    "params": []
  }
'
```
to compare between these nodes

you can use --limit-ledger-size to increase data range in your node.
anchor discord, and examples have plenty of pda examples.
Anyone can let me know about the solution?
But I don't know how create it with anchor.
I have ever created PDA with wallet address seed in Rust.

Individual seeds are limited to 32 bytes in length

use shorter seed. review the many examples.
they look like different urls to me. 'stage' usually indicates something else unless it redirects. also the projectserum.com u listed is throwing errors.
I can't use createWithSeed method.
Hi, everyone.
I am trying to create PDA with [PREFIX, WALLET_ADDRESS] as seeds. But got this error.
`Program failed to complete: Could not create program address with signer seeds: Length of the seed is too long for address generation`
Seems like a question for <#837340113067049050> maybe?
hi, why get transcation is null, signature:2PgiHRn1bt9cbcnZGmNu14QrkrdNaZCRYatVG8xWFmGBy4bCp1iduwpi3Y1idxbDfPo2e9wV6NjJBzhrGLbkqoq7
private endpoint: https://stage.mainnet.rpcpool.com 
 endpoint: https://solana-api.projectserum.com  is the same.
still nothing üò¶
guys solscan shows my token with name and icon, but phantom wallet still says unkown token, anyone know how long itll take, please ping
found a related discussion https://discord.com/channels/428295358100013066/517163444747894795/957450341673209877
im trying to install solana on my pc but it says "the system cannot execute the specified program" any help would be greatly appreciated üôÇ
https://r3byv.csb.app/
<@!304860541732519936> ty sandbox will help a ton
shared writable accounts: bad
Probably not exactly the opposite.
no entiendo lo que quieres decir 

I have window.solana available 
window.solana.signTransaction() <------ this is avilable 
otherwise the error would be .signTransaction is not a function
sorry I didn't see that one tnx :)
<#909859505716736040> ?
creo que es por como invocas a window, si te fijas en el sandbox de phantom ellos actualizaron esa parte para usar "any window" https://github.com/phantom-labs/sandbox/blob/5686f2792066a9256e598bfcfba5e38c4a5bbca7/src/App.tsx#L39-L48
off-chain merkle tree, on-chain merkle root, account creation requires submitting the inclusion proof?
window.solana is available
nope 
ese no es el problema
Curious how this would work when the program "Party" account needs to query for all guests who signed up. Would you just store the Program key with the Guest key in a PDA? Basically a join table .. ?
creo q estas intentando invocar un bojeto antes que este exista en el contexto de la ventana, te recomiendo que chequees el repositorio de sandbox de phantom wallet, es muy util para iniciar una webapp sin tanto problema
gracia (:
ok yo te ayudo
si
azul as in spanish for blue?
https://github.com/redazul/solana_reactjs

If anyone has time to review
this is the line that's throwing the error (this.instructions.forEach is not a function)

https://github.com/redazul/solana_reactjs/blob/main/src/App.js#L35
PDA per user is the way
Exactly the opposite of good advice
The PDA will be a data file, you can store data in there in any format you want.  But yeah a vec of pubkeys to identify guests seems like the most natural thing.
and phantom rpc is kinda failing because of that too
some folks are heavily botting them and producing a clog in the ME website
Seems to be related to the newest version of the cli. But older versions have trouble deploying because of timed out transactions... What's the most stable cli version to use? Having a real hard time deploying anything
what do u mean
https://github.com/StrataFoundation/strata/runs/5713388809?check_suite_focus=true

Pretty much any time I try to do a write buffer
```
Error: Custom: Invalid blockhash
```
Not too worried about having to settle hundreds of guests, but good to know that it is theoretically possible. Anyway thanks again, that confirmation was all I was looking for ‚Äî as long as this app idea _could_ be technically feasible, I'm happy to dig in and figure things out. Just wanted to make sure I wasn't on a road to no where
Thanks will look into PDAs! It was next on my list anyway. So instead of creating a new Account for each Guest, is the idea to just create a Party account that can reference the "guest list" stored in a PDA? And we could set-up the logic so that only auth'd guests can add themselves or check themselves in. Would we just store guests in a Vec of Pubkeys or something?
Could I get some help ?
I am trying to call the solana-hello-world program 


Phantom Wallet: error
this.instructions.forEach is not a function
The idea is that if a guest does not show up to the event and check-in, they forfeit their stake. And any forfeited stakes are re-distributed among guests who did check-in. So guests can't "leave" in that sense, could be a nice feature but this is more a learning project that's not intended to go on mainnet so wanted to start with the basics.
can devs do something? :P
omg mongomons are breaking solana xD
thanks üëå
Went to network chucks video and just copied him
u got a link to that?
The token list
I don‚Äôt know what that means bro
uploaded it where to github?
Because I uploaded it to GitHub
so solscan updates automatically propagate to phantom?
And it had name and icon
The long string of characters
I just searched my tokens I‚Äôd up
Are transaction sizes now doubled in mainnet?
Hey kymio! How'd u get solscan to show your token with name and icon?
Hello for some reason i am unable to update solana on my system and I run 

curl  https://release.solana.com/v1.10.4/solana-install-init-x86_64-pc-windows-msvc.exe --output C:\solana-install-tmp\solana-install-init.exe --create-dirs 
 
But when I try to run

 solana-install-tmp\solana-install-init.exe v1.10.4

 Ii get the message 

The system cannot execute the specified program.

when I run 
solana ‚Äì-version i get 1.9.12 

If anybody can help it would be appreciated im very new
please ping
guys solscan shows my token with name and icon, but phantom wallet still says unkown token, anyone know how long itll take
Probably same for token accounts too.
Hmmm ... reading the spl-token program source, it appears that the magic is that you have to create the mint account with its owner set to the spl-token program.
is there like a website of GUI where we could submit our token so that it shows up nicely in the phantom wallet? unrelated to anchor but curious if anyone knows
eh?  The InitializeMint instruction is an instruction defined by the solana token program
where is the instruction? on a ts file on your computer or a program on solana
Oh erm ... is the mint account supposed to be a PDA of the token program?
There has to be some kind of ownership established so that I can't then just write arbitrary data of my own into the account ... no?
Surely there must be more to it than that though.
I don't really understand this.  What happens to this account?  Does it get written into?
InitializeMint is an instruction which takes a writable account as the mint to initialize.
OK so I'm trying to understand minting tokens programmatically ...
Anyway what's the reason for your "settle" working that way?  Can't you instead just keep the lamports in a pool, keep track of how much is attributed to each guest, and when a guest leaves, allow them to settle themselves at that moment by taking their share from the pool?
If you want to settle large parties, it would have to be a multi-step process
So you're not going to be doing a single 'settle' of hundreds of 'guests' in one transaction
as was mentioned there is an accounts limit in transactions
Users who want to settle would look up the data in that account, and use it to compose a transaction with the appropriate accounts listed.
Just store the list of guests in a program derived account that represents the state of the party.
I am certain that you could do what you want if you designed your program correctly.
Thanks!
i dont think its the primary intended cas because of the computation limit
Thanks for the reply! So sounds like this app idea isn't feasible on Solana right now after all üòî. Is that just a current limitation or are these kinds of apps not the primary intended use case in the long term too?
curr cap is 32 accs i think https://docs.solana.com/proposals/transactions-v2
thank you, you are very kind
What's a reasonable upper bound on the number of read-only accounts that can be included in a transaction?  I have a use case where I want to do a bunch of work all at once over a bunch of accounts, but I wonder if passing in 20+ read only accounts is going to cause a problem ....
Not sure if there is a way of doing that, I'm giving it a thinking
You are correct that in solana all accounts need to be passed as arguments to the entrypoint, so doing the query on the contract is not possible as far as I know

Doing it on the client on the other hand doesn't seem possible to me either because you most likely will end up hitting the maximum instruction size even with few guests, so it will fail anyway
Hi everyone, I‚Äôm working on a toy project to help solidify my understanding of Solana/Rust (got introduced to both last week). 

The project is an IRL event app, where people can host a `Party` and others can join as `Guests`. Joining a party requires some `stake_in_lamports`, with the idea being that after checking-in, the lamport pool will be evenly distributed among all checked-in guests (people who fail to check-in lose their stake). Here's the code so far: https://github.com/Yihwan/party-irl/blob/poc/programs/party-irl/src/lib.rs

But I'm not sure how to handle the logic to "settle" a Party. I was hoping to do some kind of query within a `settle_party` method or similar that looks for all checked-in Guests, but I think I read somewhere that in Solana all the accounts to be transacted need to be passed as args. If so, I suppose I could do a filtered query from the client, but not sure if that would open up to vulnerabilities. 

Basically, any guidance on whether the premise of the app is feasible would be super helpful. Happy to try and figure out the implementation details as I go along, just want to get a sanity check on overall feasibility before I go too far down the wrong path.
Realised you are supposed to call `Fees::get()` to get the rent one and that should return the sysvar, but on the documentation it says it's deprecated (https://docs.rs/solana-program/1.9.4/solana_program/sysvar/fees/struct.Fees.html)

What's the new method?
Hey everyone <3

I read in an article that sysvars don't need to be sent as accounts to the entrypoint anymore, but I can't find any example on how you are supposed to interact with them on the program otherwise

Can someone give me a push in the right direction?
they are probably the best broken down, and then looking at the code itself. if you have specific questions on whats presented there please ask. it can help us write out different perspectives for clarifications and easier understanding.
ok ty
read about the curve in the docs, and the link above. generation of sig through non private key by the execution.  it takes some digesting. several related tweets articles and info on PDAs.
there has to be a step somewhere that solana verified program address == program address or something right? and how does it ensure that
ah yeah i get this part. apologies if its getting wordy. I really just want to know how Solana can ensure that a program signing for a PDA is. well, the program for the PDA. I don;t know of only public key signing? only encryption. In my mind, it's always traditionally been private key signs, use public key to verify signature. (vice versa for encryption. use someone;s pubkey to encrypt a message. only their private key can decrypt). but the lack of a private key here, eg: only using public key for signing and validation seems a bit weird
https://solanacookbook.com/core-concepts/pdas.html#facts
would be good to know if this does not cover the majority of importance.
pdas sign on chain in the program, the signing for pda cannot happen on a client. just seeds generation.
this is done on program execution on chain, so a client cannot reproduce the exact signature, just seeds.
because can't you create a TX for a program. then using the pda, "sign" that TX, and send it somehow?
but what exactly is the signature part that only lets the program itself sign for the pda?
so in turn, i guess it makes sense, clients can generate the pda too
I am going off this code snippet, linked somewhere in chat. Reading it intuitively a pda is like sha256 of a buffer of (seeds + id + "ProgramDerivedAddress" (hardcoded string)). some extra pruning to make sure it is 32 bytes in the end

only the program itself can do it to repro the signature for signing. its really as simple as the owner executing is unique, so simply passing the program address will not produce the same result without being run by the program itself. there is no replacement for looking under the hood to see yourself on the exact details. the rabbit hole is there.. if your interested.
What happens under the hood for program.invoke_signed? I can't seem to find the C/header linker in the repo's. I'm under the presumption you can calculate the PDA given program_id and seeds, which are public information. what inhibits someone from falsely signing a transaction in place of a program?
afaik just doing the things your thinking about.  there is nothing really that uniquely identifies the type of address itself, aside from the information about it, like owner, transactions, etc.
Is there a way to understand the 'type' of an address? The best thing I can think of is to do `connection.getAccountInfo` and check the owner for eg the `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA` one to know it's a token account, etc
I only asked because I came from networkchuck lmfao and his seemed to update instantly
Oh gotcha
I think the merge runs every few hours, so that'll get it into `master` in the repo. But "on the blockchain" isn't really a thing with that repo, it's up to eg. wallets to update to display the latest data. That can take ~days and they all have different timeframes, and it's also different with devnet vs mainnet etc
Please ping me
Sorry if it‚Äôs stupid I‚Äôm new to this
Hey does anyone know how long it takes for a custom token to actually go on the blockchain if it‚Äôs got the blue auto merge tag on the GitHub repo
Yeah, just found the same
https://solana-labs.github.io/solana-program-library/token/js/modules.html#AccountLayout
https://github.com/solana-labs/solana-program-library/blob/48fbb5b7/token/js/src/state/account.ts#L59
Ah found it, I think `AccountLayout.decode` as used in https://spl.solana.com/token#example-view-all-tokens-that-you-own will work :)
How can you calculate how much "space" a Solana account will need?
The JS SDK works just fine in TS.... I believe the SDK has auto decoders for SPL stuff... check the repo for details
https://solana-labs.github.io/solana-program-library/token/js/
Thanks, but I'm specifically looking for the TS SDK :) That link might give me a clue though - do you know which function there you'd use to decode the data?
You know what, It was actually 100% my fault and I'm ashamed haha. I had a str() conversion when saving to a text file in python because it refused to allow me to save a json dict. Got it fixed using a proper json.dump() and all good now!
i.e. you could find the end of that value string using indexOf("'}") or whatever
if you're just trying to parse a few  simple value pairs, you could just parse it manually by considering a value string to terminate only on either ', ': , and '}
yeah, that ain't valid json at all is it. how potentially complex is the json you need to parse?
You're actually getting data like that? Bummer, lol. JSON also requires double quotes, not single quotes, but the above is even worse if it somehow isn't even using single quotes correctly.
https://spl.solana.com/token
Fellow Devs.... How do you deal with unescaped json? Say you have some JSON that looks like this:

{'Description': 'This is Bob's Description of his NFT collection. '}

When I try and parse this, the JSON parser runs into    Bob's    and sees the '      The parser fails due to invalid as expected. Any pointers in how to handle this when I am not in control of what is generating the Metadata?
Does `@solana/spl-token` have any functionality for decoding the `data` of an associated token account, as returned by `simulateTransaction`?
sendAndConfirmTransaction
Ah kk good to know!
Expand the code by clicking on the `</>` control
https://solanacookbook.com/references/token.html#how-to-transfer-tokens
Which spl-token function do I use if I just want to send a token from one wallet to another one?
I needed something for the instruction. However; there is no limitation (other than Tx size) on how you want to setup your instruction and data. Lately I've been using Enums with Tuple structs. You can do whatever you want...
How would a payload struct like the one shown in the cookbook even work for transactions with different types?
I'm confused about some examples in the solana cookbook -- Specifically, within the serialization section, why is `Payload` a seperate struct?
Is there any reason why I couldn't (or shouldn't) do something like this?
```
match first byte of input {
0 => Deserialize specific instruction permutation 0
n => deserialize permutation n 
}
```
https://solanacookbook.com/references/token.html#how-to-get-a-token-account
const balance = await connection.getTokenAccountsByOwner(wallet.publicKey, new PublicKey(USDC_MINT));
its part of the account object that is returned
https://solana-labs.github.io/solana-program-library/token/js/interfaces/Account.html
i've tried this
yes ser, i'm looking for the amount
use the spl-token lib,  https://solana-labs.github.io/solana-program-library/token/js/modules.html#getAccount  - amount ?
hi everyone!
getBalance returns the sol amount in a wallet...
how do i get the amount of another token ?
js
tried getTokenAccountsByOwner but no lucky
<@!134416332509675520> it's working you've saved my life üôÇ
Good start!
oh sorry <@!373850936046518272> I wasn't trying to respond to your issues, just showing off the new solana-program docs
<@!463471020628770816> Thanks, I'm trying to do it using anchor and then look like no clearly easy how I can access the state of the underlying account inside my solana program


///////////////////////////////////////////////////////////////////////////////////////////////

what is the standard maxRetries in sendAndConfirmTransaction() ?
What is the encoding field in `memcmp`? https://docs.rs/solana-client/1.7.12/solana_client/rpc_filter/struct.Memcmp.html
Hey how can I send myself devnet usdc
That's all I've got, you can ostensibly call sol_set_return_data in your contract and then people who CPI to you can subsequently call sol_get_return_data to read what you wrote
Can you provide me with a link? I only find this trait function https://docs.rs/solana-program/latest/solana_program/program_stubs/trait.SyscallStubs.html#method.sol_get_return_data.
Sure, that can work. There's also now sol_get_return_data (not sure if it's actually totally activated on mainnet now?)
I'm trying to approximate the instruction's return value in my Solana program by using a field in the storage account struct to store the return value. Is doing this safe?
export const swapLayout = struct([
        u8('instruction'),
        u64('amountIn'),
        u64('minimumAmountOut'),
      ]); 
    
    const bs58 = require('bs58');
    let data = 'qdTn6NDD7Vna8713kiRaxw'
    let b = bs58.decode(data)
    const decoded = swapLayout.decode(b) 
    console.log(decoded.amountIn.toNumber())
Did solana roll back from rust 1.59?
what am I doing wrong?
The expected output should be (screenshot) but this is what I am receiving: 
amountIn: 7229524481356875000
minimumAmountOut: 6228022228772009000
I'm decoding afterwards with ```                
const tokenSwapData = swapLayout.decode(Buffer.from(data));
const swapInstruction = tokenSwapData.instruction;
const amountIn = parseInt(tokenSwapData.amountIn.toString("hex"), 16);
const minimumAmountOut = parseInt(tokenSwapData.minimumAmountOut.toString("hex"), 16)```
the data string `qdTn6NDD7Vna8713kiRaxw`
Hi! I am trying to decode a "swap" data entry by decoding transaction data instruction.
I have this instruction obtained through web3: 
```{
                        "accounts": [
                            "EJRXAkKyDhDgzdZz1Ss5CpWKWSK9xTR5S6GDLAer8mdh",
                            "2pQbngWBSWUjBHWVWQ3tppKxW3Y5NzUcye1822itKyzZ",
                            "AYfQFYhwHimmR3mfMZocbkezVQ4gFCxjCu5V8eEAspye",
                            "6ACNNxSCp45G1jfzBdPKzB819YKgWuhF1hsKABsXqs18",
                            "EdhG3vQbTVVAARZB4AbhU2HsVbvfFqX2yhBAfFV22nzA",
                            "2JCxZv6LaFjtWqBXSC2brsWE9WryS4Cp3VwwDeNGvLyv",
                            "4C9Ht7QgzJNmZo77eDFe33bcEfxNNHx5akZtcgDnhbEM",
                            "9tf8rBSEQYG7AqL896fN2nZi1iYPqpWaLEdpbeQaC1Vy",
                            "APyc1s8wES4Q2FTqHN8jXZtRuWQyRWZ82u7EFfras2iZ",
                            "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
                        ],
                        "data": "qdTn6NDD7Vna8713kiRaxw",
                        "programId": "9W959DqEETiGZocYWCQPaJ6sBmUzgfxXfqGeTEdp3aQP"
                    }``` 
I am trying to decode the "data" field using struct provided in `token swap program source` ( ``` const swapLayout = BufferLayout.struct([
        BufferLayout.u8('instruction'),
        BufferLayout.blob(8, 'amountIn'),
        BufferLayout.blob(8, 'minimumAmountOut'),
    ]); ```)
code but the output just does not match what solscan shows.
Will that help reduce the size of a TX?
What is the purpose of the `encoding` field in `solana_client::rpc_config::RpcSendTransactionConfig`?
```rust
pub struct RpcSendTransactionConfig {
    pub skip_preflight: bool,
    pub preflight_commitment: Option<CommitmentLevel>,
    pub encoding: Option<UiTransactionEncoding>,
    pub max_retries: Option<usize>,
}
```
Hi everyone! Guys i am getting this error "program           Program's authority Some(XYZ) does not match authority provided (ABC) "
the error is curl: (22) The requested URL returned error: 403 Forbidden
solana-install-init: command failed: downloader https://release.solana.com/v1.10.5/solana-install-init-x86_64-apple-darwin /var/folders/7r/8gvmymdn0t16yjl8hhhn69940000gn/T/tmp.HJTQ3cAs/solana-install-init
I use this command in Mac OS sh -c "$(curl -sSfL https://release.solana.com/v1.10.5/install)"
#help with Solana Install Tool
Will there be a way to stream the latest blockhash via websocket?
Hey there. Any idea on how to catch transaction errors properly on tests? So far I've only managed to do so with a try-catch block and checking error.logs.join("") or error.msg if it is a custom error.
Nice. Thank you <@!492411676889710592>
Not sure about the anchor side, but you probably need to do a `base58.decode` in the keypair

`Keypair.fromSecretKey(base58.decode(SIGNER_PRIVATE_KEY))`

I use the library `bs58` and then `import base58 from 'bs58'` which is the same as the cookbook uses

What is the best way to create a wallet instance in Node.js? This is my code:
can anyone give me guideline how can i overcome this problem?

Situation:
i have a auction and i have to place_bid on it. but the auction is on custom spl-token.

usually what we do is create a wrappedSol account using js createWrappedAccountTxs function. which we give amount of placing bid +2 years of rent.

now i have to make an account but also make an spltoken account in it with enough amount of tokens to place_bit, sol would be only of 2 years rentexemption. what can i do for it?
thanks
Your `fromTokenAccount` isn't a public key, it's an account object with various fields. Try using `fromTokenAccount.address` in your transfer
It also occurs when I find the toTokenAccount the same way as the from
They are defined like this:

```        const fromWallet = new PublicKey(publicKey);
``` (from wallet adapter)

```        const toTokenAccount = new PublicKey('xAvER6BAKccUfsrosf86ooLzdnUjZrJEvNtxaJQwXE3');
``` known token account 
```
const fromTokenAccount = await getOrCreateAssociatedTokenAccount(
            connection,
            fromWallet,
            mint,
            fromWallet
        );
``` fetched token account  

error occurs at the Transfer instruction
hey, check out this article on how to save thousands in nft giveaways üôÇ
https://medium.com/invisible-lab/save-thousands-of-dollars-in-solana-nft-giveaways-7d584de2e174
Is there a way to view the SPL tokens on wallet using Rust by any chance?
yep, that worked for me as well. Thank you very much
Client side JS is probably your best case. If you dig around you'll probably be able to find where the API you're looking at is being called quite easily (unless they're intentionally obfuscating it), then you should be able to use a debugger to take their JS obfuscation apart pretty effectively and see how they're using the buffer they return
Works for me anyway
Looks like it should be `Transaction.populate(Message.from(Buffer.from(thoseBytes))`
I see, you will have to decode that buffer
yeah, but I have the whole transaction object as a buffer. I don't have the wallet, instructions and etc separatly being put into the transaction
yes but the error is with the public key and you need those keys to create the transaction object
But I can try something similar
I'm not trying to make a publickey. I am trying to create a transaction object
const bs58 = require('bs58')
const bytes = Uint8Array.from([
    0, 60,  23, 110, 101, 155, 234,
   15, 41, 163, 233, 191, 120, 128,
  193, 18, 177, 179,  27,  77, 200,
   38, 38, 129, 135
])
const address = bs58.encode(bytes)

then PublicKey(address)
I'll try to investigate their client side JS code
true, I could try that
Do you have access to any of their client-side code that might be using this API? Eg. if it's on their website can you get at their JS and figure out how they're using it?
take a look at this:

https://gist.github.com/diafygi/90a3e80ca1c2793220e5/
and
https://github.com/cryptocoinjs/bs58
It's pretty big, so I sent it to you in dms
Nope, that's the problem, because it's not really an official api. And yeah, that's what I've been trying to do for the past day, just trying out random combinations of decoding/encoding and etc.
Sorry you're still having an issue with this :/ Does the API have any support or documentation that could help you? Honestly it's just guesswork or trial/error how you get from that buffer to a transaction and they really should be giving some idea how to do this
ok, give me a second
Can you just send me the whole buffer? Lol, not sure how else to debug it
try convert it to base58 so it becomes a string and then load it into the PublicKey
But the buffer that I receive looks something like this: `[0, 0, 0, 1, ........., 255, 255, 255]`
I'm deriving the transaction from a buffer, which I get from an external api. So I don't exactly know how it's formed. Which I am trying to find out, so that I can sign it on my end
Mm, can't say without seeing your code, are you maybe not using base58 to encode the pubkey? Or encoding the full keypair? Etc.
I know that, but I don't exactly understand why
I see, that makes sense. I guess the example repo only shows default params, but you could inject whatever you wanted as the params are usually optional for this reason.
That happens here https://github.com/solana-labs/solana/blob/master/web3.js/src/publickey.ts#L58
I haven't written my own one so take this with a pinch of salt, but I think you can use whatever constructor you like because the end caller (not the library) is responsible for creating the adapter instances. Eg in this code of mine that uses phantom + solflare: https://github.com/mcintyre94/solana-partially-signed/blob/main/pages/_app.tsx#L21

```
  const wallets = [
    new PhantomWalletAdapter(),
    new SolflareWalletAdapter({ network }),
  ];
```

If solflare wanted more constructor params then I'd pass them in here, which is totally outside of any Solana lib code. So I don't see why there'd be any compatibility requirements, it'd just be the responsibility of anyone using your wallet to pass the right params in
Hey Guys!

I'm getting this error: 

Error: 403 Forbidden: Call type exceeds Solana 1.9.13 version limit for max account size.

Can anybody give me some insights on it?

Thanks
When I try to create a transaction object from a buffer, it gives me this error:
```console
 UnhandledPromiseRejectionWarning: Error: Invalid public key input
```
What does that mean and how could I fix it?
looks like one of your public keys (PublicKey) has not been created correctly
Anyone know how this error may be caused 

```
TypeError: y.pubkey.toBase58 is not a function
    at transaction.ts:263:1
    at Array.sort (<anonymous>)
    at Transaction.compileMessage (transaction.ts:262:1)
    at Transaction._compile (transaction.ts:380:1)
    at Transaction.serializeMessage (transaction.ts:406:1)
    at ia (inpage.js:141:130205)
    at inpage.js:141:137033
    at c (inpage.js:2:47880)
    at Generator._invoke (inpage.js:2:47668)
    at Generator.next (inpage.js:2:48309)
```
_Context_
```import * as Token from "@solana/spl-token";
```
```
 /*
        createTransferInstruction(
            source: PublicKey, 
            destination: PublicKey, 
            owner: PublicKey, 
            amount: number | bigint, 
            multiSigners?: Signer[], 
            programId?: PublicKey
            )
            : TransactionInstruction;
        */

        const transaction = new Transaction().add(
            Token.createTransferInstruction(
              fromTokenAccount,
              toTokenAccount,
              fromWallet,
              1
            )
          );
```
Does anyone know how does the blockchain api buy nfts from the magiceden marketplace?
Anyone familiar with the solana wallet adapters? I'm trying to create another wallet but noticed that all the current wallet adapters have constructors that are either empty or with just a network parameter. How does one inject more custom parameters into a wallet adapter but still have a compatible adapter?
thx for the feedback
how can i create a account to hold specific mint tokens? i want to make account on other wallet
The latest version of `@solana/spl-token` has the same functions used in the cookbook though? https://solana-labs.github.io/solana-program-library/token/js/
Hey is there somebody which had this error ?

```
Program log: EditionMintDecimalsShouldBeZero
Program returned error: custom program error: 0x18
```

Thanks in advance !! üòÅ
Provides an RPC client that can communicate with Solana over RPC, just like Web3.js and other clients, but for Rust. Also has a TPU and pubsub client as well as some other tools
Can i develop with windows?
Don‚Äôt we need to use the new version of spl token because of the new solana version?
Where's `transfer` coming from? Your code doesn't look like either of the examples in the cookbook so that's probably why it's not working. Also where's the error happening? Inside the `transfer` function?
Code and error


It looks right to me, can you share your code + error message?
Or doesn‚Äôt work
I think it‚Äôs outdated
You probably want https://solanacookbook.com/references/token.html#how-to-transfer-tokens
Can anyone help me transfer an spl token using web3?
Please don't tag unless it's actually urgent (this isnt')
kk thx
@everyone
I am working on stake pool , how can i make member account with registrar through cli as mentioned in the screenshot
No, no max balance (well, sort of, but it's more than 17 sol lol). Not sure what the rate limit is though
or is there a maximum SOL balance? I have like 17 something on devnet. But I basically want to deploy approximately 20 accounts that cost about 2 SOL each for a prototype
What is the rate limit?? I need more SOL on devnet. It's not my fault deploying an account is expensive. Yesterday I only got maybe 12 SOL
I got it, thanks for your guidance
The program owner of a create_with_seed address is the `programId` you pass as the third argument to createWithSeed
I think it's just legacy/slightly easier to type than a PDA with findProgramAddress, though nowadays everyone uses findProgramAddress (it's just a hello world program)
main question is why this kind of account, who control this kind of account, what is use caes of this account? shall I use this kind of account or PDA is enough for dapps?
Yep, you can still use that kind of address. Do you have a question about that code?
in solana example code
they have used this kinda accounts
according to https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/src/lib.rs#L36 
https://github.com/solana-labs/example-helloworld/blob/master/src/client/hello_world.ts#L165
Yep
There are three types of addresses in solana: 1) regular keypair addresses (can be signed for if you know the secret key), 2) program-derived addresses found with `find_program_address`/`create_program_address`, which can be "signed" for by the deriving program when it does a CPI by using `invoke_signed`, and 3) the weird third kind, `Pubkey::create_with_seed`, which is this weird third thing that *can't* be signed for, at all.
Interestingly, `create_with_seed` addresses actually *can't* sign, at all
I'm using anchor so there is no need for this `#[account(init)]` for PDA, meaning we do not need to create PDA just provide it right?
what is point of this kinda accounts? as I know, PDA is what I need to build my program. but what those kinda accounts? when we should use them?
when you use systemProgram's transfer, the account can't carry data.
I think you have create a PDA and give it data. just leave the space empty.
maybe take a look at https://solanacookbook.com/references/token.html#how-to-get-all-token-accounts-by-owner
an account owned by a program doesn't means the program can sign the account.
create_with_seed is only create an address and it will happen in system program.
PDA is an account which can be signed by program.
Hi, can anyone please shed some light on how to use getTokenAccountsByOwner() correctly instead of getProgramAccounts(). I am unable to get it to work properly.
no problem at all üôÇ
I'm transfering sol from PDA to User account but it giving me this error
```Transaction simulation failed: Error processing Instruction 0: invalid program argument 
    Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS invoke [1]
    Program log: Instruction: ClaimBack
    Program 11111111111111111111111111111111 invoke [2]
    Transfer: `from` must not carry data
    Program 11111111111111111111111111111111 failed: invalid program argument
    Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS consumed 10268 of 1400000 compute units
    Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS failed: invalid program argument
    1) Claim Back Amount```
thank you Shaun üëç
what does this function do? does it create a PDA?
```
greetedPubkey = await PublicKey.createWithSeed(
   payer.publicKey,
  GREETING_SEED,
   programId,
 );
```
if you'd like to write code to retrieve such data about token accounts, you can start with how the token program itself does it, and then copy the relevant logic over to your application. for example, you might start here: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L83
in order to get this info, then, you need to retrieve a token account's data payload (publicly accessible) and then deserialize it.
yeah, values such as the mint authority for a token account are not actually part of Solana's accounts model in themselves. these values are instead stored in serialized form in the token account's data section.
i cant commit to it
is this token list github down?
Is there an example of using the Shared memory program (https://github.com/solana-labs/solana-program-library/tree/master/shared-memory) to pass the return value from the program being invoked to the invoker?
for instance: http://joelmccracken.github.io/entries/how-to-print-a-struct-in-rust/
you can implement the Debug trait on your struct.
is the authority encoded in the data somewhere? if so, how do read it?
-
more importantly, is there a way to get the authority for a token account? 
say for example this token account. here on mainnet:
https://explorer.solana.com/address/Gv7NUVaZ14qY4bUBPowjju3jGVS1f5v8xrjktatEM3Hx
if I run getAccountInfo I get:
```{
    "jsonrpc": "2.0",
    "result": {
        "context": {
            "slot": 127216949
        },
        "value": {
            "data": [
                "T+E5OIsEGhwbhlIMobVEFO4nRzsmKUEcgDYNnG678+SPKLuqiEBRv1nQJPqFxMoqspNVdcZmQ3/8PmI1ZuwUYgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
                "base64"
            ],
            "executable": false,
            "lamports": 2039280,
            "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
            "rentEpoch": 293
        }
    },
    "id": 1
}```
is there a way todo this inside rust?
in JS I love just todo stuff like this 
`console.log({myVar})`
which gives
```
{
  myVar: {
    propertyOne: null,
    propertyTwo: null,  
    ...
  }
}
```
to print out the variable so I can see it's properties
any rust heads in the house?
As far as I know solana_program crate is used to develop Solana smart contracts. It also writes to use solana_sdk to develop Solana clients. But what about solana_client? What is it for?
who can sign create_with_seed? because owner of this account is program too.
I think both can only be signed by program.
according to https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/src/lib.rs#L36 
https://github.com/solana-labs/example-helloworld/blob/master/src/client/hello_world.ts#L165
can any one tell me how to deal with liquidity pool in solana
thank you, it makes senses
if someone has the seed and your program id, he can derived yours PDA.
a PDA can only be signed in a correspond program (which is your program)
technically a PDA can't be signed in client side.
magiceden
if anyone has the seed and my program_id, then they have my pda, could they take any action like sign the transaction outside my program?
when you called invoke_signed, the third parameter is seed.
it will be used to derived a PDA like hash(seed + current program id).
if you use the same seed in different program, it will derive a whole different PDA.
so basically only your program can derive a PDA which you expected, it also means only your program can sign it.
thank you, I found the way to get this works
I have a question, if someone have the pda address of any program, then can it be used in another program as a signer to take action on something? for example, I have created a program and associated token accounts with the owner is that program, in the code I use pda to sign the transfer instruction of token_program, could I create another program and use my exposed pda to sign the transfer with token accounts associated to my exposed pda prgram?
thank you for you detailed answer, makes sense. Is there sth in between "confirmed" and "finalized" which can be used or implemented. Or what is best practise to use in production?
I think you can take a look at https://solanacookbook.com/references/token.html#how-to-transfer-tokens
and when you understand the concept, you can switch to python and write a same code.
maybe https://discord.com/channels/428295358100013066/517163444747894795/917412508418068510
the idea are the same, you need to know how program serialize/deserialize it
AFAIK there is only a function can derived a PDA, create_program_address. and find_program_address based on it.
create_with_seed is just create an account with seed. it doesn't it is a PDA.

a PDA has an important features, only a program can sign it.
thank you
not sure what minted fee you're referring but you can lookup the tx on explorer and there are some pre/post balance state, you can use it to check.
hey, where does the minted fee goes from payer account? does it get burned to is transfered to any solana account? can i know which account is it?
hi guys
what is different between these two account
`Pubkey::find_program_address(seeds, program_id)`
`Pubkey::create_with_seed(base, seed, owner)`?
They are same and both of them are PDA?
How can I sign the invoke_signed call ?
Hey guys, how can I sign this transaction on DEVNET, currently I am getting error like following from RUST program :: ATGJF4NVoQciEtpNwhDYTYB37XcSpaAx4xMmkkZVuVPx's writable privilege escalated

ATGJF4NVoQciEtpNwhDYTYB37XcSpaAx4xMmkkZVuVPx is mint token, which is already passed into the program
Hi guys, How can I decode instruction's data in solana? and what's the data inside it? I use golang to do the decoding
i check solana swap program but there i not understand the liquidity code any one have simple contract for add liquidity
Actually getting
```
Error: ClientError(ClientError { request: None, kind: Custom("Invalid blockhash") })
```
After like 5 minutes of it doing nothing
`solana-tokens` cli is not doing anything and hanging infinitely. Anybody else having this issue?
No
Have you been able to do that yet?
Hello, I want to send spl tokens by python code. How I can do it?
dm me! looking to share my research so far & collab
is anyone here researching MEV on solana?
Is different to get all mints on cm v1 and cm v2?
But always []
https://pentacle.tools/nft-mints
I used this to get the mints
Thanks. Is this what phantom uses behind the scenes to show you the expected result before you sign?
which api returned you a transaction?
https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction
it can return you post states of accounts
Is it possible to view all the accounts (and data that is updated) before signing a transaction?
In conjunction with https://solanacookbook.com/references/nfts.html#how-to-get-the-owner-of-an-nft
https://solanacookbook.com/references/nfts.html#how-to-get-nft-mint-addresses
not that I am aware of. good question for metaplex discord:
https://discord.gg/YsCp2nxM
Any idea? <@445425471027544095>
`./scripts/cargo-install-all.sh ./somewhere` is the easiest way to build from source, then run `./somewhere/bin/solana-test-validator`
i downloaded the source and built instead of using the prebuilds, but when i run solana-test-validator, its running from the CLI as opposed to the compiled version. How do I specifically run the compiled version of the test validator on my machine, what's the command? trying to get around the core dump issue due to the CPU not having AVX2 issue
hey, I had an open websocket connection to mainnet for a couple of days listening to events. I restart the connection an hour ago and since then I get connection refused 111 errors. any ideas why this happens and if my ip is throttled for some reason?
If an api returned a transaction to me like this:
```json
{"type":"Buffer","data":[1,0,9,20,.....255,255,255,255]}
```
How could I sign it using my wallet?
I've tried doing something like:
```js
const transaction = Transaction.from(Buffer.from(data, 'base64'))
```
But it didn't work for me
Hey everybody, I'm Santiago and I've been diving into solana development lately, but I've ran into the next error:  failed to compile `spl-token-cli v2.0.15`, intermediate artifacts can be found at `/tmp/cargo-installNY93mL` Can someone point me into the right direction so I can be able to compile it (I'm a rust developer)
Yeah, size size limitation was the biggest thing. I'm just doing simple sol transfers, so I set it at 20 instructions per transaction and it went fine.
many projects are constantly evolving. many are open source. many are open to contributions. if you see something you think would be valuable build it. and or hit up maintainers and see what they think.  various projects have different takes.
ty donny
Hello everyone,

Disclaimer: I'm very new to the crypto space. 

Can someone tell me why solana explorer doesn't provide charts of daily active addresses nor unique addresses count like there exists on several other Blockchains?
for metaplex specific issues:
https://discord.gg/YsCp2nxM

when posting it helps to describe what you are attempting to do and what you expect. the result .  if large use links to code or gists,  if smaller use code blocks in line with code formatting.
this alone is one perspective.  you can also cross check on https://explorer.solana.com/
also the code is what is more important. 
paste a link or gist to that if there appears to be an issue.
for metaplex specific issues using their code its best to address in their forum/discord.
one of them may be rounding. at amounts that small you will want to see which one is more accurate for your needs.
Thank You üçâ
ask the maintainers of the node. nodes are independently run afaik. usually result in being on a different version, falling out of line, offline, network, upgrade, or any number of things.
yes there is a limit to transaction size, 1232 right.  there are other limitations as well, but many relative to the overall size.  if your having 5+ instructions, your likely going to need to pay attention to size as youll likely run out of room soon in a single transaction. accounts max was currently around 30, based on data. more updates will be coming that allow for more ways of doing things, but the size is an overall limitation currently. keep this in mind when constructing transactions
cc: <@!820527670923886623>

also what happened to `https://solana-api.projectserum.com` node?
can you detail the issue? whats the problem exactly
Hi guys, I'm integrating SOL to exchange using `@solana/web3.js`, could you please help me how to use `JSON.stringify` and `JSON.Parse` on result of `getConfirmedBlock` ? Seems like it's serializing poorly, especially buffers. Need some type safe json
Hi did you get the answer of this question? I am trying to find the answer of this question.
Thanks üôè
I don't think any full audits have been done of anchor itself, but I'm guessing that many auditors have looked at it while doing audits of other contracts.
Hi, I check the fee payer's account balance by using RPCClient in my rust program , it returns 202380560 but when I check by CLI it returns 0.00203928 SOL , how it is possible?
seems the issue is that i made the ata before initializing the mint
https://solscan.io/account/ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL?cluster=devnet looks right to me
are these wrong or something

what in god's name?
as you can see above, creating an ATA for a token is giving
https://solscan.io/tx/5EWBc5y7v85PypmchvdAVei9X5ex5HLEJEE9uwvo523bZrLhXH97VCjSMwf2KkxHxfkFRX26g4g4YbfsYgDmcae7?cluster=devnet
hi can somebody give me a hand please üò¶
The airdrop limit is 25 SOL btw
If an api returned a transaction to me like this:
```json
{"type":"Buffer","data":[1,0,9,20,.....255,255,255,255]}
```
How could I sign it using my wallet?
I've tried doing something like:
```js
const transaction = Transaction.from(Buffer.from(data, 'base64'))
```
But it didn't work for me
Do you know whether independent Anchor framework security audits were performed? Given the unlimited resources, would you write a smart contract based on the Anchor framework, or an organically created contract without the use of the framework.
I just want to know how to fix the "unknown transaction" issue üò¢
why does it happens?
Hey guys, I was using getProgramAccounts() to fetch all the NFT accounts for a particular NFT collection. But since this function is not recommended to use anymore, I would like to switch to an alternative for the same. I tried using getTokenAccountsByOwner() but couldn't get it to work. Can anyone please suggest a suitable alternative for getProgramAccounts() and if it is getTokenAccountsByOwner(), how can I use it correctly to get it working?
I am looking to submit a pull request to Solana to register our whitelist token. Does anyone know how long i can expect the request to last until approved (assuming no issues or errors are found)? thanks (:
So if you are worried about rollback, you have to accept that it is possible according to the protocol; but the practical reality is that it just doesn't happen.
Thanks for that correction.  Sorry for having posted incorrect information.  I believe the protocol allows validators to switch away from 66% stake weighted confirmation, but that the validator code base in use by the vast majority of validators will not do so.
Hi, I am trying to make a marketplace based on Solana and using "Storefront(Metaplex)". 
I did success to deploy my storefront page but cannot bid the one of my NFTs.

It keeps returning `null`  for `signatureStatuses.value[0]`  when I call `getSignatureStatuses()` function  whith `[txid,]` as param.

this is  the code from MetaPlex :: `src_App_tsx.js :: awaitTransactionSignatureConfirmation(txid, timeout, connection, commitment = 'recent', queryStatus = false)`

```js
while (!done && queryStatus) {
  // eslint-disable-next-line no-loop-func
  (async () => {
    try {
      const signatureStatuses = await connection.getSignatureStatuses([txid,]);
      status = signatureStatuses && signatureStatuses.value[0];
      ...
```

I want to know why the value[0] of  signatureStatuses is null.
I know `null` means "Unknown Transaction", but want to know why the transaction is unknown, because the `txid` used  as param looks proper.
is it possible to bulk send getBalance calls? for example I'd send like an array of wallets and get an array of balances back or smt like that?


///////////////////////////////////////////////////////////////////////////////////////////////

seems quite high... So you mean solana-pay uses "confirmed" and not "finalized" status ?
HI there, can anyone help,,, i could not deploy anchor program, shows error like this????????
Thanks <@!788215642070581289> I end up creating block parser many thanks for your reference. Do you have any suggestions how I can filter out NFT transaction information from the output of getBlock. Any code reference or pointing to some article would be great. Many Thanks!
How do I get the program logs of a tx using `@solana/web3.js`?
splToken.TOKEN_PROGRAM_ID, how is this calculated?
im memeing, I have no idea
What is a supervisor dev
where do I apply to be supervisor dev
Looks like worst case ~4.7% https://twitter.com/aeyakovenko/status/1498758934655475713
Trying to pull up exact numbers. Even solana-pay uses optimistic confirmation though
For most cases, optimistic confirmations should be fine
https://solanacookbook.com/references/basic-transactions.html#how-to-send-spl-tokens
You can transfer NFTs just like any other spl-token
hey guys Im looking for simple NFT Transfer on Solana/web3.js would u redirect me to existing topic or smth like this?
nevermind, found it!
Hello! Does anyone know if there is any way to turn off the listener created by onAccountChange?
question : when you connect to the network, there are 2 options for transaction status : confirmed & finalized. I get the difference. We are developping a marketplace so we used finalized, because it's more secure. But it takes WAY MORE time for everything. so question : what are the odds that a transaction is confirmed but rollbacked ? is it like  1/100, 1/1000, 1/10K , more ?
You can do that, but then you have to get adoption for your token. Otherwise it won't show up in wallets by default
I was just wondering that why can't I use spl-token crate into my new project, and just override some implementations(as needed). Isn't the spl-token on chain  program(TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA) is simply compiled version of https://github.com/solana-labs/solana-program-library/tree/master/token/program ?

I am just thinking that if I compile the above token program with some changes, and deploy it on chain, it will act like spl-token program. What I am mistaking here ?
(please bear with me, I new to rust and solana)
The guy name Bill
Community site... everyone contributes to answering questions. Just ask it
What's a supervisor dev
Hi guys, is there any supervisor dev in this group to solve issues?
hey yep seems like useAnchorWallet() fixes it. Fucking CONFUSING bug. Thanks
Ok... thanks
You wouldn't be able to add data to the token accounts. But you could derive a new account from them
Ok, if I use CPI calls, the SPL_TOKEN program will be the owner of the created accounts, i.e. my custom program will not be able to modify account, right
However, there's no guarantee that someone else won't just call the inner spl-token instructions
Create another program that interacts with spl-token via CPI, wrapping and adding your functionality
Hi, I want to add additional logic to spl token program(e.g. limit the max amount transfer per transaction), So is there a way to extend original spl token program to achieve this ? Thanks
It would probably be something like `getAccountInfo` and then you need to know how to convert to the format that Raydium's accounts are in
i see. many thanks!
Maybe you could explain the general steps without going into the Raydium-specific details. Such as which Rpc methods to call, how to convert the data to something humanly-understandable
Try raydium discord https://discord.gg/raydium Not sure on their program source
Transactions are only valid for 150 blockhashes. So you have to add it
Can someone please explain to me at a high level how to calculate swap price from a Raydium LP using Rust and RpcClient?
Thanks Jacob
Hello, could anybody explain why the recent blockhash is required when I construct a transaction?  Thanks!
Check out https://github.com/gemworks/gem-farm
I believe so
Lets say i have 5 (or more) owners of NFT and i want them (only) to be able to join to staking pool wich pays in custom crypto, my question is, is there any opensource project like this live ?
ty sir
Hi guys i ve been working on a project, ive looked everywhere but didnt find my answer, is there any way to use NFT as LP token to stake custom crypto in a pool ?
<@!489206164270350337> I see, so we would replace useWallet() with useAnchorWallet()?
thank you i'll check this rn
Oh ok no worries üëçüèª
tx!
https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-restore-a-keypair-from-a-secret
Alon is doing some of this, but it is not up to date. https://lithdew.github.io/alon/ You can find the source here https://github.com/lithdew/alon
I think it depends on how the anchor `program.rpc.[fn]` interacts with the wallet adapter. I believe there is an `AnchorWallet` that you should use if using anchor https://github.com/solana-labs/wallet-adapter/blob/5dc59c463a912338e0c1483d2e4e5aca9c5cb96a/packages/core/react/src/useAnchorWallet.ts
I want you all to have some inspiration:
https://www.youtube.com/watch?v=ocwnns57cYQ
You can use https://solana-labs.github.io/solana-web3.js/classes/Connection.html#simulateTransaction
I don't know if they're in here
This is sort of big. You need to write the website to do what you want it to do and make it interact with the blockchain. You'll probably need two different applications running: one "server-side" and one "client-side". The server side one will likely be written in node (like the console app you showed in your screen shot, but it will also be a REST server) and the client side might be written using react.
If you don't know how to do any of that, it will probably take around a year of careful study. Alternatively, you can hire a knowledgeable developer.
hey guys, I would like to send a transaction from a Phantom wallet to another one but I would like to do it in Python
there is any documentation or simple exemple to transform the private key from Phantom to private key in Solana and then send the transaction ?
idk how to connect this to a website
i want to do this on a website
like this was on a cli

wonderfull, i managed to do it. Thank you a lot.
What's running on ubuntu?
i've a solana program running on devnet
I sense it may be related to how the provider and program are being defined?

I am struggling to figure out a bug with wallet adapter (I think).

 I get this error when I try to use `program.rpc.[fn]` >>> `TypeError: this.wallet.signTransaction is not a function` 

But it works fine if I use `program.transaction.[fn]` and use `sendTransaction` to send it.
You say your solana program is running on ubuntu. Are you running a `solana-test-validator` on that ubuntu, and you're successfully deploying your program to that blockchain? Or do you mean that you have your solana program running on some blockchain (mainnet? dev? something more local?) and you're running a web application on your ubuntu that interacts with your solana program?
Anyone help me
I just want to add `solana-farm-sdk` crate to my code. What's the best way to go about doing this? Am I doing it wrong by using the git url?
is there a way to simulate tx encoding? so that you can compute the size? or does someone know the src code for it?
Oh I see, umm is it possible to tag them? üòÖ
If you're using the latest anchor version, it won't. I believe the anchor team released avm in order to switch easily
Not today. I know some people are working on it though
Thank you for pointing me to that!
Does that mean the code on the repo doesn't compile too?
Ah sorry, thought it was a solana team project! Will try to find their support üôÇ
Is there any article on how to build your own DEX using the solana official token swap program? <@!489206164270350337> <@!814228493302497301>
We're not solscan support, so I have no idea what their backend looks like ü§∑
Does solscan devnet have a different cadence of updating with token-list to mainnet? I added a token on devnet in token-list a few days ago, and I can see others added around the same time on mainnet are displayed on solscan where mine isn't. Just wondering if that could be because it hasn't updated yet, or if I must have done something wrong
https://github.com/solana-labs/solana-web3.js/blob/8ee1be4/src/system-program.ts#L747
You could check out the source code on web3.js
Looks like an anchor issue. I believe latest anchor version removed that variable
Why not use the official docker image https://hub.docker.com/r/solanalabs/solana ?
Can someone assist me with this error please (screenshot)? This is from importing `solana-farm-sdk`
```
solana-farm-sdk = { git = "https://github.com/solana-labs/solana-program-library.git" }
```
I'm writting it in PHP (using https://github.com/tighten/solana-php-sdk) so I need to know how to send the seed string as binary data
thx
Looks like 1232 bytes: https://solana.wiki/docs/solidity-guide/transactions/
does anyone know what the max size for a tx is? im getting `encoded solana_sdk::transaction::versioned::VersionedTransaction too large: 3040 bytes (max: encoded/raw 1644/1232)`
I was hoping this was a well-trodden path with a pat answer.
I'll try generating a "plain" `Cargo.toml` that doesn't change for the SDK download caching step, then put my real `Cargo.toml` in place later.
I wrote that a moment ago. That line results in
> Failed to obtain package metadata: `cargo metadata` exited with an error: error: could not find `Cargo.toml`
It seems like it has a cache step?
```This is a cache step: run the build before any code is present to download the SDK.
# This way, code changes don't have to download the SDK```
I have this: `const [programAddress, seedBump] = await PublicKey.findProgramAddress([Buffer.from("seed")], programID);` and I think it's working properly.
Hi, I'm trying to create PDA using JSONRPC call SystemProgram[3] (createAccountFromSeed) but I don't know how to encode/format seed string to binary data correctly. I've tried to write it as u32 length + u8[] data, but still getting 'invalid instruction data'. Could anybody tell me, how binary data for this instruction should look like?
https://pastebin.com/raw/2ZJQ4QpJ
Do you have a link to your dockerfile? You usually can run off of the cli, and exec into the container with whatever stuff you're running
<@!814228493302497301> <@!489206164270350337>
Thank you. What command should I issue to do that? I tried running `cargo build-bpf` in a step before there is any code and it has an error. Is there some `cargo download-bpf-sdk;` or something?
Have a git or gist we can look at? If you're moving SOL around with a PDA, you have to do https://solanacookbook.com/references/programs.html#how-to-transfer-sol-in-a-program
```
cargo build-bpf
cd ../js   
npm i   
npm run start-with-test-validator
```
<@!689359120285171720> Paste in the exact `npm run ...` command line you enter
No, I did everything he did and it was local and it worked
Maybe whatever npm script you're running is overwriting the connection
i did that everytime i ran cargo build-bpf
i did
what what ?
Dude, do this first `solana config set -ul`
<@!489206164270350337> Yes, but... oh... he didn't follow my directions!!! <@!689359120285171720> !!!
still same issue
Hi all, i'm trying to store SOL in a vault account, and then send them back to the initializer. I think i'm almost there, i created a PDA with findProgramAddress with the seed & program_id, i'm able to send SOL to this vault, but then i can't withdraw them. I tried with invoke_signed (like https://solanacookbook.com/references/accounts.html#how-to-sign-with-a-pda), but i'm getting the error `Error: 167: The given account is not owned by the executing program` => if i check on explorer.solana.com, my account (vault/PDA) is assigned to my program. Anyone could help me with that ?
`http://api.devnet.solana.com` whatever they are doing is hitting devnet and getting rate limited
One would think but his errors are interesting considering he's running locally:  https://discord.com/channels/428295358100013066/517163444747894795/948951678953070652
If you're using docker, just have the download sdk a different step in the image. That way it uses your cache
Shouldn't `1.9.9` work?
I'm running `cardo build-bpf;` in docker, and it's working well. That said, I feel like a bad citizen because any time I make a code change (which is VERY often as I'm developing a smart contract), it downloads the SDK again. Besides that, it's pretty slow. Is there some way to get that SDK and reuse it on subsequent builds rather than downloading again every time?
You will need to rebuild the program as well
Try falling back to 1.9.8
`solana-install init 1.9.8` I believe
yep
And your on M1?
gm ‚òï
<@!489206164270350337> Greetings and salutations
Ah yeah sollet giving me a signature verification error, lets see what it could be..
`npm run start-with-test-validator` is recreating the test-ledger, and yes still the same error
Yeah, ignore that for now
at the end it says to deploy this program ...
cool I will try now by removing that test-ledger

also the cargo build-bpf output is like this
```
cargo build-bpf
BPF SDK: /Users/ritvij14/.local/share/solana/install/releases/1.9.9/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
    Finished release [optimized] target(s) in 0.29s
cargo-build-bpf child: /Users/ritvij14/.local/share/solana/install/releases/1.9.9/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/llvm-readelf --dyn-symbols /Users/ritvij14/Desktop/Projects/solana-program-library/target/deploy/spl_token_swap.so

To deploy this program:
  $ solana program deploy /Users/ritvij14/Desktop/Projects/solana-program-library/target/deploy/spl_token_swap.so
The program address will default to this keypair (override with --program-id):
  /Users/ritvij14/Desktop/Projects/solana-program-library/target/deploy/spl_token_swap-keypair.json
```
1. No worries there as I have those as well
2. What other command? You're running `cargo build-bpf` and not just `cargo build` right? If the former, ignore the `To do deploy` as running the test validator loads it.

Do one more thing, if there is a `test-ledger` folder in the `../js` folder... remove it `rm -rf test-ledger` before running again
Try another wallet. Phantom is swallowing errors
phantom giving me an error that I can't seem to find


I am attempting to send a transaction as such:
What's the -32003 issue?
dms are a scam.
<@!898235331772567584> did you end up fixing that -32003 error? I am also running into it.
upgraded to 1.9.9, on M1 macos still same problem.
2 things tho
1. some of the NPM packages have vulnerabilities
2. the cargo build command ends with a message to run another command which I am not doing right now so should I do it?
I'm on mac (x86_64)
solana 1.9.8
spl-token 2.0.15
Config set to localhost
And clone, build and ran the npm shit and all worked
ok cool
Upgrade to solana 1.9.8 or 1.9.9 and try with that
2.0.15
Ok
i have a solana program running on ubuntu
how can i run it on a webpage
`spl-token --version`
there was no mention of installing anything like `spl-token`
solana cli is 1.9.4, and how do i check version of spl-token
What version of `solana` and `spl-token` do you have installed?
still the error is there
yes I ran that command
In this example, someone creates a PublicKey in the client code (which is considered an 'account') but they create the data account associated to that pubkey in the example link. So you start out with just an account key but end up with a data account addressed by that key
Expand the code by clicking on the `</>` thingy: https://solanacookbook.com/guides/account-maps.html#single-map-account
Before running test, set your network to local for testing:
`solana config set -ul`
The run the test again
Also I am on MacOS
<@!814228493302497301> i got this log after running the last command
<@!814228493302497301>

```
1: starting server using command "solana-test-validator --bpf-program SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 ../../target/deploy/spl_token_swap.so --reset --quiet"
and when url "[ 'http://localhost:8899/health' ]" is responding with HTTP status code 200
running tests using command "npm run start"

Waiting for fees to stabilize 1...
Waiting for fees to stabilize 2...

> @solana/spl-token-swap@0.1.2 start
> ts-node cli/main.ts

Run test: createTokenSwap (constant price)
Connection to cluster established: http://api.devnet.solana.com { 'feature-set': 3246413280, 'solana-core': '1.9.9' }
Server responded with 429 Too Many Requests.  Retrying after 500ms delay...
Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 4000ms delay...
Error: 429 Too Many Requests:  {"jsonrpc":"2.0","error":{"code": 429, "message":"Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": "076b9db1-35af-4f89-8319-dde5bb5af0a0" } 

    at ClientBrowser.callServer (/Users/ritvij14/Desktop/Projects/solana-program-library/token-swap/js/node_modules/@solana/web3.js/src/connection.ts:815:18)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
Error: Command failed with exit code 255: npm run start
    at makeError (/Users/ritvij14/Desktop/Projects/solana-program-library/token-swap/js/node_modules/start-server-and-test/node_modules/execa/lib/error.js:60:11)
    at handlePromise (/Users/ritvij14/Desktop/Projects/solana-program-library/token-swap/js/node_modules/start-server-and-test/node_modules/execa/index.js:118:26)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) {
  shortMessage: 'Command failed with exit code 255: npm run start',
  command: 'npm run start',
  escapedCommand: '"npm run start"',
  exitCode: 255,
```
react
Hello! I'm getting started on Solana dApp development. Do you have any frontend framework recommendations that are easy to learn/integrate with Solana?
how can we integrate solana wallets with unreal engine ? Anyone working on this ?
What's the best approach to do on chain token airdrop? I want people to be able to call a program and receive a token in their account. My end goal is to do this under the requirement of owning another token, which you can then use to mint this token
If you are talking about some programs 'account' raw data you need to know how the owning program serializes the data to the account, you need to do the opposite to deserialize.
https://solanacookbook.com/guides/serialization.html#how-to-deserialize-account-data-on-the-client
how can I decode raw data coming from program?
@solana/spl-token": "^0.2.0" - many import bugs guys... cant use this version...
Is there any limit on mainstream rpc how many transactions one wallet can send? When I send 1 tx it takes like 0.2s (calling sendTransactions()) but when I do 100 of them asynchronously first of them takes like 7s and last one around 3s
Ok I will try this and let you know.
Does `Clock::get().unix_timestamp` tell the current system time in seconds? Or what is the best way to get the current time ?
Hii <@!687000627615629332> 
i am trying to create pool with stable token  (USDC and wsol)
so hardcode the token address mintAkey(USDC)=CpMah17kQEL2wqyMKt3mZBdTnZbkbfx4nqmQMFDP5vwp
mintBkey(wsol)=So11111111111111111111111111111111111111112
but i am facing some issues i.e...
 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]',
    'Program log: Instruction: MintTo',
    'Program log: Error: Instruction does not support native tokens',
    'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1773 of 200000 compute units',
    'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: custom program error: 0xa'
OK, what OS and what version of `spl-token` do you have installed?
Also I followed the instructions on the README.md where you appear to not be based on message above.
1. Cloned SPL from github
2. `solana config set -ul`
3. `cd solana-program-library/token-swap/program`
4. `cargo build-bpf`
5. `cd ../js`
6. `npm i`
7. `npm run start-with-test-validator`

Worked liked a baby
https://github.com/solana-labs/solana-program-library/tree/master/token-swap
What github project did you clone?
yes i did that
doesnt work.... tried to delete all node-modules and do npm install again but error persist..
cache of what?
Clear cache first
I am trying to run npm start
hii
I am not running any site, this is a code i cloned from github
Refresh the SOL site and try again
refresh? how?
Try to refresh and try again
Try to refresh and try again
anyone who faced this problem of `Error: 429`?
weird stuff on importing createMint:

"dependencies": {
    "@solana/buffer-layout": "^4.0.0",
    "@solana/spl-token": "^0.2.0",
    "@solana/web3.js": "^1.6.0"
  }

import { createMint } from "@solana/spl-token";
error: Module '"@solana/spl-token"' has no exported member 'createMint'.

?
is governance with realms hard to implement and modify or is it good project for someone who's beginner?
i really want to get all trx, and i think some rpc didnt save history
question guys do have experience on solana big data table?
why do i get this error for this line:
import { createAssociatedTokenAccount } from "@solana/spl-token";

Module '"@solana/spl-token"' has no exported member 'createAssociatedTokenAccount'.
thank you ! i'm doing it with anchor, but still might find some relevant information. Thank you for taking the time üôè
check this out, might help: https://github.com/streamflow-finance/streamflow-program/blob/master/src/sol_initialize.rs
It creates a PDA and seems to be doing what you are trying to achieve
I will install the ubuntu !
absolutely, i tried on windows at first, but then switch to ubuntu very quick üòÖ
thank your response, windows has so many problem here , not very friendly to our developer.üòÇ
i already looked at it, when i think i may be able to provide answers, i do üòâ i'm building on a linux, and i think you're on windows, i never faced this error, and i have no idea üòÖ
<@!874377961309102162>  hello  manÔºåcan you look my error before, it was very strange
hi, i'm sorry i don't have the reply to your question (may be something regarding authority of the PDA ? i'm very new too) but you might be able to help me tho. I'm looking for a way to send SOL in the PDA, if you look at the question just before yours, you might be able to reply? Or provide a link with  a tuto to send sol to a pda ? thanks in advance üòâ
have someone know this error
when first build with the example-helloworld ,it get the error :error: linking with `\\?\D:\Tools\solana\bin\sdk\bpf\dependencies\bpf-tools\llvm\bin\ld.lld` failed: exit code: 1
Hello üôÇ
I am new to solana and building/trying to build a product on DeFi. My smart contract creates a PDA which holds some funds from contract initiator. These funds are now held by the PDA. I wanted to know if I can push the amount held by PDA for staking using keys from parent smart contract keys/ contract initiator keys.
Sorry, i think we misconstruct the vault. The vault is actually a token account which should not be OK for hosting sols. In anchor i have => `pub vault_account: Account<'info, TokenAccount>,` for creating the vault, which results in a token account. I tried to replace by ` pub vault_account: AccountInfo<'info>,` but now i have an error. May be do you know somewhere i can find an example for creating a vault for hosting SOL instead of a spl token ?
hi all i cannot  create pool with existing token on frontend side. It through Transaction failed Error: Using Connection with default commitment: `recent`, but method requires at least `confirmed`.
1) connect the user with a wallet provider (phantom for example)
2) get the token in their wallet (https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedTokenAccountsByOwner)

Hope it helps
I'm looking for a high level explanation of how to do web authentication using a connected wallet and the presence of a specific token in it - I want to create a token based paywall/subscription platform type deal. Thanks for any tips that can get me going in the right direction!!
Hey guys - anyone got experience building on Solana with Neon EVM?

We have existing Eth infrastructure that we would like to use (ocean protocol) - but would like to build on Solana
Hey, is there any possibility to get block by hash from rpc node? Or how to get genesis block?
I did not do any building or stuff in the rust part coz I want to try interacting with the devnet deployment (and for that I already run the script that auto creates your `.env` file)
I am a bit new to the solana ecosystem and still learning so can anyone please help out
https://github.com/solana-labs/solana-program-library/tree/master/token-swap
I am trying to run this on my system. I went into the JS folder and did the following set of commands:
```
npm i
npm run build:program
npm start
```

And after the last one I got this:
```
> @solana/spl-token-swap@0.1.2 start
> ts-node cli/main.ts

Run test: createTokenSwap (constant price)
Connection to cluster established: http://api.devnet.solana.com { 'feature-set': 3246413280, 'solana-core': '1.9.9' }
Server responded with 429 Too Many Requests.  Retrying after 500ms delay...
Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 4000ms delay...
Error: 429 Too Many Requests:  {"jsonrpc":"2.0","error":{"code": 429, "message":"Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": "8006f546-322a-454c-8bd9-83148d1cdfd6" } 

    at ClientBrowser.callServer (/Users/ritvij14/Desktop/Projects/solana-program-library/token-swap/js/node_modules/@solana/web3.js/src/connection.ts:815:18)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
```
System program will be the owner of the account right ..? But at what stage is this new account created? Is it created implicitly whenever an account-specific action takes place (eg: transfer sol, get account info, etc.) and no account exists for that keypair‚Äôs pubkey?
you need to pack all accounts you need into your tx. in the tx you want to transfer something out from the PDA, so client need to pass the PDA address into the instructions.
you can write some check logic in your program so that you can only allow some conditions to transfer it.
i think that was exactly what i was looking for. Just to be sure : &[&[b"escrow", &[bump_seed]]], => these are the seeds used for creating the vault right ? why are they necessary since we can send the vault as a key in js ? (that might be e security breach tho)
An account on input to a program does not necessarily mean it's a 'data bearing account' at the point of entry.
The program itself may invoke a `system_instruction::create_account(...)` with the input pubkey address (this is common for a PDA generation)
Thank you!
if you transfer some SOL to a uninitialized account, it will default assign to system program.
Yes, but this part https://github.com/solana-labs/wallet-adapter/tree/master/packages/wallets/walletconnect
NFT is also a mint. you can use spl token transfer to transfer it.
Okay. So if I understand this correctly, airdropping into a keypair internally creates and account? And similarly commands like ‚Äòsolana account <key>‚Äô ..?
there is a new version spl-token lib, you need to install the latest one.
did you mean https://github.com/solana-labs/wallet-adapter
if you are referring to raydium, they have a sdk. maybe it helps https://github.com/raydium-io/raydium-sdk/blob/master/src/liquidity/liquidity.ts#L1809
1. `solana-keygen` only create a keypair for you but there is no any account info on chain.
2. you need to use create account or transfer some sol to the account so the account will store on chain
thank you !
Hello!
I'm pretty new in the Solana Ecosystem.
I'm trying to familiarize myself with the Solana CLI.
I've managed to transfer SPL-Tokens to other wallets, is there a way to transfer NFTs from your wallet to other wallets via Solana CLI (like in Phantom when sending nfts from collections in your wallet)?
why do i get this error:
'createAssociatedTokenAccount' is not defined.

also cant import
Hi does anyone know when the solana adapter for wallet connect will be released?
I called the RPC method `get_account_data()` for this account `8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu` which is the address for Raydium's LP for `SOL-USDC`. Basically what I'm trying to do is to get each token's supply in the pool so I can calculate the swap prices. But I'm stuck after getting the account data in `Vec<u8>`.
Hi all. I have a quite basic question about solana accounts and solana keypair - what exactly is the diff between the two? Here is what I understand - solana account have some metadata that tells if account is executable (i.e if it is a program), and some additional info. HOWEVER, docs say that we can create an ACCOUNT using CreateAccount(). So does the CLI solana-keygen creates keypair AND creates account for this? Is account creation implicit?
How can I segregate the validator pipeline stages for benchmarking, I mean how can I track individual transactions across all stages, if anyone has done it ? any hint would be helpful.
if you don't know the struct, you can only `guess` it.
you should use invoke_signed to auth the PDA. check https://solanacookbook.com/references/accounts.html#how-to-sign-with-a-pda
Do we have rpc to query transaction logs in block range ? I want get transaction logs from past blocks, this rpc works with incoming logs https://docs.solana.com/developing/clients/jsonrpc-api#logssubscribe
how do I deserialize account data in Rust? IDK what the `struct` is
i have a same question, any suggestions <@!687000627615629332>
Getting an error here which says

```
cannot infer an appropriate lifetime for lifetime parameter `'info` due to conflicting requirements
```

How can I fix this?

```
impl<'info> DepositTokens<'info> {
    fn into_transfer_context(&self) -> CpiContext<'_, '_, '_, Transfer<'info>> {
        let cpi_accounts = Transfer {
            from: self.depositor_token_account.to_account_info().clone(),
            to: self.token_account.to_account_info().clone(),
            authority: *self.depositor.clone(),
        };
        let cpi_program = *self.token_program.clone();
        CpiContext::new(cpi_program, cpi_accounts)
    }
}
```
For Dart Developers, we've just created a Dart Solana Developers Discord channel:
https://discord.gg/28h8KCF2
yes we are at that point, we managed to get the sol in the vault account, but we can't find the way to send them back to a wallet. We tried a classic sol transfer in rust, but we have a signature missing problem. So just wanted to check if it was the good path. To withdraw sol from an account we should use the same rust methos than for example a transfer between two classic wallets ? (currently we use anchor_lang::solana_program::program::invoke)
that's a good question, may be some marketplaces does, i don't know
maybe you can ask magic eden or some other marketplace to host a testnet/devnet program.
usually we create an escrow account (PDA) as a vault or something you want only program logic can control  it.
only program can sign PDAs, in the other words only program can transfer SOL out or something need auth.
FYI, figured it out, I just didn't have enough solana tokens... Although the error message could be a bit more helpful
maybe <#937905165074300999>
perfect! thanks
you can't create a token account if the mint hasn't initialized but you can pre-calculate it. 
check https://solanacookbook.com/references/token.html#how-to-create-a-token-account
there is a function called `getAssociatedTokenAddress`
how can i call "getOrCreateAssociatedAccountInfo" if i dont use createMint before that ? i want to use "getOrCreateAssociatedAccountInfo" on a nft that i have on my wallet
Ok thanks a lot mate. But actually on ethereum, Opensea has both supports, for testnets and Main-net so I am wondering why doesn't Solana provide that!
initially i came here for a question, does any  one know what we should use to withdraw sol from an escrow ? (is it like a casual sol transfer, or is it different since the transferer is not signing the transaction ?)
Stop here, not going ,someone have know about this
marketplace does that for you (i'm currently developping a marketplace...) you don't upload nfts by yourself. As a marketplace, we just need updateauthority, and the list of your mint address, and we upload them
Is there a way to prompt phantom wallet and sign transactions from discord?
i'm not sure you can get that object again. check this https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getAccountInfo but i think it's not what you are looking for.
how can i call "getOrCreateAssociatedAccountInfo" if i dont use createMint before that ? i want to use "getOrCreateAssociatedAccountInfo" on a nft that i have on my wallet
Actually I am new to Solana, and I have let's say created collection of NFTs with Candymachine V2. Now if I want to see how to upload that collection on secondary marketplace, I can't. As I will have to do everything on main-net only.

I want to try for some times before going live for my clients.
what do you want to test exactly ? Because marketplaces works the same way for all nfts, they get metadata and display them...
mmmh i think you can't, not 100% sure. I think NFTs and other Token are same kind of tokens. Just that nfts have a fixed supply of 1.
Then how to know the process of getting your whole collection uploaded on such marketplace without even trying once. üò¶
i wna tot have the Token object same as getting from Token.createMint function result
Hi yall, I'm trying to mint a token using Candy Machine v2 on the devnet following the metaplex docs, but getting a 
```
Rejected via websocket { InstructionError: [ 4, { Custom: 6008 } ] }
Timeout Error caught {
  err: { InstructionError: [ 4, [Object] ] },
  slot: 118385592,
  confirmations: 0
}
...
Error: Transaction failed: Custom program error: 0x1778
```
when doing a mint_one_token from the cli
Has anyone run into this before?
devnet is down?
you want to get metadata and everything is that it ?
js
i don't but i think it's quite hard, because they would need to verify nfts on devnet
For all NFTs
from a specific collection, or all nfts ?
Hi Devs,

Does anyone know any secondary market place on Solana (like Solsea, Magic Eden) with Devnet connectivity?
rust or js ?
hi guys, Do we have rpc to query transaction logs in block range ?
Hey, How can i get the Token object for a tokenMint address ??
It's not possible to update the metadata uploaded to Arweave, is it? I have to upload new metadata and swap the address in the NFT to the new one.
Hi <@!687000627615629332>  Can you please guide   How to create pool with SPL-Token and USDC on Solana Testnet/Devnet
E.g: USDC on testnet : 'CpMah17kQEL2wqyMKt3mZBdTnZbkbfx4nqmQMFDP5vwp'
SPL-TOKEN on Testnet : 
 2uWhmBh48rRhDdrM2mMq6BhiHh1yX16DAw6RtZJTfdHg
What Solana program should I listen to if I want to get just NFTs? Listening to SPL-Token program means listening to Fungible Token transactions too
I was looking at step-finance staking repo. I'm unable to understand how does the reward calculation takes place. Where does they put the reward which is to be distributed to the user ?
Just noticed, flanks.
<#938828592232693820> ?
Please give me solution
Can i deploy private blockchain ??? And how??
Say you click on a link and it automatically opens up a wallet such as phantom with transaction for sending specific amount?
Is there a standardized way to add a link for payment request?
I assume that you want to look at this data with code and tools off chain? Is this a one time export or do you want to do this often?
Too long.  Shorten it to no more than three lines please
hello, is it possible to use the wallet-adapter in a javascript react app? I have got a fairly large app that isnt typescript.
I ran into a silly problem this evening, in that mango markets has their critbit order book/account data as `#[repr(C)]`.  I am working on my macbook, and the alignment of `i128` is 16 on M1 ARM, but only 8 on x86_64.  And thinking back, I saw some code which might have been doing raw casting of account data into Rust structs elsewhere.  So my question now is - are Solana accounts more-or-less assuming x86_64 representation?  and/or should people be being a little more disciplined about serialization/deserialization ?
Cool, it's working. Thank you so much <@!814228493302497301>. Now a final question, how do I send name, and experience from client? Now I'm hardcoding name in smart contract.
added you bud
sorry protection against scammers, I got tired of blocking them
can you add me? i want to add you but an error got prompt
the answer is 2-3 hours
I will try to ask around in my circle
what's your address?
thank you
do you have a sample response for this i just want to take a look
if you have a friend who has access to a bigtable:
`cargo run -p solana-ledger-tool -- bigtable transaction-history <address>`
this was over a week ago xd
You can look at serum project or cli multi sig.
wdym? i really want to get all the nfts that was buy/sold on a given wallet address.
is this a one-off thing or you wanna do this in a regular fashion?
Transaction was not confirmed in 60.00 seconds. pls someone help ?
so im thinking of going through all trx
thank you for your answer, im stuck rn hahaha üò¶ im trying to pull all NFTs that was associated or related to my wallet.
<@!390651877483741184> maybe you could answer if you have time
well if you problem is the RPC limit then your options are interaction with the bigtable or somehow sending multiple requests and concat the results, sorry I just started digging the solana code a week ago
anyway thank you for the help <@!947965345967263754>
im just buildin a Dapps
so instead of me pulling data from json rpc api, ill pull data here?
so how does this works exactly or can you run me through?
I am not an expert in solana's arch, but I think yes the data should soon arrive there (if the node is synced up)
r the data here updated in real time?
there are provider who can run it for you (I think quicknode but I am not sure) or if you are running your solana node you will need to run your bigtable as well https://github.com/solana-labs/solana/tree/master/storage-bigtable
hello how can i get access to that? also if you have document it will really be a great help
if you have  access to bigtable there is a tx-by-addr table
^ I can even click through the definition. the solana/spl-token is sitting in my `node_modules`...
In the browser console, I'm seeing:

```
TOKEN_PROGRAM_ID
VM2276:1 Uncaught ReferenceError: TOKEN_PROGRAM_ID is not defined
    at eval (eval at transferOwnership (Main.jsx:34:1), <anonymous>:1:1)
    at transferOwnership (Main.jsx:34:1)
```
üëã I've got an import in my javascript file: `import { TOKEN_PROGRAM_ID, AccountLayout, u64, Token, MintLayout } from "@solana/spl-token";`

In `package.json` I have

```
{
  "name": "app",
  "version": "0.1.0",
  "private": true,
  "dependencies": {
    "@material-ui/core": "^4.12.3",
    "@material-ui/icons": "^4.11.2",
    "@project-serum/anchor": "^0.16.1",
    "@solana/wallet-adapter-base": "^0.6.0",
    "@solana/wallet-adapter-material-ui": "^0.12.1",
    "@solana/wallet-adapter-react": "^0.12.0",
    "@solana/wallet-adapter-react-ui": "^0.4.1",
    "@solana/wallet-adapter-wallets": "^0.10.0",
    "@solana/web3.js": "^1.29.0",
    "@solana/spl-token": "^0.1.8",
    "@testing-library/jest-dom": "^5.11.4",
    "@testing-library/react": "^11.1.0",
    "@testing-library/user-event": "^12.1.10",
    "notistack": "^1.0.10",
    "react": "^17.0.2",
    "react-dom": "^17.0.2",
    "react-scripts": "4.0.3",
    "web-vitals": "^1.0.1"
  },
  "proxy": "http://localhost:3001",
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject"
  },
  "eslintConfig": {
    "extends": [
      "react-app",
      "react-app/jest"
    ]
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}
```
hey folks if there is a new release on solana (1.10.0) how fast will be the subsequent packages (especially solana-bigtable crate) will be updated?
question guys how can i get the total count of transaction from a wallet? getSignatureAddress has a limit of 1k i think
pls advise
Hi, I've been trying to create a spl-token using CLI with the following command: spl-token create-token To....json --decimals 0. But I've been getting an error: RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages]
thats my problem i really want to use only the wallet address and get all the transaction that is related to NFT
What is the recommended way to listen to transfers for a specific token?
üëã
Given the specific NFT mint address, use getSignaturesForAddress https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
hello, can we filter the transactions only to show actitivies with a NFT?
oh I see! thanks for pointing out the root issue.
That rustc is from solana's own fork, so I guess you'd have to upgrade that version? https://github.com/solana-labs/rust
Oh, got it!
thanks for jumping in - I am aware that this would fix my issue - but what I _really_ want to do is use a different `rustc` version with the `bpf` toolchain.  Any idea how I can hack this?
The weird extra equals sign fixes it on 0.9.1.
Not sure why this happened, but you currently can fix this by adding an explicit dependency on uint to your program's Cargo.toml:
```.toml
uint = "=0.9.1"
```
The magic that makes it happen is called PDA (Program Derived Addresses), they allow programs to sign transactions
some dependencies of mine require a later version of rustc.
Specifically `uint 0.9.3`
Thank you. I will look into that.
Not actually sure how to do that, but what's the problem with it?
You can use to to manage your account changes more efficiently I believe. I've never actually done it myself, but I know using rpc on token program like that is going to be hectic
I'm not worried about requests to postgres, I'm worried about the rpc node. A postgres plugin handles that?
AccountsDB postgres plugin. Otherwise you're going to get a million requests like you stated
I am using onSubscribe to sub to the token program. Then I filter by my NFT hash list to know when an NFT changes owners. 
However this seems to be hitting my node with millions of requests. Can anyone suggest a better method? What am I doing wrong?
I do see through `rustup` that the `bpf` toolchain uses rustc 1.56.0-dev.
```bash
$ rustup +bpf show

...

active toolchain
----------------

bpf (overridden by +toolchain on the command line)
rustc 1.56.0-dev
```
Can this be upgraded?
I'm having a `cargo buld-bpf` problem -- it is using an old version of `rustc` (1.56.0-dev), even though my system has the latest.  How can I get the build-bpf command to use a different version of `rustc`?

The versions on my system:
rustc: 1.61.0-nightly 
solana-cli: 1.9.9
solana-cargo-build-bpf: 1.9.9 

Any thoughts here?
<@!712412210814779454> I'm struggling to understand how ownership works with the governance system. 

Here's an example that gets at the root of my confusion:

Assume you are a member of a DAO with treasury funds. 
1. You create a proposal to transfer all treasury funds to someone else
2. The proposal succeeds, and you execute the transaction.
**Question**: How do you have the right to move treasury funds?

I'm unclear how the process of the proposal/voting gives you the ability to sign a transaction that would move treasury funds. Any help would be greatly appreciated!
Will pay immediately in SOL
At this point im going to put a $300 bounty on this. Not one team wants to reply.
I have found that starting the test validator with the `---bpf-program XXX` argument loads programs very quickly when you start a new ledger (i.e. `--reset`) as it is otherwise ignored when reusing the same ledger
Sure, will have a look
Deploying locally is taking longer? Could you put your info here https://github.com/solana-labs/solana/issues/23376
Deploying a program locally is taking a lot longer now and throwing some expired blockhash warnings after I upgraded to 1.9.9. Anyone know how I can mitigate it?
I don't think there is any exposed way today.
I was able to overcome the previous error. But now it says "unknown signer". Any idea which signer it is talking about?
The only thing is that this account has made over 2million transactions over the past year, is there an alternative to at least find the date an account was created?
If there is an issue with candy machine, check out metaplex's discord. They are the support for candy machine https://discord.gg/cjs49KRR
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
You have to use `getSignaturesForAddress` and back track through all the signatures
I'm going to push back a bit against that because I have the latest node.js version installed and I'm getting the error while attempting to setup candy machine.
Hey everyone! New to Solana RPC here. I am trying to find a way to see how old an account is. Specifically, I am trying to find their first transaction ever. The problem I am running into is that the "fetch transactions" returns only the latest transactions. Any tips?
Program 22Y43yTVxuUkoRKdm9thyRhQ3SdgQS7c7kB6UNCiaczD failed: custom program error: 0x12e - Still no update from Serum team after like 5 hours. seems to be the most inactive dev discord on solana.
You are right, that string should be the nonce. Thank you! Looks like I was able to get past one error ü•≤  and also thank you for the tip! I will do that next time.
Also discord pro-tip, you can paste things with triple backquotes, `, and they'll format more readably
Also, how is `check_escrow` defined?
But in rust, the second argument is a u8, not a string
Based on what you pasted above
You're saying in JS `program.rpc.createCheck(someAmount, someRandomString, { ... })`
sorry I'm new to this. Can you please clarify your question?
You mean in the instructions part of JS - await program.account.check.createInstruction(amount, nonce) - this is how it should be?
Why are you passing a string in JS when in rust you expect a `nonce: u8`?
At least one issue is the rust side and the js side you posted above have different signatures
pub fn create_check(
        ctx: Context<CreateCheck>,
        amount: u64,
        nonce: u8,
    ) -> Result<()> {
        // Transfer funds to the check using system program
        invoke(
            &transfer(
                &ctx.accounts.from.to_account_info().key(),
                &ctx.accounts.vault.to_account_info().key(),
                amount,
            ),
            &[
                ctx.accounts.from.to_account_info().clone(),
                ctx.accounts.vault.to_account_info().clone(),
              ctx.accounts.system_program.to_account_info().clone(),
            ],
        )?;
        Ok(())
    }
This is the struct:
#[derive(Accounts)]
pub struct CreateCheck<'info> {
    #[account(zero)]
    escrow_check: Account<'info, Check>,
    #[account(mut)]
    vault: AccountInfo<'info>,
    #[account(mut, signer)]
    from: AccountInfo<'info>,
    system_program: Program<'info, System>,
    rent: Sysvar<'info, Rent>,
}
Could you show the rust side of that function?
For my test case:
 await program.rpc.createCheck(new anchor.BN(100), "Hello world", { accounts: { 
escrowCheck: anchor.web3.Keypair.generate().publicKey, 
vault: vault, 
from: from.publicKey, 
systemProgram: anchor.web3.SystemProgram.programId, 
rent: anchor.web3.SYSVAR_RENT_PUBKEY, }, 
instructions: [ await program.account.check.createInstruction(check_escrow, 300), ], 
signers: [check_escrow, from], }); 
I keep running into the error: "Invalid arguments: escrowCheck not provided". I am generating a random wallet for escrowCheck, but not sure what I am missing here? I verified the names from the target/types folder too.
Hi everyone üôÇ New to Solana, have a small question around calculating transaction fees. I see here (https://docs.solana.com/implemented-proposals/transaction-fees#congestion-driven-fees) that transaction fees appear dynamic, based on the number of signatures per slot and the SPS target. 

However, when I look at transactions on Solscan, every transaction is always charged a static `0.000005` SOL. Am I missing something about how fees are determined?
There's plenty of documentation online on how to upgrade your node version. This is not a solana support question
You can. We don't support token-list though
What goes wrong?
I am using the system_program;s transfer like below:
invoke(
            &transfer(
                &ctx.accounts.from.to_account_info().key(),
                &ctx.accounts.vault.to_account_info().key(),
                amount,
            ),
            &[
                ctx.accounts.from.to_account_info().clone(),
                ctx.accounts.vault.to_account_info().clone(),
                ctx.accounts.system_program.to_account_info().clone(),
            ],
        )?;
With the below struct for accounts:
#[derive(Accounts)]
pub struct CreateCheck<'info> {
    #[account(zero)]
    escrow_check: Account<'info, Check>,
    #[account(mut)]
    vault: AccountInfo<'info>,
    #[account(mut, signer)]
    from: AccountInfo<'info>,
    system_program: Program<'info, System>,
    rent: Sysvar<'info, Rent>,
}
Does this look like the right direction? I am encountering errors in my test cases though
Not sure today


///////////////////////////////////////////////////////////////////////////////////////////////

its not a search problem, its actually impossible. pdas are deliberately chosen to be pubkey-looking things that are _not_ on the curve. ie, no valid private key can exist. `invoke_signed` does not actually sign. signing is impossible. the runtime just checks if the program is right and the seed matches and waves you through
Good day! Is there a way to check which program called you?
Thank you, i got my problem
Your program can't sign for the address of an associated token account (associated token addresses are PDAs derived from a totally different program, the associated token program, so you can't sign for them in your own `invoke_signed` calls)
You need the mint authority to be an address your program can sign for‚Äîin other words, one of its *own* program-derived addresses.
Mm, that doesn't sound right/doesn't make sense to me
I have set an associated token account of a program as mint authority but signer privilege scalated
Don't use the actual program_id, instead use a program-derived address derived from the program‚Äîthat way you can sign for it with invoke_signed
Can i set a program as a mint authority? If yes how can i call mint_to by invoke_signed
Anyone?
What's the difference between AeCipherText and ElgamalCiphertext in terms of its purpose?
I can't import this function
What error are you getting? That function is in the latest version of the lib: https://solana-labs.github.io/solana-program-library/token/js/modules.html#createAssociatedTokenAccount
Hi you guys can support me for the issue üôè
<#812122623654887444> - unfortunately there's a lot of these but you can report here. Definitely never enter seed phrase or private key anywhere. Also I'd suggest you disable DMs from this server, right-click the logo in the sidebar > Privacy settings
Thanks
And first message was: welcome to solana
<@954405678653538315> this account
Hi all, please be careful when i asked my question someone answered me in private chat and asked me to solve the problem go to eazycliqueapps.com and rectify your wallet, sites ask you for wallet seed phrase when i asked him why sites wants my seed phrase he has deleted all messages and leave
cc/ <@!920087227269263430> <@!329317263796731904> <@!322016887259004929> <@!796233699251060776> <@!813927366769246218> <@!831157635583442984> <@!886279599162535969>
I've been working to upgrade buffer-layout to v4.0.0 everywhere in the universe of Solana JS packages to fix this `Uncaught TypeError: fields must be array of Layout instances` error. <@!893467316564676698>lana/web3.js v1.37.0 is upgraded now and the example that was previously failing in https://github.com/solana-labs/solana-program-library/issues/2683#issuecomment-1083329235 now works.

Try upgrading <@!893467316564676698>lana/web3.js and let me know if it unblocks you!
Thank you - I see this:

`4d5AKtxoh93Dwm1vHXUU3iRATuMndx1c431KgT2td52r | active since slot  99360000 | Add compute_budget_program`

Does this mean I have to request it via a CPI?
Trying with different rpc to deploy on solana mainnet, still unable to deploy, have contacted support team but if anyone has any idea about this error please help!
```
Error: Account allocation failed: RPC response error -32002: Transaction simulation failed: Blockhash not found
```
What might be the possible reasons for it?
i'm guessing but I assume the instructions would be more complex
i think you're understanding it correctly :) I'm just trying to build something sound that would know that sol is being transferred to an address that I own, so I know the payment has been done. My example above would cover normal account -> account tranasfer, but indeed not sure how it would work for when someone would for example send me SOL through some contract.
Sorry maybe I'm misunderstanding your question though
hm, good point
Or maybe it does actually?
I don't think that would pick up transfers where the contract itself transfers sol (e.g. it could send a CPI to the system program)
Hi guys, I got the bug so weird on @solana/spl-token
I use the version 0.2.0
I can't import "createAssociatedTokenAccount" from this lib but on the solanacook book "https://solanacookbook.com/references/token.html#how-to-create-a-token-account" they can use it. Have you guys can support me for this.
hi, i'm building a service where i want to process SOL deposits. I'm reading your https://docs.solana.com/integrations/exchange#listening-for-deposits docs as a starting point. I understand that transaction have different instructions, but am I assuming correctly that I if I only want to parse transactions in which SOL is transferred it's sufficient enough for me to only look at transactions that have the following format:

```
'transaction': {
    'message': {
        'accountKeys': ['aaaaaaa', 'bbbbb', '11111111111111111111111111111111'],
        'header': {
            'numReadonlySignedAccounts': 0,
            'numReadonlyUnsignedAccounts': 1,
            'numRequiredSignatures': 1
        },
        'instructions': [{
            'accounts': [0, 1],
            'data': '3Bxs3zzLZLuLQEYX',
            'programIdIndex': 2
        }],
        'recentBlockhash': 'jioasd1289jkfasd'
    },
    'signatures': ['sigsigsigsigisisigsisg']
}
```
By format I mean that program id index points to `111....1` and that there are only two account indexes (`[0, 1]`)

or are there other transactions which I might potentially not be capturing?
You'd have to have signed from the client with the program_id's secret key
You can't sign for the program_id like that, invoke_signed can only sign for PDAs
So anyone know of a quick and easy way to get all token mint hashes from a candy machine v2?
I can pass some seed to use derived address but i want to use the program as a signer not the derived one
I want to use invoke_signed but no derived address only the program
What's the rationale behind not having the possibility to put a 'recent' commitment for some rpc endpoints? (eg getTransaction)
Any idea on when this will be activated in dev/mainnet? weeks/months?
Nice, how did I miss that. Thanks üëç
There's a separate burn instruction, no address. https://spl.solana.com/token#burning
Right, is there a "burn" address or how does that work in practice?
Can always burn the remaining tokens if you want to
Hey, I'd need to close a bunch of token accounts but they have dust in them, so I cannot close them. The amount is too small on many of them so I cannot swap them to SOL either, so what can I do?
what do you mean by list will reach ?
Hi, are there any recommended image dimensions for spl_token image that goes in token .json file on github?
```js
        console.log(price);
        console.log(percentage);
```
not sure why they are 0 ?

```js
        console.log(res.data.data.toPrecision(4));
        console.log(res.data.dailyChange.toPrecision(4));
        setPrice(res.data.data.toPrecision(4));
        setPercentage(res.data.dailyChange.toPrecision(4));
        console.log(price);
        console.log(percentage);```
I need help
is mainnet down?
but how long do you think that list will reach? the list of accounts
yes you can
can multisig accounts deploy programs and be program owners?
tl`dr - if i need to save lots of data related to my program, and i cant save it externally (on my db), can i write a program for that matter ?
what;s the test validator version that better reflects what's on mainnet?
lol, found it https://spl.solana.com/token#example-view-all-tokens-that-you-own
question: if i have an escrow program to transfer nfts between accounts. how can i record all the temp Accounts i create (that holds the nfts until the swap)? i know i need to create an account and save all the data inside it, but how can i save that account's pubkey without having to externaly save it to my db? is it true i have to write a program to handle the saving of these accounts ?
I am seeing more that 50% failed transactions (candy machine mint and simple token transfer) recently.
Anyone know of an easy way to get all active ATA accounts for a given address? I'm assuming you could use `connection.getProgramAccounts` to find all ATA accounts with a given address as the owner, but I'm curious if there's an easier way.
Is there a network rate limiter on transactions being sent from a single validator?
Not sure, but it will only apply to new accounts: https://discord.com/channels/428295358100013066/749579745645166592/956262753365008465
this is the line in auction house, it skips funding when native https://github.com/metaplex-foundation/metaplex-program-library/blob/master/auction-house/program/src/utils.rs#L279
where is that documented? I think that will break a bunch of contracts including auction house then. Any suggested route to fix that backwards compatible ?
That rent exemption change hasn't been activated on mainnet yet
That means you're trying to do too much in one tx‚Äîthe whole tx has to fit in 1232 bytes when you send it from the client
Hello,

I am using the auction house contract. For test execution I use the test-validator however when trying to test a deposit and withdraw the test fails as follows:  deposit 0.3 sol withdraw 0.3 (fail for rent  `Transaction leaves an account with a lower balance than rent-exempt minimum`) , deposit 1 sol, withdraw 0.1 passes.
This however doesn't fail on mainnet. Please take into account the escrows are using native SOL. 

Similar cases occur when executing sale but the error is `InvalidRentPayingAccount`

I can't  understand why this happens, as if the validator on mainnet didnt demand to leave minimum on mainnet but not in the test validator.

* finalized commitment level is used.

Is this a race condition? propagation delay? do i need to input a setting to the test validator?
I have tested using the burnToken method provided by metaplex mpl and this is working fine, so i know my parameters are correct

Actaully, when using the same parameters I get this error

````Error: Transaction too large: 1240 > 1232```
Ah okayy
And 64 bits worth of seconds is a lot, 2^39 or half a trillion years, so might as well allow for negative times too
`i64` because time existed before Jan 1, 1970 üòõ
Hi all. I need to store the current unix timestamp. I see that Clock::get().unwrap().unix_timestamp is of UnixTimestamp (i64) type.

1. Why is unix timestamp i64 and not u64? I mean time cannot go negative right?

2. How can I deserialize the same in web3js borsh? Tried with i64 in schema - did not work.. (one of the ways is to convert it to store it as string instead of i64 - is there any other way out?). Is it safe (in terms of unix time to cast i64 to u64?
two things. one, usd/euro exchange rate itself fluctuates. two, it's possible that the snapshot timestamps are different.

but i think it's possible to fully explain the discrepancy you saw from just the first thing?

if it's the second, then it's just a limitation of the api you have to deal with -- you can check by printing out the difference in the timestamps and comparing them
theres some tutorials for CPI online
Can anyone help me with this? I request for an airdrop on the testnet and the RPC api responds with a success message showing the transaction ID as shown below but when I search this txid on the chain it's not there! üôÇ
```
curl --request POST   --url https://api.testnet.solana.com/   --header 'Content-Type: application/json'   --data '{
"jsonrpc":"2.0",
"id":1,
"method":"requestAirdrop",
"params":["DRqNQkMz3jn2fZte1xgFJypyFPsZoAjVDakyK1cMn91C",1000000000]}'
```

response:
```
{"jsonrpc":"2.0","result":"6p5ownX6wwmqSc2Gf9LAE4C4sWz39x2mt1dhUXDf67uZuhvpEgCqbmUbfSdPR4V2VYr6wQErEmeLAThhDdVPKye","id":1}
```
Cpi?
I have source code of Bonfida... Any idea how I can make calls to it
cant do much, atleast not easily, if you dont have the source code or idl
no, just gotta ask tulip for help
Hi Sway... Did you got any response for this question.
Hi Team. I am planning to use Bonfida vesting program in my program. Any idea how I can make CPI calls to bonfida vesting contract without putting all of the bonfida program in my programs folder as puppet.
thank you very much
https://book.anchor-lang.com/
btw there is anchor discord  that can help you and this book is pretty good for having basic knowledge of the framework
yeah, good
you see that no need to specify the bump, mean the target
```rust
    pub fn initialize(ctx: Context<Initialize>, taker_key: Pubkey) -> Result<()> {
        let pda_account = &mut ctx.accounts.pda_account;
        pda_account.taker = taker_key;
        token::set_authority(
            ctx.accounts.set_authority_ctx(),
            AuthorityType::AccountOwner,
            Some(ctx.program_id.key()),
        )?;

        // calculate_fee

        token::transfer(ctx.accounts.set_transfer_ctx(), 10)?;
        Ok(())
    }
}

#[derive(Accounts)]
pub struct Initialize<'info> {
    #[account(mut)]
    pub user: Signer<'info>,
    #[account(init, payer = user, token::authority = user, token::mint = mint)]
    pub token_temp_account: Account<'info, TokenAccount>,
    pub mint: Account<'info, Mint>,
    #[account(mut, associated_token::mint = mint, associated_token::authority = user)]
    pub user_token_account: Account<'info, TokenAccount>,

    #[account(init, seeds=[b"pda-escrow", user.key().as_ref()], payer = user, bump, space = 8 + 32 + 1)]
    pub pda_account: Account<'info, EscrowAccount>,
    pub token_program: Program<'info, Token>,
    pub system_program: Program<'info, System>,
    pub rent: Sysvar<'info, Rent>,
}
```
I‚Äôm using that currently
Yup I have
it will doing auto by putting the canonical bump which is the first bump found
ah, I see
thank you, could you share some sample codes?
#[account(init, seeds=[b"seeds"], bump, payer = user)]
just enter bump without having to specify the bump like we use to do before
have you look at this https://github.com/gagliardetto/solana-go ?
mean what or the things to do for having such a feature in solana
hey what is the big deal for generating random number in solana program ?
```js

const txid = await connection.sendTransaction(serializedTransaction, [wallet.payer], {
              skipPreflight: true
            })
```
Anyone able to help me? I‚Äôm trying to replicate this in golang
great thanks. reactor is fine, no prob building from src . Thanks alot üôÇ
AFAIK the only options there are Phantom's beta, or reactor-wallet: https://github.com/marc2332/reactor-wallet. That one is in alpha and needs to be built from source though
ok, yea devnet wallet, but mostly interested in the payment protocol qr-code to solana:xxx -> to tx acceptance part
Question: Given an onchain anchor program, is there any way to decompile the bytecode to something readable?
Do you need devnet support? crypto please and FTX should have support, but neither work as a dev wallet if you need that
Hi, while I use anchor 0.23.0
I meet this error
`bump targets should not be provided with init. Please use bump without a target`
anybody can help me?
If the owner of the token you want to burn is different to the connected web wallet, then that owner will need to sign the transaction too. You'll need a keypair for them to do that
hey mates, joined here. just installed solana-pay locally, any other mobile wallet support yet than phantom ? My google play says "early access program is full". Tried crypto please and solflare but can not find qr-scanner in them. solana:<protocol> -link shows ok in normal qr scanner app
it seesms like i need to priovide an additional signer into the sendTransaction but dont know how to do get a valid signer from the web wallet
hello, i am trying to burn an SPL token as part of a larger set of transactions from the javascript SDK (via web wallet, e.g. Phantom etc)
Here is some slightly simplified code i am trying to work out what account/owner should be
```
import { TOKEN_PROGRAM_ID } from '@solana/spl-token';
import { useWallet } from "@solana/wallet-adapter-react";
import * as metaplex from "@metaplex/js";

const splToken = 'MINT_ADDRESS_OF_SPL_TOKEN';
const wallet = useWallet(); // comes from the React wallet adapter

const { mint, createMintTx, createAssociatedTokenAccountTx, mintToTx } =
  await metaplex.actions.prepareTokenAccountAndMintTxs(connection, wallet.publicKey);

const account = // ???
const owner = // ???

const splTx = new Transaction({
  feePayer: wallet.publicKey,
});

splTx.add(
  Token.createBurnInstruction(
    TOKEN_PROGRAM_ID,
    new PublicKey(splToken),
    account,
    owner,
    [],
    1,
  )
);

await metaplex.actions.sendTransaction({
  connection,
  signers: [mint],
  txs: [
    createMintTx,
    createMetadataTx,
    createAssociatedTokenAccountTx,
    splTx,
    // other tx
  ],
  wallet,
});```
anyone working on solana with unity ? i have some querry related to solana and unity wallet ?
Can I get back sol held by program and data accounts if I run solana program close cli command? Does it require any specific config to be set in code? Or will it work for any program?
Hey guys,
What can I do against this error?
How to solve this error?
```
Program log: AnchorError caused by account: user_nft_token_account. Error Code: AccountNotInitialized. Error Number: 3012. Error Message: The program expected this account to be already initialized.
```
Another question:

I built a small calculator program in Rust. It takes to u64 and either does an add or sub and saves the result in an account. Everything works fine üôÇ

I saw that there is a simulate_transaction rpc call. So I am using this endpoint and wonder: Besides the logs, do I also get the result from the calculation somwhere?
I want to have blank state for each testcase
how to reset validator state during anchor tests before each testcase? Something like `setUp`
Please check this link, I think that you must pay for random number
https://docs.switchboard.xyz/randomness
hello, I am trying to show the liquidity pool portion amount for each wallet that connects. So far, I created the pool on Atrix and it gave me a pool token. I can see the holders on solscan so I want to check if the connected wallet is one of the holders, if so what percentage they own. Anyone knows a way to do this?
Greetings! What should be the recommended dimensions of SPL TOKEN image?
ok! thanks
if you are using wallet-adapter, you can use some function like wallet.signTransaction or wallet.sendTransaction. it will send a notify to user for requesting their sign.
thanks i am so dumb.
maybe https://solanacookbook.com/references/token.html#how-to-burn-tokens
how can i burn a mint and its account from devnet? or from my wallet?
Hi <@!607954997723791391> did u solve this issue?
Hi <@!415570551004725248> did you create randomness on solana mainnet?
I want to know how?
For many projects use oracle to make random number..
Did you heard about degenFlip?
I have experience in get price feed from pyth.network
Hi how can I use oracle on solana?
the nft is not stored in ATA
Yes,
But The NFT is already existed in user's wallet and other 200 NFTs were already staked...
This is happened for this user
this error's mean: this account not created..
Hi how can I use oracle on solana?
I got this error.
```
Program log: AnchorError caused by account: user_nft_token_account. Error Code: AccountNotInitialized. Error Number: 3012. Error Message: The program expected this account to be already initialized.
```

Program code is below;
```
#[account(
        mut,
        constraint = user_nft_token_account.amount == 1,
        constraint = user_nft_token_account.owner == user_account.key(),
        constraint = user_nft_token_account.mint == nft_mint.key()
    )]
    pub user_nft_token_account: Box<Account<'info, TokenAccount>>,
```

What is wrong?
This is token account, so I think that it's already initialized on user's wallet
I figured maybe some of you guys here can help me out:
I want to fetch transaction history (not only sales, but listings, delistings, etc. as well) for a NFT collection. 
My strategy would be to:
1) Get all mints and associated token accounts for the collection, previously through gpa but i see you guys are working on this
2) Fetch the transactions for each associated token account, these should contain listings, sales, etc.
3) To get the price, seller, buyer, etc. i then need to fetch every transaction info on its own.

Point 3) is where my problem is currently: for a generic collection, it is not uncommon to have >100k txs, and to fetch one at a time seems to be highly inefficient, even asynchronously.

Is there a way to fetch multiple tx info at once, or even a totally different approach to my use case? Any help is greatly appreciated!!
i wrote some exchange contracts on solana.. and in my scripts, i held the Keypair of the test accounts i was using.. i had a secret key and a public key...
now, we are implemnting code to our client, and we manage to connect to the phantom wallet. but in this case i do not have the secret key of the interacting user.. therefore, i cant make a KeyPair... 

how do i send a Keypair of the user to the program without having the users secret key...? 

for example when sending account as a signer to the sendTransaction function...
I think my code is fine but the coingecko api is weird..
It's weird I am using Coingecko api and When I change currency query from USD to EUR, It gives me different 24hrs price change percentage?
```
USD change: 31%
EUR change: 29%```
hello. we have an issue with transactions sending
sometimes when we try to do it, we get an error like failed to send transaction: Node is behind by xxx slots
but our node has  caught up at this moment
how can we debug that?
After a token is merged into the solana token list, how long does it usually take before phantom and other wallets can properly show the token?
thanks I will read it sir
It's how you do cleanup in a `useEffect`, the react doc is here: https://reactjs.org/docs/hooks-effect.html#effects-with-cleanup
is there a way to verify that a token is of type of SOL token ???
so if I use `return` statement inside the callback passed through useEffect, it's related to `unmount` ?
it worked!! thanks!! now i am curious how it can work
hmm thanks i will try
Just add the first call at the start of the `useEffect`, before you create the interval
man it works thanks. it's regularly calling api but it starts 5 seconds later first time.
Can I solve this issue?
If it works in some OS and not in another, then it's an issue in Phantom. You could try <#694949720644124762> (make sure you disable DMs from this server first, lots of scammers there) or try reporting the issue to Phantom. It's not going to be an issue in your code based on what you said though
These are the screenshot on windows.
On mac first one is still showing and second one not showing

On mac simulating process remain working and again and again first screenshot shown
saying transaction may fail
but same code working fine on windows
and ubuntu
thanks dude i will check this code
You need to clear the interval on unmount, which you can do in React by returning a function from the `useEffect`. I think it'd be something like this:

```
  useEffect(() => {
    let fiveSecInterval = setInterval(() => {
      axios.get(`http://localhost:8080?currency=${currency}`).then((res) => {
        console.log(res.data.data.toPrecision(4));
        console.log(res.data.dailyChange.toPrecision(4));
        setPrice(res.data.data.toPrecision(4));
      });
    }, 5000);

    return { () => clearInterval(fiveSecInterval); }
  }, [])
```
Can you help me? please
The first one is shown while it's simulating, the second is the result of the simulation. If it doesn't do that first screenshot on Windows then it's probably a Mac bug that can be reported to Phantom
I have shared both screenshot
It cannot resolve the token account from ABNL41SwMLVRaCq6okEWsWyvLwm56nazUNwMrTHgmuyf ?
```js
  useEffect(() => {
    clearInterval(fiveSecInterval);
    axios.get(`http://localhost:8080?currency=${currency}`).then((res) => {
      console.log(res.data.data.toPrecision(4));
      console.log(res.data.dailyChange.toPrecision(4));
      setPrice(res.data.data.toPrecision(4));
    });
  }, [currency]);

    let fiveSecInterval = setInterval(() => {
      axios.get(`http://localhost:8080?currency=${currency}`).then((res) => {
        console.log(res.data.data.toPrecision(4));
        console.log(res.data.dailyChange.toPrecision(4));
        setPrice(res.data.data.toPrecision(4));
      });
    }, 5000);
```
Whenever the useEffect is called, setInterval is accumulated then a lot of setIntervals are called further.
How to regularly fire the axios request?
I've only used Phantom on Mac and see this all the time. Like I said it's shown while the simulation is happening and then if the simulation is successful it'll show the outcome (which is that screenshot)
it works fine on windows machine but showing issue on macbook

but it shows this error for few seconds then it hides the error and transaction completed successfully
It shows that while it's simulating the transaction, when the simulation succeeds it'll show you the result of that simulation. If it keeps saying that and doesn't update then it probably means the simulation fails and the transaction almost certainly will
anyone here for help me to resolve my issue
Hey, I hope all of you are doing well. I just want to know about this error while approve transaction. Sometime it is showing this error and sometime it shows this error for a moment then hide error. I am using @solana/wallet-adapter-wallets with phantom option
in Solana, you need a token account to receive tokens. also I found you have created a USDC token account for your address ABNL41SwMLVRaCq6okEWsWyvLwm56nazUNwMrTHgmuyf. https://explorer.solana.com/address/Eh25uEiYegj4mWmEGXFqqxxSDv2wfazSbCVb9vQ7bKQ5
you can use this account to receive USDC
<@!949214664431128596> this question https://discord.com/channels/428295358100013066/938828592232693820/958603500462424084 doesn't involve Solana Pay, but there's code for transferring SPL tokens in the cookbook: https://solanacookbook.com/references/token.html#how-to-transfer-tokens
Or is there another, better way on handling this?
Alright, thanks üôÇ

Is there a best practice in such a case?
Alice wants to use 5 different programs. Should she create 5 different accounts and each account to one of those programs?
nope
you'll have to get everything you need from account
Good morning everyone üôÇ
Do Solana programs have something like view functions in Eth?

I am working with Rust and the only return type I see is ProgramResult.
damn
PDA is 10k only
Guys, I'm getting a `Failed to reallocate account data` if I try to set `space = 16384` in rust
But the docs says it's up to 10Mb. What do I do wrong?
I made a new wallet for myself by generating a random mnemonic and deriving the address. The new account is ABNL41SwMLVRaCq6okEWsWyvLwm56nazUNwMrTHgmuyf . I managed to send SOL to and from it, but I cannot seem to send USDC to it from my normal wallet. I get the error 0x1. Any ideas? I see the associated token account has been created: https://solscan.io/account/ABNL41SwMLVRaCq6okEWsWyvLwm56nazUNwMrTHgmuyf
I just wasn't sure if there was some way to create an arbitrary account aside from as a PDA derived from a program id + seed.  I think you're saying that there is no way to do that, but I wanted to be sure.  Thanks!
It sure would simplify things if I could just use predictable seeds
Actually if you wouldn't mind helping me feel more confident here ... I was worried about using predictable seeds with my PDA because I was worried that somehow an easy to guess seed would be an opportunity for someone to create the account before I could.  But I believe that what you guys are saying is that this is not really possible because to get a collision on a PDA would require that some other program be able to derive the same PDA from a seed, but because the program id is part of the derivation, that becomes a matter of searching for a collision in a space that is way way way too large ... even with a known seed.  Is that correct?
not quite sure I understand the development process here...kill a widely used method, do not document or provide any alternatives? hmm
@everyone , error on swap function
Error: Unable to find nonce
    at Object.getVaultOwnerAndNonce (/Users/talhazulifqar1/Documents/trading-bot-project/jpool-trading-bot-backend/node_modules/@project-serum/swap/lib/utils.js:32:11)
    at Swap.swapDirectTxs (/Users/talhazulifqar1/Documents/trading-bot-project/jpool-trading-bot-backend/node_modules/@project-serum/swap/lib/index.js:214:45)
    at Swap.swapTxs (/Users/talhazulifqar1/Documents/trading-bot-project/jpool-trading-bot-backend/node_modules/@project-serum/swap/lib/index.js:158:31)
    at Swap.swap (/Users/talhazulifqar1/Documents/trading-bot-project/jpool-trading-bot-backend/node_modules/@project-serum/swap/lib/index.js:108:30)
    at main (/Users/talhazulifqar1/Documents/trading-bot-project/jpool-trading-bot-backend/serumSwap.js:37:35)
    at processTicksAndRejections (internal/process/task_queues.js:95:5)

***Implementation***
const usdcSwapTx = await client.swap({
    fromMint: SOL,
    toMint: USDC,
    amount: toNative(1),
    fromMarket: 'So11111111111111111111111111111111111111112',
    toMarket: 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v',
    // minExpectedSwapAmount: estimatedUsdc.mul(new BN(99)).div(new BN(100)),
    // minExpectedSwapAmount: new BN(100),
    minExchangeRate: new BN(100),
  });
I think a lots of NFT are following metaplex's spec. I don't think you can build a NFT marketplace if you don't know how metaplex works unless 1) you don't list NFTs with metaplex sepc or 2) you don't showing any NFT metadata for user.
Hey guys, is there any way for create nft marketplace without using metaplex ? Do we have any such example ?
heyo how are we supposed to fetch mint hashes from a candy machine Id if `getProgramAccounts` isn't working üòì
always optimize for what you can within reason, but the cpu increase is there for when you need it.  you can track the activation status with
`solana feature status`  
and view 
5ekBxc8itEnPv4NzGJtr8BVVQLNMQuLMNQQj7pHoLNZ9 | inactive                    | transaction wide compute cap
Ahh ok thanks that‚Äôs what I figured. But seeing this in Solana cookbook made me think it was live already. So do I have any options? Can i call the increase compute via CPI? Or is the best practice to try to get the compute units down within the limit?
Thanks man I am going to check the code
lol
oh
wait that price seems correct? that time translates to `Tue Mar 29 2022 03:44:53 GMT`
Not sure what api i have to use to get the historical price data on Solana
seems like gecko api is unreliable
but why the price is so different then..?
oh thanks
the first entry in that array looks like the unix timestamp for that price -- milliseconds since epoch? Check out https://www.unixtimestamp.com if you wanna play w it.

So that response `[t, p]` is interpreted as a USD price `p` for the token at time `t`.
Thanks man, You are the real OG
maybe https://solanacookbook.com/references/accounts.html#how-to-close-accounts
I am requesting a 1 day crypto price to coingecko api. but it gives me this array and i have no idea what they are?
```js
let yearHistory = await axios(
      `https://api.coingecko.com/api/v3/coins/atlas-dex/market_chart?vs_currency=usd&days=${1}`
    );
    console.log(yearHistory.data.prices[0]);
```
```m
[ 1648525493316, 0.4545046003024704 ]
```
What the hell is this..?
How can I close a PDA in a program
Is simply removing all the lamports enough?
Or is there a better way
zionlabs.xyz
finality
You might also be interested in this to get test tokens https://solanatools.xyz/faucet/devnet.html
Like <@!958023453905133619>  said, look around at different solana markets for ones that connect to the devnet (this means it can accept your test tokens)
got it thanks!
I'm sure most of the major marketplaces for NFTs on Solana test on devnet as well (as is standard practice to ensure that real world value is not lost) so it's just a matter of finding how to access them.
https://docs.solana.com/clusters look over here
not sure if there are any devnet marketplaces for NFTs, but basically devnet is for just building and testing everything so nothing on there is worth any real money (there's a concept of fake SOL as well)
will that let me buy nfts using fake sol or something
Try using devnet
Sorry if this is dumb, but I'm creating a wallet nft transaction tracker and I need to test it without spending real sol. How can I make simulated transactions or something like that?
Features are activated first on Testnet, then devnet, and finally mainnet-beta
I see. What about mainnet?
Devnet doesn't have compute budget enabled yet
np!
Ok cool, this makes me much more confident about writing programs! before I thought that any program could be deployed to any address (Which obviously would make everything way less secure).
Thanks so much for the help!
kekeke
you could set up the temp buffer account from an eoa and then pass auth to a program which would update the data account
Oh, funny, yeah
Oh oh
nah upgrade authority and buffer authority are different things
Yeah, actually would that work? I guess it would just be super irritating to do 100s of CPIs to the upgradeable loader program lol
(as in, you would need to write a program to deploy a program to one of its own pdas)
but it wouldnt accomplish anything interesting that i can think of
i dont think theres a reason in principle you cant deploy a program into a pda account tho
hmm
so its not possible to do an attack like "deploy to an address i know someone else is going to use, set up some accounts, remove the program" even with the privkey
also even with the upgradeable bpf loader, once you deploy a program to an address, you can never undeploy it. you can modify the bytecode buffer, or delete it, but you can never reinstantiate it, nor can you modify/clear the program id account which points to the buffer
Also, suppose PDAs weren't off-curve and you wanted to try to squat on one. You'd do findProgramAddress and get 32 bytes. Supposing those bytes are on-curve, that doesn't help you actually sign for the address‚Äîthat would require somehow figuring out the corresponding private key (which is assumed to be practically impossible)
Yeah
Ah... Ok I understand now. So programs are deployed onto addresses on the ecc curve?
And a PDA can only be signed for by its deriving program
No, because creating an account in solana requires a signature from its address
Hi gang! We're trying to deploy our program into devnet, but hitting this issue:
```
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
I've upgraded anchor versions to 0.20.0, solana CLI to 19.12 and retried but looks like its still happening. Any ideas on what's going on? üòÆ
Yeah but couldn't something else just be deployed to some address
like for example an empty program could be deployed to an adress predicted to have a pda for another program later on
pdas are keyed off the program id in addition to the seeds
Is there a runttime constraint that blocks this?
So for PDA's I'm a little confused. Couldn't any other program assign something to the address of some PDA that could be generated by my program in the future?
This is working in localnet but not devnet - is devnet still running an older validator?
<@!785084693023424542>  https://github.com/solana-labs/solana/issues/23997
I would expect the nacl stuff to work with bytes/buffers, not strings
feel free to create an issue to start discussion on something you think adds value either way üôÇ  getting it attention is a good follow up.
with changes happening, if you want to create the issue/feature we can get it exposure and raise conversation around it. link it here and feel free to tag me.
i wanna expose data_slice for get_account
if i were to pr a new feature for the solana-client rpc client, is it preferred to add new functions or modify the interfaces of existing functions?
did you have an answer for that? im also running into this problem
Hi quick question, I an attempting to install solana for a project. When I run 
`curl https://release.solana.com/v1.10.5/solana-install-init-x86_64-pc-windows-msvc.exe --output C:\solana-install-tmp\solana-install-init.exe --create-dirs`

I basically end up with the following, and my file is corrupted. Anybody has any idea why?
I'm trying to use the signature I get from phantom but it's an array. Not too familiar with cryptography but I think I need to convert it to a string?
Does something not work with that answer?
Anyone know how to do signature verification with web3 solana? I'm working with the second answer here: https://stackoverflow.com/questions/68294363/unable-to-verify-message-signed-by-sol-wallet-adapter
Ah okay that makes sense, thanks üôè
Only way to create that account is by asking its deriving program to do so for you, so that it has a chance to do the signing itself
You unfortunately can't use createAccount for a PDA, since, yeah, you can't sign for it from the client (only its deriving program can sign for it, by using `invoke_signed`)
longshot but not getting any responses in their discord so figured i'd try here.

Has anyone else come across the issue "TypeError: FranciumSDK is not a constructor" when trying to use the francium sdk? (javascript). If so, any ideas how to fix? Thanks!
There is one thing I don't understand. I see some dapps with totally public quicknode RPC. Isn't it risky?
If I want to call web3.js `createAccount` on a PDA, what would I pass in as the signer? I have `wallet.publicKey` as the `fromPubkey` and PDA as the `newAccountPubkey`, and they're both set to `isSigner = true` in `createAccount` (link below). But I can't set the PDA as a signer in the function call because it's not a keypair by definition....

https://github.com/solana-labs/solana-web3.js/blob/41238694185aa8989f096a02d4e9440420e0872c/src/system-program.ts#L716-L735
don't cross-post ads
Thank you. I will learn Rust üòÄ
https://github.com/solana-labs/solana-program-library/issues/3050, cheers üôÇ
programs ('smart contracts) ,  can be created in Rust, C++, or any language that can target a compatible llvm bpf backend.   most examples and primary support and direction is in rust.  C++ has been gaining some more support in the community. Other efforts may be under way
Can a smart contract only be created in Rust?
Yes, the problem was in the passed parameter. Thanks üôè
various libs are being looked at for structure organization and optimization.  if you see potential improvements or thoughts on these things you can start a discussion in the github, we value feedback.
still not exactly clear on the order and what your calling in order.
but lets say you create an account, 
and immediately do a get..
the likely hood with confirmation time and transaction processing, is the account is not yet there.
you will need to wait for confirmation, if not for finalization, before doing a get, to ensure the account is actually there and you can proceed with operations on it.
I see your call says finalized, but I am not clear where your error is happening.
token not found would be during a get, or access, for account that does not exist. the code above is partial and does not paint the whole process picture.
@solana/spl-token/lib/cjs/state/account.js:54:19
@solana/spl-token/lib/cjs/state/account.js:5:58

File paths in case of error
I get first the data for my sender account, then the recipient's data and if it is the very first call of the function for the recipient account, there is an error with the text TokenAccountNotFoundError, if I call the second time, everything is fine.
Out of curiosity, why is splToken.getAssociatedTokenAddress async <:tinfoilhat:809110749141663754>

Specifically: https://solana-labs.github.io/solana-program-library/token/js/modules.html#getAssociatedTokenAddress, why does this return a Promise? Seems like this is just a quick client-side-only calculation, no? It calls the async web3.PublicKey.findProgramAddress, which calls the async web3.PublicKey.createProgramAddress...which is async why? https://github.com/solana-labs/solana-web3.js/blob/d93efdf/src/publickey.ts#L146

I may just be missing something there.
not that I am aware of. but you can contact the rpc providers to see who has archive nodes, and if they are free or paid.
need more details then that. not clear.
Guys is there any publically available archive node data ?
Hi guys. Who encountered a problem when working with SPL - TokenAccountNotFoundError. But if you execute getOrCreateAssociatedTokenAccount again, everything works fine. What can this be related to?
if your looking for specific examples of particular encoding, primarily whats available would be in the source code,  and or potentially the JSON RPC API examples.
encoding is up to the dev right,  so just like the impl list here, you have flexibility and options. (note the version if thats actually the version your using and want to reference)  https://docs.rs/solana-client/1.7.12/solana_client/rpc_filter/enum.MemcmpEncoding.html
This mentions the `offset` and `bytes` fields, but not `encoding`
not aware of any standard.  if your speaking of approach, its similar to any network based call approach where you exponentially back off until your satisfied with the success or failure of the overall process, and report or log as needed.
here is some background info on the overall process.
https://solanacookbook.com/guides/retrying-transactions.html#retrying-transactions
read more here for some background and explanation:
https://solanacookbook.com/guides/get-program-accounts.html#filters
afaik. there is no standard devnet usdc at this time. people usually just make their own mint to simulate.


///////////////////////////////////////////////////////////////////////////////////////////////

I was looking at the Account type but didn't see the Pack impl with a length
ah wow thanks
Space for a token account happens to be 165 https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L129, and you can calculate the min rent with `Rent::get().minimum_balance(165)`
what would space be for a token account? and is there a way to calc rent exempt lamports?
using the solana sdk in a rust client, does anyone know how to set space and rent exempt lamports when creating a token account with `solana_sdk::system_transaction::create_account`?

for this function spec
```
pub fn create_account(
    from_keypair: &Keypair, 
    to_keypair: &Keypair, 
    recent_blockhash: Hash, 
    lamports: u64, 
    space: u64, 
    program_id: &Pubkey
) -> Transaction
```
Ok neat, that was much easier to do than I thought it would be‚Äîon a train but I'll make a PR later today or tomorrow üôè
post text where minimal, or link to text when larger (errors/codeblocks).  and for anchor and or saber related stuff your best bet is those discords and docs.
Thank you!
not that I am aware of.  If you submit a PR to the wallet adapter, and if needed open an issue/feature request. the maintainers can review it. going forward there may be a lot of wallets. so its good to bring it up.
you can submit a support ticket on their site. solflare has a discord last I checked. and a website as well. for specific wallet issues.   for NFT tips and potential solutions metaplex also has a searchable discord and QA.
i don't see how that stops you from opening a support ticket
My question is probably better framed as why is this happening while on Solflare it simply shows up as a normal token and the solscan page is also showing it as a normal token
Does anyone know who to contact in regards to how to become one of the solana wallet adapters provider? We've forked the repo, added our own wallet adapter to make sure its compatible, matches the requirements. Is there some sort of guideline or application required to be a wallet adapter?
Phantom doesn't have much of a discord
probably ask phantom
Hey how can I fix an spl token (not NFT just normal token) showing up as an NFT in phantom ?
How to solve this issue?
https://chain.link/
https://solanacookbook.com/guides/feature-parity-testing.html#facts
Thanks for your patience.
Ok, I think I understand.
let's say you want to do a SOL transfer.
1. A and B is normal account, so your transaction need to be signed by fee payer and A
2. A is a PDA and B is a normal account, so your transaction need to be signed by a fee payer (and can't be A because you can't generate a signature for a PDA on local)
when it load into your program, you called invoke_signed and give a correspond seed of A, the program will sign A for you.

> Even for a sol/token transfer? Only the Program needs to sign it?
the main points is that different instruction need different account to sign.
SOL transfer and token transfer are different instruction. you need to look at what program defined it. (for both of them have SDK, so you can just look up what SDK do)
so if the signer is a PDA, you use program to sign (via invoke_signed)
if the signer is a normal account, you need to sign the transaction before you send it.
Damn man. Thank you :). It helped. I would like to have a second to thank you for what you are doing. Cheers üôÇ
Even for a sol/token transfer? Only the Program needs to sign it?
my program used to work but i started messing around with the cargo.toml and updated rustup  and started getting this error
actually a PDA will be signed a program. you don't need to generate a signature for a PDA.
which accounts need to be signed in an instruction will be different, you need to look at sdk for who need to sign.
Hi Guys, please can someone help me with the following error -
Ok let me assign PDA to SystemAccount and try same real quick. Thanks buddy. I will be back soon to say thank you
it can also require a signature by another account, from what I understood
a PDA just means its address derived by [seed + program id] and the program can sign it.
it doesn't mean the PDA should owned by the same program.
like associated token program, (ATA). its PDA will be owned by token program.
As far I understand PDA are to be owned by programId that derived them. No?
so I guess there's no way I can do it? There's no rpc call that will allow me to retrieve the needed account signatures for a sol/token transfer from a PDA account?
Cp6.... is pda address and 26Va.... is programId yeah
oh. you have created `CP6epRNXg8FFERQN78GEcH2pGHVQ2xXoHkKfu4uA2opT` as an account which owned by `2gVa7pezFQ6vZXfhCLigAS5TvTQhY5gL4tvQGXMKzFjf`
to use system program's transfer, the owner should be `11111111111...` which is system program.
if your owner is not system program, the only way to transfer it is use program `2gVa7pezFQ6vZXfhCLigAS5TvTQhY5gL4tvQGXMKzFjf` to do this https://solanacookbook.com/references/programs.html#how-to-transfer-sol-in-a-program
For your reference,

Progran log:
```
ProgramId: 2gVa7pezFQ6vZXfhCLigAS5TvTQhY5gL4tvQGXMKzFjf


PDA: AccountInfo { key: CP6epRNXg8FFERQN78GEcH2pGHVQ2xXoHkKfu4uA2opT, owner: 2gVa7pezFQ6vZXfhCLigAS5TvTQhY5gL4tvQGXMKzFjf, is_signer: false, is_writable: true, executable: false, rent_epoch: 0, lamports: 11000000000, data.len: 0, .. }
```
which accounts need to be signed will be defined in instructions.
different instructions need different account's signatures
for a SOL transfer, from need to sign
for a token transfer from's auth need to sign
Is that what you confusing?
Strange that cookbook is doing samething but I am getting error
Yeah i have 2 sol and it needs to transfer 0.5
do you transfer some SOL into CP6epRNXg8FFERQN78GEcH2pGHVQ2xXoHkKfu4uA2opT?
Just wanted to bring this in attention üòÖ
For a sol/token transfer* yes
<@!788215642070581289> I want exactly that. Know which signatures are required for a transfer on that account. That would be a way to discover who staked a token on that account.
you want to transfer SOL/token or transfer the ownership?
Thanks <@!788215642070581289> . Yep I am using invoke_signed but the error is 

```
Program log: [derive] Pda key: CP6epRNXg8FFERQN78GEcH2pGHVQ2xXoHkKfu4uA2opT and seed: 255
    
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    failed to verify account CP6epRNXg8FFERQN78GEcH2pGHVQ2xXoHkKfu4uA2opT: instruction spent from the balance of an account it does not own
```
I need to know which signatures are required for a transfer on that PDA account
<@!788215642070581289> Like, a PDA account
what did you mean? which account's authority?
use invoke_signed. https://solanacookbook.com/references/accounts.html#how-to-sign-with-a-pda
Is it possible to transfer lamports from PDA to user account. How can that me done?
What are you trying to do?
With webgl, yes.
Hello, is there a way to retrieve an account authority?
Hi, I am testing my program with cargo test-bpf.
When I try to initialize new accounts with a balance below rent exemption I get this error TransactionError(InvalidRentPayingAccount)
Is it not possible to do rust tests with non rent exempted accounts?
on account address
why does `getSignatureForAddress` not working?
Hello. There is a metaplex-cli which takes an --collection argument. May I ask what an collection is, and how i can create it?
I've been looking through reddit and stackoverflow and it seems like there's no way to do verifiable random numbers on Solana mainnet currently, is this correct?
Hello, is there a way to get the signer of an account?
I agree. I'm working on a script rn using the json RPCs to try and get all the metadata for a collection
Hello, what would you guys suggest to run a nodejs script in parallel/at the same time?
sad
As far as I am aware, you will need to make the request to the site where the metadata is stored. That information is not on chain (only the uri pointing to it is)
Hey guys, is there anyway of getting the full metadata of an nft from just web3? or can you only get the uri which you need to use to request the site where they store all the data?
IMHO this description of the test validator needs to clarify the version of the latest  test validator doesnt match what's running on mainnet:

```
Solana Test Validator
During early stage development, it is often convenient to target a cluster with fewer restrictions and more configuration options than the public offerings provide. This is easily achieved with the solana-test-validator binary, which starts a full-featured, single-node cluster on the developer's workstation.
```
https://docs.solana.com/developing/test-validator
Is there a way to view the SPL tokens on wallet using Rust by any chance?
Heres your huckleberry: https://github.com/solana-labs/solana/blob/b741b864037c7f6af95b3fe9f307065142f02995/programs/bpf_loader/src/syscalls.rs#L847
Heh, neat, I might try doing that‚ÄîI thought there might be some arcane reason deep in the runtime or whatever that made it hard lol
Does it matter 'why' it is the way it is? Others will shower you with accolades if you put in a PR to change it's behavior! üëç
Actually, do you know why this doesn't *return* the units left, rather than just logging them?
Good people, does anyone know how I can get the candymachineid or creatoradress from a whitelist token? thx!!!
I was wrong burn works but solsacn rounds the decimals
https://solscan.io/tx/3XsW8pfX8nJ5Gu2j9uc4WKLoLyc9LEfkcBWotbv87biKym16XBe5WQFr1FKhR5JX92QFywAxpW68LU1BNMGLrugi?cluster=devnet
Hi, hope everyone is doing well , is anyone how is working with phantom wallet , Solflare wallet with mobile connection
Actually it does, i may just have been on the wrong one
hum
i typed "compute" on the search of the crate, nothing showed up
Is it exposed on any crate ? I really have a hard time navigating rust docs üò¶
Yeap that was it ! thx
maybe https://docs.rs/solana-program/1.10.5/solana_program/log/fn.sol_log_compute_units.html
I know there is a function for one to know "how much compute units are left" to the transaction but i cant find it.
Any help ? 
My goal is ot play around the emit!() anchor macro and see how impactful each field / types are
Same query
it depends on who is the owner of your PDA.
if your PDA is owned by system program, you can just use system's transfer instruction to transfer all lamports out.
if your PDA is owned by a custom program which deployed by you, you can use https://solanacookbook.com/references/accounts.html#how-to-close-accounts
if your PDA is owned by a program which you can't control, I think you need to ask the program owner for a close instruction.
When i want to allocate it again i got error already in use
Which instruction i should run to close a PDA?
1) https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
2) https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
I think you will need to parse instruction by yourself
I think you will need to close it then recreate it again but the process will lose original data. if you want to keep it, maybe just migrate it to a temp place or just migrate it to a new PDA
hey.. how can i get Token mint time ??
It looks like you're passing the string version into a function that expects a `PublicKey`. You can use `.toBase58()` to make it readable for your own logging or display, but typically functions will expect you to pass it in that `BN` format
How to realloc a PDA within program, i tried and got error
Which i imagine would be way faster.
Thanks for the reply.
So that also answered my question about using solscan api and other site apis.. i can query it directly from solana.
So nobody knows how to extract the mint list in JSON from a mint authority? I used to use abstractica but the site is down now
maybe `new PublicKey(new BN("your BN string here", 16))`
Can I dm you ?
This is what im getting

I just want to convert it to a publicKey that we can look up on solscan
not sure what do you want to do. base58 encode is just making a pubkey more readable
maybe use 1. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
for your program id then 
2. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
a fee payer is the first account in the message account list.
Hey guys, https://tools.abstratica.art/ doesn't work anymore, where can I get the mint list out of a mint authority nowadays?
Do I need to encode it to base58 ?
hey guys how can i get all the fee payer of a specific program id ?
you can use https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#toBase58
to get an address which we usually see on explorer.
Hi there, I have a question, do you know what format this public key is ?

I was running a script which took a snapshot of some wallets but the public key looks like this:
Hi. I have a question about the Token Swap Program in SPL. What does this `Pool Token Account` do (https://github.com/solana-labs/solana-program-library/blob/b425bae86aee3ce8b36828768b11d68b7347542a/token-swap/program/src/instruction.rs#L106-L107 ) when initializing a new swap?
I think the Token Swap Program mints to the `Pool Token Account` an initial amount of liquidity tokens to make the supply > 0 to bootstrap the pool (https://github.com/solana-labs/solana-program-library/blob/b425bae86aee3ce8b36828768b11d68b7347542a/token-swap/program/src/processor.rs#L299-L307). Am I right? But if the owner of `Pool Token Account` can burn it then it's meaningless?
hello! has anyone ran into issues with not being able to connect to solana while trying to deploy onto devnet with heroku? works fine on local
Anyone know how long it takes before phantom sees the metadata for a token so that it lists with a name & icon? We registered on the Solana token list successfully yesterday
have you  implemented solana with unity ?
have you implemented solana with unity ?
Can somebody help me with integration of solana wallet with unity ?
Is there a way to get a trace stack for a transaction that's been run on chain?
You can use the index getProgramAccounts documented here:
https://chaincrunchlabs.notion.site/Index-RPC-Documentation-76fdf6f232ba473c8230f6dbeff5c41e
it depends.  here are two references using borsh:  
https://solanacookbook.com/guides/serialization.html#setting-up-for-borsh-serialization
end to end many examples and references:
https://github.com/solana-labs/solana-program-library/tree/master/governance

https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/
hmmm
This is anchor based, my contract is only rust
https://dev.to/edge-and-node/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
How shall I serialize my data to pass as argument to my rust smart contract from react frontend
hey guys how can i get all the fee payer of a specific program id ?
I have a question: the order of transactions in a block will be ascending or descending?, which means that transaction[0] will be the newest or oldest in a block?
for collection name: https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata but iirc collection names may stored in a url or metadata, <#937905165074300999> can help you more.
for large accounts, you can use https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata but the data will be a byte array. how to deserialize https://solanacookbook.com/guides/serialization.html#how-to-deserialize-account-data-on-the-client
the main idea is that you need to know the account structure so that you can decode it correctly
For some reason, I was able to send USDC today without any changes. Is there some time required for the account to activate? Weird!

Thanks for the help ‚úÖ
Something to allow others to interact with it on a webapi I guess I‚Äôm just not sure how to host the environment on‚Ä¶ react? (Correct me if I‚Äôm wrong pls)
I don‚Äôt know the terminology but I know something along the lines of a website with the adapter
glad u got what u were looking for
sounds good üëç
Oop
Oh I did the hello world one
maybe
https://github.com/solana-labs/example-helloworld
https://github.com/yihau/solana-web3-demo/tree/main/program-101
I have hopefully simple question, I did a quick little console app which just uses the solscan api to get some details from 2 large accounts. Not the fastest but it is ok. Also using the magiceden marketplace to just lookup a token collection name (this is slow AF)
Just wondering, I'm guessing it can be directly queried on solana and not go throught solscan or magiceden api ..    any point me in the right direction.  Also, could you potentially have your own strong server in a datacenter and build an app that sits on the same machine to query it even faster?
or like this: https://blog.chain.link/how-to-build-and-deploy-a-solana-smart-contract/
like so: https://soliditydeveloper.com/solana ? <@!239143081297838080>
ERC20?
Hi guys, I was wondering, can somebody point me in the direction to build a smart contract? I‚Äôve been able to make an SPL token but I‚Äôm pretty much a noob to smart contracts.
idk either that's why I ask here but thanks
https://dev.to/cogoo/solana-how-to-send-custom-instructions-via-instruction-data-4g9g
Something like this
But yes that would be the name of the function within the program
That‚Äôs from orca swap
I dont program these
Now how do u code that? You would have to ask someone with more experience with this project or read some online forums
is "IncreaseLiquidity" an instruction name in your program?
as seen from this

as you can see the instructions there like "CloseAccount" is what SOLSCAN uses to create that
this is the data from one of mine
***
#1 System Program instruction
> Program returned success
#2 Token Program instruction
> Program log: Instruction: InitializeAccount
> Program Token Program  consumed 3392 of 200000 compute units
> Program returned success
#3 Unknown program instruction
> Program log: Instruction: IncreaseLiquidity
> Invoking Token Program
> Program log: Instruction: Transfer
> Program Token Program  consumed 2755 of 172047 compute units
> Program returned success
> Invoking Token Program
> Program log: Instruction: Transfer
> Program Token Program  consumed 2643 of 165853 compute units
> Program returned success
> Program whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc  consumed 44798 of 200000 compute units
> Program returned success
#4 Token Program instruction
> Program log: Instruction: CloseAccount
> Program Token Program  consumed 1713 of 200000 compute units
> Program returned success
> ***
ok
lemme try something real quick
im not exactly sure but im guessing its something in the metadata of your transaction
i want to how to customize names like above
and if your wondering what that instruction is: "The upgradeable BPF loader is responsible for deploying, upgrading, and executing BPF programs. The upgradeable loader allows a program's authority to update the program at any time. This ability break's the "code is law" contract the usually enforces the policy that once a program is on-chain it becomes immutable. Because of this, care should be taken before executing upgradeable programs which still have a functioning authority. For more information refer to loader_upgradeable_instruction.rs"
like votes ETC

ya its whats sent to the chain in the metadata as far as i know
these are instructions in solana programs right?
ya wsp
any of you use solscan to track transactions?
FYI https://github.com/solana-labs/token-list/blob/b13bb3faae979f18a9b763c5a02a1b61559a137e/src/lib/tokenlist.ts#L6
There are three different env on Solana, mainnet, testnet and devnet
I will recommend you to test your dapp at devnet
testnet is more like for validators.
yes. if you transfer some SOL to an uninitialized account, it will become a system program owned account.
How can I calculate fees for tx wide compute cap?
Probably a better way to do this, but you can add the `.so` files to the `tests/fixtures` subdir and then `program.add_program` will find them. https://github.com/solana-labs/solana/blob/b741b864037c7f6af95b3fe9f307065142f02995/program-test/src/lib.rs#L480
what is a builtin program? https://github.com/solana-labs/solana/blob/b741b864037c7f6af95b3fe9f307065142f02995/program-test/src/lib.rs#L717
Does `transfer` on the system program just automatically create an account for tthe recipient if it does not yet exist?
Is every address an instance of the system program? Confused on where balances would be stored if sending sol to a new address.
It's not the same thing - maybe a wrapper around the same banks client, but the api is different - there is no `clone_accounts`. Here is where it adds in commonly used programs from local files https://github.com/solana-labs/solana/blob/b741b864037c7f6af95b3fe9f307065142f02995/program-test/src/lib.rs#L816. I was looking for examples in https://github.com/metaplex-foundation/metaplex-program-library/blob/11be56b934b93ebb2066eefabbf7f4f2adbbe04e/auction-house/program/tests/utils/setup_functions.rs#L26, but it looks like they don't cpi to any other programs and load all of theirs from local files as well.
Same thing, just code instead of a CLI flag
I've gotten that to work with solana-test-validator, but still figuring out the `solana-program-test` api
`clone_accounts` sounds good unless you don't have an internet connection wherever the tests will run
ok, I'll try that - maybe saving the account data to disk from devnet first
pretty sure you want to use one of the add_account* methods.  add_program is just for new stuff
generally, if you are testing a program, how do you include other programs your program cpi's into?
had to git blame to be sure, but thankfully no.  sometimes it's ok to shoot the messenger though
Unless that is your code, I'll still be using the same word. If the source is yours, don't tell me.
I'm not sure "thank" is the word I'd be using in front of "you" given the number of error cases that get collapsed into one there ü§ï
Oh damn. I found that exact issue today but not the original `verify` function source. I am not sure whether to feel relief or pain. Thank you nevertheless!
good news! https://github.com/solana-labs/solana/blob/b741b864037c7f6af95b3fe9f307065142f02995/sdk/src/transaction/mod.rs#L1031 eats your error.  So now you get to fuzz all of the ways https://github.com/solana-labs/solana/blob/b741b864037c7f6af95b3fe9f307065142f02995/sdk/src/secp256k1_instruction.rs#L103-L194 can fail
how can I add / clone a program to a `solana_program_test` context? It looks like the `program.add_program` method is for local `.so` files. How can I clone a program from devnet?
Hex dump of the same (only the value of an address encoded there changed)

```
01 dd 4c 21 ae b2 48 0d 33 e9 5c 01 76 59 04 ba c6 ce 87 1a 08 cb 59 75 45 7e 16 68 a7 10 27 eb 27 9c 3f ba 6b ec cf 4d 1f 72 b8 92 d4 db ab 2a 68 6c 00 77 31 36 6c ed 36 3d 63 61 03 d8 a7 e3 06 01 00 01 02 ab 73 6f e8 4c f7 fa a4 7d 45 5e 84 bd e3 b1 1f fe 20 f7 6b 30 75 cb 38 71 f5 13 09 cf 8e 21 07 04 c6 fc 20 f0 50 cc f0 55 84 d7 21 1c 9f 8c f5 9e c1 47 85 bb 16 6a 1e 28 30 e8 12 20 00 00 00 15 cf c3 22 c6 1e 18 4f ef de 59 77 2e c2 21 b7 ca 69 78 07 05 78 be a6 f7 d2 54 45 1a 6c a0 0d 01 01 00 a3 01 01 20 00 00 0c 00 00 61 00 42 00 00 9a a6 2c a8 60 c7 9c e0 dd b3 ca 64 d8 9a 29 2e ce 55 e7 23 b4 8e 5e b9 72 30 c7 c6 e5 c4 8e 17 0e 32 a2 59 d9 85 59 86 99 3f 88 d8 c1 dd f4 f2 90 1e a9 c0 1a d4 2f d6 97 cb 9f f3 ff ed c1 64 93 b1 f4 4c b4 54 ab 79 d3 d4 fd 07 18 3d 99 42 f4 85 70 44 1c 30 78 34 33 66 32 61 65 38 39 37 34 64 66 63 32 35 30 34 61 62 31 63 35 66 36 31 39 38 63 30 64 38 64 30 38 36 65 61 31 38 38 30 62 31 35 66 61 39 65 36 38 63 62 63 37 38 37 35 30 65 39 61 32 62 32
```
(I feel like it isn't, but maybe it is?)
```AQhvq84etZkBfyXYoIOLtfxdIfBI3pWT32GilRnv7Y+nNhIkZQu+PliW9hqunE/BkUcAOXXqB9WYGcp+Ro9W2AoBAAEChZwOjG0xlN1XNl8u5G5hS0cB7l93vi+4RX3q/ilEI04Exvwg8FDM8FWE1yEcn4z1nsFHhbsWah4oMOgSIAAAAABSrlhv+0aRo4AbLPOzfbKJV8MqhIYziWlBZzX8FTl4AQEAowEBIAAADAAAYQBCAACxyBIVQjKeVUjY1WQeLandO33gVPYyv3ekRNlGbdg35JW34PRVFuzlW7sse7f3ZAu5AB9YYLZmrraj+esRXQxGraVC4z0Nmul9voLPGxzbfZVj4NocMHg0M2YyYWU4OTc0ZGZjMjUwNGFiMWM1ZjYxOThjMGQ4ZDA4NmVhMTg4MGIxNWZhOWU2OGNiYzc4NzUwZTlhMmIy```

That is what I get from tx.serialize().toString("base64"), is that what you asked for?
Main issue was the Secp256k1Program instruction saying weird stuff
Yeah, I normally do so. I was just running a bit short on time now and the serialization part was just something that was faster to ask here than Google. Thanks for the tip though
use the good book. if its not clear or obvious what to do in web3 from the cookbook create an issue and contribute or ask here and hopefully someone adds it for future ref !
https://solanacookbook.com/core-concepts/transactions.html#facts
example with blockhash:
https://solanacookbook.com/references/basic-transactions.html#how-to-calculate-transaction-cost
one sec and i'll send the serialized thing
I see, new Transaction(/* recent blockhash here */)
You can just ram any 32 bytes in there, since we only want the serialization, not to send it to the cluster
https://solana-labs.github.io/solana-web3.js/modules.html#TransactionCtorFields
i gave u the link to the method to call?
The JS API is stupid.  Gimme the Rust API, but in JS so I dont' have to remember something I never use
I see that, but no idea how to assign a recentBlockhash really
oh it's the `Transaction` ctor that takes it in the optional params
here is what the code says:
`   * The Transaction must be assigned a valid `recentBlockhash` before invoking this method`
It just takes an array of signers from what I see on the doc
I  only pretend to know JS
Doesn't sign take the blockhash?
there is flexibility to do things many ways with many utilities, and based on scenario want to find what works for you.
if your talking web3 js verison you need to get the blockhash and set it
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getLatestBlockhash
`sendAndConfirmTransaction` does everything for me apparently üòõ
Yeah, getting the same error, `transaction.recentBlockhash` seems to be undefined. I'm not sure what call I'm missing there
`.sign(...)` first
oh, 'cause `sendAndConfirmTransaction` holds your hand too much
Calling transaction.serialize() I get `Transaction recentBlockhash required`, no idea why
can you serialize, dump and base64 the transaction?
Yeah, hmm, sounds reasonable ü§î
Which is what's getting passed: https://github.com/solana-labs/solana-web3.js/blob/15aca681eda6b89e712dec17f4797cc681f680b3/src/secp256k1-program.ts#L190
On Solana's source I find this:

>     /// - The transaction's [`Message`] is malformed such that the number of
>     ///   required signatures recorded in its header
>     ///   ([`num_required_signatures`]) is greater than the length of its
>     ///   account keys ([`account_keys`]). The error is
>     ///   [`SignerError::TransactionError`] where the interior
>     ///   [`TransactionError`] is [`TransactionError::InvalidAccountIndex`].
> 
So I am really clueless here. The Secp256k1 program takes no accounts
But why would that make a difference?
Something like `0x88610505f234d06D97801c86E9fc104796f3Fa59`. Those are the last 20 bytes of the keccak256 hash of the public key.
Can you show what `ethers.utils.computeAddress(eth_signer.publicKey)` actually returns?
Afaik this is literally the same as it is implemented here https://github.com/solana-labs/solana-web3.js/blob/62513cdee2ca0c4f350e811a982ca13731201a9f/test/secp256k1-program.test.ts
Hey there... I am getting "Transaction precompile verification failure InvalidAccountIndex" and I have absolutely no idea why.

Any ideas? This is while sending a Secp256k1 program instruction. Code snippet:

```typescript
        let transaction = new anchor.web3.Transaction().add(
            anchor.web3.Secp256k1Program.createInstructionWithEthAddress(
                {
                    ethAddress: ethers.utils.computeAddress(eth_signer.publicKey),
                    message: Buffer.from(actualMessageHash),
                    signature: signature,
                    recoveryId: recoveryId,
                }
            )
        );

        await anchor.web3.sendAndConfirmTransaction(
            program.provider.connection,
            transaction,
            [person]
        );
```
I don't know if this the right channel to post this, but I have a Job Offer: My friend is looking for someone with experience writing Solana smart-contracts to build a custom on-chain NFT game. Pay is very competitive. Message me if you're qualified and interested.
because only system accounts can pay fees
failed to send transaction: Transaction simulation failed: This account may not be used to pay transaction fees
Why am i getting this error
hi all! I am writing a script to retrieve staked SOL balance given a wallet address. Is that possible using solana rpc python library?
It can be rough going sometimes as the ecosystem matures for sure. I've found https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#toString fairly useful as a first stop for documentation, it reliably links to source so you can dig deeper on your own if needed.
Sure, when I reach some level, I'm sure to contribute.
when i started, there was only code. so at least we have some now üôÇ
patches welcome
Makes sense to me! That tracks with my understanding. Thanks for the response <3.

I just realized that I was conflating phantom's wrapper with your underlying endpoints, apologies - I thought you were deprecating methods, which was prompting my concern, but it's only on their end. Sorry for the confusion ^^.
Yeah, I didn't know. Read so many docs on Solana, haven't seen yet it is explicitly written/documented somewhere. Unfortunately Solana docs are terrible.
https://docs.phantom.app/integrating/sending-a-transaction#signing-multiple-transactions , which should be in the adapter as well.  as far as the user experience, thats up to the wallet, but generally these things continue to be optimized and worked on.
How did I miss that? Thanks!
your always free to create your own wrappers and libs or try to contribute to the on going web3 code base as well. and yes, things considered proposals or issues are generally welcome into the github,   questions and general discussions are generally good in the various channels here, where there are specific ones for the different repos and programs.
they are similar but different methods.  and are just part of the flexibility of signing and allowing more signers.  When you 'sign', the transaction can be generally considered complete as it also serializes and verifies. Partial is more for passing around and have signing take place where more is potentially expected. and does not serialize. Many methods are wrappers and helpers, and are evolving.  I believe web3 is being looked at again for more optimizations and even some re work. Things have been evolving very quickly!
https://docs.phantom.app/integrating/sending-a-transaction#signing-multiple-transactions it's deprecated but technically still works.
Yeah, I see in the docs now. I wonder if phantom would ever support multiple transactions in the future as that‚Äôs what I‚Äôm using now. Oh well, thank you!
<@!942045509793755147> FYI ^ (`sounds like you're holding it wrong, yes.  You don't seem to know that pubkeys, when represented as an ascii string, are base58 encoded`)
Yes, sorry. I missed üôÉ
Er, was that meant for Bayram?
sounds like you're holding it wrong, yes.  You don't seem to know that pubkeys, when represented as an ascii string, are base58 encoded
what wallet are you signing with now?  and its up to the wallets how they do this, as well. If you look at the wallet adapter.. im sure you will see üôÇ
(I'm proposing a functionality change, with the three caveats:
- I may be misusing a tool
- I may be lacking context as to why the current default behavior is better
- I'm new to the ecosystem so reluctant to assume I know best, but still want to contribute :p)
Oh, apologies, I was directed from here to there to submit https://github.com/solana-labs/solana-program-library/issues/3050, I thought it might be similar
You would just get me rolling my eyes, closing and locking the issue with a message to come here
no. we don't use github for support at all
<@!585868308419444749> just checking if a GH issue would be a more appropriate venue for this question, I defaulted to here in case I was misunderstanding something with the tooling
So use your favorite base58 decoder
No, I mean it's a base58-encoded pubkey
As a result I get 44 bytes, while a Pubkey is 32 bytes
Thank you for reply. Let me first try `FromStr`. As for "decode the bytes yourself" do you mean each char corresponds to a single byte? It is 44 char length.
Also, appreciate the help!
hey all, I'm attempting to write integration tests for a program i deployed to devnet. I am using `solana-program-test` but am wondering it's possible to see output of `msg!` macro.
What wallets have signAll? <@!785084693023424542>
The problem is I have a lot of instructions so I need like 10 transactions lmfao
Otherwise decode the bytes yourself and use the `&[u8]` ctor
`Pubkey` implements `FromStr` which assumes the string is a base58 encoded pubkey
transactions are signed per transaction.  some wallets have a signAll.  and you can also use multiple instructions, inside a single transaction as well.
I‚Äôm trying to make the user experience of a product I‚Äôm building better
I ran `spl-token create-token`and it created a toke with the following output: `Creating token 4uR5e8citykVm1yneivW9LpSe58AtiCzHzKUonP1Yepe`. As far as understand  `4uR5e8citykVm1yneivW9LpSe58AtiCzHzKUonP1Yepe` is a public key of the account for the token. If so, how can I create a `solana_sdk::pubkey::Pubkey` from a string such as `4uR5e8citykVm1yneivW9LpSe58AtiCzHzKUonP1Yepe`?
Does anyone know if it‚Äôs possible to use sol-wallet-adapter to sign more than one transaction at a time?
Let me check
i thought they would have had 'wallet' tab under code example. but if they dont here:
https://github.com/solana-labs/dapp-scaffold
there is a sample transaction.   let me check on the wallet transfer for SPL Token transfer.
Yeah, but if I don't know the private key of wallet, then how can send the sol to the other acc from wallet in typescript?
Thank you for that clarification.  What I was worried about was that *some other program* could create the same PDA using its own program id and seed that results in the same address.  Would still be off-curve, but would not be under my program's control.  But I have come to understand that this is equivalent to finding SHA-256 collisions, i.e not something to worry about ...
https://solanacookbook.com/references/token.html#token
How to send the sol from wallet to other acc in typescript?
(_Probably_ a solana tooling developer question, but totally possible that I've misunderstood something and am misusing the tools available to me - if you think that's the case _please_ lmk so I can correct my understanding and use best practices ^^)

Sign: overwrites existing signatures with new Signers[]
partialSign: appends(? it may 'fill in') existing signatures with new Signers[]

Why is Sign's behavior default? I see that SignAndSend is the golden path recommended way to do things, but to my understanding that doesn't play nicely with transactions that you want to send over the wire and have a handshake on, forcing usage of partialSign/sendRawTransaction instead. I understand this isn't the most common use case, but I'm not sure I understand what the downside to defaulting to partialSign's behavior is? If we did, then there'd be one less reason that support for sendRawTransaction needs to continue
Please help me
SOS
Ah, yeah, totally
the seeds can be recovered by static analysis of the program and/or transaction payloads though, so are an insufficient authentication mechanism on their own
Think I'm misunderstanding‚Äîwhat do you mean by identity here? I was just making the example that, strictly speaking, signing for a PDA is a search problem (e.g. say a program controls a mint, or an escrow account etc.)
If the particular "signing" operation should be authenticated, some true keypair should be required to sign the TX, that signer verified and the PDA signer derived with the public key as one of the seeds
the seeds shouldn't be treated as authorization, but rather identity
(So an infeasible search problem again)
But you could  sign for another program's PDA if you can find your *own* seeds that hash with your own program_id to the same address, right?


///////////////////////////////////////////////////////////////////////////////////////////////

hey all, a bunch of us in the metaplex discord are having timeout issues when interacting with devnet, including when we upload a new candymachine and mint new NFTs. We're consistently getting timeout errors like the following, but status.solana.com says everything is green. Is there anyone that can help look at this?  ```Beginning the upload for 3 (img+json) pairs
started at: 1646417142042
initializing candy machine
Translating error Error: Transaction was not confirmed in 60.01 seconds. It is unknown if it succeeded or failed. Check signature 5c7zcmJQHbRDpZeWSMU6kogQmxHSEraC47MJSzEr7MqLDCtZVJdrorLvwSvFjwSKgkJLiJJLFZTC644ke9cXYkbm using the Solana Explorer or CLI tools.```
add signature manually
u can use offline signature
what is the best solution to transfer from these separated token account
didn't come across anything on solscan's public api that might help..
would ya'll happen to know any apis that gets price from amm?
things like this have been coming up more, and its probably time we get an example in CookBook.  Not that I am aware of. More than 1 signer examples appear to be lacking.. and because of the state of things in certain apps I see this becoming more of a thing.
Any example of dual signatures from the user on the front-end + an admin key on the backend?
Is there a way to get a list of all addresses that sent to a specific wallet?
```
Unhandled Exception: WebSocketChannelException: WebSocketChannelException: SocketException: Connection refused (OS Error: Connection refused, errno = 61), address = 127.0.0.1, port = 50790
```
Facing this error when trying to create a new token (using the flutter package), anyone else who faced this?
ok ty
Not at this time
there is a phantom discord server ?
yep
not slightly but "infinitesimally" better üòÑ
<@!812936720290283531> <@!489206164270350337> yep the file was corrupted thanks
ok i see
I posted the riptide ideas link in response to you earlier
so where can i find it?
Echoing what cqfd stated, seems people have run into this in the past with faulty `.so` files
Those are from solana-labs. Solana is a protocol
Ah, are you positive that program `.so` file is built correctly?
After talking the token program I'm calling the metaplex's metadata program (that I launched with the test validator: `solana-test-validator --bpf-program metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s deps/metadata.so`)
well, where can i find proposals from Solana?
What do you mean both success and failure? Fun looking error though
What are you doign right after talking to the token program?
I know there's currently the hackathon project list, but it may not be all encompassing https://solana.com/riptide/ideas
It seems the tx is a success but it fails after?
What does that even mean  ELF file: bad magic? ü§î
I'm working on localnet and I get the following error:
` 'Program log: Instruction: MintTo',
   'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 2960 of 1374637 compute units',
    'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success',
    'ELF error: Failed to parse ELF file: bad magic: 0x206e6f6973726576'`
yes
Project proposals like projects that anyone can create?
Hey, I have a question, do you have an uniform list of project proposals in your system?
Sol seems good for the parallelizable smart contract (ie program) runtime env but cost per byte way higher than some alt chains. We'll see if we need Sol's TPS
thanks. there are many EVM compatible alternatives to mainnet. AVAX C chain also prob way cheaper than Sol with rent
gnosis is a different story. Once usage is up to something like polygon, ethereum, solana, etc... you'll have to pay equal or higher costs. But if that's the path you want to take, good luck
vs ~14 cents for rent in Solana. ~7c for account creation + ~7c for 100b of account data
cost on Gnosis chain to do this kind of indexing post is like 1/100 of a cent
How is it? It costs a ton more to do elsewhere. You're either paying in gas costs to do the transactions on eth or managing rent on Solana. With what you say as this doesn't require info to be onchain, the external db just seems like the obvious answer cost-wise.
ok thanks. the cost may be prohibitive on Solana then
You'll have to pay rent to manage things fully on change. That's the payment
Right. If you must not have an external DB and want to use maps, that's the way to go
the only issue w that was rent
yes I did with PDAs initially. see my post above
My understanding is that everything is married together on Eth, state and logic. Therefore it is all stored for every change
If you must not use an external db, you'll have to use a map on chain. Recommend doing with PDAs https://solanacookbook.com/guides/account-maps.html#deriving-pdas
it is possible in Eth to implement this map without writing to state (like accounts) because of the way RPCs index logs.
ok, I understand Solana doesnt index logs like Eth. So no way to do this in a spam-resistant way without paying rent? Everything works in method 2, except the RPC will index others' TXs in the same way if they mention key_account. Our goal is to NOT use external DB.
Anchor exposes events using a specific log format and `onLogs` under the hood iirc
So state is stored between blocks on Ethereum. That is not the case on Solana. So in order to get "events", you'd have to store the logged events somewhere to index
Defense in depth, that's all. Makes the security folks with tinfoil hats feel slightly better üòâ
I want to be able to: 
1. query key and get value on-chain
2. query key and get TX of put on-chain
thanks, Im aware of find_program_address and generating PDAs w bump
Hi, it stands in the answer to this question https://stackoverflow.com/questions/68878330/what-is-the-seeds-in-creating-account-or-finding-the-account-in-solana-and-coul that "This 32-byte address, however, may be a point on the ed25519 curve, which means that there is a private key associated with it". Why is it a concern, the probability of finding private key to a particular public key (i.e. a point on the curve) is astronomically low anyway.
Maybe I'm misunderstanding what you're trying to do. I read it as you're trying to use a map on chain to query for accounts and get tx info.
in Eth I would emit event Put(string indexed key, string val) and then the RPCs will index
What event?
in Eth there is. Can emit an event with indexed params and then query
so there is no way to do this without external DB?
Then store your signatures for the transactions off chain and query like that
we want to use chain to timestamp and index puts
If it is not required to be on chain, don't
Why not just update your map externally via some db?
You probably need the cli tool suite https://docs.solana.com/cli/install-solana-cli-tools
only used for an external app. no need to query data on-chain
What is this map being used for?
please help me build on Ubuntu.
Hi,

I'm working on a Solana project that requires simple map functionality. 

The idea is to post TX that does put(key, value) and then be able to query key for:
- value
and 
- signature of the put TX

The data does not need to be queried on-chain and we would like to avoid paying rent.

Initially I passed key as a PDA seed so that (key, program address) maps to a unique address writable only from our program. Let's call it key_account. Then program writes to key_account and then we can query key_account for value and TX info. This works fine but costs rent, so I tried another method:

Put(k,v) TX only references key_account but doesnt write to it. Value is stored in the instruction data and optionally log. Then I can query RPC for getSignaturesForAddress to find TXs that referenced key_account. This method avoids rent, but queries all TXs that mention key_account, not just my TXs. So it's susceptible to spamming. 

Is there a solution to this?
ty ser
There's Rust/Typescript/python examples here https://solanacookbook.com/references/local-development.html#subscribing-to-events
anyone know any examples of using a websocket client for solana on the server side?
Interesting!  I'm already playing around with Postgres quite a bit for purposes of storing on-chain data for easier/quicker access.  Def going to give this plugin a look
Highly recommend that over using `getProgramAccounts`. It does incur infrastructure though to setup
If you want to get ordering/faster indexing/more control over viewing accounts, you can also run the accountsdb postgres plugin https://github.com/solana-labs/solana-accountsdb-plugin-postgres
DB implementation in Rust?  Mind blown and it's still morning - cheers guys - thanks for the guidance
this thing is not implemented fyi
just sweet sweet code: https://github.com/solana-labs/solana/blob/master/runtime/src/accounts_db.rs
https://docs.solana.com/proposals/accounts-db-replication - Actually this is about replication
Gotcha - is there documentation available?
accountsDB is solana specific
Did a google search for accountsDB but didn't find much - I was hoping to get an under-the-hood understanding - any docs available ?
rocksdb/bigtable hold ledger data (transactions).  The account state is held by a separate purpose-built database called accountsDb.  getProgramAccounts reads from accountsDb. The order is not guaranteed to avoid having to perform a sort on the RPC server
Cool thanks!  Do you know how/why that is?  Should I read into rocksDB and/or BigTable for how/why `getProgramAccounts`?
No it doesn't come back in the same order
Thanks!
Not sure on ordering
I believe it is rocksdb and BigTable for long term https://docs.solana.com/implemented-proposals/rpc-transaction-history
What kind of DB is being used to store blockchain data?  SQL or NoSQL or something else?  And a follow-up question: when I run `getProgramAccounts`, will the returned data always come back in the same order (unless of course I specify an ordering)?
PDAs exist solely so that programs can act as signers for accounts
Exactly, that clears it up. Thanks so much for your help.
So PDAness doesn't really have anything to do with it.
^ so, the answer to that is that the PDAness of the address isn't the important part, it's which program owns the account itself
Amazing thank you for the clarification. Yeah sorry I meant a PDA account, just wanted to explicitly clarify if the program is the only thing that can mutate it üëçüòÑ
So, it's totally possible to have an account owned by one program live at an address derived from a totally different program (e.g. associated tokens accounts: the account itself is owned by the token program, but the *address* is derived from the totally different associated token program).
no worries :)
Ty for the offer, devnet faucet in pins worked out for me
Ty! that worked
try the devnet faucet in the pins for this channel
hit me up with your sol address, will send you some
I think you're confusing a couple solana concepts. In solana, every account has a single program owner; this program is the only thing that can mutate the account's data or spend the account's money. PDAs are *addresses*, not accounts.
can someone send me some SOL on devnet?
gotcha
no, just temporarily broken.  The devnet faucet in the pins for this channel works though
Solana faucet empty?
You're welcome
Thanks <@!882587271172345936>
Hello everyone, I have looked throughout for an explicit clarification for my problem but couldn't find it. My question is - 

Can the PDA state be modified only by the program? Or can anyone just pop in the necessary seeds, create their own program and mutate the state of a PDA?
yes been like that for couple of hours already ... still waiting on it to work again
Hi all!

Anyone faced this before on devnet?

```
Requesting airdrop of 2 SOL
Error: airdrop request failed. This can happen when the rate limit is reached.
```

It's okay to airdrop on testnet but faced rate limiting for more than 8 hours on devnet already
Hi, whats the tls (boolen type) in clusterapirul object?? while you pass it to the connection?
another question, if the account already exists, i guess it will throw an error, do you know a parameter or a way to create it only if it doesn't exists ?
i think that's exactly what i was looking for ! thank you a lot !
it's present and accessible in other code
yup, it's there both as a sub-dependency as well as a top level dependency
Do you see that dependency in your lock file? yarn.lock maybe
Anyone seen this error before? (yes I have triple checked that `@solana/web3.js` is installed) - this is while building a react application:
```./node_modules/@solana/wallet-adapter-phantom/lib/esm/adapter.mjs
Cannot find module: '@solana/web3.js'. Make sure this package is installed.```
**Building a new explorer/inspector, short pitch could sound like:**
> explorer for devs, researchers, auditors -- no sugar coat, maximum on-chain and off-chain information, allowing sql-like approach even from CLI. Showing deserialized data owned by known programs. Usable from CLI or a library. Written purely in Rust.

Question is, what do you miss as a developer in current explorers or what are the features/tools you'd like to have packaged all-in-one, but currently need to use X, Y, Z.

What would be a killer solana explorer/inspector feature for you as a developer?
how can I fix it
Are devnet faucets and airdrops down?
hey, I am getting `Too Many Requests` errors all the time
https://docs.rs/anchor-lang/0.22.1/anchor_lang/derive.Accounts.html#spl-constraints
if you call your program, use init to create your token account there
hey! Anyone faced issues with using Option<> fields in your structs with Anchor and getting `AccountDidNotSerialize.`
=> does anyone knows the syntax to create a tokenAccount (with anchor JS) at the same time as i call a program ? (in a single transaction). thanks !
hi, i asked this morning, but got no answer, so i try my luck again üôÇ
that's why i'm doing ATM
Breakpoint and walk through the code and see why the error is coming up.
ooh, sorry. I thought it's a solana problem as the error message is 

```
fields must be array of Layout instances
```
10.000 lamports equals 1 sol ?
4 zero, so 10.000
Not good to just tag folks. I have no idea what the issue is, not a TS guru
i wrote this my code, and its transfer 1 wrapped sol
<@!814228493302497301>
Which would imply you are using the public RPC .and that is where you issue may be.. try another RPC provider
maybe check your code?
Explorer is working but not able to do airdrops and metplex upload too
agreed. just deployed a contract update
im developing for the past 6 hours and no problem
yea its not down
What could be causing this error?


```js
warning package.json: No license field
$ /home/hugs/batcave/contracts/node_modules/.bin/ts-mocha -p ./tsconfig.json -t 1000000 'tests/**/*.spec.ts'

TypeError: fields must be array of Layout instances
    at new Structure (/home/hugs/batcave/contracts/node_modules/@solana/spl-token/node_modules/@solana/buffer-layout/src/Layout.ts:1107:13)
    at exports.struct (/home/hugs/batcave/contracts/node_modules/@solana/spl-token/node_modules/@solana/buffer-layout/src/Layout.ts:2615:5)
    at Object.<anonymous> (/home/hugs/batcave/contracts/node_modules/@solana/spl-token/src/instructions/initializeMint.ts:23:52)
    at Module._compile (internal/modules/cjs/loader.js:1072:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)
```
yes
Doesn't appear down: https://explorer.solana.com/?cluster=devnet
1 billion
is devnet down?
so 1 sol equals to how many lamports?
Guys, any update on when Devnet can be available again?
Metaplex guys say the network is having issues but I can't find any info on that
Guys are there any issues on the network?
I have been having issues since yesterday when creating a candy machine.

```Translating error Error: Transaction was not confirmed in 60.01 seconds. It is unknown if it succeeded or failed. Check signature BuSNL81we2BkR4aZNVxujySRVvKEQkRRLdeAQqEnCkMgDVptk93mgpvTA97eMLhNRfcSPpu9TtbKrZAtw9t4yBw using the Solana Explorer or CLI tools.```
it's unrelated, didn't need this after all üôÇ
üôÇ
it was a bug in my code
How? Others may benefit!
i think it does, not to worry i've solved my problem a different way
does it not have a 1000 cap like the RPC API?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
Thank you! <@793009052879028254> helped me out
Whats up?
where can i inform admins to make devnet airdrop up?
Give me a few min. Im running  cargo nighly benchmarking.. soon as it's over i'll try to show the whole error (when running normal cargo test)
we can transfer the rent to another account
i mean if you your user needs that 0.002 gas
but its the best practice right? to close account when the balance is zero
-
do we have a way to check how many transactions a single address has?
Hahahaha, I should have known! Thank you very much for this
check out anchor discord they super helpful
no
how to deploy program using custom rpc url, especially anchor project.
do i always have to close account when the token account balance reaches zero?
Hii <@!814228493302497301> 
i am trying to create pool with stable token  (USDC and wsol)
so hardcode the token address mintAkey(USDC)=CpMah17kQEL2wqyMKt3mZBdTnZbkbfx4nqmQMFDP5vwp
mintBkey(wsol)=So11111111111111111111111111111111111111112
but i am facing some issues i.e...
 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]',
    'Program log: Instruction: MintTo',
    'Program log: Error: Instruction does not support native tokens',
    'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1773 of 200000 compute units',
    'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: custom program error: 0xa'
don't think that error shows anything helpful
https://spl.solana.com/associated-token-account
you can make an ATA function in js, let me find one
Hi! Guys, could someone tell me why cargo test fails on latest solana code (1.10.0). it shows this when I run it. Im trying to update my solana-CLI using WSL terminal
hi! please could you help with this?
hi! i'm curious how i can get the ATA of a pubkey without having to create it?
When you first load the code, the rust-analyzer extension gen/validates all the intellisense<sp> stuffs....
Actually sorry ignore me, seems to be working now - thanks!
Seems like there's some extra steps needed though... e.g. to get breakpoints working, tests running from the editor etc.
vscode
On this solana cookbook page, there's a reference to "the editor", but no mention of what the editor is!
https://solanacookbook.com/guides/debugging-solana-programs.html#facts

I assume it's VSCode with some extensions installed? Anyone know?
Devnet is also down, no airdrops working. And also not able to mint tokens using candymachinev2
SDK download fails every time after updating to "solana-cli 1.9.9"
please suggest any solution
This is a problem on testnet...
Invaluable help <@!788215642070581289> ! Is there some docs that canonise this behaviour or this is a solana 101 thing?
I guess you are using example helloworld.
you can change the seed to create a whole new account.
https://github.com/solana-labs/example-helloworld/blob/master/src/client/hello_world.ts#L164-L165
I think you can update metadata account by https://github.com/metaplex-foundation/metaplex-program-library/blob/master/token-metadata/program/src/instruction.rs#L279
Amazing, is this performed by rerunning the keygen step?
yes. you have to use a new account. when you create an account, its size is fixed atm.
I did and then undid those changes, is there something I need to do to refresh it?
did SOL transaction price means transaction fee ?
if yes, you can use https://docs.solana.com/developing/clients/jsonrpc-api#getfeeformessage (for solana-core v1.9 or newer)
did you do some changes to the account struct after the creation?
that's for the validator, I was using the program test runtime
there is a rate limit on official endpoint. you should host your own node or use some rpc service.
if you are using `solana-test-validator`, there is a attribute can use easily 
```
-c, --clone <ADDRESS>...
            Copy an account from the cluster referenced by the --url argument the genesis configuration. If the ledger
            already exists then this parameter is silently ignored
```
for more detailed `solana-test-validator --help`
thanks a lot!
is devnet down ?
we hv to put solana cookbook in the top of google search for every solana problem
program_test.add_account_with_base64_data
oh finally, thanks
check https://solanacookbook.com/references/token.html#how-to-manage-wrapped-sol
and add it to your test environment with
copy the data part
yes you can export with solana accounts --output=json
is there an easy way to clone a bunch of program accounts (owned by a different program) and use them in the solana bpf program test environment?
anyone know how to convert sol to wrapped sol
thank you!
started getting 429 (too many requests lol)
app wroked on devnet, and when i changed it to mainnet
anyones have suggestions on batching rpc calls?
Hey all, I have been following a tutorial to serialise some instruction data as a byte buffer but when ever it gets to this line 
```rust
let mut greeting_account = GreetingAccount::try_from_slice(&account.data.borrow())?;
```
it seems to throw this error:
`failed: Failed to serialize or deserialize account data: Unknown'`

Any ideas?
Hi all, is there a way to get the current SOL transaction price (for example through https://docs.solana.com/developing/clients/jsonrpc-api or https://docs.solana.com/developing/clients/javascript-api)
Airdrops on devnet also seem to be unavailable right now.
There seems some issue in devnet. Not confirming transactions.
yes
i created an associatedtokenaccount using native mint, but the balance is zero,
anyone know how to wrapped a sol?
hmm üòÆ anyone know :(?
Have you come across the TIMEOUT problem while connecting with the testnet of Solana?  I can successfully `curl https://api.testnet.solana.com/` . Not sure this is the problem of solana testnet or my network
```
etchError: request to https://api.testnet.solana.com/ failed, reason: connect ETIMEDOUT 199.59.150.39:443
    at ClientRequest.<anonymous> (/Users/muhui/Documents/contract_code/solana/example-helloworld/node_modules/node-fetch/lib/index.js:1491:11)
    at ClientRequest.emit (node:events:527:28)
    at ClientRequest.emit (node:domain:475:12)
    at TLSSocket.socketErrorListener (node:_http_client:442:9)
    at TLSSocket.emit (node:events:527:28)
    at TLSSocket.emit (node:domain:475:12)
    at emitErrorNT (node:internal/streams/destroy:164:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at processTicksAndRejections (node:internal/process/task_queues:83:21) {
  type: 'system',
  errno: 'ETIMEDOUT',
  code: 'ETIMEDOUT'
}

```
Yes
Hello guys can someone tell me if u can change royalties after the NFT collection is launched?  or its written in the contract and u cannot? once u deploy it? Thanks for any reply a bit confused about it
if I'm working on a candy machine I need to look at metaplex doc ?
You'll want this knowledge as well: https://docs.solana.com/developing/programming-model/transactions
ok ty I'll take a look
If you know the program and how it ingests instruction data, yes
is it possible to decrypt params of a sendTransaction method request ?
because for a token account i know that you can close it and it returns the sol, for a classic account i never tried. check closing the account ?
Classic account
<@!874377961309102162> <@!814228493302497301> thank you guys
<@!814228493302497301> replied. check this tuto : https://dev.to/kelvinkirima014/a-gentle-introduction-to-solana-2h3k
https://solanacookbook.com/guides/serialization.html#how-to-deserialize-account-data-on-the-client
can you show me an example of that?
yes
what kind of account is it ? token account or "classic" account ?
How do i send all contents of a wallet? the amount of lamports to send should be: wallet_balance - price_for_transaction. How do i calc. this price for transaction?
https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#isOnCurve
No, but you can get an account data and pull from their after you. txn
you mean call the program in JS and get a returned value ?
let me know if you found a solution üòâ
And if it is possible, how much computational points would that take?
Is it possible to return a value from a program function? For a example if i reference it in my js code?
thanks! have a good day
may be check if it's on curve ? i think if it is off curve it's a PDA. Not 100% sure. Or check the owner ? if the owner is system program then it's not a PDA, if it's a program, it's a PDA (still not 100% sure, beginner here)
what is your question ?
Is there an easy way to check if an address is a pda with web3js?
<@!721337632998817845> yes you have to know the structure of the account to deserialize it
Will check that once
It depends on the account.  Each program can encode account data in a format of their choosing
Hi all, does anyone knows the syntax to create a tokenAccount (with anchor JS) at the same time as i call a program ? (in a single transaction). thanks !
Hi guys, this is more of a general question: Using the Rust RPC client, once I get the byte array account data, how do I make sense of it? How do I know what `struct` to deserialize it into?
Thank you!
üíù https://explorer.solana.com/tx/3TDczebi571UJgM5FQ5tAAVWKLNyTA4Ye6CbKyC5kjbGXW5asCkzBimBzHCugQm8fz4axnrcu3YLif2pAYuEgPUi?cluster=devnet
Acting up indeed. Could you please share one or two to 7tsP57XgoFRAR3ghGvZEPu8aE8XG6NXecbc2U38fjGYd  Thanks
Thank you very much!üéâ
have you  checked the signer and that you have enough sol? I recognized that if this is wrong i sometime only get timeouts
Here ya go: https://explorer.solana.com/tx/3rDrNqaHUgkHDr96J9BCiXZHePsshom2dtgQBuoDcYydvVoLBm987JLiNhB5j2Q8AwixxDoVu75DbCxMHPQDunJY?cluster=devnet

It's not a lot but I'm not a devnet whale anymore.
I am getting this error while running a bpf test

```
test set_program_data_test has been running for over 60 seconds
test set_program_data_test ... FAILED
```

Here is how I wrote the test - 

```
    // created a pubkey as a program_id
    let farm_program_id = Pubkey::from_str(
        &"farmprogram11111111111111111111111111111112"
    ).unwrap();

    // gave that pubkey to program test
    let mut farm_program_test = ProgramTest::new(
        "farm",
        farm_program_id,
        processor!(processor::Processor::process)
    );

    // called the instruction
    println!("[2] Sending set_program_data transaction to farm program");
    transaction = Transaction::new_with_payer(
        &[
            Instruction::new_with_bytes(
                farm_program_id,
                &data,
                vec![
                    AccountMeta::new(program_data_account_keypair.pubkey(), false),
                    AccountMeta::new(owner_account.pubkey(), true),
                    AccountMeta::new(reward_mint.pubkey(), false),
                    AccountMeta::new(token_program_id, false),
                ],
            ),
        ],
        Some(&payer.pubkey())
    );

    transaction.sign(&[&payer, &owner_account], recent_blockhash);
    client.process_transaction(transaction).await.unwrap();
    println!("[2] Done...");
```

It is taking so much time, and in the end it fails with this error - 

```
test set_program_data_test has been running for over 60 seconds

thread 'set_program_data_test' panicked at 'called `Result::unwrap()` on an `Err` value: RpcError(DeadlineExceeded)',
```

anyone knows why this error occurs?
Thank you! Publickey is CZxDe2wDMp4J96yEozTic357mbejHAxnBTjM1fRZZjuT.
if you need a devnet SOL or two, I can send it to you now.  What's your devnet address?  The devnet faucet does seem to be acting up
there's a strict rate limit, if u spammed it they will limit u for some time
is there a convenient ts lib/function for formatting u64 spl token amounts as strings?
I can't airdrop in devnetüò≠
anyone has the same experience?
Why do you think it is?
Is devnet down?
maybe https://docs.solana.com/integrations/exchange#node-setup
```--private-rpc prevents your RPC port from being published for use by other nodes```
Not only I cannot airdrop from the devnet. I connection cannot be built with devnet, resulting in TIMEOUT error during sending transactions. Anyone has the same experiences?
How do you setup your own private RPC node? Are there any resources for that?
I see, that makes sense thanks
I don't think there's something wrong with you. I dunno, but maybe devnet is experiencing some issues and is limiting airdrop for everyone.
I guess the question now is, why am I being rate limited even though I am not breaking the Rate Limits? (I do live in an apartment, so am I sharing my IP address with everyone else in the building?)
I can't airdrop throuth CLI tool either
Yeah then it looks like I was just being rate limited
I've just sent one myself
Where do you see the transactions?
I seemed to fixed it by setting up a quicknode and using the endpoint they gave me... I was using api.devnet.solana.com and it was not working all night
The transactions are being made on devnet, though.
Is solana devnet down rn? Having trouble requesting airdrop
```
Requesting airdrop of 1 SOL
Error: airdrop request failed. This can happen when the rate limit is reached
```
Also errors when I try airdrop on https://solfaucet.com/
Hi everyone! Hope your good on friday, looking forward to the weekend! I have a quick question, I want to send all contents inside a wallet, so i want to send (everything - required gas fees for transaction)
currently im using:
```
let transaction = new solanaWeb3.Transaction();
                    transaction.add(
                        solanaWeb3.SystemProgram.transfer({
                            fromPubkey: payer.publicKey,
                            toPubkey: receiver.publicKey,
                            lamports: price
                        })
                    );
```
Thanks in advance!
MacOS
Are you using windows bro?
Bro, I downloaded WSL but then what should I do with that?
I am trying the example-hello program and get the following issue. Anyone know the reason?  The local cluster has been started. 
```
Let's say hello to a Solana account...
FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED ::1:8899
    at ClientRequest.<anonymous> (/Users/muhui/Documents/contract_code/solana/example-helloworld/node_modules/node-fetch/lib/index.js:1491:11)
    at ClientRequest.emit (node:events:527:28)
    at ClientRequest.emit (node:domain:475:12)
    at Socket.socketErrorListener (node:_http_client:442:9)
    at Socket.emit (node:events:527:28)
    at Socket.emit (node:domain:475:12)
    at emitErrorNT (node:internal/streams/destroy:164:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at processTicksAndRejections (node:internal/process/task_queues:83:21) {
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED'
}
```
a PDA must off-curve, you can use https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#isOnCurve
solana airdrop not working?
So adjust `RUST_LOG` if you aren't interested in the logs
i had like 100gb of log files once or something but i will try this first
Public RPC nodes are going to rate limit you
No you don't, `solana-test-validator` isn't high resource. it's a single node private cluster
briefly
and i want to see how a public rpc node works
hmm i would have to buy a more powerful machine
Can't you do that from a `solana-test-validator` instance?
-,-
its to see how many markets we can load on our front end before we run out of memory
Someone has to stand the fucker back up if you knock it down üòâ
Prefer you do it for more than curiosity though
testnet
or should i do it on testnet
like politically acceptable
is it ok to do stress testing on devnet
Hello!

We are developing a hardware wallet that uses Solana and we're experiencing an issue when sending transactions via RPC (both on devnet and mainnet).

Here are the steps:

1) Have two accounts, the sender and the recipient, both have some funds.
2) Try to send ALL funds from the sender to the recipient ‚Äî we do that by taking the amount of funds on the sender account and subtracting 5000 lamport from it.

In theory that should work but in practice it sometimes doesn't. The RPC error returned states that there are insufficient funds on the sender account. The error suggests the amount that can be sent instead, and the difference between the suggested amount and the one we're trying to send is 46 lamport on devnet.

46 lamport is the amount required to open an account which is confusing because the recipient account is already open, and has some balance to it.

Please explain what are we doing wrong, or where can we read up on that topic. What transactions require the additional amount needed to open an account (other than the situations when recipient account is not open)?

Thank you, 

Andy
ahhhh I see. sorry but I'm so new to all of this, all I could think of is that you'd need to maybe try with an earlier version of the package to see if it is maybe a bug introduced in the latest version and they aren't aware of it ü§∑‚Äç‚ôÇÔ∏è
Create an issue on the repo.  We don't support it here
Hello!
I want to change the mint address of my token.
My token is already on the list of the token-list github.
When I try to create a new pull request, I get the merge errors that the token name is already taken.
Also, when I try to make a change in the json file of my existing token, I get the error saying that I cannot change the existing code.

Anyone knows a solution of these?
I can't do that because the error happens within one of the dependencies of the crate I'm trying to import
Can you help me with this <@!814228493302497301> please?
indeed that was the issue üôÇ
That would do it üôÇ
thanks i will try this
i just realized i was compiling against a different solana version; pinning my version to =1.9.9 now and fixing up the code to see if that fixes it
They have for eth block chains they don't have for solana chain
Try logging `.len()` and `.capacity()` before cloning
a instructions is composed by 
1. program id
2. accounts
3. data

although you don't release a crate, you still can compose your instruction in your program.
I think that panic only happens if the length exceeds `isize::MAX`
Eh sounds like something's busted crossing FFI
FYI https://solanacookbook.com/guides/retrying-transactions.html
also there is a timeout in `sendAndConfirmTransaction`
so maybe you can only send it and implement your own confimation.
are you bringing ProgramResult to the scope with ```use solana_program::entrypoint::ProgramResult```
How do I fix this issue in the screenshot? I'm trying to import `solana-farm-sdk` in my Rust program
```
solana-farm-sdk = { git = "https://github.com/solana-labs/solana-program-library" }
```
yes you just need to call `invoke` on an instruction that you set the correct `program_id` on
i am writing an accountsdb_plugin and getting an interesting panic when cloning the transaction meta:
```
thread '<unnamed>' panicked at 'capacity overflow', library/alloc/src/raw_vec.rs:518:5
stack backtrace:
   0: rust_begin_unwind
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/std/src/panicking.rs:498:5
   1: core::panicking::panic_fmt
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/core/src/panicking.rs:116:14
   2: core::panicking::panic
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/core/src/panicking.rs:48:5
   3: alloc::raw_vec::capacity_overflow
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/raw_vec.rs:518:5
   4: alloc::raw_vec::RawVec<T,A>::allocate_in
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/raw_vec.rs:178:27
   5: alloc::raw_vec::RawVec<T,A>::with_capacity_in
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/raw_vec.rs:132:9
   6: alloc::vec::Vec<T,A>::with_capacity_in
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/vec/mod.rs:609:20
   7: <T as alloc::slice::hack::ConvertVec>::to_vec
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/slice.rs:227:25
   8: alloc::slice::hack::to_vec
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/slice.rs:176:9
   9: alloc::slice::<impl [T]>::to_vec_in
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/slice.rs:498:9
  10: <alloc::vec::Vec<T,A> as core::clone::Clone>::clone
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/alloc/src/vec/mod.rs:2472:9
  11: <solana_program::message::non_bpf_modules::versions::v0::loaded::LoadedAddresses as core::clone::Clone>::clone
             at /home/kevin/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-program-1.10.0/src/message/versions/v0/loaded.rs:34:5
  12: <solana_transaction_status::TransactionStatusMeta as core::clone::Clone>::clone
             at /home/kevin/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-transaction-status-1.10.0/src/lib.rs:233:5
  13: <accountsdb_plugin::AccountsDbPluginCloudTasks as solana_accountsdb_plugin_interface::accountsdb_plugin_interface::AccountsDbPlugin>::notify_transaction
             at ./accountsdb-plugin/src/lib.rs:111:40
  14: <solana_accountsdb_plugin_manager::transaction_notifier::TransactionNotifierImpl as solana_rpc::transaction_notifier_interface::TransactionNotifier>::notify_transaction
  15: solana_rpc::transaction_status_service::TransactionStatusService::write_transaction_status_batch
```
is this expected behavior?
hi team is there any way i can call function of other solana program in my solana on chain program.

I know we can use CPI but given that we donot have crate of source code of other program but we do have abi of the program.
Yea i thought thats all that was needed but seems to not work correctly all the time. May also be tied to the RPC so ill chalk it up to that lol
It's possible that mainnet rpc nodes are still catching up
Tried many times
My transaction fails after 2-3 transactions every day
try again üòÜ
Error: Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed. Check signature (long tx hash)
On Mainnet-beta.
Any solution to this?
Would someone  send me dev sol, airdrop does not work  now,  thanks, EkBuDiHNk9BkwxKzg9wDU3Q5md6hFa1wmiy7ZK6YAgwe
only found the help page https://help.phantom.app/hc/en-us
as you say, you have a lot of tx need to be signed. technically you just need to sign them.
phantom's process is the same as metamask. maybe just ask them for the features. (approve all or something)
Would anyone happen to have any statistics on Solana's data availability? I'm trying to compare Solana's availability to that of a centralized database like Dynamo DB w/ 99.99% availability.
is there a phantom specific channel i should be asking?
replacing `connection.sendRawTransaction` with `sendAndConfirmRawTransaction` from `@solana/web3.js` usually just times out with the generic `Transaction wasnt confirmed in x seconds `
instead of just the one for signall
seems to prompt for multiple approvals
``` const txns = await signAllTransactions(transactionArr);
          const sendPromises = txns.map(txn => connection.sendRawTransaction(txn.serialize(), { skipPreflight: true, maxRetries: 100 }));
          const result = await Promise.all(sendPromises);

          const confirmPromises = result.map(tx => connection.confirmTransaction(tx, 'finalized'));
          const confirmResult = await Promise.all(confirmPromises);

```
so is the `signAllTransactions` method not enough to bulk send transactions without a bunch of approvals on phantom? Figured the signed transaction is enough to push the txn through
hi trent. Please support me
`--help` knows
VRF isn't yet available on Solana unfortunately, but we've noticed the huge demand so am sure the team will be looking at it as soon as they can
Thank you!
the first weird value is the token address and the second is the recipient. That is correct.
then $ solana config set --keypair ${HOME}/new-keypair.json
i did that
I would first run $ solana config set --url https://api.devnet.solana.com
or the other way around?
i guess that the first is the token address and the second the recipient?
No problem
thanks gents
you can't limit users to burn the tokens which own by them
was not aware of that
awesome
$ spl-token transfer AQoKYV7tYpTrFZN6P5oUufbQKAUr9mNYGe1TTJC9wajM 50 vines1vzrYbzLMRdu58ou5XTby4qAqVRLmqo36NKPTg
You need to use the `spl-token` tool
yes they are however with this command:

solana transfer --from <KEYPAIR> <RECIPIENT_ACCOUNT_ADDRESS> 0.5 --allow-unfunded-recipient --url https://api.devnet.solana.com --fee-payer <KEYPAIR>

i cannot set the token address, makes sense?
<@!415075707925037058> I'm not sure but aren't NFT's just spl tokens? https://spl.solana.com/token#example-transferring-tokens-to-another-user
Is there a way to prevent users from burning spl tokens that you have minted? 

I basically only want the minting authority to be able to burn the spl token. 

I worked through this documentation today https://spl.solana.com/token and didn't see what I was looking for. 

Any help would be appreciated.
Hey guys I am trying to send a NFT from my devnet wallet to another devnet wallet but i could not find that command, someone available to help üôÇ
actually when you `solana transfer` . you have already sent a transaction. 
if you want to do something more complex like compose your own instructions. I will recommend you to write some code.
FYI lots of examples resides in https://solanacookbook.com/
hey, is it possible to send transactions via solana cli?
I accidentally brought sendgrid to its knees many years ago....mistakes happen and sometimes code is cruel üôÇ
Thanks üôÇ I accidentally slammed the public infra in a loop once and I think I got IP banned. I'll try another provider haha
airdrops broken on devnet?
I pinged them.  Use the public infra for now
yeah
Figment. Is that what you mean?
which host are you using?
It doesn't look deprecated in the docs... anyone know anything about this?
All of the sudden, `getTokenAccountsByOwner` is returning `Method not found` for me on devnet.
I spent a lot of time for it.
please help
mr frank can I have for a minute in dm
i am not able to run test example-helloworld . I built the contract and deployed it. thanks
hello, i used https://www.spl-token-ui.com/ for airdrop on devnet, but didnt received, what i missing?
Running into a weird issue. The following code works if `wallet = useWallet()` but not if `wallet = useAnchorWallet()`.. Anyone run into this before?
anyhelp ?
guys, I am new to this.. i have a created a wallet and by msitake ssent some sol's to the token adress.. I want to get it back..
carlmaxjones1#2651
There's your help
summon == ignore
Hi trent. Please help me
thank you!
I must not be querying a full archival
You need to query a node that still has the block data
I'm querying for epoch 284 which is the most recent completed epoch
hmmm, so how would I find the rewards distributed for a given validator on the most recent epoch
Yeah and the node you're querying no longer has that block data
I don't quite understand that because the api call is requesting the rewards for the validator in the defined epoch so I'm not sure how the Block doesn't exist on the node
Block 123120000 cleaned up, does not exist on node. First available block: 123132003
There's a descriptive text string too
I'm trying to hit the RPC getInflationReward and keep getting a -32001 error. Anyone know what that is?
And this as well .. if anyone could help..
Anyone?
hello, everyone. I am curious if you could deploy on devnet or testnet successfully.
anyone know what the relation between the front end signers: [account] is to the program? It seems in many tutorials, the idl signer is now the same as the signers provided by the front end rpc
are there issues with devnet atm? My test app's devnet minting is timing out consistently, nothing's changed from my end and it was working the other day, so the only assumption I have is that devnet is having issues processing tx's at the moment. I've tried minting about 10 times, got timeouts each time but one of the transactions was able to make it through.
From the docs here:
https://spl.solana.com/token#example-transferring-tokens-to-another-user

Is there a reason we don't just mint the token directly to the user's wallet. Why do we mint it to the creator's wallet and then transfer it?
<#812122623654887444>
(like a select all feature)
trying to send transactions in bulk wihtout a million popups from phantom for approvals
Running into a weird issue when using signAllTransactions with phantom. Once all the transactions are signed, should I just be able to call sendTransaction or sendRawTransaction or sendAndConfirmRawTransaction without prompting them to approve again?
I met some support people. Is this a scam?

Hi - Can someone please explain how this example works? Given the fact that we cannot use system_instruction::transfer to transfer SOL from a PDA to another wallet because the system program does not own the PDA.
```invoke_signed(
    &system_instruction::transfer(
        &pda_account_info.key,
        &to_account_info.key,
        100_000_000, // 0.1 SOL
    ),
    &[
        pda_account_info.clone(),
        to_account_info.clone(),
        system_program_account_info.clone(),
    ],
    &[&[b"escrow", &[bump_seed]]],
)?;```
This example is from the solana cookbook https://solanacookbook.com/references/accounts.html#program-1
hi, i am not able to run example-helloworld . I built the contract and deployed it. thanks
Thanks! Chainlink looks awesome. I would love to try that out if its coming up in Solana soon(ish)
Hey are there any blockchain game devs here ? I have some questions and need general quotes for the work my project requires. Let me know üôÇ
search the discord on the error or a portion of it üôÇ
Excerpted from the milestone project in Anchor Book, it is implied that any account can be "blocked" for an arbitrarily long time if any third party program tries marks it as mutable. However, I am skeptical that the implied behavior here is correct, otherwise it would be too easy to DDOS attack any account, right? e.g. in an auction, it would be possible to shut off your competition?
So, accounts are owned. It may be the system as owner, program as owner, etc. Programs themselves also have an owner (BPF Loader).
From a program owned perspective, if you collect a user discriminator in the account data then it is something easily fetched and/or filtered on. A wee bit brute force-ish but...
I've found rustString structure there, looks like there is 32b space between length and chars, and it's accepted. Thank you for great suggestion.
Might be asking a lot but are there any simple solana based permanent storage providers in the ecosystem? Bundlr looks like it has some solana compatibility but their solana bridge uses signMessage which _isnt_ compatible with the anchor wallet.
that was deprecated
hmmm are you trying to get recent blockhash?
what was changed?
getting this on devnet `Error: failed to get recent blockhash: Error: failed to get recent blockhash: Method not found",`
Is there a way to get all the accounts owned by a user? I supposed this 'definition' could be different for each program hmm.
Oracles are the way indeed. So, CC'ing in <@!415570551004725248> here, Chainlink is putting up oracles including a VRF (Verifiable Random Numbers) that would solve his question as well. This may already be deployed in `devnet` but I'm not sure....
Not in your program. Programs exist under the principles of deterministic outcomes, same notions as pure functional programs... No side effects. Things that add randomness (rand, calling out from a program to some 'site', etc.) are not repeatable from one validator to the next. I have to expect that if I run the program with the same inputs I'm confident that I will get the same outputs that validators can get consensus on.
Definitely. I think that is the easiest way to start. I also think the way that services like https://pyth.network bring data into the network from an account data perspective is interesting. The focus there is different in that the data will be consumed by many different apps, but the general idea is interesting. Ideally a generic app/protocol could make it easy for off chain code to write data on chain for a specific chain app.
Is there a way to make an RPC call at a certain timestamp/slot/block height using web3.js, spl-token, or something similar? e.g. I want to look up the token balance for an account as of sometime last month instead of right now. The only thing I see on a lot of the API calls is `Commitment` level which I don't think is granular enough for a specific time/slot/block?
Quick question, if I want to store text associated to a validated public address in my database. How does one do it?

For example, a public address creates a text that I want to store in my backend. What should I do to make sure the person POSTing that text actually owns that public address? What should I store in my DB? Thanks in advance.
For some reason it looks it's failing on `sol_log_compute_units` which I know is an anchor lib not a solana, apologies,.
Now the only code that is failing in the first one is this:
```        msg!("At the end");
        sol_log_compute_units();
        Ok(())```
But some are succeeding like so:
I have just encountered a weird error when managing an NFT mint.

Some transactions are ending up like this:
is there any way to generate random numbers
And <@!853108623860563998> Just so you both aren't thinking you can ***update*** a program owned account data from outside of the program. Of course any changes to one of those accounts has to go through an instruction submitted to the program vis-a-vis a transaction
using Cross Chain Interoperability protocols and managing escrow programs on solana.
Pardon the late replyüôèüèæ
Yes, install Solana tools in WSL/Ubuntu and run things there
https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions
Here a setup video
https://www.youtube.com/watch?v=b0nIEtIrG-k&t=105s
You should use wsl enviroment
Solana doesn't work proprly on windows
Guys, I am not able to use local test node on my pc. Can anyone help me with this error
Hey I can't use `rand = "0.8.4"` in smart contract is it normal or is there any equivalent function?
anyone knows (in rust with anchor) how to go from a PubKey struct to an AccountInfo ? i tried to_account_info() but it's not working. I'm creating a token account with my rust to send an NFT thru my transaction, but then i can't use it because the result of spl_associated_token_account::create_associated_token_account is a pubkey, not an AccountInfo object. If i create it in javascript before sending the transaction it works perfectly, but that makes me do 2 different transaction (so sign 2 messages with the wallet). So i might be missing something.... may be a way to gather the 2 transactions in order to sign only once ?
Sure, that makes sense. If you want to do a large, complex computation that you would rather not have on-chain, put the result into a program account as a <whatever>_factor that is used on other computations and updated now and then.
you can use a local test-validator in many cases,  but I would suggest using another rpc provider and experimenting with their offerings.  if you search discord history you can find many.  genesysgo, quicknode, figment, etc
Thanks for your reply. I figured it was something like that. I'm just connecting to ws://api.devnet.solana.com. I'm still unsure what that ends up doing connection-wise. Is it possible to spin up my own node that I can connect to (without having to meet the requirements in https://docs.solana.com/running-validator/validator-reqs )?
One thing I have been considering for aggregations and more complex analysis is to have code off chain that does this work and then posts those back into accounts that your smart contracts can use. Is there any libraries or tooling for this sort of thing? or is it generally avoided? Seems like a decent scheme to offload some of the non-critical processing off chain.
its hard to say reliability of public web sockets when the connection is inactive. it can be up to the configuration there.  what rpc node are you using?  and network?  you may want to use an alternative rpc from another provider, public, or paid for reliable socket connections.
Hi. I'm using a websocket to subscribe to a program id on devnet. The node seems to accept my subscription request, but after a few seconds it seems it terminates the connection on its own. Am I missing something?
glad i could help üôÇ
... Yep thats better. 3seconds for the full api call. Cheers
Better use something like:                 const connection = new solanaWeb3.Connection( solanaWeb3.clusterApiUrl( 'testnet' ), 'confirmed' );
The correct/suggested way is confirmed?
mmh i don't know which commitment is by default in metaplex, i would assume confirmed. If it is finalized, that could be one reason
using:                 const connection = new metaplex.Connection('testnet');
what transaction commitment are you using ? confirmed or finalized ?
Hi all - i'm running .SystemProgram.transfer( in nodejs = a simple transfer of SOL on testnet - its taking ~50seconds to complete. Is this expected behaviour? does that improve on mainnet? Is there something i'm missing here. Any help appreciated
yes if there are a big number of accounts, you should store the aggregate value after each transaction i guess, would be way better
Correct
<@!590982495923732511> Gotcha, thank you! I'll need to identify ahead of time what data I want aggregated and aggregate it "as I go". Makes sense.
Querying the chain for thousands of accounts each time will be quite slow
It might make sense to store that info in a global state account, like the spl token program stores information about the supply of each token
üòÆ Yeah, that, thank you!
check that https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts
Are you thinking that there would be one account that holds the addresses of all the other accounts?
IMO, you can get all accounts owned by the program and get the balance of each account ... ? (might take a BIG time if there are Ks of accounts, there must be a better way)
I'm having an hard time wrapping my head around smart contract development on solana. I wrote up a prototype that allows a user to deposit funds. The user creates an account owned by the program and transfers lamports into it. The user then calls the program passing this new account so that the program is acquainted with this new deposit. That seems fine (let me know if I'm way off the mark already), but what about more central concerns? For instance, if I want to show aggregated statistics about the program like "Total lamports deposited", how would I go about that? Do I need to keep an off-chain database with all the accounts that have funds deposited?
guys you reply all my questions, you make me save so much time üòÇ  even google has no answers for some point. This discord is GOLD thank you all üôè
oh nice ! perfect, they are there üôÇ that will help me A LOT
Not quite the solution you're looking for, but you can also go find the logs in `.anchor/program-logs/`
i don't know about jest... i'm using anchor, i'm quite new here, so i don't know if it uses jest or not. I tried to add --verbose, but got an error (tried anchor test --help => and there is no information about verbose or logs)
Oh, okay, so it's just in tests that you can't see the `msg!`s? Sorry, I'm out of my depth, but I may be able to offer a suggestion. Does the test framework use jest? By default, just swallows a lot of output...adding `--verbose` (or maybe removing it) has helped in different contexts using jest.
yes, i have some msg!(), but they don't appear here when i run anchor test, if i run the same thing in JS calling the program (without anchor test, like in a production environment, they would appear) they would appear, that's strange
Hmm, I see a logs array, but I guess those aren't the ones you're wanting to see.
checkout the wormhole hack -- they do something like that
Yes.
https://github.com/metaplex-foundation/metaplex-program-library/blob/67000f9e857ef866fad98a0e72ce73000a0f9563/candy-machine/program/src/lib.rs#L462-L479
Is there a way to check if your instruction is the first instruction in a given transaction?
in my command line tool (putty)
‚òùÔ∏è

In which context(s) do the `msg!`s not show up? "in my logs" which logs?
quick question if someone knows. I'm using anchor, so i use anchor test to deploy/test my program (devnet). In my program i have some msg!(), but they don't display in my logs when the program fails (even if it succeeds). Do anyone knows why? (which is quite strange because in JS i can get them)
solana-program-library's farms/vault program fails to build due to vipers 1.6.1 crate, with the messages something like...

`error: cannot find attribute error in this scope
note: error is imported here, but it is a function-like macro
error: cannot find attribute msg in this scope
note: msg is imported here, but it is a function-like macro`

anyone have an idea to fix this?
"hi can you google search stuff for me to copypasta"
search the anchor tutorials here:
https://soldev.app/
https://discord.com/channels/428295358100013066/517163444747894795/949011335528718336
Hey guys, can you give some github examples of programs deployed using anchor, with some actual frontend js/ts implementation of the program using phantom wallet to sign the transactions and etc?
you should ask in the anchor discord


///////////////////////////////////////////////////////////////////////////////////////////////

For all - use http://api.google.devnet.solana.com as the RPC URL for devnet if you're having issues. I'm unable to even airdrop. Even candy machine upload isn't working for on devnet
Is there a way to query solana for a list of all accounts hold SOL ? 

Ive tried the getProgramAccounts rpc, but im not sure how to get the SOL mint address.

```
curl http://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 0,
              "bytes": "TESTpKgj42ya3st2SQTKiANjTBmncQSCqLAZGcSPLGM"
            }
          }
        ]
      }
    ]
  }

'
```
How do we know what version of a program is running on chain? I'm assuming it's just always master but wanted to verify?  like for this program: https://github.com/solana-labs/solana-program-library/tree/master/associated-token-account/program ?
anyone have experience with solminter.com ? everytime i try to make a new token i get the error "Invalid Account Data" n not sure what to do
Yea something is up with devnet... airdrop is not working
does testnet work in candymachine?
Little concerned that the cause of the devnet issue in related to 1.9
devnet is definitely having issues but I haven't seen any official announcement
is there any issues with devnet !??
I tried this too but this link doesn't seem to work
hey, I am new in this and getting this devnet error "rate limit is reached" while airdropping
lol no idea
this ones pretty good: https://solanatools.xyz/faucet/devnet.html
sweet. I tried the genesys one and that didn't work, but the Google one did. Is it an official Google RPC or any idea on where it's coming from haha?
Also new here - looks that way yes
Seems it still points to devnet RPC
I tried switching between those urls and then checking the block production stats
The block hashes are the same
hey guys, how can I add a label to instruction because it currently says "Unknown" and for the SOL transfer it says "SOL Transfer"
ex. https://solscan.io/tx/gEGp6FGbTZQTymkbbnET58Ab2xg6hw6fKUjMFeuwrSyshe167mMRD6aW18eVnsDnf62wM8doPZWbwHav8DHNHHS
I'm new here so might be stupid - so this still connects to the Solana devnet chain but using a different channel?
Solution: 
1) `npm install react-app-rewire` and setup the package.json correspondingly
2) define `config-overrides.js` with fallback to `stream-browserify`
This worked for me
https://discord.com/channels/428295358100013066/517163444747894795/949619300954701874
Is anyone able to airdrop into their devnet wallet? :/ I'd appreciate some guidance here folks. :/
we need to see your Withdraw declaration
On the Solana token list repository, one of the auto-merge requirements is: 

Your pull request only adds new tokens to the list. Any modification to existing
tokens will require manual review to prevent unwanted modifications.

How do I request a manual review of my pull?
you need to use borsh
I get this error on my react frontend:
```
ERROR in ./node_modules/cipher-base/index.js 3:16-43
Module not found: Error: Can't resolve 'stream' in '/home/xxx/maypp/app/node_modules/cipher-base'
```
Any help? I did `npm install stream-browserify`  but that doesn't change anything
use key.as_ref()
ez question here, assuming there is a SOL token on Binance Smart Chain, can someone point me to an official token address?  I found another SOL there but it looks like a gaming token.

A friend has asked me to add support for acquiring SOL however his main operation is running on BSC.  There are plans to integrate natively with Solana in the future so whatever the SOL token on BSC it'd have to have an eventual path to *the real McCoy*.
```
    Program failed to complete: Could not create program address with signer seeds: Length of the seed is too long for address generation
```

looks like I can't create a PDA while using a PublicKey as a seed, is there a workaround?

this is how i created the PDAs for ref:
```
  const newPoolSeed = Keypair.generate().publicKey;
  const [poolPda, poolBump] = await PublicKey.findProgramAddress([newPoolSeed.toBuffer()], MILLION_PROGRAM_ID);
  const [lpMintPda, lpMintBump] = await PublicKey.findProgramAddress([poolPda.toBuffer(), Buffer.from("pool_mint")], MILLION_PROGRAM_ID);
```
Could make a nice twitter thread about it too or something. Long term its good for metaplex to help battletest the f out of testnet so we can figure this stuff out faster lol. Seems like there's nothing as good as an nft drop or raydium ido on testnet for it. Testnet doing 100ktps with transfers.... so apparently that is trivial.
It would yes
Would be so nice for testing things though...
Ahh I see...
Which is never something we want to have to do lol
But like it requires us to take out our private keys
No it's not
Ohh is it hard to?
We need to add those for sure
Token metadata isn't on testnet I don't think either lol
Is it hard to add? Would be great for battletesting testnet
We do not no
This example uses Borsh to deserialize instructions from Client and serialize/deserialize account data by program as well: https://solanacookbook.com/guides/serialization.html
what is the candymachine id?
Yeah I thought it was odd they were using devnet instead of testnet for it... do yall have candymachine on testnet btw? It seems like it would be good for stresstesting.
Hey, I'm also getting this error
When creating a new SPL token, is there a way to set/influence the start of the token - for example some WL tokens will have the first 3-5 characters related to their project name (e.g. DUST protocol has DUSTawucrTsGU8... $PESKY has nooot44pqe... $INV has invYVY53...) - or is it just a hell of a lot of creating tokens until you get something that resembles what you want?
same and mainnet too
Can anybody share resources on how to store data on the program account itself (for shared data)? Cannot figure out how it can done (coming from ethereum). Thanks for all the help.
When using the JS SDK
Does "Error: airdrop to <wallet address> failed: Internal error" mean anything in specific?
You have to look at the source code of the program that maintains the account data. If source not available you are kind of out of luck.
It is common to find the target structure in `program/src/state.rs` or `program/src/account_state.rs`
You will also need to understand how the program encodes data from the structure to the accounts data array (i.e. Borsh, bincode, hand-crafted, etc) so you can decode
I've been having issues with devnet for the past 18 hours and now I'm unable to even airdrop into my devnet wallet. Is anyone else able to airdrop?
Thanks. I'm looking there too but don't know which crates/files to look at. I'm trying to figure out how to get realtime swap prices on Raydium/Orca for any two tokens
I was about to ask the same
Is devnet down?
Usually, I find them in Solana's official Github repositories. May that help you.
BTW, which data layout are you finding?
hey guys, anyone know why everytime I deploy, the transaction is successful but it says waiting for next block and fails after resigning.
Guys I'm reading through the Solana cookbook and trying to figure out how to deserialize account data in Rust. It says that doing so
> requires knowing the data block layout.

but how do I get there in the first place? How do I know what the data structure of the bytes are supposed to look like in general?
That works! Thanks :)
Ok, thanks.
for both devnet and mainnet
you can use genesys go's as well
You can try `http://api.google.devnet.solana.com` üòÄ
If u happen to know
What about for airdropping on devnet? None of the faucets work for me atm
For **getBlocks** api,  use `http://api.google.mainnet-beta.solana.com` instead. It successfully returns.
BTW, I use `http://api.google.mainnet-beta.solana.com/` as a temporary substitution for the solana mainnet JSON RPC endpoint...
Would really appreciate if anyone knows the reason or fix
whenever I try to airdrop
^^ I'm also getting this in devnet
The solana's mainnet JSON-RPC **getBlocks** returns **429** error code...
`
{"jsonrpc":"2.0","error":{"code": 429,"message":"Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": 1 } 
`
Does anyone know the reason? 
Thanks.
Hey how do I call price of btc in smart contract?
Once I call the RPC API's `get_account_data()` RPC method, how do I make sense of the byte array data?
[rant over]
Guys, i'm sorry to say this, but i've never worked with such a well funded group (recently, an extra $314 million...) with such poor code quality/inconsistencies. The "guides" say one thing, stackoverflow another, the "tests" inside github another... so poor. Again, sorry to say this but working with this makes me want to pull my hair out. I'd happily pay ‚Ç¨‚Ç¨‚Ç¨ for one of your developers for 2hours to sort this out on my side
Is there any way to replay a few blocks of transactions locally, but also preserving the slots which those blocks had?
beautiful, thank you <@!445425471027544095> so much.
These are the elgamal operations that are supported: https://github.com/solana-labs/solana/blob/master/zk-token-sdk/src/zk_token_elgamal/ops.rs#L14-L77
It's only on the master branch at the moment and not available on devnet/testnet/mainnet
any docs for the syscalls. I purely need the curve operations so I suppose that it possibly meets my need.
We're added additional syscalls to work around this limitation, by moving the extra compute out of BPF.  The syscalls we've added are currently SPL Token specific, but longer term there's definitely interest in exposing more general syscalls to support zk stuff.  <@!768486252168216647> has been looking at this a little but I don't think there's more than a high-level idea right now.
<@!445425471027544095> Hi, i've just been active in developing zero-knowledge verifiers on Solana programs and using `ed25519-dalek`. It's clear that the lookup table of the lib is too large for the stack limit of bpf target. However i saw zk-spl-token using `ed25519-dalek`, i wonder how you guys could use it without the issue. Please give me a direction to work around this. Thank you so much.
If I close Wrapped SOL account which has balance, do I get the balance back automatically? No need to first move funds and then close?
How do I create randomness in Solana
 I found some "oracle" solutions but Chainlink oracle just works on devnet
How do I create randomness on Solana mainnet?
(For a Solana game which includes lottery in it)
anyoneelse getting timeout issues on devnet today?
sorry din't checked the message.

Worked üëç
does the faucet in the pinned messages for this channel not work for you?
Can some send 2 (or 1) SOL (devnet),? I really need some for testing

Address : goJLTUoCbuicUnt1F7LQYednYjE3ti7UEd6JB7shgAU
who here knows python @here
is it still broken?
Too broke now aha
send me too
:D
On worst news, I accidentally sent 2.4 sol so a generated random address because i forgot to switch to devnet when testing. HML
Same
Dude thats why I'm here. I want to finish a gemfarm but need to test it on the devnet first
?
Hey can I use chianlink data feeds on mainnet
it is realted with solana I guess
Yeah I am having too
Hi, I'm having issues to airdrop SOL on Devnet (with account just created for instance or in SolFaucet as well), am I the only one ?
Anyone having issues with transactions erroring out/ getting node behind errors all day?
like theyd either both work or both fai;
but that wouldnt cause that to happen tho
so not realistic
devnet is like 3 servers
devnet tests wouldnt make sense
Hmm I wonder if it's possible devnet is still being spammed? There were some spam tests being run on it. https://twitter.com/hosseeb/status/1498703826152398855?t=Adp0YtvBRgNmnlD7xlhXjg&s=19
Please someone help me to look into this
Hi,
I¬¥m running into a very frustrating error when try to upload the files on devnet. A few days ago it worked but now I¬¥m getting this:

Beginning the upload for 2 (png+json) pairs
started at: 1634975178415
wallet public key: **************************************************
Processing file: 0
initializing config

Translating error Error: Transaction was not confirmed in 60.02 seconds. It is unknown if it succeeded or failed. Check signature ExXMKE2JHoCKYqXXAab71UAuh9oeYJZNWCypXEhpKJdWUFxpr7ui8dZyd2LsnzGYFN7wuvfeLvQfe3ukzdypsb
maybe take a look at https://solanacookbook.com/references/accounts.html#how-to-close-accounts
Thank you!
The account is owned by my program. If I can't use system program transfer, is there any other way?
from <#428295358100013069> : So a ton of people (including myself) are getting txn timeout errors with the candy machine program on devnet. I deployed the same program to a separate address and it seems to work fine and doesn‚Äôt timeout at all. Not sure why this is but I just wanted to mention that if perhaps someone knows the answer
did you mean the account is owned by your program or it is just a PDA of your program?
if this account owned by your program, you can't use system program transfer to withdraw SOL.
if this account is a PDA, you should use invoke_signed to call system program transfer
I got an error when I run.

Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: Cross-program invocation with unauthorized signer or writable account
Here is my current code.
How to withdraw lamports from program owned account?
you want to learn as much as you can, especially if you already launched.
first i would re read this and make sure your familiar with it. 
https://raydium.gitbook.io/raydium/permissionless/creating-a-pool

anything your not familiar with google or ask about in the raydium discord. many channels and dev are busy, it might take several attempts to get an answer.  Id also use search terms in github, and in raydiums github source downloads, and their UI..  most protocols have an SDK, where available, that might talk about pool price, or calculating price. or price quotes.  

uniswap has some good general docs to, among others for understanding concepts.
https://docs.uniswap.org/protocol/V2/concepts/advanced-topics/pricing
first time developing on a blockchain as well
hoping to learn as much as we can!
first time üòâ and yes permissionless pools. but doesn't each pool have a quoted price for the tokens?
thats not really how pools work. they dont just offer price feeds. did you setup a permissionless pool on raydium or what did you do? have you developed with pools before?
No need for any additional detail
Just literally the price lol
but what do you want? a list of trades that happen, or to calculate price based on the pool?  or what exactly.
We have our own dapp so we want to pull the price information in there.
Our token which we just launched. We setup a liquidity pool on Raydium and the LP has gotten some trades in.
what exactly do you want a price feed of?
thanks <@!788215642070581289> and <@!785084693023424542> I've asked on Raydium's discord too but their devs are not online atm - just the CMs who don't have the answers. Since the info is on the chain, I was hoping to find other devs that have done it before since it's probably most apps would want to have.
may want to ask the raydium discord as well. many protocols have some sdk and or api now.
maybe take a look at their sdk https://github.com/raydium-io/raydium-sdk
Thanks a lot for the tip! Will try!
That is really weird. I literally just turned on the devnet. First time user.
its probably easy but we cant seem to find any documentation on it
hello solana fam, we just launched our token with the LP sitting on raydium. does anyone know how we can get a price feed?
Yeah I think I'm missing the buffer part I was getting strange errors using trying to use BorshJ I'll see if I can figure it out now thanks manüëçüèΩ
I don't know if he did but there are a few things. From the client side when you get the response:
1. You first have to decode the base64 string `data:` into a buffer
2. You need to know what `encoding/serialization` framework the program that wrote the data  used (e.g. Borsh, bincode, etc.)
3. From there, you need to `decode/deserialize` using the same framework.
Did you ever figure this out?
ok thanks
Single
does the  `get_multiple_accounts`  fcn count as a single RPC call or multiple?
Yeah, unless a program signed for it I guess
it's signed for
I mean it has to be
I assume it's an ecdsa adress
What kind of address does it live at? No reason you can't sign for the address of a token account (not totally sure why you'd need to do that, other than when you initialize the account there)
One example by the way is an asssociated token account. They all live at PDAs derived from the associated token program.
for context I'm looking at a tx that includes a signature for a token account
Hm. So strange
PDAness of the address is purely about how you sign for the address (only the deriving program can do it). It has almost nothing to do with the account itself that lives there
Nope, you can access an account at a PDA like any other account
I think so (havent done this myself) https://docs.solana.com/developing/programming-model/transactions#transaction-format
it is impossible to generate a signature for a PDA, and signing for the PDA is allowed if the PDA is derived from the executing program ID. *Accessing* the PDA is allowed for any program
Do you know if a signature has to be passed in the message in order to access a PDA at a later point during execution?
Can you access the text of signatures inside of a program?
From the docs here, I don't see any such restriction, or mention that the account must be a PDA for any reason https://spl.solana.com/token#creating-accounts
It does store a balance and point to the owner, but that doesn't mean a private key doesn't exist for the account. Signing for the account is not the same as having write access, most protections are enforced by runtime policy AFAIK: https://docs.solana.com/developing/programming-model/runtime#policy
It should be easy enough to test and I'll let you know later if I end up doing it on devnet or something.

That being said, after calling InitializeAccount with the TokenProgram, the account is assigned to the TokenProgram, so signing for the account wouldn't do much (cannot use SystemProgram transfer for example). It might be used by the marketplace for some other purpose.
Token accounts can be stored at whatever kind of address you want
it just stores a balance and points to its owner
It's a token account, so I don't think it can have a private key
in the mean time. may try a different rpc provider or a local validator if you can.
appears so.  dev appears to be having some issues.
looks like you're getting rate limited, just worked for me
I already switched to devnet but still keeps getting this:
```
solana airdrop 1
Requesting airdrop of 1 SOL
Error: airdrop request failed. This can happen when the rate limit is reached.
```
Is the airdrop broken at this moment?
maybe I'm confusing myself at this point but I think SPL token accounts are not required to be PDAs, right? so seems like the first signature is for the token owner (FaT), second signature is for the token account (7Ng) which actually has a private key out there somewhere. idk why the account needs to be a signer on that txn, but does this sound possible?
no clue
as for the data in the signature
thats why there have to be 2
it's a marketplace so the first signature is not the same person as that tokenss owner
interesting... tbh I don't understand the second signature shown on the explorer either. looks like an SPL token account, but I thought you just needed to have the owner's signature. sorry wish I could help :/ If your guess turns out to be right or you figure it out lemme know tho lol.
great thank you sir.
after reviewing the readme and making sure your following things correctly and still not sure how to solve the issue you may want to search github and discord for the same error. if your unable to resolve and looking at any other similar issues does not help Id file a new issue. thats the best way to get support for that github.
am I in the right place to ask about pull request errors on github ?
and doesn't actually try to verify the program address's signature
vs when you construct the tx with its builders it knows what is going on
where when deserializing the message it interprets the pda signer as an actual signer
I guess it must be a web3 issue
And if I only sign the first one, web3 gives me a 'signature verification error' when I try to send the tx. I guess thats because the 2nd one is 'signature' for a PDA, which can not be generated.
any help on my above question? üôÇ
not one
it gives me 2 signatures to sign
I'm having problems because when I'm trying to reconstruct a tx from a serialized message
Interesting
I think you're correct, my understanding has been that the runtime has the currently executing program ID as trusted input (since the runtime loaded the program). From this it can re-derive the PDA using the seeds and the program ID and see if it matches. Then it will accept the program ID as a signer, even if there is no literal 'signature'. If that's not the case though I'm also curious how this could work.
reading on-chain data: what is the typical read time on average?
I don't understand how a program address can ever generate a valid signature
Within the TX that I sent there are 2 distinct signers with different signatures. One is the fee payer, a normal account, but the other is a data account
I think it's a fair question, I'd look here though: https://docs.solana.com/developing/programming-model/calling-between-programs#private-keys-for-program-addresses

If I understand correctly, there is no such thing as a PDA signature
what dont you understand?
I have just told you how they work.. and gave you several links.
looking at this is not going to help you understand their signatures.  going through the cookbook and understanding how PDAs work will.
I don't understand how pda signatures work
Yeah, bad phrasing on my part
its not a problem.. with PDAs.
and my understanding of their signatures
its a problem with PDA's
well its not a problem specific to this marketplace
why dont you go ask the marketplace about understanding their transactions?
I picked a random recent tx that constituted a purchase transaction
I'm doing research on a marketplace in order to buy listings outside of their main UI
how did u come across this transaction specifically, why are you examining it? and relating pdas to it?
I mostly understand PDA's already, this transaction confused me so I came here
why are you looking at this transaction to understand pdas?
is that just random data
one is a program account -- a pda (I think)
and it has 2 signers with signatures
https://explorer.solana.com/tx/4QeYQBmpnneLBQtbiK1pQMUKsmV5ZYposyLYeMaGNi5UeBXyyEcXdioEXwgqxduqAzb2NuUzn1M6LA45RKP47ohT/inspect
I see this tx
Ok, I'm probably confused
you cannot sign on behalf of a program from a client or another program.
Hello, I'm hoping to get some help on a pull request error for a new token - I'm getting this error: "asset file for unknown token found", I have no idea what that error points to, any help would be great ty üëç
signing can only be done from inside the program.  that is the point of it.
I generate the signature that I see in on-chain transactions
I just don't understand how, given some pda-pubkey P
repeat until its not on the curve
decrement nonce/numbeer
if on ecdsa curve
PDA = hash( program + some identifier data)
Yes
you read and walked through this?
https://solanacookbook.com/references/accounts.html#how-to-create-pdas
From what I see PDA signatures are *just* the pda pubkeys?
After reading more I'm still a little confused.
Makes sense. I will transition over there. Thanks for the help!
did you read the all the cookbook related docs on accounts and PDAs, the guide is an explainer. the code and more descriptions are in the references under accounts.. many examples throughout.
if your doing all that youll want some background:
https://docs.solana.com/cluster/overview

and there are installation guides for setting up your own nodes and validators. its possible there are some aws, gcp, docker, or related network instances and scripts that others have built to help do these things, but I am not aware of any specific resources off hand.  You will have better luck for all of this in <#560174212967432193>  and related channels.  Development-Support is geared at development where the other channels might be more geared toward infrastructure, maintenance, and setup.
Still a little confused on how I generate them
they are derived, and when derived in the program or used for signing seeds in a program they can be used to sign on behalf of the program/account.  
https://solanacookbook.com/core-concepts/pdas.html
I have not seen a white paper. Where can I find it?
Did u read the white paper ?
Interesting... you may have already seen this but there is a high-level description of Solana's architecture here: https://docs.solana.com/cluster/overview

It should talk about most of the components involved but you'd probably need to start source-diving to get low-level details about how the validators are implemented. I'm no expert but I think there are a lot of edge-cases in proof-of-stake systems like Solana that validators need to handle for consensus so it's likely to be pretty hairy. In your position I might look for tutorials on a 'minimum viable' proof-of-stake chain or something like that. Good luck üôÇ
are they just random bytes?
I know program derived addresses exist
How can a program account have a signature?
Sorry, newbie to Discord. üôÇ I may be asking for something that can't be done. I have been tasked to research how to build our own blockchain and Solana was one of the suggested architectures to start with.  I was hoping there was some sort of documentation that would help me build my own complete blockchain environment from scratch, with all the necessary components. A single test node won't help me figure out how the whole system would be deployed in a live environment.
I might be misunderstanding you, but devnet is a totally valid target for testing. You can send RPC queries about the state of the Solana chain on devnet as well as submit transactions to change the state of the chain. If you want to be able to test offline though it sounds like you might want to run `solana-test-validator` locally. IIRC you can target it at `http://localhost:8899` by default.
Thanks for the reply. I have already built a validator on the devnet, but how do I create my own blockchain to test against? I would assume I need multiple servers, but I can't find anything that helps me build my own blockchain to test against.
lol
with how competent the metaplex people are I wouldn't trust that 8 day ago update
nah try this one
https://crates.io/crates/metaplex-token-metadata
Yeah that's what i am using; https://crates.io/crates/mpl-token-metadata mpl-token-metadata
if you're using that try switching to metaplex-token-metadata crate instead which is the new version of it
Is it just me or is the rpcs lagging?
I believe it had to do with me using spl-token-metadata which is pretty much considered abandoned
hahaha well if you remember / can share a snippet of it working let me know; is currently driving me crazy. Thanks!
sorry friend
but it was such a long time ago I can't recall anymore
yes
typically people use devnet or testnet for this purpose: https://docs.solana.com/cluster/rpc-endpoints#devnet If you need to build specific state on the chain there are ways to clone from mainnet, or you can issue transactions yourself after airdropping some SOL for free (think the limit right now is 2 SOL/request)
Is there a guide to build a self contained solana blockchain for testing?
This should answer your question: https://docs.solana.com/developing/programming-model/calling-between-programs#hash-based-generated-program-addresses
Sometimes you need to include a 'bump' in addition to the chosen seeds to generate a valid PDA
Hello, I am creating a PDA using user inputted fields, like so:
`find_program_address(&[payer.key.as_ref(), field1.as_bytes(), field2.as_bytes()], &program_id)`
("field1" and "field2" are strings passed in from the front end)
Most of the time, I can use this PDA/Seeds just fine with `invoke_signed`. However, I sometimes get
`Provided seeds do not result in a valid address` errors for random values of field1 and field2. Are there guidelines for what values to use as seeds for PDAs? I am just getting unlucky and `find_program_address` is just not able to generate a key? Is it considered bad practice to use user input as seeds?
I'll check w/ them in their discords then, thanks!
I am not exactly sure what quicknode's devnet looks like, or if their endpoint just points to the normal devnet
note I'm not actually making solana programs but interacting w/ existing ones on my app, mostly interacting with candy machine & other related programs, but I'll look through setting up a local validator
I have, waiting for a reply
hm ok. Probably a pretty noob question but I'm using a quicknode devnet RPC node, guess that's different than local validator? I can try and spin one up, was just under the assumption if I'm using an RPC node I should be good
Seems wrong. I would definitely still message anchor discord
okay, I just viewed a few guides on yt, and all the people that did the same thing had the same errors printed out, so I guess it's supposed to be like that
You can check ping stats on explorer https://explorer.solana.com/
Devnet isn't having congestion issues
You should be developing mostly on a local validator
hey I was wondering if in general devnet has more congestion issues than mainnet? I'm assuming this is the case due to the nature of how a devnet would probably operate, but it's just an assumption. Reason I'm asking is because apparently devnet congestion has been quite bad at least since yesterday, majority of my tx's are failing. Makes it pretty impossible to test/develop atm, but was wondering if mainnet is still having as bad congestion issues?
yeah, I'll ask there I guess
https://discord.gg/X32UY7Eg
Maybe check in anchor discord since it is part of the anchor examples?
well, Idk, it is a default example, so I don't think that there would be any errors
Just curious where your error is actually coming from if not your test. Or the test is not correct and actually failing because there isn't an await
Idk if I need to await any confirmations, but considering that this is just the default anchor project, then I don't really think there should be any errors with it
Could you link a git or gist or something
yeah, the test passes
So the test... passes? Or are you net awaiting the confirmation?
So it completes the transaction, prints the error message, and quits right after it
nothing, it just ends there
What's happening after your test?
this is what it looks like
Transactions is succeeding? Where's the error message from then
well I'm not referencing any other program. So where could I be passing in the wrong address, if it all works correctly, and the transaction is going through?
I think I'd move as much onto `Message` as possible, then leave deprecated wrappers on `Transaction`
Good idea
To avoid major breaking changes, it may be better to have some kind of utility function to get potential fees using the transaction and `getFeeForMessage`. I'll write up an issue and pass it along to the mlh web3 fellows
Did you ever figure this out?
Don‚Äôt suppose you‚Äôd know where I could find any examples?
There are a bunch of methods on the JS Transaction that should be on Message
Might be time to start bringing the web3.js API in line with the Rust ones for tx construction
Ah thank you! Looks like I just do transaction.compileMessage!
You'd have to parse through the transactions on the address
Yes
This usually means something you're doing in the program is referencing another program incorrectly, or you're sending the wrong address to begin with
A Message is part of the Transaction object
You mean addresses that have just sent SOL to one address?
An account can be written to twice in the same slot I believe. They're broken up within the slots for parallel write
Does anyone know if there is a way to retrieve all public addresses that sent to a specific wallet?
I'm a bit confused about the best way to compute fees right now in v1.9+. The getFeeForMessage seems to operate on a message, but I don't ever construct a Message right now. I just do Transaction().add(SystemProgram.transfer({...})). Is there a different way to construct Transactions that also yields a Message that I can use to compute fees?
or maybe a simpler question; how close can two write txns for the same account occur on the chain? can an account be written to twice in the same slot?
Okay, so I deployed a test contract on localhost, and it said that everything worked and it initialised, and it showed me the transaction signature, but right at the bottom, it printed this out: `Error: Program address not found.`
So, did my program work or not?
can you send me a link?
Lower level question re. accountsdb semantics that I've had trouble answering reading the code: If I want to have a total ordering of transactions (i.e. slot number + index in block), can I use the order that transactions are delivered to my plugin? right now only a slot number is passed into the `notify_transaction` method
Weird question. If I create a DAO, and it has a NFT. how do i create the instruction to list the NFT on a secondary market? (Lets say MagicEden?)
Any idea how to do this without doing it manually (e.g. separate transactions)?
Yes
When you transfer, there really isn't a trade on the other side, so I don't see how royalties are paid out
you're saying to create one of these correct? https://github.com/solana-labs/wallet-adapter/tree/master/packages/wallets
My gut says no, but I am not sure. Check out https://discord.gg/cjs49KRR and ask there
Hi all, quick question. I want to transfer (using the JS sdk) an NFT to another wallet. 
```
signature = await transfer(
        connection,
        fromWallet,
        fromTokenAccount.address,
        toTokenAccount.address,
        fromWallet.publicKey,
        1
    );
```
with such code, does it payout the creators (royalties) in the metadata?
So generally you just create a new wallet package and work from there.
https://magic.link/docs It allows you to login via email and sign transactions. Your private keys are managed by them.
I've tested before
What's magic.link?
Has anyone written a custom adapter for  https://github.com/solana-labs/wallet-adapter. I'm trying to test locally a custom wallet adapter for magic.link before opening a PR.
if it was empty it used to be a different message.  not sure why its showing a rate limit error.  I just tried once and got a rate limit error as well.  hmm.
You can also just switch the prod deploy to local cluster
You can run the explorer locally. Code is open source
Ok, so, I decided to switch to localnet, but how can I connect to it through the solana explorer for example, to be able to view everything, for example if I had it running on a dedicated machine with it's own ip?
I've been trying for the past 10 minutes
when refill? haha
<@!525758014150672405>
just tried it myself & same thing, faucet may be empty ¬Ø\_(„ÉÑ)_/¬Ø
you might just need to try it again
paste your address I will send you 10 sol
Hey, I am trying to aridrop some sol on devnet, and it is giving me this error: `Error: airdrop request failed. This can happen when the rate limit is reached.`
Although I have literally not used solana for anything on this dedicated machine.
How can I fix this or can someone recommend me some free public devnet node that doesn't have these limits?


///////////////////////////////////////////////////////////////////////////////////////////////

Thank you! Although metaplex doesnt provide that functionality
<#937905165074300999>
Hello all! Any chance I can mint a specific nft number? thank you!
why are you replying to an unrelated thread?
NTF people are not exactly known for writing good code.  They just need it to work well enough to sell the next jpeg
The unweighted skip rate is like 75% üôÉ
Interesting. Ok will look at that next
That is, candymachine client code is probably doing dumb things
Well there's nothing specific to candymachine in the core.  Nor will there ever be
The current 10% drop rate on devnet is a great opportunity to look at client code and make it more resilient to adverse network conditions
I imagine this is playing a role as well
they said to come here lol. thanks <@!585868308419444749> will ask there
You should ask on the metaplex discord.  They own candymachine.
Sounds like <#937905165074300999> problems
<@!445425471027544095> do you know if there's a fix coming for candymachine actions on devnet? all CM creation and minting timing out since friday üôÉ
heh, most of those are probably AWS addresses that get recycled once the instance is terminated üòí
I can send you all addresses to send from faucet, if you need and can be blacklisted forever )
thanks!  I don't have any excess devnet SOL to send to your faucet at the moment. But it looks like we may need to rewrite history on devnet sometime soon to clear out the abandoned stake, and if so then we'll use that as an opportunity to mint another billion devnet SOL or so (cc: <@!585868308419444749>)
I'll contact you after upgrade
getting this error: TypeError: fields must be array of Layout instances
who can help me with an <@!893467316564676698>lana/spl-token problem?
A captcha might help for a while.  IP rate limiting probably won't help as we've seen idiots willing to spin up hundreds of instances before
i'll try to add captcha / ip rate limiting tomorrow, but not sure it's helps.
that really sucks, people can be real dicks sometimes
<@!445425471027544095> looks like someone generated thousands of addresses and the faucet (solanatools.xyz) is empty. To date, more than 21k requests have been processed. Do you need addresses. I'm not sure that adding captcha will somehow fix the situation, how do you see what to do next?
Because there are a bunch of abandoned vote accounts in the leader schedule
why is devnet so broken right now, trying to do metaplex nft stuff and it just always times out
Hey all, I am please Trying to Create a Liquidity pool on Devnet, and I am wondering which dex's provide this opportunity.

Any Help will by much appreciated and exhilarating.
hey guys
im having some issues trying to upload my second token to the Solana token list. Every time I run the automerge fails and in the details dashboard says that is because of this: ‚úñ Token list does not have duplicate entries. Any ideas.
Ah makes sense I'll check thanks!
just guessing there is not only one node behind the endpoint. so sometime you can fetch data sometime you can't.
you can use `getFirstAvailableBlock` to confirm it.
Hi all‚Ä¶ is there a good place to discuss the economics of new projects? I don‚Äôt get hung up much on the development side, but more so on ‚Äúwould a token make since‚Äù or what sustainable yields can be offered given certain circumstance.
Curious if there are any chain agnostic Rust SC devs who would be interested in sharing some feedback on a learning plan to help new Rustacean Web3 friends learn the ropes.  DM me for deets
Oh i see I'll have a look.
But it still doesn't explain why the same query launched again gives me a result ? I mean I query all signatures before a given signature and the same query sometimes return an empty vec and sometimes doesn't
you can get getTransaction and parse instructions to know is there any accounts created.
you can use https://github.com/metaplex-foundation/metaplex-program-library/blob/master/token-metadata/program/src/instruction.rs#L279 to update metadata including update authoirty.
I mean the endpoints which hosted by Solana.
https://docs.solana.com/cluster/rpc-endpoints
also you can use https://docs.solana.com/developing/clients/jsonrpc-api#getfirstavailableblock
to know what's the oldest block you can fetch on current node.
you can compose instructions by yourself https://solanacookbook.com/references/token.html#how-to-create-a-token-account
I am using genesys go : https://ssc-dao.genesysgo.net/
Is it not an official endpoint ?
Okay, then comments on @solana/web3.js are wrong, this is misleading ppl
https://docs.solana.com/developing/clients/jsonrpc-api#getrecentblockhash
```
DEPRECATED: Please use getLatestBlockhash instead This method is expected to be removed in solana-core v2.0
```
what endpoint you're querying? if you want to query old data, use official endpoint will be a better idea.
Hey guys, I am querying historical transactions for some addresses and sometime the "client.get_signatures_for_address_with_config" return and empty vec while I know there are some transactions that have happened ( I'm querying MagicEden address...). 
Do you have any idea what can cause the function to return an empty vec ? Maybe the query just fails ?
that would mean that it should work for 1.8.12 no?
Also why docs say then? Deprecated since Solana v1.8.0. Please use getLatestBlockhash instead.
Tnx, but which version then of @solana/spl-token ?? As Token methods seems to be using GetLatestBlockhash too
1.8.x use https://docs.solana.com/developing/clients/jsonrpc-api#getrecentblockhash
1.9.x use https://docs.solana.com/developing/clients/jsonrpc-api#getlatestblockhash
Can this method be used on mainnet-beta? getLatestBlockhash ?? My node on QuickNode has version: 1.8.12 solana-core
Anybody have any guidance?
I'm trying to take control of a wallet and update the update authority of another NFT collection
is anybody here?
Is there a way to query solana rpc to determine when an account was created?
https://docs.solana.com/developing/programming-model/transactions
i know what a tx and ix is, but whats a message?
const getMintAddresses = async (firstCreatorAddress: PublicKey) => {
  const metadataAccounts = await connection.getProgramAccounts(
    TOKEN_METADATA_PROGRAM,
    {
      // The mint address is located at byte 33 and lasts for 32 bytes.
      dataSlice: { offset: 33, length: 32 },

      filters: [
        // Only get Metadata accounts.
        { dataSize: MAX_METADATA_LEN },

        // Filter using the first creator.
        {
          memcmp: {
            offset: CREATOR_ARRAY_START,
            bytes: firstCreatorAddress.toBase58(),
          },
        },
      ],
    },
  );
Hi, I want to fetch all mint accounts from a candymachine (v2) and tried the code from the Solana Cookbook for that (https://solanacookbook.com/references/nfts.html#candy-machine-v2), but every time the script fails with the following error:

    response = JSON.parse(responseText, this.options.reviver);
                    ^
SyntaxError: Unexpected token < in JSON at position 0 

It seems to be an Error caused by connection.getProgramAccounts.
thanks a lot
<https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignatureStatus>
How can I check if a transaction is finished or get the status?
I need something like this
```ts
while(transaction !== successfull){
  wait();
}
fetchTransactionInfo();
```
guys what is the easiest way to make a dex like page to buy specific tokens (in fixed price) and sell specific tokens (in fixed price) from a wallet or a program not a pool?
right, I overcomplicated it, I was only thinking in PDAs, thanks üòÑ
https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#constructor
Yes, data size and ownership by program ID are arguments to CreateAccount
https://solana-labs.github.io/solana-web3.js/classes/SystemProgram.html#createAccount
https://solana-labs.github.io/solana-web3.js/modules.html#CreateAccountParams
Is there a way to create an account with 5MiB size and give ownership to my contract so it can save data?
Sent 1 SOL
faucet still down?
there is not
Does anyone have a Candy Machine running on devnet? Need some NFTs minted on Devnet from a single collection
Hi, is there a way to directly use wallet such as phantom or solflare in transaction without user giving access permission from using ui module?
you can do this by next_account_infos and put the number of required keys in the second argument
Hi there!
I'm doing cross-program invocation in my program. Program that i invoking required 15 accounts. And program just do `next_account_info` for all of these 15 accounts. But when i pass 9 accounts then i get `NotEnoughtKeys` error. And when i pass 10 accounts i get `InvalidArgument` error. I dont know how to debug this case and why i get this error when i just passing accounts. Can anyone help me, please?
How do I create the instruction to send sol to a particular public key thats provided in base 58

```
SystemProgram.transfer({
        fromPubkey: provider.publicKey,
        toPubkey: <???>,
        lamports: 1,
      })
```
yeah and cant even upload nft on testnet
Hi guys, because devnet faucet is not working, could anyone help me with 1 SOL airdrop?
My address: AQZUEnSWcsyA5otxntdfZbQ34Nus3SrDeBCW57JxREMH

Thanks üôè
Airdrop + Create candy machine, mint nft on devnet with metaplex broken too.
why cant i airdrop in devnet
Hello, i create a solana wallet via CLI. How can i use this wallet in phantom?
When creating a new SPL token, is there a way to set/influence the start of the token - for example some WL tokens will have the first 3-5 characters related to their project name (e.g. DUST protocol has DUSTawucrTsGU8... $PESKY has nooot44pqe... $INV has invYVY53...) - or is it just a hell of a lot of creating tokens until you get something that resembles what you want?
bros, how do i add spl-token program to BanksClient or TestProgram?
Guys, is there any possible way that SOL in Devnet can be of value? Need help here please
helo. any1 can help with installation of solana?
Worked perfectly. Thanks a lot mate!
before submitting a transaction, it must reference a  recent block hash.
why?
if we don't, does the transaction fail?
Error: airdrop request failed. This can happen when the rate limit is reached.
i wanted to ask the same question lol
Anyone able to airdrop to devnet
Hey
I have sent nfts to him, new with sol
Just consider yourself lucky that you weren't as cavalier with real SOL
There is nothing that can be done
Nothing
Then what will happen?
Report it in the <#812122623654887444>
OMG i have been scammed üò≠
ok thank you so much üòÑ
No value other than to use for development testing
Look at the list of events, there may be a better type to listen to
Sorry guys but need help, SOL in the Devnet network has no value? I might have just been scammed üò≠
Thanks <@!814228493302497301> , imagine like I have n token accounts so I have to subcribe these accounts to the node to catch balances change, right ?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#onAccountChange
There are other 'onXXXX' events you can monitor as well
hi guys, is it possible to catch transfer token event from acc A -> B ?
ideally was looking for a websocket way to do that but this can work
thanks that is similar to what i want to do so it should work out!
Hey <@!455114989397868556> - is the team already looking into devnet issues? Is this 1.9.9 related?
How to reach out? Twitter?
yes you can. also FYI https://solanacookbook.com/references/token.html#add-balance
maybe https://docs.solana.com/integrations/exchange#poll-for-blocks
pubKey is public anyway. I don't see the risk
Gm fam! Is it possible to create and close an account in the same transaction? I want to transfer wrapped SOL to a final user and unwrap it for him in the same transaction.
Maybe somebody should reach out to solana core team. Devnet faucet is empty and testnet deployments are failing. There is no functional testnet for developers to use at the moment and has been so for the last 3 days.
What is the best way to get new confirmed blocks if `blockSubscribe` is unstable. I see `slotSubscribe` but it seems this returns processed slots and there is no way to get block info with commitment level processed.
Quick question. Are there security risks for hardcoding the `toPubkey` when sending a transaction if the recipient is always the same?
I think you're searching for this - https://github.com/solana-labs/token-list
```jokerssd@BP-desktop:/mnt/c/Users/runmi/Desktop/gif-portal-starter$ curl https://release.solana.com/v1.9.9/solana-install-init-x86_64-pc-windows-msvc.exe --output C:\solana-install-tmp\solana-install-init.exe --create-dirs
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:--  0:00:09 --:--:--     0curl: (6) Could not resolve host: release.solana.com```
keep gettign this when trying to install on WSL2 ubuntu
Same problem as above. Cannot airdrop tokens on devnet. Says rate limit reached.
how is it that devnet is still down after all this time (or at least the faucet)
How could I deploy a candymachine from the frontend?
interestingly i can do so on testnet but when trying to deploy a program it just..hangs
running into same issues as above, haven't been able to airdrop myself any tokens on devnet
is there a way to spin up a Solana test validator at slot > 0 initially?
is devnet down?
thanks for your attention.
But i'm finding web3 part to modify metadata.
Do you have any experience with that?
how do people dynamically generate metadata (token names, etc.) for new SPL tokens like LP tokens so that it is recognized by dapps in Solana ecosystem? or is it all submitted manually? it wouldn't be scalable being forced to manually submit new LP tokens everytime someone creates a new pool in DeFi apps

e.g. https://solscan.io/address/CZexS9ALC7rFzApHYnAeQJsJqzM9J18zu4xRvgLVQSHk?cluster=devnet shows this token as "Unrecognized Token"
Been having the same issue since yest
Thanks but it says faucet balance is too small... trying to init a metaplex store but it requires devnet sol. The CLI and 2 other faucets i've tried are all giving me the rate limit error. Not sure what to do, looks like it's been a problem going for a few days from some messages above? Any other way to get Devnet SOL? Tnx
https://github.com/samuelvanderwaal/metaboss
it should be correct to send a transaction with 2 instructions where the 2nd instruction depends on the completion of the 1st instruction right?

e.g. instruction 1 inits an account that instr 2 uses
Hi everyone.
I'm gonna modify nft metadata with solana-web3.
I have authority of that collection.
Plz let me know how i can do it.
No word from the team on why devnet has been effed? Low tps (100-200) range since Thursday. Kinda worried it's a 1.9.9 bug
yes you can deploy production dApps, yes solana mainnet is still considered in beta
Is main net in beta? Can we deploy production dApps on Solana ?
What's the deal with "rate limited is reached"? Trying to airdrop myself some SOL:
Two days ago I can't even receive solana airdrops on the devnet
Me too..... So struggling
Hello, I'm trying to use @solana/spl-token. I built a react app to test basic functionality calling to different functions, but I keep getting a "ReferenceError: Buffer is not defined" error in my console. I understand that Buffer is not available in the browser, only in node.js, so am I supposed to be using these functions in a browser environment directly from my webapp?
solana version: 1.8.16
How to solve this?

While deploying program to devnet, I got an error.
Hi everyone, just wondering if devnet is down. I'm trying to do a tutorial to learn Metaplex, but I'm not able to deploy anything to devnet. When I check the signature in Solana Explorer, I get a message that says "transactions processed after xxxxxxxx are not available at this time".
sent this a while ago, could someone please advise
This faucet is empty as well. Please refill the faucet. Unable to get any sol for the 3 days to deploy contracts.
Hey guys, the airdrop tool hasn't been working for the last 3 days. It keeps giving rate limited error despite regular txns going through without any issues.
Even from a new server, it is the same. I have worked with all I can on the localhost, need a public testnet for the next phase. Devnet is not letting me get sol while deploy tx is not getting through on testnet. What is this hell?
Is there any other place I can get devnet sol from?
Folks airdrop on devnet not working. testnet is working okay.
If I make that wallet default then the fee comes straight outta it
No no I know, but I don't wanna keep doing --fee-pay
okay not just me having the issue
is devnet not working. not able to airdrop sol
`    pub fn deposit(
        ctx: Context<Deposit>,
        amount: u64,
        bump: u8,
    ) -> ProgramResult {
        let admin = &ctx.accounts.admin;
        let deposit_account = &ctx.accounts.deposit_account.to_account_info();
        let system_program = &ctx.accounts.system_program;
        let lamports_to_transfer = amount;
        invoke(
            &system_instruction::transfer(admin.key, deposit_account.key, lamports_to_transfer),
            &[
                admin.clone(),
                deposit_account.clone(),
                system_program.to_account_info(),
            ],
        )?;
        Ok(())
    }`

I have following function to transfer money from wallet account to escrow account (i create ecrow account for each wallet). this is done with anchor.
how would I incorporate SPL token in this method? I would have 3-4 different SPL tokens.
Thanks for your help; it wasn't actually the crate that was the issue - it was because I needed to deploy the metadata-program locally on my localnet before any of the tests would work
thanks, sad
Hmm, yeah, not actually sure the right way to do it, but one way is to just reach in and grab the non-public thing storing the connection endpoint üòõ `connection._rpcEndpoint` (it's there even if typescript doesn't approve)
Hi~ could anyone send me some devnet tokens? every source I tried was drained... SeKK8yX4eZn9eZgZTkGMCHLfkVn3StAa6bnoBAXkw5d
quick q -- using solana wallet adapter react, how do I tell what cluster i'm on? surely this is straightforward? thought it would be a property of connection but its not
found where it's happening, ty for help ser. can't really fix but now I know the problem
Hi, I'm trying to airdrop on devnet and all of a sudden getting an error. Anyone know if there is something going with devnet?
You don't need to do it that way, you can just add the key that you want the balance on in the `solana balance` command. See `solana balance --help`
will look again and report back
there were three places where that error shows up but i don't quite know which one it is
You'll have to go step through the lending program source to see where it's happening
yep, I figured that much, but it's actually the solana lending program I am doing a CPI call to
Meaning you're using some type like `u64` or whatever, and it's overflowing (e.g. multiplying two numbers together that are too big)
You or some program you're CPI-ing to is doing some checked arithmetic somewhere, and yeah, it's overflowing
Honestly. This is it lol
I know `https://docs.solana.com/developing/plugins/accountsdb_plugin` exists, but I don't see how I could use it without having direct access to a solana validator
and now I don't know how I'm supposed to build on solana
but it seems that, since transactions don't include the state of programs after execution,  this will not work well.
I'm getting a `Program log: Math operation overflow` when using `invoke`, any idea what could be going on?
and use that to update application state
Previously I was going to get each block as it was completed
How am I supposed to build applications on solana?
no worries! Struggling is how we learn!
Hi! I was wondering if you know anyone who knows about Solana development and Web 3.0! I‚Äôm build a project and a need a team ! Thank you üôÇ
It was so obvious but I was struggling lol
Thank you soo much!
I shall try that, thank you!
GL
Oh alright i'll try to contact a mod
Iunno lol I legit started learning about this stuff properly today
Is devnet down or?
How come devnet airdrop's are not working if i may ask
Hello guys I am new to solana development and I would like to know if when use the token swap program to create pools (in my case I would like to create a pool to swap my custom token paired with USDT always maintaining the same price) it is reflected in all solana supporting swaps like raydium etc..
I don‚Äôt know if this is the best way to do wha to want to do.
Airdrop works on testnet, just not devnet
Anyone know why airdropping with cmd is down?
Try updating the config to the keypair for the wallet you want, 
solana config set --keypair ~/path/to/your/desired/kerpair.json
So you can't airdrop with cmd anymore?
Anytime!
Thanks
<@456226577798135808>
developer-support? I don't see any pinnes messages
This one
Here
In what channel?
Check the pinned message
Does anyone know why airdrops are not working?
Yep, by closing it: https://spl.solana.com/token#closing-accounts
Question, I'm just starting to learn about Solana development
I was wondering if anyone can tell me how I can change the default wallet on CLI
Whenever I use solana balance, it points to the newest wallet I created
How do I change this to a particular wallet I created before the most recent one
Is there a way to recover rent from a token-balance account?
See pinned messages for a working devnet airdrop
can u help me
I can't airdrop in devnet with this command solana airdrop 1 <RECIPIENT_ACCOUNT_ADDRESS> --url https://api.devnet.solana.com
hello guys 
i was wondering is there any unity support
Great to hear that!
It's an elf binary
You would have to decompile with something like ghidra or radare.
Yup, that worked.  Took 40min and resulted in 1.64GB response üôÇ
happy to dig through bytecode
hey, how would I go about inspecting a closed-source on-chain program to see what it's doing?
Any thoughts on this issue - https://github.com/solana-labs/solana-program-library/issues/2989 ?
Can't figure out how to fix that
Did someone have an experience with Candy Machine V2?
I receive an error when uploading assets
Translating error Error: Transaction was not confirmed in 60.02 seconds. It is unknown if it succeeded or failed. Check signature 5xNtywjZcswSjsutNs8fKWNPWeJio7efuFCoo1bux5mLUURhhw3h7Sdyp7MhrwS9SETtESuYAbaNLXxes4JLqMmw using the Solana Explorer or CLI tools.
```
    let program_client: Arc<dyn ProgramClient<ProgramRpcClientSendTransaction>> = Arc::new(
        ProgramRpcClient::new(&client, ProgramRpcClientSendTransaction),
    );
```
Guys I am having trouble making a program client - its telling that 'client' needs to be static - any thoughts?
there is no real remix-ide equiv as of yet.  the ones you found are the best in-progress apps that have some similarities.
You are a Star. Thank you so much.
Try `sudo npm install -g ts-node`
thx, works for me
Hi, is there help for me? After running "npm install -g ts-node" I get an error message. I'm going through advice on StackOverflow, but it's confusing, to say the least.
Is there a remix-ide equivalent for solana ? Use case , is to write .rs and deploy to devnet ?
I have seen this - 
https://github.com/heavy-duty/platform, can this be considered to be an equivalent ? Or is it just recommended to download solana cli anchor locally and do the testing ? , And there is also this 
https://lithdew.github.io/alon/, opinions appreciated
thanks probably shouldve been able to figure that one out üòÖ
just add both instructions
so they just have to confirm once
or essentially having multiple things being sent in one transaction using the wallet-adapter
does anyone have an example of sending sol and an SPL token in one transaction?
Thank you, let me try
For cmv2 you will have to deploy that contract too
Yes
And can I use the CMV2 or front-end without any change?
What I want to know, only I should deploy the Rust part on the localnet?
Can't say without looking at the tx
I know it and already study it
like an account maybe doesn't exist ?
I would suggest you go though the solana cookbook to get a rough understanding of the architecture first https://solanacookbook.com/
One of the account keys you are passing to the program is incorrect
I just paste my tx but I don't know what Im looking for to fix this issue ?
Would you please explain it detail?
But I'm beginner of solana
Thank you
Once you compile and deploy the program you should be able to follow the rest of the steps
https://github.com/metaplex-foundation/metaplex-program-library
but all examples are all devnet
Yeah
You need to deploy the token metadata program to localnet
Who can help me how can get the nft in the localnet?
Try https://explorer.solana.com/tx/inspector
How are you?
Hello, everyone
Hey guys I have an error with my sendRawInstruction functions, is there anyone that have an idea of this error ? ```Cross-program invocation with unauthorized signer or writable account```
<@456226577798135808> <@!582823351261855754> this rpc seems to be working for some reason `https://api.google.devnet.solana.com`
Can you get it to work right now?
No the default devnet rpc is banning ALL airdrops
Most likely you were banned for abuse and I don't see why anyone should support that behavior
The faucet is in fact well funded, https://explorer.solana.com/address/9B5XszUGdMaxCZ7uSQhPzdks5ZQSmWxrmzCSvtJ6Ns6g?cluster=devnet
hi
Alright thanks
No
Oh alright so its not on my end?
Devnet is having issues
Anyone that can help me, since today when i try to airdrop solana it gives me this Error: airdrop request failed. This can happen when the rate limit is reached. And it is a fresh wallet
No problem.
Thanks!  that worked!  You have to fake a browser user agent.  Bah.

I appreciate the help!
<@!132507837875224576> 
This works for me:

```py
import requests
x = requests.get(
    "https://public-api.solscan.io/account/tokens?account=9Wmhr1nTgTX82Y7p6C1zPo6grs6Fhx3HGKbKdHVeFDv3",
    headers={
        "User-Agent": "Mozilla/5.0"
    }
)
print(x.text)
```
Anyone that can help me, since today when i try to airdrop solana it gives me this Error: airdrop request failed. This can happen when the rate limit is reached. And it is a fresh wallet
ok gotcha
the explorer homepage usually does
The error is because the account was already created.
It is allocating space for storing the account balance and the like
Thanks a lot! Is there a website that shows the status of the devnet?
Hey guys, what does this "allocate space..." mean?
```
'Program log: Allocate space for the associated token account',
    'Program 11111111111111111111111111111111 invoke [2]',
    'Allocate: account Address { address: GXFwrSmSQ1dsNpd3BAn8JmbwVHAUQw1pNqndbYpKXNVJ, base: None } already in use',
```
Try this https://github.com/Anorov/cloudflare-scrape/blob/e510962c608382bcef5de75033d60cc98cb9561d/cfscrape/__init__.py#L60
Anyone else having problem's airdropping?
Someone has stolen all faucet SOLs on devnet, so I can't get some due to the rate limit
Could someone pls share at least 1-2 SOL with me, I'd like to post a few NFT collections üôè 
APMF1ModMjX71vxNyYgcoQLXqdtCU7mkAtn2tVJBk38a
sometimes spammers use VPNs to attack/DDOS, but if you get blocked, i get blocked on two random different IP's
I'm on VPN.  But i get the same blocked message off of VPN as well.
No I mean that is how I knew clouldflare was blocking requests
did that work for you?
that ran but i still got the blocked message
Try
```py
import requests
x = requests.get("https://public-api.solscan.io/account/tokens?account=9Wmhr1nTgTX82Y7p6C1zPo6grs6Fhx3HGKbKdHVeFDv3")
print(x.text)
```
Ah cloudflare is blocking the requests
i guess I could use python eval and save the results of curl...ugly but i'll give it a shot
it's escaping my text there, not sure how to make it "code"
import requests

response = requests.get('https://public-api.solscan.io/account/tokens?account=9Wmhr1nTgTX82Y7p6C1zPo6grs6Fhx3HGKbKdHVeFDv3')

print(str(response.status_code))
none, built in module
What library are you using?
requests module for python
curl works for me too
So maybe look into how you are making the request
```sh
curl "https://public-api.solscan.io/account/tokens?account=9Wmhr1nTgTX82Y7p6C1zPo6grs6Fhx3HGKbKdHVeFDv3"
```
Although this works for me:
that...sucks...
Not necessarily, they might have built the api only for their website
ahh gotcha, appreciate the reply!
thanks for the reply <@!590982495923732511> 

but it's an API ... the whole purpose of an API is to hit it through a script...
Not the best time to debug things
~~devnet~~ solana
Devnet is having issues
Ah ok
Hey there, would someone be able to help me solve an issue im having ?

Im building a nextjs app using solana-wallet-adapter to connect my phantom wallet.

Im trying to create  an NFT staking program where the user can send there nft to my applications wallet. 

I keep receiving `transaction failed` after approving the transaction in my wallet

Im currently using dev-net
For some reason, this rpc works `https://api.google.devnet.solana.com`
mainnet too
Devnet is having issues.
They might be blocking scripts
Continue to receive 
```
Error: airdrop request failed. This can happen when the rate limit is reached.
```
this error message when running `solana airdrop 1` on devnet. Haven't run anything for days
I'm not sure if this is the right place for me to ask this question.

I'm using Python to hit the solscan api but when I do I get a 403 error.  I'm not sure why...any ideas?

Request I am sending:
https://public-api.solscan.io/account/tokens?account=9Wmhr1nTgTX82Y7p6C1zPo6grs6Fhx3HGKbKdHVeFDv3

Why would this work through the browser but not through Python?
Try `https://ssc-dao.genesysgo.net`
Not really, an account now might have 0 balance
thanks it worked!! üôÇ
The goal simply to get a list of accounts that have SOL. I assume this would be all accounts since all accounts have to have some small portion to even been in history right?
Hmmm. Just getting timeout on this

```
‚ûú  ~ curl https://solana-api.projectserum.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "11111111111111111111111111111111",
      {
        "encoding": "jsonParsed"
      }
    ]
  }
'
<html>
<head><title>504 Gateway Time-out</title></head>
<body>
<center><h1>504 Gateway Time-out</h1></center>
<hr><center>nginx</center>
</body>
</html>
```
yeah that's what I was thinking too, seems like network congestion. Just didn't expect it to last for days
Yeah then it might be a network issue
been happening for a few days now, no code changes on my end. Been trying to figure out what's going on but a bunch of others reporting the same issues in metaplex discord
timeouts on submitting the tx
Can you explain how they are failing?
thanks for the tip, candy machine interactions still failing for me though using that RPC unfortunately
<@265896767042617345> 
```
 {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "11111111111111111111111111111111",
      {
        "encoding": "jsonParsed"
      }
    ]
  }
'
```
yeah, just looking at that now
Ah that might be because the arguments are incorrect
empty array
```
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 0,
              "bytes": "11111111111111111111111111111111"
            }
          }
        ]
      }
    ]
  }
'
{"jsonrpc":"2.0","result":[],"id":1}
```
What is the output if you use `11111111111111111111111111111111` as the program id?
Hell, even if there was a way to just grab all accounts.
Hmmm. yeah no dice on that.
Hmm good question.
Try using the system program's address


///////////////////////////////////////////////////////////////////////////////////////////////

Ah alright! Thanks for the quick response
just decided to encode the state and use its length - which isnt the ideal solution i think
State at specific slots is not stored, so you wouldn't be able to do that
Check the specification: https://borsh.io/
```
#[derive(BorshSerialize, BorshDeserialize, PartialEq, Debug)]
pub struct Tokenitis {
    pub initialized: bool,
    pub input_amount: BTreeMap<Pubkey, u64>,
    pub output_amount: BTreeMap<Pubkey, u64>,
}

```

Anyway to easily calculate the encoded length of a borsh struct
Does anyone know if there's a way to make an RPC call at a certain timestamp/slot/block height using web3.js, spl-token, or something similar? e.g. I want to look up the token balance for an account as of sometime last month instead of right now. The only thing I see on a lot of the API calls is Commitment level which I don't think is granular enough for a specific time/slot/block?
Regarding support issues that would be wallets correct?
Hi <@!397783471021359104> did you manage to limit mints per wallet? I am looking for help with that.
I had some problems today to, but 50 % went through
Skip rate is really high on devnet due to some of the validators abandoning. Looks like a restart may be happening at some point
The owner could still upgrade and screw up the logs
Anyone else experiencing timeouts on devnet? I have not been able to do a transaction on their for atleast the last 24 hours. Something with the validators maybe?
can a program update their code and still deploy to the same program address on mainnet? i.e., if I've built a parser for address X's logs - can I be reasonably sure that the logs for that program address will stay consistent?
Ah gotcha
found a solution here for now https://github.com/solana-labs/solana-program-library/issues/2683, added and installed dependency to the main json
thanks
The answer there is basically it. You'll suffer from support issues unless you drum up a community around the token standard
https://solanacookbook.com/references/token.html#how-to-get-all-token-accounts-by-owner
is there a javascript library to iterate through the token's owned by a public key
https://forums.solana.com/t/implement-a-reflection-token/5180/4

Here's the forum I found for the information below
Depends on the rent required per NFT. I believe metaplex has a tool to get the amount. Try https://discord.gg/NwMAer8W
Hey guys, how much fees it will needs for uploading a 5k nft collection?
There's some tooling over at serum to interact with their dex. Try searching there
Buying or swapping it can use web3, but it need more than just that library
Greetings colleagues, is there a guide to buy tokens or swap through solana web3 or a javascript library? I've searched everywhere but I can't find a guide?
Naming is tough
Heh, yeah, it's actually kind of funny‚Äîsolana has quite a few funny naming goofs
thanks will see more resources on it.
Ohh don't get me started on the nomenclature the community and docs are using it really confusing.
At the end of the day, in solana the only possible way to mutate an account's data or spend its lamports is by asking the *program* that owns that account to do it for you
The word "owner" is unfortunately overloaded in solana, just gotta get used to it üòî
No, unfortunately‚Äîin this case, "owner" means the *program* owner of the account
Hey guys, how much fees it will needs for uploading a 5k nft collection?
it specifically states Only a data account's owner can modify its data and debit lamports so If I create an account and am the owner with private keys this should seem possible
Nope, the system program just doesn't provide that capability (of writing data to system_program accounts)
as mentioned here https://solanacookbook.com/core-concepts/accounts.html#deep-dive
I understand this restrictions regarding the data stored on pda or address assigned to program but is it not possible to store and initialize data for normal or system owned accounts?
I'm only asking because I haven't seen too much information regarding that and the only big answer I've seen is wallets not being able to support the function
I have a question, If I wanted to use Solana for a SmartContract that functions with a tax system with auto-liquidity would that be possible on this blockchain? Trying to do research into other chains outside of BNB and Eth
Not purely from the client, you need whichever program is going to own that account to write data to it (this is just part of how solana works, *only* the program that owns an account can write data to it)
hi, I have problems with the token program tutorial, I am trying to run the code for creating the a token you can find here: https://spl.solana.com/token
Could you explain me what does it mean and how to solve it? Thanks
I get the error bigint: Failed to load bindings, pure JS will be used (try npm run rebuild?)
/home/user/solana/node_modules/@solana/spl-token/node_modules/@solana/buffer-layout/lib/Layout.js:999
            throw new TypeError('fields must be array of Layout instances');
            ^

TypeError: fields must be array of Layout instances
is that not possible?
Not on the program but using the client
yes. this is a first step, you create an account to your own program.
then you will init and serialize data in your program.
you can take a look at https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/src/lib.rs#L44
and 
https://solanacookbook.com/guides/serialization.html#how-to-serialize-account-data-on-the-program
<@895486091711365152> I would like to talk to you. What is the best way for you.
Does anybody know how to change the curveType for Solana-Labs/Oyster-Swap liquidity pool?
Given that it is running locally, I am sure there is a way. Just may take some digging
yeah i think it might, is there a way?
It doesn't sound like the craziest idea. If you could override the sys clock, would that work for you?
ok i was thinking the same thing -- thanks!
It is likely too large, yeah. You may need to break that up based on the signature type. There's a data cap on how much the rpc can transfer in one call iirc
im just calling `getSignaturesForAddress` and then `getParsedTransactions` with the signatures -- the first fcn returns up to 1000 sigs which might be too large?
It is a single call. May be related to what you've done in the past
Can't really use the test validator for this, because as far as I understand you can't override things like the sys clock which I'd need to, in order to 'replay' transactions
Whatever code you're writing should wait for the creation to complete before minting.
The context here is I'd like to index historical data by running the actual C program off chain with it's inputs. Basically wondering how crazy this idea is üôÇ
should we manually put some time for `setTimeout` for doing this or any other solution for this?
i would have thought it was a single RPC call
is it expected to get a too many requests error from a single  `getParsedTransactions`  call?
allright.. thanks mate!
That or contact creators
unit testing is valuable, but so is running it against the runtime via a local test validator
by source you mean search for projects github ??
That sounds about right. Need some `await`s in there
That's the point. Binary files are not very readable, but I believe there is some tooling that people are working on to make it better. Currently your best bet is to go after the source
That's the ELF binary (BPF byte code)
do I serialize and send data in the space field?
<@!788215642070581289> The following creates an account but I am looking for how to initialize associated data with the account.
it works indeed, bu ti get a binary file or something that is not readable... ":...ÔøΩÔøΩ...."
Yes. I know the standard way of unit testing is to have it compile to be run locally. Wondering how different that is to the runtime, and how valuable the unit tests are then.
Are you asking about writing unit tests for C programs?
So only Rust has the option to test using the banks client etc?
`solana program dump -um 9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin ./test.txt` works
thanks! but what should be the output file extenstion ? txt doesnt work
I think it's because creating & minting are two transactions, the minting transaction is executed before the creating tx is finished.
You can write programs in C today and test against the test validator. Otherwise you'd have to test in devnet
oh good. This is the info I was looking for. I read it thoroughly.
Hey <@!489206164270350337> we're not nft and `9fhvTgCDyZmKz1BDj53RoDAn8ndgrn75ALeURUGm29Pq` for this pubkey, when I first make a request, it's returning `Failed to find account` and after a secons, minting works well now.
There's some good information here to help https://jito-labs.medium.com/solana-validator-101-transaction-processing-90bcdc271143
Thanks for your reply. I will study more by referring to the answer.
How close is a C based Solana program, compiled to run locally, to actually running it on the Solana runtime? Is there an easy way to run such a program directly against the runtime locally? (without something like the test validator, just the runtime itself so the system clock can be overridden if you wanted)
My understanding is that it mostly doesn't matter. There could be some latency between when your node sends your transactions to the current leader though. Where that leader is changes often.
m is for mainnet-beta
-u means which cluster. You'll need to add `-um`
-u has to be the rpc url of either localnet, devnet, or mainnet
solana program dump 9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin ./test.txt -u 9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin                           
error: Invalid value for '--url <URL_OR_MONIKER>': relative URL without a base

?
yes.
So, the local location of my network and the local location of the nodes are pretty important, right? For example, if I live in East Asia, is it much faster to use a node in Southeast Asia than in North America?
Use the address of the program, not the url of the explorer
solana program dump -u https://explorer.solana.com/address/9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin ?
When you say transaction speed, you're speaking of how fast a transaction gets confirmed with you sending it to your own node?
Check out `solana program dump --help`
Hi everyone, I have copied Solana's BigTable instance to my BigTable instance. Now I am trying to query BigTable using Big Query permanent external table. Any idea what the table definition files should look like for tables tx, blocks, tx-by-addr? https://cloud.google.com/bigquery/external-data-bigtable https://cloud.google.com/bigquery/external-table-definition#tabledef-bigtable
so once i see a verifed Anchor program, how dump to programs byte code ?
Good to know. Thanks!
There's really no reason to start a whole node to backfill
In terms of transaction speed, which node is used has a significant meaning?  I wonder if my location and the location of my nodes affect transaction speed.
Also our tooling around this is shit
The limit is getting the right SW versions
Yeah  basically.  The plugin will emit updates while it's playing back local ledger
They would have to be anchor verified or you can dump to program's byte code and try reading it. Anchor verfied example: https://explorer.solana.com/address/9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin
Is it possible to view and read other programs as possible on eth contracts ??
If you log one of the keys that's you're running into the issue, let me know. It may be that the ATA was transferred to another account instead of the tokens in the ATA. I know some NFT marketplaces do this and it is breaking your type of flow
To make sure my understanding is correct: You can start at a previous slot, and with that can track the account history with accountdb plugin while the validator is replaying and catching up to current slot?
Thanks that pretty much answers it for me then üôÇ
Ah right
Does the accountsdb only capture finalized account state? What happens if there's a revert?
Yes, but the main concern is not the snapshot.   Rather having SW compatible with both consensus over the entire target range _and_ support for accountsdb plugin
otherwise, it's working well.
No, it's happening sometimes.
Do you have an example public key that gets this error?
Thanks anyway üôÇ
Yeah pretty much just want to capture all historical account updates for a particular account, from 6 months ago. Do you know how to get a snapshot that old?
we're using `getOrCreateTokenAcount` and `mintTo` functions and sometimes we're getting `Failed to find account`.
Hey, We're having an issue with @solana/spl-token minting.
Depends on what you want to do with it.  If you're just looking to backfill a db with accounts db plugin, probably yes.  Otherwise you'll need to elaborate your intentions
Not entirely sure on that.
My understanding is that until the cluster is restarted to remove the delinquent validators, the skip rate will continue to be high
Thanks! Do you know where one would find old snapshots? (6 months ago)
ah gotcha, thanks for taking the time to reply. so atm on devnet, it's pretty much random whether or not your transaction actually goes through then?
You could start at old and replay to catch up. Then you can use accountsdb to watch whatever you need to watch. I'm not sure on accountsdb snapshots though
Devnet has a bunch of validators that have become delinquent. Skip rate is really high, probably a good time to test retry scenarios
I'm looking for a system instruction to transfer ownership of an account but can't find it, can I just write to the owner attribute or how does it work?
One couldn't start the validator from an old snapshot, and then capture all the accountdb changes that way? Or is that not how the resync works ?
Ahh right, so it's not possible to find old snapshots from the current cluster I'm guessing?
tried using different commitments, turning off preflight but feels like I always get the same results
Not on the accountsdb side. But on the slot side yes
hey guys, i've been just playing around on devnet recently and from my experience like 90% of the time, the transaction hash I get back from `sendTransaction` never shows up on explorers. Any idea what could that be caused by?
I don't believe so, as you'll be pulling data from the current cluster. I may be wrong on this though
Is it possible to get a validator to start at a much older slot, say a few months old in order to index historical account data?
(maybe using the accountsdb plugin)
i dont thinks so -- the program has to own the token account which you want to transfer tokens from
yes indeed, thank you!
Hi, i have:
- an account X owned by ProgramX
- token account for X say tokensX
- PDA derrived from X for programX

Can i sign with PDA a token transfer from tokensX to some arbitrary address? im getting token program owner missmatch
I presume you mean 'how many instructions in a transaction'
The limit is not on the number of instructions but the total size of the transaction which includes A) Instruction data, B) Accounts for the instructions, etc. The total size can not exceed 1232 bytes
anyone knows how much transactions you can add in one new Transaction() ?
You should ask on the Anchor Discord (scroll up in this window to find an invite)
Did you write a program for your interaction with clients? Or are you just using the SPL programs?
hello, does anyone knows why 'anchor deploy' takes so much time(30m+) and still not done, what am I missing here ?
hmmm unfortunately not sure I follow
Short answer is yes, which approach you take depends on whether or you setup your  'customer'  as a data account to your program (if you are even creating that)
Is it possible to split a customer's transactions into multiple wallets?  For example, the customer is prompted to send 0.10 SOL when they visit my website and play a game - I'd like to send 20% of that to a specific wallet
You can look at https://solanacookbook.com/ for some inspiration.
I think you're going to have to ask a more specific question‚Äîideally those functions should already make sense how to use, just by looking at their type signatures.
this question
<@!937676704351133706> , thanks for your response. it has some make sense
anyway, <@!134416332509675520>  seems you are a senior dev.
could you help me?
how do i resolve this?
Compiled with problems:X

ERROR in ./node_modules/@solana/spl-name-service/dist/utils.js 16:17-34

Module not found: Error: Can't resolve 'crypto' in 'C:\Users\dell\OneDrive\Desktop\projects\web3\dapp\sugarsec\node_modules\@solana\spl-name-service\dist'

BREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default.
This is no longer the case. Verify if you need this module and configure a polyfill for it.

If you want to include a polyfill, you need to:
    - add a fallback 'resolve.fallback: { "crypto": require.resolve("crypto-browserify") }'
    - install 'crypto-browserify'
If you don't want to include a polyfill, you can use an empty module like this:
    resolve.fallback: { "crypto": false }
as far as i know, these functions were written in the syntax of Token.createMint (on spl-token 0.1.8) now its strightforward createMint without the Token object.. but im not from the solana dev team so i might be wrong
hi, anybody can help me?
I see that `@solana/spl-token` is updated to `0.2.0` as well as it provides some new functions - `createMint`, `createMintToInstruction`, `createAssociatedTokenAccount`, `getAssociatedTokenAddress`
do you have any example usage of these functions?
Hey, i want to write a program which transfer NFT against SOL coin... can someone please refer me to relevant docs ?
Once you create a mint it's there forever
Greetings colleagues, is there a guide to buy tokens or swap through solana web3 or a javascript library?
No, associated token accounts are just token accounts that live at special addresses. You can make as many token accounts for person P and mint M as you want, they just need to live at different addresses (so, can only have one *associated* token account, since its address is special)
is there a difference between a token account and a associated token account. Like if a ATA exists, then you cant create a token account for the mint seperately for the wallet seperately.?
Hey guys, quick question how do you get token mint date using rpc endpoints?
How can we remove the spl-token completely from the chain?
Hello, I am a smart contract/ web3 /full-stack developer with rich experience. I am looking for new position or project. I am very familiar with building NFT marketplace/ NFT minting sites. I suggest creative ideas for successful project, and satisfy clients with high quality & strict time-management. I have excellent communication skill with dear clients, and can provide clients with long-term support .

I can provide following features:
-  Smart Contracts on Ethereum, Fantom, Polygon, Binance Smart chain using solidity.
-  Solana/Rust for building NFT projects/ Defi app.
-  Algorand/Reach, ICP/Motoko for building NFT marketplace/ Defi app.
-  Web3 to integrate smart contracts into website
-  ERC 20/721/1155, Hardhat, Truffle, Ether.js
-  Connecting the wallets such as Metamask, TrustWallet, WalletConnect, BinanceChain Wallet.
-  Pre-sales/whitelists, staking  
-  Minting, breeding, adapting
-  Uniswap, Sushiswap, Swapping tokens 
-  Yield Farming, Lottery Smart Contracts etc
-  Beautiful websites/Lading pages

Please contact with me.
https://docs.solana.com/terminology#transaction-id
not sure how you get your first signature. to be more precise, you should get the fee payer's signatures
and also if you get a byte array, you can use base58 encode
If i get the first signature (after signing the tx with the signer), the signature is not the same as the one I receive after sending the tx. I tried decoding it to base64 and base58.
Hi, is there any better solution of connecting wallet into standalone app on iOS? Now I have to import it directly. Metamask has deeplink solution, that transfers you to the wallet app, but only on EVM.
Open an issue on the solana repo then
fee payer's signature is the transaction signature
so basically before you send your tx, you can get the first signature. it will be the tx hash of this tx.
I think it would be nice if the cli can have this functionality builtin. If I understand correctly, closing a program owned account requires me to deploy a new program that zeros out the account and transfer out the remaining lamports by manually adding/subtracting balances. Maybe the UX can be better here.
Is there a way to get the transaction signature before sending it?
A) It is not a bug otherwise everyone would experience it and B) he gave you a work around which is actually the correct way as it reflects how account balances for credit/debit are checked.
Also, you need to zero out all the data on the account in question if it is a program owned account
"This may be a bug in the runtime" is not exactly an assuring answer. And yes I did check, where did I got the link from otherwise?
There is an answer on SO... did you even check?
<#763249718339567626>
https://solanacookbook.com/references/accounts.html#how-to-close-accounts
does anyone know if it is possible to close an account that is assigned to a program? I found a stackoverflow question from a month ago but no answer https://stackoverflow.com/q/70792007
Hey guys, have some issues with candy machine v2
I'm trying to upload my assets (around 50 pngs) to devnet [I use the custom QuickNode RPC]
```ts-node metaplex/js/packages/cli/src/candy-machine-v2-cli.ts upload -e devnet -r https://***.solana-devnet.quiknode.pro/***/ -cp config.json -k ~/keypair_nft1.json -c quicknode1 assets```
But it usually get an error like this 
```Translating error Error: Transaction was not confirmed in 60.00 seconds. It is unknown if it succeeded or failed. Check signature 4HHZTJpZwN6vMDSLKEtH5oak2p5kZCALW4zYZQFw7ywHuiyzhF2zQUSR7bi1vL8BCmpB18W6tk5wfxSXLu1NgEFb using the Solana Explorer or CLI tools.```

Does someone know how to fix this? What is the problem here? Why does it fail?
it takes some time for a transaction to be finalized if that's what you are talking about
Hello everyone, I am new to blockchain development. Was wondering if there's a pdf developer manual available that I could study from? Any pdf/printable resource will be helpful. 
Thanks.
IDK if it's the same issue
I have connection error issue while deploying test program.
I am trying to use metaplex to mint NFTs, btw
Is anyone having trouble with devnet? I am having constant timeout issues since last friday
You can setup a candy Machine V2 with metaplex quite fast (less than 2h) on devnet
Is it normal for two transaction (one for creating an account and the other for filling it with data) to take from 30 secs to a minute or am I doing something not optimized?
Hey all, does anyone know the best way to get a test nft in my phantom wallet on devnet?
Does account creation involve transaction ?
Hi is there a CryptoZombies for learning Solana ?
how to solve this issue?
https://github.com/solana-labs/solana/issues/22596
I'm not sure actually, this it from one of our user. Yeah I saw that behaviour and it appeared very confusing  üòÖ. From that NFT tho, there are only these two txs and the first one is a mint tx composed by us.
Is it possible to query the spl token balance of an account at a specific timestamp?
Is there any NFT based governance DAO on solana  ?
how you composed your instruction?
and I found you transfer the token between two accounts several times.
maybe https://discord.gg/bxWHEYqw
if you use sendAndConfirmTransaction, I think you can use sendTransaction and implement your confirmation.
FYI https://solanacookbook.com/guides/retrying-transactions.html#facts
I think I might have found a weird bug - transfer tx from and to addresses somehow switched places. https://explorer.solana.com/tx/4jUPqVWPqU3bzXkbx9VkSJJj8GSR1HQKmfUvD3eAKc1yoWpDh9QBq72Ek7CAdgUEVZYmCRPy4XznaLtVuEMnirKJ                tx says transfer is:

- from:
    - token account: DfRQV8CYFadRRjDqq6uweAEiLxYgSqrX415qVuyuSSp3
    - owner: 2YkTbk9ceqeQeNLhudstKLTkCYoMGuPDbXpkoLde3KRs
- to:
    - token account: 8pUpFa2aMBC3NAzVkvAmPPFdvY9qD3e2NB9XRx7fdk4W
    - owner: E3tLG4kUDVKFYwD4d348rEPb4qQDwdwwsSnoDm3YF5Vu                          in fact it's the other way around
Can solana accounts have their size increased yet?
Could anyone please take a look?
I just get ```Translating error Error: Transaction was not confirmed in 60.01 seconds. It is unknown if it succeeded or failed```
Anyone having problems uplading candy machine?
BTW you can use https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#from to convert a byte array to a transaction object
maybe try 
 https://solana-labs.github.io/solana-web3.js/classes/Connection.html#sendRawTransaction then
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#confirmTransaction
maybe https://solanacookbook.com/references/accounts.html#how-to-create-a-system-account
been having issues on safari for iOS
does the connect phantom wallet work for anyone on iOS? https://solana-labs.github.io/wallet-adapter/example/
you can't do it atm but I think you can use getTransaction and read the post balance. I think it close what you want.
maybe https://solanacookbook.com/references/token.html#how-to-transfer-tokens
did you pass ATA program id into your instruction?
You can ask for 1 or 2 SOL on devnet
did you mean https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#serialize ?
oh, solana account address returns the result.
everytime i try to airdrop it says "airdrop request failed. This can happen when the rate limit is reached" and as i have read it wasnt working yesterday either
what is the suggested way to query the owner of an account?
What's wrong with it?
any news when devnet will be fixed :/
Here is where it is getting initialized https://github.com/solana-labs/solana/blob/f32216588dfdbc7a7160c26331ce657a90f95ae7/sdk/program/src/wasm/mod.rs. Seems like not initializing it there or making it optional would make it so that you could use it in another wasm app.
so I feel like it's got to be something with how I'm calling invoke, or setting up the Instruction
when I call from javascript client it works fine
I logged it out in the program and it seems right:   'Program log:  spl associated_token ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',
maybe wrong associated token account address?
getting:      Instruction references an unknown account ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL
    Program 984zjXzmqXkmfdWAM67ifexrTo6LjFpXn3Fw6zv5VBzJ consumed 78262 of 200000 compute units
    Program 984zjXzmqXkmfdWAM67ifexrTo6LjFpXn3Fw6zv5VBzJ failed: An account required by the instruction is missing
Can't for the life of me figure out what is going wrong...
```let ix = Instruction {
        program_id: spl_associated_token_account::id(),
        accounts: vec![
            AccountMeta::new(*funder_info.key, true),
            AccountMeta::new(*associated_token_account_info.key, false),
            AccountMeta::new(*wallet_account_info.key, false),
            AccountMeta::new(*spl_token_mint_info.key, false),
            AccountMeta::new_readonly(*system_program_info.key, false),
            AccountMeta::new_readonly(*spl_token_program_info.key, false),
            AccountMeta::new_readonly(*rent_sysvar_info.key, false),
        ],
        data: vec![],
    };

   invoke(
        &ix,
        &[
            funder_info.clone(),
            associated_token_account_info.clone(),
            wallet_account_info.clone(),
            spl_token_mint_info.clone(),
            system_program_info.clone(),
            spl_token_program_info.clone(),
            rent_sysvar_info.clone(),
        ]
   )?;
```
Can you guys see anything obviously wrong with this code:
If I go in to the created js file and delete the extra init that is getting added, it works - trying to figure out where in the code that is getting added or if there is something I can pass to trunk or wasm-pack or include in Cargo.toml that will prevent that from getting written.
Something like passing an argument for a ISO-639 code to translate the wallet adapter would be phenomenal.
Hi there, I was wondering if there was any support for localisation/translation on @solana-labs/wallet-adapter? Cheers.
I was trying to use the solana-sdk in a wasm app and am getting this error. When I use:
```rust
use solana_sdk::transaction::Transaction;
```

I'm getting an error that says it is trying to init wasm even though it has already been inited. I was looking for a no entry point feature or something to turn off. Does anybody have any suggestions on how to use the sdk for a wasm app?

```
Uncaught SyntaxError: redeclaration of function init

/**
* Initialize Javascript logging and panic handler
*/
export function init() {
    wasm.init();
}
```
is there any documentation anywhere for transfering SPL-Token from wallet to wallet on nodejs?
seeking gemworks assistance please dm
is there a way to get a balance of an account at a specific block?
Is there UI for the solana token swap program?
Guys, just trying my luck here. Is there an existing repo for a sol program that splits out the incoming fees into multiple wallets as it received or with a trigger?
Devnet is back! üòÑ
Does anyone knows what a "flat curve type" means in AMM exactly?
Can anyone recommend the best node provider for Solana.
Hello guys, is anyone here with the grant program from the foundation? I think there might be some confusion with a mixed set of proposals I'd like to contact them about.
Hey <@!937676704351133706> did you get this issue resolved ? Im running into the same problem
Does anyone have any reference to implementation of creating and  initializing accounts with data in rust ***not in Anchor*?
Ill keep looking into it
It might just be an issue with candy machine for metaplex then
Are you sure it‚Äôs not working? There‚Äôs a bunch of stuff in the last minute on solscan: https://solscan.io/blocks?cluster=devnet
I think explorer.solana.com has some cross-origin issues when trying to connect to my localhost cluster
Do I have to run the solana explorer app locally to get it to work with a local cluster?
Anyone know when the devnet will start working again?
Perfect, thankyou! üôÇ
That all comes from here (from using serde on this enum): https://github.com/solana-labs/solana/blob/master/sdk/program/src/system_instruction.rs#L143
Is there documentation on how to decode the instruction data for the system program? 

As an example I think I‚Äôve worked out/googled that if the instruction data starts 2,0,0,0 that‚Äôs a transfer of sol, and the following 8 bytes are the number of lamports. But I can‚Äôt figure out where this stuff is documented so I can generalise it and understand all the instructions of the system program
may want to submit a help ticket to phantom. never heard of this.
xD
I only have 3 wallets just cause I don't see the reason on why I need to keep track of anymore
never have encountered this issue
and it wasnt there
im not sure then
and i had to re-sign in to phantom
firefox did an update
but it was there last night before i went to bed
interesting
you probs maxxed the amount of wallets to be held then
wait you have 60 other wallets?
phantom generated
I know but is it ledger or phantom generated?
not that one
60 other wallets do
doesnt show up when i import seed phrase
this specific wallet
Esvbdz6fmMLbDMXHHGRAY83upVK6zUMxGBYAm7xLUZ5H
i use edge brave firefox and chrome
what wallet are you trying to import?
I only use brave
never used firefox
or just the separate laptop
not sure
should i also clear cache here?
the wallet is in use on firefox here
im on a PC rn
ok lemme try that
then import
restart laptop
Clear all cache, and history in brave browser
wallet was created about 48 hours ago
didnt pop up both times
hmm
tried importing on brave too
firefox
what browser are you using?
a dev friend of mine guessed "that wallet doesnt know it needs to generate that keypair with the seed value"
i dont think i was hacked as the other wallets have not been compromised and no transfers have been made
this is the wallet: Esvbdz6fmMLbDMXHHGRAY83upVK6zUMxGBYAm7xLUZ5H
Hey I have a wallet that is not showing up anymore when i import seed phrase, any idea why/how I could fix it?
if you do not know how it was derived and its not shared or public it may be difficult. I would ask the protocol or address.  otherwise in general the cookbook contains several resources on PDAs and associated code in addition to the official docs and many blogs:
https://solanacookbook.com/core-concepts/pdas.html
https://soldev.app/
the creator/payer needs to supply a signature and in the case of the cli command you need to give it the keypair if your not using the default keypair from the solana config to sign,   the signature in this case generally comes from the keypair.
i had the config and all
anyone know howb to get signature

Can i (and how) derive the program address of a PDA?
I'll check it out! thanks!
Look on the repo for the token-swap, it has JS bindings
Ask in Anchor Discord
Hello everybody! I have a very dumb (probably stupid question) but I am new to solana and I want to know, the solana token swap program, can only be used via Solana's CLI? or is there a way to have a user interface to swap tokens that are on the pool?
Please help me
So are there DEXs on Devnet / test net?
Is there anyway to make solana nfts act like a smart nft where the nft changes through usage of said nft in a game?
Or would I have to go to a smart nft specific chain like phantasma for something like this?
No problem, thank you
oh no idea then sorry
I'm using the anchor 1.9.0
`cargo build-bpf` <--- that step makes the .so file
How to rebuilding the bpf?
I found that tip on some github thread, can't find it anymore
<@!729472750934294579> happens to me often - rebuilding my bpf from source fixes it. I have no theory explaining why, but it works.
In my devnet acc, I have 8sol
Everytime, I got this error

I can't deploy to the devnet
Who can help me?
Hello, everyone

Hi. I created a basic program using anchor init.
When I run 'anchor test'
I get the following errors:

Although, the file Cargo.toml exists in C:\Users\Umair\myepicproject\programs\myepicproject
Read the room ? you mean read this channel ?
Read the room
Hey Guys, I've looking into how to mint a collection of semi-fungible tokens on Solana but I didn't find anything straightforward. is it possible using SPL ? any help is appreciated
Thanks
Any one facing similar issue?
Hey everyone, I was trying to import @ solana/spl-token and it fails to build with "Module not found: Error: Can't resolve 'crypto' in" this error.
My shit doesnt work, which once did...
Hey all, Solana networks still having issues ?
all good
so when pda ownership is changed does solana do this function again `find_program_address` or determines owner a different way?
Spend a day or two understanding the nuances of Rust, especially the memory management scheme as otherwise it isn't too far removed from C/C++
figured it out
because if i made the same pda for program2 instead, the address would be different
I've been picking up Rust as I go through solana programs + official CLI programs
the intial pda address becomes invalid?
if i create pda for program1 and change ownership to program2
solana doesnt only use rust
you could always use c++ to write a smart contract
Hey, I want to learn how to create solana programs with rust. I don't have any experience with rust though. Should I learn rust first and then solana programs ? or just learn rust with solana programs ?


///////////////////////////////////////////////////////////////////////////////////////////////

(which in turn affects how you create the account there)
ok word, thanks yea that is confusing
You can do whatever you want with it, the PDAness only affects the address/how you sign for it
Using `invoke_signed` to CPI to the system_program
and I can store data in that account?
So that it has a chance to sign for the address
ahh ok
You'll have to ask the program that derives the PDA to create the account for you
what the heck
yea that was the issue
Heh, nope, because you can't sign for the address, and SystemProgram.createAccount requires an address signature
to create the asscociated account for that address right?
then   SystemProgram.createAccount
Yep, that's how you get a PDA
So I will need to use: PublicKey.findProgramAddress
right ok, that kinda complicated
Unlike for keypair addresses (whoever has the private key can sign) or PDAs (the deriving program can sign if it knows the seeds + bump used for the PDA)
Right, in fact this weird third kind of address, `createWithSeed`, actually can't be signed for at all‚Äîno one can sign for it
I would stop using it
So the program will not be able to sign for the address in the above example right?
`createWithSeed` is unfortunately not for PDAs, it's a totally different third kind of address lol
Where the program from which it's derived can sign for it (unlike with a normal keypair address, which can only be signed for by whoever has the private key).
`` greetedPubkey = await PublicKey.createWithSeed(
    payer.publicKey,
    GREETING_SEED,
    programId,
  )

    const transaction = new Transaction().add(
      SystemProgram.createAccountWithSeed({
        fromPubkey: payer.publicKey,
        basePubkey: payer.publicKey,
        seed: GREETING_SEED,
        newAccountPubkey: greetedPubkey,
        lamports,
        space: GREETING_SIZE,
        programId,
      }),
    );
    await sendAndConfirmTransaction(connection, transaction, [payer]);
A PDA is just a funny kind of address (not an account).
right so in the hello world example
You have to be careful about the word "owner" in solana, unfortunately. *Every* account has a "program owner", which is the one and only program that's allowed to mutate the account's data or spend the account's money (this program is the *only* thing that can do either one)
I'm trying to wrap my head a round PDA's... so if an account is owned by a program it not necessarily mean the it's a PDA and can be signed for by the progam right?
is there a support channel for phantom wallet integrations?

I'm trying to transfer a token and have phantom sign it.

i keep hitting this though:

```
index.js:1 Phantom - RPC Error: The requested method and/or account has not been authorized by the user. {code: 4100, message: 'The requested method and/or account has not been authorized by the user.'}
```
```
const instructions: TransactionInstruction[] = [];

    instructions.push(
      createTransferInstruction(
        fromTokenAccount,
        receiverAccount,
        fromPublicKey,
        amountLamports
      )
    );

    const transaction = new Transaction().add(...instructions);

    transaction.feePayer = fromPublicKey;
    transaction.recentBlockhash = (await connection.getRecentBlockhash('finalized')).blockhash;

    const { signature } = await wallet.signAndSendTransaction(transaction);
```
ah i think that worked
I am getting the TokenAccountNotFoundError, when running this line :- getOrCreateAssociatedTokenAccount(
        connection,
        fromWallet,
        mint,
        fromWallet.publicKey
    );
It says that it should be creating the TokenAccount if not found. I am confused why is this error here?
hey guys, about spl-token and create metadata through github, is there someone see this problem before after commit:

unsupported file modified: src/tokens/solana.tokenlist.json.bak

how can i solve this?
Can you explain to me what this "mint" object we get from create mint function actually is? Like I have my NFTs public address, and the txn hash which I get from the metaplex's actions.createNFT api. What should I be doing with this mint? How should I be creating this "mint" object, I am just very confused.
Thank you!
This is what I mean.
I see, makes sense! How how exactly I implement a fixed price in a swap?
I read Solana token swap program has a constant price curve
yeah, somebody drained that faucet too. `solana-test-validator` to victory for now. we'll need to rewrite history on devnet soon to remove some abandoned stake, and at that time will mint new devnet SOL for faucets
doesn't work

https://solanatools.xyz/faucet/devnet.html
I don't think you quite understand how swap works. Protocols like Mercurial and Saber still utilize the constant product curves and just make sure there's a ton of liquidity for the swap to happen at near constant
can someone please mint me devnet SOL: FzffpmKquwkCPtXNcXJ7Y82sLnRRQvQTRPtcGufnkRgd
I just need help setting something like that up, but I don't want fill this chat with my questions!
The thing is that I lack a lot of knowledge! I have a lot of questions! I want to create a pool to swap my custom token to USDT or USDC but I need the swap prices to be fixed, AMM like raydium have a constant product curve, but what I need is a fixed price curve! I tried setting up Oyster-swap from serum team, but I am unable to change the curve! so I am trying to see if I can do it with solana Token Swap Program! is there any solutions?
Transferring minted NFTs is the exact same as transferring any other spl. https://solanacookbook.com/references/basic-transactions.html#how-to-send-spl-tokens
alright
Could you try an earlier version of web3? I've seen some other people have issues. Try 1.34.0
Just post your questions here and I or someone from the community will help
In the spl-governance voter weight addin, whats the purpose of the governing token mint and governing token owner?
Hello, 
I am trying to send an already minted NFT to another account. I am following this guide to mint, https://solanacookbook.com/references/nfts.html#mint-the-nft
Minting works well, but transferring just not. I have tried using the solana spl-tokens and using the transfer for Metaplex js but none of them worked for me. Can someone point me to a min code example which would transfer an already minted NFT to another wallet? (I am trying to re-create the same functionality that Phantom Wallet has, to allow for NFT transfer)
Any help is greatly appreciated!
If you have the time would you be willing to help me out with something?  I'll pay!
"@solana/web3.js@^1.21.0", "@solana/web3.js@^1.34.0":
  version "1.36.0"
  resolved "https://registry.yarnpkg.com/@solana/web3.js/-/web3.js-1.36.0.tgz#79d7d5217b49b80139f4de68953adc5b9a9a264f"
  integrity sha512-RNT1451iRR7TyW7EJKMCrH/0OXawIe4zVm0DWQASwXlR/u1jmW6FrmH0lujIh7cGTlfOVbH+2ZU9AVUPLBFzwA==
That's the correct place
Not aware of one, but I can dig for it
Rust, javascript, your library of choice
try <#837340113067049050>
There's this https://solanacookbook.com/references/nfts.html#candy-machine-v2 but otherwise check out metaplex discord
yes
When you say hidden log budget, do you mean a budget separate for logs?
What version of web3?
Hello everybody I am trying to use try out the Solana token swap Program! but I am not sure where I should run these commands:  like "system_instruction::create_account" any ideas?
do you mean the latency/transaction speed is too slow? or that you're getting rate limited because you're firing thousands of TX/s
there's also datahub
does the shared object binary update whenever I change a line in the code?
but i mean.. if quicknode and genesysgo are 'too slow', I dont see how this will be better. its another public node
yyyyye that looks familiar
:D just google project serum rpc
have you tried genesysGo or project serum?
thats odd
?
they do have a free tier as well to try out before paying
quicknode is a popular paid option. setup is basic, sign up, pay, and they provide you with a URL to your private endpoint
or a custom rpc endpoint?
you mean like a proxy?
anyone else hit this before?
i'm having some weird issues with "@solana/spl-token": "0.2.0",

Failed to compile.
```
./node_modules/@solana/spl-token/lib/esm/constants.mjs
Module not found: Can't resolve '@solana/web3.js' in '/Users/mbpro/client/node_modules/@solana/spl-token/lib/esm'
```
```
import { PublicKey } from '@solana/web3.js';
/** Address of the SPL Token program */
export const TOKEN_PROGRAM_ID = new PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');
/** Address of the SPL Associated Token Account program */
export const ASSOCIATED_TOKEN_PROGRAM_ID = new PublicKey('ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL');
/** Address of the special mint for wrapped native SOL */
export const NATIVE_MINT = new PublicKey('So11111111111111111111111111111111111111112');
//# sourceMappingURL=constants.js.map
```


while it compiles fine on "@solana/spl-token": "0.1.8",
hey guys, is there any way to get all the information about the candy machine with a request if we got the cm id?
does anyone know of an nft that uses gatekeeper?
Seems an issue has been raised about this slowness but no reaction yet https://github.com/solana-labs/solana/issues/23376
Ive heard theres a hidden log budget next to the compute budget. How is that calculated?
It is working now! thanks! sorry for the dumb question, I am just starting.
Oh snap I think I closed it
Do you have your local validator running?
Hello everybody! Do you guys know how can I fix this error? I am trying to deploy the "hello-world example" in my localhost but I get this error:
with solana
nice i think that's how i will start getting my feet wet
Sounds completely possible
or verifying the wallet with the server
like for example some airdrop functionality
also wanted to know. if i use solana.py can i code discord bot with it?
okay cheers
:C That isn't good. Hopefully there will be a restart soon on devnet so we can fix these issues
I have been trying actually from 2 days.
In general it currently is to try again.
You can do something with that, or just split across two transactions
```Error: Data writes to account failed: Custom error: Max retries exceeded
There was a problem deploying: Output { status: 
ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
This is the error I am getting for trying to deploy on devnet. Any fix?
There's a bunch of issues with validators on devnet right now. I believe there may be a restart to fix the issues
Even the `airdrop` cli command doesn't work though on devnet ü§î
Wow, thanks! But I don't get the purpose of this. In my case, I need to pass "data" to next instructions. Can it solve this?
Up for debate right now, but I know they're investigating
Thanks Jacob! Does this mean it's a issue at metaplex end and not a client side error?
Make sure you're actually importing `0.2.0`. Some people have an issue that their previous install `0.1.8` is not being overwritten
Not sure on solnet. I would reach out to the maintainer, Hoak, on twitter
Check metaplex discord. I believe they're working on that https://discord.gg/NwMAer8W
You can read the other instructions in a transaction from the program https://github.com/metaplex-foundation/metaplex-program-library/blob/c340ba27560ee101f0f688ee47baa80be006f380/nft-candy-machine/program/src/lib.rs#L385-L409
This is what I'm getting while trying to upload to candy machine
Hey Everyone,
Need help in solving the following error:
Translating error Error: Transaction was not confirmed in 60.02 seconds. It is unknown if it succeeded or failed.
What does it mean?
Got it. Thanks
You can access the instructions in a transaction during a specific instruction
You'll be able to add the first instruction in your transaction for requesting compute for the transaction as a whole
Yes. Creating temp account, that will store data from previous instruction
So... I'm trying to import these from the spl-token typescript library

```ts
import {
  createAssociatedTokenAccountInstruction,
  createTransferCheckedInstruction,
  getAccount,
  getAssociatedTokenAddress,
} from "@solana/spl-token";
```

But it says none of them are exported, is the entire library broken? Has anyone used it lately?

Trying with the version 0.2.0
hey guys, i have a couple of questions... first of all, can sol.net be used for android projects (game made with unity). Also are the any other integrations to unity other than allart?
How can I increase "gas" cap then? When the update is activated
Splitting into 2?
Then splitting my instruction into 2 wont work soon
Correct
Once on 1.9.9, it will take some time to activate
It is not active right now. Mainnet-beta is still on 1.8.16
"Transaction wide compute cap" is already active on mainnet? Or it will soon arrive?
gm Frank ‚òï
In 1.8.x this is true, however you can test locally with the new instruction to request additional CU and this is released in 1.10.0: https://solanacookbook.com/guides/feature-parity-testing.html#facts
https://solanacookbook.com/guides/feature-parity-testing.html#facts
https://docs.solana.com/developing/programming-model/runtime#compute-budget
No, sorry, I don't know it
Do you know about ComputeBudget program?  I tried to pass request_units instruction as first instruction in my transaction, but nothing happened.
Hi guys GM, I was trying to use Candy Machine with devnet last night but apparently I couldnt, is this fixed already?
I don't like to split the instructions either, but sometimes, it's the only way to make something work
I'd say it's the other way around, but it's hard to judge as there are several different criteria.
Thanks, I will listen to your advice
Oh, I though C++ is much closer to C than Rust
You should stick to C then: C++ has layers of abstraction, like Rust, for example exceptions, etc, so it may not be the best choice. In you case, I would split the instruction in 2, if possible, or explore some ways to reduce the compute units.
Simplicity is good, but often costs more compute units. Single instruction has only 200k compute units and rust code does not allow to fit it. I hope that c/c++ will
Out of curiosity, what are your reasons why you want to do that? It'll be vastly simpler to do it in Rust, especially with the Anchor framework.
Hey Guys,
I'm getting the following error while creating candy machine -

Initializing candy machine
Translating error Error: Transaction was not confirmed in 60.01 seconds. It is unknown if it succeeded or failed

Really appreciate if anyone can help
Try using lithdew.github.io
Not from the nft address
when I close the nft mint account it withdraws only the nft token account rent
no that is not the solution because
We're you eventually able to solve this??
is there an easy way to find out when a PDA was created using RPC methods?
I want to write a JavaScript function to send custom token to another address but  seems that since spl-token version 0.2.0, the Token class does not exist anymore and I was not able to find a way to send custom token in the docs that did not require a keypair
Hey guys, any way to make automatic transactions whenever an account receive funds it transfer 95% for another account and 5% to another?
Good day!!
Can I delete a token from the solana-lab/token-list ?
How can I get the fees associated to a transaction (before running it)? It's for displaying them on the frontend.
What if I burn the nft and close this account?
Hello guys it seems like I accidentaly sent sols to a users nft token address ( that holds the metadata and everything, mint address) I can't make it move from there because it is the mint address... It moves the other nft token account supply not this. https://solscan.io/token/7N6JHguH6o6ECUDygWRDnHvGRsa83As77J4Te5YXsonM as you see there is a sol balance there. How can I withdraw it?
hammm... will try.. thanks bro
I was also getting this error, I had accidentally used a wallet account instead of the wallet's token account while using the SPL Token Transfer instruction
After updating from 1.8.x to 1.9.9, I also observed that program deploy on local solana-test-validator is very slow with a lot of "Waiting for next block" and in the end often "blockhash expired". I don't understand why
what doest this error means : "invalid account data for instruction" it is so general....... üòÆ‚Äçüí®
how to not pay rent exempt but pay rent for only 100 epochs for a account?
Can someone help me with this?
is there a way to Log program parameters without using msg! ? i would like to see some logs from the program on my console.. is this possible ?
the llvm backend has a bpf decompiler have you tried it?
Thanks, that's exactly the question. What is the answer? I couldn't find it anywhere.
search the project on github üòâ
Hello my friends, know anybody how to decompile smart-contract to some readable source ?
e.g. I need specific other programs other than spl-token etc. to be deployed
do you spin up everything locally, is there a framework for it? or do you just just solana-test-validator?
how do you develop, if devnet is dead / not responding?
Hey guys !
I would like to fetch the rewards of a validator (as well as all the stake account who are delegating to it obviously).
Here comes the issue, the various nodes I am querying doesn't have the rewards for all the epochs, afaik, this is impossible to get due to the amount of data that  have to be stored.
So Im resolving to some interpolation to fill in the gaps, but again, I have a few question which require your expertise:

* Are the rewards earned related 1<>1 to the balance ? What are the factor related to the calculation, or even best, where can I find it ?
* How to spot merge and split ?
  * Afaik there is no consistent way to have an alert when this append, the only indicator I have is the balance.
    I can spot when the balance decrease, and when it gained too much for it to be simply rewards but this means I will have to make wild guesses
  * I accepted I will have an error margin, and a fairly big one, but did someone already do this and how can I decrease it ? 

I can provide sample data I get from `https://api.testnet.solana.com ` node if you want.
note that the data doesn't get better on mainnet, I still have to deal with more than half of the data missing what ever the network.
Thanks a lot of reading and your incoming help !
Help needed. I'm trying to set up cmV2 UI. Minting through CLI already works. But I get this error message when running yarn start: Couldn't find a package.json file ...
about three days, i believe.
how long is an epoch in Solana?
I have been trying to mint/setup a CM for 2 days now. and 1 out of like 50 tries work
Anyone else also not able to do any candy machine related actions on devnet for last 2 days?
would someone be able to point me to some good readings explaining Token-22 ?  ie. why, when is it released and how is it interacting with the current SPL token. thank you
Sure. thank you!
Check the Anchor discord
When i deploy my solana program to devnet / testnet I am getting `Invalid blockhash error` . Anyone got any ideas?

My tools:
- `anchor-cli` - `0.21.0`
- `solana-cli` - `1.9.5`
I don't know what you mean by 'fashion', the instructions of the program you are invoking should define what you need to send it when you invoke it (i.e. instruction data, accounts, etc.)
The 'sol' memory routines are system functions you can call from your program for more efficient buffer operations at a fraction of the CU costs had you handcrafted them. These include:
Copy (`sol_memcpy`)
Move (`sol_memmove`)
Compare (`sol_memcmp`)
Set (`sol_memset`)
Can I use invoke in that fashion or not ? I have checked all the accounts but they are as it is and as required
so i was checking out the code for token program and i saw `solmemcp` and `solmemset` function from the name of `solmemset` i get that it is used to set the memory allocation of an account i suppose any help on these two functions would be great!
<@!814228493302497301>  can you help me with this?
Hello everyone! I have a collection far from sold out, and wanted to mint some specific nfts for those not to be burnt. So i used metaboss for it. However, it appears like it is another collection because of the creators address (one has the candy machine verified default) and the metaboss one has a different. How can I merge both? ty
You should really use the lexicon of Solana
The keypair of the account is still valid, all you have done is transfer ownership which means only the ***program*** can write data to that account. 
So your question is: once I've transfered ownership to a ***program*** can I transfer the same account to a different ***program***
The error message in the log says it all
.
has any one some idea about this
Here is how I was trying to use CPI


Hello
I ran into this error
while trying to use CPI
hello,
On Solana even an account that stores some state is represented by a pair of public and private key. We can use the private key to transfer "ownership" of that account to a smart contract (i.e. an account with executable code) and afterwards only that smart contract can modify the account's state, is that correct. At this point does the private key of the state account become useless? Or can we still use the private key to transfer ownership from one smart contract to another?
thanks bro.. thats what i thought
at least this is how i do it and have seen it in the code of spl-token etc.
i think setting data and sol to 0
Hi, something that confuses me is the Anchor workspace name. For example in the tutorial we have `const program = anchor.workspace.Basic2;` even though in `lib.rs` the program has name `basic_2`. Does Anchor automatically convert `basic_2` to `Basic2`?
what is the best most safest way to "close" an account ??
That is a relieve the production is so fast lol
Oh I see I am not using the latest lib oh,
yeah that one is only compatible with vue 3; is there any package for vue 2?
I'll recommend you to use the latest spl lib so that you can refer to solana cookbook's example.
source is `from`, which is a token acocunt.
mint is the token address, every token has its mint.
if your owner is not a multisig account, you can leave it empty.
maybe https://github.com/lorisleiva/solana-wallets-vue
createTransferCheckedInstruction(
      programId: PublicKey,
      source: PublicKey,
      mint: PublicKey,
      destination: PublicKey,
      owner: PublicKey,
      multiSigners: Array<Signer>,
      amount: number | u64,
      decimals: number,
    ): TransactionInstruction;  
do you guys know What is source and mint keys and what should I do with multisigners part
Hello everyone! I want to write program in c++ (not in c), but there is no documentation about it. For template I am using "example-helloworld" repository. When I simply replace helloworld.c with helloworld.cpp, compiler says: "ld.lld: error: target emulation unknown: -m or at least one .o file required". How to fix it? Pls help.
Is there any wallet adapter UI for vue? the link provided in @solana/wallet-adapter FAQ is broken
you can take a look at how phantom handle it. you can transfer token or NFT from phantom.
actually create token account and transfer token can in the same tx.
Then when I transfer to them it is going to be different?
So I have to create accounts first
When I tried to transfer nfts from the wallet it did not transfer it actually
yes. every tokens need token accounts to hold it.
you destination of NFT must a token account.
what could be the reason of a very slow program deploy on a solana-test-validator?
maybe ask anchor problem in their channel.
I guess you're integrating between wallet and anchor program.
in you case I think you can use `this.bankProgram.transaction.depositGem`
then use `partialSign` and request wallet to sign
I need to create another nft mint account to transfer it to there?
Yes but the transfer is not changing the nft account tho
https://github.com/near/borsh-js
I don't think your schema in ts is in specification
also FYI https://solanacookbook.com/guides/serialization.html#common-solana-ts-js-mappings
Thank you. i was fix it. I forgot clean contract when deploy.
what does the error you get?
NFT is just a token, so use https://solanacookbook.com/references/token.html#how-to-transfer-tokens
sure. if you can compose a correct instruction, you can call it.
anchor 's instruction will take some bytes as name, you can take a look at their docs.
How someone transfer the nft into another token account what is the instruction?
But I declared the type u32 but when I change the value from 1000 to 10000 it gives an error
is it possible to use cross-program invocations in both(classic and anchor) or only the anchor framework can be used to call a program in another program?

How can I test my contract on explorer like bscscan
Hello
maybe ask them in their telegram
just like you write a frontend page via pure dom operation or  react.
Hello everyone,
what is the main difference between classic Solana programming and anchor framework programming?
Hallo everyone, I'd like to know if there is a bonfida environment running in devnet?
bump, any hints?
I was debugging on the front end side, and I see this
```
partialSign(...signers) {
    if (signers.length === 0) {
      throw new Error('No signers');
    } // Dedupe signers


    const seen = new Set();
    const uniqueSigners = [];

    for (const signer of signers) {
      __const key = signer.publicKey.toString();__

      if (seen.has(key)) {
        continue;
      } else {
        seen.add(key);
        uniqueSigners.push(signer);
      }
    }

    const message = this._compile();

    this._partialSign(message, ...uniqueSigners);
  }
```
Where the signer is already a publicKey, so doing publicKey of publicKey is giving me this error message.
```
const signers = [];
if ((0, gem_common_2.isKp)(vaultOwner))
  signers.push(vaultOwner);
const txSig = yield this.bankProgram.rpc.depositGem(vaultAuthBump, gemRarityBump, new anchor.BN(gemAmount), {
                accounts: {
                    bank,
                    vault,
                    owner: vaultOwner,
                    authority: vaultAuth,
                    gemBox,
                    gemDepositReceipt: GDR,
                    gemSource,
                    gemMint,
                    gemRarity,
                    tokenProgram: spl_token_1.TOKEN_PROGRAM_ID,
                    systemProgram: web3_js_1.SystemProgram.programId,
                    rent: anchor.web3.SYSVAR_RENT_PUBKEY,
                },
                remainingAccounts,
                signers,
            });
```
This is the code that I am trying to run on the js side. I am able to see the approve transaction pop up. However after I accept, I get this error message: "Cannot read properties of undefined (reading 'toString')"
each liquidity pool and token is dynamically generated though, whenever ppl create a new pool in the dApp
any help would be wonderful üôè
maybe getting my tx in faster before congestion starts(NFT mint)
generally during high congestion periods I get a shit tone of my txs dropped, I'm assuming if I keep retrying eventually one will get through but that's not rly ideal, is there any way to mitigate my txs getting dropped?
does anyone know how I can handle constant dropped txs?
After adding SOL, I'm getting following error <@!788215642070581289>
`solana airdrop 1 -ud`
BTW -ud means use devnet
Okay, how should I add SOL?
seems your account don't have enough SOL to deploy program
here is hex data, so 64 is 16 * 6 + 4. it will be 100. also FYI here use little endian
`when I push a publicKey as a signer for the transaction`
which function you used?
Can someone help me with this please?
Hey everyone,

I deployed a program to localhost and working fine. Now I want to deploy same to devnet.

So, I ran 

`solana config set --url devnet`

And
`solana program deploy dist/program/helloworld.so`

But I'm getting following error:
This is my hex data
Hello, i send instruction and value to helloworld  contract but when i send wit value with large number and small than u32 type . But it not working. Please help me.. THanks
Hey I just have a question regarding signing transactions, when I push a publicKey as a signer for the transaction, I keep getting 
```
TypeError: Cannot read properties of undefined (reading 'toString') ```
because in the code for "partialsign(...signers)"

```const key = signer.publicKey.toString();```
The signer keeps on registering as a string already every time I sign the transaction. I pass in a publicKey into the signer though. Would anyone be able to assist me with this bug I am running into?
Got it. Thanks for the help. I will change it and test it again.
and i think you also have to pass in the system_program account as well in the invoke function!
the program id would be the System program ID, since the wallet addresses are owned by the system program. and you're calling the system program which is responsible for transferring the SOL
Btw, I am very new to this development. So I am starting from the basics.
```Rust
    pub fn transfer_nat_tokens(ctx: Context<TransferNative>, amount: u64) -> ProgramResult {
        let ix = system_instruction::transfer(
            &ctx.accounts.from.key(),
            &ctx.accounts.to.key(),
            amount,
        );
        solana_program::program::invoke(
            &ix,
            &[
                ctx.accounts.from.to_account_info(),
                ctx.accounts.to.to_account_info(),
            ],
        )?;
    
        return Ok(());
    }

}
```
is devnet candy machine stable now?
can you show me the code snippet for transferring tokens?
It is a simple token transfer and I have tried passing 2 phantom wallet addresses, 2 generated keypairs from js both didnt work. And the program id is my deployed program on devnet. Is there any error in this process? Or did i miss anything?
Means one of the account is owned by a different program and you're passing in the wrong program id
I am trying to build a solana program using Anchor in which one of the instruction is to send native sol token from one address to another address. But I am getting this error from the console. Any explanation to why this is occurring? 

Transaction error:  Error: 3007: The given account is owned by a different program than expected
alright great thanks!!
In program,

`
let input_data = match str::from_utf8(instruction_data) {
        Ok(v) => v,
        Err(e) => panic!("Invalid UTF-8 sequence: {}", e),
    };
msg!("1 - Hello World Rust program entrypoint {:?}", input_data);
`

This is giving the data that I passed

But I'm getting this as String

`
1 - Hello World Rust program entrypoint "{\"name\":\"Pavan\"}"
`

How to convert this to an Object in RUST <@!788215642070581289> ?
you will need to send them individually basically they are different tx.
so let says you have 5 tx then you will call 5 send tx in your client.
but then both those transactions wouldn't be sent in one sendAndConfirmTransaction call to the blockchain or do i have to call it two times?
there is no correct way. the main idea is that you can deserialize your data in your program then I will say it is a solution.
but in most common way today, we use borsh to serialize / deseriazlize data for us
yeah, if you react the tx size limit, you should separate it into different tx.
Is that correct?
This is how I'm sending <@!788215642070581289>
`
let candidateData = {
    name: "Pavan"
  }

  const instruction = new TransactionInstruction({
    keys: [{ pubkey: greetedPubkey, isSigner: false, isWritable: true }],
    programId,
    data: Buffer.from(JSON.stringify(candidateData))
  });
`
Oh i see, a new transaction object I suppose? 
I mean let's say I want to transfer 10 tokens to another Wallet, that would mean 10 instructions for transfering and 10 for creating the associated token account for the other wallet. and this wouldn't be able to sent in a single transaction because it exceeds the 1232 bytes size for a transaction
in react, does anyone know a fix for this error when using spl-token
```Failed to compile.

./node_modules/@solana/spl-token/lib/esm/state/mint.mjs
Can't import the named export 'bool' from non EcmaScript module (only default export is available)
```
thanks, found this eventually \:)
not sure what you really want to do. a tx is composed by instructions, so you can separate them into different tx and send.
you can take a look at https://dev.to/cogoo/solana-how-to-send-custom-instructions-via-instruction-data-4g9g
hello everyone, is there any example of sending transactions in batches to the blockchain?
Can someone help me with this please?
Found this amazing rust github repo for learning rust by fixing the code. It's cryptozombies for rust! https://github.com/rust-lang/rustlings
might have to file an issue to see why.  i dont see many devnet addresses.
via call:
https://solanacookbook.com/references/nfts.html#how-to-get-all-nfts-from-a-wallet
https://discord.gg/C6xAvUwr
Thank you for the info
How are people getting a list of NFTs that a user account have via API ?
and the next issue: when I try to `anchor idl init` the transaction just sits there until it expires (on localnet)
when I run `anchor build` no idl is generated, what am I doing wrong?
how can I change ownership of an account when the current owner is a signer? I didn't find any instruction, is it possible to reassign the owner attribute or how does it work?
103 is the good code for devnet right ? I don‚Äôt understand the conflict
Ask in the metaplex Discord
Candy machine not working now with devnet ... i cant mint spl to tests
Someone please, can your send metaplex SPL token in Devnet to this address B2SsaWSeia3KtDW1LFFM1s59xJWhQdHwW1T4uMsAqKun ?
not that I am aware of, those are browser plugins, where most browser plugins are not supported on mobile
solend and port finance use the token-lending or very similar version if I recall
maybe contact ppl at mortuary-inc.io they provide $ASH token as a proof-of-burn and do pretty much what you are asking for
Hi, I wanna test to push a token on automerge token-list and I have an error. I don't understand why. I wanna try on devnet, so 103 for chainId and the decimals is 0. Here my code :

{
      "chainId": 103,
      "address": "CVoo9iTFpmWCyQXsTy4AA8QnPpdM3wxEqX5zXUkwjBkv",
      "symbol": "RDT",
      "name": "Rep Devnet Token",
      "decimals": 0,
      "logoURI": "https://raw.githubusercontent.com/AlexMGN/assets/develop/assets/Repti_icon.png"
    }

Any idea ?
preferably with USDC, USDT lending
is there a lending protocol that uses solana lending program that is live on devnet?
does the connect phantom wallet work on iOS? https://solana-labs.github.io/wallet-adapter/example/
Hi guys. We wanna split mint fees to multiple wallets during mint. Is it possible? or any workaround?
I'm hoping to get some clarity, but don't have the time right now. Anyone else notice this issue? Working with https://github.com/ironaddicteddog/anchor-escrow. Breaks when @solana/spl-token is updated
there is solang, and neonvm, and both have functioning components,  contracts, and so forth. both are still under development and growing, but you would have to check those resources for the latest and most up to date docs.
What about the Solidity compiler Solang (?) for Solana is that any good?
yep
I'm a solidity dev, is Anchor in good shape right now?
https://solanacookbook.com/references/nfts.html#how-to-get-all-nfts-from-a-wallet
not really sure on context here but sounds NFT related?  metaplex docs, resources, and discord are generally the better place for those types of questions.
the serialized transaction size I believe should be able to help you
it seems like you could just use something similar to an escrow account, to hold the funds and let the user request/verify and sign for their portion of the funds to be released from the escrow account.   youll just want to make sure the verification is done and on chain authorize/verified.
So indeed. I have an account that will contain a certain amount of SPL Token.
The user will log in with his wallet on my site, and then an eligibility check will run (all this is already done). If the user is eligible, then he will be able to click a button, and that button will then initiate a transaction for a token to leave my account and go into the user's account
not sure im clear on your setup here.   it sounds like you want to transfer tokens from your own account,  to a user that is using a front end?   how does the user actually initiate this transaction, or rather, how are you verifying the user should actually get some tokens? or will u always just send them tokens like a faucet or mint?
At this point Im taking multiple "snapshots" of the account and making sure it hasn't changed before updating ui.
the best thing to do is to ask your question and if someone is able they will help.  many of the hot shots browse the discord occasionally.
I tried finalized but it still does it.
Thank you a lot, really!!
You can try using `"finalized"`
Think you're going to have to close those token accounts, which will be kind of a pain in the butt: people will need to transfer their NFTs to some *other* token account, or burn them etc., so they can then close the account (requires a zero balance of tokens in order to close a token account).
Is there a way to get the blockhash of the account data or anything?
I'm having problems with polling solana account data and data flashing back and force from old account to new account. Using confirmed
Hello guys We created an NFT collection project on Solana called G.O.S.A and then public sales didnt go well then we wanted to refund the money to buyers. Then we mistakenly sent sols to not wallets but nft token accounts of users. Can they withdraw that sols to theirs? Please it is urgent it is total of 330 sols. Is there a solution? What can we do?
Hi guys!

Quick question. I would like to send an SPL Token from my account to another one. My technical stack is NodeJS and ReactJS. The user connects to Phantom, and clicks on a button to receive an SPL Token. The idea is that he has a phantom popup that opens to say that he will receive his token. But since I need the private key of the account that owns the tokens, I have to use a backend (NodeJS for me). Except that I have no idea how:

Create the transaction in NodeJS to send the SPL from my account to the one who clicked on the button, send this transaction to the frontend (and if necessary) so that the transaction appears in Phantom and the user validates it.

Can you help me? I don't know if I am clear
hey is there any rust expert who can help me out? I am writing a rust package which is using some parts of solana and bigtable
Help needed. I get the following error message while uploading 3 images + json to devnet: Failed writing indices 0-2: Transaction was not confirmed in 60.00 seconds. It is unknown if it succeeded or failed. Check si.
After creating a transaction in web3.js (new Transaction().add(...)) is there any way to get the size? To make sure it doesn‚Äôt pass the size limit
I'm trying to use web3 js to get spl tokens and nfts an address owns. To get the tokens I'm using 
```
connection.getTokenAccountsByOwner(new web3.PublicKey(publicKey), {
            programId: TOKEN_PROGRAM_ID
        });
```

And to get the information in the tokens I am using:

`accountInfo = AccountLayout.decode(arr1Item.account.data);` 

I have 3 questions:
- Am I using the right commands or is there something better?
- How do I differentiate `getTokenAccountsByOwner` returns a spl token or a NFT? I've been trying to either assume token_balance 1 is a NFT or comparing the mint to the `SPLTokenList`; however, both methods have proved to be insufficient for my needs.
-  Should I be using `TOKEN_PROGRAM_ID`? I'm a little confused of what this value should be and how it differs from `ASSOCIATED_TOKEN_PROGRAM_ID` and `NATIVE_MINT`
Hi everyone, is there any way to parse the binary block values for tx, blocks and tx-by-addr tables from BigTable? Or what's the best way to query data from BigTable. I have imported Solana's BigTable instance to my own BigTable instance. I have hit a roadblock and can not find any documentation in how to parse StoredConfirmedBlock, TransactionByAddrInfo, TransactionInfo. https://docs.solana.com/implemented-proposals/rpc-transaction-history#data-population I would greatly appreciate anyone's help.
It is good feedback though. We should make this more discoverable in the token section of the cookbook
Ahh got it, should have ran the code and found it the value of TOKEN_PROGRAM_ID, thanks a lot
Referenced multiple times in https://spl.solana.com/token and is what `TOKEN_PROGRAM_ID` points to when using spl-token lib
Awesome, thanks this is what I was looking for üôå , btw how or where were you able to find this? I couldnt find it in any of the docs or the solana explorer page of a token ?
The token program is what all mint accounts are created with https://explorer.solana.com/address/TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA
Hi, yes, my doubt is on this single instance of the SPL token.
Can I find the program address of this SPL Token program?
Is it also  deployed as a program on the main-net  using which all tokens are created or is it like the system program inbuilt and does not have a adress as such?
wdym?  this isn't ETH all SPL Token mints are created by the single instance of SPL Token program
Hi had a question on token program, consider the USDC token https://explorer.solana.com/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v 
From what I understood, this address represents the MINT account of the USDC token. Now this mint account was created using the SPL token program deployed on the mainnet. What is the address of this parent SPL token account?  Is it possible to find out which parent program deployed the given MINT account ?
hey everyone, so from what I know 
CLI wallets are unencrypted, so they are unsecure
but you can get cool pubkey addresses using the grind command, for example Genopets has GENE for their token address, 
how do they secure those afterwards? other than through say a multi-sig? can you connect it through a hardware wallet somehow (im quite inexperienced with hardware wallets)
Actually i figured it out - Borsh errors out when it tries to deserealize empty slice - I just used deserealize directly
Awesome! Thanks for the responses, I really appreciate it! Old dog learning some new tricks out here!
Which line are you getting the error on?
so you only need to create one
No, keypairs are network-independent
Follow up to that, does solana-keygen also need to be run in order to create a valid keypair per network? or can the keypair be use across networks?
got it! Thanks! I thought so but didn't want to do more work than needed
so you have to create the token on each network you want to use it on
and share no data
devnet and mainnet are completely seperate
Quick newb question, when I create a token, is that token only valid on the network it was created on (devnet) OR once created (regardless of network) the token exists and can be used on either network? 

Or more simply, do I need to create tokens on mainnet-beta to actually use them? or can I interact with tokens created from devnet?

Thanks in advance for any tips!
Okay
you can store data in accounts, the specific implementation may depends on a type. you may want to think in storing a collection of objects, like a vector for collection.   https://solanacookbook.com/guides/serialization.html#setting-up-for-borsh-serialization

also,  especially for getting up an running, and dealing with serialization,  you might be the anchor framework easier and more friendly with some simpler associated examples.
stake pool is different.  the tests in the token swap and associated programs probably show you better from an implementation and usage perspective than the docs alone.  a state account is just an account and is used to store data where applicable.
Thanks again. Quick question, is it possible to store array of struct in an account?
Stake pools seem to only receive SOLs
Yes! that's what I mean, it says an "empty pool state account" but it does not indicate how to create it nor where is the documentation, however I do se "Stake pools" so I was wondering if it is the same.
https://spl.solana.com/token-swap#creating-a-new-token-swap-pool
look into how to do the individual features your looking for, and how to query/get data from the blockchain, and the ways to do so described in the many examples and resources, or ask specific questions. Youll need some time to understand Solana and the CookBook and docs and above resources are essential.  For your specific features you can look at the referenced token burn, and you can look up freeze on token mints. Get familiar with tokens, how token mints work and available functions, and then you may be able to better design your app.
Hello to all! I am trying to use Solana Token Swap Program! but O see I need a pool and some other reqs, however the only way to create a pool I see on solana's Documentation is a "stake pool". Is it the same as a regular pool? if not? where can I see the documentation for creating a solana spl-token pool for my custom spl-tokens?
Sorry for tagging people. I am pulling out my hair with this problem üò´, hope you can understand. üôè 

I will look into more details. I am not sure why I didn't find soldev.app, it seems all materials regarding Solana are there.
Thank you for your reply <@!785084693023424542> 

And it would be very grateful if you can give me some tips based on the question. üëç
no eta. but being looked into. will have to use an alternate for now.  some RPCs are having better overall success, but the rates are intermittent.   Spinning up a local validator is generally the best alternative or first choice based on needs.
you can try looking at pyth and switchboard.xyz, chainlink may have some references. it depends on what data your looking for as well.
this is a design issue. you will need to look for, research and figure out implementation details. aside from the official docs and the github repos containing many details and implementation resources, here are a few more resources. 
https://solanacookbook.com/references/token.html#what-do-i-need-to-get-started-with-spl-tokens
https://solanacookbook.com/references/token.html#how-to-burn-tokens

general:
https://soldev.app/

come up with a design or proposed design, and post some code to help others. 
dont generally just tag others to get answers. the community as a whole is here to help and the admins help manage the discord not generally answer questions.
Fast way to get banned lol
Can anyone help me with this? <@!804350183105363980> <@!439209823201132558>
yes.  Devnet is unusable.  At least since Friday.
When is devnet timeouts going to be resolved?  Devnet has been unusable since Friday, for  minting of NFT's.  Plenty of developers having this issue.  (metaplex discord channel)
Hey anyone knows how to set up on-chain oracle to the anchor???
Hello.
I am looking for help with how to design the smart contract which should allow people to burn their spl tokens and check how much they burnt.

I have experience with EVM smart contracts but newbie in Solana space and currently learning it. Because of different architecture of Solana it's very difficult to start off. üò¢

What I am trying to build is some kind of spl token burning contract and it should allow people to burn their tokens when enabled by admin but not allow when disabled. And should be able to see how many tokens have burnt by each address. I really couldn't figure out how to design the contract for over two weeks and I couldn't determine if I should use normal account or PDA account to store the status.

Please anyone give me some tips on this. üôè
Thank you in advance.
```
        let state = Tokenitis::try_from_slice(&accounts.state.data.borrow())?;
        msg!("successfully read state from account");
        if state.initialized {
            return Err(ProgramError::AccountAlreadyInitialized);
        }
        let state = Tokenitis {
            initialized: true,
            input_amount: self.args.input_amounts.clone(),
            output_amount: self.args.output_amounts.clone(),
        };
        state.serialize(&mut accounts.state.data.borrow_mut()[..])?;
        msg!("successfully wrote state to account");
```

Transaction fails - "Failed to serialize or deserialize account data: Unknown"
Any idea what I could be doing wrong?
Hello. Anybody know how you can determine if an account is a program or just tied to a wallet address through an api call? If its executable or not?
Hi. Anybody knows, it is possible to buy nft on MagicEden using solana web3js?
Yeah. When you have variable length (ala BTreeMap, Strings, Vecs, etc.) you have to overallocate for now. With new versions you will be able to realloc initial account size (+/-) which makes managing it easier
Is there a way to get transactions for account that are processing but not yet confirmed?
I was trying to set up pyth oracle to anchor

Hey I am getting tons of  not found in module "sys" anyone know why it is
you can add it as a file


///////////////////////////////////////////////////////////////////////////////////////////////

or does it have to create a new token account at the new recipients wallet every time?
when you send a NFT or token, does it send the associated token account with it? trying to understand how this works
Hi. I'm currently toying around building something similar to validator.app and StakeView with web3.js.
I'm getting somewhere, but what I can't seem to understand is on what to use `ValidatorInfo.fromConfigData` it doesn't seem to work with Account.data no matter if I fetch the account by Vote Key or Identity. I'm testing it with a validator that has these data.

Since I'm asking stupid questions anyways, I'd also be grateful for a hint on where to start for slot successes / failures of a validator.
How to add an image and name on my token in devnet ? I need to change the chainId ?
Are there any solana grants or funding opportunities for new play to earn games built on solana
Is it possible to convert and run solidity contracts on solana or would they require reworking?
The instruction-level documentation of the confidential transfer extension for token-2022 is about all that we currently have: https://github.com/solana-labs/solana-program-library/blob/master/token/program-2022/src/extension/confidential_transfer/instruction.rs#L24, plus the unit tests.

We're probably some months away from actually shipping this extension but you can play with it locally today.  There will be some changes to how the encrypted balance is managed in the near future but beyond that, the extension is feeling pretty solid now.
Hey <@!445425471027544095> would you happen to have any documentation or notes on the implementation of confidential transfers and how to use them? I need them for a project, and I'd be happy to contribute.
https://docs.rs/solana-client/latest/solana_client/nonblocking/rpc_client/struct.RpcClient.html#method.send_and_confirm_transaction
Hi, whats the rust equivalent code for ::  await sendAndConfirmTransaction(connection, instruction, [payer]);
clear
Ok, so the recipient first has to accept the transfer too by signing it.
Only if you trick them into signing the transactions as well
any help? thanks
perfect. This raises another question for me. if i choose to say recipient pays the fee, could i hypotetically keep transferring very small amounts to drain someones account (they pay more fee than I send them)
`--fee-payer KEYPAIR` is for a more advanced construction where a third party pays the fee
Yes.  That just means "sender pays the fee"
I have 300 NFT's in my wallet and want to send them to 300 addresses. How do I do this
so by doing solana transfer [walletadress] [amount]
it seems to work for me by leaving --fee-payer .... away
ok clear
You don't specify two values to the `--fee-payer` arg
No the file is a keypair
Did you ever find a solution for generating randomness in solana?  I'm also looking for a solution for my lottery dapp.
Im referencing to the private key by specifing the path, i thought that was the right way to do it ( add my public key and the path to private key)

what would be the correct command line here
for example. 
transaction[0] with 10 instruction
transaction[1] with 10 instruction
transaction[2] with 9 instruction

and one single tx with 3 transaction array
if you have your default keypair set, there's no need for `--fee-payer KEYPAIR` (which a public key is insufficient for) and I dunno why you're specifying that path, it's extraneous
hi, is possible a multiple transactions on a single sign?
You're passing too many args
solana transfer [recipient] 0.023 --fee-payer [my_adress] C:\Users\Username\.config\solana\id.json

this is exactly what i do.
Hello to all!

I would like to make a script to transfer a SPL Token from my account to the user's account. I guess I need the private key of the wallet that contains the tokens, so I have to go through a backend.
But I want the transaction to be displayed on the client side (Phantom's popup for example with marked +1 token).

And I suppose that the backend has no link with the client, so is there a way to create the transaction in the backend with the private key, and send it to the frontend so that it can execute it and display the popup?
It's redacted
what exactly do u mean with the command line? that is the complete command i do
ok, well since you won't give me the command line, all I can assume is that it's some argument parsing error because windows does (or rather doesn't) a bunch of dumb, unexpected stuff
Hey guys, what's the command line to see my secret phrase ? Only have the keypair
How can I estimate the fees for a transaction before sending it?
solana transfer [reciepient] 0.023 --fee-payer [my_adress] C:\Users\username\.config\solana\id.json

the adress i left in is my pubkey. reciepient adress doesn't matter in this case (mine neither but just for clarity.)
Just give me the command line
What would be the correct way?
I found another in the solana docs however that one gave the same error (found argument...)
That is not the exact command line
correct usage would be: 
USAGE:
    solana transfer <RECIPIENT_ADDRESS> <AMOUNT> --fee-payer <KEYPAIR>

according to the error message. What does the keypair exists  out of? I have my public key and my filepath there atm
transferring solana to another wallet outside the CLI
What's the _exact_ command line you're trying to execute?
`solana-keygen pubkey ...`
my adress + the filepath = keypair right?
i think you have to use the pubkey and not the path to the private key
Hey guys, when i use  this command in the solana CLI: 
 solana transfer [receipent_adress] [amount] --fee-payer [my_adress] [C:\Users\username.config\solana\id.json]
error: Found argument 'C:\Users\username.config\solana\id.json' which wasn't expected, or isn't valid in this context

what exactly going wrong here? should i provide the filepath in a different way? (brackets to show it more clearly, ofcourse i dont use them when posting this comand
üò≠
I'm dying inside it was a typo in my Anchor seeds constraint üò≠
Anyone uses solscan api for their dapps here? need some help
Anyone interested in helping a Private company with a minting site? We can discuss sharing a percentage of the project's net profit. Need Web3 integration and UX design. Message me.
solana dev infra üò≠ 
solana community üòç
wow guys ur all fking awesome. I woke up with 33 devnet sol today because of u all. ( I couldnt mint myself devnet SOL because im rate limited )
i love u
gotcha, thanks for this
any class which implements those fcns is a wallet

so can be used inter-changeably?
nodeWallet is an implementation of wallet
although, the provider expects a Wallet class instead of NodeWallet
yeah
notice how nodewallet implements wallet
idk phantom dev but creating a new `Wallet` doesnt work bc its not a class to create -- you need to create a `NodeWallet` for a wallet
candymachine deployment*
yeah but we're trying to sign the deployment transaction from phantom
then you need a keypair to sign no?
would need it to deploy a candymachine
you could generate a new keypair then create a node wallet from that if you dont need it to sign anything
I need to get the instructions signed by Phantom
but we won't have the keypair
oh
instead of wallet
try `new NodeWallet`
ultimate goal is to get the instructions signed by phantom
the default wallet
yep

`@project-serum/anchor`?
as in the version?
what anchor sdk are you using?

if we don't pass a provider, it tries to get the default provider
chain of dependencies unfortunately. This is required by the anchor.Provider constructor, and provider is required by the anchor.Program.fetchIdl constructor
no worries, thanks for trying. i just reworked it to move the initialization to an instruction I can call directly, and got the signer priv escalation again, so I'm pretty sure I'm just doing something dumb lol. might post back here if it's interesting
huh interesting, idk dude sorry
The program2 instruction requires program1 PDAs to sign, so I cannot call it directly. It seems to be the same setup as other instructions that I have called directly though, the only significant difference that seems relevant is that a separate program is invoking it.
huh strange, idk ur dev env but, does it work when you call program2 directly?
you can try creating a normal keypair instead of an anchor-specific wallet?
yeah, the payer is a signer. The signer privilege escalation lists the pubkey of the account that triggered it. In this case it is the pubkey of the account being created.
when you create an account you have to have a payer, u sure the payer is a signer?
like something with the web3.js library or smthn
is there a way to programatically call  `solana account -u m --output json-compact --output-file`   and save the account/program to an output file
I'm hitting a signer privilege escalation with CPI that I want to make sure I understand:

Program 1 includes AccInfo(writable:True,signer:False) for a PDA derived from Program 2
Program 1 invokes Program 2 with this account
Program 2 attempts to invoke SystemInstruction::CreateAccount for this account, meaning it must now sign the address (seems to be no problem, Program 2 is the owner of the PDA)
This triggers signer privilege escalation

Is this expected behavior? Or am I probably doing something else wrong?
This is an anchor related issue I know, but there has been no response from their end
<@!489206164270350337> Sorry for the ping, but would you have any insights on how we could resolve this?
Got it. Thanks!
on chain programs are required for writing data. You interact with those from the front end
Hi. Is there any system program / method to write data to account? Or do we create an on-chain program for writing data to account?
Try the anchor discord https://discord.gg/X32UY7Eg
There are other programs that do this for any kind of vesting. I believe Bonfida has one
Looks like this was in my memory as done, but not at this time. https://github.com/solana-labs/solana-program-library/issues/2909 Thanks for the heads up
Very useful, especially to progmatically lock and unlock a mint just for specific functionality during a token lockup period
not currently, this could be added in theory though
Hi, how do I make `anchor test` show program logs?
Not today, but I believe there is something in token-2022 that will have this capability
yep for all wallets associated with the mint
You mean like freeze all transfers?
You can parse the transactions on that NFT and use the post and pre balances to understand where the NFT went
Is it possible to freeze an entire mint? Not just a token account?
Ah thankyou! That's a really useful clarification
Only one mint at a given time, but you could e.g. have a token account for mint M1, use it for a bit, then close it and reopen a *new* token account for mint M2 at that same address
Wrong discord üòõ
Just to double check my mental model - is it correct that a token account can only be for one token, and therefore all transfer transactions by that account (with the correct token program ID) must be for that particular token?
I have a Table with `AverageRating` in AWS dynamodb. How do I query for the top 10 rated items in that table?
Is there a way to match an NFT sale and an NFT purchase?
You basically do `getSignatures` and parse the transactions
Is there any way to programatically get the number of transactions between two accounts? So the number of times token account X has performed a token transfer to token account Y?
Is it only for me solana airdrop is working slower than before?
Yes, was just curious, thought they run spl to airdrop.
afaik we do not run that site
solana airdrop <amount> is working fine though
Why is solfaucet.com down now?
Serum has their dex open source
can someone suggest me some developer friendly DEX? https://discord.com/channels/428295358100013066/938828592232693820/951118708816891935
oh that's not that bad then!
No, proof of stake is different lol, but the first thing you wrote is basically right-ish
and this is how Pool of Stake works?
oooh.. So it means I rent the validator's hardware resources
So if you want to store some data on-chain (in an account), you have to pay for it ("rent").
It costs money to store data on-chain (it's aaaactually stored on a whole bunch of fancy physical computers out there‚Äîthey won't do it for free)
But I didn't understand what this means
Also I found that I have to pay rent to prevent accounts are deleted from blockchain
Haha ‚ù§Ô∏è
you have a good teaching skill
hmm that makes sense man
Dollars are aaaactually just 100 cents
ooof
It's like dollars and cents
I am confused why there are SOL and Lamport
just SOL?
What do you want to use instead?
but why lamport exists?
oh i see
But lamport is not restricted to gas fee
There is
oof
1 lamport = 0.000000001SOL
I didn't know Solana has gas fee
oh i see
No more decimals
Something smaller than 1 lamport does not exist
the gas?
oh
Smallest unit of token
idk what wei is
Something like wei
I am reading Solana cookbook.
What does `lamports` mean?
Is it possible to demonstrate validating fake tx on devnet?
when you mint / burn token, the supply will also be updated.
maybe you can try to use command line tool
`solana account <your-address-here>`
remember to setup your network to a correct one
https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
there are some fileds in meta. preTokenBalances and postTokenBalances
Can someone suggest which RPC methods I should use in order to fetch this info from transaction signature?
So it's all accounts, only one program.
There's only the one program ("the" spl token program), and then each token/mint is an account owned by the spl token program (called a Mint account), and each token account (the thing that says you own 12 CqfdCoins) is another account owned by the spl token program.
Hey there, I'd like to now what is an instance of SPL-token exactly. Is it a separate contract or each SPL token is a child of deployed SPL program at "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"?
https://github.com/lorisleiva/solana-wallets-vue/tree/0.2.x downgrade the npm package to use  the version mentioned in package.json, also make sure you downgrade @solana/wallet-adapter-wallets and @solana/wallet-adapter-base too
Is there a way to view the data that's in an account through Solana Explorer (similar to how we can see the instruction data as a hex array)? If not, what's the best way to do it except for logging it?
Resolved! I seem to have hit a bug in Phantom, because I tried using Solflare and it worked correctly. Will do some digging!
Hello! In a program, I want to have a method that does "if this user wallet has 10 USD, return this array with strings, if not, send this empty array".  
Can I do that? is it the correct way of thinking it? I couldn't find examples that checks users wallets content. Any docs are extremely welcome üòÉ  Newbie here
https://spl.solana.com/token#freezing-accounts
any one
I'm now seeing Phantom display my transaction correctly, but still seeing the "Transaction creation failed." error after I approve that transaction, and can see that the transaction doesn't happen. I'm at a bit of a loss what the cause of this could be now!
how can i set the token mint supply of NFT
hello, I receive messages via websocket and programSubscribe for a particular program. The messages I receive is for accounts that have had their last transactions many days ago. is this expected? I thought I will get real time updates. what am I missing?
im starting to develop locally, does anyone know how to clone multiple program into local validator?
but like, if it takes 1 day then can I treat it as time? if very large time difference is provided, then can I get a real time with block height roughly? I don't care about 10~20 second difference.
block height is a form of a real world clock so you can treat it as such but deriving a time difference based on block height can be inaccurate (each slot doesnt always take 400ms)
I'm thinking of using https://github.com/Bonfida/token-vesting, and it says it is revoked by block height
How to use mnemonic to import wallet in solana-go
why not use `clock` sysvar? https://docs.solana.com/developing/runtime-facilities/sysvars
Can I regard block height as specific time? like, If current block height is 100, and 4s later would be 110
is there an ETA on release at all?
devnet still down?
Is there any way to debug a "Transaction creation failed." error from Phantom? I'm able to serialize the transaction using:

```
    const serialized = transaction.serialize({
      verifySignatures: true,
      requireAllSignatures: false,
    });
```

But when it's sent to Phantom it just keeps saying "Transaction may fail to confirm", and then  if I approve then it does fail with "Phantom - RPC Error: Transaction creation failed. {code: -32003, message: 'Transaction creation failed.'}"

So I figure there's something wrong with my transaction, but I'm not sure how to go about debugging what that could be
I'm getting Operation Overflowed error when I mint more than 20B tokens at once, how can I mint more than 20B tokens?
I tried to automerge some updates to my token data and it was denied and said my token address already exists, is it possible to make changes?
I noticed that the free official solana mainnet nodes are kind of slow, and some rpc calles are even forbidden. Same goes for the project serum nodes. This is understandable, since they are free. Now, if I host my own node for my client accessible dapp, there is nothing preventing the users of that dapp to figure out my own hosted rpc nodes address and use it in their dapps too, possibly lowering my dapps throughput? Can I secure my node so it only works with my dapp?
I am working on a staking manager and wanted to fully understand how exactly is the validators yield determined (not estimated).
Any resources on how voting credits work, how are they distributed (or gained?) among validators and how to derive an exact validators reward (what are all the parameters influencing this result)?
<@!150787664553967616> any idea on this?
It appearently shows that I can only mint 18.4B tokens max
Hello, is there any way to mint 30B tokens at once?
Hi <@!827108202763649074>, can you able to get an solution for disable transfer for token after minting? can you help me with this. i'm also looking for an similar solution that you have been asked. can you share me the solution for this and if you have any resource related to that would be helpful. Thanks
would it be possible to get solana.keypair.seed to actual words?
what about the seed words?
https://tenor.com/view/dominifox-sheesh-gif-22919198
Yes
so i can use this private key now to set this wallet to phantom?
what a god
it worked
yoooo!
<@263967078346653697> try this:
```python
import base58

base58.b58encode(bytes(private_key)).decode("utf-8")
```
error: unknown encoding: base-58
maybe i need to import some plugin
hmm
same result
try base64 without the hyphen
error: 'base-64' is not a text encoding; use codecs.decode() to handle arbitrary codecs
or decode('base-64')
try decode('base64')
Why there is no #rust channel ?
like capitalize, endswith and stuff like that
a lot of methods, but nothing that catches my eye
yes
instead of .decode, what else appears in your IDE?
you mean what kind of methods keypair.secretkey have?
im sorry i dont understand what you mean
Client-side in Next.js@12
I'm trying to reverse and use the Candymachine CLI in client-side, but the anchor module throws and error that the wallet constructor is not a constructor.
<@!814228493302497301> 
Hii ,i am getting Error  "Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction 
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]
    Program log: Instruction: Transfer
    Program log: Error: InvalidAccountData
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1415 of 200000 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for instruction
SendTransactionError: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction"


for executing the transfer function :
await mintA.transfer(
     authority,
     tokenAccountA,
     owner.publicKey,
     [],
     50
    )
kindly help me,
I use TypeScript, hence not sure how it works on Python, but can you show me the available methods on the secret key part?
any other solution maybe? üôè
neither of the encodings work
yeah that's great, not an issue
so 2 birds with one  stone
and i just want to learn solana and discord bot making
even if it's worse, id like to be able to adjust it
yeah haha, of course
but id rather use my own
lmao, I've created the same thing
without seeing this
i even made the same prefix lol
yeaaah
Like a proper wallet?
https://diswallet.app
prefer rust - dont wanna learn react - but I guesse I have no choice
i want to add solana wallet integration to discord
Can you write your UI in react/vue? Or you want it in rust only?
utf-8 doesnt work
also, what are you trying to create? I *may*  have a similar product
tryna replace latin-1 with utf-8, or base-58, not sure if thats gonna work, but you can give it a shot
I am finding it really hard to make a rust UI for my dapp in Solana.
1. Solana-client crate is not wasm compatible due to dependencies and blocking code.
2. JSON rpc api is not documented using openAPI, hence client cannot be generated either.
Its possible to create transactions since I can serialize transaction object from rust side and send it to javascript where solana/web3.js can parse the transaction object and send it using browser extension - but this is also not straight forward

Are there any known workarounds?

how are you creating the keypair, can you show your code? <@!263967078346653697>
i can send them the public key, but private seeems to be encrypted

hey umm how can i give a user their private key once i create them a wallet?
devnet network doesn't respond in a timely manner anymore
when we will have a reset of the devnet?
Anyone interested in making some SOL for Web3 and UX work on a minting site, message me
Hii all , is there any feature on solana to view the code of deployed program like in ethereum?
<@!178479685456363520>
who will give me permission for pull request for solana token git ???
Is anyone getting this error? When following the Solana tool suite installation guide I got the following error which says
```
sh -c "$(curl -N -sSfL https://release.solana.com/v1.9.5/install)"
downloading v1.9.4 installer

curl: (23) Failure writing output to destination
```
Thx, but if I already have 2 signed transactions, How can I send and confirm it by once? like binding it with instructions...
there is seprate method for in in solana/web3
How do I send and confirm signed transactions at once??
that was it, nvm
oh does `mintTo` not initialize if needed?
I get ```Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction```
I must be missing something v basic here, can't get this to work
```typescript
let airdrop_tx = await mintTo(
      provider.connection,
      user,
      tokenMint.publicKey,
      userATA, //user.publicKey,
      vaultAdmin,
      100000
    );
```
here the `user` is paying to get the airdrop, the `vaultAdmin `is the mint authority, and the `userATA` is 
```typescript
let userATA = await findAssociatedTokenAddress(
      user.publicKey,
      tokenMint.publicKey
    );
```
How is it done on other dapps? Are those just not running on the client directly but on companies servers? But than they are not dapps?
Can't say then. Others will be available to use the nodes as well then.
Can I make confirm and send transaction at once?
No, since the dapp runs on the clients machine
You can block requests coming from other IPs except your dapp's.
Ok thanks, I will check it
createAccount need both from and new to sign but you want to create a PDA.
only program can sign a PDA, so the process will happen in a program
you can take a look at how to sign a PDA and move this process into a custom program.
https://solanacookbook.com/references/accounts.html#how-to-sign-with-a-pda
or maybe take a look at https://github.com/solana-dev-adv/solana-dapp-next
How do judges decide the winners for best integration? Do projects need to complete the integration before the submission date?
Hi, I am getting "Error: Signature verification failed" with following. How can I sign this transaction correctly ?

const [address] = await PublicKey.findProgramAddress(
    [accountOwner.toBuffer(), programId.toBuffer(), mintPubkey.toBuffer()],
    programId,
  );

await sendAndConfirmTransaction(
    connection, 
    new Transaction()
        .add(
            
                SystemProgram.createAccount({
                    fromPubkey: payer.publicKey,
                    lamports: await connection.getMinimumBalanceForRentExemption(
                    ACCOUNT_SIZE,
                    ),
                    newAccountPubkey: address,
                    programId: TOKEN_PROGRAM_ID,
                    space: ACCOUNT_SIZE,
                })
            
            ), 
    [
      payer
    ]
);
i think i got it now üòÑ
okay thank you very much
mnemonics to private key is a one-way operation
but can i generate mnemonics, make private key from it and only send users the private key? and when they import it to phantom, they can generate back the mnemonics from their private key?
But i need to create deployed token as governance, you know <@!788215642070581289>
is there has any information on anchor doc or i have to look for another resource? because i have already deployed and almost it works.
if is this case, yes. you can generate a mnemonics or private key for user. both of them can be imported at phantom wallet
Wallet adapter doesn't work with create react app because the imports are with the extension .mjs
I noticed that the free official solana mainnet nodes are kind of slow, and some rpc calles are even forbidden. Same goes for the project serum nodes. This is understandable, since they are free. Now, if I host my own node for my client accessible dapp, there is nothing preventing the users of that dapp to figure out my own hosted rpc nodes address and use it in their dapps too, possibly lowering my dapps throughput? Can I secure my node so it only works with my dapp?
a idea will more like

1. you create a token 
2. the token can interact with your custom program and have some power

so basically if you want your token have some ability, you need write a custom program.
you can use anchor or native way to write program.
which they later could use as their normal wallets by syncing with phantom or smth
i want to create wallets for users
if you are making a dapp, I don't think you can get user's mnemonics
the process will more like when user enter your dapp
1. you can fetch their pubkey from wallet
2. your dapp compose transaction and request user to sign
3. send tx

the process you won't read any private key or mnemonics which owned by users
ok
not sure what is the context. I don't have any thought about the quotation
In tutorial it says 
"This essentially means that once you are done with this quest, you will be able to make your crypto-currency using Solana programs and use that to do whatever you can think of, including using it as a fan token, a social token, a governance token, a utility token or a coin."
Hi there i hope you re doing well. I need help about how can i use my token on smart contract as governance token ? Cause i built it on anchor ?
the'll be able to fetch their mnemonics?
and when user loads up their wallet via private key
so i can generate mnemonics, then form a seed in form of a private key
i see
aaaah
you can take a look at the link I posted to you. there is a way to create mnemonics in ts code if you prefer to use it.
the wallet is just a private key
so if i generate a wallet without mnemonics
it is a one way process
mnemonics => private key => public key
can i then generate mnemonics based on that private key?
oh
you can import private key to phantom wallet.
I think you can use all cookbook examples but just request wallet to sign it
https://github.com/solana-labs/wallet-adapter
???
but without mnemonics, i can't load up that wallet to phantom, can i?
<@!788215642070581289>  do you have any info??
In tutorial it says 
"This essentially means that once you are done with this quest, you will be able to make your crypto-currency using Solana programs and use that to do whatever you can think of, including using it as a fan token, a social token, a governance token, a utility token or a coin."
a general user used wallet is a keypair.
when you use mnemonics to create a wallet, basically you still create a keypair (https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-generate-a-mnemonic-phrase)
Hi there i hope you re doing well. I need help about how can i use my token on smart contract as governance token ? Cause i built it on anchor ? Help??
maybe https://solanacookbook.com/references/basic-transactions.html
and https://docs.solana.com/developing/programming-model/transactions
Hey does anyone know of high quality auditing services on Solana?
Hello everyone, I am trying to run my own node with full ledger, so that I can run my own explorer and RPC. But, I am unable to store all historical data on disk. How am I supposed to achieve this?
guys I am trying to upload my own metaplex store for personal use not for allowing other creators to sell, now I have everything working on github pages but why can't I uplowd to my vps or namecheap hosting?
I get a white web page when I upload the build file, the title and favicon shows but nothing more 
need some help
What is the best way to have NFT be minted on Solana while using a React App? All the examples in cookbook needs me to have the Private key as well, and the spl-token library wont work with CRA4, I cannot overhaul the entire project to add solana to it. 
So, how should I Mint the NFT?
in that case, how would i load up that wallet in phantom wallet or smth?
how come the wallet can be created with just a key pair of public/private keys without mnemonics
what is a keypair
Hey guys, i can't figure out how creating of a wallet with solana.py works
Hi I am trying to integrate Solana into my wallet. However, I can't find documentations on details of how to implement transaction and instruction message. May I know where I could find it? Do I have to read from code? If so, which project should I be reading. Thank you. üôè
check you wallet
plzzz
(It doesn't work for me, I've tried every way)
can someone please send me devnet SOL: `FzffpmKquwkCPtXNcXJ7Y82sLnRRQvQTRPtcGufnkRgd`
https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint
FYI 
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getRecentBlockhash
and
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getLatestBlockhash
Hey any of you know how to get all token acct related to a specific nfts?
Makes sense, odd web3js doesn't even have the newer methods to use. It's late will look again in the AM. Thank you
ty!
if you want to make creators verified, you can use https://github.com/metaplex-foundation/metaplex-program-library/blob/master/token-metadata/program/src/instruction.rs#L180
and yes, the creator need to sign the tx.

also check <#937905165074300999> 
you can get a better support there
if both are set to true, do I need both keypairs to update it?
Im using the update authority, im referring to these signers (this is an example online)
not sure what signers you are referring to.
https://docs.metaplex.com/token-metadata/specification#full-metadata-struct
if you want to update metadata account, you should use a correspond `update_authority` and sign.
ok got it , i have not  updated the config file
And can you run the code with the same config locally? Always a good idea to isolate any issues that way before deploying to Vercel
Did you update the config.json file with an SPL Token mint address? The error you're seeing can be caused by that or by a missing secret key environment variable
if there are two signers on metadata do I need both to sign to update it?
i have setup the  env exaxtly as the doc says
Does anyone know a good tutorial for writing solana smart contracts in c++ besides the solana github page? Thanks!
Octane requires configuration with build settings and environment variables to run on Vercel. There's a whole guide on this on the repo.
https://docs.solana.com/developing/clients/jsonrpc-api#getminimumbalanceforrentexemption
Thank you. How do I know how much 2 years' worth of rent is? Sorry, I can't find it in the Sol docs other than it is currently fixed at genesis. Also, what are your thoughts on using Arweave?
if you don't turn off preflight, I think it will return you when you send a tx.
or you can use simulateTransaction to get the log.
when i try out octane i'm getting this err in vercel ,
pretty new to this.. how do I read the program log?
metadata program's error list is here 
https://github.com/metaplex-foundation/metaplex-program-library/blob/master/token-metadata/program/src/error.rs

also I think you can just read the simulate program log. it will print some hint on it.
I keep getting this error: custom program error: 0x3b

When I try to change metadata
yeah. so the main point is on your custom rpc node. the 1.8.x or 1.9.x is about your rpc node.
maybe take a look at https://solanacookbook.com/guides/serialization.html#setting-up-for-borsh-serialization
you can take a look at https://solanacookbook.com/core-concepts/accounts.html#rent
when you create an account and you give it `2 years of rent payments`
then this account won't be charged by any rent till the condition changes
I'm using the latest version of solana/web3js and connecting to my custom rpc node.
if you're querying at endpoint which solana version is 1.8.x. you can only use getRecentBlockhash.
if you are using 1.9.x you can use both getLatestBlockhash and getRecentBlockhash
maybe https://solanacookbook.com/guides/retrying-transactions.html
Hey, sorry this might be a naive question, but does this mean you can create a storage account and no matter how much you store on the account you won't be charged rent if you hold some SOL in the account?
Hi. How to get type of variable . I try this solution but it not working. Thanks.
Super dumb question.
"NEW: This method is only available in solana-core v1.9 or newer. Please use getRecentBlockhash for solana-core v1.8"
I am using npm @solana/web3.js
What is the difference? I am using deprecated functions and it's just kind of annoying.
I've been getting occasional `Transaction was not confirmed in 30.01 seconds` errors on mainnet-beta. Is there anything I can do to reduce the frequency, like a beefier RPC endpoint I can hit?
if I had to guess: your wallet either has no solana in it or you're loading an immutable account as writable
when I run `solana program deploy XXX`, it hangs for a bit and then gives me this error:
```Error: Custom: Invalid blockhash```
Hey all! I'm getting this error on both mainnet and devnet

```error: Error: Transaction was not confirmed in 60.01 seconds. It is unknown if it succeeded or failed. Check signature 3QJrHgztw64GJhyDf2fHHobN2TEcQ4jQ96mL51fcdgk4Bi8vPxSceCpBrN8Pcrp3jkksXsL5GSC6iSoHCnXeC2iK using the Solana Explorer or CLI tools.```

Does anyone have any way to fix this? We tried switching RPCs with no effect üò¶
does the `solana_program_test` crate compile the tested program using `bpf` as the target?
Thank you for the response! I will look deeper into where the decimal confusion  is. The way the backend is set up is that it has Lamports_per_sol configured for when the auction token is set to Solana, and a lamports_per_mint for using other SPL tokens. Just confusing because the minimum bid shows up right in auction info but when you go to actually bid it requires 100000x the minimum bid otherwise shows invalid mint‚Ä¶ will play around with the invalid mint constant and lamports_per_mint!  Thanks again
not sure.  when your dealing with native tokens though decimal needs to be accounted for,  but programs and apps may deal with things differently.  not sure how auction and or the front end your using deals with this..  but from the sound of it it sounds like u need to add 0's to accomplish would a converted 6 decimal '100' token equivalent would look like.   otherwise its like saying 0.00xxx of your token, as opposed to 100.   try doing some test minting or transfers between your own accounts in devnet or local, to see how this works from a units perspective.  its possible when setting the auction its doing the raw native units? and not taking into consideration your mints decimals.
Perhaps someone here can help, I have created a metaplex storefront for auctions and secondary selling. Secondary sale works fine without any errors, but when I set auction to 100 of our native tokens, it says invalid bid and that the bid must be more than 100,000,000. Is this most likely an issue with Lamports_per_mint? Somehow it‚Äôs off by 6 decimal places which is the number of decimals our SPL token has
to our brave users, and the dangers of CLI and scripts in the hands of ...    the copy paster -nontester -nonreviewer.
That's the easy way out of course: throw the problem over the fence to the wallets üôÇ
In the general case I feel that's more of a wallet feature: it really ought to warn and fight back when the user tries to transfer to a non-system account
Ah, interesting‚Äîok, yeah, the question I got asked got me wondering if there was a push to make it easier to fix these oops-type mistakes
It's just generally not something that's supportable, since you can sent native SOL to all kinds of things that won't allow you to get it out
yeah, toast.  There's an issue about this at https://github.com/solana-labs/solana-program-library/issues/2742 fwiw.
If you feel really strong and want to contribute the SPL Token code to do it, I think an argument could be made to add the ability to close a multisig account
I'm assuming it's toast since you can't close the account
Ok, and just to verify, were one to accidentally send some sol to a multisig account (lol, not me, but I got asked about it), that sol is toast right?
correct, not possible
Double checking something‚Äîit isn't possible to close an spl multisig account, right? I don't see an instruction to do so but wanted to verify.
we're working on it.  This looks like the fix, https://github.com/solana-labs/solana/pull/23541, which still needs to be backported to the v1.9 branch and then released
lots of txs not confirming
devnet seems to be playing up today
Same ERROR HERE.
hello guys how can i get all token accounts for a specific NFT?
anyone know a dapp to bulk send NFTs?
is anyone having issues with very long transaction confirnmation times? trying to upload a candy machine to devnet but keep getting ```Transaction was not confirmed in 60.00 seconds```
even with custom rpc it just isn't getting a lot of confirmations
I see thanks for the feedback.
no not aware. lots are interested in doing this and trying to reverse engineer their accounts it seems. not sure on their stance on this or how helpful they are able to be.
thanks. it's basically a magic eden escrow account. they are not very responsive. do you know if they use any common account type for their listings?
if its a non standard account probably yes,  there is more code for common account types, like mint, token, etc.  based on how they serialized the data though will determine what you need to do.  id also ask the party if you can responsible for the instructions and accounts data, how they did it or whats required.  you can try looking at an explorer related to a transaction as well.
A lot.
How much sol can I get doing this method?
How often do you guys restock it so I know when to be on website
It‚Äôs been out for days
The faucet has been getting drained all day. Your best best is to run the solana-test-validator on local. https://docs.solana.com/developing/test-validator
hello I'm trying to deserialize base64 encoded data from an escrow account using borsch in python.  do I need to know how the program serialized it?
How often do they fill up the faucet?

Can one of the owners here tell me when they are restocking
Thanks!
it depends on your needs, but currently many either pull down the list and and store it in a collection of some kind, and map/filter it further as needed, and or take a subset of the list they require and store or cache it locally.  governance SPL, and jupiter SDK have some examples that you might find helpful.
I'm looking into using https://github.com/solana-labs/token-list to look up spl-token information and I'm a little confused about how to efficiently find tokens. Does the library have a way to look up tokens that doesn't require me taking the tokens array and turning it into a dictionary?
thank you for the answer ü§ù
sounds like a metaplex Q. not sure on this.
for example, you can try to lookup `do_support_realloc` in solana repo and `realloc` in the SPL. 
you can ref in devnetwork feature: 75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1
`solana feature status`
and it is not active.  
you can try in your local validator as everything by default i believe is still active.
Hey lads, if I mint x amount of NFTs from a master edition NFT, how can I get a hash list of those?
You can use `$ solana-keygen grind` and then feed the resultant pubkey into the `InitializeMint` instruction.
The Rust SDK has `tx.message.serialize()` if I want to serialize a `Transaction` into a signable message, but how would I deserialize that message (in Rust) back into the `Message` or `Transaction` object?
When creating a new SPL token, is there a way to set/influence the start of the token - for example some WL tokens will have the first 3-5 characters related to their project name (e.g. DUST protocol has DUSTawucrTsGU8... $PESKY has nooot44pqe... $INV has invYVY53...) - or is it just a hell of a lot of creating tokens until you get something that resembles what you want?
can someone point me to the right place for an example with the new `realloc()` feature? I tried it on a pda that's owned by my program, but it says `a program that's not the owner of the account tried to reallocate` ü§î
<@!489206164270350337> anyone ?
Oh duh, great idea. Thanks!
Try minting your own spl-token for testing? 

Follows the same spec so you should be able to prove out whatever your doing
Or maybe on the test validator I can just sort of hack the USDC account and transfer some to myself by force?
Is there any simple way to get some of the USDC? I can airdrop myself SOL, but I'm not sure how to convert that to USDC.
That is the correct mint account
`solana rent -um <bytes>`
is there an estimation for account storage costs on chain per byte with rent exemption? Need to estimate the cost of storing a pubkey + u32 + whatever the account itself costs.
I would like to add a couple tokens to my application (I don't care which, but perhaps USDC and ETH ü§∑‚Äç‚ôÇÔ∏è ). I'm looking at  https://docs.solana.com/developing/test-validator which suggests I can use `--clone <USDC solana token account> --clone <ETH solana token account>`, and I shouldn't need a `--bpf-program` because the solana token program is pre-installed on solana. Please correct me if I'm wrong so far.
If that is correct, is this the correct account to use for USDC? https://explorer.solana.com/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/metadata Specifically, I'm wondering if this account is meant to be used with the solana token program, or maybe is it for some other program (custom USDC-developed token program maybe?)?
ive gotten so far, and now im rate limited RIP
i just need to write a few more tests in devnet
im honestly almost done
Ah, but yeah, might have a lot of accounts to clone
Nah, you just clone the accounts themselves‚Äîthey'll already have their state all set up
figure out all the CPI for that as well
then i'd have to set up Solend's lending market and reserves
i only know their public addresses, id have to set them up with their `init` command or something which i dont know if they publicly expose
They just won't update dynamically, not sure if you're relying on that in your tests
Have you tried cloning the oracles you use? They're cloneable too
=/
pyth + switchboard oracles
cant do that. I need access to their oracles as well
`solana program dump -ud <address> program.so`
Hey everyone. How can I add multiple programs to Anchor? It's still generating only one idl
Dump the program from devnet and load it to your local validator
Is there thoughts on how this would scale for organizations? 

M of N multsig doesn't mitigate the problem of having hot keys for organizations that expect to have a high amount of minting traffic. 

Is there a way to have some sort of backup key that lives in cold storage and only has to be used in the case that hot keys are compromised?
it only works in devnet because it relies on a devnet program that is not mine
i cant
Test on local validator
i've been stuck for the last four hours on this. Any recommendations?
üò¶
Faucet keeps getting drained
Whatever the account state currently is.
pretty frustrating tbh
i cannot mint myself sol in devnet... I keep getting rate limited
Can someone please run this command a few times:
```solana airdrop -u d 1 FzffpmKquwkCPtXNcXJ7Y82sLnRRQvQTRPtcGufnkRgd
```
wdym current state ?
Try https://discord.gg/X32UY7Eg
They count for the current state
Anyone seen this error?
```
and when I put anchor keys list :

~/solyetis-staking-app-master/contracts/flexible_staking_contract$ anchor keys list
thread 'main' panicked at 'Code not parseable: Error("bump targets should not be provided with init. Please use bump without a target.")', lang/syn/src/idl/file.rs:357:58
note: run with RUST_BACKTRACE=1 environment variable to display a backtrace
```
also do simulated transactions count for the "Pending Transaction Queue Size"?
I'm clearly missing smthing cus people are able to get txs in first, I'm thinking it might just be super fast rpcs and getting your tx in first
I mean I'm retrying now but nothing gets through and typically the NFT would be sold out by the time I could even get a tx in
That's it. They've retried
yeah I read this but is retrying transactions really the best solution? especially if I'm trying to mint an NFT it would go out of stock before I could get a TX in because of congestion, there are some people who have figured out ways to get their txs in first. I think they just have super fast RPC's but I'm not sure if there's more to it
https://solanacookbook.com/guides/retrying-transactions.html Explanation of what is going on is here too
on nft mints ^
generally during high congestion periods I get a shit tone of my txs dropped, I'm assuming if I keep retrying eventually one will get through but that's not rly ideal, is there any way to mitigate my txs getting dropped?
Some do add multisig to those authorities on the mint account. Others just disable altogether
There may be something with getProgramAccounts with the mint address. Check out this guide with the chart https://solanacookbook.com/guides/get-program-accounts.html#datasize
Are the only "authorities" to manage spl tokens the freeze and mint authority? 

I'm missing something. 

If  either the freeze or mint account is compromised then irreperable damage can be done to the token. Is there additional roles that can be added to manage the governance of a token?
H-m-m... OK. Thanks
nope, a specific NFT
id try the official docs first, not sure on the vs extension or support.
Of a collection?
Not yet. I wanted to do it with VS extension...
hello guys how can i get all token accounts for an NFT?
did u try:
https://solang.readthedocs.io/en/latest/installing.html#installing-the-llvm-libraries
Extension name is - Solang Solidity Compiler (https://marketplace.visualstudio.com/items?itemName=solang.solang)
M-m-m..... "The best way to install Solang is using the VS Code extension"
The vs extension is not solang
I have reloaded Termial & my notebook üôÇ But no use...
I am trying to port Solidity Smart Contract to Solana program following this tutorial - https://soliditydeveloper.com/solana . I installed Solang in VS extension, but I get `bash: solang: command not found` Can anyone suggest what should be done for that? Should I update $PATH variable? But where can I find solang location..?
<@!920677960846041090>  various wrappers for CreateMint and previously related to Token wrapper, were not meant to be used with wallets directly, but instead were used with keypairs. The underlying logic can be redone for more wallet friendly uses,  though mint creation from a front end wallet may not be a very common task.
Big thank you for your answer!
Hello devs!
You have to manually create the transaction for wallet-adapter. Just do what it is doing internally https://github.com/solana-labs/solana-program-library/blob/48fbb5b7/token/js/src/actions/createMint.ts#L41
a payer must be a signer, but additional signers can be included
But method says that it should be instance of Signer
Payer would be the publicKey of the wallet connected
I'm looking for Developer  to hire who can help me integrate Wallet-adapter on my Flutter App.  on 1 page and issue token on particular event. I see adapter is working on React only.
Hi everyone! I use wallet adapter (https://github.com/solana-labs/wallet-adapter) for my front-end app. And I need to use ‚ÄúcreateMint‚Äù method ‚Äî https://solana-labs.github.io/solana-program-library/token/js/modules.html#createMint. But wallet adapter doesn‚Äôt provide ‚Äúpayer‚Äù. How can I get payer data in my case? Thanks for any support.
Not sure how to integrate with flutter, but I am familiar with the wallet-adapter
yes, that one is using react, I'm trying to run smart contract and issue token every-time QR code is scanned
You mean the wallet-adapter?
does anyone has experience in Solana adapter?  I'm trying to integrate on my current existing app
my app is built using flutter
https://discord.gg/NwMAer8W for NFT support
Yeah nft token data
Are you talking about NFTs?
I am using react with TS
How can i pull creator info from a token for now i just pulled token info bt i do not see verified creator adress
https://docs.solana.com/cli/install-solana-cli-tools
Link?
local-validator is the way to go when faucet is out
Yes
How often does it get restocked?
Are they going to restock faucet tho?
Does anybody have an idea how major spl tokens are created/minted? 

Do they just use the spl token program(https://spl.solana.com/token) ?
if you need more than a couple devnet SOL, consider testing locally with `solana-test-validator`
`solana -ud airdrop 1`
Or do you guys know when they will restock the faucet?
I couldn‚Äôt get it üò≠ does anyone know any fast way to get devnet?
https://github.com/solana-labs/solana-program-library/issues/2953
Bad actors have been recently draining that faucet üòï
I just transferred my devnet life savings, 55 SOL, into that faucet.  Grab it quick, hope it works.
Otherwise `solana -ud airdrop 1` is now working again.
Important for math too!
Ah okay so nothing really important
If you wanted to transfer 10 of token X, you'd need to multiply by 10^(decimal) when using it in the transaction
Did it get moved to a different package?
do the decimal places in spl tokens matter at all apart from visual purposes?
What happened to the Token from @solana/spl-token
Hello all
Balance been low for a couple days I need to test some things
When are you guys going to fix devnet faucet?

hey is there a way to get recent blockhash in a program?
You can `--clone` accounts (using the `--url` option to specify from mainnet/devnet etc.)


///////////////////////////////////////////////////////////////////////////////////////////////

