Thank You!
you just derive the pda on client side and pass in the pubkey you got, inside the program you have to create that pda and also use the seed and bump of it in signer seeds to create it.
so the flow is use the finProgramAddress method in the client side to get a PDA and then create it's account and then pass that to the program and use Invoke_signed and pass in the seeds that were used to create the PDA in the first place?
invoke_signed is used when the program signs for something, and because at creation you define that the program is the owner of the pda, you can sign for that pda but you have to use the seed of it in the signer seeds part
Ohhhhhhh so the invoke signed takes the instructions and accounts and the signer seeds are of my program???
check `invoke_signed`
yes i know but i just need it as a test to see if i can use it to sign a transaction in a CPI or not!
and where do i specify the seeds?
I would make the struct first, so you know how big the account should be, and create it like that
systemProgram.CreateAccount right? and for the struct and it's size i can input let's say 1?
next you have to create that account
Thanks guys! I appreciate the help.
Hello everyone, can anyone help me out with the program derived accounts,
i can use the use the function PublicKey.findProgramAddress and it will generate a publicKey and i can send it to the program but what do i do from there
I asking for help for helping because I have automating error on GitHub and idk how to resolve that üôÇ if you can help
And idk how to fix that
It say automerging error but I fix everything (on GitHub)
Yes
not sure what you're asking about haha
git?
Hi I have problem with merging but I see 0 problems like I clear all the problem and it still say I got a problem can anybody can help me with that on a discord chat or share screen?
using devnet for your production app is basically using the solana foundation to pay for your messaging
end of the day, if it works for you, you're not wrong
but then again, its <@!711352300467257369>'s prerogative (or any dev's prerogative) to do that
i mean, i was driving that point out
devnet can get purged at any time
sigh speaking of that, wondering when it'll end
but that's a great idea haha, i wouldn't have thought of that!
Well solana mainnet is in beta so
if I were to run a production app I wouldn't want any of my apps to depend on canary/beta infra
i mean
i wouldn't rule it out
Considering its called a devnet, it could carry a possibility of data wipeouts if there ever was a decision
I don't think solana purges devnet
hmmm.. but there's no guarantee that the devnet will retain its data though
So you could have your comments/chats running on the devnet while the dApp main functionality runs on mainnet
But a cheat is to use the devnet and free sol for non critical cases
No, just 1000 transactions would cost about 2 SOL
Is there a mechanism of example of how to set up staking of the SPL tokens?
How can I add extra fees on my spl-token buy/sell  that will always go back  to the liquidity pool
Tx fees are very cheap, but storage space is *not* very cheap: ~7 sol/mb of rent-exempted storage (aka on the order of $1/kb)
Hey guys, are SOL transaction fees low enough that I could do a dApp completely on chain? Including comments/chat?
All solana tokens are implemented via the spl token program, yes.
Are all Solana tokens of type "SPL"? (if there is such a thing as "type")

Or is the SPL just the tool set?
did you find a solution? I get the same error after signing with phantom
How do i drop a collection on Solana at 3 different pricing levels? We want to keep 200, sell 300 at 0.5 SOL presale, and 500 at 1 SOL public - do i need 3 candy machines? Also can we add a function that rewards 10 custom tokens to each NFT holder daily or does that need to be set up through external staking?
I have multiple accounts on phantom. The seed is the same for them so they are derived accounts. I need to build a keypair.json so I can create a gumdrop. How can I use the base58 private key to get that array in a Jason file?
pretty much, yeah
Still thanks!
So I need to have a server to store the private key and its just a matter of securing the server
gotcha
nope
do you have some docs on that or any other links?
securing your private key isn't really an architectural problem here, just a matter of securing your server so users can't access it directly
PDA wouldn't really be a solution, since anyone could run the program, you'll need to a way to secure the program to only run for a specific trusted party, meaning you'll have to sign that transaction anyway. otherwise someone could just drain the fund stored in the account

we solved that problem by using something like hashicorp vault on the backend, where the key is stored as a transit key. the vault is only accessible from the frontend and you can sign the transaction through the vault's API without the key ever leaving the vault or going to the frontend.
So let's say i have an app where i want to send 1 sol to a wallet if a button is clicked.
I would just do a regular transfer transaction. But my wallet which is sending the sol to a wallet has to sign the transaction.
So there are 2 possible ways to get the keypair from my account into the frontend to sign the transaction:
1. hardcode 
2. fetch from API
But this is web2 style and no really secure.

What can i do to not expose my secret key, But still be able to sign this transaction?
Sounds like PDAs right?
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
are there events available in solana?  What is the best way to search for a recent deposit transaction in an account, if transaction hash is not available? In ethereum it can be easily done by filtering events from last 50 blocks and checking for transactions where to address is the account. How to do similar operation in solana? I basically want to avoid going through every block in the recent past and check all the transactions. Is there an optimized way for this?
Not sure of what you mean
Solana Programs, when deployed, are 'owned' by the BPF Loader with an account as the authority. See `solana program deploy --help`
Wallets accounts are created/owned by the System Program
How to set program id as solana wallet owner ?
they might not be PDAs
and it only happens with the UpdateMetadata transaction
So it's not the function signing and processing the tx nor the wallet.
Hi,
I get this error: `x.pubkey.equals is not a function` when i try to partially sign a transaction.  But the Keypair that is signing literally is a Keypair and i also signed other transactions with it already. the Keypair is hardcoded
I am trying to update Metadata
the mint address is decided by the keypair, the createMint function creates a new random one every time you run it. replace that line with a static keypair that you provide
Need to keep the same mint address
copy paste the code inside the createMint function (it's not much) and run it with your own Keypair instead
So I need the my-keypair.json file for one of the derived accounts. I dont know how to recover it with solana cli recover because it only gives me the first address
How can I use the mint address created from Token.createMint in devnet on mainnet. Meaning to keep the same mint address
One seed must translate to one private key but there could be multiple derived accounts (with extended private key)
I am using phantom, I have a few wallets and they all have the same seed key but different private keys? I dont understand
Does Solana offer a JSON RPC API for interacting with token contracts? Trying to write a C#/Unity off-chain app.
Hi <@!831450660146642974> , Regarding the the same, In the jabber program, any associated account creation is done from client side only because I don't see any associated account creation code. Or Am I missing something?
Could you paste the whole error message pls <@!370923897643597825>
And I'm getting '0xa8' error and there's no messages and docs, perhaps somebody could help plz
I constantly get random errors, and I want to dive into problems but I don't get any messages from it. I just simply get 0xXX numbers but there's no any docs about it
Is there any place I can search for 'Custom program error: 0xXX'?
Yep, same as with any account
So I got to manually send them some SOL to keep them alive, right?
Whenever you create an account you specify its starting lamport balance, and rent is deducted from there (assuming the balance isn't enough to exempt it from rent)
Yes, their rent is "billed" directly from their lamport balance (same as with any other account‚Äîno difference for PDAs)
Anyone?
Hey guys, do pda accounts need to pay rent? How are their rent paid? Billed to whom?
Not sure if there's any way around that besides just picking a new program id and redeploying from scratch
That means you've run out of space (the upgradeable loader pre-allocates 2x your initial deploy size, but you can subsequently blow through that budget if you add more code)
How do I solve this error: `Deploying program failed: Error processing Instruction 0: account data too small for instruction`? https://forums.solana.com/t/how-do-i-solve-deploying-program-failed-error-processing-instruction-0-account-data-too-small-for-instruction/4252

I think there's a limit on the program'size at 150K. But I'm not sure.
4.10.1
I'm getting a lot of warnings too when I start app - "Failed to parse source map from '/home/julian/JavaScript/nftread/node_modules/@metaplex-foundation/..." - looking into that to see if its related
I started from scratch in a new React app... still researching. But it's good to know it's working on your machine as I may try now on a different machine
Are there any Solana/Rust/Web Devs looking for work? DM me
Why does Solana devnet have a ratelimit or ban on AWS ips? I can run tests on testnet/mainnet fine
you can airdrop yourself funds SOL with `airdrop 1` in CLI, with config pointing to dev network. or equiv RPC commands, and or create your own tokens and mint yourself test funds of a unique token. some protocols have faucets or airdrops on their dev sites, where mints are controlled by them.  dev is primarily made up tokens, aside from SOL.   walking through this may help: https://spl.solana.com/token
i dont believe there is any ranking or consensus for this if there is such a thing. you could try to look and ask around and see which protocols mention which firms (as they tend to do on their site somewhere). soteria, kudelski, and neodyme are among some options. I would look into it and check options, pricing and availability based on your need.
I am running into the same issues. Did you ever resolve this?
trying to see something
how do you send "dev" money to devnet
Depends on the size of the program
What version of Metaplex are you running? I ran this personally and it worked
So are you saying encoding my seed phrase to base58 is the keypair?
search `base58` on npm
Why does minting  an NFT have a minimum cost of ~$2? is there any way to make it cheaper?
How much is it to deploy a smart contract on solana?
Hello, I'm trying to make a keypair. However I didnt make it as a filesystem wallet. I just have the public key and seed phrase, can I generate a keypair json from this info?

I am following a Solana cookbook example for "read NFT metadata" but I'm not able to get this to work in a React app (and I'm sure the problem isn't w/my React app)
Any tips on where I went wrong?
Hi, if I am developing a project, who are the leading and most reputable Solana smart contract auditors?
worked exactly like you said. its been a journey. i know a lot more about how it should work now thanks üëç  <@!134416332509675520> <@!785084693023424542>
You need to pass 1) the system program itself (neither writable nor signing), 2) whoever is paying for the account creation/the tx fees (writable *and* signing), 3) the found program address at which the account will live (writable but not signing)
Don't need to pass the program_id like that at all as an account
Nope!
though trying as we speak
i see. that makes sense. i did think about that but wouldn't that mean, when the client sends the request, it would require the `program_id` signature i.e. `AccountMeta::new(program_id, true)`
And then use `invoke_signed` to execute the instruction, passing in the seeds + bump:
```.rs
invoke_signed(&that_ix, &[ ... accounts ... ], &[
  &[b"party1".as_ref(), &[the_bump]]
])?;
```
For that you would do find_program_address with the seed *and your program id* (not the keypair thing you have in that client link above), and then `system_instruction::create_account`
my goal was to initalise an account at the pda with some space to store state.
i created pda off chain and now was trying to create an account there.
what are you trying to do?
you should be able to just invoke( with caller,  and im not sure wha the PDA in this instance is for?
if your creating an account with seed, you generally dont have that as related to a PDA, its something different.  a PDA is for the program account, not sure why your doing it like this?
Yeah, you'd use `create_account` to allocate an account at a PDA
probably a better way, i did use `create_account` earlier but my intent there was maximum verbosity for my sanity
you need to pass both signers. 

what are you trying to do with the pda?
```sh
Transaction executed in slot 46212:
  Signature: 4npYzRqLztokYM8hh6sNDyBNdW22de7UigCCWQizKhLkrzhjBhYEDQuk5RZTxjFCehT4NPQbNSwcjA1DMuKf1vXc
  Status: Error processing Instruction 0: Program failed to complete
  Log Messages:
    Program 3c1WLbtWmxfRiSXqmWrEHdx2eLz2SH3x8ZEf6MRiCS5J invoke [1]
    Program log: 3c1WLbtWmxfRiSXqmWrEHdx2eLz2SH3x8ZEf6MRiCS5J
    Program log: 3c1WLbtWmxfRiSXqmWrEHdx2eLz2SH3x8ZEf6MRiCS5J
    Program log: 254, 0909 [AccountMeta { pubkey: 6dgaoQ3YfTtTfXhLM6rtqnw3KUCj6fhjfPzjWGgw7sBP, is_signer: true, is_writable: true }, AccountMeta { pubkey: A4LYtN9CYn2NN186qkFwfB2gmGe45SbqDCbxvfQt9T14, is_signer: false, is_writable: true }, AccountMeta { pubkey: 3c1WLbtWmxfRiSXqmWrEHdx2eLz2SH3x8ZEf6MRiCS5J, is_signer: true, is_writable: false }]
    Program 3c1WLbtWmxfRiSXqmWrEHdx2eLz2SH3x8ZEf6MRiCS5J consumed 139013 of 200000 compute units
    Program failed to complete: Could not create program address with signer seeds: Provided seeds do not result in a valid address
    Program 3c1WLbtWmxfRiSXqmWrEHdx2eLz2SH3x8ZEf6MRiCS5J failed: Program failed to complete
```
And you're doing `find_program_address` in the client using your solana keypair as the program_id ü§î
I'm also confused why you're using both find_program_address as well as create_account_with_seed (those are for different use cases, confusingly)
Can you print your full program log?
sure
program code (about 30 lines) - https://github.com/evergreen-trading-systems/pda-cpi-error/blob/master/src/lib.rs#L34-L64
client code (about 30 lines) - https://github.com/evergreen-trading-systems/pda-cpi-error/blob/master/tests/test.rs#L30-L59
can you link to the lines on client and program in question so we dont need to hunt? saving minutes helps.
I'm running a local validator with logs
When trying to use the RPC I run in to this error
```
"error": {
        "code": 403,
        "message": "Access forbidden, contact your app developer or support@rpcpool.com."
    },
```

Anyone know what I have to do to get the correct permissions?
src contains the program code and tests contain the client code
sure here is the full code - https://github.com/evergreen-trading-systems/pda-cpi-error
provide the code: link/share code blocks. 
PDA creation on client, and how your signing and executing in the program
Currently PDA is derived from deployed program. I tried deriving from caller account then I get `Provided seeds do not result in a valid address`
The only account the client sends as signer is the caller  which is correct so I rule out the unauthorized signer.
But it fails with this error `Cross-program invocation with unauthorized signer or writable account`
On chain, I receive the PDA and execute instruction to create an account there - https://gist.github.com/evergreen-trading-systems/b55d6dbe2b8d152961bb2cffa5d0a9c9#file-program-rs-L37-L48
I create a PDA off chain with known seed - https://gist.github.com/evergreen-trading-systems/b55d6dbe2b8d152961bb2cffa5d0a9c9#file-test-rs-L10-L13
Out of so much I have this 1 error that is somehow evading everything - the last error remaining
probably, it may be a thrown exception by phantom, and not an uncaught one. if its still showing the error code. may be logic for why its intentional.
trusted could be the plugin setting, enabled/disabled, or browser related intercept check,  but may want to follow up with phantom. 
i generally use the wallet adapter, and haven't run into the issue specifically before.
https://github.com/phantom-labs/docs/issues/17
seems like a phantom-related issue though
eager connection is failing, but it shouldn't be throwing an uncaught async error
commenting this line made the error go away
`window[this.walletProvider].connect({ onlyIfTrusted: true });`
but it's actually wallet connection
yeah that's what I thought
it says user rejected the request? that is typically in a 'cancel' when the transaction is awaiting user approval and the cancel button is clicked.
anyone else experiencing this?

trying to eagerly connect with phantom results in uncaught async error
I'm just saying ask these things on the metaplex discord.
Would you rather I not answer you?
Why respond...
Well you don't contact microsoft if photoshop doesn't work, right?
But -b has seemingly been deprecated I tried using that before
Well it's using solana
a) that's a metaplex question
b) `-b "batch size"`
Are you sure you are calling the program correctly?
for metaplex upload
Which batch size?
how to change batch size in solana CLI?
Huh that's an odd error.
on client side i have this
See: https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
What is the error message?
thanks, i will look into this
https://project-serum.github.io/anchor/cli/commands.html#idl-fetch
what's the meaning of 'commitment' in `sendAndConfirmTransaction`?
Look at the package.json to see if they've scripted initiating the `solana-test-validator` for you
when i do the latter, it says localnet:up is a missing script :/
do we need to run both "solana-test-validator" AND "npm run localnet:up" for a program to run locally?
Good idea, what's the best way to look for it on chain?
I'm searching for it now on the frontend
am I forgetting something?
```
    invoke_signed(
      &system_instruction::create_account(
          &initializer.key,
          &pda_account.key,
          178176,
          128,
          program_id
      ),
      &[
          initializer.clone(),
          pda_account.clone(),
      ],
      &[&[&pda_signer_account.key.as_ref(), &[signer_bump_seed]]]
  )?;
```
guys, does anyone have a repository with some code using create_account? I can't use it üò¶
Retrying the exact same request works a second or third time.
<@!455114989397868556> Is this a bug I should report somewhere, or am I doing something wrong?
I am making a large number of rpc requests to the genesysgo endpoint, and some of them are inexplicably returning a null result:
```json
{ jsonrpc: '2.0', result: null, id: '0' }
```
Or see if their frontend has it.
Try to see if they have deployed the idl on-chain.
They are indeed identical.
That leave 40 bytes, which you'd just have to figure out lol. E.g. if they're creating accounts that live at PDAs, they're probably passing bumps as instruction arguments (each would be 8 bytes)
E.g. that looks like 48 bytes of hex. If they're using anchor (decent chance) then the first 8 bytes are the instruction sighash (could verify by finding another instance of the same kind of transaction and see if the first 8 bytes are identical)
Ok, yeah, you'd have to pick through those accounts and see if you understand what each one is doing üò¨ and also figure out what's going on with the raw instruction data, `438e36d81f1d1b5c002f6859000000002a7f050e75055c44bceaaec27875025407a16b1b1d1520547574ac42b759608f` üò¨ üò¨
Sure, here's an example: https://solscan.io/tx/2pKomm9zapRhKvrZkhtKSCnEL9abKxXt7u29ARddL3Yj84TQ9RADPw2cDFn6rGB6PRNRNkqjUHabdChiPPVy8Zc7
Can you show me an example of a magiceden tx in the explorer?
Ok thanks. 
Any tips on how best to do that?
Don't think you're missing anything too glaringly obvious‚Äîif the program doesn't expose an sdk etc. for building the instructions (or a github repo, etc.), then you're going to have to reverse engineer their instruction format.
I'm struggling to figure out how to construct the instructions. 
With many of the examples, you know what the instruction needs to be (since you create the program in the first place).

How can I figure out how to interact with a program just by looking at existing transactions via a solana explorer?
I'm new to this, so I may be missing something glaringly obvious.
i am not familiar with solana but that's how it conceptually works in ethereum land
would it not be the same except you use the live environment and the program ID of the deployed live program?
Hi, I've been getting started creating my own tools and I'm trying to build a POC for an aggregator for the various NFT marketplaces. 
I can't find any good resources on interacting with 3rd party smart contracts via my own client (e.g. using solana web3 and maybe Anchor).
For example, I'd like to be able to purchase an NFT listed on Magic Eden / Solanart / Alpha Art etc directly from their smart contract.

Can anyone point me in the right direction?
I'm looking through the <#763249718339567626> but many assume you're interacting with your own program, and I want to interact with a 3rd party program that's already on chain.
If Metamask is the way to go, are we restricted to using a React front-end?
does anyone know how i can add guaranteed randomness to a program, such as degencoinflip?
Is there a config file for setting this up on a testnet? https://spl.solana.com/token
yes
Per: https://stackoverflow.com/a/27499990/13334600
`string_var.as_slice().to_hex()`
Any of you know how to convert a string data from an instruction into Hexadecimal data? in JS
great, that's very useful
You can get up and running pretty quickly
Anchor Lang is nice because it's pretty self contained
i will check out the anchor discord
so i am an ultra noob
ok thanks, i am on the "helloworld example", which is a step before anchor haha
Also, Anchor is highly recommended for new programs (IMHO)
I'd recommend the Anchor discord, they have a beginners section
is this the correct channel for novice  developers on solana or is that somewhere else?
ya, i just cant figure out wtf im doing diff
computers don't make mistakes, people do
famous last question of a coder
i just dont get why it worked last night and now it doesnt lol
it is the standard
or not i thought i did but i didnt lol
typo . i somehow figured it out tho
is 'yard'  new?  or should be 'yarn'  if 'start' is not found it usually means the 'script' for 'start' in the package.json or wherever your script commands are, are not found.
note: im super newb coder
so i was trying to create a candy machine mint site...  yesterday it ran ... i went to test something this morning and now when i do  "yard start"  i get this error  yarn run v1.22.15
warning package.json: No license field
error Command "start" not found.
run `solana-test-validator` on localnet and watch the log for your instructions. It will give you overall. You can also put in `sol_log_compute_units` for finer grained information


///////////////////////////////////////////////////////////////////////////////////////////////

I can't seem to get transfers to work at all using @solan/spl-token@0.2.0-alpha. I keep getting the same error: "Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction" 
Also, it looks like this is another method signature that's changed from <@!489206164270350337> 's docs.
Hi, I ended up getting too busy with my main job to continue the project but if you're interested in hacking on it I'd be down to continue it with you. I sent you a FR (I rejected the first one bc I didn't know who you are)
Hello there. I've been reading a bit about Solana PoH but I absolutely can't tell where the innovation is. Could someone explain how Solana PoH differs from a traditional "chain of blocks" where basically each block stores in its header the hash of the previous one ? Thanks üôÇ
Hello üëã
Why everywhere come dry una no need help ü•¥
ok, that seems to have done it (cc <@!489206164270350337> )
trying by setting the `CARGO_TARGET_DIR`  env variable
For security purpose
üßê
Like the best practice
blech, nope, still not working
Thank you.
Im pretty beginner for this. So how do I handle the private key here for the mint authority account?
What feedback do you have on it? Code is runnable for what you need to do. `</>` provides full source
ü•¥
I did check it out. But didn't understand  the cook book
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
This should have most of what you need https://solanacookbook.com/references/token.html#create-token
Thank you
So I have token that was created using cli, but I want to implement the minting through web3 api and transfer it to the certain wallet account. How do I do that? What are like prerequisites  for it?
right ... still haven't gotten it running but I think that's because I just ran out of disk space
So `cargo test-bpf -- --target-dir <dir>`?
<@!489206164270350337> - ok, I think figured it out, needed to put the `--target-dir` flag after a `--` on the `cargo test-bpf` command
good idea
You can try using some of metaplex's stuff to check if it has metadata attached
<@!489206164270350337> 
How do i differ between a NFT and a Token if the Token has 0 decimals and the amount i am holding is 1
Thanks heaps
https://docs.solana.com/developing/runtime-facilities/sysvars#clock
Oh I see.where can I get more details about it. Thanks heaps
i don't know if you have to create the ATA for them but i was told you have to
Thank you üôè . I thought it was my API call, but actually it was a transfer and it needed the systemProgram which i forgot to add. that fixed it!
check if the person you want to send to has the ATA and if not create for them and send the token or send right away if he has the ATA.
A NFT is the same as every other Token
This is normal. The timestamp will catch up eventually
<:tinfoilhat:809110749141663754>
The transaction timestamp shows 6 hrs before in the sol scans and Explorer
Is something wrong with testnet timestamp?
It works if i do `wallet.signTransaction(recoverTx)` at the end 
Weird that is does not work if i do it before i sign the transaction with my keypair.
how can i transfer a non-SOL token? specifically, how would i transfer an NFT from one account to another?
thx!
You kind of need to know what accounts are being interacted with the transaction. If you're doing CPI, you check the source of the called program.
thanks! Will look into it
it kinda likes deletes the signature.
Or do i have to sign with users wallet at the end after my signatures
Here's a full flow in CLI: https://github.com/solana-labs/solana/issues/21210
You have to use `addSignature` to add sigs to the transaction. I believe `wallet.signTransaction` just gives you the signature to add
<@!216732707449733120> - saw your post about a smart wallet in another chat, would love to chat if you're working on that / want to work on that. I sent you a FR!
Failing that, i will post the code when I get back
Unfortunately i had to step away, however it is more the case that I would like to debug it myself. I wanted to know if other than the above error, if there is a better way to debug such an issue, such as to find out which account it was expecting that was missing etc.
would love to chat - sent an FR!
Without any information on the transactions, we won't be able to help here
How do i partially sign with the users wallet for offline sending?
When i did `wallet.signTransaction()` it signed the transaction but it did not keep it when i then did the signing and recovering
Right, I tried that, but it runs `cargo test` whereas the test I wrote needs `cargo test-bpf`, but that doesn't accept the `--target-dir` flag
Hi, we have submitted a request for our project i.e. NodeBunch in solana ecosystem  2 week ago. but still there is no update regarding this and our project also not visible on solana ecosystem website. please  help. our project name is <@!368465719932747777>Bunch
Looks like test coverage report is generated like this on our repos https://github.com/solana-labs/solana-program-library/blob/master/coverage.sh
I'm working with Anchor, but can't get on their discord as their bot seems to be broken with my discord. Wondering if anyone can help here. I'm getting this error:
```An account required by the instruction is missing```
However I have no idea how to figure out *which* account is missing. Is there any better way to debug this, some sort of switch, or env var that can show more info, etc?
Should be able to do something like `bincode::serialized_size(&tx)`
Yup -- more specifically how to get coverage reports for said unit testing - already using `solana_program_test`
Does anyone know how to get the wired transaction size in Rust as implemented in web3.js https://github.com/solana-labs/solana-web3.js/blob/168d5e0/src/transaction.ts#L572 ?
I don't believe so
Does the order matter in which is sign a transaction?
Glad to hear it
it looks like the error was actually that the owner didn't have enough SOL. strange error message, but an airdrop fixed the issue
they linked this link in figment tutorial. I will then try WSL instead of trying to solve the windows problem.
That's from figment's pathway? I am not sure on Rust's libs, as we don't support their toolchain there. However, WSL is recommended if you want to work with Solana on Windows
I installed the rustup-init.exe from here https://rustup.rs/ So why is it even available for windows if it doesn't works?
If the above statement is correct, yes. Which is why WSL is always recommended
So is this the problem. That BPF toolchain is not available?
The Rust BPF toolchain is not available for Windows.
This means that compiling Solana programs cannot be performed in a Windows development environment. The following software is required to set up and complete the Solana Pathway on a computer running the Microsoft Windows operating system:
You're looking for ways to do unit testing on programs?
<@!363433254533201931> wondering if you got anywhere on this? looking to do the same thing
You could also use something like git bash I believe. Not tested on my end though
Especially on using curl
If you want to use your installation, I believe so
I mean I have wsl enabled but I'm using visual studio code normal. Do I need to use linux terminal in windows?
Also, don't know the command you're running there with `yarn`
Windows support is a bit shakey and requires wsl
so I can't build programs without wsl?
can you please help ?
`C:\Users\stefa\Documents\NFT_Website\Learn Solana\learn-web3-dapp>yarn run solana:build:program
yarn run v1.22.17
$ cargo build-bpf --manifest-path=contracts/solana/program/Cargo.toml --bpf-out-dir=dist/solana/program
BPF SDK: \\?\C:\Users\stefa\.local\share\solana\install\releases\1.9.4\solana-release\bin\sdk\bpf
Can't get home directory path: environment variable not found
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.

C:\Users\stefa\Documents\NFT_Website\Learn Solana\learn-web3-dapp>curl
curl: try 'curl --help' for more information`
curl works
I believe so. You may need to use the curl command you listed within the cli
<@!489206164270350337>  yes that is how we did but there is no update
Do I get this error because I'm not using windows subsystem for linux?
seems the JS implementation is a bit more complex https://github.com/solana-labs/solana-web3.js/blob/168d5e0/src/transaction.ts#L592
Submit via the submit project button here https://solana.com/ecosystem
Hi, we have submitted a request for our project i.e. NodeBunch in solana ecosystem  2 week ago. but still there is no update regarding this and our project also not visible on solana ecosystem website. please  help. our project name is <@368465719932747777>Bunch
`transaction.message().serialize().len();` doesn't give me an accurate result for the tx size in rust. no idea what  I am missing
Yeah, that's the basic flow
I was literally using that
But wanted to get confirmation whether or not i got that right
Does this help? https://solanacookbook.com/references/offline-transactions.html#sign-transaction
I believe you can do this we simulateTransaction as you make the program in Rust
Hi, I am trying to get behind the flow of sending offline transactions. The flow should be pretty simple, first you create the transaction, then you serialize the transaction. Now you can send the serialized Transaction in the backend for example and sign the transaction there with the private keys.
Now i can send the signatures back to the front end, where i verify them and if they are good i can recover (deserialize?) it and send it as a normal transaction.
Did i get this right?
I want to do that within Rust of a not yet broadcasted transaction
Here's a way https://discord.com/channels/428295358100013066/517163444747894795/834836910790017058
Any ideas?
I need it to see if my merged transaction is too large or not (>1232 bytes).
Thank you so much))
Stake deposits, unstake withdrawals
Here's a staking pool program https://github.com/step-finance/reward-pool/blob/main/programs/reward-pool/src/lib.rs#L242
changing the AuthorityType to AccountOwner gives me the same "Transaction loads a writable account that cannot be written" error. I'm going to rerun through the whole program and try to track down the issues. Thanks for all the help
Hi, I want to make a small smart contract with a deposit and withdrawal method, where is it better to start or is there a similar code?
Looking at the code, it may be a `AccountOwner` authority type
using the new function, I tried
```
createSetAuthorityInstruction(
        mint,
        mintAuthority.publicKey,
        AuthorityType.MintTokens,
        null,
    )
```
but get an error saying "Transaction loads a writable account that cannot be written"
thank you so much for the detailed info. I really appreciate that!
Gotta love it. That's why everything is still in alpha.

I'd suspect it's probably something like:
```
createSetAuthorityInstruction(
    mint,
    null,
    AuthorityType.MintTokens,
    wallet.publicKey
  )
```
if your goal is to write solana apps, in that regard, youd be 'crippling' your time with qt c++.  Because you know c++ rust is a fairly easy transition. I would take a few hours of rust learning then get started with Solana development tutorials. Can always learn as you go to. Id stick with rust for Solana. qt is popular for C++ but not for Rust, so if the goal is Solana dev, you would be in a way, wasting much of your time with qt/c++.
<@!489206164270350337> it looks like the parameters for createSetAuthorityInstruction have changed since you updated your docs. you had
```
createSetAuthorityInstruction(
    mint,
    null,
    null,
    wallet.publicKey,
    []
  )
```
but the function signature is now
```
function createSetAuthorityInstruction(
    account: PublicKey,
    currentAuthority: PublicKey,
    authorityType: AuthorityType,
    newAuthority: PublicKey | null,
    multiSigners: Signer[] = [],
    programId = TOKEN_PROGRAM_ID
): TransactionInstruction
```
What were the parameters you passed in in your docs?
Learning QT framework is worthy for development on sol? My plan moving ahead is to learn Rust! I have already gathered all resources for rust. Your guidance would really help me to choose right way.
Most people use Rust, and Rust is the most supported. However, it is possible to write programs on Solana with C++
Do we use C++ for development on solona? I am an intermediate-level c++ developer, currently learning the qt framework! I just wanted to know if I am just wasting time by learning qt or it is gonna help me? My aim is to become a developer on the Solona network!
this is common when there is congestion and the client side has timed out in waiting for a response, and the transaction may have taken longer to process than expected, and the client returned letting you know with that message.
Very odd. It may have been you were looking for the tx somewhere where the node was too behind.
tx was sent, but I couldn't get hash and node drops this error
it is sucsessful https://solscan.io/tx/2dKzDtcoNu6Wie7izFfiav1ApKY6FnU8E7eKrbxnc14kyqcnRBF9w2yyoHDRF4qZicG5uKusPNnv6LsDAnJ8unWm
just got strange message on the node, looks very weird
Thanks, I'll check this out.
It could have been that whatever node you were hitting was too far behind. However, 60 seconds seems like a long time to be unsuccessful
hello. recently I got this error on the node **Error: Transaction was not confirmed in 60.00 seconds. It is unknown if it succeeded or failed. Check signature 2dKzDtcoNu6Wie7izFfiav1ApKY6FnU8E7eKrbxnc14kyqcnRBF9w2yyoHDRF4qZicG5uKusPNnv6LsDAnJ8unWm using the Solana Explorer or CLI tools.**
but tx was sent and sucsessful. how can it be?
https://solanacookbook.com/references/token.html#wrapped-sol
Anyone has answer for that please?
Thanks
You have to create a Market ID for your token then add liquidity to that Market ID. I think that how much liquidity you will add and token decimals will determine the token price (I'm not sure)
Ok, thank you
You'll have to consult the exchanges. We do not give listing advice here
And can I add it somehow to an exchange, so e.g. it costs 0.001 SOL and someone can pay in SOL to buy it and get it to their's wallet?
Your docs look like exactly what I'm looking for - thank you!
Hi, is it possible to unwrap wSOL to get SOL instead using Solana Web3.js ?
Unless the token is frozen, it is welcome to be transferred at will
So I guess two things:
1. Token ts is still in alpha as denoted by the version you have. Support is not guaranteed just yet
2. There is an open PR for docs update https://github.com/solana-labs/solana-program-library/pull/2575

Once token ts lib gets a little further along, we'll update the cookbook. For now you can use https://jacobcreech.github.io/solana-program-library/spl/token/
yes
Is that the token ts lib?
im looking for docs to the <@!839088888449466409>/spl-token v0.2.0-alpha.
Hi, how do I make my Solana token buyable?
https://solanacookbook.com/references/nfts.html#create-an-nft
Which part is outdated?
You're trying to get the transaction size for limit info?
There's how you can change the authoirty https://github.com/solana-labs/solana-program-library/blob/master/token/js/cli/token-test.js#L402
Hi. It seems that in Rust `transaction
                            .message
                            .serialize()
                            .as_slice()
                            .len();` is not the proper way to determine the transaction size. Any other ideas?
hello, there is any way to change the authority of a token?
You really helped me !
Worked!!! Thank you so much!
but it also looks like the API has changed a lot.  is there anywhere to find documentation? solana cookbook is the only thing I can find, and it's outdated
What is a root directory?
nm - it looks like 0.2.0-alpha.1 has the updated dependency
I think it is part of the library
I know it gives me recommendation to remove the lifetime annotations, but I can't because that is not my code.
hey all, Sorry newbie in programming statically typed languages with compilers as strict as rust.

I have this code, that I just can't compile, for some reason I cannot figure out. 

I am able to run `cargo build` without a compile error, which makes me think that I just intergrated the solana-libary wrongly.

but I get the attached error once I run `cargo build-bpf`

Any help will be much appreciated:
https://github.com/kamda-cyrial/cyrial_helloworld/blob/Debugging/src/lib.rs
the current version of <@839088888449466409>/spl-token uses 'buffer-layout', but buffer-layout has not TS types. Solana forked buffer-layout and updated the master branch to use the Solana fork, but haven't tagged a release yet. Any idea when they'll tag a release so we can use <@839088888449466409>/spl-token in TypeScript projects?
i dont know if this ia a newbie question  or a correct one, but how do i add a token or nfts on dev mainnet? kek:
ok I found it out. I had to run `bash` first in powershell
How can I enable sh?
`curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
sh : The term 'sh' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.
At line:1 char:61
+ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
+                                                             ~~
    + CategoryInfo          : ObjectNotFound: (sh:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException`
<@!722185506674311258> I'm not with solana but had a similar issue just now - check your candymachine config that you set the solTreasuryAccount. That was my issue
Hello I'm getting this error while making our mint website
How do I create a new file in my root directory
https://www.quicknode.com/chains/sol
bro just go on the webiste and look for yourself
It literally answers your question on the frontpage
thanks <@!760117293689733160>
<a:kek:900024661969096744>
now i see where my issue is
oooh
and so?
If you use await outside an async function you will get this error
does it allows to have a devnet rpc too ?  or only mainnet ?
buddy this is a json rpc api https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts
https://www.quicknode.com/pricing
how much does it costs to have a solana rpc on quicknode
did you use await inside a async module?
so plenty of time to send to backend and back
oh it says 150 blocks,
So around 120 secs if one block is 800 ms
Hi, I am trying to get behind the flow of sending offline transactions. The flow should be pretty simple, first you create the transaction, then you serialize the transaction. Now you can send the serialized Transaction in the backend for example and sign the transaction there with the private keys.
Now i can send the signatures back to the front end, where i verify them and if they are good i can recover (deserialize?) it and send it as a normal transaction.
Did i get this right?

How much time can pass until the transaction expires?
guys i have a question.

why the await not working on react async?
Hey guys how can I check if an account contains a particular token whose mint address I have. Say SRM token.
How do I get the amount of SRM in an account in rust?
`#[account(mut)]
    pub service_account: AccountInfo<'info>,`

this is how I am getting the account in the function
Accounts with executable true are the programs (or smart-contract in ETHSpeak)
Accounts with executable false with the `owner id` pubkey of a program are data accounts where programs read/write data to
https://docs.solana.com/developing/programming-model/accounts
I'm a beginner at solana. let me ask a simple question..
If Account's executable is false -> it's similar to Ethereum's EOA
If executable is true -> It's similar to Ethereum's CA.
Is this right?
Is it possible to make a SPL Token Stake pool on solana? If yes can someone help me how it is to be done?
Roger that!
I can simply skip the derivation and view the account directly.
I repeat, there is no point in hiding the seeds.
so on chain and front end for the seeds is a no no, until i can figure out a way to safely store the seeds, right?
But it's not that difficult to reverse-engineer.
Not the parsed data, no.
and getParsedProgramAccounts would give that to you if even if you don't know the struct(shape) of that account to deserialize?
I can query for all accounts owned by a program.
storing seeds in an on chain account and getting that account info and using that can do something for that!
You need to design your program to work around that.
Everything is public.
Again, this is the blockchain.
can't anyone just use that seed to get that pda for my account that might be at time owner of important accounts? 
or something like that
Why is that a problem?
oh yes! ```await findProgramAddress(
        [
          Buffer.from('metadata'),
          toPublicKey(metadataProgramId).toBuffer(),
          toPublicKey(mintKey).toBuffer(),
        ],
        toPublicKey(metadataProgramId),
      )
    )```
Got it! 
Also the seeds for my program(PDA) would be on the front end and it isn't a very safe approach any ideas on how to make it secure?
Which is different each time.
But one of the seeds is the token mint.
Yes, they are pdas
the metadata account that is created in the metadata program isn't it also a pda? or what sort of address is that?
If you want a different one then change one of the seeds.
The point of pdas are to be determinstic.
okey thank you buddy for your help.
so i have gotten a little understanding of how a pda would work but how to get different pda each time i use that function? Any help here
Not really, sorry.
Of that library?
buddy, do you have a sample repo or usage of this program? sorry to bother you <a:kek:900024661969096744>
Thanks I will ask there for a timeplan.
I meant the Solana Program Library doesn't define standards for NFTs.
thank you buddy
That is the source, not sure what else you want.
You will have issues getting your standard accepted.
Technically true but most places expect nfts to use the metaplex standard.
No but they have a Discord Server where you can get support from
buddy where can i see all thefunctionality here?
Do you know any time plan for their efforts on on-chain NFTs?
But I'd wait for MetaPlex to do the work üôÇ
you could technically fork the SPL, add that and deploy with a new program ID as the programs noted for SPL are deployed in the clusters
Correct
But they don't define standard for on-chain NFT data do they?
There are Solana native tools, api, etc. for Tokens (NFT and otherwise): https://spl.solana.com/
But for metadata management as well, MetaPlex is your friend
You can optionally try using the WSL 2 with Ubuntu
It's a linux vm so should be much smoother.
Ok I am using VSCode on my windows laptop. Do you think using gitpod would solve the issue?
But basically a VPS with VSCode.
Click the link, they have a video.
what's that?
https://learn.figment.io/pathways/solana-pathway
Ok thanks. I guess there is a lot of development still ahead for NFTs on Solana üòÑ
Unfortunately no, I mostly know this from speaking to the devs.
Do you have any resources, articles, github issues for this?
Do you want to try https://gitpod.io
where is this tutorial buddy can you link me up?
So might want to wait for that.
And they are working on an update for on-chain attributes.
I'm just doing this learning tutorial.
Correct.
And there is no other NFT standard project than Metaplex right? This is the de-facto standard is it?
You could have an additional struct to hold the metadata but that would be your own format.
No that should be fine.
Yeah that is not really supported in the standard at the moment.
I installed rustup-init.exe instead of running `curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh`. Could this be the issue?
I want to have all the NFT metadata on-chain (no image)
But Metaplex requires you to supply a metadata uri (for areweave or ipfs) right?
https://github.com/metaplex-foundation/metaplex-program-library/tree/master/token-metadata
Yes, metaplex.
thank you but really want to see the git hub repo of it
Is there any way/standard to create on-chain NFTs in Solana?
`npm i @metaplex-foundation/mpl-token-metadata`
solana-cli 1.9.3
do you have a link for this, thank you btw.
What is the version of solana?
You can use `Metadata.findDataByOwner` from `@metaplex-foundation/mpl-token-metadata`
now I'm getting different error after doing `set HOME=C:\Users\stefa`
`C:\Users\stefa\OneDrive\Dokumente\Visual Studio Code - Projects\Solana Training\learn-web3-dapp>yarn run solana:build:program
yarn run v1.22.17
$ cargo build-bpf --manifest-path=contracts/solana/program/Cargo.toml --bpf-out-dir=dist/solana/program
BPF SDK: \\?\C:\Users\stefa\.local\share\solana\install\releases\1.9.3\solana-release\bin\sdk\bpf
Failed to install bpf-tools: HTTP status client error (404 Not Found) for url (https://github.com/solana-labs/bpf-tools/releases/download/v1.21/solana-bpf-tools-windows.tar.bz2)
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.`
wdym? sorry im new on development on solana. do you have a link. hahaha im stuck currently in my project because of this
But you can use the metaplex library.
Hmm not aware of a repo.
Try `set HOME=C:\Users\stefa`
hello, do you guys know a github repo, that when you connect your wallet you see all their current NFTs?
Tried switching to powershell and reopening. I also tried restarting but always getting same error.
I can't find information about stake receiver here(
It varies from token to token.
Also try switching to powershell.
Hmm can you try reopening a new cmd?
Why am I getting this error when I run `yarn run solana:build:program`?
Hi Kartik <@!590982495923732511> , do you know any example can query token price on-chain?
`C:\Users\stefa\OneDrive\Dokumente\Visual Studio Code - Projects\Solana Training\learn-web3-dapp>yarn run solana:build:program
yarn run v1.22.17
$ cargo build-bpf --manifest-path=contracts/solana/program/Cargo.toml --bpf-out-dir=dist/solana/program
BPF SDK: \\?\C:\Users\stefa\.local\share\solana\install\releases\1.9.3\solana-release\bin\sdk\bpf
Can't get home directory path: environment variable not found
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.`
Thanks.
Run a non-voting validator.
ok, thanks
Hi guys.  What is the easiest way to download a full transaction history for Solana?  For a data/analytics project I am working on.
Hi Vry_vry_spl, guess what you need is here (https://stackoverflow.com/questions/68236211/how-to-transfer-custom-token-by-solana-web3-js) "**The problem with the existing answers is they only show you how to first create a new custom token then perform a transfer from one wallet to another. Here I will show how to do this with an existing custom token.**" <@!794449743253995530>
Or it might be easier to do the calculation in the frontend.
Hmm what you can do is run a transaction simulation and print the value in the logs, then read it from there.
each query is gas-free, meaning no state changed, just calculate the rewards and return it.
I am calculating the rewards distributed to end user, our distribution logic is per slot shared, so in frontend, end user will see the rewards accumulated from time to time, such query I can implement in solidity but seems cannot implement in rust on-chain program
Can you please explain what you are trying to do?
```js
const { Token, TOKEN_PROGRAM_ID } = require("@solana/spl-token");

let usdt = new Token(connection, new PublicKey("token mint"), TOKEN_PROGRAM_ID, payerKeypair);
```
do you have any recommendation or best practices when web3 client want to query some further calculated data back? or does the web3 client itself needs to handle the calculation? like in this case, the 1+delta logic should be in client side rather on-chain?
I've understood that the example code is creating a new mint, finding associated token addresses and transferring it between them. I want to do it for an existing token on the mainnet
See if this helps: https://github.com/solana-labs/solana-program-library/blob/master/stake-pool/js/src/layouts.ts
it's default implementation from https://github.com/solana-labs/solana-program-library/tree/master/stake-pool

during this program, we are generating new keypair for stakeReceiver
But how can I track this stakereceiver account I don't know(
Solana programs don't really return a value as such.
What do you mean by "return"?
what do I do to use the USDT/any non-native token?
No that creates a new mint.
say like in the on-chain program, the value in account is 1, can we write some instructions pass in delta, and return the 1 + delta to web3 client?
where does this take the USDT mint address?
I would assume so, but don't quote me.
I think that depends on the stake pool?
What do you mean?
Hi team, when writing program using rust, can the web3 client query some data from on-chain program with extra calculation logic?
Hi! What's the proper way to determine Transaction size (bytes) in Rust? `transaction.message.serialize().as_slice().len()` ?
Hi!
Could someone help me with stake pool?

I working on implementation "WithdrawStake" instruction.
Everything is working ok, but how can I find out how many SOL wallet will get in the end of epoch?
What request should I make to get this info?
i'll fix and get back
wait
like this?
  const mint = new splToken.Token("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB");
You have to create a new token with `const token = new Token(...)`

Yes I want to transfer USDT.
I used "new PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB")".

then I tried to use line 34. But it didn't work
You have to use their mint address.
Do you want to transfer USDT?
Hmm yes, I agree.
Thanks
Hi all, I'm trying to run this code for 'mainnet-beta'. https://github.com/solana-labs/solana-program-library/blob/master/token/js/examples/create_mint_and_transfer_tokens.js

I don't want to create a new mint as such, I just want to use the already existing USDT mint the chain. Refer - https://explorer.solana.com/address/Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB/metadata

How do I modify line no. 24 such that I can use the usdt mint?
It's common practise in web3js applications to merge instruction groups together. I can't see a security risk here. In Js it's actually very easy as one can just call `myTransaction.add(anotherTransaction)` . It becomes useful when you want to merge transactions and have to build a full one to get the size and check if it hits the limit or not.
thanks
You can pass in the wallet received from `const wallet = useWallet();`
Hi all 
i have code below but i don't know how to get  NodeWallet(keypair) 
anyone have ideal?
const mintNFTResponse = await actions.mintNFT({
    connection,
    wallet: new NodeWallet(keypair),
    uri: 'https://34c7ef24f4v2aejh75xhxy5z6ars4xv47gpsdrei6fiowptk2nqq.arweave.net/3wXyF1wvK6ARJ_9ue-O58CMuXrz5nyHEiPFQ6z5q02E',
    maxSupply: 1
  });
See: https://solanacookbook.com/
No.
Hey team, just wondering does SPL or Token Program support customised token behaviours or whitelist/blacklist functionalities for certain wallet addresses?
Anyone pls help
Hello. I've been looking at some example repos since I'm new to Solana but there is something very fundamental that I can't understand. I see that in the repos there are client programs in typescript. However, I don't see the function and structs from the Rust programs being called anywhere. Can someone explain or share any resources on how to call the Rust programs and add new contracts from them on the blockchain?
Hi i missed to copy the environment variable cmd, can any body pls help me i use Kali Linux
thank you!
here is the metaplex docs and discord, the NFT standard for Solana. There are many tools and community that may be doing something similar.
in addition here are some NFT related methods that may be helpful:
https://solanacookbook.com/references/nfts.html#create-an-nft
https://docs.metaplex.com/community
https://discord.gg/mCTkqHtF
with anchor framework there is an IDL you can push that others can get and view. with native Solana currently there is no easy way to view the deployed programs someone else has deployed like etherscan
Hi All! I'm new to Solana, and I had an idea for a basic script that would query the transaction history of NFTs. Basically I want to give the script the token address, and have it query the blockchain for all previous sales of this token and its sales price on the secondary markets (and possibly other information as well).

I have basic coding experience. But no familiarity with the Solana ecosystem. Could someone point me to the appropriate documentation? Perhaps an API I could send a request to?
Hey everyone 
Once I deploy a smart contract on chain 
Is there a way for other people to know what I have written inside it?
Thank you
i've seen the signTransaction and signMessage methods in wallet adapters
but isnt a wallet able to sign a message
right, and a message has no signatures?
tx is a signed msg
signatures
hey whats the difference between a Message and a Transaction?
Try this: https://feecalc.live/
https://solanacookbook.com/references/token.html#mint-token
Hi, so I created new spl token  through cli, now I want to be able to mint it through web3 api? How should I do it ?
ahhh ok cool, thanks for clarifying!
and so a file/account with the key of your wallet would represent your wallet in a program as an account that could be writable and receive lamports
üß†
essentially
got it, so this isn't an account like a wallet per se, but instead a "file" describing state
you can think of accounts as being something like a file
you pass in a list of accounts to programs so it has contextual information on how to act
(appreciate you explaining this, if there's documentation somewhere I can read through but haven't been able to find any)
no
ok, that makes sense. So here's a question- why do I have a list of accounts, wouldn't there only be 1 account interacting with teh program?
and so if you hardcode indexes you might mess up
it's because if you access an unset index your program will crash
I've searched and it seems someone else asked this but didn't get an answer either.
Hi. Quick question. Every sample script for Solana has this comment: `// Iterating accounts is safer then indexing` I can't find anything explaining what iterating v. indexing means in this case, and why it's safer to iterate rather than index?
i've seen off-chain agents that submit transactions to run programs, but wondering what the best practices are
can anyone point me in the right direction for information about cranks? i'm looking into writing a contract that involves a job that needs to run on an interval. i've seen the term crank floated around, but i'm not sure where to read up on it. thanks!
```
"2022-01-09 07:48:28490 [‚¨ÜÔ∏è][NetworkingRouter.swift]:40 19 request(method:bcMethod:parameters:onComplete:) -> POST getConfirmedTransaction [id=A8F3B03E-5861-4788-BC28-82CBEF85CD00] [\"5XBTfArWPVW9mJGsj6Hh6aoum8bE9Amv8xMmfA88L5SCAmSDVVZPf7ET1PTxSUuj8KDbcTb2bwr6s9DxSXrzYLUz\",\"jsonParsed\"]"
Program ended with exit code: 0
```
Does anyone here have some experience with solana.swift? I'm trying to get information over a confirmed transaction via `solana.api.getConfirmedTransaction()`, and although the request is successful, the response is encrypted as follows
god bless you
well that was eazy
x)
You can only request so much SOL from devnet over a specific period of time
If you're getting 429, that means you're just getting rate limited.
Yeah saw the repo already, the examples just use local clusters in their test cases
Have you seen this <@!283811168085344258> https://github.com/project-serum/anchor/tree/master/examples
What is Anchor for?
More logging
for whatever reason
my test passes when I have it set to a local network. I'm trying to have it work on devnet but its just not working with any rpcs
Ohk...
oh thats because I'm using anchor framework but its the exact same class object
https://www.quicknode.com/guides/web3-sdks/how-to-send-a-transaction-on-solana-using-javascript
I'm looking at this now
But it looks like you need only `await connection.requestAirDrop(where, how-much);`
I'm still newb so ... want to be helpful üòì
this looks very different but on a similar train of thought ^
https://gist.github.com/zurgl/abca3e9883588f405abb1bec15bcb89e
js, solana web3 on clientside
let ownerSignature = await provider.connection.requestAirdrop(owner.publicKey, anchor.web3.LAMPORTS_PER_SOL);
    await provider.connection.confirmTransaction(ownerSignature);
<@!283811168085344258> what programming language are you using, Rust?
spl-governance has voting and may have a way to simulate or use weights.
copy paste the text,
Question: If I want my application to support different voting weights for different users, should my program keep a track of all the current user accounts and their voting weights?
fails here, first transaction being run in my test file
what are you doing that your continuing to get that error? with also using diff rpc nodes?  the limits are in place for overloading primarily public nodes or abuse, paid ones may have different tiers, or you can run your own and do a solana-test-validator as much as possible
nah, was going to suggest quicknode
Tried doing the default one and two custom rpcs from quicknode.
Do you have any suggestions for a devnet rpc?
Looks like others have run into this and maybe it was being addressed - but I'm on the very periphery of my knowledge with drilling down into packages like this.
have you tried switching your rpc
Getting this buffer-layout error when compiling ts: ```node_modules/@solana/spl-token/lib/index.d.ts:3:24 - error TS7016: Could not find a declaration file for module 'buffer-layout'. '/Users/culbrethw/Development/fbtest/functions/node_modules/buffer-layout/lib/Layout.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/buffer-layout` if it exists or add a new declaration (.d.ts) file containing `declare module 'buffer-layout';`

3   import {Layout} from 'buffer-layout';
                         ~~~~~~~~~~~~~~~```
cant do any program development ü§∑‚Äç‚ôÇÔ∏è
lol Im losing my mind, still getting this error
I was getting this frequently in the last 1-2 hours, the TPS seemed to have dipped to 1500 re: solanabeach  which I think was causing some annoyances, seems regular now
the token list is being looked at, but here is where you would add meta data for a standard spl token: https://github.com/solana-labs/token-list
that may mean you have been rate limited it means you sent too many requests to close together, or hit some limit
custom rpc gives `Error: Transaction was not confirmed in 30.01 seconds`
you add instructions to a transaction merging may not make sense or pose security issues.
been stuck for hours
devnet rpc gives me `Error: 429 Too Many Requests`
custom devnet rpc times out after 30s
are you getting an error? or whats the issue?
How can I use wallet adaptor with vanilla Nodejs?
I upgraded to 1.9.4 was on 1.8 still the same result. What is happening here? ü§î
Hi! Is there a Rust function to merge two `Transaction` ?
Thanks!
Starter: https://github.com/solana-labs/dapp-scaffold
Take a look in <#763249718339567626>  as well
Its just simply requesting airdrop
Anyone know why my transaction not going through on devnet? I tried https://api.devnet.solana.com as well as my custom rpc from quicknode
I left home but gonna research it more
If i go through the error list, i get an error on a line with u64 in there
Noob here, sorry if I‚Äôm in the wrong spot. Anyone know the cheapest place to get a solana token listed?
Nevermind, gonna research it more
When i sent 1 token i got 0.0001
yes, but generally everyone is supposed to use the associatedTokenAccount for the wallet address to prevent so much duplication, the others may be known as aux or auxillary accounts.
`error while going through signatures:  Error: Assertion failed`
thats correct, but looking back up at your error it looks like its something signature related
can a wallet have multiple token accounts for the same token/mint?
If I understand correctly what you are saying, you believe that if I have a zero decimal token and send just 1, then I will actually send 1 right? As well as if I send LAMPORTS_PER_SOL I will send 1.000.000.000 ?
just wanted to ask what github repositories do you clone to start building your new dapps?
Hey people
Register it?
What do you need?
Can someone help me get my token merged please, they still not merged and its been 2 months now
How do i manually merge it
its okay thank you for your time, might ask again later so anyone who has worked with tokens might know
yeah, i got nothing, sorry
I dont get what might be wrong..
So when i send 10.000.000*lamports_per_sol, should I send 10.000.000
hmm, ok, i guess your decimals are 9 then
But when I send just ‚ÄúLAMPORTS_PER_SOL‚Äù amount , its just sends 1
so instead of using LAMPORTS_PER_SOL you would want to replace that constant with 1,000,000, if you token had 6 decimals
this is the blind leading the blind because I haven't actually worked with the token program yet, but I think decimals determines the subdivisions of your token, so if your token has 6 decimals then sending 1,000,000 will send 1
I see 2 decimals here dont know if its related

And
I think i skipepd the --decimals 0
I think i did not
with decimals zero
did you run this command `spl-token create-token --decimals 0`
It succeeded with 1,000,000 but not with 10,000,000
and i have sent around 2M so i own 998M
1 B
1,000,000,000
sorry
no hahaha
or
I got 1T
I did wrong
Well
how many do you own?
On the wallet i send it from
but for sure I own the number I am trying to send
let me try this out
can you send 1,000,000 * lamports_per_sol?
how can i chech this out
I just created a token through solana cli
what do you mean decimals?
quadrillion
max supply 1.000.000.000.000.000
no, how many decimals, but max supply might also be relevant
You mean on max suply?
how many decimals does the token you are sending have?
Can someone confirm if they are having any issue in testnet .. please
Im testing on testnet
I use devnet
Cant do transaction in testnet umm....
Then wtf is it
Indeed
Well
I don't think that number will overflow a u64
and what i try to send is way more bits
64 bits
the "amount" of tokens i send must be u64
But i need to fix it somehow
I found my error
Thats correct. It should be 1e8
I just send 1 token
If i leave it as solanaWeb3.LAMPORTS_PER_SOL
No no
maybe delete multiplying by lamports per sol
10 quadrillion tokens
any idea?
**error while going through signatures:  Error: Assertion failed**
Hey guys. I am trying to send a token with the method in the screenshot, and I while I can send for example 10.000 tokens, when I try to send 10.000.000, i get an error
stopped working umm..
Its working now back again hmmm.
Hmm well I was having that issue in testnet umm..
Hmm, i'm pointing to localhost not test net (though confusingly I named the wallet testnet)
In testnet
And its fail to transfer again...
Same error
weird, it looks like if I open the wallet > settings > switch to a non-localhost network > switch back to localhost > can now see balance
Is it expected that phantom wallet can't retrieve balance from a solana-test-validator running on local host? I just see this spinner
Basically i just cloned the wallet-adapter repo, then copied the react-ui-starter into my project and it works, looks like you have to user a specific version of "create react app" until they fix it
yeah, theres details about the issue here https://github.com/solana-labs/wallet-adapter/issues/241
Umm..
Its working now
I transferred sol from one account to another.. and it gives me unable to send error.. umm..
airdrop's fine here
üßê
I cant transfer sol or any token between accounts in testnet
??
is testnet having issues


///////////////////////////////////////////////////////////////////////////////////////////////

none readily available if I recall
How do I serialize this data to send in TransactionInstruction
A
      {
        kind: 'enum',
        values: [
          {
               kind: 'struct',
               values: [
                   'x':u8,
                   'y':u64
                ]
          }
        ],
      }
Are there tools I can use to inspect the binary?
you can get their abi if they have a verifiable build through anchor, or you can download their binary off mainnet
Is it possible to query deployed smart contracts for their API or get any insight into the program itself (other than the Data Length and ProgramData Address) without having the source code?
Just wondering why would you check for rent exemption in your smart contract?
yep, I'm aware, thank you, it's in fact what I'm using, but I cannot advance it past the 18 hours timestamp, wondering if there was a workaround
Hello every one! Newcomer here! Should i learn Rust to use Solana Contracts on a web app or am i fine with PHP? (if there is any feedback )
Not sure on if there is a limit, but there's a lot of useful examples of using it here https://github.com/solana-labs/solana-program-library/blob/24bb1c81589f62db6d1b8ab90b5fb89f9e8d86ea/governance/program/tests/program_test/mod.rs#L2397
specifically, after advancing it by ~18 hours
is this the default behaviour?
is there a limit to how much I can advance the clock on my local test validator? (with the warp_to_slot function).  it seems that after a certain point in time, it gets frozen.
Thanks very much I will have a look
Solanacookbook is a great resource https://solanacookbook.com/ to starting. Also recommend going through figment's learning path https://learn.figment.io/protocols/solana
You have to pass all accounts needed to the program before execution, so you can verify there
Hey guys, a Sol beginner dev here and I just wonder if you can point me to some directions?
I wan to understand if possible to get some simple data (e.g. owner address) from a deployed program when running another solana program?
vs just using core docs
thanks for that link too, seems really useful
tyvm, this made it work üôÇ
And the `getAccountInfo` seems right
Try `new Connection(clusterApiUrl('mainnet-beta'), 'confirmed')`
https://solanacookbook.com/references/local-development.html#setting-up-connections
Could someone help me troubleshoot this simple test I'm doing?

Questions are 
* Is this the correct url to query the real solana chain rather than devnet? `http://192.168.0.190:8899/`
* Is this the correct way to query a base58 wallet string I already have? ``connection.getAccountInfo(new web3.PublicKey('91vmTRw5PB7fceS4JLRwfG5rnJs4VautDLmR94qHaZ5X'));``
Seems to hang on getAccountInfo

```
 (async () => {
        // Connect to cluster
        var connection = new web3.Connection(
            'http://192.168.0.190:8899/',
            // 'mainnet',
            'confirmed',
        );
        console.log('connetion', connection)
        let account = await connection.getAccountInfo(new web3.PublicKey('91vmTRw5PB7fceS4JLRwfG5rnJs4VautDLmR94qHaZ5X'));
        console.log("ACCOUNT sol mainnet", account);
        res.send(account)
    })();
```
Try https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts
I don't think there is a way to interact with any program today via CLI
Hi guys, I'm using the `connection.getProgramAccounts(publicKey, config);` web3 api to get some program accounts, but I can't parse it to a token account, any suggestions?
Right, the serialization.ts gives a bunch of examples of what you're trying to do
On rust side its 
Fine 

I need to send data from JS client to my onchain contract
Can anyone explain to me how I can interact with a program from solana cli?
hey
thank you
What I sent shows you how to set up the schema and use deserialize with borsh
`communityMintMaxVoteWeightSource` has `MintMaxVoteWeightSource` as an enum with `SupplyFraction(u64)` inside it https://github.com/solana-labs/solana-program-library/blob/78cb32435296eb258ec3de76ee4ee2d391f397ee/governance/program/src/state/enums.rs
So you can do something like this https://github.com/solana-labs/governance-ui/blob/278cf683616e307cb411f7f5592de1cdeb202df4/models/serialisation.ts#L104
Curious how it addresses your need. It can inform others, myself included, to know! Is it what <@!489206164270350337> posted above?
To give more clarity 
In my rust client I simply do 
ProgramId,. //programId
&A::Y{2,2000} , //data
vec![] //vector of accounts
Trying to find you an example
Yes, sure
I think that in initialize_candy_machine function there is something what I need - checking whether token's mint has a certain value
Mind posting the example?
Hey, looks like I managed to find similar code in metaplex
So thanks for your help! üôÇ
In solana docs there is only example to allocate space 
https://docs.solana.com/developing/clients/javascript-api#interacting-with-custom-programs
Hey guys Need urgent help, Stuck on it from whole day

My rust instruction function is enum

enum A{
x,
y{
  temp: u8,
   temp2: u64
},
z
}



I want to make call A::y{2,1000} from my JS client
How shall I send this data in TransactionInstruction
Thanks heaps.
https://github.com/solana-labs/solana-program-library/blob/master/token/js/test/token.test.js
Oh I see. So there isn't any specific framework. And do you have any link of test written for apps using the web3. It would be much appreciated. Thank you
For js, you can test with whatever js testing framework you'd like
Hi jacob, are there any tests practices for web3 in cookbook??
Thanks guys, I'm able to read NFT metadata now.
Press the `</>` to view the full source
Are there any ready-made tools for airdrops?
Are you including the Mint PubKey in your program invocation? You will need the AccountInfo on that one to deserialize the data to get at what it has stored in the property.
Yes, I just want to hardcode that value
I use the same class in my project. Here how I import it in my code:
import { Metadata } from '@metaplex-foundation/mpl-token-metadata';
Where is it coming from (ie which library is it coming from)?
What is the `Metadata` object here?
It refers to this code:
```ts
const connection = new Connection('mainnet-beta');
const tokenMint = '9ARngHhVaCtH5JFieRdSS5Y8cdZk2TMF4tfGSWFB9iSK';
const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint));
const tokenMetadata = await Metadata.load(connection, metadataPDA);
console.log(tokenMetadata.data);```
The cookbook has a section on getting Metadata from NFT:
https://solanacookbook.com/references/nfts.html#get-nft-metadata
MetaPlex seems to be the route for NFT collectively, more so than SPL raw
wrong guy
https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
it's what solana generates when installing it via `sh -c "$(curl -sSfL https://release.solana.com/v1.9.4/install)"    `
better look at my config, it does not have `keypair_path` in it so the parsing fails
this is why so few projects
If you only need to check by the PublicKey then you can just then use the attribute in the Mint structure. I presume you are hardcoding key string to match against?
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs
Sorry I'm new to solana and I thought its going to be an easy task, but now it all looks much more complicated)
okay, here is what I need: in my task I need to check who minted an nft, but I need to do this only on chain side. Is it possible?
we need more examples on how to do stuff within rust instead of cli
Hi, I've been using https://docs.rs/solana-cli-config/latest/solana_cli_config/ for a minter, but the problem is that with recent solana releases there's no `keypair_path` key being used there, even more, for some reason it cannot parse my config even though I have matched versions of solana sdk and this crate. I tried reinstalling solana and calling `solana-keygen pubkey` but it's of no help. Any suggestions?
The mint_authority attribute on the Mint account data you mean? At anyrate, any PublicKey in a program data account is nothing more than the key. You can not get AccountInfo within the program unless you include it in the AccountMeta array on the client side when calling the program. I will be beat up appropriately if this has changed.
No, all what I need is send nft's pubkey and check its update authority
So you include the PubKey of the authority account in the AccountMeta array when calling the program?
Hello, how I can get update authority on-chain?
I thought I could use AccountInfo struct, but no.
How do i get the transaction information from the transaction id?
thank you
First line here https://solanacookbook.com/references/keypairs-and-wallets.html#verify-a-keypair
`let key = new PublicKey("<ADDRESS>")`
in web3.js
what is the easiest way to derive a publickey from an address?
gm
gm all
I think the most we have at this time is https://github.com/solana-labs/solana-program-library/blob/master/token-swap/js/cli/token-swap-test.ts
any guide for deploy my own market?
I stand corrected. Must be something on my side
yes
This is with the rust rpcclient?
Hi! Might it be that an  `Arc<RpcClient>` is not working properly when being used in multiple threads?
Thank you! <@!489206164270350337>
You'll have to deploy your own markets and swap to my knowledge
Please check out https://discord.gg/v4ZQSMVy we do not support candy machine
Can't you just do that with js/python?
Hi guys, Has anyone tried to communicate Solana with AWS Lambda? For instance some account fetching or subscribing account/program. I will be grateful for materials, examples, tutorial or something like that
I've got a quick question, no need for exact answers just need some keywords to know what look for! I'm planning to generate a few thousand nfts and instead of running something like Candy Machine I'd like to pre-mint them all and give them away. What would be the best way to mint 10k nfts? (I basically just have an array of all urls to the metadata and a address that would hold them)
Greetings colleagues,
I have a question, I am trying to swap a token in the cluster "devnet" but I see that I need a parameter of type Market, which needs its address and program id in its constructor, does anyone know where I can get this data?
Yes I am
You mean the address?
Or do you mean without a library.
You are already getting it with keypair.publicKey, right?
https://docs.metaplex.com/
I am sorry, I am unable to understandüò´
use metaplex tools
make a candymachine 
use it to upload it to the mainnet
I have already made my generative arts and json, how do I upload it on the solana blockchain is what I am wanting to know
just google these
u can also use metaplex to make generative art
How and on which application,  can you tell a bit more
the reason for this is the reason why solana is the fastest blockchain. to be fast as possible - that is why
use metaplex repo candymachine-v2
and hashlips art generation repo
Hey, I want release my generative nft project on the solana blockchain, please help me, how do I do it
having this error when creating gumdrop both with cli or gumdrop ui
Error: Invalid config owner cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ
saw this issue on github at https://github.com/metaplex-foundation/metaplex/issues/1496
i wonder if this is an issue or I missed something in configuration 
i asked this in metaplex discord also
How do i get the transaction information from the transaction id?
Greetings colleagues,
I have a question, I am trying to swap a token in the cluster "devnet" but I see that I need a parameter of type Market, which needs its address and program id in its constructor, does anyone know where I can get this data?
how can I get nft attributes in solana program?
Here are the various subscription functions: https://solana-labs.github.io/solana-web3.js/classes/Connection.html#onAccountChange
Gotcha, I figured updating the data on chain then querying it off chain would probably be the way to go. Thanks for confirming! 

The piece on subscribing to account data changes is new to me though. Is there a place I can learn more about that?
As far as 'passing back a value to client' => Transaction submissions return success or failure message not some value as a result of your program's instruction execution, unless your program instruction fails in which case a `Custom Error` index value is returned. You could, in your instruction, write that value to an account you called with and check the state of the account data. Or, you could subscribe and monitor account data changes (see the `onXXX`) subscription options.
Hey all, I'm looking to create a function in my program that calculates a value from on-chain data and passes that value back to the client. Is that possible with Solana transactions?
Ok, you are better off asking questions here. I don't do well with friend requests üôÇ
added u as a friend feel free to add back
hey im struggling here gonna take a break so ill get back to you in a few hours with a git repository i appreciate it man thank u
Any idea folks ?
https://docs.github.com/en/github/importing-your-projects-to-github/importing-source-code-to-github/adding-an-existing-project-to-github-using-the-command-line
Sorry I'm just following a tutorial, not sure how github works
no is there a quick way i could upload this entirely to github?
Do you have all this in github? Trying to do this with snippets and screen shots is less than efficient

it expects it in `contracts/solana/program/Cargo.toml`
it looks like there is a file named Cargo.toml
i dunno what could cause that
what can be the result of that?
That would imply your client instruction never made it
do u have a cargo toml
what does this mean?
and yes unfortunately
PS Microsoft.PowerShell.Core\FileSystem::\\wsl$\Ubuntu-20.04\home\zyjohnliu\learn-web3-dapp> yarn run solana:build:program
yarn run v1.22.17
$ cargo build-bpf --manifest-path=contracts/solana/program/Cargo.toml --bpf-out-dir=dist/solana/program
'\\wsl$\Ubuntu-20.04\home\zyjohnliu\learn-web3-dapp'
CMD.EXE was started with the above path as the current directory.
UNC paths are not supported.  Defaulting to Windows directory.
Failed to obtain package metadata: `cargo metadata` exited with an error: error: manifest path `contracts/solana/program/Cargo.toml` does not exist
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.

poor screenshot
Are you saying that the logs screen shows nothing at all?
still no success
okay so i got the test validator running to the corresponding deployed program , then i ran `solana logs` and then i executed my index.ts
How do i get the transaction information from the transaction id?
<@!753039116861440081> 
```bash
solana-test-validator --bpf-program target/deploy/tokey-keypair.json target/deploy/tokey.so --reset
```
keep seeing this error, how does/can a directory provide 2 values?

Hi, has anyone tried to deploy `solidity` smart contract to solana ? I am using `solang` to compile and then
 `Solana program deploy build/bundle.so` but i get ` Error processing Instruction 0: invalid account data for instruction`

Tx: https://explorer.solana.com/tx/3ZmuDw1NE3VqxtNTBahA9iMNH1gUu2ADpjErLqe7SK8vBJCAxHCjjC3djxh2yhCVcPho5HUsqsLoH6rzDAjL14q9?cluster=devnet
ok but im assuming the lib.rs isn't relevant to the index.ts logging to `solana logs`
If you have the program source, and you did a `cargo build-bpf` it puts the resulting `*.so` file in `target/deploy`
Trying to simultaneously send someone an NFT and pay a fee to someone else in the same transaction
```cs
var blockHashResponse = await rpcClient.GetRecentBlockHashAsync();

transactionBuilder = new TransactionBuilder()
    .SetRecentBlockHash(blockHashResponse.Result.Value.Blockhash)
    .SetFeePayer(treasury.PublicKey)
    .AddInstruction(SystemProgram.Transfer(ownerA, treasury.PublicKey, fee))

if(resultBA.Result.Value == null)
{
    transactionBuilder
        .AddInstruction(AssociatedTokenAccountProgram.CreateAssociatedTokenAccount(treasury.PublicKey, ownerB, mintA));
}

transactionBuilder
    .AddInstruction(TokenProgram.Transfer(assocAmintA, assocBmintA, 1, ownerA));
```

If `AssociatedTokenAccountProgram.CreateAssociatedTokenAccount` and `SystemProgram.Transfer` are both part of the transaction, the transaction always fails with "Signature validation failed". If I leave only one of them and remove the other, the transaction always passes.

Does anyone have a clue why that might be?
In Ethereum, sending a token is implemented by modifying `mapping` type. (`balance`) so we just need a one token address.

but as far as I understand, in solana, it needs 
not only main token address but also temporary address. 
what's the reason of it?
i really dunno whats the relevant arguement for my typescript
no because it needsa  .so
would --bpf-program be a good arguement?
`solana-test-validator --help`
how do i make sure it loads my program
So, with config set to local:
A) Terminal 1: Run solana-test-validator that also loads your program
B) Terminal 2: Run solana logs
C) Terminal 3: Run your client code
Hi is any docs introduce how to implement login feature by https://github.com/solana-labs/wallet-adapter, 
 I'm trying to integrate this lib with backend, like Facebook login, Google login
regardless if i execute  index.ts and the test-validator running first
yes , when i set it to local it provides no data now
is it nessescary its local

what does `solana config get` show? Before running the validator and logs do: `solana config set -ul` to set it to local
theres so much
well idk where the data is coming from
Yes, you don't need to provide arguments to it
with no arguement
`solana logs` provides a lot of data
instead of adding an address
okay wait
is your config set to localhost?
So accounts here is the user wallet address? 
Or the token address of the user of the particular mint??
```rust
fn some_fake_instruction(accounts: &[AccountInfo]) -> ProgramResult {
    if accounts.len() == <SOME_NUMBER_HERE> {
        msg!("In first form");
        // Logic for accounts.len() == SOME_NUMBER_HERE
    }
    else {
        msg!("In second form");
        // Logic for accounts.len() != SOME_NUMBER_HERE (could be greater or less than SOME_NUMBER_HERE)
    }
    Ok(())
}
```

yes both of those were running while i executed the index.ts
As I said, you start the validator in one terminal and then open another terminal and type `solana logs` and it will tee the log messages there. Of course you have to run your client code once you set those two terminals up
still nothing on solana-test-validator or logs
Can you tell me how you could do it without anchor?
Yes but is it very different in anchor?
Is that Anchor? If so, try their Discord
Anyone looking to do an audit on their sol projects!? 

0xguard offers a very efficient and competitive pricing audits on Blockchain projects.
thank you i kinda of now understand what you meant!
What you 'log' is up to you, just make sure to read the solana-test-validator on how to load your program at the same time you start it
Can someone pls tell? 
I have the account as a parameter in the form of 
#[account(mut)]
 pub service_account: AccountInfo<'info>

And I want to first see how much balance of a mint this service_account has
And then debit the particular token
<@!814228493302497301>
thats up to you, but you can use the &[AccountInfo] array size to help in that logic
Hey, it worked! Thanks a lot for your help üôè
so should i log identity instead of my program id?

Well how can i use the Keypair to get the PublicKey of the account. Isn't the publicKey from Keypair what i need?
is there a way i can get dynamic number of accounts in an instruction! like a default way or do i have to implement some custom logic of my own!
for eg the instruction can work with three accounts and if needed it can run with 5 accounts, something like that
https://docs.solana.com/developing/test-validator
Hi, how can i create a stable coin in testnet ?
hey there! I'm Studio Tech Dir of a big mobile company, does someone knows how to contact Solana? Prodcut or some director from games? thanks
what is `solana-test-validator`?
Ok, so in your program you can 'decorate' the log with `use solana_program::msg` and do things like `msg!("Here I am")` or `msg!("Executing instruction {}", instruction_number)` (just be aware that the second form uses up execution units in the formatting of the string).
For your TS code to access these logs you would need to use the event subscription options I noted above.
If you just want to see them while you are testing you start `solana-test-validator` in one terminal, open a second terminal and do `solana logs` and you can see the messages as the transactions execute
i want a log from solana about my program executing a transaction
thank you
Are you saying you want a TS log that you are running a transaction? Or are you saying you want the log from Solana about your program executing a transaction? Sorry, still not getting what you want....
If the former, put the last `console.log("sending and...")` before the `await` on the `sendAndConfirmTransaction`
how could i rewrite this so its very conspicious that its trying to initalize a transaction
Not sure what you mean
```ts
    await web3
    .sendAndConfirmTransaction(connection, transaction, [signer])
    .then((sig) => {
        console.log("sig: {}", sig);
    });
    console.log("sending and confirming transaction with signer")```
i mean i should receive a transaction inherently
You can monitor the log with subscribing to log events (somewhat brute forced as you have to parse the results for you messages) but there are alternatives to monitor... See the 'onXXX' functions of the library.
i try to recieve a transaction or some form of log with my program id `solana logs FrcjfCFU6afHnJ2a51Amiqdht1HgHsWUt7ptSWsjq1qc` but when i execute this type script i receive no log shortly disconnects nor on the explorer
```ts
import web3 = require('@solana/web3.js');

let connection = new web3.Connection(web3.clusterApiUrl('devnet'));

const programId = new web3.PublicKey("FrcjfCFU6afHnJ2a51Amiqdht1HgHsWUt7ptSWsjq1qc");

const key: Uint8Array = Uint8Array.from([168,160,249,28,95,207,162,136,83,7,101,188,22,190,206,162,227,189,234,19,22,212,89,64,196,225,63,89,7,64,128,46,186,87,174,196,33,45,131,157,139,233,116,159,193,214,215,188,145,211,66,244,165,52,34,43,248,102,23,152,62,6,73,173]);


let keypair = web3.Keypair.generate();
let payer = web3.Keypair.generate();

async function main() {
    const signer: web3.Keypair = web3.Keypair.fromSecretKey(key);
    const data: Buffer = Buffer.from("blah");

    const transaction = new web3.Transaction().add(
        new web3.TransactionInstruction({
            keys: [],
            programId,
            data,
        })
    );

    await web3
    .sendAndConfirmTransaction(connection, transaction, [signer])
    .then((sig) => {
        console.log("sig: {}", sig);
    });
    console.log("sending and confirming transaction with signer")

main()
    .then(() => process.exit(0))
    .catch((error) => {
        console.error(error);
        process.exit(1);
    });
}```
Maybe a list, or something
Is there and resources for helping higher a developer? We are looking to bring 2 of them in our company full time.
do you have an idea how can I resolve my problem ?
https://docs.solana.com/cli/deploy-a-program#set-a-programs-upgrade-authority
`solana program set-upgrade-authority <PROGRAM_ADDRESS> --new-upgrade-authority <NEW_UPGRADE_AUTHORITY>`
i think this should do it for you!
Hi Guys,

Here are my layers, after generated 100 NFTs , all my NFTs are with hats, full, but I'd like to generate combinated NFTS without hats, or without eyeglass

Both have different representations.
You can derive the public key from the private key, but not vice versa.
PublicKey, well, is a public key.
A keypair represents a private key.
After I create a new account with new Keypair() how do I get the public key so I can use it in future transactions? If i get the keypair.publicKey.toString() and then use it as an argument in new PublicKey(...), the PublicKey struct has a different _bn field.
Got it, thanks.
That too, but you can't fabricate adding more than you took. 
```rust
**from_account.try_borrow_mut_lamports()? -= amount * 2;
**to_account.try_borrow_mut_lamports()? += amount * 2;
```
Has to balance or the instruction will fail
So rounding errors will be an issue.
Ah interesting.
You have to balance at the end of the day. So if you take 2x from one you have to distribute it somewhere
What happens if I do `**to_account.try_borrow_mut_lamports()? += amount * 2;`
Hmmm?
Yes, sorry... wasn't clear on that part
I will try ur approach first
I think maybe I should have used `invoke_signed` not `invoke`
Yes that was my understanding also
Cool, let us know how it goes. If I remember when I brought this up last year: "A program can debit from accounts that are owned by the program and can credit any account (do not need to own)".
Hmm interesting, let me see if I can use that!
So the program is the signer on the invoke with a PDA. It was also my understanding that for transferring lamports you could get away with:
```rust
/// Debits the lamports 'from' the program account and
/// credits the 'to' account
fn charge_service_fee(
    from_account: &AccountInfo,
    to_account: &AccountInfo,
    amount: u64,
) -> ProgramResult {
    // If tracking can not afford transaction fee
    if **from_account.try_borrow_lamports()? < amount {
        return Err(SampleError::InsufficientFundsForTransaction.into());
    }
    // Debit user and credit service
    **from_account.try_borrow_mut_lamports()? -= amount;
    **to_account.try_borrow_mut_lamports()? += amount;
    Ok(())
}
```
Ignore the function name, this was used in another program I have
I think you want:
```
    set-upgrade-authority    Set a new program authority
```
https://docs.solana.com/cli/usage#solana-program
That and some other usages I can think of.... thanks!
you have any docs for this? would be useful.
Also useful is the batch format where you can send in an array of requests and get back an array of responses.
i actually need it to change to my own private key so thanks.
If you are curious as to why that would be needed it's to allow for async operations where the caller doesn't have to maintain a waiting thread.
I think so yes, you can transfer ownership.
<@!397190811239841802> you can ask them to deploy with --immutable so it cant be changed
No. The `from` is the PDA, which was created by the program. The `to` is a public key that is stored on the PDA (and also passed in as `mut AccountInfo`) in the call.
for instance if someone else deploys the program but i can't trust them ownership of program? or is the only way to deploy it myself?
gm. can we change program owner?
thanks <@!590982495923732511>
oh! yeah right ... it doesn't other methods worked!
Ahhh, thanks for that
It should not matter, the RPC standard specifies id is an opaque value that should be returned back to the client.
Does the program own any accounts?
So getProgramAccounts gets the accounts owned by the program.
You can use the memo program to add a message to the transaction, yes.
https://explorer.solana.com/address/BMZse2azF94EAHU7VhMGYDsm9tTmW1oTTKobfpfqTR8V?cluster=devnet
yes, you can check it
Worked for me
Are you sure the program is deployed in `devnet`?
it doesn't, I kept increamenting from 0 to 5 lol
Change ID to 1 and see if it makes a difference
https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts
even though the program is deployed
it return an empty result for me
curl http://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '
  {"jsonrpc":"2.0", "id":0, "method":"getProgramAccounts", "params":["BMZse2azF94EAHU7VhMGYDsm9tTmW1oTTKobfpfqTR8V"]}
'
{"jsonrpc":"2.0","result":[],"id":0}
https://api.devnet.solana.com
I suppose would do for you!
So that is always '1' and devnet is https://api.devnet.solana.com
Read them all here: https://docs.solana.com/developing/clients/jsonrpc-api
using the json RPC for devnet,
I also have the same question, lol
thanks <@!814228493302497301> , I'll have a look maybe I find what I want
Also what would be the http endpoint for devnet
curl http://localhost:8899 -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getTransaction",
    "params": [
      "2nBhEBYYvfaAe16UMNqRHre4YNSskvuYgx3M6E4JP1oDYvZEJHvoPzyUidNgNX5r9sTyN1J9UxtbCXy2rqYcuyuv",
      "json"
    ]
  }
'
Can you paste a snippet of what you are referring to?
Are the 'from' and 'to' accounts both owned by the same program?
Anyone
Start with <#763249718339567626>
I owe you one
<@!814228493302497301> ty ty
hi everyone, I'm completely new to solana development. I was wondering where I can find more example to build clients using  web3.js API ? honestly the documentation is not enough and hello world example is not enough as well. any resources I can refer to ?
QQ. I have a PDA that has a bunch of lamports transfered into it. I want to get my program (that owns the PDA) to transfer the money to another address. What is the correct command to use? I have been using `system_instruction::transfer` with the PDA's public key, but im thinking I need to sign this? How does one go about signing this transfer for the PDA. I looked into using `invoke_signed` but it is not clear how I make that work with the system_instruction. Any hints?
Resolved my issue by reverting to earlier versions of solana-cli and anchor cli

solana-cli 1.8.0 (src:4a8ff62a; feat:1813598585)
anchor-cli 0.18.2
rustc 1.57.0 (f1edd0429 2021-11-29)


Also shared my solution here: https://github.com/project-serum/anchor/issues/1157
What is the "id" I have to pass 
In JSON RPC API

In examples its always 1
Final note if you take this route... you want to get the new chunk in by just slicing location (see `arrayref`) and write to the tail in the target account as you would likely blow execution units if your progressively deserialize the entire account just to append.
There is no automagical way to convert the program you've deployed but
If you create the equivalent in Anchor you could 'upgrade' your existing program with the new anchor version and just ensure you use the same program-id you used to deploy the first program
üçª
or try to üòõ
I think I'm going to do it in 1000 byte increments
right on
Generally one way to do it: 
To get 10 MB of data up to an account vis-a-vis transactions:
1. You are limited to a transaction size of 1232 bytes
2. You will need to 'chunk up' your source data
3. Fashion an instruction that has the main purpose of accepting a chunk and appending to the account data space
4. Put checks in that may have to prevent other instructions from executing until the data is whole (i.e. 'data feed in progress')
5. When you get the last chunk, set any check indicators to clear
do I have to slowly fill it up with a bunch of requests? or am I deeply misunderstanding this
but the stack frame is 4kb
if I want to fill an account with 10mb of data
hey so
Is it possible to get disconnected from the network if you are too far behind the slot?
To change it to anchor what would I need to do
I already have my program deployed on solana
I usually write code using anchor framework - Here is the example - https://github.com/project-serum/anchor/tree/master/tests/events
getProgramAccounts(), getProgramAccountsFilter, memcp is one of the filters in it
Can you give example where and how
I see, then you should use events
No I want to make call from client 

Make call from client->On chain custom program executes->returns txn id 

Cant see logs of it on client side
<@!815267573431533598> Thanks for the update!
<@!687316047409446938>  Not certain.  Suspecting network issues.  Has been reported earlier today about 2 hours ago
<@!872000929719791646> what function is that from?
I haven't tried this yet but use `msg!("your message for logging")` . Let me know whether this was successful
```memcmp: object - Match a series of bytes to account data:
offset: number - Number of bytes into account data to begin comparing
bytes: string - Data to match, as base58 encoded string limited to 129 bytes```
can anybody please help me in understanding the offset?
if i put he offset as 10 would it start comparing them from the 10th index or something like that
Hey Can anyone tell how to print program logs using transaction id?? 

Solscan is able to do it 
I have inspected the network request
Hello all, need your help . 
I tried deploying to devnet today and I keep getting this error - 
`Invalid Blockhash `
I used the following command for deploying 

```
solana program deploy path/to/program.so --program-id program_keypair.json --upgrade-authority authority_keypair.json --url http://api.devnet.solana.com
```
Any idea whats happening here? Any help would be helpful :))
Would it be possible to add additional metadata to a transaction and then later perform calculations based on past history?

For example, assume I have 5 transactions where I paid for "Coffee" and 5 transactions where I paid for "Beer". I would like to label each transaction as either "Coffee" or "Beer" at the time payment is sent, then later calculate a total for "Coffee" and  "Beer" from my transaction history, and then calculate a total "Beverages" as the sum of total "Coffee" and total "Beer". 

Would this be possible? I'm still a bit confused about the relationship between programs and accounts and the limitations of how data can be stored and retrieved
if i send a transaction, and wait for it to read a state of finalized, and then i send another tx that uses a preflight commitment of `processed`, will it read the state changes from the 1st tx?
Check that
Its usually generated in target folder
How can I get balance change using transaction id 
Like solscan shows
Maybe at a specific blockhash?
Hi, is there a simple way to get the account data at a previous point in time?
Will just use what they have for NFTs
<@!815267573431533598> Closing the loop, Metaplex is doing it via a metadata program id transaction here: https://github.com/metaplex-foundation/metaplex/blob/b1058bd0b13a3a722f7c5a835c40dab484c72839/js/packages/common/src/actions/metadata.ts#L555
Hi All, I'am trying to create my own token and do transfer using solanaj. Can anyone point me or let me know how to do that? Iam successfull in doing transfers using solana token. Here's my approach:
1. Create token and associate it with a token account: At the cli level iam able to do this. Using solanaj i would need the secretkey to sign the transaction and submit. Without the wallet.json for the token how can i get the secretkey for the token account.
2. Mint tokens and transfer
https://github.com/near/borsh-js
https://borsh.io
i think yes tho
not sure if relevant for typescript land üòÆ
There's BorshDeserialize and BorshSerialize
yeah i think: allocate data exactly according to bits/bytes you need per var.  then "serialize" the data, then somehow do a transaction that updates the data on network (?)
Thanks all! I'll figure it out ü¶æ
Trying to do the opposite, serialize data and write that into an Account
Client Account Data Deserialization
<@!785084693023424542> Thanks, I only see the Rust cookbook for that section? But I can try and figure it out from that
the TS section is there, look at the TS tab.  the entire section shows how to setup serialize & deal with data:
https://solanacookbook.com/guides/serialization.html#client-account-data-deserialization
It looks like this is all about allocating size for account data, but still looking for how to assign data there
definitely https://docs.solana.com/developing/clients/javascript-api
Not sure yet but trying out some of the buffer allocations
still looking for something definitive.  do you  know which function would be called?
<@!886368568441192478> https://grep.app/search?q=data&words=true&filter[lang][0]=TypeScript&filter[repo.pattern][0]=solana
Ah that might be it, I'll try!
<@!886368568441192478> https://docs.solana.com/developing/clients/javascript-api `let data = Buffer.alloc(allocateStruct.layout.span);`
I think that instruction data is for TS / Rust structs that serialize to a transaction, not encode data into an account. This looks like what I want, just no TS to go off: https://solanacookbook.com/guides/serialization.html#account-data-serialization
borsh options just use 1 byte right?
What do you think about that one
There is a parameter `data:` there.
Okay cool.  Do you see `TransactionInstruction`  on line 89 at https://solanacookbook.com/guides/serialization.html#serializing-instruction-data ?
Confirming transactions with the cli
Ah I misspoke. I'm using a node app to interact with devnet right now
<@886368568441192478> can we use typescript at the CLI? https://solanacookbook.com/guides/serialization.html#coption
Yes thanks <@!711352300467257369> . I'm trying to create data accounts but don't see how to persist updated AccountInfo back to Solana yet
1.8.6 of the CLI <@!815267573431533598>
<@!711352300467257369> thanks for the link
What version Solana are we looking at
`getOrCreateAssociatedAccountInfo` ?
https://solanacookbook.com/#contributing
The JS API includes createAccount or getOrCreateAssociatedAccountInfo but I don't see how to set the data in AccountInfo
How do you attach arbitrary data to an Account? I don't see in the API anywhere this can happen, at least through web3.js: https://solana-labs.github.io/solana-web3.js/
Thx <@!815267573431533598>
Anyone ever play on `Metaplex` ?
Like another program that says its name ?
<@!796385050572488724> Can you show an example of what you want?
solana programs don't have names only addresses
you probably need to reach out to solscan
<@!789558834154569769> 

https://docs.solana.com/developing/on-chain-programs/examples 

and then

 https://github.com/solana-labs/solana-program-library
how to set solana program name?
I want to display my program name instead program address like attached screenshot. pls help me

Hello everyone. Pls help me for this.
https://discord.com/channels/852454062779269140/852454062779269143/930221122350366760
Wich roadmap I need to follow to develop programs from scratch?
My pleasure.  Hopefully we made some inroads ^_^
thanks for all the help btw <@!815267573431533598>  - really appreciate it. will keep at it
Right.  Hmmm..  Great question.
just yesterday or day before - they take 10 seconds
on another notes, why are deployments taking so much longer now
Anybody played with metaplex?
ü§î
Seems like Devnet is unaffected though.
Well that's interesting.  I wonder what's going on.
Oh that's an interesting take on that.  yeah that does seem like time out something or other
yeahhh that's what i was thinking. was thinking `ExitStatus(unix_wait_status(256))` could be a clue as well since it's probably a "time out error" from waiting too long. Perhaps it really is a speed thing
so maybe still an issue?  high computation transactions?  probably not on devnet though right??
about 3-4 days ago..
and this posting on status.solana.com says Jan 6
Yeah I saw that, 3 days ago
another related issue

https://giters.com/project-serum/anchor/issues/1157
yes
does this program usually work
Might just be network
status.solana.com
Full error after `anchor deploy`

```
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
I am asking can we make a stake pool where we stake SPL tokens instead of SOL
That sounds like a Solana Program
a custom SPL Token stake pool with custom reward mechanism
<@!621730412594724878> uh, there are lots of stake pools out there... which ones you do want to be like?
<@!569581422214643763> cool, if people are already used to QR then you have a head-start üòÑ
Can we make a stake pool for SPL tokens. can someone help with this.
haha nice, we are in a time where we use QR a lot (in our country), for the first stage we are going to use that because is familiar for people but after that we are going to think on something like you said üòÑ
<@725857328150085702> can i see the guide you are following or get any more stack traces or logs?
<@!815267573431533598> so this is basically my issue as well

https://stackoverflow.com/questions/70437644/error-custom-invalid-blockhash-when-solana-program-deploy
like today I am thinking to myself, "oh i forgot my wallet, how will i pay for coffee?"  i have to drive back to get my physical black wallet.  now, though, the phone can be the card / the wallet.  but what next? the ring?  a ring w/ laser-etched barcode and then a prism reader for the merchant?  like credit card info laser-etched into a diamond? lol
<@!569581422214643763> i say get creative with it!  innovate on the level of the transaction.
haha we have big expectative to bring a nice solution for our people, let's see how it goes üôÇ
need to see available all tokens including NFTs
Or something else
You want to see all the NFTs they own?
yes
<@!884442938267013230> mint as in what they minted?
<@569581422214643763> excellent.  business model sounds Sound.   Focus on good longevity, don't get acquired üòÑ
there may be a tokenlist floating on github, but i don't know how up to date it is
you can use a cex api to get symbols
currently im using "getTokenAccountsByOwner" this to fetch all the available tokens from the wallet, but it only returns mint, pubkey and balance!
yes, in our country there is a boom right now for virtual wallets but they are backed by Mastercard, we are going to start small since we are going to put some money on bank to start backing our service and start to grow step by step, at the beginning we are going to restrict big buys, also for regulation. Our service will have some key differences, better fees, near instant payments, savings (15%) and also discounts in stores (we already know that business too)
art artifacts
Ahhh the image!  I see.
need icon or image of that token,
"mean
<@!884442938267013230> what does "with symbols
Hai, How to fetch the all tokens in one wallet with symbols from solana ?
now's your opportunity to rethink the physical cash artifact
You might have to incentivize merchants... but you can probably make a nicer fee structure than credit cards
Thanks! we are on our way üôÇ
I say go for it and dominate that segment as swiftly as possible
Yeah, it sounds like your application makes sense and there is a market gap for it
Awesome
Yeah, we are a team of veteran developers, python, scala, php, java and stuff like that. We are kind of new in blockchain but we are learning on the way üôÇ
üê∞ bunny on keyboard^
oeu$i
Amazing, I hope you have a good team with you.
We have found a way to meet legal requirements to offer the service and also offer a better fee for payments
yes, I am from Peru
where you live is there high inflation?
Nice
we are going to provide liquidity in our own currency
between merchants and users
Our app is for those users who don't know how to use that, we are planning to create a service (managed by us) to get them close to crypto, give them access in an easy way to things like savings, stacking and others but... we are also going to process payments
They are not going to give us their mnemonic, they can have their wallets, this a specific wallet for our service
can you make your application work with a wallet extension for the browser so you don't need any info from the user?
<@569581422214643763> people have to trust you a lot to give their private key or mnemonic
it's already there
We don't want to replicate blockchain info haha
Thanks for the recommendation, we are not going to store the information since it already exists on blockchain. We are going to store the user info (needed because our country requirements for KYC), wallet address, mnemonic. Transactions that already live on blockchain we are not going to store them (also to save resources).
it targets bpf (same bytecode / vm as when it runs on the actual chain)  for some reason my test stalls out when I just do cargo test
devnet
talking to devnet?  i suppose it could be slow.... i don't know
could it be an internet thing
so it looks like it works but it's hella slow
o_O
ah wait nevermind it worked - but it took long like 2 minutes
What's the issue?  It stops working after a few minutes and then exits out?
im trying a different program in a different folder and its the same issue
<@756724525269254155> during `cargo test` yes...   What is `cargo test-bpf`
okay this is weird
<@!756724525269254155> I think so?  But I'm not certain.  I'm looking for info on that now
<@569581422214643763> if you are not storing the data (good thinking) then the mnemonic seems best.  once you start storing sensitive data you gotta think about encryption and salting
To be honest I think just the mnemonic is enough, since we are not going to store keys in a file and more using on the fly is better to recreate them with mnemonic I think
Is it possible to see the `msg!` logs from a program when running `cargo test-bpf`?
<@569581422214643763> whether you want to store the mnemonic or the complete keypair is a design decision that you'll have to weigh the worth of for your specific application & context.  does it make sense to support both options?
<@725857328150085702> yes
<@569581422214643763> well you certainly want to encrypt what you store on your end, in case of data breach so nobody has the keys of your users.  You can use symmetric cryptography to encode/decode as needed.
you mean on the program logic?
or is not recommended that way?
I think the mnemonic is enough since we can regenerate the keys every time he wants to make a transaction?
it sounds like it's getting computationally limited, is there a loop on the loose <@725857328150085702> ?
I am going to ask something that is not web3 at all but for our project we are going to store user keys, we are going to handle their wallets, my question is, what is better to store, the mnemonic or the complete private and public?
then eventually the error is returned a minute or two after stopping
and is just stuck
well after a while it stops printing
damn what you writing into there the dictionary
i ran anchor deploy 2 minutes ago, it's still stuck
thus spake the solana creators yey
it should be like ZAPPO
I'm trying to update a deployed program
it should not take super long
a clue
What are you trying to do
yep
devnet right?
and then it just stops?  it doesn't retry?
Well that's weird, it's like it's not getting the hash for the block right.
returns Error: Custom: Invalid blockhash
the msg log keeps running then around a few minutes later
it's working and then when does it stop working
might be the newer version
gotcha
and eventually returns `Error: Custom: Invalid blockhash`

`makeSolana.go();`
issue is that it takes super long
personally i like that guy's spunk
that means its working im pretty sure
msg BsptDpxcns58BSL5KHMEdV6oZBfqW39mPwADrfwF1Qny
msg BsptDpxcns58BSL5KHMEdV6oZBfqW39mPwADrfwF1Qny
msg BsptDpxcns58BSL5KHMEdV6oZBfqW39mPwADrfwF1Qny
msg BsptDpxcns58BSL5KHMEdV6oZBfqW39mPwADrfwF1Qny
msg BsptDpxcns58BSL5KHMEdV6oZBfqW39mPwADrfwF1Qny
also getting these weird logs i wouldnt see before
yes
am canadian
*canadians welcome
no canadians
loooool
üôÖ üçÅ
üòÖ
i guess we'll never know
I'll try. Thanks for the help dude!
hake mentioned writing `solana-keygen new --no-outfile` and then u can airdrop im pretty sure
you gotta make a keypair first
Hey there!
I'm new to this Crypto thing. But I need to create a token on solana blockchain. So I go through the documentation and I can't get little amount of sol with this command "$ solana airdrop 1"
Anyone know why?
does it discard ur last public key
<@725857328150085702> when deploying an updated version of a solana program?
<@!753039116861440081> https://github.com/solana-labs/solana-program-library/blob/master/token/js/examples/create_mint_and_transfer_tokens.js
Been getting `Error: Custom: Invalid blockhash` errors recently when deploying .

Anyone encounter this before?
So yeah, `solana-keygen new --no-outfile`  writes a public-key/private-key pair to ` ~/.config/solana/id.json`
<@!753039116861440081>
`verify` makes sure the wallet is the one for the seed phrases..
`new` makes a new private-key/public-key pair,
`solana-keygen` has a few commands like `new` and `pubkey`
https://docs.solana.com/cli/conventions#keypair-conventions
id.json or keypair.json whatever its called
is it the public key that is generated for when you need funds on the dev.net
yea but im just trying to understand what solana-keygen is
values
That's 64
its typescript however
ill check that out right now
like ```ts
const key: Uint8Array = Uint8Array.from([168,160,249,28,95,207,162,136,83,7,101,188,22,190,206,162,227,189,234,19,22,212,89,64,196,225,63,89,7,64,128,46,186,87,174,196,33,45,131,157,139,233,116,159,193,214,215,188,145,211,66,244,165,52,34,43,248,102,23,152,62,6,73,173]);```
of the keypair thats generated
do you mean the array
Maybe this helps :D? ^
<@!753039116861440081> https://www.quicknode.com/guides/web3-sdks/how-to-send-a-transaction-on-solana-using-javascript
I see it toBase58()
what is the equivalent to solana-keygen pubkey in solana web3?
i can create `console.log('bla bla')` but the code is being run
no well i can show you the solana logs initializing statement so u can get a visual
Gotcha .. Is there any result statement once you run?
both in vs code and unix
command line
Are you running this in a web browser or command line
ü§î
yeah nothing
And nothing shows up in the explorer too, right
yes sir
but its the same thing you know that
well the instructions provided from resources somewhat all use `solana logs` i mean the explorer aswell provides log info
We're doing typescript = Solana web3 .js , right?
do you have an application or some code that will cause a log message to appear?
Right, there ought to be some output when you do the monitor logging
Okay üòÑ
thats why i came here
yeah
I think the data is probably OK we should see something in the logs right
uhhh ive only used dev net
So there's devnet, there's also local, right?
or the instructions for whats relevant in the transactions , i could remove data
since I'm still a newbie... is there an example application that accomplishes what you want to do?
that provides the initialization for the new transaction
What's up with TransactionInstruction
yea
that's whack*
what's whack
so when i run this , i go in terminal and use `solana logs FrcjfCFU6afHnJ2a51Amiqdht1HgHsWUt7ptSWsjq1qc` but there is nothing received and it shortly disconnects after
you no getting logs, you turn logs on?
```ts
import web3 = require('@solana/web3.js');

let connection = new web3.Connection(web3.clusterApiUrl('devnet'));

const programId = new web3.PublicKey("FrcjfCFU6afHnJ2a51Amiqdht1HgHsWUt7ptSWsjq1qc");

const key: Uint8Array = Uint8Array.from([168,160,249,28,95,207,162,136,83,7,101,188,22,190,206,162,227,189,234,19,22,212,89,64,196,225,63,89,7,64,128,46,186,87,174,196,33,45,131,157,139,233,116,159,193,214,215,188,145,211,66,244,165,52,34,43,248,102,23,152,62,6,73,173]);


let keypair = web3.Keypair.generate();
let payer = web3.Keypair.generate();

async function main() {
    const signer: web3.Keypair = web3.Keypair.fromSecretKey(key);
    const data: Buffer = Buffer.from("blah");

    const transaction = new web3.Transaction().add(
        new web3.TransactionInstruction({
            keys: [],
            programId,
            data,
        })
    );

    await web3
    .sendAndConfirmTransaction(connection, transaction, [signer])
    .then((sig) => {
        console.log("sig: {}", sig);
    });
    console.log("sending and confirming transaction with signer")

main()
    .then(() => process.exit(0))
    .catch((error) => {
        console.error(error);
        process.exit(1);
    });
}```
just 38
38 lines np
if it's a ton of code maybe toss it into a pastebin
yes sir
I think you have to use address, name and program ID for it to work
Go right ahead
do you guys mind if i paste 38 lines of code and see why im not receiving any transaction on the explorer or solana logs for my program id?
hey i have this type script file im trying to get a result from solana logs from it when i execute my index.ts however it does not initalize any transaction
hey I think this will help me?
https://tenor.com/view/da-dum-tss-drum-drummer-drumming-gif-15912645
https://docs.solana.com/integrations/exchange#listening-for-deposits <@!711352300467257369>
Put your ear really close to the blockchain
How can I listen for deposits?
ü§î
it's `SystemProgram.Transfer` and `AssociatedTokenAccountProgram.CreateAssociatedTokenAccount`
wait my bad
how to remove some unwanted token accounts from wallet?
Could someone help me build a order book that shows transactions with orders above 10,000 tokens for a specific address along with wallet that bought or sold? Or just send me to some documentation that could be helpful? I was thinking about using Serum.py - I have so far discovered how to get markets. Forgive me I am new and not really sure how python could be used for this. I will paypal you if you like. This just seemed like a cool project to learn to code
so weird
list of signors is the same regardless of whether I have one of them, or both
it works
but if I leave just one of them
signature validation failed
fails with
`SystemProgram.Transfer` and `TokenProgram.Transfer ` together at the same time in one transaction
in reference to what?
just reading through https://docs.solana.com/cli/deploy-a-program
Yep, it's confirmed, it happens when I use both, otherwise it doesn't, so weird
`solana program dump --help`
Is it possible for anyone to download deployed program binary?
it can..  start with a clean install guide and post as you go if u need help. then a clean project that works.  hellow world or the template above.
Yeah there‚Äôs been success with WSL.  Never used it myself though
Ah sure. Thank you
do you think WSL will work?
new versions of the Chainlink price feeds are on their way very soon, and will include an anchor library to query the data. Stay tuned and keep an eye out on chainlink social feeds
Thank you, My VMware just failed on me, so I can't test now, Will have to probably reinstall
If you‚Äôd like to see a minimal program to compare against, check out https://github.com/mvines/solana-bpf-program-template
Try removing solana-sdk from your dependencies, that‚Äôs not used by programs
I don't think I have atty in my Cargo.toml

```toml
[package]
name = "cyrial_helloworld"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
# borsh = "0.9.1"
# borsh-derive = "0.9.1"
solana-program = "1.9.4"
solana-sdk = "1.9.3"
spl-token = "3.2.0"


# [dev-dependencies]
# solana-program-test = "=1.9.4"
# solana-sdk = "=1.9.4"
# spl-token = "3.2.0"

[lib]
name = "cyrial_helloworld"
# crate-type = ["cdylib", "lib"]

```
So that cargo error is from building dependencies, your code hasnt even compiled yet.  Try removing atty from your Cargo.toml dependencies to start with
so weird
but if I use both - validation always fails
```rust

// use borsh::{BorshDeserialize, BorshSerialize};
use solana_program::{
    account_info::{next_account_info, AccountInfo},
    entrypoint,
    entrypoint::ProgramResult,
    // msg,
    program_error::ProgramError,
    pubkey::Pubkey,
};


pub enum Instructions{
    CreateAccount {
        // cost: u64
    },
}

impl Instructions{
    fn unpackinst(input: &[u8]) -> Result<Self, ProgramError>{
        let (&instr, _) = input.split_first().ok_or(ProgramError::InvalidInstructionData)?;
        Ok(match instr{
            0 => {
                // let (&cost, _) = rest.split_first().ok_or(ProgramError::InvalidInstructionData)?;

                Self::CreateAccount{
                    // cost
                }
    
            }

            _ => return Err(ProgramError::InvalidInstructionData.into()),
        })
    }
}

// Declare and export the program's entrypoint
entrypoint!(process_instruction);

// Program entrypoint's implementation
pub fn process_instruction(
    program_id: &Pubkey, // Public key of the account the hello world program was loaded into
    accounts: &[AccountInfo], // The account to say hello to
    instruction_data: &[u8], // Ignored, all helloworld instructions are hellos
) -> ProgramResult {
    let account_info_iter =  &mut accounts.iter();
    let instruction = Instructions::unpackinst(instruction_data)?;
    if next_account_info(account_info_iter)?.key == program_id{
        match instruction{
            Instructions::CreateAccount{} => {}
        }
    };
    Ok(())
}


```
if I use only one of them - it's fine
`SystemProgram.Transfer` and `TokenProgram.Transfer` together at the same time in one transaction
hm apparently the problem is only when I use
Sorry not gonna zoom around a screenshot anymore :). Use text please
I don't think I used any though.

This is my code:
For example no io
You‚Äôre trying to add crates into your program that are not supported in the restricted bpf runtime
now it gives me a couple of recommendations, but I can't apply any of them, because that is not part of my code
I Think it is me not using the library correctly, because my error is
Weird, what happens if you run cargo-build-bpf ?
I believe I do:
You don‚Äôt have the solana cli tools installed, or not in your PATH
thank you nonetheless
sorry, not sure
yeah it does:
if you do `rustup show` do you see bpf?
probably missing some dependency related to bpf toolchain?
so my compiler lets me `cargo build` but not `cargo build-bpf`.

What could be the issue?
build-bpf targets bpf, and build targets x86 (i think)
hey all, Please what is the difference between `cargo build-bpf` and `cargo build` ?
Anyone know how to view program logs from a run of cargo test-bpf?
I'm trying to write a simple program that tracks a running total of sent transactions as SOL Outflows, and all received transactions as SOL Inflows, and also calculates the difference. Any recommendations on reference resources to look at? I'm a bit confused how and where this running total data would be stored, considering that programs take rent to maintain (if that is correct)
I did check the list of signers and it's the same both times
however when I remove it and just leave the rest of the instructions the transaction passes
if I use `AssociatedTokenAccountProgram.CreateAssociatedTokenAccount` I always get "Transaction signature verification failure"
is it possible to get the  `msg!` 's in my program to show up when i run cargo test-bpf?
You can freeze the token account, if you hold the mint's freeze authority
How about a vagrant setup. I suppose this will fix all issues on all systems.
Trying to avoid writing out a separate smart contract. Thanks for the reply!
yeah, it's common to jump between mac and linux.  both environments are well supported.  it's just windows that's the unwanted ugly baby
I want to develop on a mac and then later use the code to build a binary on linux. I have issues when doing this. Does someone have a similar development setup?
iirc there're also some github issues some may be closed that you can crawl through
it wont let me type
üôÇ quite too literal
hahahaahahahahahahaha
what kind of function?
you're not the first, it's one of the most common topics in here, try the search function you'll find some good info
I want to write my own cli tool and import the libraries. currently ubuntu 20.04 and version 1.9.4. And it works fine. But when I switch to my mac it gives me obstacles I can't solve.
It asks for 1.8.1 instead. Is this normal? How about one cargo for it all.
You're probably going to have to elaborate on "can't" before anyone's going to volunteer for that mystery task
I can't cargo build on mac. I want to use 1.9.4. Can someone give me advice
You can freeze token accounts if you enable freeze authority.
no. token customization or a feature like that is not really a thing right now.  you could let our users have a balance in a program owned account controlled or locked by the program, or any number of alternative solutions.
I am wondering where do you get the data returned by `getInflationReward` somewhere on the blockchain, since I can't find them in any transaction? https://solanabeach.io/address/H8VT3V6EDiYiQqmeDgqZJf4Tt76Qe6WZjPhighAGPL5T/transactions This account has stakes for a while but only did a few transactions. Thanks!
Thank you for replying to me!
ah, ok. Cool. Wasnt sure if there was something specific i should equip myself wityh
probably the majority use vscode, but its whatever you prefer based on your setup.
can take at least 2 weeks, but its delayed per the github so no eta atm on how long. the setup is being reviewed.
Is there any options in the spl-token program to make the token non-transferable? I would like to mint tokens to an account but prevent that account from sending those tokens to other people
I'm just getting started working with Solana, are there any specific IDE that are better or worse?
how long does testing auto merge take for PR on solana token list?
right on
All this stuff can be later recreated with the right keys
leads to kind of an odd scenario
yeah, definitely
or they could have a regular token that has a metadata account,
Should be enough to pass some instruction an uninitialized or zero-balance mint account
oh you know what, it'd have to go in tandem with metaplex deleting the metadata account; if someone were to close this mint account and recreate it with the same key-pair, they'd be able to recreate the nft, or wouldn't be able to create a new one
Metaplex would have to support all that
I imagine in some years the amount of $ in gas will drive metaplex to do this lol
also associated master edition if any
might be on metaplex to do that one
but also just trash accounts floating around
the 679 byte derived metadata accounts could possibly be closed as well, although that's owned not by token program so it might not be possible
except it doesn't work. well i was hoped it would
reasonable
Yeah initially it didn't seem reasonable because how likely is it that anyone would be able to get back all the billions of base units they issued to be able to burn the full supply and enable deleting the mint/
null mint address, 0 supply
like many of us, happy accidents
yeah, it definitely seems reasonable, it's kind of a trash account now
We just accidentally were able to make them anyway
NFTs were not a consideration of the initial standard
..maybe
Mint, maybe in the future
yep
you can close the associated token account that holds the NFT, not the mint itself.
yeah, exactly what I was testing as it was made out to be possible above - miscommunication I suppose
Oh you're trying to close a _mint_.  That doesn't work.
https://explorer.solana.com/address/B5RSd9AbA7eaeXmeacSY6zUpemUwycRLwyJtX6BGewwn?cluster=devnet this was the associated account that was closed, I'm unaware of how to close the mint account
i have this index.ts and its supposed to make a transaction off my program_id but my `solana logs` logs show nothing when i `npx ts-node index.ts`
That's the one that can reclaim SOL
I don't see where you ever issued a close instruction
just thought it'd be interesting to try, but yeah, seems like sol sent to a mint address is as good as gone for now
have any of you guys had trouble with `solana logs`
solana account shows it's got 2 sol still stuck inside
https://explorer.solana.com/address/Wwd6VwoePZFzXo6S5aFkjpy3AqFmX5m2mzvkfBXKd5d?cluster=devnet check it out
No one can help you solve "didn't work"
that'd be cool if it did work, because there's essentially a garbage token with 0 supply with no mint authority
does it need to be a grouped transaction?
hey, just tried this out on devnet, didn't work
i would not
i don't think they are willing to go through that for 0.5 SOL
yeah
Somebody does, right?
That should be equivalent to burning.
i still don't own the NFT
yeah but still should not be a thing lol
You can transfer the nft to a different wallet and close the account.
yeah i copy pasted the address i wanted to send to and then it auto corrected it lol
you can pass slots to the config if you want passed,  but you will only be able to go so far back on many nodes, and you may have to look into or access an archive node for older data. if you dont pass a config you get a default of the current epoch i believe.
it's kind of a pebcak issue
Click the purple x?
use sol domains or just double check
gotta talk with their support about auto refill gald i did not try to send a larger amount
It auto picks this shit xD
sadly i can't brun it because the nft is not mine :/
there you may have it
like no i don't want it to pick and address by it self xD
burn + close will reclaim
Yeah it's annoying it's not that big of a deal but who in their right mind adds so it auto refill the most important thing
pretty sure I tested burning the token and it doesn't reclaim it
Yeah i kinda hoped the creator of the token could withdraw but i guess that is only with programs and not accounts
if you sent to the mint address, I don't think there is any way to recover the sol - this topic has come up and I've never seen a solution
that'd be coool. for now i just add a feature toggle to use sdk when running tests
it auto filled the send address to the latest token i had looked at lol
look at balance

withdraw funds from a token NFT account?  i dont follow  ..  you can transfer funds from somewhere, to somewhere. an NFT itself, would be the asset being transferred. So unless your referring to something else?
And follow up can you withdraw funds from a token NFT account :P
Have any one seen the new auto complete function on addresses on phantom?
OK, he runs native tests with the native built (cargo build/cargo test) and BPF builds and tests (cargo build-bpf/cargo test-bpf). However; you can only deploy (devnet/testnet/etc.) the BPF built one
sorry i believe this project is rust and typescript for the most part i mean early in this tutorial he copies  the first 18 lines from this https://github.com/mvines/solana-bpf-program-template/blob/master/src/lib.rs
i dont believe so out of the box, last I checked.  test suite extensions and over hauls for both native and anchor are most welcome
along with easy program adding, pre loaded data sets, key management, multi-user scenario testings, and more üôÇ
so single unit case
is there a way to create multiple payers in solana-program-test?
I have a question about `getBlockProduction`

The docs say
> Returns recent block production information from the current or previous epoch.

Does that mean it can't prove this data beyond the last 2 epochs?
for thorough explainer, and hello world walk through this is good:
https://kirima.vercel.app/post/gentleintrosolana
try this.  short sweet to the point. simple to follow. last I checked there were no errors and smaller margin for error:
https://hackmd.io/@ironaddicteddog/solana-starter-kit
Is there more being built than just your program? Sometime the repo has other things like a Rust CLI or Node JS or.....
What github repo are you getting this from?
i mean in the video he does do cargo build once
so is all my progress fucked up should i restart?
https://github.com/ajamaica/Solana.Swift
This is true. I believe there are other sdks for that
<@!753039116861440081>  `cargo build` is not for programs you want to put on the chain, `cargo build-bpf` is. If you did a deployment of something built with `cargo build` you will get errors. `build-bpf` compiles the LLVM assembler (IR) to BPF byte code which is the only type user program that Solana runs on the chain.
Thank you! Correct me if I‚Äôm wrong, but it does seem like the wallet adapter will only work for Web applications though, not with an app built with, let‚Äôs say, Swift or Flutter
but cargo build-bpf does
not provide me the relevant command
so why does cargo build
ahhhhhhh okayyy
The message is at the very end of the build
each time you `cargo build-bpf` it puts the program in directory I noted along with a program key (which is random each time)
so `solana program deploy target/deploy/YOUR_PROGRAM.so`
not anymore at least
no it doesnt bro
it does, it says `target/deploy/YOUR_PROGRAM.so`
but why does cargo build not provide me the relevant directory for the tokey.so
Go for it! `solana program deploy --help`
i just want to solana deploy
Ok, I was faster and looks like it worked this time lol
Very gracious of it eh wot?!
What about the full source https://github.com/solana-dev-adv/solana-cookbook/blob/669b8fcc7164001c3a67a63b4ca4b30e8e6ef921/code/local-development/connecting-websocket/connecting-websocket.en.rs ?
sure, typically however when you cargo build it provides you the solana deploy command with the proper directory
rust is telling you that you are not using variables and adding the underscore is idiomatic for "And I ain't gonna... at least for now", the warnings are harmless. Sounds like you need to take Rust courses or go through fundamental tutorials.
Every slot is ~400ms. 400ms*150 = ~60s
Hi! Wrapping this into a function makes my function call not exit anymore: https://github.com/solana-dev-adv/solana-cookbook/blob/669b8fcc7164001c3a67a63b4ca4b30e8e6ef921/code/local-development/connecting-websocket/connecting-websocket.preview.en.rs

Any idea?
i cargo build and deploy shows up why>
How many seconds is that
Transaction simulation failed: Blockhash not found üò≠
Use wallet-adapter https://github.com/solana-labs/wallet-adapter
Posted this in <#694949720644124762> but I think it might be better here:

What do you guys recommend when trying to build mobile apps that interact with the Solana blockchain in terms of wallets?
I have not found a single example that uses anything other than the js client and phantom wallet, but Phantom can not authorize transactions in a mobile app.
Are there any resource to maybe build an in-app non custodial wallet? Or any other resources that might point me in the right direction?
Could be that as well. blockhashes are only valid for 150 blocks
Could it be I took too long to confirm the transaction after it's inception?
Warnings thankfully don't stop you. Continue
That's just a try again type of thing. You probably hit a node that had yet to receive the blockhash or something
wtf üòÑ üòÑ üòÑ
Well, no longer getting 0x4, but now my blockhash is missing apparently
hey i got no error, but two warnings for unused variables. what does the underscore truly provide?
Example test: https://github.com/bmresearch/Solnet/blob/b1b01867ba2069cff6929280e34d84c8f4658bba/src/Solnet.Examples/AssociatedTokenAccountsExample.cs#L112
I think so. Looks like it looking at solnet source
is this the `owner` I am looking for?
```cs
PublicKey assocAmintA = AssociatedTokenAccountProgram.DeriveAssociatedTokenAccount(ownerA, mintA);

PublicKey assocBmintA = AssociatedTokenAccountProgram.DeriveAssociatedTokenAccount(ownerB, mintA);

transactionBuilder                    .AddInstruction(TokenProgram.Transfer(assocAmintA, assocBmintA, 1, ownerA))
```
not `owner`
they call the third parameter `authority` in Solnet, rip
<@!489206164270350337> is the code good all the way up until after `ProgramResult {`
Luckily it is not a string there. Do `toBase58()` and you'll get what you desire
owner = owner https://github.com/solana-labs/solana-program-library/blob/2caec406bc315ab1c4a68db3de060eba55e184d9/token/js/client/token.js#L1511

authority = owner?
Looks like you designated the wrong owner
I love you
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/error.rs#L25
```cs
.AddInstruction(TokenProgram.Transfer(assocAmintA, assocBmintA, 1, new PublicKey(mintAuthority)))
```
Why must you?
TokenProgram error 0x4 when trying to
if its string
i can noob question. why i must Parse the keypair  with ``toString()``
```js
const address = keypair.publicKey.toString();
```
i appreciate that you recognize the video
most of the semantics were not my edit
as that was the instructions from the video
i didnt even write this code i copied and pasted it from github the solana-bpf-template
The video's code is different from yours. Add the missing commas that the video shows
the rs was in the beginning of the video and i can't deploy the contract without fixing this
this is one of many problems im having more problems in typescript
i mean
Please continue watching the youtube video. You're missing a bunch of commas.
do you have SOL in dev?  have you deployed to dev before this program?  have you tried following the write-buffer instructions?
just gave me another error
It has 6 SOL in it currently, more is needed?
Sounds like you need some SOL. Airdrop yourself some
Trying to create a token on devnet, keep getting RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0
What is the rocket framework? My understand is that most use Anchor
`Let key: &u8 = instruction_data.first().unwrap();`
Or you have any other tools?
You forgot the `:`
The best way to build on sol using rust is using Rocket framework?
got it. thank you
https://discord.com/invite/VYdtu92DX3
how to reach out to solscan explorer?
im trying to follow this youtube tutorial "Building a Solana Program from Scratch" and it gives me this syntax error for `lib.rs` as im pretty sure there is no error. Im following this code verbatim the tutorial is a couple months old I put [] over 'u8' and that did nothing.
you said me `Reach out to them`. üò¶
Reach out to them, as stated before
https://tenor.com/view/nick-young-question-mark-huh-what-confused-gif-4995479
so sorry but how to access to solscan.io explorer?
https://discord.com/channels/428295358100013066/517163444747894795/930217043125473280
how to set it on https://solscan.io/?
I want to display program names like this
That's not solscan
yes
You said solscan?
https://explorer.solana.com/ is this right?
the error message alternates between the one above and this
Reach out to them
are you running on windows?
thats the deploy command they provide you?
that's what i've been doing
how to add my program name to their explorer?
from the instructions provided
try cargo build and then do the deploy command
`solana program deploy /target/deploy/soloq.so`
yes
So you're running `solana program deploy` and getting that error?
i've been building a smart contract for weeks. It works fine on localnet, works fine on mainnet, but i haven't been able to deploy to devnet as I'd like to test it on devnet for a while before mainnet
What are you trying to do? Everything did fine on my end
That's up to solscan. They choose what has names on their explorer
How to set program name? So I want to display program name instead program address on solscan transaction.
I've had 5-10 failed transactions. It deploys to localnet and mainnet without any issues, but same script fails devnet
Retry? I just tried and was successful
any suggestions on how to fix this? It'll be of the utmost help
Doesn't look like it
I'm trying to deploy to devnet and i'm getting this error
```bash
Error: error sending request for url (https://api.devnet.solana.com/): connection closed before message completed
```

Is devnet down?
Kind of confused -- when you log a keypair, it gives you the secret key separately
is the secret key the first 32 bytes of keypair or the last 32 bytes?
yep, going have to follow the convention
What do you mean by escrow transfers?
Try the above
And <@!794305035516641292> I am using `test-bpf` because I have unit tests using `solana-program-test` and marked with `#[tokio::test]` (following the pattern of program unit tests in `solana-program-library`) which won't run under `cargo test`
<@!489206164270350337> the command I gave was what the line I had edited from within the  `coverage.sh`  I copied from `solana-program-library`. It sets a bunch of RUSTFLAGS before that line
I'm trying to get test `.so` program coverage deployed to local cluster from solana-sdk client. This only looks possible for unit testing not e2e.
info!("ok"); is still being executed but the function doesnt return
```rust
 pub fn subscribe_to_account(
        &self,
        pubkey: Pubkey,
        config: Config,
    ) -> ResultBox<PubsubClientSubscription<Response<UiAccount>>> {
        let ws_url = Web3Service::get_web_socket_url(&config);
        info!("Connect to websocket {}", ws_url);
        match PubsubClient::account_subscribe(
            &ws_url,
            &pubkey,
            Some(RpcAccountInfoConfig {
                encoding: None,
                data_slice: None,
                commitment: Some(CommitmentConfig::processed()),
            }),
        ) {
            Ok(val) => {
                let (mut client, receiver) = val;

                let handle = std::thread::spawn(move || loop {
                    info!("Waiting for a message");
                    match receiver.recv() {
                        Ok(message) => info!("{:?}", message),
                        Err(err) => {
                            error!("Connection broke with {:}", err);
                            break;
                        }
                    }
                });

                // handle.join().unwrap();
                // client.shutdown().unwrap();
                info!("ok");
                Ok(client)
            }
            Err(e) => Err(format!("{}", e))?,
        }
    }
```
Once calling the following method my function does not exist anymore
```
        match PubsubClient::account_subscribe(
            &ws_url,
            &pubkey,
            Some(RpcAccountInfoConfig {
                encoding: None,
                data_slice: None,
                commitment: Some(CommitmentConfig::processed()),
            }),
        ) ..
```
I must be missing something.  Running `test-bpf` can't be correct because I'm running integration tests using `solana-sdk` which is not going to compile in bpf environment
not exactly. I ran something like
`RUSTFLAGS="-Zinstrument-coverage" cargo +nightly test --package hello --test integration_tests vote --features test-env,sdk -- --exact  --nocapture`
is there much of a difference between the two?
Did you try https://discord.com/channels/428295358100013066/517163444747894795/930200303276523603 ?
Probably also token-list
Thanks. Do you know if it's possible to archive/disable a token and then make a new one with the same name/symbol?
Any ideas?
```
20:51:09 [ERROR] Error while executing llvm tools: Failure while running "/home/user/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/bin/llvm-profdata" "merge" "-sparse" "/home/user/software/solana/./default.profraw" "-o" "/tmp/.tmpLzHJEp/0/grcov.profdata"
```
i tried but dont know if the error is mine or because it is not possible
You cannot change the decimals after the fact iirc. Name/symbol is handled by the token-list repo
Sure, just not sure what the problem is as it does run for me (once I do the `TARGET_DIR` thing) and generate some coverage, just not the program code that runs under `banks_client.process_transaction(transaction).await?`
actually in that case, as a Solana question, can you edit an existing token that you created, in order to change the decimals? So that I can keep the name/symbol?
but producing a .so binary... i don't know what happens
i know any binary produced by rust has technically has ability to be instrumented
Maybe make a PR? We love help
BTW <@!489206164270350337> I noticed this note in the `solana-program-library` README.md: `$ ./coverage.sh  # Please help! Coverage build currently fails on MacOS due to an XCode 'grcov' mismatch...`
- I am running this on MacOS right now, but it doesn't "fail" exactly
woops gotcha! thanks
My guess is that it has to have 0 decimals. We don't support CMV2 here, please go to metaplex discord https://discord.gg/v4ZQSMVy
`    CARGO_TARGET_DIR=$here/target/cov cargo +nightly test-bpf`
Hello! When using CMV2 for whitelisting, does the SPL token you create have to be created with 0 decimals? I didn't see this in the metaplex docs but I've noticed it on some guides. I have a token already that I'd like to use, but it's configured for 9 decimals. Thank you!
Usually with a js front end/node backend you should be able to send the objects. I would look on stackoverflow as this isn't really solana related
still error of type
why not just tx?
nope does not work
Says type error if i just send` tx.serializeMessage() `
is it possible to get test coverage on solana programs?
Couldn't you just send the object? Or multiple objects?
Not actually sure on this one. I would test it in local by closing the mint account while still having a token account. Let me see if I can figure it out
thanks - and so my confusion lies here: if i mint an nft and send it to a 3rd party, and then i close the mint account and transfer the SOL that was used for rent out of the mint, what happens to the NFT?
<@!489206164270350337> 
How do i send the serialized transaction to my backend.
I know this is not a solana question but more a backend style question but could no find anything online.
Like i am as far as that i get the serialized transaction as a string but i am not able to get it back to a Buffer as it was send as one

front end:

```
let realDataNeedToSign = tx.serializeMessage();
const blob = new Blob([realDataNeedToSign as BlobPart], { type: 'text/plain' })
const data = await fetch("http://localhost:4000/", {
        method: 'POST',
        body: blob,
});
const items = await data.json();
console.log(items);```

backend:
```router.post('/', (req, res) => {
    console.log(req.body);
});```
Why not use python? Here are a few SDK resources, some are more mature but they weaker ones are upping the game for sure.
I believe so
Yes I was able to send a tx
I understand rent in general, but as it relates to an NFT, it looks like the NFT mint and the account that hold the NFT are both paying rent? Is that correct?
You have to close the account. Please read up on the concept of rent https://docs.solana.com/implemented-proposals/rent
https://solanacookbook.com/core-concepts/accounts.html#rent
is it possible to transfer the SOL out of the account? and if so, what would happen to the token?
Did you send the transaction?
Hi everyone! I am trying to send a burn transaction through front end
```
        instructions.push(
          Token.createBurnInstruction(
            TOKEN_PROGRAM_ID,
            mint,
            whitelistToken,
            payer,
            [],
            1,
          ),
        );
```

But when I check on devnet solscan my SPL token balance is unchanged? Has anyone run into this issue? I am able to burn just fine in CLI though
So if you need to write smart contracts you need to know rust. If you want to write front end and backend then get your hands on ReactJs and NodeJs.
Watch some tutorials and do learning by doing
That SOL is the rent to keep the account live
On the same theme as the rent question, I'm trying to wrap my head around minting NFTs. So when I create a mint:
- i pay rent for the mint
- i pay rent for the account that hold the token
is that correct?
Not in a stake pool. You can use staking programs provided by the community though. https://github.com/step-finance/reward-pool
thank you very much for this
The javascript token library is compatible with typescript. Recommended to not use token ts until everything is buttoned up
See: https://github.com/metaplex-foundation/metaplex-program-library/blob/afb8c9020da3f444d402ff3718e19014a7bb20c4/nft-candy-machine/program/src/lib.rs#L208-L224
What happens if an account runs out of rent? Does it close forever? Or can I just put more rent back into the account, rewrite the data and then keep the same public key or PDA?
That usually means the node is a little behind, where ever you're calling to.
i don't have to, but i much prefer typescript to javascript
https://github.com/dvcrn/solana-react-quickstart
Do you have to use the alpha version? It doesn't have good documentation nor is it currently fully supported yet.
I want to create blockchain based NFT games. I also want to make an ICO smart contract.
hello guys do you have a sample github repo that uses these? https://github.com/solana-labs/wallet-adapter#wallets
i did a 14 hours tutorial and practically needed a little rust. But still was fun to learn it and now i know rust
Best practice is to keep that private key on lockdown. Some people even have airgapped machines for special private keys
What was the full command?
depends on what you want to do
Which buffer encoding is `serializeMessage` ?
Ok yeah I just know a little python. Now I need to learn rust and all these other languages. Do you think rust is overkill for beginner?
just with type declarations and other minor stuff
aha ok so typescript and javascript are similar
Because its practically the same as JS
why is typescript not in the client box?
do you mean with client side code the box with "client" in this picture?
can I also use rust sdk or javascript sdk for client side code?
aha ok
it is for writing client side code to interact with solana program.
what is it used for? Like for writing dapps and ineracting with solana programs?
is there a way to get a list of all token accounts by mint?
so what's typescript is it a programming language?
The token balance is stored in the token account data, but the sol balance is part of the account itself, sort like kernel space / user space
aha ok so this isn't rust or c++
thats probably the SOL balance of the token acount used for rent exemption, not the token balance
its .ts
typescript
`import type {NextApiRequest, NextApiResponse} from 'next';
import {Connection, PublicKey} from '@solana/web3.js';
import {getNodeURL} from '@figment-solana/lib';
import path from 'path';
import fs from 'mz/fs';

const PROGRAM_PATH = path.resolve('dist/solana/program');
const PROGRAM_SO_PATH = path.join(PROGRAM_PATH, 'helloworld.so');

export default async function deploy(
  req: NextApiRequest,
  res: NextApiResponse<string | boolean>,
) {
  try {
    const {network, programId} = req.body;
    const url = getNodeURL(network);
    const connection = new Connection(url, 'confirmed');
    // Re-create publicKeys from params
    const publicKey = new PublicKey(programId);
    const programInfo = await connection.getAccountInfo(publicKey);

    if (programInfo === null) {
      if (fs.existsSync(PROGRAM_SO_PATH)) {
        throw new Error(
          'Program needs to be deployed with `solana program deploy`',
        );
      } else {
        throw new Error('Program needs to be built and deployed');
      }
    } else if (!programInfo.executable) {
      throw new Error(`Program is not executable`);
    }

    res.status(200).json(true);
  } catch (error) {
    let errorMessage = error instanceof Error ? error.message : 'Unknown Error';
    res.status(500).json(errorMessage);
  }
}`
dumb question but which programming language is this code?
When I view an account that holds an NFT on explorer, it shows "Token Balance (tokens): 1", but when i get the balance from the same account using the CLI, it shows "0.00203928 SOL" -- does anyone know whats going on here?
Is it possible to stake spl tokens in a stake pool?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getConfirmedSignaturesForAddress2
I think is this one
That give me the balance but the transactions list?
that one I think
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getBalance
getBalance
ok found an example https://github.com/solana-dev-adv/solana-cookbook/blob/669b8fcc7164001c3a67a63b4ca4b30e8e6ef921/code/local-development/connecting-websocket/connecting-websocket.en.rs
Hi! I want to subscribe to Token Accounts with the Rust Solana Client. I expected to find a callback parameter. Is this the wrong entry point ? https://docs.rs/solana-client/latest/solana_client/pubsub_client/struct.PubsubClient.html#method.account_subscribe
<@!489206164270350337> thanks for your help earlier -- I am able to generate coverage, but it seems to only have code I am calling directly in my unit test, not the program itself -- I call e.g. ` banks_client.process_transaction(transaction).await?;` and I can tell it is running my program but the coverage doesn't capture the program code at all. Trying to figure it out, but wondering if you had any thoughts or suggestions on someone else to ask.
Hi guys, what would be the way for a web2 app to monitor an address to check balance and/or check transaction list? We want to know when a transaction arrives to our wallet
just checked and in my case they are unique for values from 0 to 4,000,000
`Error: failed to send transaction: Node is behind by 1303 slots`
how do i get this error fixed or i cannot do anthing about this?
how to develop stable coins on solana ?
i.e. will find_program_address(&[MY_PREFIX.as_bytes(), counter.to_le_bytes()]) be unique for values of counter from say 0, 1000? I suppose I could write a program to check
If I want to generate a lot of unique PDA's is simply appending an incrementing number sufficient to ensure they all come out unique? i.e. the seeds are [MY_PREFIX, i]
Looks like i am not familiar enough with the docs yet
how can i get the balance of a program account from on chain program? Since i need to check if my vault account has enough token balance before trying to send it out
Hi, ran into this error and not sure if this is a Solana issue or NodeJS issue. Has anyone experienced this issue?

error: SendTransactionError: failed to send transaction: Node is behind by 153 slots


///////////////////////////////////////////////////////////////////////////////////////////////

or more simply, NFT breeding?
not sure if this has been asked, is it possible to write a program that takes NFTs, "burns" them, and returns an NFT from a different account/candy machine?
oh got it
Also, if you want to test the program you may want to also run `cargo test-bpf FILENAME -- --nocapture`
only one test in the file so it works just as well! Thanks a lot frank
Read more in the docs about running a singular test in that file
thanks a lot
wow it was just the .rs extension
that worked.
that should just run the tests in the file you noted
so `cargo test <TEST_FILE_NAME_NO_RS_EXTENSION>` to start with
but same issue
I think it might be -- --nocapture
add -- --no-capture
and does not output the print statement in test_funding_rate.rs
still seems to run all the tests
try that from the root directory
and i am running `cargo test test_funding_rate.rs`
I am running it from the /program directory
I am running a test in the mango markets repo
what is the exact way you are running it and where are you running it from?
but it sitll runs everything and idk why
yes I do what is in tha tbook
https://doc.rust-lang.org/cargo/commands/cargo-test.html
Hi all, I am trying to just run one test using `cargo test <testname.rs>` but it runs all my tests still. Anyone know what the issue is here?
Has anyone gotten the `solana-test-validator` to work with `--clone`. For example, `solana-test-validator --clone GxJJd3q28eUd7kpPCbNXGeixqHmBYJ2owqUYqse3ZrGS --url https://api.devnet.solana.com`? Adding a `-r` doesn't fix the issue
I would just message here. Your question may help someone else
ok, I'll read it, ty. Can I dm u if i get questions?
Also, I believe accountsDb postgres plugin is just the better option for finding newly created NFTs
Seems ok, but I'd recommend getting a private RPC if you're worried about rate limits
https://docs.solana.com/developing/plugins/accountsdb_plugin#the-plugin-interface
Can‚Äôt
Cant
My approach for now is as follows: getSlot -> getBlock -> parse info in Block -> ...
Yeah I use getBlocks after getting block number
can u please describe in more details? I didn't really get it
You can also use `getBlocks` if you are insistent on polling
Probably better to set up accountsDb postgres and watch NFTs getting created.
I suspect you should be able to derive it. These questions are better supported by metaplex though https://discord.gg/v4ZQSMVy
okay so as far as i figured now, the adress is only retrievable from the creation of the NFT? since i can't find it anywhere linked to the NFT besides the creation part
Hi! I'm trying to listen to solana blocks in order to find info about nft there. So in order not to process same block I start with actual block (getSlot) and then wait for another block (waitSlot). In such approach I miss some blocks e.g I will receive 31, 32, 35, 36, 37, 39. But if I would just increment block number starting with actual I will accumulate delay (the number of considering block will lag behind the actual last one). Are there an efficient way to listen blocks without missing some and getting too many requests?
thankyou
https://docs.metaplex.com/token-metadata/v1.0.0/nft-standard
page not found
See: https://docs.metaplex.com/nft-standard#token-metadata-program
Please have all questions here. Your question may help someone else
can i send you a DM?
If I am not mistaken, the metadata account is derived from the token address
How would i get that adress without the transaction? I can't find it in the NFT adress
Yes, as Jacob said it's either the master edition or the metadata struct for metaplex.
Try switching to v14
Node.js?
For metaplex
It looks like the account that has token metadata attached
could someone explain to me what this adress is? its in my transaction as an adress, but i can't seem to figure out what it is and where I can find it before transaction
12.22.6
`?.` is a new optional chaining operator introduced in ES6
Which version of js are you using?
I get an error for the second if statement that says expression expected
The if statements need {}
I think it‚Äôs typescript not JavaScript
What is the error?
That is code I have used personally.
The send transaction code does not work. I know that the if statements are wrong, I don‚Äôt know what else
omg
ong
Not that I know of today
so there‚Äôs no way?
There's a lot of work being done to enable, but no VRF exists yet. Chainlink will likely provide VRF in the future
I just wanna make random number 0~100
ah really, then is there any way to achieve it?
No, that is not secure for randomness
thx, So can I use that blockhash as random number? How can I translate it to 0~100 random integer?
I think you can use the sysvar https://docs.solana.com/developing/runtime-facilities/sysvars#recentblockhashes
hello, How can I get a recent blockhash in the program?
since otherwise I wouldnt have access to the other wallet
but for me at the same time I am trying to interact with a program
trying to do the same to send the token back
I did this token transfer an hour ago: https://explorer.solana.com/tx/4mQyqYhWuR7yiHeY9q6N5JKgUpaAofzTbVnr51wAKMWq7FwcD4J2oZaLJqdfR6DP6kqtpUNqF3Kapx1uVjF1aBQ2/inspect
Can you try the inspector at explorer.solana.com/inspect
Alright ill wait for his answer then ty for the help !
<@!419097617465868289> , the above is the maintainer
Seems like they're doing everything right according to the python tests
<@!856894333180706876> Any idea on this issue?
I have a similar problem, but the main problem is that most of the time those spl-token codes are written when you own the program which you are trying to interact with
cuz on the pymodue code it appears too
yea thats what i was gonna say
Seems like docs are outdated
Actually in the tests though https://github.com/michaelhly/solana-py/blob/master/tests/unit/test_spl_token_instructions.py#L60
It's not listed under the docs https://michaelhly.github.io/solana-py/spl.html#spl.token.client.Token.transfer
isn't that?

i think python doest care
Also, I do not see programId in the params
Hi, does anyone know if a spl-token-swap pool can be edited/modified after initialization? or can it just be closed/recreated?
Wait, python doesn't care, does it
Yes
Yes. You're asking about specific impl details in the validator, which I believe belongs there
u mean the TransferParams parameters?
you mean post that there ?
Could you try <#885976714646290473> ?
Hi guys, i'm developping a token with solana as testing, and now i'm blocked.

Can seomeone tell me how to re enable mint cause i used this command line "spl-token <address Toke> mint --disable" to block minting for now, and for the futur for sure i'll need to mint again .. 

Thanks alots
Your code seems to have the params out of order
yea
Are you using https://michaelhly.github.io/solana-py/spl.html#spl.token.client.Token.transfer ?
alright ty
* another one topic for from turbine-block-propagation.md 
     Neighborhood Assignment - Weighted Selection:
  "In order for data plane fanout to work, the entire cluster must agree on how the cluster is divided into neighborhoods. To achieve this, all the recognized validator nodes (the TVU peers) are sorted by stake and stored in a list. This list is then indexed in different ways to figure out neighborhood boundaries and retransmit peers. For example, the leader will simply select the first nodes to make up layer 0. These will automatically be the highest stakeholders, allowing the heaviest votes to come back to the leader first. Layer 0 and lower-layer nodes use the same logic to find their neighbors and next layer peers."
"indexed in different ways to figure out neighborhood boundaries and retransmit peers" - where I can learn how they are indexed?

* also found two interesting functions (cluster_nodes.rs): 
  "shuffle_nodes" and "weighted_shuffle". Is it possible that my problem is somehow coupled with processes that are going in that functions? I mean, for some reason because of these functions I do get not the "best" group of neighbors?

This issue is bothering me because as I see in the leadership table, the difference between me and them is more than 4.000 credits. 
Based on tests that I have made on my hardware, I can say that there are no problems with server side(
Hello, developers.

I'm sorry to bother you with such a primitive question, but just want to know did I understand "neighborhood retransmission stuff" correctly.
I faced the issue with credits earning in Testnet (always at 2000+ position, but have good hardware and internet). I heard that can be associated with the neighbors group  and decided to dig into code (I'm not a Rust developer, just learning it now^^), and found out few interesting moments(for me) :
 * topic from turbine-block-propagation.md 
     "During its slot, the leader node distributes shreds between the validator nodes in the first neighborhood (layer 0). Each validator shares its data within its neighborhood but also retransmits the shreds to one node in some neighborhoods in the next layer (layer 1). The layer-1 nodes each share their data with their neighborhood peers, and retransmit to nodes in the next layer, etc. until all nodes in the cluster have received all the shreds."
   So, does this mean, that the leader and guys from greater groups will be always getting work to be done earlier than I (in case if I'm in the lower group)? If for example, I'm in layerN group, it means the possibility of catching up nodes from layerN-(1,2,3 ...K) is low?
Let me see if I can find any examples
it is
Is this python?
ok thanks a lot
idk what im doing wrong if anyone can help
but getting: {'code': -32602, 'message': 'invalid transaction: index out of bounds'}
trying to transfer nft from one acc to another using the next code:
We have an issue to fix it, just haven't gotten around to it yet https://github.com/solana-dev-adv/solana-cookbook/issues/176
üòÇ
Happened to me too
lmao fml
üôè
Press the `</>` to get the full source
For windows, it is generally recommended to use wsl. Windows has very shakey support. Also https://github.com/solana-labs/bpf-tools/releases doesn't have any windows releases
Looks like it is currently enabled on devnet. Not sure on mainnet
Thanks, will do.
Thanks lmk if you even need anything
it never got defined in the docs tho
when trying to use this method I get derivePath is not defined

But phantom/solflare is the most common, I doubt you need the others.
Hey I'm trying to deploy a smart contract on solana on windows,
I cloned the example repository (https://github.com/solana-labs/example-helloworld)
and when i try to build the lib.rs using ```npm run build:program-rust```
the console prints the following error:
```
Failed to install bpf-tools: HTTP status client error (404 Not Found) for url (https://github.com/solana-labs/bpf-tools/releases/download/v1.21/solana-bpf-tools-windows.tar.bz2)
```
is there any way i can download manually "solana-bpf-tools" for windows? If so how do I add it to my npm project?
You would have to lookup the integrations in the wallet adapter repo.
Yes
How can I add more wallets
Yes, it works for my wallet tysm
Hello.  Sorry if this has been addressed elsewhere.  When will the compute budget program `ComputeBudget111111111111111111111111111111` be available on mainnet-beta?
Only thing to set a separate feepayer you would do something like 
```
new Transaction({
    feePayer: <PAYER_PUB_KEY>
  })
```
I will test it now
I see
I mean, for any transfer of spl token, you'll need to call the transfer function on the spl token program
bc I am just interacting with it
but arent those transactions for programs I own?
You would send it just like any spl token https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
since I am also paying for the nft
so that the api knows what to transfer
but idk how to set the right transferparams
Sure, so I am trying to transfer an nft from one acc to another by using a program id
But they don't want to do react, so.
Please post here. Your question could help someone else
IIRC you can use load babel in the browser too.
sure could I dm you?
Yeah, Kartik's solution is the way to go then
Ah
They are using a repl, so no access to browserify.
Alternatively you can use browserify and import the adapter you want to use
It looks like Kartik has the right idea here https://discord.com/channels/428295358100013066/517163444747894795/930819615473414174
üëÜ
Did you try what I sent?
Any ideas
https://neon-labs.org
Yeah
Yes.
vanillajs?
In a non node file
A nice thing about the token program is that you can wrap it with another program and create new things. Anyone can create something like 1155, just adoption is needed
Without react
Wallet adaptor
What are you trying to use?
Could you give more information?
But I don‚Äôt want to use react for the frontend
But they should have support for react.
Ah
I‚Äôm using repl it
<@!927440497876815883>
tried by adding signatures and instruction but it seems like I am missing something
need sure how to fix this
need help python
{'jsonrpc': '2.0', 'error': {'code': -32602, 'message': 'invalid transaction: index out of bounds'}, 'id': 2}
You are not using an operating system ü§î
Sorry?
Haven't tested with anything else.
Copy-paste this into a script file and it should work with phantom/solflare.
No need for npm.
Browserify wouldn‚Äôt work because I‚Äôm not using an os
So I npm install wallet adapter and then use this code?
are there any plans to include other ERC standards in the token program? like ERC1155, for example?
https://solanacookbook.com/guides/serialization.html
Sure.
Thanks! Also it seems that there's already some async functionality been implemented https://docs.rs/solana-client/1.9.4/solana_client/thin_client/struct.ThinClient.html#trait-implementations
Can we slide this discussion to DM?
Either use borsh or encode the data field by field.
Thats the real problem
Thanks for the reply

But I dont understand how to encode data
```js
    new TransactionInstruction({
        programId: program_id,
        data: /*serialized data*/,
        keys: [
            { pubkey: SystemProgram.programId, isSigner: false, isWritable: true },
            { pubkey: entropy_price, isSigner: false, isWritable: true },
        ]
    })
```
let instarctions = vec![Instruction::new_with_borsh(
            program_id,
            &A::B{x,y},
            vec![
                AccountMeta::new(system_program::id(), false),
                AccountMeta::new(entropy_price, false),
            ],
        )];

How can I convert this instruction set to JS equivalent
hi
my name is Eren
Im from Turkey
im 25 years old
i have a NFT project
I did something before but it failed. (avamountains.io 101/10000 :))
I have a project with a better economic model, this time I want to do it in the solana network.
I m not developer or artist, im student and I want to come up with something by getting something done.
I need a developer.
I need 2 people who are reliable, experienced and helpful. and VOLUNTEERS
I will partner with the project.
<@!830588519494975538> 
Or you could implement the barebones adapter to interface with phantom or sollet.
```js
let wallet;
window.addEventListener("load", () => {
    let connectWallet = document.querySelector("#connect-wallet");
    connectWallet.addEventListener("click",
        async () => {
            wallet = (window.solana || window.solflare);
            await wallet.connect();
            connectWallet.innerText = "Connected";
        }
    );
});

async function sendTransaction(connection, transaction, options = {}) {
    window.transaction = transaction;
    transaction.recentBlockhash = await connection.getRecentBlockhash().then(e => e.blockhash);
    if (!transaction.feePayer) transaction.feePayer = wallet.publicKey;

    if(options.signers?.length)
        transaction.partialSign(...options.signers);

    let signed = await wallet.signTransaction(transaction);
    let txid = await connection.sendRawTransaction(signed.serialize());
    await connection.confirmTransaction(txid);

    return txid;
}
```
<@!920296734582784020> as well
`solana_program_test::ProgramTest` has a function to `set_compute_max_units` however I do not see that on `solana-test-validator`
Thank you so much, you‚Äôre a life saver!
Any idea where?
For now I would recommend using something like https://browserify.org/
If you don't want to use that then it's quite difficult.
React uses a bundler like webpack or snowpack to transpile code from various extensions like TS, ES6, etc into plain old JavaScript.
One of the unfortunate side effects of react being such a common library is a lot of tooling straight up doesn't support pure javascript.
That is heavily react-centered.
That means that you've used all the computation units (200k). If that's due to logging or some other temporary thing, you can call a function to change that number.
I've been using the solana-test-validator to test a program that I'm developing but it says "exceeded maximum number of instructions allowed". Does that mean i must continue on devnet?
Thanks for trying (:
I‚Äôve tried stack overflow, hopefully someone will help me here
Maybe others that come online may be able to help, or stackoverflow?
Like what I did for the solana package
And then do something like walletAdaptorBase.WalletName
I can npm install wallet adapter base
I cannot do 

import {
    Adapter,
    MessageSignerWalletAdapterProps,
    SendTransactionOptions,
    SignerWalletAdapterProps,
    WalletName,
    WalletReadyState,
} from '@solana/wallet-adapter-base';

In vanilla JS
How to get the last epoch in a Rust testing environment? There used to be a `banks_client.get_clock()`, but it's not here in the latest version.
??? https://solana-labs.github.io/wallet-adapter/modules/_solana_wallet_adapter_react.html ???
If I could install it with npm and know the prefix I could do it, for example prefix.useWallet();
Not using react so the readme doesn‚Äôt help much
No I‚Äôm trying to do it in vanilla Js
oh, thank u I didnt know that
Is the README.md not informative for you?
Also know as
sorry for the ignorance, what does a.k.a. mean?
How can I use wallet adapter in JavaScript? Thanks please ping me!
thank u so much frank
If it gets you to a great percentage... top it off with your details. At the moment I think this is the best you can get
I found it too, but I'm not sure if all characteristics of solidity are compatible when you compile an EVM contract on Solana
No but there is a solidity compiler that produces Solana Programs (a.k.a. Smart Contract) -> https://github.com/hyperledger-labs/solang
I tried to use spl_token_metadata, but I don't think I use it properly,,,
* another one topic for from turbine-block-propagation.md 
     Neighborhood Assignment - Weighted Selection:
  "In order for data plane fanout to work, the entire cluster must agree on how the cluster is divided into neighborhoods. To achieve this, all the recognized validator nodes (the TVU peers) are sorted by stake and stored in a list. This list is then indexed in different ways to figure out neighborhood boundaries and retransmit peers. For example, the leader will simply select the first nodes to make up layer 0. These will automatically be the highest stakeholders, allowing the heaviest votes to come back to the leader first. Layer 0 and lower-layer nodes use the same logic to find their neighbors and next layer peers."
"indexed in different ways to figure out neighborhood boundaries and retransmit peers" - where I can learn how they are indexed?

* also found two interesting functions (cluster_nodes.rs): 
  "shuffle_nodes" and "weighted_shuffle". Is it possible that my problem is somehow coupled with processes that are going in that functions? I mean, for some reason because of these functions I do get not the "best" group of neighbors?

This issue is bothering me because as I see in the leadership table, the difference between me and them is more than 4.000 credits. 
Based on tests that I have made on my hardware, I can say that there are no problems with server side(
Hello, developers.

I'm sorry to bother you with such a primitive question, but just want to know did I understand "neighborhood retransmission stuff" correctly.
I faced the issue with credits earning in Testnet (always at 2000+ position, but have good hardware and internet). I heard that can be associated with the neighbors group  and decided to dig into code (I'm not a Rust developer, just learning it now^^), and found out few interesting moments(for me) :
 * topic from turbine-block-propagation.md 
     "During its slot, the leader node distributes shreds between the validator nodes in the first neighborhood (layer 0). Each validator shares its data within its neighborhood but also retransmits the shreds to one node in some neighborhoods in the next layer (layer 1). The layer-1 nodes each share their data with their neighborhood peers, and retransmit to nodes in the next layer, etc. until all nodes in the cluster have received all the shreds."
   So, does this mean, that the leader and guys from greater groups will be always getting work to be done earlier than I (in case if I'm in the lower group)? If for example, I'm in layerN group, it means the possibility of catching up nodes from layerN-(1,2,3 ...K) is low?
Hello,
Is there a way that I can read NFT metadata from solana program?
How can I use wallet adapter in JavaScript? Thanks please ping me!
there is some way to use EVM contracts in solana?
hi
https://github.com/solana-labs/solana/pull/20683
is there an asynchronous runtime for solana rpc client by any chance? I want to integrate it with actix
Any pointers on what I might have done wrong
I'm trying to follow along the "mycalculatordapp" tutorial
Anchor test resulted in the message below 
Error: failed to send transaction: Transaction simulation failed: Attempt to load a program that does not exist
Hey is it possible to add buy/sell tax on SPL tokens similar to bsc/uniswap tokens
Hello, how can I get all AccountMeta's for a certaing master edition or token?
https://solana.foundation/grants
Oh sweet cheer.
Did you get this to work?
Yes
is there a template so I can deploy my own spl token staking program?
Hey guys I want to launch a new project with Solana is there a specific process I need to go through to facilitate this ?  I'd like to speak directly with the Solana Business Development team. thanks for your help
Hi, When I try to mint a spl token to an wallet account that hasn't had those tokens before.  Do I create an ada account for that wallet first and then mint to it; using web3api?
How do i get the `anchor.Provider` if i don't have a `wallet`. I am using this in my backend where i have no access to the wallet.
I am trying to do     `const idl = await anchor.Program.fetchIdl(PROGRAM_ADDRESS);`
Without the second option `provider` i get the error `Provider local is not available on browser`
Thank you. Could you send me a link about a simple tutorial for own mapping relationship and for sales part?
Issue resolved. The issue was I had to delete my target folder and do the build once again and update the address id in toml and lib.rs  (*the key that's get generated within that folder was not updating for frequent builds*).  Thanks for the directions!
are there any issues with devnet? program deploy timeouts
Is the account still remained? (just it's data is purged?)
üôÇ
basically you need to create a NFT based on Metaplex
it defined how mint account link to meta data account.
if you don't use it, you need to design a mapping relationship by yourself.

sales part is like a action which combine token transfer and SOL transfer but it depends on you, like magic eden. it don't do token transfer, it set token account's auth directly.
Lol, does anyone know when BPF Tools releases will be re-enabled for Windows?
Is it possible to setup multi-sig on a wallet address so that transfers don't work on Phantom wallet?
1. if i remember correctly the account's data will be purged after the tx immediately
2. you need to set a token account as an exempt account because it has a check in the program.
ü•≤
I have some question about RENT in solana.
If I understand right, if an account's sol is 0, it will be disappeared if next block is mined. (Is it right?)

So If I want to create an ABC token address, should I set enough sol to the account? (to exempt rent fee?)
Someone can help me please
okay will have a look thanks
lol I'm blind, ty
It includes the accounts you specify publickeys for in the instruction you put together for the transaction
thanks!
Yep
When listing all the "accounts" in a transactions, in addition to program accounts, does that include a list of all data accounts that each program account will interact with?
`SystemProgram.transfer()` indeed returns the instruction object, it doesn't submit it
Hi everyone, I would like to create a simple NFT (e.g. a bus ticket with image, price and owner) from scratch in Solana without using Metaplex or Candy Machine. Also, I would like to understand how the sales part is handled in Solana (inside the Rust smart contract or inside the JS client)
stuck with what seems to be a simple problem - I need to get an instruction for a simple SOL transfer from one account to another, JS side. 

But I just need the instruction itself, not to execute it, so `SystemProgram.transfer()` doesn't work.

Is there another method I can call or how do I put this together?
old state, transactions failing without errors, mango markets UI taking forever to load then can't connect wallet
are there current issues with the network? I'm getting all sorts of problems
got it! thank you!
For rayon you'd have to fork and rewrite the crate. However; even if you did I don't think parallelism would be supported in your onchain program either. Finally, you are constrained to 200_000 execution units at this time so you may very well run out of those and your instruction will fail.
I would suggest running a straight up computation and deploy to a local cluster (`solana-test-validator`) to see how much units your instruction consumes. You'll know if it blows out that budget
Hello everyone, I'm trying to translate the document to Chinese, but I'm having some trouble, first of all I'm having some problems running it locally, I'm not quite sure how to deal with him, it's ![issues](https://github.com/solana-labs/solana/issues/22446) . Secondly I'm not quite sure what the process is, it's for me to fork the repository and then upload Crowdin, and then submit Pull requests after the translation is done?

Thanks!

Translated with www.DeepL.com/Translator (free version)
but the place that use IO is in the dependency, so I think I can't modify it? Or I have a way to overwrite the IO to `solana_program::msg!`?
token balance is stored in the data, you take a look at https://solanacookbook.com/references/token.html#get-token-account to know how to decode it.
BTW, it will return you account data if you use account subscribe, you need to build the history by yourself
You can not do IO from your program. The only options are writes to the log using `solana_program::msg!("Some Text")`. See here for constraints: https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions
If there is no easy way to bypass it, then I will try to rewrite one QQ
I try to import this dep 
https://github.com/rayon-rs/rayon, but one of its dep `crossbeam-epoch` use the `std::io`.
Do you wanna share your ts file over dm, I can have a look (if it doesn't contain sensitive code)
nobody has been able to take a crack at my problem been a bit stumped for a few days haha
Not sure, are you submitting the transactions in a try catch block, in which case if transaction is failing no error will show up
yeah
You made this change?
hi im trying to subscribe to associated token account change with websocket
how could i know how many tokens are traded from the message (example attached)?
yeah i ran solana-test-validator and then solana logs worked but then when i executed the index.ts nothing on the end still
hello, please can anybody help to write buying function from magic eden?
and even when my rpc and websocket was connected to the devnet, i still was not recieving anything
Haven't run `solana-test-validator`
any idea why this is occuring?
So, you're watching logs on localhost, but submitting transactions to devnet. Which is why it's not showing up in your logs
Change it to
```
new web3.Connection('http://0.0.0.0:8899') and it will work
```
my program id is the programid i got from when i deployed the relevant so files
There you go, you're using devnet
What are you trying to do?
```ts
let connection = new web3.Connection(web3.clusterApiUrl('devnet'));

const programId = new web3.PublicKey("FrcjfCFU6afHnJ2a51Amiqdht1HgHsWUt7ptSWsjq1qc");```
Check you ts file, wherever you're creating the connection object
Is there any way to bypass it? Or I can only rewrite the dep?
how would u find out
this .
i mean i havent ran into a problem using this git resource because i never tried it, but i made my own index.ts file and it did not show any log and i used solana-test-validator
I mean, what url is the connection object created with?
Also, check what rpc url your ts file is using
yes
Are you running `solana-test-validator`?
ya
localhost:8899
here's an example, 
```
Config File: /Users/apple/.config/solana/cli/config.yml
RPC URL: http://0.0.0.0:8899
WebSocket URL: ws://0.0.0.0:8900/ (computed)
Keypair Path: /Users/apple/.config/solana/id.json
Commitment: confirmed
```
So, I'll be watching localhost logs. If I run the script and it's submitting transactions to a local validator it will show up in the logs, otherwise it won't
its watching locally
Depends what solana logs is watching, use `solana config get` to check what rpc end-point are you pointed at
a log / transcation
does this guarantee
Simple, you can't use io streams with solana programs
lets say i get all the relevant resources/libararies from these .ts and i import my program_id and i run  `solana logs` and then lets say i execute `ts-node transaction.ts` for example
do you mean this?  https://github.com/solana-labs/solana-web3.js/tree/master/src
do you guys know of a git repo of a solana type script file? mine for the life does not work
check https://solanacookbook.com/references/keypairs-and-wallets.html#sign-and-verify-a-message
Hi guys, I am meeting a problem. I have implement a rust program that I can do some calculation directly, and it works fine independently.
However, once I move the same code to the solana program then, I can't even compile it.
The compiling error I am meeting is `no method named 'lock' found for struct 'Stderr' in the current scope`, which is quite weird, since the Stderr is the Stderr in `std::io`. Therefore, I have no idea, how could it fail. 
Could anyway share some advice
any suggestions to fix that?
I have this issue:
Caused by:
  invalid serialized PackageId for key `package.dependencies`

I'm trying to build the project using Anchor in Windows WSL.
Verify that the signer pubkey and the entered publick key are identical?
How to verify a signed message?

No, only the program that owns it can write to the account data. Any program, however, can read those account's data.
Okay, I figured out the issue. The web3 loader is not compatible with `BPFLoaderUpgradeab1e11111111111111111111111` but rather `BPFLoader2111111111111111111111111111111111`. Although, this is a problem since I won't be able to upgrade my program anymore
Can data stored on a Data Account only have one Program account designated as the owner?
Is it possible to have multiple Program accounts change the data on the same Data Account?
Just an account that holds sol and has signing capabilities, right? Because it expects a signer
What does it mean by system account here then?
* @param payer System account that pays to load the program
I have copied over code from https://github.com/solana-labs/solana-web3.js/blob/v1.31.0/src/loader.ts , and modified it slightly for a third-party signing service. The function signature is as follows
```
/**
   * Loads a generic program
   *
   * @param connection The connection to use
   * @param payer System account that pays to load the program
   * @param program Account to load the program into
   * @param programId Public key that identifies the loader
   * @param data Program octets
   * @return true if program was loaded successfully, false if program was already loaded
   */
```
I'm trying to deploy an anchor program, so data is the .so file I read, payer is my personal keypair, instead of program I only pass in the program address (and an additional object to the third party signer), and for program Id I pass in a publickey created from `BPFLoaderUpgradeab1e11111111111111111111111`. Happy to share my code if needed
<@!497541811359711263>
so basically you have your users sign a transaction, then you get their public key, verify it against the signature on the transaction, and that's Good2Go
the beauty of a public-key & private-key pair is that you can use the private-key to sign things and others can verify you signed it via public key.
<@!497541811359711263> backend?
<@!830210968171839489> can you please provide more details on what you have tried and more details on the error message pls
<@!830210968171839489> what does your code look like for TransactionInstruction
<@!928944672938807317> hello my friend i can help here and there and offer direction but i don't have enough hours in the day for my own projects let alone somebody else's
Hi, I'm trying to use the web3 Loader to deploy a transaction. The account creation goes fine, however the load instruction keeps failing `Transaction simulation failed: Error processing Instruction 0: insufficient account keys for instruction`. I'm using BPF Upgradable loader with program Id `BPFLoaderUpgradeab1e11111111111111111111111`. Any help would be appreciated
<@!815267573431533598> want to create nft project..write my own solana program and deploy it. Could u help me out.
how can use mint in key for instruction call from javascript side.
I am also pretty new but try to hunt down new infos
Sure, I wonder if it will go through
I think so yes
can I PM you ?
I have no idea honestly, I'm completely new to solana development
can i have more information on what language and library you are using?
so where is this undefined result coming from
it's a keypair
(please take care to not post any sensitive keys)
Where is `payer` defined
isn't ```[payer]``` the signer ?
<@!189973722126352384> Transaction.sign is undefined
<@!928944672938807317> please explain
```Cannot read property 'toString' of undefined
    at Transaction.sign ```
i was replicating a client code
<@!815267573431533598> want to write my own solana program and need to mint to the live
<@!189973722126352384> also, can you please tell me about `Buffer.from(Uint8Array.of(1, ...new BN(FarmFee).toArray("le", 8)));` and what that dot dot dot is doing in there
```
(node:82747) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'toString' of undefined
    at Transaction.sign (/home/kali/Downloads/CTF222/node_modules/@solana/web3.js/lib/index.cjs.js:2675:36)
    at Connection.sendTransaction (/home/kali/Downloads/CTF222//node_modules/@solana/web3.js/lib/index.cjs.js:6515:21)
    at processTicksAndRejections (internal/process/task_queues.js:97:5)
    at async Object.sendAndConfirmTransaction (/home/kali/Downloads/CTF222//node_modules/@solana/web3.js/lib/index.cjs.js:2961:21)
    at async /home/kali/Downloads/CTF222/HalbornCTF_Rust_Solana/src/client/farm.js:83:5
(node:82747) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)
(node:82747) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
```
<@!189973722126352384> what exceptions are you getting? please provide more output / logs / data
well at the base there are very persnicketty ideas / requirements about what data looks like.  We are talking about "is it a 32 bit integer, or a 64 bit integer" etc.  These differences can matter if you need to count tings.

Solana network runs programs... programs have accounts they control, programs can read/write to accounts they control.  Accounts are always private-key & public-key pairs.  Public key is like "your@email" and private key is y0uRp4ssw0rd

In Solana there's the devnet where you can get free sol "airdropped" and play around with functionality and perfect your programs. 

For simple things like NFTs there are some projects already out there like metaplex that you can build off of

For more complex things you will have to write your own Solana program and deploy it to the Solana network, basically you send it to the master program or some slice of it (i forget exactly which slice) and then it marks some chunks of data saved to the network as executable and your program is live.  Programs can run fully autonomously or have some need for human input....

What are you most interested in right now?  I can provide more info based on which direction you wish to go <@!928944672938807317>
it was working at first, there was some exceptions throwing and after that says no instruction provided
I have a problem with this piece of code, when running, it says No instruction Provided, any idea what it could be from ?
```
    let data = Buffer.from(Uint8Array.of(1, ...new BN(FarmFee).toArray("le", 8)));
    const malInstruction = new web3.TransactionInstruction(
      programId,
      [ //keys or accounts
        { publicKey: FarmPool, isWritable: true, isSigner: false},
        { publicKey: authFarmId.publicKey, isWritable: true, isSigner: false},
        { publicKey: payer.publicKey, isWritable: true, isSigner: true},
        { publicKey: payer.publicKey, isWritable: true, isSigner: false},
        { publicKey: user_crp_token_account.publicKey, isWritable: false, isSigner: false},
        { publicKey: other.publicKey, isWritable: false, isSigner: false},
        { publicKey: token_program_id, isWritable: false, isSigner: true },
        { publicKey: programId},
      ],
      data
    );

    const transaction = new web3.Transaction(programId, malInstruction, [payer]);
    await web3.sendAndConfirmTransaction(connection, transaction, [payer]);
```
good morning
Okay
i'm a web developer. i have an experience in laravel, react, firebase etc..for me its completely new
<@!928944672938807317> have you done any C/C++ coding in the past?  I can give you a little rundown of the basic overview of Solana if you'd like, but I'm just a beginner as well
<@!815267573431533598>  client requirement, I was also confused
<@!928944672938807317> check out this video, maybe it can help you get started.  https://www.youtube.com/watch?v=xtD57yC8vXo
can't pay rent? it's outta there eventually, right?
<@!375294127560065025> Balance is zero so ...? what is there to close
thanks man
Yes the private key is unavailable üò¶ thanks anyways
hi <@!928944672938807317> Learn about metaplex
Hey guys, i'm new to this field..can anyone help me, how to start creating nfts
what do you mean not owned by us?  meaning it belongs to someone else ?  or the private key is unavailable?  it's not exactly possible no ;/
devnet is free 2 play ^
check it out: try and "break" solana xD https://break.solana.com/results?cluster=devnet
hey guys, is there any way to close an spl associated token account that is not owned by us, but the balance is 0?
just dm me plsüôÇ
need help with transactions
Anyone coding mainly in pythong here?
thanks alot
for the tx i'm pretty sure
5000*
the tx fee is charge 5000 for each instruction or the whole tx is charged 500?
Also can I change the logs config like in youtube video when I saw the logs by command "solana logs" it's very less but when I am trying the same command and deploying the contract it's just tons of Data. <@!756724525269254155>
```Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed.```

Seeing the above error when trying to mint tokens on the Devnet. I know there is degraded performance on Mainnet, but this is on Devnet using a Quicknode RPC node. Does anyone know if there are issues with devnet?
you can't change the tx fee, I don't know the details of how its implemented but its part of the solana system that the validators run

hi guys, i wanna know whether the transaction fee is changeable or not? So far, I've only seen transaction fee of 5000 lamports in testnet and i wonder how can i can change the fee. Is it defined by solana program?
Thanks let me check it
has some code you can clone
or this actually: i was super confused until I walked through this: https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/
I reccomend https://solanacookbook.com/ as a starting point
yes, that's why I sent you
I ignored it not realizing that I couldn't DM you without accepting
sent you friend request.
sure
Can I dm you man?
> // revert the transaction and print the relevant error to validator log if processing fails
An aside: you don't need to revert anything if the transaction fails, if you don't return OK from the entry point, no state changes
pub fn process_instruction(
    program_id: &Pubkey,
    accounts: &[AccountInfo],
    _instruction_data: &[u8],
) -> ProgramResult {
    // process the instruction
    if let Err(error) = processor::Processor::process(program_id, accounts, _instruction_data) {
        // revert the transaction and print the relevant error to validator log if processing fails
        error.print::<error::FarmError>();

can anyone help me to create a client side typescript code for interacting with this smart contract code, any help is appreciated.
i am getting this error
`Transaction simulation failed: Error processing Instruction 1: Program failed to complete 
    Program 11111111111111111111111111111111 invoke [1]
    Program 11111111111111111111111111111111 success
    Program DKqwRFbh9jrgLZ5aZxUodTYZi8Qzr9GfotrX8pBK1xbk invoke [1]
    Program log: Instruction: InitEscrow
    Program DKqwRFbh9jrgLZ5aZxUodTYZi8Qzr9GfotrX8pBK1xbk consumed 9519 of 200000 compute units
    Program failed to complete: Could not create program address with signer seeds: Provided seeds do not result in a valid address
    Program DKqwRFbh9jrgLZ5aZxUodTYZi8Qzr9GfotrX8pBK1xbk failed: Program failed to complete`

i am trying to generate an account from randomly generated seed 
`const seed = (Math.random() + 2).toString(36).substring(7);
  const [_vaultAccountPda, _vaultAccountBump] = await PublicKey.findProgramAddress(
      [Buffer.from(anchor.utils.bytes.utf8.encode(seed))],
      program.programId,
    );`

`pub struct InitEscrow<'info> {
    #[account(
        init,
        seeds = [seed_uuid.as_bytes().as_ref()],
        bump = vault_account_bump,
        payer = owner,
        token::mint = mint,
        token::authority = owner
    )]
    pub vault_account: Account<'info, TokenAccount>,
}`
Anyone know the problem here solana.rpc.core.RPCException: {'code': -32602, 'message': 'invalid transaction: index out of bounds'}, python btw but any help would be good
Is there a way to add metadata to an NFT via CLI?
Hello! How can I use wallet adaptor with JavaScript(not react) please ping me! (:
Leaving here for posterity - Problem: I used i16 on borsh in my on chain program but borsh js doesn't support signed number types.
Solution: Extend borsh reader and writer to support it
```
type BinaryReaderExtended = BinaryReader & {
    readI16(): number;
}

type BinaryWriterExtended = BinaryWriter & {
    writeI16(value: number): void;
}

export const extendBorshForI16 = () => {
    (BinaryReader.prototype as BinaryReaderExtended).readI16 = function (
        this: BinaryReaderExtended,
    ) {
        let buf = Buffer.from(this.readFixedArray(2));
        return buf.readInt16LE(0);
    };

    (BinaryWriter.prototype as BinaryWriterExtended).writeI16 = function (
        this: BinaryWriterExtended,
        value: number,
    ) {
        let buf = Buffer.alloc(2);
        buf.writeInt16LE(value, 0);
        this.writeFixedArray(buf);
    };
}
```
Then just use "i16" in your map / schema thingy like you would the other number types:
```
["x", "i16"],
["y", "i16"],
```
I'm attempting to copy Metaplex's method for extending borsh to support public key's as strings, I'll post code if it works
i got the idea thanks
an account can only create once (unless you closed it)

for unique seeds, you can just send it from client side. pack it into your instruction data and your program use it.
according to the docs, seems it doesn't support directly, but the better way is to open an issue to ask them I think.
BTW, if you really want it, you can just use a fixed u8 array and transfer it by yourself.
Hey guy i am creating a PDA account. But it works first time but not second time


`pub struct InitEscrow<'info> {
    #[account(mut, signer)]
    pub owner: AccountInfo<'info>,
    pub mint: Account<'info, Mint>,

    #[account(
        init,
        seeds = [b"token-seed".as_ref()],
        bump = vault_account_bump,
        payer = owner,
        token::mint = mint,
        token::authority = owner
    )]
    pub vault_account: Account<'info, TokenAccount>,

    #[account(mut)]
    pub token_account: Account<'info, TokenAccount>,

    #[account(zero)]
    pub escrow_account: Box<Account<'info, EscrowAccount>>,

    pub system_program: AccountInfo<'info>,
    pub token_program: AccountInfo<'info>,
    pub rent: Sysvar<'info, Rent>,
}


const [_vaultAccountPda, _vaultAccountBump] = await PublicKey.findProgramAddress(
      [Buffer.from(anchor.utils.bytes.utf8.encode("token-seed"))],
      program.programId,
    );
`

Is there any way i can uniquely generate seed on every call.
when you getTransaction (https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction)
there is a blockTime you can take a look
https://solanacookbook.com/references/offline-transactions.html#sign-transaction
you can take a look at this flow.
a tx = signatures + message
the main idea is 1. generate message 2. sign and merge 3. encode as base64 or 58 and send it.
i mean timestamp like this
<KEYPARI> is just the path you get
guys, pls help. How can i get the timestamp of the transaction
does borsh js not supported signed integers or am I missing something?
Anyone ever get this error before? 

```
SendTransactionError: failed to send transaction: invalid transaction: index out of bounds
```
the data is just the data, as long as its encoded/decoded and does change or alter the validity of the transaction, the bytes are the bytes, should be ok
but I'll have someone try them I guess lol
my only concern is that my "hack" might not work with all wallet adapters
not worried about it
It's over HTTPS so
should be ok then, from the program acceptance stand point if not encrypted may have to be careful about a middle man attack ,but yea..
so
Now the byte array passed to the signing function on the frontend is exactly the same as the one generated on the backend, so the signature is accepted

Previously when the frontend received the transaction byte array, deserialized it into a Transaction object, then serialized it to another byte array in order to sign it, the serialized byte array ended up being different from the original byte array and that caused the signature to not work with the transaction on the backend
gotcha nice work. yea just a setup and config issue.
the program accepts the additional sig?
Thanks. After the initial setup of local env.. ran into issues with the sample script ..for that I had to tweak config file(toml) from default(*generated by anchor cli*) 
`[programs.localnet] to [cluster.localnet]` after which it started working and kept that as my base and now trying to execute sample calculator app
should I be worried
and seems to work with Phantom wallet
This solves my problem for now
Am I a naughty boy for doing this:

```ts
class MockTransaction
{
    private message;
    public signature;

    public constructor(message)
    {
        this.message = message;
    }

    public serializeMessage()
    {
        return this.message;
    }

    public addSignature(publicKey, signature)
    {
        this.signature = signature;
    }
}

...

let encoded = //...get from backend...

let transaction:any = new MockTransaction(Buffer.from(encoded, "base64"));

await wallet.signTransaction!.call(wallet, transaction);

let signature = transaction.signature!.toString("base64");

//send signature to backend
```
```Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed.```

Seeing the above error when trying to mint tokens on the Devnet. I know there is degraded performance on Mainnet, but this is on Devnet using a Quicknode RPC node. Does anyone know if there are issues with devnet?
i would go through this, short simple and gets u familiar with things:
https://hackmd.io/@ironaddicteddog/solana-anchor-escrow
this is a good one too
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
when you get something initially working, stick with it. 
make sure the config, network, environment is right and pointing to the right things, what needs to be running is running. and dont use options and flags u understand and then branch out.  after u go through those u should have some better bearings.
I did with skip flag .. let me try removing that
u may want to make sure your giving it a new program id,
did u deploy the program to a local validator?
yes
are you running anchor test?
just a note : salona-test-validator is stopped
sure that will help.. this is the snippet from lib.rs 
`declare_id!("....");
#[program]
pub mod mycalculatordapp {
    use super::*;
    pub fn create(ctx:Context<Create>, init_message:String) -> ProgramResult {
        let calculator = &mut ctx.accounts.calculator;
        calculator.greeting = init_message;
        Ok(())
    }`
asking another way - Im not sure if there is a way to close an account with assigned programid: SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 (spl-token-swap)... I see the CloseAccount instruction for spl-token so still unclear how to close a swap pool account
ok based on that code alone i dont see a reason for error.  it may be something in the lib.rs.  however when u use .env()  you have to make sure anchor of what env anchor is pointing to, as that is where its picking up the network.     I would follow some anchor tutorials to see how the setup and things work.  do u need some good ones?
I am totally new to this... so trying to understand how the dynamically generated key in my test script will work here
this is the snippet in my test file `describe('mycalculatordapp', () => {
  // Configure the client to use the local cluster.
   const provider = anchor.Provider.env();
   anchor.setProvider(anchor.Provider.env());
   const calculator = anchor.web3.Keypair.generate();
   console.log(calculator)
  const program = anchor.workspace.Mycalculatordapp;
  let _calculator;
  it('Creates a calculator' , async () => {
    await program.rpc.create("Welcome to Solana",{
      accounts: {
        calculator: calculator.publicKey,
        user: provider.wallet.publicKey,
        systemProgram: SystemProgram.programId,
      },
      signers:[calculator]
    });`
well I have I have complete function.. I tried with the sample calculator app from the docs and that also same issue...
in my toml file `: [provider]
cluster = "localnet"
[programs.localnet]
pgstest = "..."`
ok that doesnt make sense. those 2 lines by themselves dont mean much.
simple nft functions:
https://solanacookbook.com/references/nfts.html
docs and resources:
https://docs.metaplex.com/community
metaboss 
https://github.com/samuelvanderwaal/metaboss
yes, I am using Anchor and executing a simple program. To test this out I have the above code in my test.js
ok. thats anchor.  then what
any tutorial/open source project that i can look at to learn how to build a program that can interact with nft? I am trying to build a program where a function can only be invoked by owner of certain nft... üôè
I am testing program from the local cluster. this is how I am connecting to cluster
`anchor.Provider.local();
anchor.web3.Keypair.generate()`
it means what it says..   what are u trying to do
üôÇ
That works.
any help on this please? Error: `167: The given account is not owned by the executing program
      at Function.parse (node_modules/@project-serum/anchor/dist/cjs/error.js:40:20)
      at Object.rpc [as create] (node_modules/@project-serum/anchor/dist/cjs/program/namespace/rpc.js:16:58)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
      at async Context.<anonymous> (tests/mycalculatordapp.js:15:5)`
if you call getparsedaccountinfo on the account address it should get you what u need, for each one
He said the following when asked if he ran into your issue: 
```
Yeah, this happened to me. Turns out this is because, after a thread is spawned a handle is returned, rust compiler will drop that handle if it is not waited anywhere. Same problem as when you make an async call in JS but don't await it's results.
```
Is there any standard web3 token account decoder
Hi all! If anyone has a minute - what is the best practice to shutdown/close a swap pool created via token-swap spl. Any advice would be greatly appreciated!
<@!785084693023424542> please see this https://github.com/solana-labs/solana/pull/22433/files
https://tenor.com/view/dying-monkey-dying-gif-13123180
but I gotta do another call with the address
I was looking in the rpc response of getTokenLargestAccounts
Ahh
accountInfo->owner.
It's in the data. Deserialize it
this is generally related to react native and movile issues, and the libraries involved with web3 related stuff and or the privacy/cryptography stuff..  unfortunately I am not aware of any readily available solutions, but others have conquered this hill. not aware if they have posted solutions yet
Is there a way to get a owner address from a token account without doing another call.
Help me 
solve this
<@!785084693023424542> can you help me solve my issue ?
yea id hit up solent with the issue, that may have a solution already
or find a way to trick the JS API to not deserialize/serialize the message from the server
so gonna have to either do a PR to Solnet and solve the inconsistency
a standard transaction that uses a blockhash needs to be completed within a certain short duration to be valid, thats also what blockhash is used for, and if its too old, the transaction will be invalid.

offline or other transaction, is a method to be able to work with a transaction, for whatever reason, maybe multi sign, or transitioning it, but it may take longer, and still be a valid transaction, generally with a nonce account
before passing it to the wallet for signing
and then serializes it differently
it deserializes it into a transaction
however when the frontend receives the message byte array
and then multiple participants need to sign it on their frontends
I need the transaction to be generated on the server and signed there
ahh. did not realize you were using solnet üôÇ
I am using react native and i want to implement solana in my app through solana/web3js but when i install and import this library it is not working can you help me to solve this problem ?
I found that the problem arises from differences between how Solnet C# SDK serializes transactions VS how the JavaScript library does it
As I dug deeper
yup... for those sol transfers, you need to use the system program
ahh right, and system program is going to own most user accounts, so have to pass through the system program calls
its also the program that dictates what signatures are required
only the owner (program) of an account can modify its data
hmm, in order to modify the account data, would the account have to be either owned by the program or a signer then?
yup.. both the funding and recipient need to be "write"

I'm transferring SOL
are you transfering sol, or are you transfering spl-tokens?
yeah, if you're modifying the balance then it should be
is it expected that in order to invoke a transfer to an account A, i need to pass A in as writable? or am I doing something wrong here.
I'm happy there is so much positive and helpful sharing in this channel
you mean to pass the transaction?   you need to build a transaction with a client and you can encode serialize to string and sign/ send, even manually for the raw json rpc interface.
for the web3 way,  use above  üëÜ
I think you can use 
https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#sign

or you can take a look at 
https://solanacookbook.com/references/basic-transactions.html#sending-sol
https://solanacookbook.com/references/offline-transactions.html#sign-transaction
appears that way because of ESM / pack issues the details are in the issue
so basically CRA5 is not supported atm?
thanks so much
oh, I see. Thanks
no.  what u just pasted now is a system transfer, for lamports.  the example above you paste earlier, is for token transfers,  expand the full code to make it more clear what it is referencing in cookbook.

so that you have just `destination_account` and `source_account`  and the third parameter to the instruction be `lamports`
Hi, Is it possible to get disconnected from the network if you are too far behind the slot? Thanks
hmm?  how would you transfer without a destination account? not sure what u mean
This transaction instruction here needs being updated right, such that `destination_token_account` and `source_token_account` is no longer necessary right: 
https://solanacookbook.com/references/programs.html#how-to-do-cross-program-invocation
to be as small as possible
Alright, I've isolated it
please link to a gist or other if its large, and text based.
I'll show you all of it
Alright
why that error is happening is not obvious or known based on the code provided.  if you can link to more of the code or show all the relevant pieces involved it may help to troubleshoot. thats the only next step without guessing.
```
"{\"jsonrpc\":\"2.0\",\"error\":{\"code\":-32003,\"message\":\"Transaction signature verification failure\"},\"id\":0}\n"
```

I dont know if someone here has ever used the solana module on Python but I'm getting this error when trying to use the mint_to function, is seems the problem is one the "payer" parameter when creating the Token instance, but I don't know exactly why im getting this error nor what type of value has to be on the "payer" parameter. The throwed error: AttributeError: transaction feePayer required
how can I fetch these accounts?
according to this issue for now next.js or CRA4,  as CRA5 may not work with esm atm?
https://github.com/solana-labs/wallet-adapter/issues/241
hey guys i have a small issue when integrating solana's wallet with a react-App, when i do "npm start"
the following error appears:
```
./node_modules/@solana/wallet-adapter-wallets/lib/esm/adapters.mjs
Can't import the named export 'BitKeepWalletAdapter' from non EcmaScript module (only default export is available)
```

any idea how to fix it?
thanks a lot guys <@!489206164270350337> <@!814228493302497301> , I banged my head to the documentation for days before finding you lmao
A single Transaction with 2 instructions, yes. 
No, PDA not relevant in this case.
any idea?

I am getting an error while trying to run solana-test-validator

```Error: failed to start validator: Failed to create ledger at test-ledger: blockstore error```
Is there any particular requirement? I read about program derived addresses but not sure if they are relevant here.
<@!814228493302497301> okay, this makes sense. So, single instruction with account creation and initialization, then I can use that account with the program
No, you can create an account for your program in the client (JS or Rust) but you can not set it's data. You have to do that through an instruction to the program. This is often why and is a good practice to do: Combine the create account with an 'initialization' instruction to the program with whatever data you want to set in it.
if i compile a program with solana sdk 1.7.8, will it deploy on a local testnet using solana 1.9.1?
<@!489206164270350337> so for example, if I copy the part of the program that's writing to the account data, I can use it on client side?
<@430257814972268544>
iirc you can't write client side without program logic writing
<@!489206164270350337>  yup, but that's on program side. I cannot reproduce on client side
<@!814228493302497301> got it all working - youre a legend üçª
https://solanacookbook.com/references/accounts.html#close-accounts
Ok, here's an example of creating an account and then closing it, but also writing data to the account with `source_data.fill(0);`
You can't airdrop more than 2 at a time, and there is a limit over a specific amount of time as well
I would file an issue on this if it is broken
I think it just went through. Judging by the logs I was requesting too much previously `Program log: Memo (len 39): "request too large; req: ‚óé3, cap: ‚óé2"`
it seems the particular case they had has fixed itself / has been fixed now, but I think there's similar cases like this still happening üò¶
well they have a case where getSignaturesForAddress before A returns B, and before B returns A
<@!897498596629442570> check in explorer.solana.com if it changed. I got the same message, but the airdrop was successful
Hey, new here. Can someone explain me what I'm doing wrong. I'm trying to airdrop me some solana on devnet, but when I run `solana airdrop 1` i get `Balance unchanged`. Same thing with `spl-token-ui.com/#/sol-airdrop` it says that sol was airdropped but balance didn't change. Thanks in advance
They're stating to apply the block ordering in that issue, which is also not a guaranteed ordering. If this is a valid issue, then you are right to assume that order may be broken.
I see that I can allocate x bytes to an account, but not how to put data into it
uhm not really. It lets me specify data in a transaction, but not in an account. Am I wrong?
https://docs.solana.com/developing/clients/javascript-api This has an example
How can I do that? I found how to create an account using the system program, but not how to write data into it.
seems currently broken though https://github.com/solana-labs/solana/issues/21720 üò¶
Yes you can. You program could reject though if it verifies the account it expects
Actually, I may be wrong. Docs say you can. I think I confused this with getBlock, which is not guaranteed order on transactions
say base64 data
<@!489206164270350337> I have a question. Can I create an account with data in my client, and then pass it to a program?
how am I supposed to use before signature safely then :/ couldn't it happen that I miss txs when using before if the order changes?
The order is not guaranteed to my knowledge
is it safe to rely on the order of getSignaturesForAddresses2?
Let me run it again and I'll paste exact error
thats quite a while back üòõ what did you do to fix if i may ask?
I'll contact the guy who wrote the subscribe code on the cookbook
Any ideas?
What's the error?
Thank you, I'll take a look
One example https://github.com/solana-labs/solana-program-library/blob/master/token-swap/program/src/processor.rs#L113
where can I find it?
CPI for all
You can see a lot of this in the token-pool for example
It's a test program using solana_program_test and doesn't interact with the blockchain
Yes
All within a program?
It says you're providing the incorrect account data for the instruction
So basically I create a mint, then a token account, and then I try to mint tokens to it
I am sure I am, but not sure which account is not correct? I am creating all of them on the fly (except the spl_token account of course)
Anchor does some of this
Sounds like you are providing the incorrect account info
Someone should really write a borsh definition language + code generator for javascript / rust / others, similar to protobuf 
  üëÄ **looks around at anyone but himself**
it still fails
despite the required signature count being the same and all signatures present
but when both are present
and it passes
and the list of signers is the same when I remove either one of the two instructions
I have both signers: treasury (fee payer) and ownerA
Could anyone help me?
Hello, I am trying to create a mint and token account, and mint some tokens to it, but I get this error.
where are you signing the transaction?  that error would typically mean the signature expected is either not correct, or not included..  and that could be an issue on the client, program, or both.   make sure whichever signatures that are required are included in the transaction, and in the program the signatures corresponding to the code being run for signer are created/referenced properly.   createAssociatedToken can be performed by anyone. 

the payer has to sign
any owner or authorizer where a process requires a signature must also sign,
exception would be PDA, where you derive the signature in the program

there are owners of accounts, and there are fee payers, they can be both, but if they are different would require additional signers.  its not clear from the posted code alone why your getting that error.
Hi! I'm receiving connection broke errors when subscribing to a token account via rust
```rust
let (client, receiver) = PubsubClient::account_subscribe(
            &ws_url,
            &pubkey,
            Some(RpcAccountInfoConfig {
                encoding: None,
                data_slice: None,
                commitment: Some(CommitmentConfig::processed()),
            }),
        )?;

        thread::spawn(move || {
            let _client = client;
            loop {
                match receiver.recv() {
                    Ok(message) => info!("{:?}", message),
                    Err(err) => {
                        error!("Connection broke with {:}", err);
                        break;
                    }
                }
            }
        });
```

```
Jan 11 22:50:55.890  INFO solana_client::pubsub_client: receive error: ConnectionError(Protocol(ResetWithoutClosingHandshake))    
Jan 11 22:50:55.890  INFO solana_client::pubsub_client: websocket - exited receive loop    
Jan 11 22:50:55.890 ERROR butterbrotlib::wallet: Connection broke with receiving on a closed channel
Jan 11 22:50:55.890  WARN solana_client::pubsub_client: unable to unsubscribe from websocket  
```
or something of the likes
I would've done something like this
```
let num = 256
Buffer.alloc([num & 0xFF00, num & 0x00FF])
```
<@489206164270350337> Would you happen to have a clue on this?
I found this, guess this works:
```
let x_buf = Buffer.alloc(2);
x_buf.writeInt16LE(x, 0);
let y_buf = Buffer.alloc(2);
y_buf.writeInt16LE(y, 0);
```
how can I encode a javascript number to an i16 / Buffer of UInt8
Thanks, that's very helpful.
It's a shame, though; I was hoping to find out exactly how large the difference between the estimated and actual times were at various points.
https://github.com/solana-dev-adv/solana-cookbook/issues/188
Cool, good place
Don't know if I am adding `Tips and Tricks` just yet
Probably a reference under `Programs` on the `References` section
Are you adding 'Tips and Tricks'? This would fit there eh?
Hey Frank, this is an often asked question. Let's get this added to the cookbook
Yes, I believe that is correct. You can use that time to get a good estimate of the overall block time
I'm trying to figure out what the actual block rate is, but as far as I can tell anything that reports a time for a completed block estimates that based on the slot number. Is this correct? If so, is there another way to get that information (for historical blocks)? Thanks in advance.
Thanks for the hint üôÇ that is exactly what I needed and I didn't think there is this straightforward solution
Some people use airgapped machines and offline signing. Your keys are only as safe as those who can access them. There's probably a ton of good key security info out there with bitcoin
We're getting closer to deployment with our project - now starting to think about documentation/maintenance of keys.  Any best practices out there on proper accounting of keys for things like mint authority, deployment authority, etc.?
https://discord.com/channels/428295358100013066/517163444747894795/930403754145107978
oh, thanks
Thank you friend, I'll give it a look!
Gemworks was working on one https://github.com/gemworks/core
Would anyone know of a resource to work on an nft staking system?
`Error: Transaction too large: 1239 > 1232` NOOOOOOOo <:Pepehands:908959543063642113>
You can just manipulate lamports directly in your program
No.  The system program can only transfer funds between accounts that it owns
Hi, is it possible to call from my program the CPI `system_instruction::transfer` where `from_account` is owned by my program and the `to_account` is owned by the System program (1111...)?
sure
can I PM you ? I can show you the program rust code
what code are you referring to?  can help walk through it
web3.Transaction() will work for it ?
hi all, I still can't get my head around how to invoke a specific instruction from web3.js, for example the entrypoint have function called Process which itself invoke another function called pay_farm_fee which is defined in instructions.rs ... what sort of web3.js api I should use to invoke these functions ?
If I want to see the amount of Solana sent in a transaction, is the way to use ``getTransaction()`` and find the difference in postBalanace and preBalance?
thanks!
Rust is what most people use for programs. Anything else it is up to you on client side
Solanacookbook is a great resource https://solanacookbook.com/ to starting. Also recommend going through figment's learning path https://learn.figment.io/protocols/solana
hey guys, How do I start learning Solana dev?
can someone brief me on which language I must learn and regarding starting out as a solana blockchain developer


///////////////////////////////////////////////////////////////////////////////////////////////

the full error: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 7: custom program error: 0xa7', 'data': {'accounts': None, 'err': {'InstructionError': [7, {'Custom': 167}]}, 'logs': ['Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]', 'Program log: Instruction: InitializeMint', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 2390 of 200000 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success', 'Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]', 'Program log: Instruction: InitializeAccount', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 3444 of 
200000 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]', 'Program log: Instruction: MintTo', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 3003 of 200000 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success', 'Program cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ invoke [1]', 'Program log: Custom program error: 
0xa7', 'Program cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ consumed 6173 of 200000 compute units', 'Program cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ failed: custom program error: 0xa7']}}
any idea?
so we are almost done with the mint nft from cm tx but this error gets thrown now: 'Program cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ failed: custom program error: 0xa7'
Ahh ok
same answer.  sounds like NFT scraping. any data mining/scraping would be custom solutions in general. there are some tools out there to assist. but I do not have a list of them.
no one in here playing with the solana-api? -.-
https://nft-creator.sonar.watch/#/ the simple way but they are updating
as a developer using/following metaplex NFT standards: 
https://docs.metaplex.com/community
basic info
and stuff like that
creators
I would just need like
this would be a very manual process and something fairly custom. more so if it involves more historical content.
Hey guys, how can I upload nft to the solana blockchain?
from a program?
Is there a way to scrape all the data
it should work.
he already mentioned that solution to me ages ago. But i was just being too lazy to try it. Guess I'mma do it now.
hey guys im using the Solana-JSON-RPC-API im trying to get the SPL-Transfers the only function i could find is 'getSignaturesForAddress' but this will give me the transactions but not the actual SPL-Transfers into or out of the wallet? anyone has some experience on that?
cuz I have a similar problem
you found a way?
ye i was gonna try that, but through there was ez way around to this. Thank heaps. I will try that.
same error :/
on explorer it shows first but ill try
1. allocate
2. assign
3. transfer
I think transfer instruction should be added last.
idk if we mess up on smth

token account?
<@!419097617465868289> It doesn't seem like you have created ATA of that NFT for the user.
if coded need we'll send
we are trying to create a tx for minting an nft from an cmv1 and we are getting this error: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 5: instruction requires an initialized account', 'data': {'accounts': None, 'err': {'InstructionError': 
[5, 'UninitializedAccount']}, 'logs': ['Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]', 'Program log: Instruction: InitializeMint', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 2390 of 200000 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success', 'Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]', 'Program log: Instruction: MintTo', 'Program log: Error: UninitializedAccount', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1916 of 200000 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: instruction requires an initialized account']}}
What‚Äôs wrong with this code
Need some code. However, check out https://solanacookbook.com/references/offline-transactions.html#sign-transaction and press `</>` for a full source example
What‚Äôs wrong with it
How
fix your sig
To fix that
What do I do
One of your sigs is failing, as the error states
`mintTo` has to be signed by the minting authority. Another way you could do it is make a program the minting authority and call that program's instruction from a ui
I am getting error 
Signature verification failed at Transaction.serialize()

Any ideas?
<:tinfoilhat:809110749141663754>
I have the same problem ^
hmm so lets say I have this front end, where you can mint some token using your solana? how would I implement this ? just quick tip?
Specifically the one with authority should sign
You'd have to sign with both
üôÉ
wait so if if i try to sign the transaction for the mintTo with the wallet different than the mint authority, it wont work?
https://github.com/dvcrn/solana-react-quickstart
That should work
You can use an older version of wallet-adapter
Yeah, just found this myself... I'll look into alternatives. Really don't want to use NextJs. Thanks!
https://lmgtfy.app/?q=how+to+submit+pull+request+github
I'm unfamiliar with github, so how do I submit a pull request?
I think I messed up the tokenAccount destination here. Thank heaps for your time. I think I will try some debugging.
Seems to be broken using create-react-app at this time https://github.com/solana-labs/wallet-adapter/issues/241
Hi All, I'm having trouble using the wallet adapters with the latest `create-react-app`. I add them to a bare react application and it starts, but the buttons don't render. I get this strange error in the logs, though:

```
WARNING in ./node_modules/eth-rpc-errors/dist/utils.js
Module Warning (from ./node_modules/source-map-loader/dist/cjs.js):
Failed to parse source map from '/node_modules/eth-rpc-errors/src/utils.ts' file: Error: ENOENT: no such file or directory, open '/node_modules/eth-rpc-errors/src/utils.ts'
 @ ./node_modules/eth-rpc-errors/dist/index.js 23:16-34
 @ ./node_modules/@toruslabs/solana-embed/dist/torus.esm.js 5:0-61 182:18-46 426:14-42 438:14-42 445:14-42 768:20-36 772:20-36 1139:20-36 1143:20-36
 @ ./node_modules/@solana/wallet-adapter-torus/lib/esm/adapter.mjs 48:27-60
 @ ./node_modules/@solana/wallet-adapter-torus/lib/esm/index.mjs 1:0-30 1:0-30
 @ ./node_modules/@solana/wallet-adapter-wallets/lib/esm/index.mjs 16:0-45 16:0-45
 @ ./src/components/wallet.tsx 9:0-185 27:37-57 27:65-83 27:91-112 27:120-139 27:147-166 29:10-38
 @ ./src/App.tsx 6:0-45 11:35-41
 @ ./src/index.tsx 7:0-24 11:33-36
```
All I'm doing is copying the example that's given here https://github.com/solana-labs/wallet-adapter. I did this two months ago and it worked fine, so not sure what's changed. Anyone else getting this?
üßê
Hmm actually it doesnt show up in the explorer...
let me grab it.
Got an explorer link?
also if I'm connected to the wallet that has the mint authority, it shows up in that wallet.
but the transaction is successful.
the mint just doesnt show up in the pda token wallet.
What is the error?
And I'm getting pdaTokenAcc with this, when the wallet is connected to my app
```js
 let token = await connection.getParsedTokenAccountsByOwner(wallet.publicKey, {mint: new PublicKey(TOKEN_A)});   
 let pdaTokenAcc = token.value[0].pubkey.toBase58();
```
`Transaction was not confirmed in 30.01 seconds.` custom rpc. confirmed commitment. is network so bad atm?
```js
const mintTx = Token.createMintToInstruction(
        TOKEN_PROGRAM_ID, // always TOKEN_PROGRAM_ID
        tokenMintAcc, // mint
        pdaTokenAcc, // receiver (sholud be a token account)
        alice.publicKey, // mint authority
        [], // only multisig account will use. leave it empty now.
        tokenAmount*1e9 // amount. our decimals is 9, you mint 10^9 for 1 token.
      ) 


    const tx = new Transaction().add(mintTx);
    let {blockhash} = await connection.getRecentBlockhash();
    tx.recentBlockhash = blockhash;
    tx.feePayer = wallet.publicKey;

    // to sign
    let signedTx = await wallet.signTransaction(tx);
    let txId = await connection.sendRawTransaction(signedTx.serialize());
    await connection.confirmTransaction(txId);
```
oh yes sure.
Code please?
if i use wallet with my mint authority it shows up.
if i use different wallet then my mint authority
but doesnt show up in my wallet
Like I said it shows up in the transaction too
yes. it does.
Does the token account exist?
it didnt work..
As long as the token account exists.
So as long as the token exists, and the mint authority is a signer then you can add a mintTo instruction to any token account.
You make me realize the solanacookbook doesn't have `createMint`
Yes.
im confused hmm..
like the token?
Yes.
You can with mintTo, but the mint needs to exist
You should be able to mint directly to someone else's token account.
createMint + mintTo
cookbook had only one tx for it hmm..
wym by second tx, what should be the first tx?
im looking too :d
Doubtful. You'd need more RAM
i mean like I have wallet 1 and wallet 2. And wallet 1 has the mint authority. So while i do the minting through the front end, it only shows up in my wallet if the I'm connected with the wallet1. While in case of wallet 2, althought it shows up in the transaction, the token doesnt show up in the account of wallet2 (i made sure that pda token is the wallet token account that handle the respective mint). Thank you
I mean it runs like any other linux machine, with a pi cluster of 6 pi 4s or similar it could be possible
is mainnet congested atm?
Yep, you can only mintTo with the mint authority
Unsure, but highly doubtful
Create mint first
but this only works if the wallet I'm connected with is the wallet with mint authority
I believe so. That's the second tx though
so this should directly mint to the wallet account that pdatokenAcc isnt it?
```js
const mintTx = Token.createMintToInstruction(
        TOKEN_PROGRAM_ID, // always TOKEN_PROGRAM_ID
        tokenMintAcc, // mint
        pdaTokenAcc, // receiver (sholud be a token account)
        alice.publicKey, // mint authority
        [], // only multisig account will use. leave it empty now.
        tokenAmount*1e9 // amount. our decimals is 9, you mint 10^9 for 1 token.
      ) 
```
Could you make a validator out of a raspberry pi cluster?
You create the mint then mintTo
As in two steps?
Or you need to mint and then transfer it ?
Hi, just a quick question, when you mint token, can't you directly transfer it to different wallet?
Ok, thank u so much
Under the hood that is just using https://docs.solana.com/developing/clients/jsonrpc-api
Hello, how are you, does anyone know of a Solana browser API for devnet? Something like this: https://public-api.solscan.io/docs/#/. But for devnet
Fair point, I'll see how I can integrate this.
Not for getting deployed on chain, but this will help out a lot with clients
Yeah I meant getting them deployed on-chain.
Kartik is correct https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#verifySignatures
They're official now ü§∑  No problem with getting them added
I think transaction.verifySignatures or something
Yes, I meant when they were being merged in.
How can I verify transaction
Metaplex nfts are displayed on the official explorer today?
Looks like you can now
https://twitter.com/armaniferrante/status/1480363144224645124
I think nacl was for verifying arbitrary signed data, not transactions.
Because I am working on a generic set of tools to more easily reverse-engineer and interact with solana programs and if that could be integrated into explorer itself then it would make things so much easier.
> Starry said he was more than open to merging it in
The reason I ask is there seemed to be a lot of pushback to parsing metaplex nfts since they were not an "official" standard.
I am getting an error that signature verification failed
Do you mean anchor can create idls for native programs?
I think you can now create IDLs for native as well now. Explorer is not against it to my knowledge -- in fact, I believe Starry said he was more than open to merging it in
And/or could we get a generic idl format for solana programs?
That reminds me, would explorer be morally opposed to parsing and displaying anchor idls?
yeah im thinking about that
Sounds like a nice thing to contribute back to anchor
time to nag armani üò¶
PDAs are limited to 10kb
in barefoot solana framework this would be a breeze
if i create an account via cpi from my program why is the account size limited to 10kb instead of the originnal 10mb limit if i were to create it via a direct instruction to system program using the client
The pain is because anchor hides this in the background
This is being built, but not ready for prod yet https://github.com/solana-labs/octane
then I need to do the same with the previous ix and check its the correct ix type
I need to decode the instruction data and match it with my current anchor instruction
Hmm?
Our API is off-chain, but looking at ways to move it on-chain.   The API can run the same as it is, and we can decrement a count, but we're just looking for a solution to just "charge" them 1 token for the request
oh ok thanks for help
Your local testnet doesn't have limits
https://tenor.com/view/possibilities-endless-possibilities-sponge-bob-rainbow-gif-12940820
We just need to update the docs
This will be a pita to do nicely
Well, take my new word as law

That's the limit
100+ ways to do it apparently
hi, i am running a testnet validator, i am not able to airdrop more than 1 sol in testnet cluster
Or use the signature as the verification for something like JWT.
Or your api is actually an on-chain program.
With web2 mechanism keeping track of api calls
Unless you are trying to achieve something else?
But yes I agree with Jacob here, it seems like this is unnecessarily complicating things.
You could do something like partial sign and send the transaction over wire + broadcast on backend
Better just to fall back on some web2 mechanism where you decrement a count
No I mean the client uses the private key to sign a transaction in lieu of a traditional api key.
Fully against sending private keys over api
Or use a permissionless call to a program.
You can use the private key instead of an api key in that case.
Couldn't you solve this with a more web2 manner?
much appreciated
lol hey I responded to ur response first so you were helpful dont let <@!590982495923732511>  get u down lolll
okay yeah thanks, I was just making sure to set the path but i forgot about set command lol
<@!590982495923732511> so, the customer making the request would need to send the signed transfer instruction?   Some of our customers make thousands of calls a day, so we wouldn't want any manual approval of transactions
You're beating me to everything <@!590982495923732511>
Or you might have to do `solana config set -k "path to keypair"`
If you move it to the default path yes.
thats what I thought but wanted to make sure I wasn't missing anything, like if i just import the .json file to new computer Solana CLI should take that keypair path correct?
thanks!
Should be able to find it with `solana config get` if you didn't custom create
Do `solana config get`
where is it stored by default?
Delete the json file(s)
You would have to include a (signed) transfer instruction with the api call, and then reject the request if the transfer failed.
hi how do i remove a keypair from solana-cli
Hmm interesting.
I think they mean with solana-keygen recover.
Wouldn't you just move the file from one machine to another?
Apart from the basics like don't tell anyone your seed phrase I'm not sure what you are looking for.
Hmm best practices like what exactly?
That isn't actually used anywhere, it was leftover from when they copy-pasted v1 to v2
For example, you seed the uuid parameter on the data struct?
Haha metaplex code will make you wonder how someone can be both so smart and such an idiot at the same time.
Not sure where to ask, but just trying to understand how this would would with Solana/Raydium.   We provide an API to customers, but we would like a token where 1 token is 1 request to the API.   So, if a customer has 10 tokens, they could call the API 10 times.   If the customer has 0 tokens, the API would not return results.    Could anyone give some ideas if this is possible?
sorry maybe simple question
Hey just checking what the best practices are for importing a wallet through CLI from one machine to a new machine?
After the cookbook, someone should read https://enos.itcollege.ee/~jpoial/oop/naited/Clean%20Code.pdf
This code is making me hungry for some pasta
All good. Just making a note for myself or someone to do later
https://github.com/solana-dev-adv/solana-cookbook/issues/197
I somewhat of a chef myself, I can document this once I'm done
I would love to contribute but unfortunately have my hands full at the moment.
This would be a nice example for the cookbook
Nice ty!
Sure.
<@!590982495923732511> Can I slide into your dms for a few minutes?
https://github.com/metaplex-foundation/metaplex-program-library/blob/c340ba27560ee101f0f688ee47baa80be006f380/nft-candy-machine/program/src/lib.rs#L385-L409
Yes, but a program can read the whole transaction.
Isn't each instruction isolated from the rest?
Can I find an example of this?
An on-chain program can see all the instructions in the transaction in the order.
Hey. My name is Jerome and I am a UI/UX Designer and I am also great with content writing and creation which can translate to the role of a community moderator. I would love to contribute to the team.
Is there anyway I can check that two instructions are happening in the same transaction, one after the other? 
I have one "business" transaction that is composed out of two instructions, first does some expensive computation, and caches the results, the next one uses the cached results to make some decisions.
The issue is that in the space between both instructions, another instruction can happen that modifies the data used in the computation of the first tx, and corrupts the cache.
Which obvs breaks my security model
Now I can add some flag to invalidate the cache if the data is modified, however I don't want to pass the cache account to every other instruction now.
Is there a cleaner way, where I can know that for example both instructions are in the same adjacent in the same tx?
Or deploy your program to devnet?
Would it be possible to post the full source?
Hmm.
Its created now according to inspector too
Still the same error üò¶
<@!590982495923732511> Even after creating the account i am seeing the same issue
got it..thanks for your time!
But to debit an account that account must sign.
No, you can credit any account you want.
Ah in that case you have to create the account, and pay rent too.
Just wondering though, since service_account is only receiving lamports, does the program have to be an owner of it necessarily?
The service_account parameter it says does not exist

<@!590982495923732511> and <@!489206164270350337> I got the issue. thanks for the help
Basically the account i was crediting did not exist...Have to create the account locally first
Ok cool
Unfortunately that doesn't help at all since you are using a local cluster.
I work for Solana Labs. This is one of my many roles
Thank you, this is perfect! And if you don‚Äôt mind me asking, do you get anything out of being a community helper?
<@!590982495923732511> https://explorer.solana.com/tx/inspector?cluster=custom&customUrl=http%3A%2F%2Flocalhost%3A8899&signatures=%255B%25225hUiXiQhcmyCsdT12KKfjTY7oLFDFC5A3WmBuL8UufyKM7b8Ptr933SpjyTaZVkS4Tv6adehUSnH3qgMrdXSqNN6%2522%255D&message=AQABBZIPEpwes5t0YKixxMYF0y8Sf1KZJueCddYpw1I5ggoB1dQ0V5sXEevmsflI6L9pCDEj%252By7zaLie33iQfBScFxSlgxhKNvjCorNtI8DAmMtGEbmMbzpflwEG4%252FU5cD0IlzK4YATKBnD0ZM5hrWtriEi80mD1HkFJW7zmt9iIewq1cQs4VILdlomDpHXnvxPgMkdCXZDwNYwTQrXwLbM9YyfVWLSPNzJhhyhGOf%252B4UGhSKol2pQYEg2qIKcoT10CuZgEEBQECAwEAMt4%252BQ9w%252Fpn4hAE5yUwAAAAAIAAAAMDAwMDAwMDEBAAAACgAAADE2NDIwODYxMDIAAAAA
Yes but that means I have to write code to do it.
That + cookbook shows how to import to keypair, which can easily be changed with the keypair to uint8 array
Thanks!
That exports as base58 unfortunately.
Phantom has a way to export too I believe
Thanks Jacob you rock!
https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
There isn't a way in web3 today to upgrade. Only to deploy to my knowledge
I believe the flow is the same -- zero out data and remove rent. This is how the token program does it https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L645
I'm confused. Can I deploy the updatable program exactly via solana/web3 in TS?
Quick question: https://solanacookbook.com/references/accounts.html#close-accounts - would this also apply for a for PDA - and would you need to send contract endpoints?
How can I get my private key? In uint8 array
To my knowledge loader will be deprecated at some point. Best to use `solana program deploy`
You'd have to show your program and debug line by line likely, since it is your custom logic breaking
I am not sure. I would go to serum https://discord.gg/y5ymC76T
To be clear, I can see in the typescript source that this functionality is disabled (https://github.com/solana-labs/solana-web3.js/blob/168d5e088edd48f9f0c1a877e888592ca4cfdf38/src/loader.ts#L78). Does this mean that I cannot deploy the program again if I made any changes to it?
Can you send me an inspector link?
Can error in some data storing also cause this issue? 
This instruction passes for me in anchor test...
is Serum available in devnet?
Is it possible that the error maybe in someplace else
Yes but as the error suggests the balance issue..the only balance transfers are the 3 lines of code i have shared
It looks like the logs come from your custom program. I would debug your program
thx
My custom program
https://discord.gg/YGeHRAT4
What program is this?
Does anyone know how to initiate a Anchor client in rust? Which struct is the entry point?
Hey <@!489206164270350337> Can you look at my error once?
It doesn't look like solana-py has staking implemented
Try devnet as Kartik proposed. Testnet is more for perf testing iirc
You can try https://api.devnet.solana.com
are there other testnet rpc endpoint except of `https://api.testnet.solana.com`? 
i am unable to create testnet Serum market, the flow is failing due to rpc limits
Does anyone have an example for creating/delagating stake using solana-py?
Looking for something like: https://solanacookbook.com/references/staking.html#create-stake-account
Can you try https://explorer.solana.com/inspector
Really don't understand where the balance is the problem üò¶
Though the function is working as expected
Hmmm makes sense
```rust
pub fn get_fees_in_sol(amount: u64) -> u64 {
    if amount < 500000000{
        return 20000000
    }
    if amount < 1000000000{
        return 30000000
    }
    if amount < 5000000000{
        return 90000000
    }
    else{
        return amount/20
    }
}
```
`amount > 500000000 && `
OK, unrelated side note you don't need the leading condition in an if-elseif ladder.

Look up what `solana program deploy` is actually doing.
https://github.com/solana-labs/solana
This has the source for the cli
<@!590982495923732511> 
`let mut fees = amount;
        let mut remaining_amount = 0;
        let commission_account = &mut ctx.accounts.commission_account;
        let service_account = &mut ctx.accounts.service_account;
        let program_account = &mut ctx.accounts.program_account;
      
            fees = get_fees_in_sol(amount);
            remaining_amount = amount - fees;
            **program_account.try_borrow_mut_lamports()? -= (fees + remaining_amount);
            **commission_account.try_borrow_mut_lamports()? += fees;
            
        msg!("fees: {:?}", fees);
        msg!("amount: {:?}", amount);
        msg!("remaining_amount: {:?}", remaining_amount);
        
        **service_account.try_borrow_mut_lamports()? += remaining_amount;
        msg!("Amount transferred");`




`pub fn get_fees_in_sol(amount: u64) -> u64 {
    if amount < 500000000{
        return 20000000
    }
    if amount > 500000000 && amount < 1000000000{
        return 30000000
    }
    if amount > 1000000000 && amount < 5000000000{
        return 90000000
    }
    else{
        return amount/20
    }

}`
Could you give me more information please?
Hmm you would have to look at the logic for solana program deploy
Hi guys! I want to deploy an upgradeable program via solana/web3 BpfLoader or whatever in TypeScript. Please give me advice on how I can do this
i see recent works on devnet, but on mainnet i get `Error: failed to get confirmed block:`
recent, processed and stuff not suggested?
on mainnet we are only allowed to use confirmed and finalized correct?
Is there an issue with posting it here?
But I really can't speculate more without actually seeing the code.
Ok so let me add a 5000 in debit and get back to you in a minute
Each signature costs 5000 lamports to verify
How do i account for signature cost though?
This is what i did first. Then I changed it to single debit. Same errors for both
First see if this works.
```rust
**program_account.try_borrow_mut_lamports()? -= fees;
**commission_account.try_borrow_mut_lamports()? += fees;

**program_account.try_borrow_mut_lamports()? -= remaining_amount;
**service_account.try_borrow_mut_lamports()? += remaining_amount;
```
So you mean debit a little more than the credit? Will it work though?
Hmm and you might have to account for the signature cost.
Yes u64
Is everything u64?
I don't see anything wrong in this, so there might be something else.
<@590982495923732511> is the number of digits a problem?
hi all - does anyone know the status of spl-token-swap ?  Ive heard its mostly unused or even deprecated at this point.  Can it still be used to create a swap pool?
My remaining amount when logged looks like 9000000000 (9 zeroes)
Does it matter though? Because the error is specifically here, all logs just before this transfers are working
Hmm can you post more of your code?
Hey guys I am doing this in my smart contract 
`**program_account.try_borrow_mut_lamports()? -= (fees + remaining_amount);
**commission_account.try_borrow_mut_lamports()? += fees;
**service_account.try_borrow_mut_lamports()? += remaining_amount;`

And I get the error `sum of account balances before and after instruction do not match`
What am i getting wrong here?
When I  log the amounts fees, remaining_amount, they perfectly add up to the total amount of parameter
Okay, I used now key for mint authority (looks like <@!814228493302497301> told me about that before) and looks like that it worked) but in another way that I thought.
I logged update_authority and I thought that it would be the same as for my nft. 
But still, thanks a lot for your help! Now I came closer to what I need üôÇ
what does this error stand for when trying to create a mint to cmv1 tx? --> invalid transaction: index out of bounds
How can I get the private key of my wallet?
thank you. This worked, the correct spelling is `solana-keygen recover prompt://?key=0/0`
I think the solana cookbook has a good example about that.
Metadata is stored in a pda with seeds of `["metadata", mint address, token program id]`
`solana-keygen recover "prompt://?0/0"`
Still got an error :\
Nvm, here is my full code and error message:

Maybe I should use another pubkey? Because I use nft's pubkey. Or metadata is stored on another account?
Is there a way to force `solana cli` to use the same derivation path as Phantom? 
I can see the correct address, same as in phantom, when I run: `solana-keygen pubkey prompt://?full-path=m/44'/501'/0'/0'`
But how can I configure solana cli to use it instead of the default address with 0 balance?
Yes, sent you a dm
can you put it in a gist?
https://discord.com/channels/428295358100013066/517163444747894795/931175736893665291
So is the 200k CUs limit per transaction or (transaction-)instruction?
hi
so im trying to create a candy machine mint transaction, i got the first 2 instructions good but the 3rd one (create token associated account) returns me "invalid mint".
I know that for creating an associated token account I need a token and the future owner of that token, but, when creating the mint tx i dont have an actual token to input on the token parameter to create its associated account, I just have an account that its been created on the first instruction.
Kinda stuck on here so if anyone has ever created a mint to Cm tx successfully or has any idea on how to solve my problem i'll really aprecciate. TY
How can I get the private key of my wallet?
So the program is just a benchmark program doing String concatenations to reach the 200k limit. If I send a single instruction in a transaction it consumes 197592 CUs
What does your program's instructions do? Are you invoking CPI? etc. etc. Summary. Also, what is the EU consumed for each instruction if you send them individually?
Are you talking about transaction instructions or program/bpf instructions?
<@456226577798135808> What are each instruction doing?
But he's not getting a compute budget error, he's getting a instruction threshold error
Per instruction
<@456226577798135808> https://docs.solana.com/developing/programming-model/runtime#compute-budget
Hmm?
I thought it was transaction?
So one program execution consumes 197k, but 2 don't work
Thats the transaction.   transaction.add(new TransactionInstruction({
      keys: [ { pubkey: keypair.publicKey, isSigner: true, isWritable: false } ],
      programId: new PublicKey("64HZ5t2BaYZbYWa6nJYqEqCc2wGsrZX2WFTXqkQUE3UT"),
      data: Buffer.alloc(1),
  }));
  transaction.add(new TransactionInstruction({
      keys: [ { pubkey: keypair.publicKey, isSigner: true, isWritable: false } ],
      programId: new PublicKey("64HZ5t2BaYZbYWa6nJYqEqCc2wGsrZX2WFTXqkQUE3UT"),
      data: Buffer.alloc(2),
  }));
What error are you getting?
But then how can it be that I can't pack two instructions into a transaction for a program that consumes 150k units, only a single one at a time.
Thanks!
Instruction
Hi everyone, does the 200k compute unit limit refer to a transaction or an instruction? Ty in advance!
hi
my name is Eren
Im from Turkey
im 25 years old
i have a NFT project
I did something before but it failed. (avamountains.io 101/10000 :))
I have a project with a better economic model, this time I want to do it in the solana network.
I need a developer.
I will partner with the project.
done
No, the CLI does not submit program instructions
Usually indicative that the account data size (`&nft_info.data.borrow()`) and the `MetaData` size are not the same, borsh does this check and throws that error
You can get arround it with `use solana_program::borsh::try_from_slice_unchecked`
```rust
let metadata = try_from_slice_unchecked<MetaData>(&nft_info.data.borrow()).unwrap();
```
is there a way to communicate with program via solana cli? aka send instructions or it's possible only with web3js. focusing on anchor here.
Your better off asking that in the Metaplex discord
I find it very sus
But in the official docs
https://docs.phantom.app/integrating/sending-a-transaction#signing-and-sending-a-transaction
I am just wondering this part where Phantom doesnt support `signAndSendTransaction`
```
// Phantom doesn't handle partial signers, so if they are provided, don't use `signAndSendTransaction`
```
https://github.com/solana-labs/wallet-adapter/blob/master/packages/wallets/phantom/src/adapter.ts#L182-L205
Hey solana people
figured it out. i needed to send those accounts sol. not sure why that prohibits me from cloning.
Hi I am from the polygon NFT game Enter The Sphere, looking to move to Solana:

basically wanted to discuss the solana fees

i read a bit more about this whole rental fee and am not sure anymore minting on solana would end up being a cheap thing

from what i know rent is paid to store accounts on the chain, and from what i can see - upon minting the sol transfered to token account is enough to make it excempt from rent pay (if you got 1 year worth of rent you dont pay it)

the token accounts have an owner, which is the user wallet

a token account woud be needed for every card type (at least). i say at least because for now minting nfts creates a new account per mint. i'm trying to figure out how to just increase token balance instead, making it essentially semifungible

but regardless, a user can have up to 70 token accounts (or number of nft's we have) and i think yearly rent for each is like 0.002 SOL (i need to confirm this, there is a formula that calculates the storage price)

(currently a straighforward mint takes 0.011 SOL)

Our game relies on giving out common and uncommon nft cards for free as a onboarding model and right now that would cost us $15 per user

I am not using Candy Machine, but Metaplexs JS SDK.

Thinking is there anyway to batch the mint? Any help appreciated, otherwise these fees need different model alltogether.

Thanks!
Like one time token that I can generate and destroy
Is there anything like OTP I can implement in my contract 

I want to generate something in one contract 
Which I can confirm and destroy in other
I receive "IO Error: Unexpected length of input" when trying to deserialize account's data. 
How to fix that? I'm trying to deserialize Metadata for metaplex nft
why can't i send money to this account: https://explorer.solana.com/address/6amoZ7YBbsz3uUUbkeEH4vDTNwjvgjxTiu6nGi9z1JGe

but I can to this one?
https://explorer.solana.com/address/HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv

the first one is 43 characters long. the second is 44
is there anyway to change owner of mint in test-validator?
Thanks for answers guys!
https://github.com/solana-labs/solana/releases
<#669406841830244375>
Is current mainnet version 1.8.11?
At the moment, when you create the account the size of the storage you requested is fixed so you can't 'grow' that size dynamically yet.
If you have a variable length construct you want to store, you need to create the account with 'room to spare' and add necessary checks in your code.
However; 1.10.0 will have a feature to `realloc` your account size dynamically. This is a plan but not a commitment that it will be in that release of course.
You cant resize account size once it's initiated. you have to always allocate enough space for scale.
Good day everyone! Can somebody give me example on how to change account  data storage size so that I can store data like in dynamic vector for example?
Hi there i hope youre doing well. I need help about creating pool on solana network, i mean how to do it is the main question.. In addition if i make my token inactive is this possible to activate it again??
Help ??
sign
im not sure, they are being transacted against
Did they run out of rent?
```bash
$ solana balance 5KQFnDd33J5NaMC9hQ64P5XzaaSz8Pt7NBCkZFYn1po --url mainnet-beta
0 SOL
$ solana balance -u mainnet-beta HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv
0 SOL
```
its quite puzzling why we cant fetch these accounts...
here is another one: 
` solana account 5KQFnDd33J5NaMC9hQ64P5XzaaSz8Pt7NBCkZFYn1po --url mainnet-beta`

this one made a transaction 1 min ago: https://explorer.solana.com/address/5KQFnDd33J5NaMC9hQ64P5XzaaSz8Pt7NBCkZFYn1po
```bash
solana account -u mainnet-beta HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv
Error: AccountNotFound: pubkey=HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv
```
it made a transaction only 2 hours ago
but clearly it does exist: https://explorer.solana.com/address/HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv
It's saying it doesn't exist
```bash
cat .ledger/validator-1642068942481.log
[2022-01-13T10:15:42.482091000Z INFO  solana_test_validator] solana-validator 1.9.4 (src:8ce65878; feat:3258470607)
[2022-01-13T10:15:42.482166000Z INFO  solana_test_validator] Starting validator with: ArgsOs {
        inner: [
            "solana-test-validator",
            "--ledger",
            "./.ledger",
            "--clone",
            "HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv",
            "--url",
            "mainnet-beta",
            "--reset",
        ],
    }
[2022-01-13T10:15:42.482215000Z WARN  solana_perf] CUDA is disabled
[2022-01-13T10:15:42.485168000Z INFO  solana_perf] AVX detected
[2022-01-13T10:15:42.487403000Z INFO  solana_faucet::faucet] Faucet started. Listening on: 0.0.0.0:9900
[2022-01-13T10:15:42.487438000Z INFO  solana_faucet::faucet] Faucet account address: Ee3itrwm6rJ8g1UFJHcDprX3cBZSTpmXpAgYQquM3tMU
[2022-01-13T10:15:42.488935000Z INFO  solana_test_validator] Fetching HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv over RPC...
[2022-01-13T10:15:43.028638000Z ERROR solana_test_validator] Failed to fetch HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv: AccountNotFound: pubkey=HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv
```
you can see that it exists, so try to clone it. 

my clone works, for most accounts but not for that one. i wonder why?
https://explorer.solana.com/address/HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv
but try the account that i sent on mainnet
So, first you have `--ledger` which when used has an argument of `<DIR>`. Here is what worked for me:
`$ solana-test-validator -l ./.ledger --clone A94wMjV54C8f8wn7zL8TxNCdNiGoq7XSN7vWGrtd4vwU --url devnet`

Also, if your ledger already exists it will ignore the `--clone`
```solana-test-validator --ledger --clone HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv --url mainnet-beta```
What does your invocation of `solana-test-validator` look like?
Hey! Quick questions. How come Solana Test Validator can't fetch a few accounts from mainnet? Like this one:

[2022-01-13T10:02:14.352309000Z ERROR solana_test_validator] Failed to fetch HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv: AccountNotFound: pubkey=HggGrUeg4ReGvpPMLJMFKV69NTXL1r4wQ9Pk9Ljutwyv
can you show the imports too?
<@!726384763169931265> Yes of cause, but only its owner program can sign to transaction with its seeds and bump.
I think no.
?????
<@!531453812917927945> Metadata program of Metaplex is sort of NFT standard in Solana. You have to use Metaplex metadata program otherwise your NFTs will not be listed in Phantom wallet's collections.
<@!830016695020158976> It's never dangerous, because once program is deployed with the keypair then authority of that program is upgrade authority (deployer's wallet).
Make sure you are not sharing Upgrade authority keypair.
Anyways it's not good to share private keys in general.
Hi all, please is there any way to programmatically add metadata to a mint  without necessarily use metaplex ?
Help ??
Hi there i hope youre doing well. I need help about creating pool on solana network, i mean how to do it is the main question.. In addition if i make my token inactive is this possible to activate it again??
Is there any way to use the Solana CLI to call a contract / create a transaction? Similar to the JS client in the hello world example?
Can a PDA sign a transaction?
Hey! Could you please explain why it would be dangerous if  `PROGRAM_KEYPAIR` will be exposed to public?
```
solana program deploy --program-id <PROGRAM_KEYPAIR> <PROGRAM_FILEPATH>
```
What one can do with that private key?
Thank you
hello, need help with understanding buy process on market via contract, anyone please
In this code, what is `Account` type?
If I put `#[account]` above the struct, it's type also can be `Account` ?
i have no ideal for this
thanks
Hi All,
anyone help me 
when i run program it error below
Thank you! Taking a look now
maybe check this https://solanacookbook.com/references/nfts.html#mint-an-nft
Hi All, I'm researching how to mint NFT's linked to assets (e.g. jpg, png) using Solana -  I understand how to mint an NFT using Solana without any assets associated to it, but I can't seem to find any docs describing how to have an asset associated with it stored in arweave (or some other permanent storage). I know this can be done with Metaplex CandyMachine but wanted to know how easy is this to achieve with using just Solana, and are there any resources people can link to do so?
you can take a look here https://solanacookbook.com/references/accounts.html#program-derived-address
i kind of now have a an idea on how the pda of my custom program works!
but since the wallet account are managed and owned by the System program, that's what got me confused a bit here!
in my custom program i can find the PDA for a wallet from the system program with some seeds would those seeds also be used as the signer in invoke signed of my program?
yes. first you need to deploy a program and find a PDA. 
then you can do everything with PDA the only different is that is if you need the PDA to sign tx, you use invoke_signed in the program.
I generate a random number inside my smart contract using timestamp
On basis of that I have if else condition inside the contract
But the phantom wallet tells me before I approve that what would be the final change in balance
If I invoke a cross program instruction inside my smart contract
Will the wallet be able to determine balance changes before the initial program is called?
Thanks, that worked
Hello everyone, can i create a PDA wallet?? And how would that work if possible?
if the tx is success, you can use `getTransaction` to retrieve all info back including log
Hello, I'm trying to log some result with msg! but they are only printed if the program doesn't finish successfully. Is there some argument I need to add when running the typescript that calls the rust program?(I'm using ts-node)
Someone can help meü•≤
you can't create the same account twice unless you close it before you do the second creation.
<@!830210968171839489> when i use same  mint and then spl token create so always getting error from program 
```
account Address { address: nPFuqSVoLzuG94jMP8VwsT7gErXhfZnJLgBLhEuVnc, base: None } already in use
```
for NFT operations https://solanacookbook.com/references/nfts.html
ok thanks <@!830210968171839489>
check if `getAccountInfo` returns anything
how can chack that pda account already there
Yes
solanaÂ¶Ç‰ΩïËß£ÊûêdappËøîÂõûËøáÊù•ÁöÑ‰∫§Êòì‰Ωì
That just creates an address for you, you actually need to initialize the account on chain as well
Depends on how you set the confirmations parameter
I don't think it should be too hard to look at what's the expected result from https://docs.solana.com/developing/clients/jsonrpc-api and creating mock values. Also, you can use `solana-test-validator` as a local instance of the chain you can send queries to. This way you won't need to mock rpc calls
Hi 

How to store metadata of token in PDA.
is it the way to create PDA accounts ?
metadataPubkey = await PublicKey.createWithSeed(
    payer.publicKey,
    GREETING_SEED,
    programId,
  );
Hi all, I am writing a web3 integration to Solana chain. May I know is there any example of mocking the RPC call other than the one in https://github.com/solana-labs/solana/tree/master/web3.js/test for my unit testing?
Hello there üòÉ !
I am trying to wrap my head around something and could use a hand with a point in the right direction. 

I would like to mint a nft that automatically comes with a ($xyz) custom tokens set to a certain amount of sol. 

Then I would like to have the ability for my publicly traded token ($abc) to be able to purchase ($xyz) in my own marketplace and "load" the nft with tokens that represent sol?

Is this possible at this current time?
Or so I was told
Since we can get rate limited based on ip
Do solana wallets keep some sort of ip log?
Has anyone done document translation, I have some questions to askü•≤
I think i have some version mismatch happening in my npm packages
I may be able to help, I have resolved my issue
anyone know how to fix this?
it seems to be coming from the step where the data for the instruction is being encoded, but the code that does this is all included with the library
but I'm getting a weird error, TypeError: b must be a Uint8Array
I'm using web3 to create an account ` SystemProgram.createAccount({
    fromPubkey: walletKey,
    newAccountPubkey: mint,
    space: MintLayout.span,
    lamports: await connection.getMinimumBalanceForRentExemption(MintLayout.span),
    programId: TOKEN_PROGRAM_ID,
  })
whats custom data?
Aladin are you trying to write custom data
Any idea how to create Metadata account for Minted NFT

like atleast I think so
I created a PDA
Hi 
We can call it as PDA with bellow code.
metadataPubkey = await PublicKey.createWithSeed(
    payer.publicKey,
    GREETING_SEED,
    programId,
  );
I want to make a similar with other variables
the whole transaction
what are you simulating?  transaction history?
I am trying to simulate this
https://explorer.solana.com/tx/2MHhUamzbweUCkcZu556hsa44RCYk469cT6q4vyriHV7dxGWe5oAnKqVpVyeSMrM6CVo13jhZCwZVmJCLsGweMjo
those are the errors and logs
<@!465429267602341901> please provide more info such as logs, errors, and code you have that is relevnt
Can anyone successfully make a testnet post to this page https://solana-twitter-devnet.netlify.app/#/
It has to do something with creating the associated acc for the token
I cant seem to find the solution
Anyone know cause of this problem
```solana.rpc.core.RPCException: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 0: custom program error: 0x2', 'data': {'accounts': None, 'err': {'InstructionError': [0, {'Custom': 2}]}, 'logs': ['Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL invoke [1]', 'Program log: Transfer 2039280 lamports to the associated token account', 'Program 11111111111111111111111111111111 invoke [2]', 'Program 11111111111111111111111111111111 success', 'Program log: Allocate space for the associated token account', 'Program 11111111111111111111111111111111 invoke [2]', 'Program 11111111111111111111111111111111 success', 'Program log: Assign the associated token account to the SPL Token program', 'Program 11111111111111111111111111111111 invoke [2]', 'Program 11111111111111111111111111111111 success', 'Program log: Initialize the associated token account', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [2]', 'Program log: Instruction: InitializeAccount', 'Program log: Error: Invalid Mint', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 3069 of 179576 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: custom program error: 0x2', 'Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL consumed 23493 of 200000 compute units', 'Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL failed: custom program error: 0x2']}} ```
Makes sense.  If everything in the museum is art, you gotta be able to differentiate museum-issue from every other artist's creations...  native mint is a good way to achieve that
wow idea of "native mint" is p cool
Aha, thank you much <@!788215642070581289>
https://spl.solana.com/token#wrapping-sol
https://solanacookbook.com/references/token.html#wrapped-sol
does anyone know how to properly use solana-keygen verify prompt://
<@!792948282074595358> great question
Another question; what's the deal with this token: https://solscan.io/token/So11111111111111111111111111111111111111112 - what does it mean for sol to be wrapped sol?
No it was my phantom wallet app, and it gave me my secret key I‚Äôm base 58. How do I convert that to u8int array?
I have two peolpe reachouh to me in PM saying they were Sol support offering to help
I guess there are scammers lurking
Phantom, or any good wallet, would not expose the private key to the website visited
I found it from phantom wallet settings I think
Check out this page https://solanacookbook.com/references/keypairs-and-wallets.html
As I said before, you don't
Is the best way to get it from my wallet provider?
in thery you provide the seed and the passphrase
What info do I have to provide?
How can I get private key easily
how do you use solana-keygen verify 5SeoWvugJne2QtCjUjuoadXWK7W2u7VMajkWqCy4DQnr prompt://
Thankfully this is impossible
<@489206164270350337> can you help with this, thanks!
I am having the same issue trying to get a generate the private key, I enter the seed and passphrase and it fails to verify every time
How do I get private key from wallet address? Thanks üòä <@301482575170502661>
hey how do i have the supply of a token to like 200billion?
ohhh. I see. thanks heaps
if your calling it from the front end where a user is signing it can trigger the approval, but that is what the web3 is calling from the clients for, when using wallets.  on the server side you would not assume using a wallet plugin to sign anything there specifically, there are next js and related scaffolds that have the wallet integration already hooked up.
as far as tutorials for fullstack and or front end, https://www.soldev.app/library/tutorials has the most links and resources.  otherwise there are a lot of open source examples on github now. just note if you are looking for more anchor based or not, as they can differ in approach.
does this ask for the user to confirm the transaction at the front end?
you can use the sign transaction methods any client has access to. if its expected to take longer than a standard < 60 seconds to get the transaction out you may have to use offline signing and nonce accounts.  lookup the sign methods in the docs, web3 js, and cookbook have examples of signing methods as well as solana and spl github repos.  here is  an offline example:
https://solanacookbook.com/references/offline-transactions.html#sign-transaction
Create front ends for my Dapps
On a node server
<@785084693023424542> to clarify, how can I sign the transaction
server side?  or on chain?   on chain you use invoke and invoke_signed to call other programs.  from a standard server, like node js server/service or other server, you call just like any other client might.
yes sir. THanks heaps.
How can I send a transaction from server side?
because associated token account is a common association that everyone can use to lookup and reference for operations with common seeds in place.   aux/ancillary just produces temporary/duplicate accounts and in general is needed only for specific tasks that might require it. Associated token is the common standard for creating and looking up token accounts so strongly suggested to use as the standard.
u can have duplicate token account for ancillary account?
new material is always being released, not necessarily as a doc. what are you trying to do?
Hi, why is associated token account recommended for creating token account rather than ancillary token account?
Any new docs on doing front end ?
paste the smaller pieces of relevant text where u can, images are not very friendly here
you have to know the layout generally to decode things, common ones are automatically attempted to get parsed with the getParsed methods, and there are commong ones like AccountLayout, MintLayout, TokenLayout, for some of the structures, otherwise its up to each program how they encode, structure, layout their data, so you would need to ask them or be familiar with their layout, to a degree to properly end up with a decoded structure atm.
error looks like that

hi, building a python client and I get UncofirmedTxError sometimes. Is there any good way to debug this error?
‚ùå Fetching project info     
‚ùå Failed to collect project info. Please contact our support team for help
‚ùå Couldn't authorize. Check your 'api_token'.
But now there is a new trouble, here you need to configure an API TOKEN, my own registered TOKEN will fill in the error, I should how should I solve
I think this is a pretty common question, but is there a general way of decoding the base58 data in `CompiledInstructions`? i read that it can be custom, but assuming there must be some standard
He's too slow.
ü•≤
I think it worked, it took half an hour for docker to respond
<@785084693023424542> <@815267573431533598> How can I get the public key of the person who sent transaction from transaction signature (getTransaction)
the standard and default Base58 (you could call it bitcoin or crypto Base58) should work implemented by the majority of base58 standard packages and libs.
you can try getParsedConfirmedTransaction to get that transaction information,  but its generally common practice to just do a pre and post balance check after a transaction hits - as is in most financial tracking. The likely-hood tends to be strong for doing a pre and post balance check for many reasons and less likely you need 'all' the transaction information.
We have an API that customers use.   As an example, we'd like to charge 1 token per request.   What mechanism do you use to "charge" the customer a token each request?
I think I‚Äôll just do postBalance - preBalance unless there‚Äôs a better way
Transaction signature
<@!830588519494975538> "from a signature" .. which signature
<@!489206164270350337> 
Thank you for your response. I want Keypair to add signer when execute anchor program like the following code. Do you know how I can sign??
How can I get the transaction amount from a signature using getTransaction
The error message is the same as at https://github.com/solana-labs/solana/issues/22446
I think I have run the script and started docker successfully, but the error is as
Annual, starting at 8% and decreasing by about 1.2 per year until hitting 1.5
<@!792948282074595358> 
SOL Staking Rewards
The Solana inflation/emission rate will start at 8% and decrease by 15% annually until it reaches a long-term inflation of 1.5%. The SOL rewards are distributed to delegators every epoch, which is approximately ~2 days.
I am playing playing arround on the devnet and I created a token, minted coins to an address however the coins show up in the mint from wallet and not the recipent wallet. See code:
spl-token mint GusBahfnKi5TEHL7LoaZvuaoM4DkM3n5D64EiCfnLLiu 100 3LPykFKSAjAvUSponDfiF3GkfVBvH2Lzf86iuGDLut8t
Minting 100 tokens
  Token: GusBahfnKi5TEHL7LoaZvuaoM4DkM3n5D64EiCfnLLiu
  Recipient: 3LPykFKSAjAvUSponDfiF3GkfVBvH2Lzf86iuGDLut8t

Signature: 3MDaKub2bJb5rhfxzoFB121aKVigxrWGs5UCPphLQxieURrJRgD8TecRV12Lqgpxm8Nm7SW8LkSh6zVUUDdCR3na

legendarysystems@legedarys-MacBook-Pro / % spl-token accounts                                                                                          
Token                                         Balance
---------------------------------------------------------------
GusBahfnKi5TEHL7LoaZvuaoM4DkM3n5D64EiCfnLLiu  200
I'm verifying that now
I assume annual
<@!792948282074595358> Great question
Hello All!
Hey i have a question about the inflation CLI command. Is the output in the second half annualized inflation rate? or per epoch? 

```
$ solana inflation
Inflation Governor:
Initial rate:             8.00%
Terminal rate:            1.50%
Rate reduction per year: 15.00%
* Rate reduction is derived using the target slot time in genesis config

Inflation for Epoch 268:
Total rate:               7.20%
Staking rate:             7.20%
```
Try the anchor discord https://discord.gg/YGeHRAT4
This page may be helpful for you https://solanacookbook.com/references/keypairs-and-wallets.html
call the RPC `getTransaction` to get the details
Sounds like you tried to use an account that can't be used to pay fees
Checkout metaplex https://discord.gg/nn2D5Aev for this
I believe ryan was tagged for you and should be able to help on git
Run the build script https://github.com/solana-labs/solana/blob/master/docs/build.sh first I believe. Not sure how translations are managed in crowdin at this time
You should be able to use `getAccountInfo` with `jsonParsed` https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo
You could do that + `new PublicKey("<address>")`
You cannot, it is not exposed by the wallets
üòî
üòü
Why do you need a secret key
Hi, I use wallet-adapter(https://github.com/solana-labs/wallet-adapter). Can I get secret key from wallet-adapter?? Thanks
Who can help me, plz.
does PulicKey.isOnCurve(<address>) work?
how can determine that a solana wallet address is a valid wallet or not?
That's a start üôÇ Thanks
You can try this, but it is limited: https://public-api.solscan.io/docs/#/Token/get_token_list
I'm sure there's a big ass JSON somewhere with all those hardcoded
Ah yep that works if I know the mint key. Now I would need an API to get the mint key from the symbol üòÑ
https://api.solscan.io/account?address=ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx

```
{"succcess":true,"data":{"lamports":52004055254,"ownerProgram":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","type":"token_account","rentEpoch":268,"account":"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx","tokenInfo":{"name":"Star Atlas","symbol":"ATLAS","price":0.087629,"volume":9943880,"decimals":8,"tokenAuthority":"GgYtnDJMHQG4gpVzy2KHukSvHfFJcs1jLXASsBCQE83P","supply":"3600000000000000000","type":"token_address"}}}
```
Sup üëã  Is there an API call I can make to get the number of decimals for a given SPL? For example, POLIS would be 8, RAY 6, etc
"Solana technically never sends a block, but uses the term to describe the sequence of entries that validators vote on to achieve confirmation. In that way, Solana's confirmation times can be compared apples to apples to block-based systems. The current implementation sets block time to 800ms."
https://docs.solana.com/cluster/synchronization
<@!904797780214710354> transactions... per block?  how you mean
https://explorer.solana.com/
Can someone give me a hint on how to decode transaction data when I use RPC call getBlock with the parameter `encoding: base64` ?

Example:

```
"transaction": [
          "AfOr0SRa22+jmDnI3iEe3ETmaic/cmbCAB/K7f9ymm95+91xJ9qT2nPzv1LbGVa0lSb4U9Zr+R2wS0nlqHsVswMBAAMFtUtY20bc4f6iPSq0G2K42IEWM3KcMVc8bV7e/VPoXFVKACgrGdE2RZV/2CI1Rz9R4qW1p7FXtlPPmw0zb8oxJAan1RcZLwqvxvJl4/t3zHragsUp0L47E24tAFUgAAAABqfVFxjHdMkoVmOYaR1etoteuKObS21cc1VbIQAAAAAHYUgdNXR0u3xNdiTr072z2DVec9EQQ/wNo1OAAAAAAFkz0/Ng8LjhTGwAqqt7e/4RXe7Eu/lJUsVTk0cGgM/RAQQEAQIDAEUCAAAAAgAAAAAAAAA+YucGAAAAAD9i5wYAAAAAOJmh1FE7Vl1mP2LZe+NSz/8LkCo4WjzEr9JGpsqE6oUBtQ3eYQAAAAA=",
          "base64"
        ]
```
any ideas on how to resolve this?
_____

This error comes when I try and run the command "ts-node /Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts upload \
    -e devnet \
    -k /Users/mattygbrown/.config/solana/devnet.json \
    -cp config.json \
    -c temp \
    ./assets"
Hi guys,
hope you're all well!

Quick question, I am getting the following error msg: 

wallet public key: FCYhFkJu4An4aUfGAfpeQNjJhb9MufEAenfYtCF7zfwh
WARNING: The "arweave" storage option will be going away soon. Please migrate to arweave-bundle or arweave-sol for mainnet.

Beginning the upload for 5> (img+json) pairs
started at: 1642034288648
initializing candy machine
Error deploying config to Solana network. Error: Invalid character
    at assert (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:6:21)
    at parseBase (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:274:7)
    at BN._parseBase (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:310:14)
    at BN.init [as _init] (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:105:14)
    at new BN (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:39:12)
    at uploadV2 (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/src/commands/upload.ts:140:27)
    at Command.<anonymous> (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts:184:21)
    at processTicksAndRejections (internal/process/task_queues.js:95:5)
upload was not successful, please re-run. Error: Invalid character
    at assert (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:6:21)
    at parseBase (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:274:7)
    at BN._parseBase (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:310:14)
    at BN.init [as _init] (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:105:14)
    at new BN (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/node_modules/bn.js/lib/bn.js:39:12)
    at uploadV2 (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/src/commands/upload.ts:140:27)
    at Command.<anonymous> (/Users/mattgbrown/Desktop/solestial-nfts/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts:184:21)
    at processTicksAndRejections (internal/process/task_queues.js:95:5)
mattgbrown@MacBook-Pro-16-inch-2021 metaplex %
Trying to deploy a contract to localnet
can anyone explain this error?
`Error: Account allocation failed: RPC response error -32002: Transaction simulation failed: This account may not be used to pay transaction fees`
but if my app gets a lot of users it doesn't seem to process most of the transactions I send even though I sign it & get the recent blockhash before doing each one
im doing some backend processing by signing a transaction on the backend and sending it off
hello friends - what's a reliable way to check if a signed transaction went through & was processed? (whether it be passed/failed)
this worked üôÇ ``let secretKey=bs58.decode(base58key)``
``let keypair = web3.Keypair.fromSecretKey(secretKey);``
I don't think I can use ``Uint8Array.from`` yet because I don't have my key in that format, it's just a big string ``mY7ZanSyC3iKHyLiwmY7ZanSyC3iKHyLiw`` like this
I thought both use base58?  they look the same format
https://docs.solana.com/developing/clients/javascript-api
the base58 is the secret key or public key ?
oh this takes a base58 string (which is what phantom gives)?
or load from file (keypair.json)
I know there may be no constant answer to this, but does anyone know approximately what the average number of transacations per block is?
I dont know about phantom but you can either put the secret key direction
let secretKey = Uint8Array.from([secret key goes here])
let wallet = web3.Keypair.fromSecretKey(secretKey);
<@202739061796896768> i used a lib, react-wallet-adapter or something
luckily it looks up what to do by type so you can define your own methods on the prototype with appropriate names, but it's hacky and weird
lol
(got like 3 dms instantly trying to scam me lol)
How do I turn my phantom wallet public/secret keys into uint arrays for a keypair object in solana js api?
hi
so im trying to create a candy machine mint transaction, i got the first 2 instructions good but the 3rd one (create token associated account) returns me "invalid mint".
I know that for creating an associated token account I need a token and the future owner of that token, but, when creating the mint tx i dont have an actual token to input on the token parameter to create its associated account, I just have an account that its been created on the first instruction.
Kinda stuck on here so if anyone has ever created a mint to Cm tx successfully or has any idea on how to solve my problem i'll really aprecciate. TY
try: solana address -k Path_to_keypair.json
maybe they are not in the default path that's why
where are the keypair for your cli wallet stored ?
C:\Users\Administrator\Desktop\01_nft_mintsite_testV1\01_VsCode\metaplex>solana address
Error: No default signer found, run "solana-keygen new -o ~/config/solana/devnet-test.json" to create a new one

C:\Users\Administrator\Desktop\01_nft_mintsite_testV1\01_VsCode\metaplex>
Why am i getting this if i already created a cli wallet
Hey guys! Im having a problem with testing a smart contract on my localnet. The error I am running into is this 
`'The given account is owned by a different program than expected'`
The contract function is this 
``` pub fn create(ctx: Context<Create>) -> ProgramResult {
        let base_account = &mut ctx.accounts.base_account;
        base_account.count = 0;
        Ok(())
    }```
and a struct of 
```#[derive(Accounts)]
pub struct Create<'info> {
    #[account(init, payer = user, space = 48)]
    pub base_account: Account<'info, BaseAccount>,
    #[account(mut)]
    pub user: Signer<'info>,
    pub system_program: Program <'info, System>,
}```

and the client code i am using is this 
```const programId = new anchor.web3.PublicKey("8B6DoQ7SNuWYyE4FY6aWZMw8uCaCb3K7r2gFmaQHM358");
  
  const baseAcc = anchor.web3.Keypair.generate();

  // Generate the program client from IDL.
  const program = new anchor.Program(idl, programId);

  await await program.rpc.initialize();
  // Execute the RPC.
  await program.rpc.create({
    accounts: {
      baseAccount: baseAcc.publicKey,
      user: provider.wallet.publicKey,
      systemProgram: SystemProgram.programId,
    },
    signers: [baseAcc]
  });const programId = new anchor.web3.PublicKey("8B6DoQ7SNuWYyE4FY6aWZMw8uCaCb3K7r2gFmaQHM358");
  
  const baseAcc = anchor.web3.Keypair.generate();

  // Generate the program client from IDL.
  const program = new anchor.Program(idl, programId);

  await await program.rpc.initialize();
  // Execute the RPC.
  await program.rpc.create({
    accounts: {
      baseAccount: baseAcc.publicKey,
      user: provider.wallet.publicKey,
      systemProgram: SystemProgram.programId,
    },
    signers: [baseAcc]
  });```
Think in solidity you can't read ipfs from within smart contracts. Was wondering if it would be possible but guess not
No problem.
Or can you access ipfs from eth contracts?
It's that the same problem?
I'm curious, how does eth handle changing the image for example.
The private key never leaves the browser.
So `wallet.signTransaction(tx)`
The trick is to have the user send you the signed transaction.
https://tenor.com/view/pepe-cry-reading-pepe-the-frog-sad-gif-17607942
its so weird to me that borsh js is missing support for commo things like signed integers or variable length array of u8
Not at the moment.
Searched the chat history and was wondering if anyone has answer for this. 
Is it possible to read Arweave data inside a Solana program? I have to rearrange metadata of my NFTs if I am unable to
Also, if you don't want to maintain a database of transactions you could have the client send your backend the transaction, you parse it to make sure it's what you expect and then forward it to the cluster.
For example, transferring x amount from one account to another.
An instruction is one program call.
Ahhh I see, I was just confused by the context
anyone knows what error "invalid mint" means when trying to create the associated token account?
Why would you allow someone to send a transaction first before doing checks with a backend. What happens in the scenario someone sends a transaction and you backend finds its 'invalid'
Also store the transaction signature to make sure there is no double spending.
Two things, check if there are any additional instructions in the transaction and make sure the the balance change for your public key is what you expect.
might be worth noting the open source serum-dex on project serum github requires a chartview library (must submit a request to tradeview) and udf api - bonfida offers a subscription to those endpoints for 1k/month.
Ah of course.
The time honored tradition.
https://tenor.com/view/hello-it-have-you-tried-turning-it-off-and-on-again-telephone-on-call-gif-15495555
AMAZING! That works. Thank you so much!
serum-dex is open source on the project serum github
maybe try this: ?
https://discord.com/channels/428295358100013066/517163444747894795/870111750085824512
is there resources/reference for infrastructure fundamentals on sol for building say a DEX for large scale example
The `cargo-build-bpf` bin is there. And is running fine. Just the `cargo +bpf` that gets spawned from within that process fails
solana tool cli has the cargo-build-bpf needed to build with bpf, so a linking there or path var is likely missing.   its possible something is messed up with a ref or path based on how it was installed, or if using brew to install rustup, profile being used, or something similar.
Still on 1.57.0, though (after running rustup)
That isn't the most recent version, right? I'm running `rustup update` again right now
1.57.0
does anyone know if spl-token-swap is deprecated?
What is your rust/cargo version?
Not a child process.
Thing is if it were a path issue cargo build-bpf would have failed.
So that would add `/Users/walski/.local/share/solana/install/active_release/bin` and then in that path there are the 2 `cargo-` bins I've mentioned above. But there is no `cargo-+bpf`. Is there a `cargo-+bpf` bin in your $PATH?
That is "just" prompting to add the Solana SDK bin path to `$PATH`, right? That's the case.
needs to be in your cli / profile env so when it loads it can link
try running it again and see about the path.
https://docs.solana.com/cli/install-solana-cli-tools#macos--linux
That could very well be the case. is the env var I'm looking for `CARGO_PATH` ?
What happens if you run `cargo +bpf ...` separately?
many have put it there with export in the cli but after a first run, and closing terminal, its no longer there
Idk, what should it look like? Where should it point to? And where should that `cargo-+bpf` binary live?
generally a prompt to make sure its in the env
is your cargo path setup correctly?
Yeah, no problem running that
very old MacOS, though. Still on Catalina
can you run cli commands `solana config get` ?
Nah, stupid old Intel
Are you on M1?
What if it doesn't? üòâ I tried that.
usually a rustup, and installing the solana cli should resolve that
yeah node.js doesn't have a window object <@!590982495923732511>
Ah `global` is a node.js thing https://nodejs.org/api/globals.html#globals_global
This is a full output:

```
walski@MacBook-Air solana-hello-world % cargo build-bpf --bpf-out-dir=dist/program
BPF SDK: /Users/walski/.local/share/solana/install/releases/1.9.4/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
error: no such subcommand: `+bpf`

    Did you mean `b`?
```
There is `globalThis`: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis
Hey folks, I'm trying to build the hello world example and am stuck with an error stating:  `no such subcommand: +bpf`

There is an SO question about this same error that went away after upgrading the Solana SDK and Rust toolchain, which I did but does not seem to have any effect. If I understand it correctly you can add custom `cargo` commands by having `cargo-` binaries in your `$PATH`. The Solana SDK adds 2 binaries that match this pattern for me: `cargo-build-bpf` and `cargo-test-bpf` . As there is no `cargo-+bpf` it makes sense to me that cargo is complaining during the build. Any advice?
Hmm I have personally never seen `global`
alright i'll take a look at that, thanks <@!785084693023424542>
there is a svelte framework wallet example, that u may be able to reference and see a diff
https://github.com/solana-labs/wallet-adapter/tree/master/packages/core/svelte
hmm well I do not believe global is referenced specifically in the web3.js, from what I recall. its possible some other package or dependency may.
i did change the iife to a regular arrow function but that shouldn't do anything different
does the solana-client rust package have no equivalent for the getTokenLargestAccounts RPC call?
this example
it's literally <https://github.com/solana-labs/solana-web3.js/blob/master/examples/send_sol.js>
well i am using svelte and typescript so it could be an issue related to that but i've never had problems before using window until using web3
can you link to the file?  global is just a general definition usually for window that you can define and many libs, especially older ones assume it exists.
not sure how to solve this
when i try the send_sol.js example from the solana-web3.js repo i get ``global is not defined`` in the console and in the debugger i have this ``typeof global.TextDecoder !== "function" ? encoding.TextDecoder : global.TextDecoder;``
i dont recall there is an easy way to generally view this atm.  I tend to believe many are working on data related views and analytics in the eco system.  popular and new companies and protocols.
Is there a place to see the most used contracts on Solana?
Feel free to ping me if you have issues.
But the good news is getting started is the best way to learn.
You need a firm grasp of js knowledge and experience with web dev to identify patterns.
After that it's all up in the air.
Ctrl + Shift + I brings up the inspector and Ctrl + Shift + F is global search.
For a start I would suggest searching for "idl" in the ME website source.
I would love to but it's not something that can be explained easily.
Just confused on how I should add a pull request on github, the sol one
Write a guide on it then! Would be great to have and pass around
Eh not too bad if you know what you are doing.
not that I am aware of.  sites like figment may have some tutorials on metaplex, and https://www.soldev.app/ as well.  that may help you put the pieces together and explain more
i've seen it and starting walking through it, but was hoping there was some more explanatory docs somewhere. thanks a lot for help
reference metaplex github for details.  it would be good to be familiar with it if your doing an NFT, lots of great full stack code in there. https://github.com/metaplex-foundation/metaplex
thanks - so i would create an associated account for the mint or the token? and then i can just store the data in that associated account? do you happen to know of any docs that have more info on this?
vscode has point and click for all git functions ( referred to as **source control** )

https://imgur.com/a/xgov5Qg
gotcha. I would reference how metaplex does their meta data, and you can roll your own if required. it would likely not coexist well with other metaplex apps, but you could use it for your sole purpose and allow others to use it specifically as well.   the concept really is just attaching metadata using associated accounts attached to spl tokens.
just get the transaction by signature and the details should be there üôÇ
i don't need a file associated with my NFT - just some identifiers (as strings). i'm just looking for a way to associate the string identifiers with the NFT as metadata. I don't need all of the other metadata that metaplex includes (and in fact don't have values for some of the required data)
https://discord.com/channels/428295358100013066/517163444747894795/876475181953069168
Well i found this but no answer ü§£ 
Do you know how? <@!489206164270350337> or <@!785084693023424542>
Yeah now i know that googling won't get me far sometimes
Alway try search on docs.solana.com or search on discord first. Always helpful
just search the cookbook, soldev, solana docs site, or github for your key terms, pretty much find what you want.  but we know too üôÇ
you can create your own standard, or way of storing data on chain, people use metaplex so they can list on marketplaces that also use metaplex, just because that's the only one right now
i literally googled 5 different things about commitment and this never showed up 
But thanks
its more than 1 specific use case, its a fairly broad use case that goes along with some growing standard and build on them, actually.  what is your specific use case.
https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
i understand, but it is also very much geared towards one specific use case for NFTs. i'm hoping to find some docs because we would like to use NFTs for other purposes
i can't find any good docs on commitment. Could someone post a link maybe?
metaplex is the standard for NFTs, and with metadata, so it is suggested you follow this.
what is the default commitment?
Can anyone point me to any docs for creating NFTs with metadata that doesn't use metaplex? Everything I can find is either a very basic example of an NFT with no metadata, or a tutorial that's all in on metaplex
ohhh truee
Forgot about that
What is the earliest one? Like right after i send it. If you don't know it right out of your mind i will look it up
Usually depends on the commitment level you wish to have
Hi guys,
How long do i need to wait until i am able to use `getTransaction` on a transaction ?
Could you send me the link
If you're not comfortable with git bash CLI, there is a git gui I believe
Do you recommend any programs to use to run the github? I'm awfully new to this
Most of it is done through the token-list today. https://github.com/solana-labs/token-list/pulls I believe bonfida has a token naming service too though. Not sure the order of operations of which one takes precedence if the token already exists in the token-list though.
Can anyone here help me?
I need like a tutorial of how to name an spl token (coding wise)
Rust constants MUST specify the type, which is `i64`.  The code is the value assigned
thank you
32001 is error 'code'
`pub const JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP: i64 = -32001;`

what is that i64 thing ? is that the error code ?
Soteria has also caught some things with their auto scanner
https://workshop.neodyme.io/
sweet from soteria and neodyme , i think neodyme has done a workshop on the subject
thanks will check it out
best would be subjective, but if you google you will find several now. Many have been part of writing articles, and involved in conferences as well. 
https://www.soldev.app/library/security
These? https://github.com/solana-labs/solana/blob/master/client/src/rpc_custom_error.rs#L9-L22
https://www.w3bs3c.com/101 - see this , there r some solana related audit resources
does anyone know where i can find a list of solana rpc error codes ?
yeah but don't think they are going to be happy about people making sniper bots for their platform
you have a project you wanna audit ? or learning ?
Magic Eden has a discord
Hi there, can anyone direct me to the best security audits for solana nft projects.
hmm alright, doesn't sound like I will get this done any time soon
Reverse engineering the instructions from minified js code will be quite a feat. If you knew the rust program impl, you could do it. I am unsure if magiceden is open source though
trying to learn new things, but I can't seem to figure this out
i only code in python so far sadly, so i don't really know
If you know exactly how the instructions are created in js, that'll work too
Oh boy. That's JS. I was more talking about the rust program code
https://www.magiceden.io/static/js/main.28d74130.chunk.js 
is this way you mean?
I mean the source of the program code
I know the source of all adresses involved in the transaction
It'll be very hard to recreate the transaction without knowing the source
yes
Random question
 I'm writing two two different accounts with two different sets of data:

```    one.serialize(&mut &mut one_account.data.borrow_mut()[..])?;
    two.serialize(&mut &mut two_account.data.borrow_mut()[..])?;
```

however, if I try to write to both the smart contract fails with an Access violation, if I do either of them by their own, it is fine. Anyone ever seent hat?
A magic eden transaction?
https://solscan.io/tx/2nbRmY71r4Lqz89BPnfXE2mC1GgyWEidRqzn67aYgyEmen9gebmwV4hmHMAxcfwzCMFFXfjTLjeU1wLcXTsdLeXJ
What transaction?
<@!489206164270350337> the long string is the encoded solana transaction you can encode in the CLI with solana encode-transaction "xxx" base64.
So I tought that i could create those strings myself holding the right instructions for the transaction i was posting to the request
```json
{"method":"sendTransaction","jsonrpc":"2.0","params":["AVlVzS42lUoArvAgLfhZVR3XnoarjkuoOz3Nt7egzlUFNPJXPXZGU5CsRXSvr/iWR+JX+mq6fQq8sTMwlC8jpAkBAAUMaVCn/rDA9IALOuMmyAJk+wokRcAOAj/WVxPqI6lo6glXtEgapFSY5g6N/CWdztxWxYsE8ZYlSiSZpQDVEyJYOrBiIQUbEx3HXHV467MQ4GHmrY8vX/VxticEmqBCwWhrZAYO/V1EKAnj2EyHNw5f8FxLJ7U8+auuOuh3Ffky+6MUYhg/FHGe6CtpVHU+n6TFv0CM80NW+TexmSiGRIjimUmHRJuUWXzR3WG18C/yZ4E1SJH9DHNcU4kZhpt6Qh1GkFWAWMunL8E6qL4u+a2QduXqmxJ9N5CFaCXl1vKK583l9SzPVmRI4qwK+De0PiXs/2+D4ainww9jPEVIG+VLiQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKn76Q/YZ8k8mBvijzLFX6kvuHkm1xkustJU/kv5TFDOVQUvIan+YE5WnpVvKSIxBvomzgohUgJHqToHoUiSOcj/9NigIYZqcG6PWXhEmSkH2NQ4Ksz3w7RR4qaoqMgSfFcBCwsAAQIDBwgJBAoFBjBDjjbYHx0bXICWmAAAAAAAuM/DqMyBosZAiDrJlnZ4AP1g3zXFPk5ivO4oBMMN7vk=",{"encoding":"base64","preflightCommitment":"recent"}],"id":"7a0ee84d-82d9-414f-b0f3-4a4e64a909d4"}
```
Please post text not a screenshot
I believe your statement is correct. That was what was found on magiceden
I think i go wrong right there lol, I want to send this over a request, the params is a encoded solana transaction, so I was trying to create that myself. Though I think i'm on the wrong track
Could you give some more information? Maybe we can help you
sorry for reposting - but could anyone help me out with/point me towards docs for https://discord.com/channels/428295358100013066/428295358100013069/930913509577990165
Do you mean instructions to CALL a program or you are writing a program
Thank You
I might be stupid, but i can't find out how to make instructions for a solana transaction. Like i have all the adresses needed for the transaction, but i can't seem to figure out how to set that up
its finally working
Thank You so much broo
https://discord.com/channels/428295358100013066/517163444747894795/930912987924021308
done bro
okkk
```solana upgrade``` ?
`sh -c "$(curl -sSfL https://release.solana.com/v1.9.4/install)"`
well, I'm on similar running 1.9.4 and everything works peachy... try upgrading
```user@PROOOO ~ % solana --version
solana-cli 1.8.0 (src:4a8ff62a; feat:1813598585)```
(ps If `solana-test-validator` is failing, `solana logs` and `solana balance` have no cluster to talk to)
`solana --version` produces?
Catalina
no
M1?
macOS
What OS are you on?
here are the responses
```user@PROOOO ~ % solana balance
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 61)```
```user@PROOOO ~ % solana logs
Streaming transaction logs. Confirmed commitment
Error: unable to connect to server```
```user@PROOOO ~ % solana-test-validator
Validator process aborted. The validator log may contain further details```
just a sec
Your balance message indicates that the `solana-test-validator` isn't running. 
1. Open a clean terminal and run `solana-test-validator`
2. Open another clean terminal and run `solana logs`
3. Open another clean terminal then type `solana balance` <- This should show an ungodly amount
nothing
Out of curiosity, run `pgrep solana-test-validator`
here it is
```user@PROOOO ~ % solana balance
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 61)```
but when I enter ```solana adress pubKey``` shows ```Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 61)```
And `solana balance` (no other arguments)?
it provides me the pubKey
when I enter ```solana address```
```
user@PROOOO ~ % solana config get
Config File: /Users/user/.config/solana/cli/config.yml
RPC URL: http://localhost:8899 
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: /Users/user/.config/solana/id.json 
Commitment: confirmed 
```
woof
yes
what does your `solana config get` return?
its showing an infinite no of transaction continously.
By spawning a thread in rust and dropping the handle the thread is just detached but still running. In the following example `client` is also moved to the thread. I don't think that the thread's handle needs be awaited. That doesn't explain why connections are interrupted later on. Am I missing something?

```rust
 let (client, receiver) = PubsubClient::account_subscribe(
            &ws_url,
            &pubkey,
            Some(RpcAccountInfoConfig {
                encoding: None,
                data_slice: None,
                commitment: Some(CommitmentConfig::processed()),
            }),
        )?;

        thread::spawn(move || {
            let _client = client;
            loop {
                match receiver.recv() {
                    Ok(message) => info!("{:?}", message),
                    Err(err) => {
                        error!("Connection broke with {:}", err);
                        break;
                    }
                }
            }
        });
```
Upload it somewhere
Guy who doesn't know what's wrong analyzing the log
nothing different
Or uh... look at the log, like the error message suggests?
```
user@PROOOO ~ % NDEBUG=* solana-test-validator
Validator process aborted. The validator log may contain further details
```
Try `NDEBUG=* solana-test-validator`
Hmm.
here it is
```
user@PROOOO ~ % solana-test-validator
Validator process aborted. The validator log may contain further details
```
Run `solana-test-validator`
how shall I run the test validator
Then open a new terminal and try solana balance
Run the test validator in another terminal.
how to do that üòÖ
Note that the test validator must be kept running in the background or in another terminal.
```
Yeah, this happened to me. Turns out this is because, after a thread is spawned a handle is returned, rust compiler will drop that handle if it is not waited anywhere. Same problem as when you make an async call in JS but don't await it's results. 
We address this in the cookbook https://solanacookbook.com/references/local-development.html#subscribing-to-websocket
```
Hi! any news regarding that matter?
Oh?
solana config set -u m
yes and yes
Is that account in the local cluster? are you running `solana-test-validator` when you try?
<@!753039116861440081>  Did you set Custom RPC URL... try that
in other words if my rpc url is localhost:8899
if you run logs locally there is no way it can found on the explorer ledger?
Someone please guide me in this issue.
let me go through it, I'll let you know üòÑ
Let me know if that works, otherwise the `kind:` may have to be a `enum`
So, you need to create a similar Payload Schema construct that you see in the cookbook with a `u8`for the instruction ID and a `u64` for the value:
```typescript
const payloadSchema = new Map([
    [
        Payload,
        {
            kind: "struct",
            fields: [
                ["id", "u8"],
                ["value", "u64"]
            ]
        }
    ]
]);
```
PayFarmFee(u64)
kudos guys! this cookbook will be my solana bible now lol.
Rather not... if it is the zeroeth entry in the enum, what is the argument type? u64? f64?
Yeah, <@!785084693023424542> and <@!489206164270350337> did the world a favor with the cookbook
can i share it with you in PM ? xD
and thanks for the resource, this looks interesting
hold on
What does your farm thingy instruction enum look like in Rust?
Something similar to: https://solanacookbook.com/guides/serialization.html#serializing-instruction-data
using borsh for example ?
how would that look like ?
Ok, so you have to serialize the data to match what it deserializes and matches on the `FarmInstruction::PayFarmFee`
```
user@PROOOO ~ % solana account ALmTFShRSsQopzHF73tKL7FK6cnHNJEP6TZjouRcuame

Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 61)
```

I am getting this error when I am checking my SOLANA account on my machine (macOS). 

Someone please guide me through this problem.
The code should be in `processor::Processor::process(...)`
processor.rs:
Entrypoint:
hold on
What does the program `proces(...)` code look like? Is it checking for an ordinal instruction number or .... ?
i replaced it with amount, trying different things. however even when adding it i get the same
Don't you need to add `data` to the TransactionInstruction?
what am I doing wrong here ?
thanks
Check out <#763249718339567626> for list of SDK
```
    const FarmFee = 50000;
    let data = Buffer.from(Uint8Array.of(1, new BN(FarmFee).toArray("le", 8)));
    let keys =  [ 
                      { publicKey: FarmPool, isWritable: true, isSigner: false},
                      { publicKey: authFarmId.publicKey, isWritable: true, isSigner: false},
                      { publicKey: payer.publicKey, isWritable: true, isSigner: true},
                      { publicKey: payer.publicKey, isWritable: true, isSigner: false},
                      { publicKey: user_crp_token_account.publicKey, isWritable: false, isSigner: false},
                      { publicKey: reciever.publicKey, isWritable: false, isSigner: false},
                      { publicKey: token_program_id, isWritable: false, isSigner: false },
                      { publicKey: programId},
                ] ;
    let instruction = new web3.TransactionInstruction({
      programId: programId,
      keys: keys,
      amount: FarmFee
    }
    );
    let transaction = new web3.Transaction(programId, instruction, [payer]);
    let signature = await web3.sendAndConfirmTransaction(connection, transaction, [payer]);
```
I'm trying to run this transaction, however I get "No Instruction Provided"
hello again guys
what to use instead of web3.js?
is there a way i can connect to a solana program from a mobile app?
hey new to solana here
Right, but the error may be coming from other programs if your program `invokes` them (CPI). In which case you may be able to track them down if they are OS
is it possible to initiate transactions with a future nonce which get "stored" to some extent until previous nonced transactions go through like on an eth chain?

i.e. to asynchronously process transactions that need to actually happen sequentially...

I'm thinking right now have a pool of nonces and each transaction advances the next nonce account int he pool instead of its own, but those wouldn't be held by verifiers
oh I see, I do not have any of this files, so I guess that was imported when I developed with Anchor, thanks!
If the error message indicates a Custom Error then the enum of errors is  commonly in `error.rs` or `errors.rs` in the program source folder
HI guys, I am bit new here in Solana, I want to know if there¬¥s a file or something describing the error codes from the transactions. I am not sure it this is something made by Anchor or by solana itself, thanks in advance!
Lol


///////////////////////////////////////////////////////////////////////////////////////////////

Why do I get this error when connecting a wallet again after doing
 `wallet.disconnect()` (`wallet = useWallet()` btw) ?
Error: 
```ts
WalletNotSelectedError
    at WalletProvider.tsx:146
    at Generator.next (<anonymous>)
    at ConnectionProvider.tsx:19
    at new Promise (<anonymous>)
    at push../node_modules/@solana/wallet-adapter-react/lib/WalletProvider.js.__awaiter (ConnectionProvider.tsx:19)
    at Object.connect (WalletProvider.tsx:144)
    at connectWallet (Home.tsx:87)
    at onClick (Home.tsx:180)
    at HTMLUnknownElement.callCallback (react-dom.development.js:3945)
    at Object.invokeGuardedCallbackDev (react-dom.development.js:3994)
    at invokeGuardedCallback (react-dom.development.js:4056)
    at invokeGuardedCallbackAndCatchFirstError (react-dom.development.js:4070)
    at executeDispatch (react-dom.development.js:8243)
    at processDispatchQueueItemsInOrder (react-dom.development.js:8275)
    at processDispatchQueue (react-dom.development.js:8288)
    at dispatchEventsForPlugins (react-dom.development.js:8299)
    at react-dom.development.js:8508
    at batchedEventUpdates$1 (react-dom.development.js:22396)
    at batchedEventUpdates (react-dom.development.js:3745)
    at dispatchEventForPluginEventSystem (react-dom.development.js:8507)
    at attemptToDispatchEvent (react-dom.development.js:6005)
    at dispatchEvent (react-dom.development.js:5924)
    at unstable_runWithPriority (scheduler.development.js:468)
    at runWithPriority$1 (react-dom.development.js:11276)
    at discreteUpdates$1 (react-dom.development.js:22413)
    at discreteUpdates (react-dom.development.js:3756)
    at dispatchDiscreteEvent (react-dom.development.js:5889)
console.<computed> @ index.js:1
_onError @ WalletProvider.tsx:38
(anonymous) @ WalletProvider.tsx:137
(anonymous) @ WalletProvider.tsx:146
(anonymous) @ ConnectionProvider.tsx:19
push../node_modules/@solana/wallet-adapter-react/lib/WalletProvider.js.__awaiter @ ConnectionProvider.tsx:19
(anonymous) @ WalletProvider.tsx:144
connectWallet @ Home.tsx:87
onClick @ Home.tsx:180
callCallback @ react-dom.development.js:3945
invokeGuardedCallbackDev @ react-dom.development.js:3994
invokeGuardedCallback @ react-dom.development.js:4056
invokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:4070
executeDispatch @ react-dom.development.js:8243
processDispatchQueueItemsInOrder @ react-dom.development.js:8275
processDispatchQueue @ react-dom.development.js:8288
dispatchEventsForPlugins @ react-dom.development.js:8299
(anonymous) @ react-dom.development.js:8508
batchedEventUpdates$1 @ react-dom.development.js:22396
batchedEventUpdates @ react-dom.development.js:3745
dispatchEventForPluginEventSystem @ react-dom.development.js:8507
attemptToDispatchEvent @ react-dom.development.js:6005
dispatchEvent @ react-dom.development.js:5924
unstable_runWithPriority @ scheduler.development.js:468
runWithPriority$1 @ react-dom.development.js:11276
discreteUpdates$1 @ react-dom.development.js:22413
discreteUpdates @ react-dom.development.js:3756
dispatchDiscreteEvent @ react-dom.development.js:5889
```
can Ok() effectively be treated as a return statement?
Hi all, I have a question regarding Rust.
is there any way to get the addres which program id is the token metadata program related with an NFT?. e.g: This NFT A4JYj4n4WNtMsR8JggRr3X4trMU1hCMzJFkX85wPPYW7 has this address related 9mrN1fSp23BE5JMhx4DVnVRMAVt51CuZdvcBNDP1KUUT and all the tx that happened on that addres are all related with this specific NFT, no other. Mainly list and selling tx from ME
the error has to do with a number, and its capacity to store or hold a value.  this might be happening when your converting or using numbers in your client like BN or BigInt, and some conversion went poorly/incorrectly. 

candy machine is not support directly in the dev-support channel on Solana, your generally better off in metaplex discord.  
https://discord.gg/agQkEJ3G
no idea how solana-cli installation works, the folder solana only 500mb, but i lost 5GB storage after installation.

anyone know how to use proper uninstallation for solana-cli?
For those creating nft onto Arweave how are you converting sol to ar?
isn't this supposed to be in contract/program? with block number as timestamp?
i can't even find the folder on my mac.
nvm: it's hidden
I deleted the folder it installed into and removed the reference in $PATH
hello how do I uninstall solana-cli ?? i want to install the newer version but want to delete the previous first
Does anyone know how metaplex can have start/end times for auctions if we can't get real world time on the blockchain?
how tight is the compute budget on RPC nodes for a getProgramAccounts query to query across a large number of program accounts? My project has up to a theoretical maximum of 4 million accounts to query across, and each account will be the same size, so i'm wondering how possible this is with the RPC nodes, or if I will need to have my own cache. In theory, I could probably modulate the size of the accounts to accomadate how I want to query them if that helps to optimize a query though, lol
Hello there,
Im testing candy-machine-mint library, but when I connect my wallet I get "Unhandled Rejection (Error): Number can only safely store up to 53 bits".
Any clue?
hi, 
```rust
pub fn mint_to(
    token_program_id: &Pubkey, 
    mint_pubkey: &Pubkey, 
    account_pubkey: &Pubkey, 
    owner_pubkey: &Pubkey, 
    signer_pubkeys: &[&Pubkey], 
    amount: u64
) -> Result<Instruction, ProgramError>
``` so i have set the mint authority to the program for token, and when I'm calling this mint instruction do I set the signer_pubkeys and owner pubkey as my program id pubkey?
generally means the statement {assembly} your using is not supported, or your implementation is not setup correctly or being carried out incorrectly, what are you doing here.. ?
just read above.  you might.. have better luck in this channel for that specifically:
<#778656605453156376>
Does anyone know what ``evm assembly not supported on target substrate means``?
Is there a way to programmatically swap sol and ar?
Hey! I am trying to use Solang to compile my Solidity smart contract to a Solana program. It is for an ERC721 token (on the eth network).

Is there a import for an ERC721 token I can do for Solana?
*There is the @openzeppelin/contracts/token/ERC721/ERC721.sol for ETH*
Hi is it possible to create an ICO with Solana aswell as integrate a sol-token to a c# application
```js
        const connection = new Connection(clusterApiUrl('mainnet-beta'), "confirmed");
```
In the clusterApiUrl, is the mainnet-beta the mainnet that we trade on? Is there any reason it's beta?
Hi, how are you? I have a query. I already connect to the devnet cluster, but when I put the following command "solana-validator", it shows me the following error.
error: The --identity <KEYPAIR> argument is required
Thank you
ah you mean those.
https://solanacookbook.com/references/programs.html#how-to-do-cross-program-invocation
https://docs.solana.com/developing/programming-model/calling-between-programs#cross-program-invocations
üßê
what is CPI?
If you do CPI within the program, yes
so it means if i add mint intruction inside a instruction in my program, it should work fine. ye?
Here's signing and verifying with the wallet-adapter: https://github.com/solana-labs/wallet-adapter/blob/master/FAQ.md#how-can-i-sign-and-verify-messages
Not specifically with web3, but there should be plenty on the internet about the jwt flow
is there any docs about this? I'm lost
If the program has the mint authority, then it should be able to sign for the mint transaction
Have the user sign a challenge on the front end and verify in the backend. Normal jwt flow
https://github.com/solana-labs/solana-program-library/blob/f7286134bbb3e313563190ef9998fad333390d53/binary-option/program/src/spl_utils.rs#L44
sorry I think you forgot the link
Here's an example of `initialize_mint` with CPI
Things would make more sense to me, if this is how it works..
üßê
HI, so lets say I gave mint authority to my program ID, does the pda that it generates also has the same authority to sign in mint transaction for that token ?
(with web tech)
how would I do that?
Hi, I want to integrate a Solana login into an application
so on this instruction, instead of passing this much, I should be passing  only mint_account_info and rent_account_info:
thanks heaps.
We'll update that. Thanks for the feedback üëç
oh the cook book got me confused.. it wasn't in order.
The source of the program
yes cook book
I believe that is correct
Is there a document to read that will tell us what accounts to send to an instruction?
üßê
so I need to create pda account and then only i can use the pda to sign?
Ok Thanks
So you generate then create with the program
Yeah, PDA stands for program derived address
Just getTransaction with a finalized commitment?
so generate pda isnt actually creating a account? its just giving me an id ?
Yes I want to be double sure
This txn happened in real
You should probably just verify the transaction is what you expect?
or anything else would be your suggestion
Now I want to put like

if(signature && blocktime){
main_function;
}
Create actually creates the account
If someone bypasses the code and tries to call the function

if(signature){
main_function
}
How is the signature not the right one?
HI, I was wondering whats the difference between generate a pda and create a pda is cookbook?
Whats the best property to match a transaction

BlockTime, Blockhash or anything else

I am executing a transaction and receiving its signature
Now if the signature exists I move forward

I want to check that some random signature is not fed to me...........any idea
You can do that after I believe
If I need to be able to use an NFT later in a game/metaverse or be able to rent it, do I need to code it before it is minted or can this be done after?
Cookbook is a great resource, look through it
<@489206164270350337> i am trying from last 20 days ...... There is no support mail as well
https://solanacookbook.com/references/basic-transactions.html#calculating-transaction-cost
And hows that
Okay
You may need to calculate fees
To complete
Or fees should be there
Okay so shall i put the transfer amount equal to balance
On the page itself
fetch balance(s) -> send -> close account
https://solanacookbook.com/references/accounts.html#get-sol-balance
Is their a direct way or do I have to fetch balance first
<@489206164270350337> can you please help where I can raise my request ?
https://solanacookbook.com/references/basic-transactions.html#sending-sol
Like I wanna close the account on task completion
What is the way to transfer all money from 1 account using Systemtransfer web3 api
We don't support the ecosystem page here
ü•≤
yup
ohh, that's smart. I'm going to try that.
The issue is I really can't help debug without a stacktrace at least.
You can download and use the iife or esm directly.
Because your not in the mood to setup a VM? üôÇ
huh, this might be new for me! From the node_modules libs, you can specify whether you want the cjs, esm, or the iife? 

I don't think that's the problem though, my `metro.config.js` is set to handle cjs fine (this avoids the `superstruct` problem that other people have run into).
Hello.... Raj here from Team NodeBunch. We have applied for listing NodeBunch in  solana eco-system around 20 days ago here : https://solana.com/ecosystem but there is no update regarding that .Our project is still not showing on solana eco-system page. i am not able to re-submit my project again.can you please help me ?
Either .esm or .iife
https://unpkg.com/browse/@solana/web3.js@1.31.0/lib/
Can you try including an esm file?
Hmm.
Ah you are using react native.
right, but React Native isn't browser-based, so the React example isn't portable (without more config!).
There is a starter react example in the solana-wallet repo.
why is nothing happening
Does anybody have a functional Expo (or at least React Native) app using the web3 package? I've polyfilled `URL` and `Crypto`, have reconfigured `metro.config.js` to accept `.cjs` files, but it still doesn't work. As soon as I include a 

```javascript
const conn = new sol.Connection("https://api.devnet.solana.com");
```

My code's logic stops working, with no error messages. Well, the UI still renders, but it's frozen and `useEffects` don't run. 

I've even tried replacing `Connection` in node_modules to try to pinpoint what the problem is, to no avail. 

Any tips, ideas, or examples appreciated, I'm close to pulling my hair out haha.
<:PB_king_love:744998231238508584>
This is for generic program but lot's of it will hold water for you: https://solanacookbook.com/guides/serialization.html
And I imagine you can find the candymachine layout somewhere in their code
I want to create an NFT on solana. How can I configurate the metadata for the NFT`?
okk thanks, will try getting into it once i finish studying later today <:prayge:827970344865890324>
Yes.
hmm so knowing the layout is mandatory ?
Then I would suggest looking at the candy machine data struct:
https://github.com/metaplex-foundation/metaplex-program-library/blob/c340ba27560ee101f0f688ee47baa80be006f380/nft-candy-machine/program/src/lib.rs#L753-L824
Once you know the layout, TS/JS or Rust or Python can handle as there are Borsh libs for all
would be interested in project's price, items number etc
Thank you bro i will check it out
What information do you want from the candy machine?
That gives you the raw account data.
You can use something like https://gitpod.io
https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo
trying this metod right here
and yeah i am not in mood of setting up virtual machine ü•±
üò•  you don't know the terror my amd graphics display driver is incompatible with wsl 2 and i was not even able to reduce brightness ü•¥
You pass in Pubkeys and the account info is provided in the &[AccountInfo] argument in entrypoint and the short answer is Yes
Which kind of metadata?
I would start by putting Solana in WSL2
this should return a candymachine's metadata, either in binary/json form
What are you trying to extract exactly?
You should be able to do that with python.
oh okk thanks, do you know by any chance if it can be done directly with python or need to be done externally
But you need to pass in every single account you interact with.
I think so, but since this is an spl-program some of that might be abstracted away.
You will have to look at the borsh struct.

so on this Transaction, I am not only sending `accounts = [mint_account_meta, rent_account_meta]` but instead `accounts = [token_meta, mint_meta, authority_meta, freeze_meta, rent_meta]`?

hey guys, i'm trying to pull data from a candymachine using the api, but getting this kind of base64, ```M62xcRnxbb3vMQ/l9GD9bcxyrpDFS3F79ul4SPLODOGJeT97TP3DXO8xD+X0YP1tzHKukMVLcXv26XhI8s4M4Yl5P3tM/cNcALzhxxjwD3RHUKnTCfxiCsIGLASqwmTEGPti1GD5Eqr/BgAAAERpS0t2OYCy5g4AAAAArwgAAAAAAAABgce/YQAAAACaAgAAAAAAAP0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==```
can someone give me a hint on how to decode it?
Yes, that is correct.
*can't find
welcome bro but now it can't public key
Danke Schoen
https://openquest.xyz/quest/solana-calculator
sure
it might help me
do you mind sharing the link of the questbook?
ohh i c i am following questbook there they said to change hence i did i will revert back thanks
unless you absolutely want to use a local cluster
I suggest you connect to devnet
can i know how to solve this error not getting any answers in internet
Hey Please When I create an instruction, do I need to pass in the account info of every single account whose pubkey is used?
See: https://github.com/solana-labs/wallet-adapter/blob/master/FAQ.md#how-can-i-sign-and-verify-messages
Then when you want to login, you can ask the user to sign a timestamped message and then check if it matches the public key.
Yes, you should store the public key in a database, or on chain.
?????????????
Has anyone had such an error?
No i am running into compute budget limit, that's why i need multiple instructions. Thanks anyway.
Any help??
While this is around serialization it does frame the flow if you look at the program parse: https://solanacookbook.com/guides/serialization.html
Hi there i hope youre doing well. I need help about creating pool on solana network, i mean how to do it is the main question.. In addition if i make my token inactive is this possible to activate it again??
Help ??
There needs to be a run on tutorials
Thank you.
So many follow the layout like this:
1. Entry point passes to processor
2. Processor resolves which Instruction is encoded in the `data` received in entrypoint. This is typically done through a `deserialize/match`
3. Processor invokes appropriate function to satisfy Instruction
4. Function runs
im trying to unerstand the dynamic flow of files in solana... is it entrypoint >>> processor >>> instructions?
hey guys
i think if its already connected, it doesnt make sense doing a connection again? you have the solana object created so you can go from there
Hello, I have a problem with phantom wallet. I try to call a function when the wallet is connected, but nothing happens.
await provider.connect()
            provider.on('connect', () => console.log('connected'))
ah, my problem was I should have been doing `use solana_sdk::signature::Signer` instead, thx guys
this is gonna work
wow thank you
The cookbook has lots of examples on the interchange as well as deserializing the account in your client
ok thank you
So, borsh is more efficient than serde when it comes to compute units in your program
own the program
Do you own the program and have control over what type to use, or are you calling some other program?
Here are examples using borsh: https://solanacookbook.com/guides/serialization.html
trying to figure out offsets
learning about little endian
using the buffer utils
on web3
yeah
Sure... what specifics do you have?
Does the program expect a specific serialized form for instruction data? Like borsh?
https://github.com/solana-labs/solana/blob/master/sdk/src/signer/keypair.rs#L316
weird, if I try to call `.pubkey()` I get:
```
no method named `pubkey` found for struct `solana_sdk::signature::Keypair` in the current scope
items from traits can only be used if the trait is in scope```
so then I try to `use solana_sdk::signer::keypair::Signer` and I get:
```trait `Signer` is private```
Hey guys can you help me with my doubt. Can we set up a minting website where we upload an image and turn it into nft ?
anyone online right now that knows a good resource or file to look at for encoding the layout for custom instructions?
You could do something hacky like creating a 'super' or 'compound' instruction but I don't know your use case if this is valid
Ok thanks.
No
it is a trait method so it does not need a `pub` modifier
`keypair.pubkey()` works fine for me.
how are we supposed to get the public key of a keypair with the Rust SDK? That's a really common thing in web3.js, but the pubkey method is private in solana_sdk https://docs.rs/solana-sdk/1.9.4/src/solana_sdk/signer/keypair.rs.html#70-72
Is there some way to keep state between instructions within a transaction other than using an account?
Solana Programs design principle is deterministic outcomes. See constraint implications here: https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions
How to get random number at solana smart contract ?
Hello, im following the phantom walled dev docs, trying to integrate the wallet as a login method. The thing is, am i supose to store the public key on a BD after wallet connection and verify it on any request im doing (for any kind of operation like CRUD)? 

I was trying to build a login system similar to opensea.
üëçüëç
So signMessage and signTransaction won't match directly.
It doesn't include the blockhash, feepayer or the account infos.
Got it üëç
The wire format is slightly different from the raw transaction message.
And can u please tell me why signature in the transaction is different from signed_message? 
As far as i know transaction is just a wrapper for a message and bunch of signatures 
```ts
        const message = Message.from(Buffer.from(data.base64Message, 'base64'))

        const sign_tx = await  this.walletInformation.getWalletAdapter().signTransaction(Transaction.populate(message));
        const  signed_ms = await  this.walletInformation.getWalletAdapter().signMessage((message.serialize()));

        console.log(sign_tx)
        console.log(signed_ms
)```
In which case this is good.
But that might have security concerns if you are not checking the tx on the backend.
Hmm it's easiest to return the full transaction usually.
How should i return the transaction signature back to server?
Is it ok to return this?
```transaction.Signature[0]```
I will
Thanks ‚ù§Ô∏è
Let me know if that fails.
Always use `Transaction.from(...)`, **set the recentBlockhash and feePayer**, then do `wallet.signTransaction(tx)`
For example to link a .sol address to a public key.
That is for signing arbitrary data for verifying a user controls a private key.
You really should not use signMessage
you are right, i should make sure they matches 
but in my case the whole thing happens within 2 3 seconds and i  have try these like +50 times 
if blockhash was the problem , probably it had to succeed at least once!

most interesting fact is the code below:

```ts
        const message = Message.from(Buffer.from(data.base64Message, 'base64'))

        const sign_tx = await  this.walletInformation.getWalletAdapter().signTransaction(Transaction.populate(message));
        const  signed_ms = await  this.walletInformation.getWalletAdapter().signMessage((message.serialize()));

        console.log(sign_tx)
        console.log(signed_ms
)
```

the signature in ```sign_tx.signatures``` doesn't match  ```signed_ms```
Or have the client send you the full signed message instead of just the signature.
Are you matching blockhashes on both the client and server?
Scenario 2:
1-Step 1 is as  step 1 in Scenario 1 
2-client uses 
```ts
const tx = Transaction.populate(Message.from(binmessage))
``` 
to build a transaction 
3-client uses phantom api
```ts
const tx_signed = WalletAdapter.signTransaction(tx)
```
 to sign the transaction created in step 2 (which unlike step 3 in Scenario 1 , it shows all the instruction and everything is good)
4-client sends ```signature``` from the transaction he signs back to the server, code example below :
```ts
      const signature =  tx_signed.signatures[0];
      SendToServer(signature)
```
5-server populates the transaction from step1, code example :
```csharp
var tx =  Transaction.Populate(Message.Deserialize(binmessage));
```
6-server adds clients signature to the transaction and sign the transaction him self, code example:
```csharp
   tx.AddSignature(   new PublicKey(client.publickey) ,signature);
   tx.Sign(Server.Account);
```
7- server tries to execute the transaction bu faces ```Transaction signature verification failure```
Hello everyone
I am trying to make a transaction  and  send it to the client (browser in this case). then after client has signed the transaction he will send it back to the server, then server sign it again and execute the transaction
the technology used in server side is Solnet [https://github.com/bmresearch/Solnet]
the technologies used in client are js,ts(web3js) and wallet the provider is Phantom wallet
I have investigate several ways to to this but with no complete success.
I will try to explain things i have tried and humbly ask for a solution
Scenario 1 :
1-I create the ```Transaction``` on server then use ```CompileMessage``` to get the binary of the message and send it to the client. code example is as below :
```csharp
    var tbuilder1 = new TransactionBuilder()
                .SetRecentBlockHash((await rpcClient.GetRecentBlockHashAsync()).Result.Value.Blockhash)
                .SetFeePayer(client.Account.PublicKey)
                .AddInstruction(MemoProgram.NewMemo(server.Account, "hello world"));
   var binmessage  = tbuilder1.CompileMessage();
```
2-client use ```Message.Deserilize```  to convert the binary from previous  step to a ```Message```
3-client uses phantom api  ```WalletAdapter.signMessage(Message)``` to sign the message and send the result signature back to the server (return data of  ```WalletAdapter.signMessage(Message)``` is the client signature of the message)
4-server populates a transaction from the````binmessage``` in step1 and add client,server signatures to it as follow :
```csharp
var tx =  Transaction.Populate(Message.Deserialize(binmessage), new List<byte[]>() {clientsignature , Server.Account.sign(binmessage)}   ;
```
5-then the transaction is executed by server and everything is OK .
```
the problem with Scenario 1 is that at step number 3, end user will see Phantom wallet is showing a raw binary string to sign (instead of a transaction and showing instruction inside)
```
Needs to be a way to poll for transactions with the SDK
Program ID is, indeed, a pubkey
Accounts with `executable` false have an id (pubkey) but it is not semantically a program ID
oh gotcha tysm
you can generate a new one keypair and pass it into deploy program command
I see thank you so much. One last question, if this method is viable or not? is it ok to create new pda for every different wallet that uses  my dapp and that interacts with the program?
you can take a look here https://github.com/solana-labs/solana/blob/master/sdk/program/src/pubkey.rs#L531
the func is used to calculate PDA.
if you look into it, you will find that a program can be calculated  a lot of PDA.
and when I deploy my program.. how can i create different program Id than the previous one?
Hi, how many pda can a program  have?
yes i am, thanks.
```
curl https://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getAccountInfo",
    "params": [
      "4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",
      {
        "encoding": "jsonParsed"
      }
    ]
  }
'
```
it works for me, not sure what network you are using, I found there is a same account on devnet and not a token.
just guessing you query by a wrong network
i use connection.getParsedAccountInfo, the result is the same, RAY token account data field is 0, seem like RAY is not a normal spl-token?
you can check <#763249718339567626>
not sure which commend you used, you can use https://solanacookbook.com/references/token.html#get-token-mint to try again.
since everything must be deterministic  random numbers become challening on a distributed ledger
Solving random numbers?
Any video, course or bootcamp?
if you are totally new, I recommend you to read this https://docs.solana.com/developing/programming-model/overview
for staking app you can refer to https://github.com/step-finance/step-staking
for gambling I think you need to solve random number first.
Hello, I am getting an error saying that I am not providing an argument for a smart contract when i definetly am.```{
        accounts: {
          whoMadeTheOffer: myAccount.publicKey,
          tokenAccountFromWhoMadeTheOffer: offerMakerCowTokenAccount,
          escrowedTokensOfOfferMaker: escrowedTokensOfOfferMaker,
          kindOfTokenOffered: cowMint.publicKey,
          tokenProgram: spl.TOKEN_PROGRAM_ID,
          systemProgram: anchor.web3.SystemProgram.programId,
          rent: anchor.web3.SYSVAR_RENT_PUBKEY
        },
        signers: [myAccount]
      }
```and its saying im not providing "whoMadeTheOffer"
hi, why RAY token mint account decode failed 
4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R
https://explorer.solana.com/address/4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R

this token decode success:
https://explorer.solana.com/address/ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx
 decode_account mint --address ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx
Mint: Mint { mint_authority: Some(GgYtnDJMHQG4gpVzy2KHukSvHfFJcs1jLXASsBCQE83P), supply: 3600000000000000000, decimals: 8, is_initialized: true, freeze_authority: None }
https://docs.solana.com/developing/clients/jsonrpc-api#getslot
and FYI
not every slot will produce blocks.
and if it produces, it will only generate 1 block,
so slot will always >= block height
max is deprecated, you can check https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
and if you set `finalized` and confirmed it, you don't need to getTransaction again.
for NFT https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
Anyone know how i can go about a staking and gambling app on Solana please?
Hey guys, i am coming from the BSC ecosystem and i have built alot of DApplications and Smart Contract but i am new on Solana
How do i get the current slot?
I need to get the slot
https://docs.solana.com/developing/clients/jsonrpc-api#getblock
you should use `slot` to fetch block.
If I need to be able to use an NFT later in a game/metaverse or be able to rent it, do I need to code it before it is minted or can this be done after?
you can use https://solanacookbook.com/references/token.html#get-token-account-by-owner
What is the issue when using the web3 SDK
failed to get confirmed block: Invalid params: invalid type: string "F85vkZx2Kd2nywbCGi1DZ92tZS8hjfzismmB4ofhPkEd", expected u64.
get confirmed blocks requires a u64 instead of an address
import { NATIVE_MINT} from '<@!569580494283603980>na/spl-token'
hi, how to get Sol mint key(native token) in web3?
I have some question about program id in solana.
If I understand right, Account which `executable` field is `true` is program. This program's id is account's address(pubKey). (Is it right?)

So my question is Account which `executable` field is `false` doesn't have a program id?
anyone able to answer a quick question about candy machine v2?
????
I need a resource about how can create
Hi there i hope you are doing well, i have a question how can i create pool on solana
My guess is your keypair path is invalid: `Desktop/Solana/stake-account3.json`
Also if your keypair is in fact a stake account, that'll be the next problem as the fee payer for transactions must be a system account
After I run `solana config get`, it returns
```
Config File: /Users/xxx/.config/solana/cli/config.yml
RPC URL: https://api.devnet.solana.com 
WebSocket URL: wss://api.devnet.solana.com/ (computed)
Keypair Path: Desktop/Solana/stake-account3.json 
Commitment: confirmed 
```
When I run `spl-token create-token` and it gives error `error: No such file or directory (os error 2)`, what's wrong with it?
Thank you Revick may great things come to you and yours
Submit a pull request and share your improvements for them to review and merge
How do I contribute to someone else project without their permission ?
https://docs.metaplex.com/
https://solanacookbook.com/references/nfts.html#create-an-nft
Hi guys,
i'm new to the nft, can anyone help me to learn
ok thanks its working now what if I'm running the validator on another machine in my local network I can't connect to it something like "http://192.168.128.77:8899" is not working
you can choose the network in sollet.io, just choose the endpoint in your localhost (the default will be localhost:8899 if you don't do any changes)
I want to test some local programs
Hello everyone I've just started a local solana-test-validator how can I connect to it using sollet.io wallet?
not sure what data you need, I assume you want to query balance or something state changes. for these data, they will be stored in accounts. if you want to query them, you fetch accounts and parse it.
you can take a look at https://solanacookbook.com/guides/get-program-accounts.html#facts
does anyone have a resource they can recommend on querying on chain and off chain data?
although frankly, I could probably modulate the size of the accounts to accomadate how I want to query them if that helps the RPC nodes
my project will have a large number of accounts to query across (theoretical maximum of 4 million) and each account will be the same size, wondering how possible this is with RPC nodes, or if I will need to have my own cache
for the getProgramAccounts query
how tight is the compute budget on RPC nodes to query across a large number of accounts?
great! thank you. let me try this
thank you
or do I have to explicit;y set mint authority for the each pda that it generates for different wallet pubkeys?
i thought if you had the private key you could transfer out all the rent but per the log above that didnt work.  Thanks again for the info!
umm what if i need to mint some token to some wallet that user are connected with through program? does giving mint authority to program, would give my pda authority to sign in those transaction too?
<@!788215642070581289> thanks for the info - ive read that accounts page and did not pick up on all those steps being required - seems quite a task
yes, `[feePayer.publicKey.toBuffer()]` is the seed, the seed changes, the pda changes too.
that is a sad thing. you need create a custom program to close it
https://solanacookbook.com/references/accounts.html#close-accounts
your step will be
1. deploy a program and setup a close instruction
2. assign your account to your custom program
3. run it and you can retrieve your origin account
this cookbook is literally gold mine
```js
let [pda, bump] = await PublicKey.findProgramAddress([feePayer.publicKey.toBuffer()], programId);
```
in this code, does it always create new pda, if the feepayer is different?
Why am i getting this error when deploying my contract to the devnet? ```Error: error sending request for url (https://api.devnet.solana.com/): connection error: Connection reset by peer (os error 104)```
https://solanacookbook.com/references/programs.html#how-to-do-cross-program-invocation
you can use `getAccountInfo` to check is the ATA's owner token program or not
what is the best way to close a program data account?  I thought to transfer all remaining sol (so that with no rent the system closes it) but get the following error:
 ``` logs: [
    'Program 11111111111111111111111111111111 invoke [1]',
    'Transfer: `from` must not carry data',
    'Program 11111111111111111111111111111111 failed: invalid program argument'
  ]```
Is there a way to call the token program from another custom program? If so what is the program id?
I find the associated account is in use when create when new transaction for it.
```
  const ix = new TransactionInstruction({
    keys,
    programId: ASSOCIATED_TOKEN_PROGRAM_PUBLIC_KEY,
    data: Buffer.from([]),
  });
```
Is there a way to check the account is in use, so we dont need create it again?
Depends on security requirements
Your custom program isn't going to be magically decoded
They're only parsed for some programs. Like token program
is this growing pains or some explanation is available?
meaning
ü§´
the response is base64
the data is not parsed
this returns same as `getProgramAccounts`
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedProgramAccounts
the solana web3 docs is wrong
Soo would you happen to know how I can increase the bit capacity for the Token Program? Do I gotta edit some source code or something? Lol
Yeah correct million < billion < trillion < quadrillion < shit ton
Okay so I was googling the limits but you had it all along here lmaoo yeah seems I was working with 64 bits
Fun stuff
18.4 quintillion is like the max-max tho lol
Some room to spare.  what comes after trillion?  quadrillion?
18,446,744,073,709,551,615
               69,000,000,000,000
64-bit unsigned integer may contain numbers from 0 to 18446744073709551615
but basically: U32 gets you to 4.29 billion as we saw above and U64 gets you to ....
that stuff you might want to be sure to have down pat
what are the options for setting aside bits even
you got the bits set aside for it
how big is this number
So yeah.  You gotta kinda know-know about how much space you need
https://borsh.io/
Yep
Borsh like the Russian soup?
But encode / serialize looks weird and
Decode / deserialize looks nothing like the reciprocal
but they have a shape
Solana also has "encode" and "decode" into serialized info... BORSH
Yeah I probably should of factored that in when calculating a total supply üòÖ
can use struct to do stuff
basically you got a mixed bag of vars? it a struct, goes in curly braces
types, structs, enums
So, good luck, maybe read about C/C++ basics of types
Damn can‚Äôt escape rent, even on the blockchain ü§£üòÇ
Oh yeah dude well Solana is pro-mode for bytecode
Yeah homie you gotta pay rent!  This ain't no free northern european royalty takes care of the people province yo!  this is america :p yeah you gotta pay rent
Lesson learned lmao
Learning as well, read through docs and followed but couldn‚Äôt find much on error handling or my case in particular
So yeah, use 64 bit numbers for counting beyond 4.29 billion...
Rent expiration? Lol and looks like we‚Äôre both in this together
Um, there is probably some un-reusable stuff in the act of creation.  I am still learning Solana basics tho.
Uh I think that is expected behavior yes,
Another account for this particular token to clarify
Transfer all the sol out of it and let the rent expiration eat it alive?  don't know what to tell ya\
Is that an expected behavior?
Oh I also can‚Äôt make another account
Oh yeah, that part ought to be clear ^
Okay
I created 1 token and created a single account to hold it for now
Unless you used 4 token accounts?-
It makes sense to me lmaooo if not enough bits the computer can‚Äôt fathom the number üòÇüôÉ
üòÑ
That also makes little to no sense but could be a symptom of the issue.
That‚Äôs what I figured, I got approximately 16 billion
<@!828505517118849064> An unsigned integer is a 32-bit datum that encodes a nonnegative integer in the range [0 to 4294967295].
To me that looks like not enough digits.

69 Trillion = 69,000,000,000,000
U32 Max =                 4,294,967,295

Probably need to use 64-bit integers
<@!828505517118849064> uh, it sounds like partial execution, but that would occupy that address now w/ new data and yeah... not sure what the "reset" button looks like in that case.  also, what was the number of bits allocated to your supply count = supply size ?  if you used a 32 bit number, did you have enough units to count to 69 trillion?
wym
<@!419097617465868289> candy shop?
we trying to buy an nft from ME
Hello, happy to be apart of the community!! üòÅüòÅüòÅ have questions regarding Solana Token Program Library CLI.

1. I get a RPC response error -32002 Transaction simulation failed message when trying to mint new tokens. I tried to mint 69 trillion and only a few billion was actually minted so I ran the command again in order to get the target amount.

2. I had though I reached either a total supply limit or account limit. Thinking it was an account limit, I tried to make another account using   spl-token create-account <<token address>>  but got a ‚Äúaccount already exists error‚Äù which was the original account I generated tied to the token address. Maybe I assume wrong that I could have had made multiple accounts for a token manually via the CLI
Does solana handle uint overflow yet or does the program accommodate it yet
<@!465429267602341901> what are you trying to do
no but here is the metaplex one for NFT related stuff:
https://discord.gg/agQkEJ3G
do you have the discord?
i would reach out to magic eden for the proper format.
btw the 10th acc is added later on the code
isn't that all I need?
tx = TransactionInstruction(
    program_id=magic_eden_program,
    data=bytearray.fromhex("438e36d81f1d1b5c"),
    keys=[
        AccountMeta(PublicKey(wallet.public_key), is_writable=True, is_signer=True),
        AccountMeta(PublicKey("4bainRuttchJAaCrHFRBXyGQwqSwz4ufXpc7N8Hv8h4X"), is_writable=True, is_signer=False),
        AccountMeta(PublicKey(previous_owner), is_writable=True, is_signer=False),
        AccountMeta(PublicKey(escrow), is_writable=False, is_signer=False),
        AccountMeta(me_fee_collector1, is_writable=False, is_signer=False),
        AccountMeta(sp.SYS_PROGRAM_ID, is_writable=False, is_signer=False),
        AccountMeta(TOKEN_PROGRAM_ID, is_writable=False, is_signer=False),
        AccountMeta(me_fee_collector2, is_writable=True, is_signer=False),
        AccountMeta(PublicKey(mint_auth), is_writable=False, is_signer=False)
    ]
)
and this is what I've coded:
this the whole instruction

your reverse engineering something?  you may have a rather difficult time in the current state. thats just the data, may not be the entire instructions, so that alone would not likely get you all the way there, could just be the data portion itself of the instruction.  better luck in the source code or asking how to properly do it in an associated discord. otherwise the challenge is real.
so if this is the instruction data, do I need to include all the bytes, or it's not necessary?
Hi, how would i go about validating if a Solana address is proper using smth like python?
ok I think I know what can be causing it then, when I define the value of the instruction data, all the bytes of the instruction data have to be included? or just with the beggining ones will work? idk if I'm explaining well
likely is however it was formatted in the client is incorrect, as when the program tries to deserialize the format its expecting is not the same one that is sent.  being off by a byte for something like this can make a difference.
any ideas on what could be the generator of this error?
se fuck
deserialize
this is the error translation
its this: The program could not deserialize the given instruction
one sec
string of what?
the string of that is f
this link describes the current process some when an easier readable string is not posted, its for anchor but applies to both:
https://www.notion.so/Debugging-Custom-Anchor-Errors-b8540dd418c44a4e939ab17c56a3fd3b
yes, custom ones, that are not reflected as strings in the output, need to br converted to string, from hex.  you then can lookup that id, generally an enum error index, in the hosting program, where the error originated,  custom errors overall have some improvements to be made, but for now thats the state of things.
it depends on your reference, sometimes, but yea.  every account has an address, every program (which is an executable account) has an address, every keypair, has an associate publicKey/address.
I'm new to Solana and just wanted to clarify. I was actually just told otherwise haha. But good to know. Thank you!
Oh alright. Thank you very much.
public key, address, pubkey, id, are often used interchangeably.   the publicKey, is the address.  otherwise not sure what your referring to.
I appreciate it tho. Thank you!
I was just told otherwise LMAO
the pubkey is the address man
find a way to fix this problem $50 right here
Currently working with the `@solana/web3` npm package. I run the following `let keyPair = Keypair.generate();`. This creates a new keypair. 

I'm able to retrieve the public key by doing `keyPair.publickey`, but I can't find a way to get the address.

How do I get the address from a public key?
5$ if someone finds its transaltion
this error isnt fixable lmao
solana.rpc.core.RPCException: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 0: custom program error: 0x66', 'data': {'accounts': None, 'err': {'InstructionError': [0, {'Custom': 102}]}, 'logs': ['Program MEisE1HzehtrDpAAT8PnLHjpSSkRYakotTuJRPjTpo8 invoke [1]', 'Program log: Custom program error: 0x66', 'Program MEisE1HzehtrDpAAT8PnLHjpSSkRYakotTuJRPjTpo8 consumed 4555 of 200000 compute units', 'Program MEisE1HzehtrDpAAT8PnLHjpSSkRYakotTuJRPjTpo8 failed: custom program error: 0x66']}}
tbh even scrape a whole program
is there a way to get the errors from a program
well
<:sadcadThumbsUp:768901315770187827>

<:isee:866783715844685874>
translate 0x66 hex to a string
and based on where the error is coming from you would have to look up that error number in the program and instruction/method where the custom error came from.
anyone knows what this error translates to?: custom program error: 0x66
How do I add metadata to a fungible token I create so it shows up nicely in the Phantom wallet? Any tutorials out there that cover this?
anyone good with tokens and metadata?
where do I can find the hex data of each instruction? I know it can be found via solana explorer, but lets say that the data changes for each tx, is there any way to get it?
Would it be best to just use the `programSubscribe` websocket, and then store all of the accounts myself so I can build a search index on the fields I am interested in? What seems to be the best way other than just getting all of the accounts for a program on the client side and then filtering them there?
Hey, I am looking to de(serialize) my program's account data with borsh. I will then be using getProgramAccounts' filter feature to find particular program accounts a user owns using their Pubkey (stored in the account data). Does borsh serialize its objects in a way such that the Pubkey is always in the place in the account's data field? Also, is there a better way to query this - it seems quite limiting to only have exact matches while searching with getProgramAccounts?
Is it possible for a "token mint account" to run out of rent and be deleted? And if so, what happens to all the "token accounts" that belong to the "token mint account" ? Or am I understanding this incorrectly
is the token swap program at https://spl.solana.com/token-swap still used?  I heard it was for the old serum pools and is essentially deprecated (although not formally) - any truth to this?
yea sure
do you wanna try to do a call?
ok how do i do that? it used to work before
you have to give permissions to the directory /solana
i dont have the file anymore so maybe thats why
same thing
```@Joeys-Air ~ % chmod -r 777 /user/joey/config/solana
chmod: 777: No such file or directory
chmod: /user/joey/config/solana: No such file or directory```
chmod -r 777 /user/joey/config/solana
i dont actually have the json file anymore i deleted it and not sure how to get it back
can u explain a little i tried ```joey@Joeys-Air ~ % chmod -r 777 /User/joey/config/solana/devnet.json
chmod: 777: No such file or directory
chmod: /User/joey/config/solana/devnet.json: No such file or directory```
<@!204772159699025920>  You have set writable permission to this folder. Just use in terminal chmod:

chmod -R 777 /absolute/path/to/your/folder
getting this error (os error 30)
```joey@Joeys-Air coffee % solana-keygen new -o /user/joey/config/solana/devnet.json
Generating a new keypair

For added security, enter a BIP39 passphrase

NOTE! This passphrase improves security of the recovery seed phrase NOT the
keypair file itself, which is stored as insecure plain text

BIP39 Passphrase (empty for none):

Error: Unable to write /user/joey/config/solana/devnet.json: Read-only file system (os error 30)
joey@Joeys-Air coffee %```
I've created a simple react app that has a function (pictured) that can be used to send lamports to the connected user's publicKey from my wallet. For this to work, I have to provide my private key as a string. Obviously, this is horrible because anyone can inspect my website and view my code and take my private key. 

I think the workaround to this is writing a custom program that will send the lamports to the user's address and somehow calling this program using the solana js libraries. And I would have to restrict the program to only be allowed to be executed by me. Is this true or is there another way I should do this?
Hey guys, do you know a create a DAO in a website?

Hey all, did I construct this correctly please?

when I call it from my client I seem to have an error of `An account required by the instruction is missing`
Is there any way to get the historical leader schedule?
Hi, 

Dumb question here, but i provided the wrong minting address when adding my token to the solana blockchain through https://github.com/solana-labs/token-list.

I provided GBFnNpraMUqZXuwqvkFPh7eSwcW6nffGjRhUPNw4BJQt

But it should‚Äôve been this GffLkMqvcBaqvpdUptBqzakFuX2qKU5TEXQ8D1rLHHy8

I can‚Äôt change it. Somehow it tells me that it has discovered me removing the originally pasted address.

Do i have to make an entire new submission?
If someone else is interested in providing feedback and request to bring the simplified UX flow back, here's the ticket as a feature request ( https://github.com/solana-labs/wallet-adapter/issues/260 ); This was already in place, working before, but someone probably requested to change it, which is a terrible UX idea; from my point of view as a user.
<@!489206164270350337> sure
Right. Make an issue and proposed making it one click instead of two
<@!489206164270350337> seems that the wallet-adapter does not have the gh discussions, only issues.
Right, create a discussion with it. Give your points that less clicks = better UX
<@!489206164270350337> it's not an issue but a UX improvement, but its also opionated.
I mean it is sick af because you control so much but writing frontend in reactJs is from my point of view easier
Stick with front end you have
Try putting an issue on the repo. The maintainer will address the change
<@!760117293689733160> it is.
damn
Isn't it more difficult to build front end in rust?
Select Wallet, then what else? Connect is fine to go ahead an popup!
Hope the frontend team can test it and understand the UX is not great if this keeps happening, too many clicks for no reason.
Is there a good resource on encoding the data argument when making an instruction on web3? I have the BufferLayout configured but I'm having trouble with encoding it.
It's really too many clicks and not sure why this was changed, doesn't make sense.
There might be an option to have it as before, but unfortunately spend time looking and did not find
Current

```
    "@solana/wallet-adapter-base": "^0.9.2",
    "@solana/wallet-adapter-react": "^0.15.2",
    "@solana/wallet-adapter-react-ui": "^0.9.3",
    "@solana/wallet-adapter-wallets": "^0.14.2",
    "@solana/web3.js": "^1.31.0",
```
The previous version

```
    "@solana/wallet-adapter-base": "^0.7.0",
    "@solana/wallet-adapter-react": "^0.13.0",
    "@solana/wallet-adapter-react-ui": "^0.6.0",
    "@solana/wallet-adapter-wallets": "^0.11.3",
    "@solana/web3.js": "^1.31.0",
```
Just checked, and the previous version worked, as I have mentioned. The user selects the wallet and the connect popup is displayed! There's no need to click again! Seems to be that its too many clicks and pointless. Not sure why that was changed, and not even sure if the frontend team reads this messages, but hope so.
Rust
<@!785084693023424542> I'm under the impression that the previous version did that. I also develop in the another blockchain network, so I'm afraid I don't have the time to contribute, but I'm aware Solana has a big frontend team and a lot of funding; sharing my user experience if that's useful.
what are you using then?
open to contributions if you come up with a no click or 1 click solutions. that would be awesome.
Ok i found my error:
```   
const largestAccounts = await connection.getTokenLargestAccounts(new PublicKey(mint));
const largestAccountInfo = await connection.getParsedAccountInfo(largestAccounts.value[0].address);
const holderPubkey: PublicKey = (largestAccountInfo.value?.data as ParsedAccountData).parsed.info.owner;
```
I thought the holderPubkey is as type PublicKey but it really is a string. TS was not able to get the type because of the forced type definition on data. 
Maybe you could add to the docs that it return the adress of the holder as a string an not a PublicKey
<@!585868308419444749>  <@!489206164270350337>
Same thing
For the Wallet-Adapter, on wallet selection, the user should be able to connect immediately after, as in the previous version of wallet-adapter; There seems to be no need to have so many clicks:
- Select Wallet
- Connect Wallet

I understand there's the `autoconnect` that can be used, but that will show the extension popup to connect the user once the application launches, which is a bit too much.

To summarise, there is no need to have so many clicks, the user once selects a wallet should be able to connect immediately, without having to click again!

https://github.com/solana-labs/wallet-adapter
always using ts
i am on typescript
Usually people with that error think they're passing a Pubkey but actually have a string
Hmm... yeah this is why I avoid JS
yes but it is a PublicKey and the function `owner.toBuffer()` literally exists and the owner is an account i am using the whole time
Presumably the type of `owner`
`TypeError: owner.toBuffer is not a function`
Get this when doing:
 ```   return (
        await Token.getAssociatedTokenAddress(    
            ASSOCIATED_TOKEN_PROGRAM_ID, 
            TOKEN_PROGRAM_ID, 
            mint, // mint
            owner, // owner
        )
    );```
Literally worked like 20 mins ago and i logged the hell out of the program but nothing seems to be wrong
What could be the cause?
oh or like this with the as
But thanks for helping!
Got my error. Not really mine but typescript has to ,once again, say something about types haha
I just did a` //@ts-ignore` and now it works
We do not support token-list here
it works still
`(largestAccountInfo.value?.data as ParsedAccountData).parsed.info.owner` in ts
I ran it just the other day.. let me check again
Oh, you're stating it doesn't work
https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
How do i get the owner of a Token account?

```const connection = new Connection('https://api.mainnet-beta.solana.com');
const tokenMint = '9ARngHhVaCtH5JFieRdSS5Y8cdZk2TMF4tfGSWFB9iSK';
const largestAccounts = await connection.getTokenLargestAccounts(new PublicKey(tokenMint));
const largestAccountInfo = await connection.getParsedAccountInfo(largestAccounts.value[0].address);
console.log(largestAccountInfo.value.data.parsed.info.owner);
```
This from the solana cook book does not work. With `largestAccounts.value[0].address.toString()` i get the token account that holds the NFT (obviously) but the stuff in the `console.log()` does not work, saying 
```Property 'parsed' does not exist on type 'Buffer | ParsedAccountData'.
  Property 'parsed' does not exist on type 'Buffer'```
When i do `console.log(largestAccountInfo.value[0].address.toString);` i get: `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`
So how do i get the Account holding the specific token account?
`Phantom - RPC Error: User rejected the request. {code: 4001, message: 'User rejected the request.'}` Immediately shows up after "Approve" is clicked in the wallet, before the Ledger prompts happen.
We've noticed Phantom auto-rejecting signature requests at the point where the Ledger hand-off should be happening, with no prompt on the Ledger. Simple wallet "connect" works fine.
https://docs.phantom.app/
Hello everyone. Metamask has some nice docs to work with its wallet. Is there anything like that but for phantom wallet?
Find a private RPC that provides high TPS, or run a copy of big table
What's your preferred paid solution? I'm thinking of a very high TPS endpoint
alright ty for the help
Not sure how it is done in python
Providing a key in the mint info https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L113
how do I do this?
yea probably
I suspect your generated data is incorrect somehow
oh didnt know that
The token mint address. You can provide a custom one
then idk what u are refering to üòÖ
oh
Don't know anything on Candy Machine
u mean the CM config address?
ok thank you
Looks like web3.js is compiled with `esnext`, which I would guess would be ok. May be helpful to check your config
I would suspect there's some issue with your webpack configuration to use web3.js.
That is correct. Are you providing any mint address to use? That may be where your issue is
`./node_modules/@solana/web3.js/src/layout.ts 8:10
Module parse failed: Unexpected token (8:10)
You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
|  */
| export const publicKey = (
>   property: string = 'publicKey',
| ): BufferLayout.Layout => {
|   return BufferLayout.blob(32, property); `

can anyone point me towards a file or resource to figure out this issue?
yea I suposed that, the thing is, before minting, you really dont have any token right? So how I'm suposed to create the ATA if I have no token? Idk if u get what I mean
Whatever ata you provided is invalid
yeap
{'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 2: Provided seeds do not result in a valid address', 'data': {'accounts': None, 'err': {'InstructionError': [2, 'InvalidSeeds']}, 'logs': ['Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]', 'Program log: Instruction: InitializeMint', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 2390 of 200000 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success', 'Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL invoke [1]', 'Program log: Error: Associated address does not match seed derivation', 'Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL consumed 10069 of 200000 compute units', 'Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL failed: Provided seeds do not result in a valid address']}}
please no screenshot. Gist or text
ill send full error
Just creating the instruction fails?
yea the initialize_mint one
So your mint instruction fails?
You can query on the public rpc. Stored in bigtable
like i typed "privkey" instead of the real one ofc
What's the preferred way of querying for really old transaction histories?
I mean yea i'll put mine there but not sending it here hahaha
fix please
Your provided private key is not valid
on instruction 2
Where does it break
trying to do the mint to CM tx still hahaha

What are you running? Sounds like you're using invalid seeds
<@!489206164270350337> Do u got any idea of this error when trying to initalized the mint? "Provided seeds do not result in a valid address" (workin on Python)
It would be more  effort than it's worth.  Solana is too composable
Sounds good. Thanks all. Perhaps someone should write such a CLI for convenience. I notice many of the RPC calls don't seem to be fully implemented in the Solana CLI. It might be nice to be able call them easily for debugging purposes.
Yeah you need to write your own client tools.  CLI can only offer you a guide of how to do it with Rust.
web3.js is the answer I believe
I don't think this has custom transaction fully via CLI
This only transfers SOL, but I want to send a transaction to a program that I've deployed locally.
https://docs.solana.com/cli/transfer-tokens#transfer-tokens-from-your-first-wallet-to-the-second-address
Yes I did that, and it works. Like I can use `solana program show` and see my program. But I'd like to inspect a transaction and see information about the transaction, or send a new transaction. Can the Solana CLI do those things?
Also you can use web3.js if needed
You can change your solana config with `solana config set`
Does anyone have suggestions for ways to interact with my local validator? For example send/inspect transactions? I don't see commands to do so with the `solana` CLI. Is there some other CLI I should use, or do I have to use `web3.js` to do this?
these are all things you need to figure out and are related to product design and architecture. there are no tutorials, examples, or walkthroughs of entire complex end to end systems.
for each stake account? if stake account so much in there, it is not good solution. it is require too many transactions
You run a cron job separately to do this work, not on chain
My main problem is blockchain has not realtime service. So I can't guess when should I run re-calculate/re-stake system
That logic should get you far enough
They probably have some permissionless crank that takes the rewards, sells half, and restakes
I know this. But it is working with raydium, saber, orca.
So, I can't find auto compounding logic from this repo.
I have my single token staking contract. I want to add auto compounding for reward to stake
Awesome man! Thank you
how coupled is perspective. enjoy the journey tho, look forward to you sharing your implementation!
So I am reading code just couple days so wanted to understand how coupled are the code to roughly understand how hard it to be implement. The main thing I wanted to understand is how much Coupled Tower with another Solana mechanism. üôÇ
https://github.com/solana-labs/solana-program-library/tree/master/farms should help you
How to make auto compounding farm on solana?
I know solFarm is first auto compounding on Solana. But they didn't share their contract.
Who has any example repo or any solution? please teach me.
consensus is generally not a hot swappable thing and is case by case basis, but if your inquiring, you should probably know that.  üôÇ
I thought you might had a such a case before to replace consensus thats why I was asking üòâ
okay sure. Thank you very much anyway.
Sorry. No idea and no time to figure it out for you.  If you're competent to make the change, you should be able to do that analysis on your own
Guys please can I get one advice from you <@!245452120063475712> <@!585868308419444749>? 

I want to change the Tower Implementation and have another consensus mechanism (Fast Byzantine Consensus). How hard it will be to change the Tower implementation with Fast Byzantine Consensus? 

https://www.cs.cornell.edu/lorenzo/papers/Martin06Fast.pdf
https://docs.solana.com/implemented-proposals/tower-bft
<@!245452120063475712> do you have the paper handy that tower cribs from?
.
Any kind of hints can you provide ? Its kind a hard to understand it. Is there any Pattern that Tower implementation is based on?
Probably just the code
ait np imma try
No idea
how would it be with python sir?
Is there any resource I can read to understand implementation details (apart from official docs)
Hey guys. I want to understand the details of Consensus implementation in Solana and how it interacts with other internal Blockchain components. Specifically I'm talking about Entity `Tower` and its implementation
Then your bump seed is wrong.  use `Pubkey::find_program_address` either in place or client side, then pass the bumpseed in a transaction
i meant if i cpi into system program and create a normal account not a pda.
getting this error when trying to initialize the mint: Provided seeds do not result in a valid address
Sure let me check that
I thought I read somewhere that borsh uses Buffer differently and I'm not a TS/JS guru to know if it even matters in the order
`wing and a prayer`
Is the import of Buffer before or after the Borsh import? For example, I have this order specifically but don't know if it'll make a difference:
```typescript
import { serialize, deserialize, deserializeUnchecked } from "borsh";
import { Buffer } from "buffer";
import { Keypair, PublicKey, Struct } from "@solana/web3.js";
```
Thanks for the help
Okay i'll have a look
id go through some of these and get a project building and running, then reference it.  here is the best aggregated resource for Solana content:
https://www.soldev.app/library/tutorials
if your new to react you may want to take a crash course or spend a few mins learning some basics. it appears some concepts are being mixed.  my suggestion is to get an existing project working, that has some things you want to duplicate, then reference it while building/copying your own.  there are a lot of good examples now if you need to tutorials, even based on Solana that you can follow along, that use react.
did you run an install on your project with a yarn or npm install?  if that is the line throwing the error its a project setup based issue.
When I use it to serialize it says 
Buffer not defined
Sorry import{Buffer} from 'buffer'
where do you see Const {Buffer} from 'buffer' ?
I referred this
https://solanacookbook.com/guides/serialization.html#serializing-instruction-data
That breaks my rest of the code
I googled it 
It said downgrade react scripts to 4.0.3
so you have an error. is that how you import things? is buffer an object inside 'buffer' ?  did you copy that code or write it yourself?  there is good code to copy as well.  are you familiar with react?
alright thanks
9 decimals is the default for a mint.
I import 
Const {Buffer} from 'buffer'

It gives error Buffer is not defined
its SOL that i transfered
Isn't it 18 decimals. So why does it show only down to 9 decimals in the field balance changes?
why not. what do you mean, that seems vague
I am not able to use 
Buffer.from(serialize(data))
In my react app 

Any solution for this
decimals of a token specifically are based on token mint, so may depend.
i'll look more into all of those, i only have a vague understanding of them
include them as a signer, and as first account in the accounts your passing to be fee payer, most likely.
are the decimals of the balance changes in the transaction details always down to 9 decimals? or does that change depending on the amounts?
depends on the conditions and circumstances.  there are things like reward pools, staking, vesting, etc.
I mean, the wallet that is paying for gas has signed the transaction. How do I include this wallet as a signer on the CPI?
you have to pass in the seeds, or code them into the program, since they are used to derive the account and signing seeds.
<@!785084693023424542> basically, i want to reward users based on conditions. what would be the best way to do this?
or how would that work
hey, is there any way to get the signer seeds for a passed-in account? I want to sign a CPI with a pda & with a given key
alright tysm i'll follow ur instructions
but it makes sense
oh that's unfortunate
searching for the error in discord on metaplex may likely bear fruit for the same issue, https://discord.gg/agQkEJ3G
the best thing to do with all the code available is look at how the other apps and programs are calling the same function, then model yours accordingly.  so metaplex, metaboss, and associated code should already have good models to refer to. then figure out why your call is not using the right references or params.  that error indicates the number of signers provided is not correct, meaning too many, or too few.

its happening on the mint_to instruction btw
but idk how to solve it actually
ok so the error translated is:  #[error("Invalid number of provided signers")]
you cannot send a transaction on the users behalf without their approval, on a case by case basis. anything outside of that would involve something creative and custom that may or may not work.
the program that triggered the error is what?  thats the first thing to identity,   then the error 'number', in this case translated to string.
like saving a jwt key to localstorage maybe
i want to send a transaction based on some logic but i don't want users to have to manually open their wallet to sign and approve each time. should i just use localstorage? what is the best way to achieve this
u mean here? https://github.com/solana-labs/solana-program-library/blob/ea354ab358021aa08f774e2d4028b33ec56d4180/token/program/src/error.rs#L16
currently, for some custom errors, you need to translate the hex into string for a better error number if the text is not provided. then based on the program call, find the related error, and debug why that error is happening.
thats metaplex/candy machine, so the related errors because its custom, may likely be in there. did you search on this error in the discord in the relevant channels?
nothing on this atm?
Thanks for the help solwalker!
u guys are awesome.
Thanks heaps
yes sure, gonna test it on devnet.  and also whats the command to set mint authority ?
this seems like it should work, use or create a PDA for the program you want use as an authority (if you do not already have one), then set the authority on the mint to this authority address, then within the program you can sign to run authority related operations for the mint. test it with test data and mints, first.
couldnt find any info on this.
ü§ï
how do i give mint authority to a program ?


///////////////////////////////////////////////////////////////////////////////////////////////

should I use an earlier version
it doesnt seem to be doing that and it just keeps failing
just to clarify, it used to be that when i deployed to solana it would break it up into multiple blockhashes
is there a way to debug this
please help
i get Invalid blockhash
every time i try to deploy my program to devnet
hello
Hello ! I have installed everything in my system then I have also installed vm do I need to install all those things for vm üòÖ I am pretty noob so please pardon me
or encoded sorry
hey guys i was wondering if its possible to decrypt instruction data?
Anybody got any ideas?
Is it possible to have a spl token transfer with a nft at the time of sale or on secondary?
Figured it out! Instead of using `getTokenAccountsByOwner` use `getParsedTokenAccountsByOwner` that way data field comes ready to be used and you wont have to deal with a buffer object of random bytes
https://solanacookbook.com/
I would recommend looking at the solana cookbook.
I like Solana. I like building things. I work on real-time mission critical systems for my job FT, so mostly BE/infra/distributed systems experience. What's the recommended way to get started with development on Solana? What would be a good fit?
Let me know if that doesn't work.
I would suggest implement a simple endpoint that returns a tx signed by the server, then sign it on the client and send.
got it
let me try it.
thanks for your answer
if i could not get it working 
i will be happy to pay for your services if you could get me a hand
The order in which people sign should not matter.
Oh that is in the wire format.
I have been told by others that signature order matters
like this link
https://github.com/bmresearch/Solnet/issues/296#issuecomment-1011112496
You can do `server -> client -> cluster`
The order doesn't matter.
I'm trying to run solana-test-validator
because fee payer is the client 
client has to sign the transaction first yeh ?
anybody have this issue before?
https://prnt.sc/26e0q7q
Can't the server send a partially signed message that the client can then also sign and send to the cluster?
Is there any reason you have to pass the message back and forth between the server?
Is becoming a solana dev completely open-source / unpaid? How does it work?
which might be challenging
any good project idea
Thanks ill try
sorry for replaying....
but it failed 
can check my new code above ?
maybe now you could try the react-ui-starter or material-ui-starter as advised in the Github issue a few hours ago
https://github.com/solana-labs/wallet-adapter/tree/master/packages/starter
I didnt understand it because i dont know how to use it after ripping it
no luck with this? https://discord.com/channels/889577356681945098/889577399308656662/931683407103139850
I personally have no clue no
Hi, I have an `AccountInfo` object with a field called "data", what is it for and how do I go about reading it? I tried passing it into a Buffer object but its just returning a bunch of unreadable characters
with `Signature verification failed`  error code ?
<@!915682383905316864> have any ideas?
found this: "A transaction containing a blockhash that is too old (~2min as of this writing) is rejected by the network as invalid"
all the code is executed within like 5 -10 seconds
replay protection via recent blockhash expires txns. How  quickly does this happen? is it up to validators?
5-on server side i deserialize  the transaction sent by client like this :
```csharp
    var messagedto = Transaction.Deserialize( (  Convert.FromBase64String(request.singed_tx)) );
```
6-then i remove the last empty signature created by client (serialize method on client will create a signature for server too but with empty signature)
```csharp
            messagedto.Signatures.RemoveAt(1);
```
7-I sign the message on server and execute the transaction like this :
```csharp
  messagedto.Sign(_walletProvider.GetWallet().Account);
   var txresult2  =   _solananetworkprovider.RpcClient.SimulateTransaction(messagedto.Serialize(), true); //returns Signature verification failed' error
```
```but it result a 'Signature verification failed' error```
BUT if i try to clear all the signatures from ```messagedto``` and resign it again with the private key from client and finally adding server signature it works like a charm
```csharp
        messagedto.Signatures = new List<SignaturePubKeyPair>();   //clear any signature
        messagedto.Sign(private_key_from_client);                //this works but normally i don't have the private key for the client
        messagedto.Sign(_walletProvider.GetWallet().Account);
        var txresult2  =   _solananetworkprovider.RpcClient.SimulateTransaction(messagedto.Serialize(), true); //returns OK
```

I have been trying to make it work for like 4 days now with no luck....
i also check the signature from client and it is different from the signature i create on behave of client on server
i have no idea why this is happening....
any help would be appreciated
Hello 
I am having a problem transferring a sign transaction from a client to server
for server i use Solnet C# 
for client i use js,ts with Phantom wallet adaptor
steps i take :
1-create a transaction on server and compile the message like this :
```csharp
  var associatedTokenAccount = AssociatedTokenAccountProgram.DeriveAssociatedTokenAccount(targetPublickey, mint);
            var createAssociatedTokenAccountTx = new TransactionBuilder()
                .SetRecentBlockHash((await rpcClient.GetRecentBlockHashAsync()).Result.Value.Blockhash)
                .SetFeePayer(targetPublickey)
                .AddInstruction(SystemProgram.Transfer(targetPublickey, treasury, price))
                .AddInstruction(AssociatedTokenAccountProgram.CreateAssociatedTokenAccount(
                    targetPublickey,
                    targetPublickey,
                    mint))
                .AddInstruction(TokenProgram.Transfer(
                    init,
                    associatedTokenAccount,
                    1, owner
                )).CompileMessage();
            return createAssociatedTokenAccountTx;
```
2- i create a transaction on client by populating the message above, like this :
```ts
       const message = Message.from(Buffer.from(data.base64Message, 'base64')) //data.base43message is createAssociatedTokenAccountTx
        const tx = Transaction.populate(message);
```
3- then i sign the transaction on client by phantom wallet adapter like this :
```ts
const singedmaintx = await  this.walletInformation.getWalletAdapter().signTransaction(tx);
```
4-send back the transaction from client to server by serializing the transaction like this :
```ts
const singed_tx =    Buffer.from (singedmaintx.serialize({verifySignatures : false, requireAllSignatures : true})).toString('base64')
return 
```
Is the library one or one you made?
What is inside airdrop function?
What‚Äôs wrong?
is there any way I can get all the nfts address of a Candy Machine? Been searching for long
im trying to npm start my react app
anyone knows what is the problem here?

I want to see balance before and after airdrop.
actually it is not working when checked twice
Thanks!!
how do I do this with a separate function instead of self calling function
üëçüèª
now it works! thanks
(async () => {
    Your code with await

})();
```javascript
const wb = await getWalletBalance(publicKey)
console.log(wb)
```
single line
You are using the await keyboard in a file within a function or just a single line in a file?
I tried cloning into https://github.com/solana-labs/solana and running `cargo build` but it didn't help
hello, I am getting this error when I run `solana-test-validator`:
```
missing AVX2 support. Please build from source on the target
```

when I add await keyword it gives me this error
I see
it's from the solana wallet modules
It's not my component
before
add await keyword <@!543761567464947732>
How do I emit that from the Solana WalletProvider component?
const value = await somefunctionwithpromise()
or not
You said you have a component that uses the other one (the one that connects). Just emit something from the component on the try and catch to the outside world so your parent component knows when you are connected
how do I get the value instead of promise?
Don't quite understand you



That way you are sure the next line is executed can read the result of the previous line
ok let me try that!
Const bla = await somefunctiin()
oh
Instead using then, use await somefunction()
What kind of help? I wrote you don‚Äôt use .then since they are executed in different order
It‚Äôs the same, emit something outside
is there someone who can help me with async functions? anyone?
A try catch won't help. Basically I'm trying to know within from the parent component that called the WalletProvider component if the wallet connected or not. Solana components apparently don't provide that info. Thing is I'm trying to use that to control a div that is a descendant of the WalletProvider component. You can see my code for reference.
? where exactly, I'm new to all this
Web3 right?
And what about a try catch?
There is no order execution warranty with that code
Still need help on this üôèüèΩ 

It's quite odd there's no callback or reference that comes with the WalletProvider component saying wether the wallet connected or not
Use await
can someone help me with async functions? 
wallet balance before calling the async function is not getting printed?
For example, a token pegged with eur value
There is no documentation about that
Does anyone knows how to do that?
How can I release a Token in Serum that can be swappable for more than one Usdt unit but that value change over time based on a fixed value (our country currency value for dollar)
And what was the solution so others may learn here if they have similar issue?
I already figured it out. Thanks <@!814228493302497301>
Try asking in anchor's discord
Hello everyone. I'm trying to build `anchor build` but I get the error 
```thread 'main' panicked at 'Not in workspace.``` How can I fix this?
done
Report these to <#812122623654887444>

Can someone kick him out
We have a scammer
@here
<@!814228493302497301> shared
Problem is that I want to know wether the wallet is connected or in the component where the wrapper is in
OK
You have to do `getLargestTokenAccounts(mintPubkey)`
```  let mintPubkey = new PublicKey(
    "8Bgm4KSXhXrNz7sSxfM3B6HsHyoiu6PrCpAmY7u7nc3Q"
  );
  const tokenMetadata = await Metadata.getPDA(mintPubkey);
  console.log(tokenMetadata.toString());
  console.log(await (await Metadata.load(connection, tokenMetadata)).pubkey.toString());

  // get solana token holder address
  const tokenOwner = await connection.getTokenLargestAccounts(tokenMetadata);
  console.log(tokenOwner.value[0].address.toString());
```
Solana web3.js ^
I keep getting this error with almost no idea on how to resolve. there is a git issue which has been closed but that doesnt seem to be helpful at all
Hi Guys
<@!814228493302497301> I will share the gist URL in PM if you dont mind. I can't share it publicly for few reasons üòÖ

Someone knows why I get these error when I try to deploy in mainnet?
I will create the repo and share it, give me a min
It's likely either happening in the instruction data resolution on entry to the program, or the program trying to serialize/deserialize to/from an account you passed to the instruction call
It's telling you the error... how is your program's serialization setup or, better, is your program on github or can you put in gist?
https://solanacookbook.com/guides/serialization.html
Hey everyone, is there a way for me to know wether a connection has been established? Is there some kind of callback prop? No documentation so I'm having a hard time figuring it out. I basically want to show the Minter only if the user connected to their wallet.
Anyways 
10 SOL burnt for the community 
Let it be üôÇ
Even when i knew it's not possible
You just got my hopes high man
Ahhh, yeah... that's a problem... sorry
What command line you using to deploy your program?
I just tried with sol balance as 25 too <@!814228493302497301> and still the same error
Each time only 1.9 sol is deducted and i have to do solana program close <id> to recover the 1.9 SOL
I'm passing the account data as described in the transaction
hi all, I can't really figure out what this error could be form:
```
Transaction simulation failed: Error processing Instruction 0: Failed to serialize or deserialize account data: Unknown 
    Program AKj5Ui5GTnqFK8Wfni3ufPqifjFirmhoRHiZsuvnMtB4 invoke [1]
    Program log: Error: BorshIoError
    Program AKj5Ui5GTnqFK8Wfni3ufPqifjFirmhoRHiZsuvnMtB4 consumed 3143 of 200000 compute units
    Program AKj5Ui5GTnqFK8Wfni3ufPqifjFirmhoRHiZsuvnMtB4 failed: Failed to serialize or deserialize account data: Unknown
(node:24981) UnhandledPromiseRejectionWarning: Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: Failed to serialize or deserialize account data: Unknown
```
`Error: Deploying program failed: Error processing Instruction 0: custom program error: 0x0`
Doesn't Custom program error mean the error is in my program? Although i am able to deploy it to devnet, localnet
Who will sign this transaction
yes correct 3 sol. I just tried with 10 sol too and still the same error. so doesn't look like a sol balance issue...
Than your program may require more lamports/SOL to deploy.
And you are saying that when you are pointing to mainnet-beta (`solana config set -um`) then do `solana balance` it is saying you have 3 SOL correct?
Who will sign the transaction
So try to reverse it now that you have the pubkeys
I am not calling a program. I am deploying my own program on mainnet
I used system program of web3 api
What program are you calling, what are the accounts you are providing in the instruction, and what is funding those accounts?
my default keypair
Don't get it. When i do a simple solana balance i have 3 sol. 
So when i do solana program deploy, sol will be deducted from this account which has 3 sol right?
Not really, who is signing and paying for transactions and it's easy enough to check balances for those PubKeys on explorer or the CLI
While deploying the program, only the sol balance of the authority matters right?
I have 3 sol. isn;t that enough?
Check your SOL balance on the accounts, you may need to fund
System program
Did you use a program to transfer lamports or a system program to transfer between wallets?
it works fine on deploying to localnet and devnet
Hey <@!814228493302497301> I am getting this error on deploying my program to the mainnet. Any idea why?
`Error: Deploying program failed: Error processing Instruction 0: custom program error: 0x0`
thank you buddy for the resource just want to see how it looks on js code! you are really a great help üòó
Yes I got them
https://solana-labs.github.io/solana-web3.js/classes/Connection.html
`const connection = new Connection("GENSYS RPC URL GOES HERE", "confirmed");`
HERE?
So give it the URL in the Connection constructor
i just want to see a sample on code on how to use.
its JSTS
Are you using JS/TS? Rust? - It would seem providing the URL in the appropriate `Connection` (JS/TS) or `RpcClient` (Rust) would be all you need
imean i just want to see sample on code on how to use RPC <a:kek:900024661969096744> sorry if thats a noob question
Can you find the transactions in explorer? That way you'll have the account (pubkey) of the transfers at least no?
What error, provide more context. Gensys also has a Discord server to get direct answers
https://genesysgo.com/#rpc
Your choice
hi can someone show me a sample code here that uses the genesys go free rpc?
really want to check what error issue im encountering
thank you
Hey, I am sketching out a solana program based on an ETH smart contract. One thing I've been wondering about:
How do programs in solana generally keep track of global state, say the list of all players that participated in a specific raffle (dumb example), where I have one PDA per player to keep track of their entry. I don't really want a "raffle player list" account since it would have to be passed every time someone participates in a raffle, limiting concurrency. Do programs generally track this stuff offchain?
Ty
What program is executing that transaction and what is it's Custom Error 0x8f?
Yes
then, it is sad, you can't get those back I think.
Didn't knew when my wallet went to mainnet
I was just testing it
Yeah
Ohh, and those random keys are not stored, right?
but if it was created in fly in code using keypair function and key is not saved, then those will be gone
I dont have 
My application was 
Creating random keys 
Putting money into it 
And that key was calling smart contract
if you have those keys, you can get those money
Or something
Anyway those random keys would be in my PC
No bro you cannot
Hey guys I was testing my application 
And used mainnet to transfer sol into random accounts 
That I created using Keypair.generate 

Is there any way I can access that back I just lost everything to in testing üò≠üò≠üò≠üò≠

Please help
<@788215642070581289> I send you a dm üëç
The issue doesn't come when testing on localnet, mostly coming on the mainnet
Hey guys, 

I am facing an issue. I am getting this error of Transaction simulation failing. But when I am retrying it several time, it is working good. 

I think, my RPC settings are bit wrong. Any ideas, why I am getting this error? 

```
Transaction simulation failed: Error processing Instruction 0: custom program error: 0x8f 
    Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP invoke [1]
    Program log: Custom program error: 0x8f
    Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP consumed 18871 of 200000 compute units
    Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP failed: custom program error: 0x8f
```
Is it for error number 11
Hi, so what's does custom program error 0xb means
thank you
really want to check what error issue im encountering
hi can someone show me a sample code here that uses the genesys go free rpc?
and <@!445425471027544095> / <@!585868308419444749> ... how about a way to control the features on test-validator both CLI and programmatically (https://github.com/solana-labs/solana/blob/2aa113fd8ce6590735dcb63f3ed84029d48f99ab/sdk/src/feature_set.rs#L470 and  https://github.com/solana-labs/solana/blob/2aa113fd8ce6590735dcb63f3ed84029d48f99ab/sdk/src/feature_set.rs#L476) in `TestValidatorGenesis` ? Is that a separate PR or can be combined into what <@!130415586080587777> posted?
üßê
Hi, so when I set mint authority to my pda, I create an pda account and set mint authority to that account or just the pda address ?
Hey guys! I'm working on an open source Solana browser extension, very similar to phantom, but unsatisfied with it being closed source.

If you are interested in contributing, please add me as a friend and send a DM!

To add, Sollet is ok, but I think the user experience and UI puts off a lot of inexperienced users.

The goal is to make a super user friendly, clean experience for newbs and for experiences devs
Ta Da! üôÇ
I was questioning my sanity for a moment....
how can I get the source address for a transaction easily? one way is to get the signatures, and as the signer public keys are written first in  the public key array, we can pick the first public key if there is only once signer. but how to do it if there are multiple signers? basically I am looking for a something similar to the `from` field in ethereum transaction receipts
Thanks!
https://docs.solana.com/implemented-proposals/rent

https://docs.rs/solana-program/1.9.0/solana_program/rent/struct.Rent.html
Hey guys, where i can read more about `Rent Program`?
Many sites are making me sign a message whats the purpose of that
could anyone tell whats `ns64`? as far as I remember, rust didn't have such primitive type...
I see it, it's a constant
don't worry
or is a constant?
I am kind of confused, what is associatedProgramId: PublicKey. and mint: PublicKey. I have the token address and that is mint right? but what is associatedprogramId?
Thanks <@!788215642070581289>
https://solanacookbook.com/references/token.html#associated-token-account-ata
you can take a look here https://solanacookbook.com/guides/get-program-accounts.html#facts
and your steps will be
1. know how  is a serum market account data stored
2. write your filter
user C create pay for useraccount of A
that's the first payment
but for creating a token account?
you can.
what do you need to modify the code for
1. Token.createAccount
https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L452
2. Token.createAssociatedTokenAccount
https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L494

1 is generate a random keypair and init it as a token account.
2. is use a derived address as a token account which based on owner and mint

the more info you can take a look at https://solanacookbook.com/references/token.html#create-token-account
user A don't have sol and want to transfer user B that also do not have sol, can a user C pay for that transaction?
but is that possible for tokenaccounts? I can pay for the account of other person?
I saw there is a feepayer
1. all NFT based on metaplex program, you don't need a extra program to do it
2. a metadata account has a upgradable auth, you can just use this feature to update your NFT
https://docs.metaplex.com/token-metadata/v1.1.0/overview
it's possible to create a transaction to be paid by another account?
you can write some check before your instruction like `does A account is a signer`.
so that you can limit only A can run this instruction.
i'm new to solana. i am trying to play around with spl.
i run the code under token-swap/js on devnet.
the TokenSwap.createTokenSwap method failed with below logs

logs: [
'Program 11111111111111111111111111111111 invoke [1]',
'Program 11111111111111111111111111111111 success',
'Program SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 invoke [1]',
'Program log: Error: InvalidAccountData',
'Program SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 consumed 2355 of 200000 compute units',
'Program SwaPpA9LAaLfeLi3a68M4DjnLqgtticKg6CnyNwgAC8 failed: invalid account data for instruction'
]

the only change i made is to reduce airdrop amount, otherwise i could not get through it.
anyone know how to get program address for a serum market from market address?
<@815267573431533598> reugular NFT smart contract, but with ability to seamlessly update it later, so that it can be¬†upgraded¬†to modify it's code, while preserving address, state, and balance.
what is the difference between Token.createAccount vs Token.createAssociatedTokenAccount?
<@831235399992737822> what does the smart contract do
How to create updateable NFT smart contract for Solana?
pls hlp
I know it's the very basics, but I am not certain where to find a tutorial for exactly this ^
How do I upload a program to Solana that only a certain set of accounts can send info to, and that saves custom data
does anyone know of a USDC devnet faucet?
pls
anybody help?
I'm getting a libcrypto-1_1-64x.dll error
how i can override hover color more options and less option in solana-antd
working on it. Thanks alot
if you only use Keypair.generate(), it only generate a keypair but don't allocate any space for it.
please check the https://solanacookbook.com/references/token.html#create-token again.
there are two instructions, you have to call system program's create account instruction.
you can call it in previous instruction or in the same program via invoke.
I too, I'm encountering the same issue.
``mint_account_meta = AccountMeta(Keypair.generate().public_key, False, True)``
yes I did pass an account genereated by
does the mint account been created ? 
https://solanacookbook.com/references/token.html#create-token
there are two instructions to create mint,
1. create an account which space is 82 (also give it lamports)
2. init it as a mint account

just guess you pass an account which hasn't been created
could anyone give a look and tell me if they could helpout please: https://stackoverflow.com/questions/70718490/inititialize-mint-instruction-failed-invalid-account-data-for-instruction

I am falling into a `failed: invalid account data for instruction` error, which I have no idea how to debug
I'm trying to install solana web3js could anyone tell me what a browser bundle is?
what's the result? do you got a wrong address? 
not sure what you are asking.
you can check here https://docs.solana.com/cli/deploy-a-program#closing-program-and-buffer-accounts-and-reclaiming-their-lamports
do you mean you want to transfer lamports like ethereum's `transferFrom`?
you can wrap SOL and use delegate
wrap SOL: https://solanacookbook.com/references/token.html#wrapped-sol
delegate: https://solanacookbook.com/references/token.html#approve-delegate
after you setup, you can use B to transfer A's SOL only with B's signature
depends on the error message, you can check the accounts's space and layout which you try to serialize/deserialize.
You can pass Token program ID instead of mint and you‚Äôll get all the tokens from that account. https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
check 1. at https://solanacookbook.com/references/token.html#get-token-account-by-owner
Hi, Is there a way to call `connection.getTokenAccountsByOwner()` and receive all token accounts under an owner? To get this to work, I had to specify a mint address for a specific token but I'm trying to get all accounts in one fell swoop. Is there a programId i could specify that would make this work?
Hi, I'm getting this error:
```
    Program AKj5Ui5GTnqFK8Wfni3ufPqifjFirmhoRHiZsuvnMtB4 consumed 3143 of 200000 compute units
    Program AKj5Ui5GTnqFK8Wfni3ufPqifjFirmhoRHiZsuvnMtB4 failed: Failed to serialize or deserialize account data: Unknown
```
can't figure out what could be the problem. any ideas ?
If a transactions is signed by a sender sending lamports, can the instructions of the transaction call a program owned by the receiver (who has authority over program to be called) but who has not signed the transaction because they are only receiving lamports? Or will the receiver also have the sign the transaction if the receiver wants the transaction instruction to call a program owned by the receiver?
I'm looking for someone who can help me understand transaction instructions. Paying very well for your time.
please DM me
Hey so my deployment to mainnet failed and i've recovered the funds following the Solana prompts but having trouble transferring them out of the recovered wallet. Didn't realize there was a --recipient flag on the solana program close command. 

Are these lamports now trapped in this recovery address?

Trying to transfer them out throws an error: Transaction loads a writable account that cannot be written
how do i completely remove solana cli from a windows machine to start over?
<@!489206164270350337>
im trying this
I made a wallet in phantom. How to recover that wallet from mnemonic phases in node-js?

```
const mnemonic =
  "......";

const s = bip39.mnemonicToSeedSync(mnemonic, "");
for (let i = 0; i < 10; i++) {
  const path = `m/44'/501'/${i}'/0'`;
  const keypair = Keypair.fromSeed(derivePath(path, seed.toString("hex")).key);
  console.log(`${path} => ${keypair.publicKey.toBase58()}`);
}```
Does anybody know why my command functions aren't getting recongized on node.js?
https://prnt.sc/26dt1n1
Filed an issue for this on GH üôÇ : https://github.com/solana-labs/solana/issues/22520
Yes that's the current design. A nice new feature would be a flag that syncs the test-validator feature set to another cluster though!
TY--looks like this is the culprit
`5ekBxc8itEnPv4NzGJtr8BVVQLNMQuLMNQQj7pHoLNZ9 | inactive                    | Transaction wide compute cap`
inactive on mainnet, active on local
Yeah, run `solana -um feature status`, you need to match that
If I'm reading this right, all features are already enabled in the test validator, so then is there something I need to disable to have the compute budget be enforced per ix instead of tx?
hey guys... i'm not very advanced in coding or solana knowledge but I'm trying to build something where i need listing price on magic eden, but only by looking at the listing transaction. From my understanding that information is encrypted in instructions data, but i could be totally wrong. Is there a way of decrypting that data? Or would there be another way of getting that information in listing transactions? Any help is greatly appreciated ‚ù§Ô∏è
This hurts..
ü•≤
Oh gotcha thank you
And I set mint authority to that pda isn't it ?
CPI from your program with `invoke_signed()`, yeah
And add pda as a signer ?
Ummm..
Ummm..
You need to set it to a PDA of your program
Ummm...
Ok, that mint is toast.  You can't do that
Set mint authority of token to my program id?
> So I have set the mint authority to my program

What does this mean?
Im calling my program instruction through client and the transaction   is signed by the wallet that im connected with.
Ummm. So I have set the mint authority to my program. And called a mintTo instruction from the program instruction that I wrote. I even added program as a signer for the mintTo instruction. But its giving me calling program invocation with unauthorised  signer or writable error?
Yep. https://github.com/solana-labs/solana/blob/master/test-validator/src/lib.rs#L461
I have no idea about the error code.
I would need test code in details.
Yeah, I have a program which is doing transfers of SOLs between the accounts and some of the accounts also goes empty after the transfer. 

All endpoints of smart contract are working good on localnet but it is failing on mainnet with the error I attached
Where can i read on the general tenants for making a DAO?
<@!850238468969988117> Can you give me some more details?
Here, I think. https://github.com/solana-labs/solana/blob/master/runtime/src/genesis_utils.rs#L256-L258
Hey, I am getting this error while making a RPC call on my program. The weird part is, the call is working fine on the devnet but failing with this error on mainnet. 

```
  logs: [
    'Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP invoke [1]',
    'Program log: Custom program error: 0x8f',
    'Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP consumed 18870 of 200000 compute units',
    'Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP failed: custom program error: 0x8f'
  ]
```
errr well I'm sure that answer is yes, more asking where that place is
do you know if there somewhere in the codebase I can go and patch to make this work?
Maybe we should expose that via CLI ü§î
<@!445425471027544095> are all features expected to be active in `solana-test-validator`?
`solana-test-validator 1.8.12 (src:devbuild; feat:1006352700)`
Hrm
1.8.12
What version is your `solana-test-validator`?
1st instruction only uses 65k
I have 5 instructions, 4 of which make CPIs, but from log above it looks like I am only getting 200kCU for the entire transaction
If you have two,  each can consume 200k
No.  If you have one top level instruction, it and all its CPIs can consume a total of 200kCU
And program can't be writeable..
Ahhh so all CPI calls must be less than 200k CUs even if split up in multiple instructions?
Im pretty sure, the signer is my program
Cross-program invocation with unauthorized signer or writable account, what does this mean?
invokes  contribute to the topmost instruction's budget
Mmm, could be.  I thought you were CPIing those instructions
Here's what I was advised earlier:
https://discord.com/channels/428295358100013066/517163444747894795/931638860876746763
Is this wrong?
That's expected since its what the clusters will limit you to as well
Was a follow up from a prev question earlier today. My test validator is limiting me to 200k CUs per transaction instead of per instructon
Can you clarify your question?  Compute units are consumed as execution proceeds
Upgraded to 1.8.12, but still seeing the compute units decrease across instructions in the test validator. Though log is slightly diff than before, gets 1 instruction further.
Any ideas? (and tyvm for you help!)
cc <@!814228493302497301>
any links to articles etc would be very helpful
can anyone help me with minting from a candy machine using python?
check this https://solanacookbook.com/references/programs.html#create-a-program-derived-address
it wont confirm the transaction
i have 0.4 SOL in a wallet, and the transaction wont go through. 

I used the normal line, spl-token create-token and it worked fine. but when i add spl-token create-token --decimals 0
spl-token with 0 decimals
does anyone know how much it should cost to make a
it has detailed insturction how you can do it
you should check the cookbook
anyone know why i would be getting that error?
Hello, Im making an escrow smart contract and when I am sending my keys and bump value, its giving me this error in testing ``` TypeError: unexpected type, use Uint8Array``` The way I am getting the bump value is ```const [escrowedTokensOfOfferMaker, escrowedTokensOfOfferMakerBump] = await anchor.web3.PublicKey.findProgramAddress(
        [cowMint.publicKey.toBuffer()],
        program.programId
      )```
ty for yor time
Hello all. I'm looking to hire a developer who is comfortable developing rust smart contracts on Solana. Please DM me if you're interested.
Hey did anyone run into issues with solana wallet adapter modules? seems like the ^0.14.2 version is running into quite some issues on my end. Wondering if it's something on my end because the node modules can't seem to build correctly.
nice
```
Transaction was not confirmed in 60.00 seconds. It is unknown if it succeeded or failed.
``` Since sol network is so slow to confirm transactions is there any way to increase the timeout limit of await connection.confirmTransaction
oh its done. I didnt call that tx
I have found this https://github.com/certusone/wormhole/tree/dev.v2/sdk/js
and I don't think you will have general support for it incase it is an NFT you are planning to make
yes. you can just store the data in a pda's account's `space`, but then you will not be able to retrieve it using metaplex's ways.
or another bridge maybe
I mean by code, not on web
Hi guys, do you know how can I swap USDC/USDT to UST with whormwhole?
newbie here, not sure I can help then. sorry
yes
did you send the transaction for execution via client?
any idea y its doing this?
```js
let mint_type: AuthorityType = "MintTokens"
const changeMintIx = Token.createSetAuthorityInstruction(
        TOKEN_PROGRAM_ID,
        tokenMintAcc, // mint addr
        myprogramID, // mint authority to porgram id
        mint_type, // mint tokens
        wallet.publicKey, // owner
        []
)``` it doesnt change the mint authorityfor that tokenMint addr ?
Thanks alot though
oh, I see. I am using python, and I didn't like anchorpy
does anyone know where might be the problem?

<@!785084693023424542> could you share some input please?
I have used anchor to call the program endpoint, they seems a bit more cleaner
then no worries on that
it is not
then when it comes to calling it from the client, is this right?
if signer is the PDA, the you have to use invoke_singed
Yeah, it looks correct, I have never written similar thing but cross program invocation goes like that
Thank you very much for the help  üôè
what about a token creation instruction, so far without minting anything, does this please look right? .
I am liking it
You can give nodejs with ts a shot to write automated tests.
Yeah, I have a node js application separate from the anchor stuffs, I will try putting tests there.
there may be some code for anchor floating around that allows to setup easier wallet/keypair scenarios, but last I checked there is no simple way to do this out of the box.
there are ways to do it,  but it takes effort.
otherwise the better test to prove the theory is with a client and a wallet hooked up,
yea the anchor test is really for testing only..  it does not handle or do multiple keypair/wallet testing well
right?
In that case, the user account should be the payer
Okay, I got you. I am going to do some experiments by sending only user account as the signer and not using the default anchor.
for a program update/deploy?  no.
if you want the payer to pay for that user account creation, then they would need to submit and sign the transaction, whatever it is.
can't we change it to make the end user payer?
doesnt matter which network, payer would always be the update authority, as they are signing and paying. so yes.
does that mean even when application is deployed in production, the update authority remains the payer?
by default the initial deployer is the update authority and signer unless specified, and when its changed, that update authority must have funds as they become the payer
anchor for testing
Okay, I got you. So I am using anchor, so by default program update authority is going as the signer.
they are the signer, thus the payer. in case of multiple signers, the first account passed that signed would be the payer. unless designated specifically with the fee payer that was added to client.. but that is different.
for deploy though, the authority, is the signer, is the payer.
why is program update authority the fee payer?
<@!785084693023424542> I am doing this thing, putting here for your reference
whew nice work
<@!785084693023424542> Once I re-deployed on the mainnet, it started working again.

The difference was: Previously the program update authority had 0 balance but when I redeployed it, I had put some SOLs on it. 

Also, in solana explorer, it is showing that prgram update authority is the fee payer, why so?
Hi guys ! 
Do you know how i can get the rewards balance of a stakeAccount ?
so on this, what is the `mint: &AccountInfo` Is it just any random account that I want to be the token, and is there any prerequisites to be done to the account before initializing the token?
hmm alright so the doc page shows for which types pod is already impl, i assume u64 is pod but the reason you use a u64 in terms of u8 in Pod64 is to avoid alignment issues right and not because it dint implement the pod trait? ty for the help you have provided so far, really helped a lot thanks.
Hmm good question.
I would assume it's best if each validator runs on a dedicated vm/physical machine but you should ask in <#560496939779620864>
so user.key  has funds, and has an account. ?   the one from explorer? 
have you tried looking at the associated-token-account code for reference?  there should be an example of this
as long as the accounts above exists, and the user.key account is the one funded, the new pda exists (though you could be creating it in the overall process as well), and the program exists, the above specific code appears to be ok itself.
Do I need to repeat the process on 20 different computers or can I do it all on one?
whose code is this or what program is it referencing? transactionBuilder is not from Solana is it?
the error `Transaction failed to sanitize accounts offsets correctly`  
it could be many things,  the state of the transaction is being checked, something wrong with the accounts, locking, the signing/signatures, the indexing, the instructions, the size, etc.  something likely has changed from the last time this was used or submitted with the data contained, or the program receiving this..
Has anyone had issue with wallet-adapter-wallets module
any more info/doc on this ?
``` Transaction failed to sanitize accounts offsets correctly
```
PDA is created like this

```
    const [userProgramAccount, bump] = await PublicKey.findProgramAddress(
      [userKeypair.publicKey.toBuffer()],
      program.programId
    );
```

and SOLs are transferred into that like below

```
        invoke(
            &system_instruction::transfer(user.key, user_program_account.key, lamports_to_transfer),
            &[
                user.clone(),
                user_program_account.clone(),
                system_program.to_account_info(),
            ],
        )?;
```
Does anyone know the error here?
Then rinse and repeat ~20 times and you have a cluster.
You can check the docs on how to setup your own validator.
who is paying for the creation of the PDA? its alluding to no funds available in the account paying, likely
Hello community, is there a way I can create a cluster similar to this: https://solana-mainnet.phantom.tech.
The thing is that I am developing a wallet and I need to start testing on a mainet of my own. Is this possible? or i can only use solana mainnet.
SOLs are stored in the newly created PDA
the task is: program is creating a PDA using user's pubkey as the seed and money is stored in that PDA
it is created by using the user's pubkey as the seed and money is stored in that PDA
what are you doing in regards to that error?   what task/transactions are being carried out?  a deploy?
All the accounts your program references exist?
I had changed that after program was deployed on mainnet
does changing the update authority of program causes any issues?
I am redeploying the program on mainnet once, because things are working in localnet and devnet
```csharp
 var associatedTokenAccount = AssociatedTokenAccountProgram.DeriveAssociatedTokenAccount(targetPublickey, mint);
            var createAssociatedTokenAccountTx = new TransactionBuilder()
                .SetRecentBlockHash((await rpcClient.GetRecentBlockHashAsync()).Result.Value.Blockhash)
                .SetFeePayer(targetPublickey)
                .AddInstruction(SystemProgram.Transfer(targetPublickey, treasury, price))
                .AddInstruction(AssociatedTokenAccountProgram.CreateAssociatedTokenAccount(
                    targetPublickey,
                    targetPublickey,
                    mint))
                .AddInstruction(TokenProgram.Transfer(
                    init,
                    associatedTokenAccount,
                    1, owner
                )).CompileMessage();
```
i try to execute this
it worked before.
but i has broken for some reason
Yes, I doubled checked it, it exists: https://explorer.solana.com/address/AwK764iZVYxbAtbA5PtiMAMk6Mht41vFDTNVKNvZZqQA
again that error is likely because the account is not created and funded correctly.  can u see in Solana Explorer the account in question exists and has a balance?
it is a keypair account, which is signing the txn
is the account in a program, local, or where?
also a bit more than what transaction will require
Yes, I have funded the account on mainnet too
an account need to be created, initialized, and funded per network.
Hmm and this is with web3.js?
post some relevant code would help. gist or link if larger.
no just transaction timed out
Yes, it is funded, when I am trying it out on devnet, it is working good. on mainnet, it is giving this error
The error is something like `transaction timed out, node is behind by x slots` ?
timing out and failing on my solana explorer
Define fail.
id file an issue with the git repo .. with some findings and examples. could be highly valuable.  especially if anyone else can repro it.   if u want to throw something on git thats testable i can verify too.
This error code doesn't explain anything!
Anyone faced this before?
solana-cli 1.9.0 (src:7782d34b; feat:378846963)
what version is this?
no its pretty random
any transactions in particular?
this has never happened before
jeez why are so many of my own transactions failingo n local
-.-
did you check your internet connection? üòõ
What does this error means!?
```transaction failed to sanitize accounts offset correctly ```
The code used to work before. 
It is a simple nft transfer instruction
this is such a new bug
lol
doing 5tps
you know there is a problem with solana when my transactions regularly fail on my localnet service
debug and prove it, make sure the account being debited has been created, initialized and funded
still getting the error
no ideas on how to solve this?
there are money present in the signer wallet
Sounds like you're out of money
it is working without any issues on devnet
in this method on program, I am creating a PDA for the user and depositing SOLs there.
It was working sometime back
Hey, I am getting this error while calling an smart contract method which was working previously, any idea

```
     Error: failed to send transaction: Transaction simulation failed: Attempt to debit an account but found no record of a prior credit.
      at Connection.sendEncodedTransaction (node_modules/@solana/web3.js/lib/index.cjs.js:6591:13)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
      at async Connection.sendRawTransaction (node_modules/@solana/web3.js/lib/index.cjs.js:6550:20)
      at async sendAndConfirmRawTransaction (node_modules/@solana/web3.js/lib/index.cjs.js:8513:21)
      at async Provider.send (node_modules/@project-serum/anchor/dist/cjs/provider.js:90:22)
      at async Object.rpc [as userDepositSol] (node_modules/@project-serum/anchor/dist/cjs/program/namespace/rpc.js:31:31)
      at async Context.<anonymous> (test/integrationTestMainnet.js:87:14)
```
Seems like there's an issue with @solana/wallet-adapter-wallets module
Ok, I got postgreSQL and setted it up according to guide from your link. But how exactly should I connect it to my bot (which makes getSlot and getBlock from mainnet for local json)? Maybe u have some working examples?
Good way to get ignored
Is anyone encountering this error? 
```
./node_modules/@solana/wallet-adapter-wallets/lib/esm/adapters.mjs
Can't import the named export 'BitKeepWalletAdapter' from non EcmaScript module (only default export is available)
```

URGENT
??
id advise asking a more constructive question
??
guys what's wrong with the solana wallet modules????
Ok! I will ask there.
haha jes
Ray Donovan: The Movie.... jes' sayin'
looks like anchor, did you try the anchor discord?
https://discord.gg/2NqJv69k
Idk why this error is being shown on my code.
Here is the full program file `lib.rs`
https://pastebin.com/VNq2p0Yb

Anyone please?
Is anyone encountering this error? 
```
./node_modules/@solana/wallet-adapter-wallets/lib/esm/adapters.mjs
Can't import the named export 'BitKeepWalletAdapter' from non EcmaScript module (only default export is available)

```
URGENT
üëÜ
Try to run what mainnet-beta is running, which is currently `1.8.12`
I am running 1.8.5
Oh interesting, is there a version of the test validator that has the correct behavior?
Thank you!
Thank you once again
Ye, so I reckon it would need both of them to sign in ...
Limited to 1 I believe. You could increase this with multisig, but that creates other issues
https://www.soldev.app/ (aggregator)
https://solanacookbook.com/#contributing
https://docs.solana.com/developing/programming-model/overview
between these you should be able to find most everything you need.
BTW can a token mint address have more than one mint authority ?
Figment is probably one of the best at this time
All good, a few wheels spinning at the same time.
Ultiimately its a Pod if the type implements the `Pod` trait.  For what types can safely implement the `Pod` trait, the info here describes this already: https://discord.com/channels/428295358100013066/517163444747894795/931632341183516702
Right now I'm playning on following this the path suggested here: https://learn.figment.io/
Hello guys, hope you are all doing well. Any resources you would recommend to get startd on solana smart contract dev?
U are a bloody legend
Oh it was for me.my bad. Didn't see it. Thanks heaps
I gave you a walkthrough test that sets authority
<:shovel:840350031999664179>
Can someone please give me some tip
Please do not summon
<@!445425471027544095>  one last thing , what is the thumbs up rule to know where a type is POD or not ? for example you said option is not so how do i figure out which type is pod and which isn't ?
Here's a nice test for js https://github.com/solana-labs/solana-program-library/blob/master/token/js/cli/token-test.js#L402
I googled but my skill was not good enough
Hi, how do I give mint authority to a solana program
Tons of people https://github.com/michaelhly/solana-py/network/dependencies
then start digging üôÇ
google "repr rust"
anyone in here coding on solana with python?
also why use only #repr transparent i guess am asking this as i dont know the other repr types but i have used ppl using reprC but in ur case u only use transparent is there any benefit of this repr type ?
<@!445425471027544095>  could you share any resource that helped you understand the repr stuff ( different repr, c transparent etc when to use which) and the memory layout of a struct and its alignment any pointers to resources you used or found useful could help a lot too
yeah, alignment issues
<@!445425471027544095>  is thinking of types in terms of u8 or [u8]  is on purpose ? to help simplify the alignment issues when creating structs ? if you convert everytype interms of u8 ur alignment will always be the same regardless of the order of ur fields , am i correct ?
Oh, wow, thanks, and my apologies <@!130415586080587777>
Okay cool thanks. I'll check it out.
the ido-pool program has been used by others,  https://github.com/blockworks-foundation/ido-pool
Anyone have any suggestions on a crowdsale platform or contracts for a spl-token?
Correct. Think it's somewhere in `1.9.X`

Someone know why I get these error when I try to deploy in mainnet?
Any idea please?
Yes, but you'll be able to obtain more.... but that isn't released yet ... correct?
It's correct
Alright <@!908421919940956191> THANK YOU for the tip there - I refactored some stuff to reduce the stack and things are working again! Was scratching my brain on that one
It'll be limited per transaction soon iirc
NOOOOO. It is 200 K per Instruction. However; there have been observations in `solana-test-validate` does draw down as the user had built from repo master that <@!489206164270350337>  noted below. But in devnet it is working as expected and currently documented.
Hi guys, how can some tokens on the Solana network create their tokens with determining the first characters of the mint address?!
i.e: Wrapped SOL begins with "So1", Star Atlas begins with "ATLAS" ... etc.
I just started learning solana today so I have some basic questions, does solana have permission levels on keys? For example I have accounts k1, k2, k3 I would like to give k1 permissions to debit from: k1, k2, k3 but k2 and k3 can only debit from their own accounts.
yup, that's the same thing
<@!908421919940956191>  I did this: `test_token_account.owner != token_program.key` seems to work fine
I had some luck with spacing out the writes but it was inconsistant
<@!908421919940956191> any tips on how to avoid blowing the stack there? both data types are not huge (73 and 89)
TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA
cheers i'll have a read
https://github.com/solana-labs/solana/issues/17644
ah yeah, looks like you've blown the stack
```Transaction simulation failed: Error processing Instruction 2: Program failed to complete 
    Program 11111111111111111111111111111111 invoke [1]
    Program 11111111111111111111111111111111 success
    Program 11111111111111111111111111111111 invoke [1]
    Program 11111111111111111111111111111111 success
    Program EBRLRhk1dgPES7MWba2wduAyA43NCVzE6bjPXS7tok1Q invoke [1]
    Program EBRLRhk1dgPES7MWba2wduAyA43NCVzE6bjPXS7tok1Q consumed 1585 of 200000 compute units
    Program failed to complete: Access violation in stack frame 0 at address 0x1fffffff8 of size 8 by instruction #346
    Program EBRLRhk1dgPES7MWba2wduAyA43NCVzE6bjPXS7tok1Q failed: Program failed to complete```
no, but the token program id is published
<@!445019022338031618> - u8 and u16 types in a Pod structure: https://github.com/solana-labs/solana-program-library/blob/3e1dd733968a74c19b7df5b0eda1663da79a2377/token/program-2022/src/extension/transfer_fee/mod.rs#L18-L26
So with non-Pod types in a Pod, it's not exactly "zero copy" since you need to convert them to read/write.  However at least it's copy on demand in those cases, so you don't take a hit deserializing/serializing fields that you don't touch during your program's execution
What is the complete error message you're getting? I'm thinking maybe "access violation" is not an error the solana runtime is giving you, but rather more like a bug in the solana runtime
for types that aren't Pod, you need a conversion type or use unsafe. Here are some example conversion types: https://github.com/solana-labs/solana-program-library/blob/master/token/program-2022/src/pod.rs
<@!908421919940956191> and the token program is owned by the system?
The bytemuck docs describe this well at https://docs.rs/bytemuck/latest/bytemuck/trait.Pod.html#safety
<@!445425471027544095>  also if we use array refs and just generate refrences and assign those refrences and hope those array of u8 represent that struct field will that come under zero copy deserialization
ah perfect
No, a token account is owned by the token program
owner is not 11111111111111111111111111111111 for both?
is parsing log messages the best way to get compute units used?
You can check the account owner
Ah ic ty
I think what it's saying is that each instruction is given a compute budget. The first instruction gets 200,000 ops, the second gets whatever is left, etc.
OK, so just to confirm, this line
`To prevent a program from abusing computation resources each instruction in a transaction is given a compute budget. `
from https://docs.solana.com/developing/programming-model/runtime#compute-budget
is not correct?
basiaclly this:

    ```one_account.serialize(&mut &mut one_account.data.borrow_mut()[..])?;
    two_account.serialize(&mut &mut two_account.data.borrow_mut()[..])?;```

causes access violation

  ```  // one_account.serialize(&mut &mut one_account.data.borrow_mut()[..])?;
    two_account.serialize(&mut &mut two_account.data.borrow_mut()[..])?;
 ``` works

   ``` one_account.serialize(&mut &mut one_account.data.borrow_mut()[..])?;
    // two_account.serialize(&mut &mut two_account.data.borrow_mut()[..])?;
``` works
I would like to know if there is a way of checking account type, for example with the token program you can have either a mint account or token account which has a pubkey associated with the mint account
In my program instruction I would like to check which type of token account is passed in? Is it a mint or token account?
My guess is that if I'm handed a mint account and I try to unpack the account info data it will fail the transaction and this will let me know I don't have the correct account type
It's 200k per transaction
I'm trying to better understand how the compute budget works. I've read elsewhere that one instruction gets 200k CUs. But that seems not to be exactly true? I've attached logs of a transaction that contains multiple instructions.  And it looks like the compute budget is being drawn down across all instructions, which I am basing off of the observation that each new instruction does not start with the full 200k CU budget. Am I submitting the tx wrong in some way? Or is what I read elsewhere about the 200k per ix not right?
I can literally comment out either line and transaction is fine, but if I have both I get access Violation
hey SOL fam - are there UX widgets that can be used out of the box to connect to Solana wallets (so i dont have to re-write that myself)?
Both writable, commenting and deploying each on their own is fine
Are both writeable?
I looked through it everywhere ? Does anyone have any idea how to do this through cli or any possible way?
Hey guys anyone had an Access Violation when trying to serialize two different accounts data in one transaction? I can't seem to figure out how to get around it, if I comment out writing data to one of them my program is fine but If I do with both I get an access violation using `account_data.serialize(&mut &mut account.data.borrow_mut()[..])?;`
so things i dont understand, which #repr type i should be using and what types arent "POD" and what order my fields in a struct should be to take advantage of it, any refrence implementation or a short explanation would go a long way.
<@!445425471027544095>  while searching about zero copy found your endeavour with it by using bytemuck if you could give a bit of primer on how to achieve this on vanilla solana, and what are the gotchas to using it would appreciate it a lot üò¶ tried understanding it myself and unfortunately my limited rust knowledge is failing me üò¶
Looks very cool! Thanks
Have you looked at https://neon-labs.org?
Nine is the _default_.  There's no reason to _standardize_ decimals
HI, is there a documnet that tells me how I can transfer mint authority to a solana program?
9?
is there a standard that most projects are using?
Number of decimals is irrelevant other than the upper bound set by your intended max supply
i know eth is 18.. what's the recommended number for SPL tokens?
is there a recommended number of decimal places when we are launching an SPL Token?
hi there
Hmm like if the end user wants their auction to end on the 15th at midnight EST, they can set that unix timestamp thru the js client. That timestamp is global, but the time retrieved in Rust (Clock::get()) doesn't necessarily match global unixtime, so how can the contract guarantee the auction will end at midnight?
solana does have a lot of dependencies. also interested whether anyone knows a cleaner unisntall solution
üßê
how do i give mint authority to a solana program?
the whole screen freezez btw when this occurs


///////////////////////////////////////////////////////////////////////////////////////////////

<@!590982495923732511>
so the problem is solved right?
3) he cannot burn the tokens from the new wallet as it is not the owner
perfect got it man thanks, i understood how can i solve that problem
1) create a new wallet and transfer everything there
2) authorize the new wallet to mint so old wallet cannot mint
So the code of their website? Fair enough
Reverse engineer the frontend code and see how it constructing the instruction data.
So if he doesn't have access to the wallet he cant burn.
Again, only the owner of a token can burn it.
How do I do that? I do for example understand most of the accounts they use and where the addresses come from or is that not what you mean
but the burn will happen in that account only right? or he can burn the tokens from the new wallet?
But yes only the new address can mint
The owner of any token can burn it.
so that new address will be able to mint and burn both right?
Yes, but if you transfer mint authority then he can't mint more.
No `spl-token authorize mint_address mint new_wallet_address`
<@!590982495923732511>
?
just he can create new in that account
if i transfer the tokens to new account he wont be able to burn right?
will it be like this
spl-token authorize new_token_account mint old_token_account
And change the mint authority on the token itself.
Transfer the tokens to another account.
if you can help it would be very nice
so i am trying if its possible or not in devnet
i created 10m tokens from one wallet, but one of the teammate have secret key of that account, so i am afraid if he burns the tokens, so i want to make a new wallet a owner and remove the last account to do anything
Sorry what are you trying to do?
<@!590982495923732511>
i tried this command
spl-token authorize new_token_account owner old_token_account
but it threw an error of trying to change the owner
Hello, I'm trying to deploy a contract but it has the following message:

Buffer account has a balance: ‚óé<my_balance>; it may already be in use

my cmd was "solana program deploy --buffer <my_keypair_json> build\bundle.so"

Any solutions?
i tried and experimented but couldnt change the owner
See the solana cookbook.
Yes, see spl-token authorise
Sure.
You would have to reverse engineer the layout.
Hi, I might be a bit of an idiot so any help here is appreciated. I'm trying to transfer lamports into a PDA to hold in an escrow. The code is straightforward and just 3 lines. 

```
    let (pda, _bump_seed) = Pubkey::find_program_address(&[b"escrow"], program_id);
    let pda_transfer_ix = transfer(account.key,&pda, LAMPORTS_PER_SOL);
    msg!("the pda public key is {}",pda);
    invoke(
        &pda_transfer_ix,
        &[account.clone()],
    )?;

```

However on running this I keep seeing this error ```Cross-program invocation with unauthorized signer or writable account'```

can someone tell me what im doing wrong?

tldr: trying to do a CPI that transfers lamports to a PDA and failing
Hi all, how does a website like Magic Eden actually know which NFT belongs to a collection.... is there some web3 API that can crawl all the NFT of a particular collection somehow, or does the creator have to provide the addresses of all the NFT of a collection to Magic Eden?
Is it possible to do this?
if anyone have idea please help its urgent
can we change the owner of spl token? like i want to change the address that owns the spl tokens so that old address cannot burn or mint the tokens
<@!590982495923732511> buddy r you still there i just want to ask a question can i dm you?
https://solscan.io/tx/4mywjbZezGmDc2WNSTCxW9eTvv8zvMMMVXgbCyodexHjJEo9QUsRb6pJhrigW1LhC61XfQ52pQx8udEUcAp16sv
The reason i'm trying to decode is that i'm trying to mimic a buy transaction like this one i'm trying to decode
So no one size fits all solution.
Instruction data is completely up to the program.
If I look at the transaction I think it's a set authority action
But the last data string: 'bmb1BNjpYeYCQetWcaQKxn5W712LnVaKYTBfbBmNLHJCAJP' i can't figure out how to decode
the first three data strings I can decode using:
instruction.decode_data(transfer_layout, base58.b58decode('3Bxs3zrfFUZbEPqZ'))
'instructions': [{'accounts': [0, 4],
       'data': '3Bxs3ztZNxoct8uM',
       'programIdIndex': 8},
      {'accounts': [0, 5], 'data': '3Bxs3zrfFUZbEPqZ', 'programIdIndex': 8},
      {'accounts': [0, 6], 'data': '3Bxs4NLYrCrp56uM', 'programIdIndex': 8},
      {'accounts': [0, 2], 'data': '3Bxs4NHqCdfDCvNK', 'programIdIndex': 8},
      {'accounts': [1, 7],
       'data': 'bmb1BNjpYeYCQetWcaQKxn5W712LnVaKYTBfbBmNLHJCAJP',
       'programIdIndex': 9}]}],
for example
how do you decode part of a transaction that isn't a number?
Got it thanks)
As long as it has 0 balance it doesn't exist.
I mean till I use it, it doesn't exist?
Or some user top up my acc
But if I don't request airdrop this account won't be created?
Correct.
Then I checked that in solana dev net I have some SOL
Hi Guys, dumb question, as I understood I don't really need to create an account in solana, I just create it locally and when i request an airdrop it will be created in blockchain?
It's Rust code ```let acc = Account::new(4, 1024, &new_user.pubkey());``` it's enough for wallet creation?
Hi there, I got nodejs error while deploying ERC20.sol
Connecting to your local Solana node ...                                                                                                                                    Airdropping (from faucet) SOL to a new wallet ...                                                                                                                           (node:21200) UnhandledPromiseRejectionWarning: FetchError: request to http://127.0.0.1:50305/ failed, reason: Parse Error: Expected HTTP/                                       at ClientRequest.<anonymous> (C:\Users\park\AppData\Roaming\npm\node_modules\@solana\web3.js\node_modules\node-fetch\lib\index.js:1461:11)                                  at ClientRequest.emit (events.js:375:28)                                                                                                                                    at Socket.socketOnData (_http_client.js:522:9)                                                                                                                              at Socket.emit (events.js:375:28)                                                                                                                                           at addChunk (internal/streams/readable.js:290:12)                                                                                                                           at readableAddChunk (internal/streams/readable.js:265:9)                                                                                                                    at Socket.Readable.push (internal/streams/readable.js:204:10)                                                                                                               at TCP.onStreamRead (internal/stream_base_commons.js:188:23)

50305 is my custom faucet port. Any solution?
lemme try it
Wherever you are using it, yes.
you mean useCallback?
Hello everybody, i had create a token and record an solana, after i test send it to my trust wallet, i receive but now i can't resend to my phantom wallet, i should deploy a program for this?
In the usage example?
where do you see useEffect?
`@metaplex-foundation/mpl-token-metadata`
See https://github.com/solana-labs/wallet-adapter for an example
public key is not defined when you connect, wrap that in useEffect
sorry how can i do this buddy. what package do i need to install?
why does it not find the publicKey
in useWallet there is a publicKey variable declared 
and it seems that i cannot receive the value


.
yeah its meta.
Then it's a metaplex nft, and that account is owned by the token program.
If it is `meta...`
Do `value.owner.toString()`
sorry to ask a noob question but how do i know if it is a metaplex nft?
Then use `Metadata.load()`
Is this a metaplex nft?
thanks buddy, im now using it, my problem right now is how to convert this metadata
Try getParseAccountInfo
Hi all, is it a requirement to use Metaplex to mint an NFT which is associated to an asset (e.g. jpg image)? - I know that an NFT can be minted using only solana libs which is not associated to an asset. Is there some sort of standard out there stating that an NFT which has an asset tied to it has to be created with metaplex/in a particular way?
fck can someone help me with this encoding thing about getaccountInfo
how could we specify maxRetries for sending tx with web3.js
Self-found. Installing OpenSSL-v1.1.1 solved. Hope anyone can be helped.
Also, installing bzip2 required.
I think you can leave that one empty if u r signing it with pda ?
<@!909887107529605150> no, I mean this red line should also include nonce.
okay, so you mean transaction.sign should be signed with &[&address_of_farm.pubkey().to_bytes()[..32], &[farma.nonce]]?
yow buddy im having an issue it says.
`&[&address_of_farm.pubkey().to_bytes()[..32], &[farma.nonce]]`
When you sign with mint_authority, you should use both seeds and bump.
mint_authority should be PDA of your farming program.
but I am not sure of which program. Is it supposed to be the token program?
so I guess it is a program owned address
so authority is created with Pubkey::create_program_address(&[&address_of_farm.pubkey().to_bytes()[..32], &[farma.nonce]], &program_id)
<@909887107529605150> Is this seed of mint_auth?
Is mint_authority a program owned address?
This is the mint_tokens_to function

<@!883374523536244836> do I have a missing authority argument?
I think it should be.
Also `mint_tokens_to` should be signed by `mint_authority`
okay, shouldn't it be, since I created a token account with its public key?
InvalidAccountData means, `user_usdc_token_account_info` is not a valid TokenAccount type
and the destination of the mint
it's an account I create in the code, wiith  Keypair::new();
<@!909887107529605150> I assume `user_usdc_token_account_info` is user wallet, right?
note that create_token_account succeeds
This is the output
What do you think went wrong?
This is my code

Hello, I am trying to mint some tokens to myself, but I fail with "Invalid Account Data"
<@!554662110806802443> Please use {"encoding": "jsonParsed"} in params
hello question guys so i was using getAccountInfo, how i can deserialize the data from its response?
thanks!
If you really want to, you can set an artificial timeout in js with `Promise.race`
But how do you know the rpc won't respond after 6 seconds?
See the solana cookbook for examples.
The recipient's associated token account must be created.
is it possible to set a timeout delay on my connection? since sometimes RPCs go down, i'd like to retry the connection after let's say 5 seconds, instead of waiting 30 or whatever the default timeout is
i have minted an nft 

and trying to transfer it another wallet programatically 

so the in the paramaters 
i am puting the assosiated account of the token 

but it is telling me that account data is invalid
can you help me with one thing
That is an npm library.
not by cli
i wanna do it using javascript
See `@metaplex-foundation/mpl-token-metadata`
Either merge them into one tx or use wallet.signAllTransactions
hey guys, do you know, can I collect several transactions  and pay all together with web3.js ?
i have created an spl-token 
and it has given me the hash of it

but now as i was on minitng the nft
how to link it to an image to make an NFT programatically?
hey
hey
ah ok
The program owner of the data account can change it's data, all others (non-owners) can read
I am getting the following error when trying to install spl-token-CLI using cargo. The current system is red hat based Linux x86 running on AWS. 

I have tried different operating systems like Ubuntu; then, I get lib*** error. Anyone else struggling with it? 

I am trying to install this to mint a token to demonstrate. Thanks for the help in advance!
but not the owner
can you change the account data of an account if you have the private key
Hi, I getting this error when running this following code and I don't see what key is missing.
please help

 
transaction = Transaction()
transaction.add(
  create_account(CreateAccountParams(from_pubkey=payer_account_meta.pubkey, new_account_pubkey=mint_account.public_key, lamports=client.get_minimum_balance_for_rent_exemption(8)["result"], space=8, program_id=program_id)),
  initialize_mint(InitializeMintParams(
    decimals=6, 
    program_id=program_id, 
    mint=mint_account.public_key,
    mint_authority=program_id, 
    freeze_authority=program_id
    ))
  )
client.send_transaction(transaction, payer_keypair, mint_account)


**Error :**

RPCException: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 1: insufficient account keys for instruction', 'data': {'accounts': None, 'err': {'InstructionError': [1, 'NotEnoughAccountKeys']}, 'logs': ['Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program FV55U1fovcccV4Nzcg1EqJ8qGnGSCAP56jemkp2EFoLK invoke [1]', 'Program FV55U1fovcccV4Nzcg1EqJ8qGnGSCAP56jemkp2EFoLK consumed 851 of 200000 compute units', 'Program FV55U1fovcccV4Nzcg1EqJ8qGnGSCAP56jemkp2EFoLK failed: insufficient account keys for instruction']}}
tnx
it worked
I've used the wallet that pays for the account but I have no idea what program's InitializeAccount you are referring to
hi guys question wen  using this function on api getParsedTokenAccountsByOwner, how do you determine if it is an NFT or solana token/coins
when using ```InitializeAccount``` instruction  what accounts need to sign the transaction ?
any ideas <@!654481823585271852> ?
this is in useWallet

useWallet contains publicKey variable
yeah but im not sure why

pry a race condition, try:

if (publicKey) {
    console.log(publicKey)
} else {
    console.log("no public key")
}
and returns undefined
why does useWallet from wallet adapter doesnt return the wallet public key?


oh yeah baby! long routes ftw xD
okay, I guess I will have to write a program just to populate the data then take the account from it and pass it to the program I'm working with
let me see if I can whip up a reasonable frame for TS
ummmm
In your TS/JS you need to do the Create/Initialize instructions and in the program you have to take the data from the Initialize instruction and serialize it to the farm_id_info account
oh, yeah lol. anything similar for TS or JS ?
That is Rust client code, not program code
will this work ?
its just I can't find a web3 method that can do so for the data.
and since the owner in farm_id_info doesn't matter, I can be the owner and edit it as I want and then pass it the account to the program
exactly, at this point i need to populate it manually since there is no way to do it through the program
A pubkey initialized with 0's prints as 1's if I remember, so yes, you will need to somehow populate the data on that account with real-deal stuff
yes, I can do so. but I should not edit anything in the program lol
wait
farm_data does not look like a data account, farm_id_info does however
I have no idea where did it come from since there is no initialization process anywhere in the program, even the create instruction is not accessible by all mean. i even tried to invoke it directly but he processor just rejects it
If you can add an initialization instruction and pass it whatever you want farm_data to ultimately have for subsequent instructions, do so.
farm_id_info is the new account created, in this try, I made the account owner as the program. you can see farm_Data last, the fields in the data are all 111111111111
here is the logs:
everything is 111111111111
no, it isn't. it is all 111111111111
before you check owner
And to my previous question, when you log (`msg!(...)`)the deserialized farm_data... is it all zeroes?
it part of the program logic tho
yes, ```wrong pool manager```
Is it throwing the error?
where creator_info.key is my address
Not a react person... perhaps others here are but you can look at the react code no?
it perform this check:
```
if *creator_info.key != farm_data.owner {
            return Err(FarmError::WrongManager.into());
        }
```
and what do i do
yes, there is valid data, except the program rejects it since the owner field in the data doesn't match my wallet
And is there valid data returned in `farm_data` ?
I can, but I shouldn't. but the program already goes for it directly, through this:
```
let mut farm_data = try_from_slice_unchecked::<Farm>(&farm_id_info.data.borrow())?;
```
You have to look at what react is doing there
Can you add such an instruction to your program to initialize the account with data?
it expects an account with the data already populated regardless of the owner tho
yup, that's where I have the problem lol. my program doesn't initialize anything, so I need to write the data manually

\
but it looks like it doesnt assign any value
Can you show what useWallet() does?
yes solana
well that was the intention
Is the type public key from useWallet() a solana publickey?
can someone explain why does my publicKey return Undefined?
Here is the program side of that initialize, in this case one of the bytes of the account data holds an 'initialized' flag as it should only be called once:
```rust
/// Initialize the programs account, which is the first in accounts
fn initialize_account(accounts: &[AccountInfo]) -> ProgramResult {
    msg!("Initialize account");
    let account_info_iter = &mut accounts.iter();
    let program_account = next_account_info(account_info_iter)?;
    let mut account_data = program_account.data.borrow_mut();
    // Just using unpack will check to see if initialized and will
    // fail if not
    let mut account_state = ProgramAccountState::unpack_unchecked(&account_data)?;
    // Where this is a logic error in trying to initialize the same
    // account more than once
    if account_state.is_initialized() {
        return Err(SampleError::AlreadyInitializedState.into());
    } else {
        account_state.set_initialized();
    }

    ProgramAccountState::pack(account_state, &mut account_data).unwrap();
    Ok(())
}
```
thanks man, I will try it üòÑ


Aye. Here is example in Rust:
```rust
    let mut transaction = Transaction::new_with_payer(
        &[
            system_instruction::create_account(
                &wallet_signer.pubkey(),
                &account_pair.pubkey(),
                account_lamports,
                state_space,
                program_owner,
            ),
            Instruction::new_with_borsh(
                *program_owner,
                &instruction_data,
                vec![
                    AccountMeta::new(account_pair.pubkey(), false),
                    AccountMeta::new(wallet_signer.pubkey(), false),
                ],
            ),
        ],
        Some(&wallet_signer.pubkey()),
    );
```
the initialization instruction of the program ?
BEST PRACTICE:If you want the data to have, well, data in it you should create an transaction with 2 instructions:
1. The first creates the account with data
2. The second invokes an initialization instruction that passes the data to the program to populate the program accounts data
yes, I assigned the owner to my wallet, but if i wanted to assign the new owner as a program, I have to zero it out
yes i was going through it. that's the pickle I'm in lol
When you create an account, owned by a program and specify a data size the resulting block of data is already zero'd out
https://solanacookbook.com/core-concepts/accounts.html#facts
but if i wanted to transfer the ownership to the program I have to zero out the data as I understood lol
Okay, thanks! I'll try it
if I created the account as my wallet is the owner I can modify it, correct ?
If you created the account with the program as the owner, then yes.... the program must change the data.
hi all, is it possible when creating an account through ```systemprogram.createaccount``` to modify its data ? or only the program can do so ?
If you are in the program that owns that PDA you don't need to use `invoke...` anything, just transfer the lamports from your PDA to whatever the recipient account is: https://solanacookbook.com/references/programs.html#transferring-lamports
returns me this
<@!202864446903681026>
Hey guys, i there possible to transfer SOL from PDA that owns my program (Not a System)? Im tried to use `invoke_signed`, but it gives me `Signature verification failed` error, any idea?
how do I need to use the PublicKey
yes!

well where are you coding
import it
im pretty new to this sorry for asking
how do i do that?
try using the solana module
nah
<@!136394070670049280> <@!202864446903681026>
the publicKey shouldnt be : any right?

Prob a very simple thing to do but  i can seem to get it working
Then also: " use anchor_spl_token::token::InitializeAccount;" but when i use this....

I get: `error[E0106]: missing lifetime specifier`
can some1 help:

My goal is to take a token, and then launch a wrapped version....

```
use anchor_lang::prelude::*;
use anchor_spl::token::InitializeAccount::{self};
declare_id!("5CJLYpV8p73QUHNALLDChxSUfHZWut3yk9g78nZ5Hgg6");
//
#[program]
pub mod stable_up {
    use super::*;

    pub fn initialize(
        _ctx: Context<Initialize>
    ) -> ProgramResult {
        Ok(())
    }

    pub fn initialize_pool_asset(
        _ctx: Context<PoolAsset>,
        data: InitializeAccount
    ) -> ProgramResult {
        // let wrapped_token_program_id_ = token_instruction::initialize_account(
        //     i_a
        // )?;
        // // ctx.token_program_id = token_program_id;
        // ctx.wrapped_token_program_id = wrapped_token_program_id_;


        Ok(())
    }
}

#[derive(Accounts)]
// Pool
pub struct Initialize<'info> {
    pub owner: Signer<'info>,
    pub system_program: Program<'info, System>, // <--- Anchor boilerplate
}

#[derive(Accounts)]
// #[account]
pub struct PoolAsset<'info> {
    pub token_program_id: AccountInfo<'info>, // asset
    pub wrapped_token_program_id: AccountInfo<'info>, // asset
}

```
I get : error[E0412]: cannot find type `InitializeAccount` in this scope
or is these a better way to do a token airdrop?
hey there. i m trying to use solana-tokens distribute-spl-tokens but i run into an error while doing so:
`thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Error(UnequalLengths { pos: Some(Position { byte: 102026, line: 1672, record: 1671 }), expected_len: 3, len: 2 })', tokens/src/commands.rs:507:40`
nah, you don't need Connection to get your own public key
almost every way i tried making it a string it returns the same thing
really weird
thats weird, toBase58 should be returning a string not PublicKey object
you guys dont think that i need to use Connection variable in some way?

returns same thing

https://ptb.discord.com/channels/428295358100013066/517163444747894795/932207165039607818

just directly `publicKey.toBase58()`
you don't need to convert `publicKey` that imported from `useWallet` to PublicKey object, its already PublicKey object
havent yet
have you tried generating a keypair then printing the public key just to confirm you are doing it rightr
how
i would make sure that its a valid publickey
idk i get returned same thing every time
nah, i generated a keypair and then printed its publickey
are you sure its a valid publicKey?
did your user had to connect for you to detect the address?
same stuff

try logging `publicKeys.toBase58()` directly maybe?


i get same thing
outputs that


try toBase58()
see const pubstring
i turned it into a string
that
but i know
idk how can i check
is `publicKey` as string?

hey guys why doesnt pubstring console log the string version of my public key?

for my contracts when i store information, should i be using randomly generated accounts or should I be created pda's?
That should be it.
1 lamport for each transfer instruction.
5000 lamports for verifying each signature.
money paid to solana system to do the transaction
That is an eth thing.
i think it is called gas fee or something
When you say transaction cost, do you mean the total balance change?
thanks
is there any  high  number  considered as maximum ?
(worst case, containing as much of instructions as possible and the most expensive one)
If you want the total balance change after a transaction then you can run simulate transaction.
Most actions have a deterministic cost.
https://stackoverflow.com/questions/44272416/how-to-add-a-folder-to-path-environment-variable-in-windows-10-with-screensho
is Transaction fees constant for all Transactions?
and if no how can i get it ?
I‚Äôve been looking in google for hours and most of the people know how to do it in Mac or Linux, but not in windows
Can you try searching google?
I‚Äôve tried that, maybe I have to update the PATH, but I don‚Äôt know how to update it on windows
Try restarting vscode.
Hey guys,
I'm trying to create a mint web, i've installed solana tools, but when i try to check solana --version, it says "solana" is not recognized as an internal or external command,
executable program or batch file in VSCode. Do you know why? Or how can I fix that?
the error message is super unhelpful
i would need to read the code
I think I got it! Thank you so much for the help man. I think my problem was i was sending 1 lamport worth? For some reason when changed it to even 10 it made it go through
so if you get rid the secondary signer it might work
i am not sure if phantom accepts native keypair signers in an array off the top of my head tho
but idk what the mints are or anything so its hard to debug
yeah im not sure this looks more like a phantom error and if you ran this code on a server it would probably work
i'd imagine it's just a variable that isn't correct that is causing the error
"Phantom - RPC Error: Something went wrong. {code: -32603, message: 'Something went wrong.'}" this is the error in the console
yeah they both do
wait one sec actually
yeah they're both my wallets, they both have enough sol and the custom token
both of them are an account and not undefined?
and copy and paste the public key your console logging
when you go to the solana explorer
yeah I believe they both do. is it still necessary to check if they both have it?
i cant see you checking for that in your code
both accounts have an associated token account?
both account exist, wym create the account?
you need to create the account and pay the solana cost if it doesnt exist on the other side
hello i dont dm
I'm still having some issues, do you think you could shoot me a dm?
Anyone know how to fix this?
https://docs.solana.com/cluster/rpc-endpoints i think this might be what you're looking for?
what is the rate limit of sending transaction?
it that measured by IP address ?
yeah the documentation left me a little confused lol. Thank you I'll check this out
i might make a PR
im actually not sure why that is not in the cookbook on the sending spl tokens page
the wallet you send to needs to have an associated token account first https://solanacookbook.com/references/token.html#associated-token-account-ata
Pretty noobish on this so I'm not sure I have the correct variables, but this code gives me a phantom rpc error trying to send the custom token. ("mint" is the token address). Ideally, I'd like to send a transaction from the dev wallet to the connected user when this function is run. Anyone know off the top what's wrong with my code?
I think project serum has an open source one on github.
Some people have built contracts.
Is there an existing way or contract
Is there a way to stake your NFTs to get SPL tokens
Bump! <@445425471027544095>
TransactionV2 wen go live?
Hello, I'm having trouble while initiating solana-test-validator in Windows 10, with error message:
"The application could not be started correctly(0xc0150002)."
Is there any suggestions to resolve this?
i mean i have deployed it previously but i made significant changes
`Error: Account FrcjfCFU6afHnJ2a51Amiqdht1HgHsWUt7ptSWsjq1qc is not an upgradeable program or already in use`
hello , whenever i try to deploy newly made updates to my `lib.rs`, using `solana program deploy /home/nick/sol-work/tokey/target/deploy/tokey.so`it states
anyone know how to fix this
Hey guys! I'm working on an open source Solana browser extension, very similar to phantom, but unsatisfied with it being closed source.

If you are interested in contributing, please add me as a friend and send a DM!

To add, Sollet is ok, but I think the user experience and UI puts off a lot of inexperienced users.

The goal is to make a super user friendly, clean experience for newbs and for experiences devs
Been searching for some time but havent found anything useful :c
Hellooo mates, was wondering if there was information or bibliography about making a verification discord bot for phantom wallet
```rust
use solana_program::{
    account_info::AccountInfo, entrypoint, entrypoint::ProgramResult, msg, pubkey::Pubkey,
};


use std::convert::TryInto;


entrypoint!(process_instruction);
fn process_instruction(
    program_id: &Pubkey,
    accounts: &[AccountInfo],
    instruction_data: &u8,
) -> ProgramResult {
    let (key, rem) = instruction_data.split_first().unwrap();

    match key {
        0 => {
            let value: u64 = rem
            .get(0..9)
            .and_then(|slice| slice.try_into().ok())
            .map(u64::from_le_bytes)
            .unwrap();
            msg!("zero! {}", value);
        }
        1 => msg!("one!"),
        _ => msg!("error!"),
    };
    Ok(())
}```
does this means there is a problem parsing the last instruction ?
it is a token transfer instruction but when signing it with phantom wallet it doesn't show the details for last instruction
it is noraml ?
also does anyone know how the address_labels are used by the CLI?
```
json_rpc_url: "http://localhost:8899"
websocket_url: ""
...
address_labels:
  "11111111111111111111111111111111": System Program
commitment: confirmed
```
or is it the same functionality?
Just noticed that i have an empty `websocket_url` in my config.yml, i'm wondering what type of communication happens over that url versus the RPC url?
Good tip neo. You helped fill a gap in my understanding on this
Send it back to server (or where ever your private key is) with transaction.Serialize
On the server deserilize the transaction and sign it again
The execute it
haven't looked at it yet but this might also be a key resource: https://www.soldev.app/?utm_source=solana.com
I saw it linked somewhere in the solana docs but it was positioned in a way that made me just open a tab and I went on skimming the docs.
Thumbs up on that one
lol
and maybe the channel theme as well
<@!455114989397868556> can you consider adding the solanacookbook as a pinned message ?
Thanks so much I've had 100 tabs of solana resources up and haven't opened this one yet. Of course one should look for a cookbook. It's been a while
solanacookbook.com
you can try asking them for the source code
its all fucked ngl
yeah
so dont bother imo
its all custom
so its going to be really hard to build on top of them
yeah
none of the nft platforms outside of metaplex afaik are open source
huh
i wouldnt recommend building on top of closed source platforms in general. They are antagonistic to you and trying to keep all the alpha for themselves
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
its a weekend
Or are they alseep
Do devs actually talk in here, like the core solana devs
anyone know how to send custom spl token using @solana/web3.js? all the docs I've found just send SOL
are killing me
the docs
especially
yeah
Eth in comparison seems conceptially easier although still hard to implement starting out. Solana just feels impossible
Seems like if the rust program isnt published on github or some other source you don't actually know anything about a program. At least I don't know how you get that info
nope
Thats actually something i've wondered about. Do you know of a way to lookup a program ids instructions?
web interface or sockets?
selenium?
they dont have one
can you link the api?
yes
how are you interfacing with magic eden?
api?
buy nft
magic eden
<@!465429267602341901>  Okay! Can you specifically explain what your trying to do? I kind of need a deeper understanding to attempt to help. Your trying to make a `transaction`, yes? You want to know how to generate `instruction data` to send with the transaction, right? Can you elaborate on what instruction data you are trying to send and for what purpose?
yeah
Yeah just found that out
Solana needs to hire a few ppl to go through and ddedicate to tutorials
literally useless ngl
docs
<@!465429267602341901> Are you trying to interface with solana programs using `solana-py`? Or are you building solana programs? I just started looking at `solana-py`. Did you check the docs? https://michaelhly.github.io/solana-py/solana.html#module-solana.instruction
im looking at the token lending and see `initialize_account` but theres a lot going on otherwise
Anyone have minimal code on launching a token from a initialization?
agreed, sounds good
ffs
need to get this shit
will keep looking as well
thank you mate
Couldn't find nothing yet. I'm having similar issues so if I find out more I'll message you
üòÇ
<:ehh:778040859898675241>
just so you know. I've had almost no succes in getting things deployed so don't put to much hope on me
since days
literally sitting on that point
pls
Sure
Let me find a higher level example that includes data
Yes, in this example because there is no data to be passed.
the instruction data is just buffer.alloc
on that script
but here
data: Buffer.alloc(0)
Sorry I dont know
I need to try that. I've been using python for years and have just started learning javascript and rust specifically for solana.
python
This is the example-helloworld program from solana https://github.com/solana-labs/example-helloworld/blob/master/src/client/hello_world.ts.
I think the instruction data is generated by you by accepting parameters on the front end (react probably) to satisfy the the execution of the program on the blockchain. If the program you are trying to execute has no instruction data it is simply excluded. I'll find the code I saw that I drew this conclusion from (i could be wrong). However, do you mean in javascript or in rust?
where does the instruction data (hex) actually comes from?
like where is generated so I can get it before making a tx
I don't know but when you get to deploying the basic anchor example and run into this issue `Error: Account FXxEWeGY7fAZ3ZLT2kXorLt42tUCFvJGfgzmQjik8XXk is not an upgradeable program or already in use` can you let me know what you did?
how does one deserialize/decode a SOL transfer transaction in web3?
where can I find information about creating an stablecoin and publishing in a dex
.
btw your declcaire_id thing `solana address -k ./target/deploy/yourappname-keypair.json`
like where is generated so I can get it before making a tx
where does the instruction data (hex) actually comes from?
We need one good through and through example of actually setting up a program from scratch. If I ever figure it out I'll make sure to make one lol
If you figure something out, can you post it here? I'll do the same.
im in anchor too.  same issue
well its all stuff that is for beginners. but the real meat has no examples
I've ran through so many examples from different sources (just started trying anchor) with very little success
The examples need to be commented
Weird. I'll keep trying and report back.
ya its tough solana has zero examples
I thought so too, but I've restarted the test validator, re-cloned it and set up an new solana keypair with no success. I've also never had a successful deployment
i ended up resetting a new folder and key
I could be wrong tho
i had the same issue
Its cuz u already deployed it
Do i need to change the value passed in `declare_id!("...")` of the `lib.rs`? I've noticed it has the same value as a line in `Anchor.toml` that is mapped to the program name under `[programs.localnet]`
Using the `solana-test-validator`
I've changed the keypair and it simply displays a different `Account address` with the same error. Any clues?
Hey, I've been having trouble simply deploying an `anchor` example program from the git repo `https://github.com/project-serum/anchor`. After I run `anchor build` I go to run `solana program deploy target/deploy/basic_0.so` and get the following error `Error: Account FXxEWeGY7fAZ3ZLT2kXorLt42tUCFvJGfgzmQjik8XXk is not an upgradeable program or already in use`.
so i want pda to be owned by program-id (i thought it automatically was since it is derived from it - this is the confusing thing)
 so i think the answer is pdas are not useful until you MANUALLY assign an owner. 
you can derive from address-a, but it will not be owned by that address until you ASSIGN a new owner.
So to create a token with a price based on something else I have to create a token and smart contract? Or a custom token? I am not too familiar with that
but realised anyone who knows seed can call this function since it is owned by system
was trying to debit from pda in my case
To fix the price based on something, the issuing of tokens should be handled by an smart contract right?
I think I got it
a pda with data has to be owned by `program-id` to write to it. but pda with no data seems not needed to be owned by `program-id` but sounds like defeated purpose.
thats what it seems
not anyone but anyone that knows what functions said `program-id` contains
no problem man
thanks!
Tomorrow I can. Add me
Like I said, I just started learning typescript and becoming familiar with the wallet adapter repo but I think that's what you need to do
could you write a sample code for me?
You need to use useState and useEffect I think
the user has to connect their wallet
you have to be connected for that code you wrote to work
because it is owned by system program until manually assigned a different owner
if anyone knows the seed and `program-id` the pda is derived from. potentially anyone can sign transaction using that pda?
Could you elaborate pls? Are you saying to ask the user to sign? And what do you mean by sending to server?

It sounds like I need to execute code to sign outside of the web server it is hosted on. Because all the code on the web server is public
i was expecting it to be the `program-id` to be owner
however when checking the owner, i see it is the system account `11111`
is the address the account will be owned by
when i create a pda, the `program-id` arg
pdas
quick 1
with the right data
like is there a way to learn making them
is formatted
anyone know how the instruction data

any ideas why?
<@!345799173913968651> the value imported from useWallet is undefined
ok, thank you, i'll try that
I execute this in my terminal 

PATH="/home/alex/.local/share/solana/install/active_release/bin:$PATH"
on linux I saved the command that I use but idk what it would be for your system
how do i do that?
you have to update the path environment variable
you have to tell your pc where executable for the cli is
how did you solved it?
idk why but I've also ran into this problem
Ok, I'm trying to create a mint web, i've installed solana tools, but when i try to check solana --version, it says "solana" is not recognized as an internal or external command,
executable program or batch file in VSCode. But when i run it on cdm on my computer it recognizes it. Do you know why?

this looks good. did it work?
I just started and have a problem of my own I'm trying to solve but if I can help, I will

already familiar with this, thanks üôÇ
gotcha well get comfortable with typescript basics and keep learning. Here's a nice resource for their library https://solana-labs.github.io/solana-web3.js/modules.html
can you help me with something?
i tried it with putting my pubkey mannually so i still need to figure out how to get users
no but if you .toString it then you'll get it if the user connected their wallet
na its definitely not
this isnt public key right

a little
Are you familiar with typescript
this console logs nothing

<@!531453812917927945> windows
are there any up to date guides on using `spl-token` for multisig transfers? multisig transfer capabilities have been completely hosed for months now, and the error is always the same `presigner error`.

theres no clear indication of the fix, except to try any number of combinations of solana sdk, and spl token cli versions
thanks ill try it hasnt yet
This should work I think
work
<@!498506679474847774> did you get it to wrok
windows
oh nvm
is it possible to derive this without using an external service?
How do services like CoinGecko derive the USD price for a coin?
in the app
but this code u linked doesnt use publickey
thats exactly what im using
which os are you using?
try follow this https://solana-labs.github.io/wallet-adapter/#quick-setup-using-react-ui
console.logging the source code of Publickey Class
i've done that but when i try to solana --version it says it doesn't recognize solana
.
when i try to get publickey
i get console logged this
https://docs.solana.com/cli/install-solana-cli-tools
yes
anybody here have experience with using the poc_framework?
<@!345799173913968651>
you're using react-ui-starter?
and then get the users balance
here im trying to get the publickey in string (address)

via the useWallet hook
When i try to check solana --version, it says "solana" is not recognized as an internal or external command,
executable program or batch file in VSCode. But when i run it on cdm on my computer it recognizes it. Anyone knows why?
users public key
which variables?
but i dont know how to access the variables
yes im using it right now
https://github.com/solana-labs/wallet-adapter
if connecting to his wallet is what you want, 
you might want to check something like solana wallet-adapter
trigger a connection to his wallet,
t
nvm i gotit
When i try to check solana --version, it says "solana" is not recognized as an internal or external command,
executable program or batch file in VSCode. But when i run it on cdm on my computer it recognizes it. Anyone knows why?
```
    pub fn initialize_pool_asset(
        _ctx: Context<PoolAsset>
    ) -> ProgramResult {
        Ok(())
    }

```
Ethereum uses ERC 2981 for royalty payments, what is the rust equivalent?
Wahts the correct syntaax?
btu i have this on client.js:

```
  await program.rpc.initializePoolAsset(
    accounts: {
      owner: provider.wallet.publicKey
    }
  );

```

I keep getting: ` SyntaxError: missing ) after argument list`
So i got it running now on local
hey! I'm new, and i need some help installing solana tools
yeah so how do i detect the public key from user?
Hi, is the pda that shpuld handle the mint authority or is it the pda account for the program ?
it's when you are dealing with the Keypair() that you use the others
yeah actually you put the publickey,
otherwise I get this
Hi, I just went through that, its just passing the signer seeds pretty much to sign in for cpi..
u sure not the public key?
it hangs at ``    await connection.confirmTransaction(signature)`` it seems, and the tx never happens
Has anyone experienced issues where transactions randomly don't work?
``Unhandled Rejection (Error): Transaction was not confirmed in 30.00 seconds. It is unknown if it succeeded or failed. Check signature ``

Sometimes I will constantly get this error and then an hour later my app will work
the user's secret key or seed
<@!345799173913968651> Do you know how to get users public key (what should i put inside the publickey function)
Hi, I getting this error when running this following code and I don't see what key is missing.
please help

``` 
transaction = Transaction()
transaction.add(
  create_account(CreateAccountParams(from_pubkey=payer_account_meta.pubkey, new_account_pubkey=mint_account.public_key, lamports=client.get_minimum_balance_for_rent_exemption(8)["result"], space=8, program_id=program_id)),
  initialize_mint(InitializeMintParams(
    decimals=6, 
    program_id=program_id, 
    mint=mint_account.public_key,
    mint_authority=program_id, 
    freeze_authority=program_id
    ))
  )
client.send_transaction(transaction, payer_keypair, mint_account)
```

``**Error :**

RPCException: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 1: insufficient account keys for instruction', 'data': {'accounts': None, 'err': {'InstructionError': [1, 'NotEnoughAccountKeys']}, 'logs': ['Program 11111111111111111111111111111111 invoke [1]', 'Program 11111111111111111111111111111111 success', 'Program FV55U1fovcccV4Nzcg1EqJ8qGnGSCAP56jemkp2EFoLK invoke [1]', 'Program FV55U1fovcccV4Nzcg1EqJ8qGnGSCAP56jemkp2EFoLK consumed 851 of 200000 compute units', 'Program FV55U1fovcccV4Nzcg1EqJ8qGnGSCAP56jemkp2EFoLK failed: insufficient account keys for instruction']}}
``
https://github.com/jet-lab/jet-v1/tree/master/programs/jet/src
i am having a really hard time breaking my anchor program into modules.  are there any anchor repos i can look at for examples of how ot break a large program down?
Thank you so much.
https://github.com/project-serum/anchor/blob/master/tests/ido-pool/programs/ido-pool/src/lib.rs here is an example
How do I handle that, can you please give me some few tips. Would be really thankful..
Do I have to give minto authority to pda account or just pda ? If you have ideas about it ?
it depends on the constraints of the pda and what has signing permission for those in the contract
When I called that instruction from my program?
Oh tysm, so let's say I gave my mint authority to program pda, and call minto instruction.. shouldn't it be able to sign in with invoke_signed?
this requires paid quicknode account right?
it means the signer doesnt have write permissions on that account
hi, what does this mean failed: Cross-program invocation with unauthorized signer or writable account?
=........=
and you guys just close my issue
https://github.com/solana-labs/solana/issues/22528 i reported a bug in v1.9
lol
thanks ill try
like this? https://www.quicknode.com/docs/solana/getBalance
Does anyone know how to get the user balance while using the wallet adapter ui?

hello frens
or actually that doesnt seem to be the error at all lol
I also still need to make sure the contract works in general so  that may be the isue
```
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
==========================================================================
pride ten swear walk cement regret ring surround fancy wealth heart charge
==========================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
==========================================================================
Error: Deploying program failed: Error processing Instruction 1: custom program error: 0x1
```
<@!188052625525178370> any luck?
devnet
Ok, so now read `solana program deploy --help` If this is the first deploy you need a PROGRAM keypair which won't change everytime you build your app. For this I do:
```bash
solana-keygen new -o path_to_store_key/keyname.json
solana program deploy -k path_to_store_key/keyname.json target/deploy/PROG.so
```

This way your program account ID is static. (vis-a-vis the keypair noted)
is this mainne/t?
and if that fails, try `solana airdrop 1` (they limit the amount of airdrop per hr/id or some time frame... I forget)
DDone
right, so you need to do a `solana airdrop 2` to get some SOL
```
 solana config set -ud
Config File: /home/brandnamewater/.config/solana/cli/config.yml
RPC URL: https://api.devnet.solana.com
WebSocket URL: wss://api.devnet.solana.com/ (computed)
Keypair Path: /home/brandnamewater/.config/solana/id.json
Commitment: confirmed
brandnamewater@MSI:~/solana/anchor_ust_s$ solana balance
0 SOL
```
That's local
```
solana balance DFpuZ4akkLTEXHvr4vaq2fdBDdNNcvcUZTZTxQSuPeGA
500000000 SOL
```
right, im still in the phase of understanding the framework
if you:
```bash
solana config set -ud
solana balance
```
what do you see?
But that is just for local
yeah my balaance if 5000000000
so now what im good to deploy?
Cool
lmao
See, i'm not so fast üôÇ
its running!
wait the slashes
like the build
maybe i should delete that folder and rerun?
```
solana-test-validator --bpf-program /target/deploy/anchor_ust_s-keypair.json  \target/deploy/anchor_ust_s.so --reset
Error: invalid address /target/deploy/anchor_ust_s-keypair.json: No such file or directory (os error 2)

```
every time you do a `cargo build-bpf` it will gen new keypairs so this is not the solution for going to devnet (at least it's not what I do)... but lets deal with that once you get running
so `--bpf-program target/deploy/KEYPAIRNAME.json target/deploy/PROGRAMNAME.so`
so in `target/deploy` there are two files... the keypair of the PROGRAM and the program.SO
frank is hella fast
i assume bpf program is the folder of my program
`ADDRESS_OR_PATH` is my config?? orrr
omg well the answer it there lmao
`error: The argument '--bpf-program <ADDRESS_OR_PATH BPF_PROGRAM.SO>...' requires 2 values, but 1 was provided`
hold on
maybe thats the issue because im building a new program from scratch
so when you do that, it will use your keypair to fund whatever is in the `Keypair Path` if you do a `solana config get`
it says it requires 2 params
aye
it's where `cargo build-bpf` puts it
ohhh its the program path?
if you are in the general project folder of course üôÇ
it usually in `target/deploy/PROG.so`
or the compile path
path to so is myconfig path?
If that loads ok then we're getting somewhere
I would suggest, to start with:
`solana-test-validator --bpf-program <PATH_TO_SO> --reset`
so i start the validator and then checked.  like alll local
yeah idk wtf im doing lmao.  im used to hardhat, ganache and eth
Hold on, with 0 balance in that account LOCALLY, you may have a different balance on that in devnet
its odd because i had this all working 2-3 days ago
Validator is running... solana balance DFpuZ4akkLTEXHvr4vaq2fdBDdNNcvcUZTZTxQSuPeGA is 0 ... 

```
solana program deploy -k DFpuZ4akkLTEXHvr4vaq2fdBDdNNcvcUZTZTxQSuPeGA
Error: Dynamic program error: missing signature for supplied pubkey: DFpuZ4akkLTEXHvr4vaq2fdBDdNNcvcUZTZTxQSuPeGA
```
(by the way, you can have `solana-test-validator` auto load your program using the default key ID which has massive amounts airdropped on it in the genesis)
With your config set to local cluster, and you have `solana-test-validator` running... what does `solana balance DFpuZ4akkLTEXHvr4vaq2fdBDdNNcvcUZTZTxQSuPeGA` say? I presume that is what you are using to deploy with `solana program deploy -k <PUBKEY>` argument?
üëÜ 
https://solanacookbook.com/references/basic-transactions.html
got it figured out, thanks üçª
Maybe here? : https://solanacookbook.com/references/nfts.html
i do not know how to write this is type script 
```csharp
AddInstruction(AssociatedTokenAccountProgram.CreateAssociatedTokenAccount(
                    targetPublickey,
                    targetPublickey,
                    mint))
```
can anyone help me how to create this transaction in Type script with web3js?
it is currently in c#
```csharp
 var associatedTokenAccount = AssociatedTokenAccountProgram.DeriveAssociatedTokenAccount(targetPublickey, mint);
            var createAssociatedTokenAccountTx = new TransactionBuilder()
                .SetRecentBlockHash((await rpcClient.GetRecentBlockHashAsync()).Result.Value.Blockhash)
                .SetFeePayer(targetPublickey)
                .AddInstruction(SystemProgram.Transfer(targetPublickey, treasury, price))
                .AddInstruction(AssociatedTokenAccountProgram.CreateAssociatedTokenAccount(
                    targetPublickey,
                    targetPublickey,
                    mint))
                .AddInstruction(TokenProgram.Transfer(
                    init,
                    associatedTokenAccount,
                    1, owner
                )).CompileMessage();
```
this is all local too
Hi guys, just wanted to ask, is it possible for the solana wallet adapter to be used from CDN into a barebones HTML and vanilla JS?
Seems like something a lot get but i havent found a way to fix.  i closed and reset and still
I keep getting
```
Error: Account DFpuZ4akkLTEXHvr4vaq2fdBDdNNcvcUZTZTxQSuPeGA has insufficient funds for spend (1.08095064 SOL) + fee (0.00079 SOL)
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
That was the easiest non-help I ever gave üôÇ
which it can, so it returns Ok(())
and then goes to the else if which just checks whether it can sign
it does evaluate to false
got it
wait
aaaah
so i dont understand why it does not fail
https://github.com/solana-labs/solana-program-library/blob/3e1dd733968a74c19b7df5b0eda1663da79a2377/token/program/src/processor.rs#L842
which has owner system_program i thought
and owner_account is commonly a basic user/authority account
program_id is the spl-token::id() right?
line 766 - 775
```rust
pub fn validate_owner(
        program_id: &Pubkey,
        expected_owner: &Pubkey,
        owner_account_info: &AccountInfo,
        signers: &[AccountInfo],
    ) -> ProgramResult {
        if expected_owner != owner_account_info.key {
            return Err(TokenError::OwnerMismatch.into());
        }
        if program_id == owner_account_info.owner
```
the if statement in the last line
You have reference to lines of code you are referring to?
i have trouble understanding the validate owner function in spl-token
awesome
Yes
is this the place to ask newb dev questions?
And therein lies the rub... no idea
One more question, <@!814228493302497301> do you know if there's a timeline somewhere for a feature to be enabled?
Oh yes, you are not the first to get arrows in the back keeping instructions within budget üôÇ
Good enough while we waiting for the feature to be enabled
around 1/1000 of the tx will fail due to computation budget in our project
Yeah I can start test it locally but eventually the product need to be online so for this specific case there's no point to do that
That's cool! Thanks for your help
If local, you need to first start `solana-test-validator`
`solana feature status`
ah what is this command? never know I can see which feature is enabled or not using commandline
wheras it is active on local
Well, devnet feature set shows:
`5ekBxc8itEnPv4NzGJtr8BVVQLNMQuLMNQQj7pHoLNZ9 | inactive                    | transaction wide compute cap`
Is anyone using a cloud dev env to to build beginner projects ? I have been trying and running across multiple problems , maybe if Im really stuck I will ask some more questions, so far I was able to get through the issues. If interested you can see the problems I have been facing

https://github.com/morektz/qbSolanaMyMoney/blob/main/docz/errata.MD
Does local cli version matter?
```
solana --version
solana-cli 1.9.1 (src:b66e2ae3; feat:4100269022)
```
Got that, what does `solana --version` show you?
I'm using the devnet cluster
What are you running locally? 1.9.4?
From the code I see the heap frame is feature gated but not for the computation unit https://github.com/solana-labs/solana/blob/v1.8.11/sdk/src/compute_budget.rs#L58
i see
<@!127969511902019584> Massive local testing before even thinking about any other cluster but if your testing locally on the latest and greatest, ALL features are enabled which may not be the case, and likely won't be, in upstream clusters
do people even test shit locally? or do you just use devnet for integration testing?
Is the feature enabled in `devnet` (which is running 8.1.12 or something like that)?
May I ask if `ComputeBudgetInstruction::request_units(500000)` is working on devnet? I tried to include it in the transaction but from the log I still see 200000 compute units.
You'd need to add more context to your question. It's like saying "I can't get to the store.... help me"??????
Dm me so I don‚Äôt forget
There‚Äôs another function u can use to get the confirmation status. I‚Äôm afk but I was running into this problem too and found a simple work around for getting the status
hi all, im trying to mint an NFT on localnet so that I can locally test my dapp which interacts with nfts. so i'm writing a script that initializes localnet by giving my test user an NFT. 

I've succeeded at minting a non-fungible token, but its not a proper metaplex NFT yet. I'm lost on how to do this.
https://solanacookbook.com/references/nfts.html#mint-the-nft references `actions`, and I have no idea where `actions` comes from
Program accounts `executable: true` data is BPF bytecode and there is no BPF->Rust reverse.... the best you can get is convert to BPF source code which works if you can read it üôÇ
is there any documentation on the structure of executable accounts (programs) or how they're stored onchain?
huh
seems like something on my end with this specific instruction, other instructions / methods on my program work
something happening on devnet? getting this over and over `Error: Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed. Check signature` on any devnet rpc
I'll add a comment to the PR as they are related
Yeah, for the CLI I agree... from a programmatic test scenario it's easier to pluck the string from the `solana feature status` and wrap it into a Pubkey... still a matter of exposing `FeatureSet` directly through SDK or vis-a-vis `TestValidatorGenesis`
either/or I guess.  definitely seems nice to have as well.  we don‚Äôt currently have a nice way to map from a string name of a feature (something that‚Äôd be used to flag the feature for activation from the command line), something could be built for this though with macros prolly
i have already written this and how do i display my balance in html form

Hey guys, how do i dispay my solana account balance?
Seems like the topic is not discussed too much
Do you know any source where I can find information about this?
Hi! Is it possible to mint multiple NFTs in one transaction?
Or only one NFT per transaction is possible?
You need to have a contract that burns the circulating amount and mints circulating amount to keep it on par with USD
Synthetic asset
In Terra
Something like mirror does
Does anybody kmow how can I publish my token to a dex and always keep the price fixed to the real conversion of dollars? We already have a token that we are goin to peg to our currency (PEN). This is ok now because we are the ones who mint and burn, but‚Ä¶ how do we release our token to Serum and make it worth always what it worth on forex market
sign the transaction on client
send it to server 
sign it in server
execute the transaction
I've created a simple react app that has a function (pictured) that can be used to send lamports to the connected user's publicKey from my wallet. For this to work, I have to provide my private key as a string. Obviously, this is horrible because anyone can inspect my website and view my code and take my private key. Does anyone know the how I can work around this?

I think the workaround to this is writing a custom program that will send the lamports to the user's address and somehow calling this program using the solana js libraries. And I would have to restrict the program to only be allowed to be executed by me. Is this true or is there another way I should do this?
Why is there a double `&mut` in this line from the hello world example?
```
greeting_account.serialize(&mut &mut account.data.borrow_mut()[..])?;
```
and it deployed
ok i reverted to 1.8.0


///////////////////////////////////////////////////////////////////////////////////////////////

Ah I see. Thanks.
with higher limits
genegysgo offers free rpc
or you can use one of the RPC service provider
yes
Is that right?
The way I understand is Solana provides a public API. But if you want to, you can query your information from let's say, your own validator node.
pretty sure metaplex offers this functionality in their SDK so maybe check there. but for more details use their discord for NFT related questions

https://discord.gg/zzMFdmPd
Could you be more specific? That's exactly what RPC infra is
Just curious. Would the best way to avoid this issue be to get info from a node?
Ah I see
It's ratelimited, but none of that is perfect
Oh nevermind. I was referring to network outages. But the network was still up. Just the public API was out for a bit.
Anyways it's working now
I thought it was rate limited
Oh damn do they?
Third time of _what_?  Morons abuse the public RPC infra all the  time
Hey guys, there is an way to sign transactions with a paper wallet? On the documentation I just found how to generate a new wallet and adresses
how to modify this to create transection of a minted nft using it hash
```
// Add token transfer instructions to transaction
  const transaction = new web3.Transaction().add(
    splToken.Token.createTransferInstruction(
      splToken.TOKEN_PROGRAM_ID,
      fromTokenAccount.address,
      toTokenAccount.address,
      fromWallet.publicKey,
      [],
      1,
    ),
  );
```
Isn't this like the third time in less than a year?
` Error: 503 Server Overloaded: {"jsonrpc":"2.0","error":{"code":503,"message":"Server Overloaded"},"id": null}`
<@!309301433008783361> yeah validators seem to be slow. Solana's official RPC API isn't working either.
anyone else?
Service Unavailable for url: https://free.rpcpool.com/
but how to add an image to make this an nft?
what is the proper way to burn nfts with on-chain program?
I see a few possible solutions: either close token account, which currently hold this nft, or use spl::token::burn instruction (or spl_token_burn). What should I use or it doesn't matter?
thanks, will try
https://solanacookbook.com/guides/get-program-accounts.html#facts
no not directly. you'd probably use getProgramAccounts with filters
is there smth like gettransactioninfo endpoint in api which will show me info about deposit of tokens to my address
i'm not really sure what you mean
hello. is there any endpoint which will allow to have info about deposit of tokens? we are using our own node and requesting info about tokens deposit in solscan
feel free to let them know
you're talking to the wrong project.

https://discord.gg/wormholecrypto
It would be great if you can share any documentation for the same
Thank you :)
so yes
https://wormholebridge.com/#/
thanks
ask them üôÇ

https://discord.gg/EzpMFXdG
Hi, anybody can help me?
does Serum provide demo trading?
Hello All,
Is it possible to create bridge from ethereum compatible sidechain to solana?
i'm very proud of you
you beat me to it
.... I am in the wrong server ü§£
I am reading the CMv2 docs https://docs.metaplex.com/candy-machine-v2/creating-candy-machine and I have no idea what `    -c example \` is.. It says  *"(-cp option), the cache file suffix example "*

What does that even mean ü§î
Will look into that, ty
i am a big brian long fanboy
Any recommendations as to what's the best publicly (paid) available out there right now?
thats my edge sorry
hidden info
private
Who're you with for your RPC servers rn?
That's why I'm hesitant to try this at volume
Yeah, opens up some new issues though. Stales etc
still worth trying
My thought process was that I might be receiving old hashes, so recent would give us more time
it would show different data but i dont think it would fix this error
Do you think setting the blockhash commitment to recent instead of finalized would see any major improvements?
<:sadge:775435120420323370>
üòõ
time to pay $1.5k a month like everyone else
Hmmmmmmm
it could
Throttling shouldn't result in invalid blockhashes though, which is the main issue we're having atm
source am a bot
if your not using a paid plan as well
gengo will throttle you
but def reach out to them to see if they have issues
if you're doing more than small amounts of txs, its worth checking against another rpc to see if gengo is the issue
Yeah, they're not manually submitted
are you a bot like <@!867369388608061470>
What would you define as heavy?
are you doing heavy tx load?
Ah I see, thanks
without realizing it
you are already calling that
thats just a sanity checker
Would using getLatestBlockhash be able to improve anything?
i would reach out to gengo
Yeah, that's why I'm confused haha
yeah depending on how serious your project is, a lot of projects use multiple, so they have a backup in case of issues with a particular rpc
oh thats shocking gengo paid plan is pretty solid
I believe we're on a paid plan, would have to double check with the team
the free one i assume
This particular testing was done using https://genesysgo.com/
im also a bot
also if your a bot i really dont recommend quicknode
what rpc are you using?
Hmmmmm, will check that out
as a sanity check
the network has experienced degradation in the last few weeks at times, but right now everything looks fine
hello, I am just telling you to check multiple rpc nodes to make sure you are not using a slow server
<:Think:694988653264633876>
apparently you are supposed to use getLatestBlockhash
That sounds like working around the problem though, the transactions have to be submitted as quickly as possible in our scenario so that's not really a feasible solution
and see which ones have a higher number
you can query a few rpc nodes with getRecentblockhash i believe
I thought so. Thanks Chase for confirming üôè
Or at least very rare
How should I go about verifying that? I'd assume that's not possible when using finalized blockhashes
make sure you are not using a stale blockhash
pretty sure you'd have to set that up yourself with your own helper functions. i don't think web3 has any funtionality for cusotm rpc methods
quicknode is not known for having rpc nodes that are up to date
The time from blockhash fetching to transaction sending is well under 2 seconds, so I doubt that's the issue here
The transaction is being signed by an independent party after it's been assembled, so retrying would be a bit of a hassle as we'd need to get a new signature
specifically, the node I'm connected to has special RPC methods set up for Solana. I'd like to use the SolanaJS lib to send the request instead of the axios calls made in the example on this page: https://www.quicknode.com/docs/solana/qn_fetchNFTs
i doubt it's on your end. txs can get dropped, or blockhash not found usually means the tx took too long to send
trying to search for trade-states of auction-house. But I think the issue is that these accounts hold 1 byte as placeholder only. The filter is on `data` only right? Can't filter by `seeds`?
Not currently, I didn't see any way that this *could* happen, so I'm mainly looking into the root cause atm
do you have retries set? because this can happen
Could it be related to the RPC node used or the web3.js library itself?
Been seeing it for a good while now, tried experimenting with using recent blockhashes but that doesn't seem to do much
what are you trying to do?
mainnet looks fine rn.. hmm
Got it on mainnet
something like https://docs.ethers.io/v5/api/providers/jsonrpc-provider/#JsonRpcProvider-send

But for solana
Hey all üëã I did a bit of looking through the web3 lib and couldn't find anything. Are there any methods that allow me to send custom rpc methods directly to the client?
maybe this helps?
https://solanacookbook.com/guides/get-program-accounts.html#filters
there doesn't seem to be any issues on mainnet afaik
which cluster?
we don't manage token list
https://discord.com/channels/428295358100013066/517163444747894795/932442899340210177
Where have you all listed your Solana tokens
Hey there, I've been experiencing some interesting instructions submitting transactions. I'm getting BlockhashNotFound on about 1/5 transactions while the blockhash is fetched on the same network about 5 seconds before the transaction gets submitted. This error occurs using the processed/finalized/recent commitment to fetch the blockhash, any ideas as to what could be causing this?
Thank you <@!814228493302497301> ‚ù§Ô∏è 

Finally able to fix the issue! üéâ üéâ 

The issue was, we had two sequential transaction A -> B, A was happening in FE side and B was happening in BE. The issue was, FE was not confirming transaction A before calling out to backend to start transaction B.
A few notes:
1. If the program is open source you can find that, typically in a file called `state.rs` or `account_state.rs`
2. The program may be serializing the data so you will to understand that and the pattern match you put in must be something that will align with whatever technique they use.
3. Here is some guidance: https://solanacookbook.com/guides/get-program-accounts.html#filters
<@!783626440063057951>  So for the transfer, not including signing, all you need are PublicKey(s). You being the "from" and also the signer/sender you are good. For the recipient you need their public key... which may come to you in a base58 string (or other forms: https://solana-labs.github.io/solana-web3.js/modules.html#PublicKeyInitData) which you could construct a PublicKey from. How you get the recipient publickey is that your issue?
sender is my own keypair ofc. But for the address of the recipient, what do I fill in?
I'm trying to use `@solana/web3.js` in React Native, and it seems to work...but `console.log`s no longer write to the console. Has this happened to anyone else?
I'm trying to use `getProgramAccounts` , but having a hard time to get the `memcmp` filter return what I expect. How can I take one of an existing accounts owned by a program and see the `offset` of each of its params? Also, is it possible to search by `seeds`?
I haven't gone through any exploratory testing so... or even if it is applicable
Are you putting A instruction in the transaction before adding B instruction, or is A calling B?
There is some questions around doing both system_transfer and lamport inline, ordering issue, etc, etc: Perhaps this may help: https://forums.solana.com/t/how-do-i-transfer-lamports-between-3-accounts-owned-by-my-program-and-system-program/4294
Also, someone had this comment:
```bash
This is indeed a funny sorta-bug, solana currently checks whenever you do a CPI if the accounts passed to the CPI were imbalanced by the current (pre-CPI) instruction!
That just doesn't really make sense, so you can run into weird issues like the above.
You can actually hack your way around this by manually adding accounts to the CPI instruction, so that you pass a bigger (balanced) set of accounts.
```
Hello, is there a resource or contract I can look, for info in how to send a transaction that updates the state to accounts other than the signer of the transaction?
I am also checking the issue is in code if it is calling the transaction B before transaction A finishes.
Hey <@!814228493302497301>, I was able to track the issue happening. so error 143 was saying that raw constraint is violated. I have put the custom error and it is complaining that the program derived account I am creating for user doesn't has funds let's call this transaction B 

but I am putting funds in that account just in transaction A (which is made before B). 

Is blockchain takes some time before all nodes comes to sync?
Where did you get the keypair from?
Yeah, its either `bincode`, `serde` or `borsh` (haven't dug deep enough) or a straight up `u32::to_le_bytes(...)`
```js
manualTransaction.add(web3.SystemProgram.transfer({
    fromPubkey: payer.publicKey,
    toPubkey: toAccount.publicKey,
    lamports: 1000,
}));```
how do I get the `toPubkey` without having the keypair?
yes it is, i think they just encode enum 4 bytes here.
Hello, for spl-token what's freeze feature  useful for ?
<@!864737714469470209> Enum is u32 when borsh serializes (4 bytes) ***OR*** however they are encoding is taking 4 bytes for the enum invariant. So the last 8 bytes is your u64 (lamports)
yeah, i just see SystemInstruction::Transfer, so i think data is enum + lamports =9 bytes, still no see the why is 12
System transfer is the in the main solana repo: https://github.com/solana-labs/solana
Hey thanks. I was just thinking in the react front end, a simple authentication (like client side login). I'm doing an exercise in routing and was curious how to apply it to typescript. I see this is all in Rust.

Found a good resource on the page pointed to, thank you üôè : https://github.com/solana-labs/dapp-scaffold/blob/main/src/routes.tsx
hello in the farms library
https://github.com/solana-labs/solana-program-library/tree/master/farms
What is the purpose of a router?
hi, the system transfer instruction data is [2, 0, 0, 0, 160, 183, 36, 31, 0, 0, 0, 0] (length 12 array), how can i parse the lamports(where is the source code i can know the encode method)?
`.to_bytes()`
How do I get the bytes array from a public key?
Hey guys might be the wrong place to ask but on the https://github.com/solana-labs/token-list auto merge, does that happen on the hour or like 12:30 AEST?
Hey all, can you make a protected route in App.tsx with candy machine? Here is the return statement found there: 

return (

    <ThemeProvider theme={theme}>
      <ConnectionProvider endpoint={endpoint}>
        <WalletProvider wallets={wallets} autoConnect>
          <WalletDialogProvider>
          
      
            <Home
              candyMachineId={candyMachineId}
              connection={connection}
              startDate={startDateSeed}
              txTimeout={txTimeoutInMilliseconds}
              rpcHost={rpcHost}
            /> 
      
  
          </WalletDialogProvider>
        </WalletProvider>
      </ConnectionProvider>
    </ThemeProvider>

    
  );
};
this is nice I am trying to use transfer_with_seed method instead of transfer method.
Yes, originally it got transferred from a keypair wallet to that wallet
https://github.com/solana-labs/solana-program-library/blob/master/token/js/examples/create_mint_and_transfer_tokens.js
from this 
i am putting the associated address of my minted NFT which i got from find create AssociatedAddress functions from Solana SPL-TOKEN libaray

in the line ```
 1:const transaction = new web3.Transaction().add(
 2:  splToken.Token.createTransferInstruction(
 3:     splToken.TOKEN_PROGRAM_ID,
 4:     fromTokenAccount.address,
 5:     toTokenAccount.address,
 6:     fromWallet.publicKey,
 7:     [],
 8:    1,
 9:   ),
 10: );
```
in line 4 and 5 i changed it to 
 ```
 1:const transaction = new web3.Transaction().add(
 2:  splToken.Token.createTransferInstruction(
 3:     splToken.TOKEN_PROGRAM_ID,
 4:     fromassociatedAccountntAdress,
 5:     toassociatedAccountntAdress,
 6:     fromWallet.publicKey,
 7:     [],
 8:    1,
 9:   ),
 10: );
```
fromassociatedAccountntAdress and toassociatedAccountntAdress
i got these from function giving in this docs
https://spl.solana.com/associated-token-account

after executing the commands it gives me an error which is
this image
https://solanacookbook.com/references/nfts.html#create-an-nft

For straight up SPL Tokens there is a token registry for basic meta-data : https://github.com/solana-labs/token-list
You open a PR there. That list, PRs, issues, etc. are not supported on this channel
as in the docs this does make an nft but where is the image url?
There is also a `system_instruction::transfer_with_seed`
With comment `/// Transfer lamports from a derived address`
The original funding of your PDA worked OK I imagine as the 'from' was a System owned account correct?
https://spl.solana.com/token#example-create-a-non-fungible-token
this examples shows how to make an nft but didnt uplaoded an image?
where is the image ?
The reason may be to begin with, I am transferred SOLs to that address using invoke_signed to system_instruction::transfer
I am bit confused on why is it not owned by my program if it is coming from "PublicKey.findProgramAddress("
the `transfer` from the cookbook works when the "from" account is owned by your program
Yes, I am transferring SOLs like this
If the account you are transferring 'from' is a system owned account, then yes... the invoke should work
as a result, I can't do this operation 

```
**user_program_account.try_borrow_mut_lamports()? -= lamports_to_transfer;
```
Or is that initialize_account?
is createMint the same as deploying an ERC20 for SPL? no right?
https://discord.com/channels/428295358100013066/517163444747894795/932597555324399676
Hey <@!814228493302497301>, I have tried this one. I was little confused. 

The final thing is the account from which I am trying to transfer is owned by the system program as shown in the image. But as it is coming from "PublicKey.findProgramAddress(" so my program can transfer SOLs out of it using invoke_signed call to system_instruction::transfer
Of an owner for example
Hi solana is it possible to subscribe tx through websocket?
https://docs.metaplex.com/
need a simple, step by step guide to develop an nft marketplace using solana, rust,react. 
i've 48 hours to build
okay ty ill add that to my notes
Lovely ‚ù§Ô∏è, I will check if it fixes the issue, Thank you very much
Start with the SDK listing: <#763249718339567626>
https://solana-labs.github.io/solana-web3.js/
Look for the `onXXX` on the Connection object... you can subscribe to events
someone had mentioned solana js web3 sdk
and also "you can subscribe to account updates
so in theory track who the holders are"
How can i use solana web3.js functions on Android?
And skip the `invoke` costs
<@!850238468969988117>  You can do the transfer in your program FROM an account your program owns to ANY account: https://solanacookbook.com/references/programs.html#transferring-lamports
So it seems there are cluster version issue, the request is eventually hitting a cluster with nice version
Also works good when retrying for many times on mainnet
Hey guys I was wondering if anyone knew the fundimentals and how i could learn more about how to create an nft which distributes royalties to holders every 3 months for a dirt cheap stealth drop (i was inspired by a rugpull of the same concept) but i want to make a legit one with my artwork. can anyone point me into a clear path direction on what i would need to learn or how I can accomplish this
We have tested it a lot on localnet and devnet, it is working nice there
How to transfer SOLs from an account owned by the PDA to an account owned by system program?
This seems the issue
ü§î  Yess, these PDAs are owned by the program that I have deployed
And it may be the cluster version if this works ok in devnet/localnet
So, I believe that the system transfer will not transfer "from" an account that is NOT owned by the system
and importing these from anchor 

```
use anchor_lang::solana_program::{
    program::invoke, program::invoke_signed, rent::Rent, system_instruction,
};
```
I am transferring like this one
```
invoke_signed(
            &system_instruction::transfer(user_program_account.key, user.key, lamports_to_transfer),
            &[
                user_program_account.clone(),
                user.clone(),
                system_program.to_account_info(),
            ],
            &[&[&user.key.as_ref(), &[bump]]],
        )?;
```
find out what versions is running in mainnet-beta
it is transferring the full amount that exists in the PDA
It is transferring SOLs from PDAs to user's account
What are you CPI ing to?
```
#[error]
pub enum ErrorCode {
    #[msg("This is error message")]
    ErrorName
}
```
we only have lib.rs file and we are using Anchor, and in lib.rs we have defined only one error using following syntax
if you create a NFT with master edition, your mint auth will goes to the master edition. you don't have to disable it if you set max supply as 0. basically no one can mint more in the situation.
First thing is to resolve that Custom Error... whatever you are CPI'ing to ... check that source's program `error.rs` ... it'll be the 144th entry in that enum
wasn't the contract supposed to either work or not work consistently? ü§î
their most weird part is, it works after several retries
I am making a call to system_program
Yess, I am doing a CPI in my program.
Likely... or... are you doing any CPI in your program?
so it is being raised by the Anchor itself
because I am not raising this custom error
Thanks <@!814228493302497301>, I will ask there ‚ù§Ô∏è
Not an RPC error... that is coming from whatever program you submitted transaction to. Check with source code of program you called.... Anchor has a Discord server you can ask there
please don't cross post. replied you at mandarin channel
try discord searching, seems like there's been a lot of others with the same problem. https://discord.com/channels/428295358100013066/517163444747894795/930393902018596874
How to understand the "approve" method in SPL token? This is supposed to approve to another contract address, not the personal account right? But in the example code, the delegate account seems like a created derived personal account.
Hey guys, 

I am facing an issue. I am getting this error of Transaction simulation failing. But when I am retrying it several time, it is working good. 

I think, my RPC settings are bit wrong. Any ideas, why I am getting this error? 

I am using anchor 0.18.0 and I have not created the Custom Error 0x8f myself

```
Transaction simulation failed: Error processing Instruction 0: custom program error: 0x8f 
    Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP invoke [1]
    Program log: Custom program error: 0x8f
    Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP consumed 18871 of 200000 compute units
    Program 3f4J87oqwMxi7LqF5HTxSL8aFhnj9XX6o2WatXXrRGcP failed: custom program error: 0x8f
```

The issue doesn't come when testing on localnet, mostly coming on the mainnet
Hi!  We are using an Anchor program to transfer/mint a non-zero amount of SPL token to the user engaging with the contract. 

Current behavior: User has to approve two transactions sequentially - since the transfer or mint of SPL tokens require a token account to be passed as an argument, user has to first approve the creation of their token account for the SPL token mint and then approve the transaction for the transfer/mint. 

Expected behavior: User should be just approving one transaction and their token account should get created if it does not already exist for the given SPL token mint and the token should be transferred/minted to them. 

Any ideas on how to achieve the expected behavior in anchor framework? Thanks
Is Solana integrated with thegraph?
I minted an NFT on solana. The update authority is me but the minting authority is another wallet adress. Can I disable minting?
Hello is there any possibility to update tokenlist.json? 

I would like to add website to our nft game token. 

Thank you!
Hi, I cannot compile solana code, every time, I execute "cargo build", my computer stuck there, I have to force it power off.  Especially, when I compile the two modules "programs" and "net"
This is because you are signing with another PublicKey or signer is false

async function findProgramAddress(
  seeds: Array<Buffer | Uint8Array>,

): Promise<[PublicKey, number]> {
  let nonce = 255;
  let address;
  let seedsWithNonce;
  while (nonce != 0) {
    try {
      seedsWithNonce = seeds.concat(Buffer.from([nonce]));
      address = await PublicKey.createProgramAddress(seedsWithNonce, programId);
    } catch (err) {
      if (err instanceof TypeError) {
        throw err;
      }
      nonce--;
      continue;
    }
    console.log(address.toBase58(), nonce)
    const transaction = new Transaction().add(
      SystemProgram.createAccount({
        fromPubkey: payer.publicKey,
        newAccountPubkey: address,
        lamports: await connection.getMinimumBalanceForRentExemption(
          METADATA_SIZE,
        ),
        space: METADATA_SIZE,
        programId,
      }),
    );
    await sendAndConfirmTransaction(connection, transaction, [payer]);
    return [address, nonce];
  }
  throw new Error(`Unable to find a viable program address nonce`);
}

Facing Error: Signature verification failed error how to fix it ?
I think there is reference to this in the oyster repo
yagmi
It worked ser.Thanks again.
np. let me know if that works
Ah got it! Thanks Chase, really appreciate this!
<@!646798829286326282> 

https://github.com/solana-labs/solana/issues/22528
don't ask why but you have to deploy it on the last release
ah i know why. you have to redeploy your program on 1.8.12
not really sure. not sure that's enough information. not sure if there are any issues on devnet currently
https://discord.gg/zzMFdmPd
NFT questions in metaplex discord please
How can i sell an nft to a user who clicks on buy button Programtically

I have address of the token
<@455114989397868556> any solutions for this? Thanks
file an issue in the token repository if you have questions
we do not manage the token repo anymore. it's run externally
this is not the place to ask questions about adding logos and name to your coin. 

https://discord.com/channels/428295358100013066/517163444747894795/932442899340210177
sorry, i dont know how this helps????
https://github.com/solana-labs/token-list
https://discord.com/channels/428295358100013066/517163444747894795/932442899340210177
does anyone have experience adding a logo and coin name, website to the solana chain? I have created a token and am having trouble with constant Auto-Merge errors. this is my first go at this, so please be patient, I'm a beginner and new to rust and J.son prior to this i used solmergeai  for this portion and it worked fine...but they seem to have vanished, i have looked for tutorials on youtube... but most are outdated please help....willing to pay in SOL for quick help
can someone help?
```rust
    pub fun create(ctx: Context<create>, init_message: String) -> ProgramResult {
        let calculator = &mut ctx.accounts.calculator;
        calculator.greeting = init_message;
        ok(())
    }
```
`what is ctx.accounts.calculator` exactly?
Good resource thanks
this is where that one was located
btw lots of code refs here
https://solanacookbook.com/references/local-development.html#setting-up-connections
sorry
yea that confused me lol
oops

```js

const connection = new Connection("http://127.0.0.1:8899", 'confirmed');```
in that case can I not import connection just with 
```js
const solanaWeb3 = require('@solana/web3.js');
```
thanks
ah
add your endpoint where it says devnet
```js
const connection = new Connection( clusterApiUrl( 'devnet' ), 'confirmed' );```
How can I use my own rpc on `@solana/web3.js` is just 

```js
const { Connection } = require('@solana/web3.js'); 
const CONNECTION = new Connection(RPC, 'confirmed');
```
?
This discord is for support of the solana core protocol and spl programs. NFT questions can be answered in the metaplex discord
nft related questions should go to

https://discord.gg/zzMFdmPd
ntf related questions should go to 

https://discord.gg/zzMFdmPd
Is there way to query mint account data with web3js+spl-token library?
Hi All

Could anyone share the code of NFT minting with metadata from  scratch without using metaplex ?
Sure my friend, awesome opportunities are ahead.
does anyone have experience adding a logo and coin name, website to the solana chain? I have created a token and am having trouble with constant Auto-Merge errors. this is my first go at this, so please be patient, I'm a beginner and new to rust and J.son prior to this i used solmergeai  for this portion and it worked fine...but they seem to have vanished, i have looked for tutorials on youtube... but most are outdated please help....
Is it possible to get the owner of an nft inside a program function?
Hey folks! 

We are trying to redeploy a program to devnet that has been working fine for weeks, but since yesterday we are not able to push the changes to the devnet cluster. We have used both "anchor deploy" and "solana program deploy" but having the same problem.

versions of tools: 
rustc 1.59.0-nightly
anchor-cli 0.20.1
solana-cli 1.9.4

System: Macbook Pro running OSX Monterey 

The error being seen is here: 
Error: error sending request for url (https://api.devnet.solana.com/): operation timed out
or
Error: Custom: Invalid blockhash

Any clues on how do we get over this problem and move ahead with the deployment to devnet? Thanks.
If you ever run across anyone that might be interested in joining the project please let me know.  I have 7 positions that I would like to fill.
Great can't wait to see what how it turns out when finished.
That sounds terrific. Would love to see it once it gets launched. Sure Figment will assist you in the process.
With in-game assets as NFT's
Anybody has an idea of what to do?
Awesome, so currently I'm trying to build and launch a nft based simulation game built on Solana's blockchain.
It really depends on your project's needs. They have a wide variety of courses and tutorials as well as a broad github repository providing support to developers from different blockchains, not only Solana.
Could you tell me a use case example? As to what type of tools they provide and how it could help with my project?
Maybe you can find something here https://project-serum.github.io/anchor/getting-started/introduction.html
Sure, figment is a website that provides learning tools to promote the adoption of web3 and crypto
Hi all,
anyone have resource for staking  with anchor ?
thanks
If you don't mind me asking what is the purpose of figment? I just started to look at it and see what value it can bring to my project.
Hello, I want to know how can I access my keypair as on Figment the guidelines are a little bit unclear and I don't understand what do they mean with the "blue keychain button at the top right corner of the Pathway UI". I will like to know which Pathway UI they are talking about. Any help is appreciated. Regards.
ok
please don't cross post. has replied you at mandarin channel
Hello, I would like to ask if there are any recommended configuration requirements for aws if I want to build a node.
unless the code is open source and the functions for the program clearly defined, you won't be able to do that unless it has been verified by anchor. but not 
 by looking at random contracts on explorer. unfortunately this isn't possible right now
oh okay thanks
It is maintained by Metaplex, and is a way to release nft collections easily.
But fortunately in this case the program is a well known one - candy machine v2
In general not without knowing what the program is doing.
for example is there a way I can recreate this transaction? https://solscan.io/tx/4UshQN4oC3T5YCQaLTr8LpR5H9jLcbfCbeme3tAAzWv7yRtwFC5ggktgXEERZRnetQZpA6MthrgUmiPLpEqa21v7 seems that is interacting with a program
so there‚Äôs no way either to interact with it?
However a lot of programs that use the anchor framework have that information deployed on chain as an IDL.
Solana doesn't prescribe a way to do that.
hi, is there a way to read a contract? like can i get all the contract functions from a contract id?
so i want to do someting lke this: unsure if the code worksyet :

```
        let wrapped_token_program_id_ = token_instruction::initialize_account(
           data
        )?;
        ctx.wrapped_token_program_id = wrapped_token_program_id_;
```
And then save that to the PoolAsset struct
Ya im new to rust so its a bit different tha nwhat im use to.
So InitializeAccount is from SPL token's struct and i want to use those parameters to then create an spl token within the function
Those arguments are provided directly from the client, as bytes, whereas the InitializeAccount type just doesn't make sense to pass in like that from the client (try hopping to source on it)
You also just won't be able to use `InitializeAccount` as an argument to one of your instruction functions, not totally sure what you're trying to do
The issue is that `data` argument (unfortunate that the error doesn't print very nicely)
I'm new to rust but i keep seeing `#[program]<'a><'a>` in the compiler but that doesnt help
```
    pub fn initialize_pool_asset(
        _ctx: Context<PoolAsset>,
        data: anchor_spl_token::token::InitializeAccount
    ) -> ProgramResult {
        Ok(())
    }



 | #[program]
  | ^^^^^^^^^^ expected named lifetime parameter
```
Can anyone explain this
ill delete it
ah ok i thought it was more like specifically about your coin rather than a general question
a) no one who maintains that repo is on this server. b) the pull request template very clearly said not to come on discord asking about it
Huh that is very strange.
Will try in a but when back at comp
Thats right, i can confirm it both over http with the js client or using the cli, but after a minute or two it disappears
Also try running with `export NDBUG=*`
Hmm do you mean it returns a confirmation initially then doesn't after 1 minute or do you mean it doesn't return confirmations even after 1 minute?
at least you're unblocked for now üôÇ
Yeah, this doesn‚Äôt explain what i‚Äôm seeing with the test-validator not acknowledging signatures after a period of time, but it DOES give me a work around. Instead of checking via http requests I think i should be able to just subscribe and get the event, then won‚Äôt need to check on the tx after a period of time
I‚Äôll give it a look through, thanks!
https://solanacookbook.com/references/local-development.html#setting-up-local-validator
i assume you've seen this?
ah sorry, i misunderstood. my fault
It looks like that channel is for validators running the testnet, which I believe is quite different from the test validator for local development?
you might check out the <#670512312339398668> channel
https://docs.realms.today/
and here are the docs (WIP)
this is the place for all things dao and governance on solana
https://discord.com/invite/VsPbrK2hJk
Hi guys, is there someone who have experience developing a dao?
i don't think you can allocate space, after account creation
so you either account for it down the road, or you have to create a new program
yes you can't change the program size later
this problem looks like it doesn't have a solution
this one may be helpful as well
https://twitter.com/AND__SO/status/1482750628489478146
thanks chase! i'll take a look
https://twitter.com/pencilflip/status/1455948263853600768
that's more of an implementation detail. here is a thread on PDAs that may be useful
<@785084693023424542> it seems like the solana-test-validator running on localhost doesn't return info for signatures after like 1 minute or so after the transaction went through, is that expected? this occurs when using `solana confirm` via CLI and also when using `connneciton.confirmTransaction()` via JS
cool, so i would want to init an account on first load & then save the state there, letting us use a max(ish) of 10MB per wallet?
yes 10MB is max account size. but you can solve this by using PDAs to save state
are there any storage limits imposed by solana smart contracts?
id like to store a "game state" (either an encrypted byte array or a base64 encoded json object) per wallet, and allow people to "set" their game state - basically making a solana wallet a game account
it's an offline game - so no need to worry about state tampering, but is there any theoretical limit to how big this game state could be per wallet?
cannot change project name like here https://forums.solana.com/t/how-do-i-solve-deploying-program-failed-error-processing-instruction-0-account-data-too-small-for-instruction/4252
so creating a new project everytime this happens can't be the answer
the program-id is apparently linked to project name
what do you do when you upgrade a program that exceeds remaining account size?
the top resources live on solana.com/developers if you ever forget
it will be usefull definetly
but havent saved
ive seen this site on twitter someday
thanks for reminder
what about this? lots of quests to help you progress with your knowledge
https://www.startonsolana.com/
im trying to build solana automation in python
yeah, thank you
what is your goal? what are you trying to do?
i gave all existing public programs, and then the hello world. that's really all i know of
Thank you!
Gotcha didn‚Äôt think so
or other oracles
Nope
chainlink only
i have followed that tutorial but im looking for more contracts to try more and more use cases
Don‚Äôt need the request to resolve, just need it to hit an endpoint
Hey! Is there a way to make an http request inside a program
ETH should be soETH
weird the explorer seems to be using the old token list
`solana-test-validator --help`
Another question on the test validator, is it expected that transactions that have failed "disappear" from after some amount of time? I did:
```
$ solana confirm 5D4tHKhDWs761vPk7EnVyUcCbjhYKmk6Hyh1RKr6cqo4CGeMuiSMVbLSRyrCBe9qo9o9KEir95nyqS97dUTq3WWH
Transaction failed: Error processing Instruction 0: custom program error: 0x4
```
And then about 7 minutes later:
```
$ solana confirm 5D4tHKhDWs761vPk7EnVyUcCbjhYKmk6Hyh1RKr6cqo4CGeMuiSMVbLSRyrCBe9qo9o9KEir95nyqS97dUTq3WWH
Not found
```
I want to create an disable minting for an nft with solana cli. Keep getting "RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x4" what can I do?
When I try running this, it gives me the SOL balance for the associated account rather than the token balance. Am I using the correct function or how can I return a custom spl token balance?
https://github.com/figment-networks/learn-web3-dapp
if you're brand new to Solana and trying to learn I'd recommend running through this. it takes you from the UI to deploying a simple hello world program
i meant more like smart contracts such as hello world or counter
https://github.com/solana-labs/solana-program-library
https://spl.solana.com
will do for sure, going to open source my code for this project, and can try to post something about this process in particular, though still having a few issues
what are smart contracts on devnet that i can use for testing?
yea not that I am aware, if you are able to share or write about what you did that would be a big help for the community. I know this is requested and other tools are perhaps working on these things for future.
ok, yeah, i'm like almost done making my own tools to load data in manually via a bunch of transactions, but its slower than I expected, so was wondering if folks had come up with a betters solution already
you can try the --clone option, but there is not much documentation around this. your best bet is to search discord for something similar to what your trying to do in that regard or try to navigate the --help options to do this.  as far as preloading or post loading lots of accounts there is no simple way to do this that I am aware of currently.  others are looking to give this a boost in the future for testing.
i would still try to contact linode based on what you did, and try to get the instance back or access back, or see if there is a recovery instance as well. and in the future back up your keys themselves and store them securely.
id also suggest testing things with local nodes, and dev, in the future, as much as possible to get comfortable with a setup.
is it possible to have the test validator populate a bunch of accounts with data when it boots up?
you can try to use the solana-keygen recover command,  and based on your circumstance you can search the discord history for the many variations and try one that applies.
Then this happened after I got the PUBKEY.  The next day I tried to log back into the root and was unable to access my Solana balance or anything. It gave me a port 22 connection timeout

I followed all the other steps to sending myself some SOL to create the token.  Each time it took a little bit of SOL
I only need one instruction.
I typed in SSH root@ my Linode IP number it logged in
hello, can anyone help me to write some code to interface with a Solana program? Paid work of course.
I opened my cmd prompt on computer
how did you originally get a sol balance on a cloud linode vm ?
Ok so where do I put the seedphrase in that was generated for my account and token?
if you are unable to access your instance, and they did not back it up, and you did not back it up, then likely it is lost and there is not anything anyone can do.
if you backed things up to a place you have access to then you may be able to still access or recover things, based on the network..    thats a cloud instance, contact cloud provider.
That .1300284 I have no idea where it is now while it‚Äôs not a lot I would still like to get my Solana back.
Borsh takes less CU than others
there are serde related examples to what you speak, throughout the solana code base though.

just preference and popularity,  serde is a framework though, borsh is just serialization.
linode is a cloud service, so for that you would need to contact them.
if you backed up your keys and info and have access to that, then you should still have access to those things you mentioned.
Is there a reason most tutorial use borsh instead of serde?
What I saw I lost I mean I saved my seed phrases for the BIP39 as it requested and I have the PubKey for my token
what does this have to do with your created token?  and solana balance, which are two different things.
Will Solana support Cross Chain Interoperability Protocol? (CCIP)
It says port 22 connection error‚Ä¶
I am no longer able to access my linode ssh root@*********
what does lost mean. and why cant you access it?
Dallllord
wtf
I was using Linode and running Unbuntu in my cmd prompt on my computer
Hello,  I have a few questions.
One I was trying to create a Solana token which I did.  I have now lost my ‚Äúsolana balance‚Äù that had money in it and access to my token that I created.
1. How do I regain access to my token?
2. How do I get my Solana that I initially transferred to myself to pay for the new token?
Programs do not have data 'state', the accounts that a Program owns have state (data) when you create the account and specify data > 0. It is a best practice to have an "Initialize"  instruction (you can name it anything you want but the semantics are it should run before any other instruction by the program) and is should be added to the transaction along with the createAccount. Of course the program execution has to define what happens during that Initialize instruction but it is not atypical for it to setup initial data including an 'initialized' flag for checking.
Hello! Two things.
Happening on mainnet with a quicknode RPC node.

1. I seem to run into "Error: Transaction was not confirmed in 30.00 seconds. " error a lot. Sometimes its actually confirmed, sometimes its not. Anyone have any suggestions on how to parse the txId out of this message in Javascript? Id like to run some code to then check it again to confrim if its failed. 

2. Also running into `Blockhash invalid ` error a lot. Both of these errors are happening when using the IDL to call program.rpc.(some ix)();  What would be the best way to avoid these in a production environment?
https://docs.metaplex.com/burn-token
How does burning work in Solana, are the tokens destroyed somehow or are they sent to a dead address? I'm trying to get rid of scam NFTs sent to my wallet, but don't want to interact in case there is some kind of danger in doing so. Does anyone know how to get rid of scam tokens in your wallet?
Hey guys, is there some way  of achieving something like `setTimeout` in a Solana program?
how can I get the balance of a custom spl token in solana web3js?
Anyone know of APIs for creating NFTs programatically?
How do I initialize a program state after I created an account? I cannot see an instruction in the program to do that, but I can see instructions that _act_ on the account data. Is there a standard way to initialize accounts?
only in the validator or the error message that you hit when you catch it
please note you wont see program logs in your console when you do skip preflight true
processed with skip preflight true
but you would see that when you simulate
understood, thanks
yeah unless there is a specific instruction to deduct more money or less money
and that never changes? for both SOL transfers and NFT transfers?
? a transaction just has a 5000 lamport fee
how can i determine fees? üòÖ
this is the response that i get from that
```js
{
  context: { slot: 116559704 },
  value: {
    accounts: null,
    err: null,
    logs: [
      'Program 11111111111111111111111111111111 invoke [1]',
      'Program 11111111111111111111111111111111 success'
    ],
    unitsConsumed: undefined
  }
}
```
connection.simulateTransaction() 
```
 /**
     * Simulate a transaction
     */
    simulateTransaction(
      transactionOrMessage: Transaction | Message,
      signers?: Array<Signer>,
      includeAccounts?: boolean | Array<PublicKey>,
    ): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;
```
the web3 js has a simulate function I think
wondering if i can do it with anchor
I believe there is fee info in https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction
is it possible to calculate what fee will be required for transaction before sending it?
I have integration tests running against local validator, and I want them to run faster
does anyone know which commitment level is the "fastest" i can see from docs that "processed" is the lowest documented option, but there are these other options too
```
  /**
   * The level of commitment desired when querying state
   * <pre>
   *   'processed': Query the most recent block which has reached 1 confirmation by the connected node
   *   'confirmed': Query the most recent block which has reached 1 confirmation by the cluster
   *   'finalized': Query the most recent block which has been finalized by the cluster
   * </pre>
   */
  export type Commitment =
    | 'processed'
    | 'confirmed'
    | 'finalized'
    | 'recent'
    | 'single'
    | 'singleGossip'
    | 'root'
    | 'max';
```
Oh also thank you for the mint link u sent me earlier. Made me realise that my smart contract was right. I just had to pass my mint address as writable. N its fixed now.
I passed my accounts this way: Isn't that right?

```python

payer_account_meta = AccountMeta(payer_keypair.public_key, True, True)
spl_program_meta  = AccountMeta(TOKEN_PROGRAM_ID, False, False)
rent_account_meta = AccountMeta(solana.sysvar.SYSVAR_RENT_PUBKEY, False, False)
mint_keypair = Keypair.generate()
mint_account_meta = AccountMeta(mint_keypair.public_key, False, True)

create_account_params = system_program.CreateAccountParams(payer_account_meta.pubkey, mint_account_meta.pubkey, Token.get_min_balance_rent_for_exempt_for_mint(client), 82, spl_program_meta.pubkey)
client.send_transaction(Transaction().add(
    system_program.create_account(create_account_params)
), payer_keypair, mint_keypair)


accounts = [
    mint_account_meta,
    rent_account_meta,
    spl_program_meta
    ]


transaction = Transaction()
transaction.add(TransactionInstruction(
    accounts,
    program_id,
    bytes([])
))

client.send_transaction(transaction, payer_keypair)

```
Will def check em out. Thanks heaps for the info.
So its a no go
this saves on a lot of write lock issues
Oracle is only on devnetor testnet for solana
drift protocol doesnt use an oracle for example except as a backstop incase of a price spike
but not every platform uses an oracle to do liquidations
Thank heaps
Ye I should check some plafform codes or ask them. I mean like most of them are pretty open source tbh.
yes
So that means I need to continuously fetch the price from Oracle price feed or something similar to it and then..
then review the client code and use similar example for calling from the client with the above mentioned.  its matters what accounts you pass in, and the data if any passed in with it. how the instruction is constructed is important. https://solanacookbook.com/references/nfts.html#create-an-nft and many other examples there that show how to do instructions. `'accounts': None`  may imply your not passing accounts correctly.
so it would be worth to ask the platform directly
every single collaterized platform has a different mechanism for liquidatin
it depends on the platform lol, but you manually search through every account related to the program and see if they are over collaterized depending on whatever equation the protocol uses and then send the instruction to liquidate
I closed all things now, and I tried multiple ports while enabling the port forwarding since I'm using an AP.
I checked firewall disabled and other permissions not exist (I think). So I'll now going on with devnet.
The first trial was deploying Solidity contract (.sol) to devnet, but I found in Github that it is not available for now.
Thanks for answering, and I'll be back after re-writing my contract with rust!
well, The initialize_mint is being ran in a program, and to my knowledge, I followed exactly what the example code says:

I don't think the problem is on there, I think it is probably instead from me calling the code on the client, but I just don't know where:

```rust
    let account_info_iter = &mut accounts.iter();
    let mint_account_info = next_account_info(account_info_iter)?;
    let rent_account_info = next_account_info(account_info_iter)?;

    let mint_authority_pubkey = program_id.clone();
    let freeze_authority_pubkey = program_id.clone();
    let decimals = 0;
    let token_program_info = next_account_info(account_info_iter)?;
    invoke(
        &initialize_mint(&token_program_info.key, &mint_account_info.key,  &mint_authority_pubkey, Some(&freeze_authority_pubkey), decimals)?,
        &[mint_account_info.clone(), rent_account_info.clone(), token_program_info.clone()]
    )?;

```
you need to look at the instruction, data, accounts, being passed to the InitializeMint wherever your getting that from.  try to use provided example code in the git repos and model after these, passing the same things, and as close as possible. as they work.
What could be the cause, I am running the initializeMint instruction after having ran create_account
might have to do with your setup, the machine or validator is not finding the address for some reason. could have to do with network ports, or blocking, firewalls, permissions,  can post how your calling, the solana config pointing to what network, any logs or other related errors, .
``RPCException: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction', 'data': {'accounts': None, 'err': {'InstructionError': [0, 'InvalidAccountData']}, 'logs': ['Program 4dSqc3aSSxM6UGNLQPc1LWMhoMniTSuzTdAryvcH53K8 invoke [1]', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [2]', 'Program log: Instruction: InitializeMint', 'Program log: Error: InvalidAccountData', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1706 of 196813 compute units', 'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for instruction', 'Program 4dSqc3aSSxM6UGNLQPc1LWMhoMniTSuzTdAryvcH53K8 consumed 4893 of 200000 compute units', 'Program 4dSqc3aSSxM6UGNLQPc1LWMhoMniTSuzTdAryvcH53K8 failed: invalid account data for instruction']}}``
whats not working?
solana explorer down ?
Hello again, I'm failing the airdrop of the solana-test-validator, with the following message:
request_airdrop_transaction failed: IoError(Os { code: 10049, kind: AddrNotAvailable, message: "The requested address is not valid in its context." })

Any solution?
Its alright.
Sorry, I am not sure what any of that means.
When you get get the margin call or when you are down to some percent of your total collateral
In trading platform
No problem.
Liquidated how?
thanks dude for your help!!!
?
How do they keep track on those accounts
Just wondering, when account are liquidated, how are they handled like?
Correct.
Yes.


///////////////////////////////////////////////////////////////////////////////////////////////

I can pay money, I just need my transactions to go thru quicker
is there a way to make the confirmation go buy quicker. Or do I even need the confirmation?
Hey everyone!

Replacement for `require` statement in solana program?

Shall I have to define Err::.... Like this?
<@!590982495923732511>  any idea? i am using finalized in the commitmnt, just to increase the timeout
Can you please help me?
<@!590982495923732511> 
The another issue is showing now.
https://solanacookbook.com/
I believe the cookbook has an example.
Yes.
how do I send native sol to a wrapped sol token account?

Do I need to create a temporary wrapped sol account, and use an spl-token transfer? Or can I just system-program transfer native sol to the wrapped sol account?
Is this the another rpc endpoint for mainnet-beta?
i am using quicknode's 99$ rpc endpoint dude
If that doesn't help then it's the network.
Try this endpoint.
<@!590982495923732511>
still its taking so long
we already have custom rpc
<@!496606741228814337>
`solana config set -u "https://ssc-dao.genesysgo.net/"`
Try using the genesysgo endpoint.
its like timeout error most of the time?
guys anyone facing issues confirming the transaction on solana rn?
Hello everyone.
When I am deploying the smart contract to mainnet, this error is showing. 
Can anybody help me?
Thanks
That indicates wrapped sol
Does anyone here know what the `is_native` field means in the token program ?
But it's your call.
Well it took me 7s to find `SLFAgnik475LGB7FeHTzVgWAAAXqfzFENxbnJDyxgtL`, so should only take maybe 30 minutes to find one with SLFY
Anyway, thanks sir for your assistance.
Tried a lot, and this was the best address to me.
Especially on a halfway decent machine.
Why, shouldn't take more than 2-3 hours I think.
Then I should accept having 18 B instead üò¶
Ooh, that's not good.
It's 4 letters though, shouldn't be too bad.
But you would have to re-grind a keypair.
If you absolutely must have 50B tokens then you can create one with fewer decimals, like 2
overflow üëç
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/error.rs#L58
Yes, since you have maxed out the amount of tokens you can have in one account.
Coz I also noticed that when I try to mint more tokens I get this error:
`RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0xe [5 log messages]`
Does this mean that I cannot mint more tokens?
But you have 9 decimals so the token amount is `18446744073.709552`
The max value of a u64 is `18446744073709552000`
Token amounts are stored as u64
Definitely an overflow
That is an associated token account.
In the mint command's outputs I see that the Recipient is `EQSLSABEmvoRjCWvWn2jwXgBpwpRbrb4rJSCGxoeWcRh`. Which is an unknown address to me. It's not the address of the account used to create the token.
Yes, as shown here https://solscan.io/token/SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s
It's the default I didn't set it manually.
Might be an overflow
Setup the connection config
https://solana-labs.github.io/solana-web3.js/modules.html#ConnectionConfig
Do you have 9 decimals?
how di I do that
I think you can change that when you create a connection object.
`spl-token mint SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s 50000000000` :

`Minting 50000000000 tokens
  Token: SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s
  Recipient: EQSLSABEmvoRjCWvWn2jwXgBpwpRbrb4rJSCGxoeWcRh
Signature: 4Kf5ZFRo4pWAiuY3MJcrasVqxaWBdc5nZBUmXXv3gKEhLBTVDTZy2ySpdCJo8jUPFod95jUzBUFR7JVwcDcxdZK2`
`Error: Transaction was not confirmed in 30.19 seconds. It is unknown if it succeeded or failed.`
I need to know how to fix this error:
Guys, I did `spl-token mint SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s 50000000000` this command should add 50B to the total supply of the token.
But when I do `spl-token supply SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s` it says: `18446744073.709551615`.
How can I remove the timeout for confirming a transaction?
Or with web3.js for that matter.
Or can you delete accounts from the cli?
Does that mean you can re-initialize accounts ü§î
Yup.
So you signed for the token account to run a token transfer tx? With another as the feepayer
<@!590982495923732511>  <@!489206164270350337> 
Thanks guys. The problem solved by transferring all SOL was in the vanity address and creating the token from another account.
And can't use it as a fee-payer.
But you can't transfer sol from the account.
You can indeed sign for the account.
https://explorer.solana.com/tx/8THua1UZRccf8HJLbFJ1E2HpZ5qtskS1WqvLy4M36ZSLvvnwsYeCe733gsJiT1E9f4N9PrzJYApbJx34JmdkJiX?cluster=devnet
Actually it is not.
I think that may be a feature in the next token program upgrade
Closing token mints is not a feature at this time, so I believe the answer is yes
Coming back to this, so any sol transferred to a, say, token mint is lost forever?
`solana transfer -k SLFY....json <your wallet address> ALL`
lol ty
hit `</>` for full source
You have to empty out the account first.
I also tried to create the token from another address. Got the same error.
`RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages]`
this function `derivePath`  , where I can find it ?
thank you
I've to use the i value to create a new one
nice
Specifically 
```
for (let i = 0; i < 10; i++) {
  const path = `m/44'/501'/${i}'/0'`;
  const keypair = Keypair.fromSeed(derivePath(path, seed.toString("hex")).key);
  console.log(`${path} => ${keypair.publicKey.toBase58()}`);
}
```
You can just use your own keypair instead of getting it from a seed
Try #2 here https://solanacookbook.com/references/keypairs-and-wallets.html#convert-mnemonic-to-keypair
It has some of the code required
Exactly, because I want to create a token with a custom address. Should I do that after doing `solana config set --keypair anotheraddress.json`. Is that correct?
Sup guys, how is going? Did you know how I can generate a new pubkey from an keypair? I mean, I followed this (https://solanacookbook.com/references/keypairs-and-wallets.html#generating-a-keypair) to create a public address and a keypair, but I want to be able to create multiple addresses
Hmm you are trying to create a token with the same address as your keypair?
Here's the `solana balance` outputs:
0.1285284 SOL
Hi! Good afternoon! I'm looking for a rust developer with experience for staking and burning contracts for an NFT collection.
Staking it's simple, I need to setup minimum staking time, rewards time and reward amount (own spl-token)
Burning it's simple too, I need to be able to burn a NFT from our collection, and reward with own spl-token.

Anyone with this kind of contracts? Please DM. Thank you!
Which you can confirm by running solana balance
The issue is that keypair has 0 balance.
I did that and here's the `solana config get` outputs:

Config File: /Users/TestUser/.config/solana/cli/config.yml
RPC URL: https://api.mainnet-beta.solana.com
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s.json
Commitment: confirmed
I'm in the same directory where the json file located. So it's not required to type the absolute path for that json file.
`solana config set -k SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s.json` should work in this case, right?
Interesting.
I believe this is correct
You must do `solana config set -k "path to your wallet"`
That is wrong.
Error: Dynamic program error: No default signer found, run "solana-keygen new -o /Users/TestUser/Desktop/Labs/SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s.json" to create a new one
Config File: /Users/TestUser/.config/solana/cli/config.yml
RPC URL: https://api.mainnet-beta.solana.com
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: /Users/TestUser/Desktop/Labs/SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s.json
Commitment: confirmed
And solana balance
What is the output of solana config get
I tried to set the the full path of the "Keypair Path" using `solana config set --keypair /path/to/publickey.json`.
This time I tried the `spl-token create-token SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s.json` command, I get this error:
`error: unrecognized signer source`
While the program owns it.
Hmm so no one can sign for that account?
bump
I do not believe so. You have to close the account through the program from thence forth
To transfer funds from it for example.
But can I still sign for A with the private key?
Now the account A is owned by the spl-token program.
For example, I create a token at address A
Would cause other security issues if you could
I do not believe so. Only programs can sign with PDAs
<@!489206164270350337> quick question, once you hand over an account to a program you can't sign for it even if you have the private key, right?
Your keypair path is wrong.
But in this case the issue is you are using the same keypair to pay for the token as you used to create it.
The cli doesn't show log messages.
`solana config get` shows the following:

`Config File: /Users/TestUser/.config/solana/cli/config.yml
RPC URL: https://api.mainnet-beta.solana.com
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s.json
Commitment: confirmed`

The command I used is: `spl-token create-token SLFYmFvVShjT3783aDbtKzwjMZ9tAcC6YJa7VN5ou1s.json`
I know.
He's using CLI and getting the 0x0 not enough rent error
I would highly recommend using explorer.solana.com/inspector
I don't think the network fee has anything to do with it. Error is that you're not providing enough sol to make rent exempt. That's more than enough, I would make sure the expected keypair is your default under `solana config get`
Balance: 0.1285284 SOL

Also shows the same error. Is there a way to know the network fee for `create-token` command?
ty! let me try that
1. Bug the wallet to update their version of the registry
2. Bug the token registry to switch to an on-chain model.
ty!
cool thank you! is there anything i can do to help? anywhere i can update  the registry?
So the wallet will have to read from the npm package
The wallet chooses what version of token-list to include. They update slower than the explorers
Not on-chain for now, but I hear they are trying to fix that.
Tokens are registered in the token-registry.
token error 0x0 is https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/error.rs#L13
my issue is not on the wallet end though,  if the wallet takes the info from the chain and it shows on solscan, then why doesnt it show when you add a token to yuor wallet??/
0.1 SOL not enough?
`create-token` command should take almost 0.02 SOL only!
https://solanacookbook.com/references/local-development.html#airdropping-sol
`solana airdrop 1`
You need more SOL
`RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages]`

I get this error when I tried to set a custom keypair for the create-token command. Here's the command I used for that:
`spl-token create-token keypair.json`
We're not the wallets ü§∑
??? its been over 48 hours
Whenever the wallets take the latest
I have a question... I have added a token to the solana chain... i uploaded my logo and name to the chain as well... the changes show on solscan and i have an auto merge confirmation.....how long before the wallets that say "Unknown token" show up as the name of the token with the logo?
and it wasn't advertising anything but Solana itself.
can you direct me the right channel please?
Dev-support is not for advertising products
Some conversion stuff here https://solanacookbook.com/references/keypairs-and-wallets.html
i've tried it, it says incorrect format everytime
There should be an import option
how do i import my file wallet's private key to phantom?
alright thank you!
Read this and understand why you need to try again https://solanacookbook.com/guides/retrying-transactions.html
and nothing else i can do for this?
Try again
`Transaction simulation failed: Blockhash not found `
any help on this error guys?
Candy machine support here https://discord.gg/nn2D5Aev
Thanks!
You have tried the steps explained in that **very** detailed error message, right?
Thanks, i'll check it out! hope this gets me on track again
anyone know why i get this error when i do ``yarn start``
This uses the wallet-adapter and vue https://github.com/2501babe/revoken
Oh, looks like the vuejs starter was removed for some reason. Let me find you an example
What do you mean? I'm not sure what you're referring to.
Have you tried just using the vuejs starter and building from that?
Gumdrop is what some people do https://github.com/metaplex-foundation/docs/blob/d811ed39ee2a61c62e9c79410ffca80b125c512b/docs/airdrops/create-gumdrop.md otherwise recommend going over to metaplex discord https://discord.gg/nn2D5Aev
Hi guys. I'm trying to integrate wallets (https://github.com/solana-labs/wallet-adapter) on a VueJS front and keep getting this error on build:
` error  in ./node_modules/@solana/wallet-adapter-vue-ui/lib/esm/index.js

Module parse failed: Unexpected token (479:50)
You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
|     const active = ref(false);
|     const dropdown = ref();
>     const base58 = computed(() => publicKey.value?.toBase58());
|     const content = computed(() => {
|       if (!wallet.value || !base58.value)

 @ ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/Ranking.vue?vue&type=script&lang=js& 61:0-87
 @ ./src/views/Ranking.vue?vue&type=script&lang=js&
 @ ./src/views/Ranking.vue
 @ ./src/router/index.js
 @ ./src/main.js
 @ multi (webpack)-dev-server/client?http://192.168.1.103:8080&sockPath=/sockjs-node (webpack)/hot/dev-server.js ./src/main.js`

It is my understanding that webpack should be able to process .js, and even though i've tried to explicitly declare it in the webpack.config.js file i keep geeting this error. Any pointers?
Could someone help me? I wanted to make an airdrop from nfts for the first 1000 minters
Not today. Current process is to wrap the token program with another program and impl the custom logic, but adoption can get in the way of it being useful
Gemworks has a protocol opensource showing this https://github.com/gemworks/core
Is there a way to customize the spl-token like ERC20 tokens?
By selling it for some SOL and staking that?
Hey guys how is it possible to stake NFT on solana?
zzzz must be the silliest mistake I made in a long time. Thank you a lot for the help. for some reason I did not consider that
yeah ok I see my thought problem üòÑ. Taking the question back
Do what?
just curios why does it do that when transferring to myself?
..transferring to myself.. thanks for pointing out. no chance figure that out anytime soon debugging üòÇ
For your transfer to yourself edge case
Some nice info under the instructions though:
```
instructions": [
                        {
                            "parsed": {
                                "info": {
                                    "destination": "6wXrcw8FxvubC61hY7rZP6jvDBStxCS3jGEz4C2XvWJ3",
                                    "lamports": 200000000,
                                    "source": "6wXrcw8FxvubC61hY7rZP6jvDBStxCS3jGEz4C2XvWJ3"
                                },
                                "type": "transfer"
                            },
                            "program": "system",
                            "programId": "11111111111111111111111111111111"
                        }
                    ]
```
oooh
I did not guess. That is the correct place if you were not transferring to yourself
<@!489206164270350337> did you guess? because perhaps it worked for you in a different situation?
5000 difference = fee
here it is

actually sorry, I doubt it is visible there?
Sure
I send you link to the transaction if you want
but it had only fee in it
I did that first Jacob
On `getTransaction`
You would get them from the pre-balance and post-balance and doing a little bit of math
<@!910977971827925064> actually I think it's not in there tbh. I found it in data for system program in web3.js, but nowhere else (though encoded)
aha yes ü§¶ thank you!
Isn't that the first argument, what you pass as `signature` ?
thank you <@!910977971827925064> so that's not supported by the web3.js, but http only?
I think you can grab lamports from the tx details returned in getTransaction https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
hello how would someone get the amount of lamports that was transferred from a transaction id? (web3, or what works)
does anyone know how to get the tx signature from the confirmTransaction method response? https://solana-labs.github.io/solana-web3.js/classes/Connection.html#confirmTransaction
```await connection.confirmTransaction(signature, 'processed').then((value) => {
                        console.log('tx confirmed')
                        console.log(value)
                    });```
gm all
ok, thank you
This is the contract source.
That is the ui, yes.
thanks Jacob, I'll have a look
https://github.com/metaplex-foundation/metaplex-program-library/tree/master/auction-house/js
is this right one?
https://github.com/armaniferrante/auction-house
not yet,
could you share the link?
No problem.
A simpler code example? Candy Machine  is too hard for me to understand
Hmm have you looked at metaplex auction house?
Thanks for the tip!
now, I want to build a smart contract about NFT MarketPlace
do you have any sample code?
Should have more or less what you need.
I would suggest looking at the solana cookbook first.
Cheers, exactly what I was looking for. Couldn't find it on their website. Maybe I missed something
Not sure they have released that yet.
Hi, I'm new to the Solana blockchain and Solana development in Rust. I need to create a more or less simple blockchain application and am looking for someone who would offer to do a consulting call to answer all my questions regarding Rust development on Solana for a fee.
Hi, all
where can I get smart contract source code of Solsea?
https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/
Genesysgo has a free endpoint.
https://github.com/Bonfida/token-vesting
I believe Bonfida has a lockup program
I think quicknode has a endpoint for paid users
Is there an alternative public rpc endpoint available for devnet? I got rate limited due to some faulty logic
does anyone have experience with building vaults? got a few questions about how to implement lock up periods, vault capital caps, calculating PnL based on varying amounts of deposits and total capital in the vault, as well as varying amounts of days in how long capital stays in a vault
https://github.com/metaplex-foundation/metaplex-program-library/blob/e7f98f2cd4fefc0d8b71ab6080abd7570176efe0/nft-candy-machine/program/src/lib.rs#L256
can I know how?
You can definitely get the recentBlockhash
I think so.
I would suggest you look at candy machine as a reference of how to mint an NFT from a program.
Is there a way to get a latest blockhash in a program?
What should I add to the smart contract?
Also, I would like two users (wallet), one who creates NFT and the other who buys it
Yes, I want that each one is a different NFT
Or do you want to make each one a different nft?
Hmm you can add metadata to the token itself, but all of them will be the same.
I'm just repeating what it says in your error log, I couldnt make out what the problem is, then I saw it has the option to be more verbose
Apart from that you could open the issue it linked, or run the other command it points to, the one with `--explain` in it
Can you please send me complete command
Hi, everyone. I am following this tutorial to create a ticket system (https://www.fmendez.com/building-a-simple-on-chain-point-of-sale-with-solana-anchor-and-react). I would like to modify the smart contract so that each ticket is NFT. Can someone help me?
got sth like this from onAccountChange
seems like it's already buffer
Any boilerplate to connect ptyhon (django framework) to wallet?
"to learn more, run the command again with `--verbose`"
I am mac user
Can anyone help 
When i am installing anchor it show these errors
Hi. I am writing integration tests using solana_program_test and inspite of all the required accounts for the instruction being there I still get `TransactionError(InstructionError(0, MissingAccount))` 
Anyway I can resolve this?
I create an nft on devnet and everything works. When I set network to "mainnet-beta" with the same code it doesnt work anymore. Just when I delete ""is_master_edition": False" then it also works on the mainnet. But I dont want the nft to be a master edition. What can I do?
Associate Token ?
what is that  new PublicKey("8vkSjknzRbibHFghnXJdKgg6bFyLqwMxgrFdfPmViQAB"), //from pub key
      new PublicKey("DvUtYzsansGjA2YPkpsCiec1VAu4fAYc6zrb4vdPUTRe"), //to pub key
      new PublicKey("5GWHxbj3sVkPgsiMYNvEQDY1AHEfqkCP2XcAK3EQGegP"), //associate token ?
here is the old one
Hai <@!788215642070581289> , I already faced this error and you suggested this doc, but now got confused about the parameters, can you pls help ?
check https://solanacookbook.com/references/token.html#create-token-account
you can't use a system program account to receive token.
You don't need the seed phrase at all. You can restore your wallet with that json file dude!
that i understand , is it possible to get the seed phrase from that ?
It will give you a json file contains array of numbers. The content of this json file is your private key. You'll not lose your wallet if you have it's private key.
NOTE: Anyone has access to your private key will have full access to your wallet with the same privileges you have. So, keep it safe.
Refer this
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
and this is my code, anyone could help ?
const connection = createConnection()
        const transaction = new solanaWeb3.Transaction().add(
            SPLToken.Token.createTransferInstruction(
              SPLToken.TOKEN_PROGRAM_ID,
            
            new PublicKey("AUjWqSGd7fcbJ4BmuvRHPahAY4mSJaZyWke7rhNRxcx5"), //mint 
            new PublicKey("DLRrs6yTYZJkFiM5yV1mwDsU8b9bK4VHXA1NFdEiwHhz"), //to pub key
            new PublicKey("AKe2wbRyqtR27wv7shHPpHyuvQhgrskuukJL9k4J9iEQ"), //from pub key
           
              [],
              1,
            ),
          );
          console.log("Transaction: ", transaction)
        //   Sign transaction, broadcast, and confirm
          const signature = await solanaWeb3.sendAndConfirmTransaction(
            connection,
            transaction,
            [fromWallet.keyPair],
          );
Hai, got this error when trying to send spl tokens "Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction 
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]
    Program log: Instruction: Transfer
    Program log: Error: InvalidAccountData
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1582 of 200000 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for instruction"
After i generate a keypair via `solana-keygen new` on devnet 
how can i view its seed phrase , if i forgot to store it ?
Ask on Metaplex discord
How? there's a leader schedule and my validator wasn't a part of it obviously.
anybody know solution ?
`C:\Users\ASUS\Desktop\metaplex-master>solana --version
'solana' is not recognized as an internal or external command,
operable program or batch file.`
Something like the address of $SOL, $STEP, $KIN and $ATLAS.
Hi, how can I specify the first characters of the token address using `spl-token-create-token`?
First you are pointing to Rust program code in your link
Second, the deserialization in the cookbook is directly from a `getAccountInfo` so somewhere in the OnAccountChange return there is more than just data I would imagine. What does the data portion of what you receive in your handler look like? It may be base64 string which you first need to convert to a buffer and THEN deserialize that.
do I need to parse all transactions via https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress or is there a faster way?
how to find the earliest transaction date involving a certain address?
How to esimate fee with solana/web3js ?
When on solana devnet by issuing command 

```
solana config -set devnet 
```

and then calling 

```
solana airdrop XXX 
```

What is the maximum that can be dropped ? are there any restrictions , i think it can do 5 at 1 time ?
anyone help me thanks
i have code below but it error signers: [offer] here  : Translating error TypeError: Cannot read properties of undefined (reading 'toString')
 const offer = new PublicKey('7kQicCpA3sBCc3q1SSnuXmG8CAPbNWggpGc7KQnK2hxN');
  console.log("offer : ", offer.toBase58());
  const [escrowedMakerTokens, escrowedMakerTokensBump] = await anchor.web3.PublicKey.findProgramAddress(
    [offer.toBuffer()],
    program.programId
  );
  await program.rpc.make(
    escrowedMakerTokensBump,
    new anchor.BN(1),
    new anchor.BN(200000000),
    {
      accounts: {
        offer: offer,
        offerMaker: myWallet.publicKey,
        offerMakersMakerTokens: offerMakersMakerTokens.address,
        escrowedMakerTokens: escrowedMakerTokens,
        makerMint: addressNFT,
        takerMint: MINT,
        tokenProgram: spl.TOKEN_PROGRAM_ID,
        rent: anchor.web3.SYSVAR_RENT_PUBKEY,
        systemProgram: anchor.web3.SystemProgram.programId,
      },
      signers: [offer]
    });
Hi all,
how can i signers with phantom wallet?
Error: failed to get info about account 3gJ974b3HwEf7erRMy5esaHdijA76SKBtDkK39BVBzDr: TypeError: undefined is not an object (evaluating 'rnds[6]') i can't get info in devnet
Hi!
When I'm doing WithdrawStake according this code https://github.com/solana-labs/solana-program-library/blob/dd035edda0197e4a9f8fface770628dccfa3a452/stake-pool/js/src/index.ts#L223

I'm creating 3 stake accounts and my transaction became overloaded "Error: Transaction too large: 1413 > 1232"
Can I split this transaction for 2, or how can I deal with it?
is there a simple app / tool / command to convert slot number into the time when it was processed?
hihi https://solanacookbook.com/guides/serialization.html#usage
i tried to use the Assignable here to decode data received by OnAccountChange but the field map throw exception
hello guys, i want to fetch the holder of nft with mintaddress using solana web3js lib, any idea which function should i use in order to get the result. i tried getParsedAccountInfo but the owner pyblic is Token... one so if you guys can help, it will much appriciated <@!590982495923732511>
I request any documentations to build my own blockchain in rust without proof of work but others
Hello
Hello everyone so i'm trying to get a pda on the basis of a seed and the wallet address!
```rust
await PublicKey.findProgramAddress(
[
Buffer.from("mySee"),Buffer.from(SellerAccount.publicKey.toBase58()
)
], programId
);```

but it says the length to create address exceeded. any help on this
Where has this resource been?! SEO on this please. I have spent hours googling for some helpful documentation..
check this https://solanacookbook.com/references/token.html#create-token
you can init your mint auth and freeze auth when you creating the mint.
ty ser ‚ù§Ô∏è
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
+
https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
Thank you. When I create it for next time, what is the best way to do it? I want to be able to mint, but also freeze token accounts if they get them through exploits
what's the best way to get all historic transactions that interacted with a specific program?
maybe check  https://github.com/solana-labs/example-helloworld
you can't add it back if you don't set it at you created it.
``
Updating F9311QYi5CEFyKpSXBPdiVup8jHt52euW8qQQ6CvhfSg
  Current freeze authority: disabled
  New freeze authority: 3yCPfRD7Wnpx1v4FTbrtXBfLQUCaLfr2TfKyduReYuFf
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x10 [5 log messages]
``
spl-token authorize <TOKEN_ADDRESS> freeze <USER_ADDRESS>
hey <@!455114989397868556> I just wanted to say you're doing a great job
I think I have a better solution for at least the dao I'm creating. I think it specifically makes sense in this case
it sounds like to use tokens I need to hand them out to all dao members
wow, I read the governance spl documentation and it's pretty confusing and expensive
Hello guys, i'm new on solana....Anyone can help me with a good tutorial to understand how to write programs? I really need it but documentation is not so helpfull and evene the tutorial on youtube are with precompiled codes....
Does anyone else have experience adding a freeze authority after the mint has been created?
Any reason I could be getting this "Transaction simulation failed: Blockhash not found" on a localhost network? Phantom wallet just spins waiting to approve then eventually indicates 'transaction may fail'. If I approve the transaction it still goes through though.
I'm not sure if it would be practical
it seems like you would be able to but I haven't looked into it
or is this only something the system program can do?
Does anyone know if it is possible for a program to deploy another program?
but this isn't a 'new token' it's just a new token for your address
so anytime you get a new type of token you need to create a token account
and this is how it knows how much USDC you have
it's linked to the USDC mint address and your address and contains the data '100'
so you need to create a token account
when I send you tokens you need to store the data that I sent you 100 USDC
an account is basically just data on the blockchain. The account address is the pointer
i think every other question in here is about metaplex üòÜ
and what token accounts are
you need to read more about solana
but they do now from that code
I've never used Serum so idk if they mint back tokens to the wallet
Looks like they are tokenizing
https://github.com/solana-labs/solana-program-library/blob/dd035edda0197e4a9f8fface770628dccfa3a452/token-lending/program/src/processor.rs#L1824
hm i see thanks
And they must get the same answer or the tx can't be accepted.
Also, to be clear.  The Token Lending Program is doing what I'm saying, by tokenizing positions? Or does Solana not want this?
The issue with random values on chain is the tx has to be run by all validators.
so you're right.  didnt not believe u but i saw thw new_rand() before idk what they were doing with it
well https://stackoverflow.com/questions/68123378/add-simple-line-pubkeynew-unique-breaks-my-solana-program
"The SetAuthority instruction can be used to change a Mint's freeze_authority"
And the default for freeze authority is none.
> If a Mint's freeze_authority is set to None then account freezing and thawing is permanently disabled and all currently frozen accounts will also stay frozen permanently.
https://spl.solana.com/token#freezing-accounts
Actually docs are quite clear on this.
but this is depreciated now
I've sseen `new_rand()` in other programs before
r u 100% sure i cant generate?
Yes.
You can fork and deploy the spl code but it won't be compatible.
so instead of generating in rs, I should in the client.js and pass it? obiou?
The documentation is so limited..
Hmm. I know you can set authority mint to none, and same with freeze. After its created. I guess I assumed you could update it to include one after the fact as well.
Hi all, new to Discord so hope its right spot! What would be a good Dev environment setup for a Windows 10 machine. Im assuming i will need to use WSL. What else would i need? Thanks for any input :)
Yes and no.
if we wanted to make some sort of more unique token is it possible to rewrite the SPL code and create some slightly different system that is SPL compatible
I have been wondering for a while. Is it possible to tweak the SPL code at all? Or is it like hardcoded and owned by the system program?
I am 99% sure no.
Exactly what it says on the tin.
Can't I update the token after the fact to have freeze authority?
ohhh really
both
Yup.
Ok, what about freeze authority?
And you can only freeze if you enabled free authority while creating it, the default is no freeze authority.
what does mint_authority give you then? Just the ability to mint more?
You can't burn tokens you don't own.
I need clarification on a token issue. Say I create a token, then I send it to someone, but I send too much and they wont send it back. I can freeze or burn it correct?
because it doesn't really look like the anchor structure to me
are you using anchor for this?
You won't be able to run it.
havent tested it yet
I have this building with no errors:

```
        let rand_program_id = &anchor_lang::prelude::Pubkey::new_unique();
        let wrapped_token_program_id_ = token_instruction::initialize_account(
            &rand_program_id,
            &account_pubkey,
            &mint_pubkey,
            &owner_pubkey
        )?;
        let p_a = &mut ctx.accounts.pool_asset;
        p_a.wrapped_token_program_id = wrapped_token_program_id_.program_id;
        p_a.token_program_id = token_program_id;

```
i think
You can do that from the program
No way to avoid that.
Yes but you have to do that on the client.
I need to read through the dao code. I was thinking of a way of doing a dao that I think is solana compatible where you buy tokens but they are locked for a month and then those are votes
thats what new_unique() does or no
ok I see
because if he's minting all this stuff from one contract that would need to be possible
Sure.
I guess that would be the big question
can you mint with a pda as mint authority?
Since you have to declare all accounts upfront.
You have to pass in at least a newly generated keypair from the client and have it sign.
https://github.com/solana-labs/solana-program-library/blob/master/token/rust/src/token.rs
And before that i generate a program id through `new_unique()`?
When will the docs acknowledge and explain the difference?
You should be able to call token.initializeMint
but theres not tutorials specifically for it explaining each step so its tough to know eactly which is doing what
its in the lending program
it has been done
some things are weirdly very hard to do
just because solana structure is different than ethereum
but if chase says it hasn't been done it might be difficult to do
So i think tis create acccount and then create mint
let me find the function
oh really
I think I can generate a key tho
you need to create a mint
Oh man
but a token account is a specific thing, it's not a new type of token. It's a variable to store say how much USDC your address has
Thats what i want
that creates a token account I believe
no, that is different
I am almost certain:
```
        let wrapped_token_program_id_ = token_instruction::initialize_account(
            &rand_program_id,
            &account_pubkey,
            &mint_pubkey,
            &owner_pubkey
        )?;
 ```

will work
I've never tried that, I just started doing tokens in contracts
I see
Like in Eth/solidity its `new ERC20Wrapped("", "")`
I want it within a contract itself
or did you want to create a whole new type within a contract?
could you create the token before but have your contract mint more tokens?
Yeah I want to be able to deploy a new token similar to a cToken on Compound
And why they have separate addresses
you want to mint a new type of token in your contract?
Could someone explain to me the relationship between the "Program Account" and the "Program Executable Data Account"
you have several links at your disposal. search on transfer in the metaplex docs if your not able to find it. transferring the asset alone may not be enough for a metaplex NFT.  if u just want to do a normal transfer, a standard SPL transfer will work.
from a program.  I believe the token lending program does it.  I think I have a way working but i need to get the js client to make one for local.  Its definitely not typical but tokenization is needed for any ccomplex programs
I liked your podcast
oh wait are you chase barker?
yeah, it looks like a token + multisig solution
great thanks
Yes it only shows tutorial of minitng nft not make transaction of nft to another account address
spl-governance is the Solana program for it
thanks
for metaplex NFT, here are some basic examples:
https://solanacookbook.com/references/nfts.html
there are some tools you can use as well : to accomplish these types of things,
here is the goto site for these refs:
https://www.soldev.app/
for others the main site will do the trick:
https://docs.metaplex.com/community
https://Docs.realms.today
just as an example
oh, do you know of one?
Yes they have
I guess it's an issue because of the token structure?
does anyone know if DAOs in solana have been tackled?
Wen anchor / metaplex discord link macros ?
https://discord.gg/agQkEJ3G
Can i transfer nft with spl token library to another account address
can you provide a link?
You want the metaplex discord, not this one
I said this in the other chat but they sent me here to ask my question. 

My friend is trying to make an NFT marketplace and he‚Äôs having trouble connecting the Solana Blockchain to his website. Does anyone have any insight? Thanks!
What Trent said, but if you really want to roll your own standard then there are no special steps.
You should still use the metaplex standard otherwise nothing will be able to read w/e homebrew thing you cooke up
Not metaplex I want to know how to do it in rust
See: https://docs.metaplex.com/architecture/deep_dive/overview#metadata
How do I attach metadata to spl token?
Any devs know of any good tutorials or videos to create a staking SPL token pool ?
Most likely the game marketplace in question.
Whoever has control over that wallet.
Thanks for your response! I'll look into it
I sending the wrong cryptocurrency into game market place wallet (SOL instead of USDC).
Who should I contact to resolve this issue? please üò¢
See: https://spl.solana.com/token
Those are called aux accounts.
You can also end up with token accounts belonging to you for the same token but not at the deterministic address.
That is called the primary token account.
So each token balance is stored at a deterministic address derived from the owner's public key and the token mint.
Not sure what aux accounts mean... sorry
For aux accounts I assume?
Trying to get the 'pubkey' address for my wrapped sols
Sorry what are you trying to do?
At the moment, it has 0 SOL, i think it only gets populated with non-zero SOL when i send/receive SOL through a trade.
where as if i do the same with msol mint address, i get 
```
{'jsonrpc': '2.0',
 'result': {'context': {'slot': 116758441},
  'value': [{'account': {'data': ['C2K6...',
      'base64'],
     'executable': False,
     'lamports': 2039280,
     'owner': 'Tokenkeg...',
     'rentEpoch': 270},
    'pubkey': 'H9DN...'}]},
 'id': 191}
```
Hmm and the publicKey does indeed have wrapped sol?
```{'jsonrpc': '2.0',
 'result': {'context': {'slot': 116758372}, 'value': []},
 'id': 190}```
Hmm if I do that, i get
Yep
Do you mean `So11111111111111111111111111111111111111112`?
Should work.  Just replace `mSolMintAddress` with the native mint address
Noob question. How can someone figure out the wrapped sol account address, given some public key, using solana SDK? I know how to find, say the mSol account address that belongs to some public key but doing the same thing for the wrapped sol token doesn't work. In specific, i'm using `client.getTokenAccountsByOwner(publicKey, TokenAccountOpts(mint=mSolMintAddress))`. Thanks a lot!
either way, thanks for the insight. i'll do some more research with what you've shared here.
Any use of data outside the validator -> not core tech
It was my understanding most rpc nodes don't store that data?
That's not core technology
They want historic data, I assume going back to the genesis block.
<#885976714646290473> isn't for that BS
No!  in <#837340113067049050>
Hmm then look at the solana-test-validator first
If you want to _download_ the entire history yourself for whatever reason then also try asking in <#885976714646290473>
I was vague, sorry about that. I want to understand how these systems work not just rely on 3rd party services.
If your goal is to get access to historic data asap then use genesysgo's rpc and don't think about it twice.
good to know!
See that is a different objective.
they're really helpful team
if you're really curious they will show you. just tell them you want to learn
But I'll check out their Discord as well üôÇ
Thank you. I have heard of them but from my understanding their thing is "we run it so you don't have to" and I want to do the running part haha
More specifically, ask around in their discord.
Look at genesysgo.
Up to date historic data for now
Do you want to stream blocks or do you want historic data?
These are two different objectives.
I have found a few but for the curious, is there documentation to run your own?
there are lots of rpc providers that offer this service or archival nodes
Or is there specific archive / full nodes for getting information?
I am looking into developing some projects on Solana but I find the docs a little confusing. Maybe I am missing something. For example in Celo, there is a concept of validators and full nodes as well as archive nodes. Full nodes and Archive nodes aren't validators. Do I need to setup a validator to be able to stream information about the blockchain?
Haha I'm sure it will come back to you.
Just checked, ME IDL is not on-chain, so...
is it obvious i haven't done dev support in awhile? ü§£
Or use a nonce account if you are having too many timeouts.
Everything else can be the same.
To be more accurate, you have to update the blockhash and resign
so you'll need to make a new one üôÇ
oh no that's fine. but i was wrong to say to retry the same tx because if it fails once with an error, it will always fail with that error no matter what.
I would put together a demo but I'm not sure if MagicEden would hunt me down.
I take no responsibility for anyone's actions.
lots of people have been asking about this!
Feel free to use that info to reverse engineer the site if you wish.
Oh that reminds me, PSA:
MagicEden's marketplace uses anchor, and they have an idl in their source, maybe even deployed on-chain.
Cheers
anchor support here please
https://discord.gg/uQHwKFT9
Okay thanks
thx thx
perfect!
The metadata is either metaplex token metadata, in which case you have to use the test client or managed by the token-registry repo, in which case you need manual approval to change anything.
Are you talking NFT metadata?
any comments for my question?
For some reason web3.js makes a new function for jsonParsed variants
Ah missed that.
Is there a way to edit an spl token's metadata using the cli?
Make sure you hit the index though
yup im trying to do it all at once
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedTokenAccountsByOwner ?
I'd just repro the token-specific method with gPA
That would have made sense.
That would need one call per token account.
No they are looking for token accounts.
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedAccountInfo is what you're looking for
Oh thought that call implicitly decoded the account data
web3.js doesn't expose that for all method calls unfortunately.
same doubt!
`@solana/spl-token` might help with that.
Same I believe
You can parse the data buffer then.
I don't think token accounts supports that.
`{"encoding":"jsonParsed"}` would be the direct JSONRPC param, not sure how it's exposed in web3.json
Right, sorry was thinking of something else.
hello, I think from `AccountInfo` it is not possible to find `Account` structure which it points to for `lamport` and `data` field.
Is this correct?
It's a param on the method call, not the connection
couldnt find it on doc

sorry can i have the code
Did you read the link I shared?
Jk. Haha. Will get the same result. I need sleep
No when you do connection = new Connection() you can pass in an optional format parameter.
you mean JSON.stringnify(tokenAccounts)?
Most likely the blockhash has expired?
Hmm?
So if those three things are the same the signature will be the same too.
A tx signature depends on the recentBlockhash, fee payer and the message contents.
Try setting the format to jsonParsed
it return the token account address but not the mint address
it returns something like
do i have to decode the account.data buffer?
I think it returns the mint address too?
one more thing 
i got some spl TokenAccounts by getTokenAccountsByOwner
how can i know which token account is which?
thanks
okay will give a shot
You need another follow up getTransaction call
No it literally returns the last n signatures of an account.
how getSignaturesForAddress works?

the returned ConfirmedSignatureInfo has no tx details?
Yup.
Alrighty just confirming since it said modifications to already live tokens need manual approval
Not ideal, but the only other way I can think of.
Yes, you have to use that as a trigger for getSignaturesForAddress
Unfortunately the best way is to open a pull request and wait.
and tx details as well
hmmm but txid is not given in onAccountChange
Maybe onAccountChange?
Who is best to contact about changing a token on the solana token list? Looks like somehow our token image got corrupt or something
Ah right, not sure if there is a good answer.
stream latest tx of an account
and seems BlockSubscription is not available on js?
Can you please explain what you are trying to do?
but onlogs are limited to "confirmed" commitment
it's polling not subscription

what im doing right now is 
1. subscribe onLogs 
2. get txid from log notification
3. get tx details by getTransaction
People also confuse that because of Ethereum. On Ethereum your wallet address is not your public key. 

But on Solana your address is your public key.
Yeh I understand that part, I thought if the pubkey != wallet, then the wallet was a PDA from the pubkey
Oh also look up BIP39
For 2)

I would recommend you search up "How are SSH keys generated". Although Solana uses another key pair algorithm (ecdsa I believe), the underlying concepts are the same.
Awesome thank you, I heard someone in the metaplex discord say pubkey != wallet address, got me really confused
Basically the base58 string you see is the the public key of an account.
pubkey = account = address = wallet
connection.getSignaturesForAddress ?
Also if you send the same tx with the same tx signature only one of them can succeed. So even if it succeeds the first time the rest will fail
It is safe and also read this.

https://solanacookbook.com/guides/retrying-transactions.html#facts
Connection.onLogs require confirmed tho
anyways i can get latest txid of an account with processed commitment?
hihi
Yes I didn't know Rust either. I spent about half the time going back and forth between that tutorial and the Rust docs
I think I should spend time on Rust learning.
There's a lot to learn haha
......
Warning: it will take you at least 3 days to get through - took me a week to fully digest
Thank you, I am going to read now.
https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/
Can anyone help me debug this when trying to send an SPL Token from a program address .
```   let cpi_ctx3 = CpiContext::new_with_signer(
            ctx.accounts.token_program.to_account_info(),
            anchor_spl::token::Transfer {
                from: ctx
                    .accounts
                    .escrowed_tokens_of_offer_maker
                    .to_account_info(),
                to: ctx.accounts.offer_accepter_token_receiving.to_account_info(),
                authority: ctx
                    .accounts
                    .escrowed_tokens_of_offer_maker
                    .to_account_info(),
            },
            &[&[
                
                &[ctx.accounts.offer.expecting_token_bump.clone()],
            ]],
        );```
But it keeps telling me ```   &[&[
   |  ______________^
40 | |
41 | |                 &[ctx.accounts.offer.expecting_token_bump.clone()],
42 | |             ]],
   | |______________^ creates a temporary which is freed while still in use
43 |           );```
Hi guys, If I want to learn about Solana's smart contract, which materials/tutorials is good for a newbie?
Okay I guess my questions are:
1. Why use a wallet address instead of the pubkey?
2. How is the wallet address generated precisely?
3. Is the wallet address in user space (data) or in system library space (AccountInfo struct)
I'd love to know the nitty gritty details but a google search doesn't bring anything up
Is that how it's done with Solana?
okay I understand that for spl tokens, but why do you need an address for the lamports balance?
So addresses are PDAs derived from the pubkey?
Wow, this is awesome. Thank you!
https://stillearly.io/article/how-i-got-solana-working-with-nuxt-3/ he ended up writing this
Is there a difference between pubkey and address? If so what is that difference?
<@!388780530180685825>, did you have any luck getting something stood up with Nuxt? I've been trying to convert the React examples (or implement vanilla JS) to connect wallet providers and mint from a metaplex candy machine.
Didn't expect to need to address why accounts are loaded pre-execution, but we'll get this added
`N` can be `1`, but you're better off doing that query infrequently and getting a bunch of blocks in between
Connection.getConfirmedTransaction
Connection.getTransaction
Connection.getParsedConfirmedTransaction

hi solana, what is the difference between the 3 methods, and which one is the lowest commitment level?
You don't what the latest slot, you want the latest block.  Call `getBlocksWithLimit(last_queried_slot, N)` instread
Does anyone have any info on signature verification inside a program? Is it possible? All I can find are vague tweets about it
commitment is "confirmed", should i await something else?
how would  i make sure that i don't get `failed to get confirmed block` with following code:
`  const lastestSlotId = await connection.getSlot();
  const latestBlockDetails = await connection.getBlock(lastestSlotId);` ?
welcome to the club
awesome - it's fine, can also just go back to reading the source code. Huge backlog for weekend "reading" üòÜ
no but now <@!489206164270350337> has some fun stuff to do this week ü§£
lol hi again <@!455114989397868556>
The gist is that pre-loading allows the runtime to resolved data conflicts between transactions in advance
<@!455114989397868556> you got some fancy new docs for why runtime loads accounts preexecution?
i skimmed it at one point, but somehow lost that part haha
Honestly don't even remember what's in the whitepaper at this point üòÖ
Gotcha. Thanks!

Actually, would love a nerd snipe on how that works exactly. Can you recommend a good reference material to understand how exactly this " would break the runtime's parallelism assumptions"?

Should I just read the white paper?
No, there's no on-demand account loading.  That would break the runtime's parallelism assumptions
Is it possible to read account data on-chain from using only a `Pubkey` as input? Or is this strictly made possible from only an `AccountInfo` object?
Oh that was a real question?  I though you were trolling me üòÖ
I see `new_ed25519_instruction` in the `solana_sdk` crate but not in `solana_program`. Is any signature verification onchain possible?
Anyone know how to use this onchain? https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program
dev lyfe ser
I was basically re-signing it by accident in my code after logging it like a dumbass
i thought i was taking crazy pills for a second. something i hadn't really thought about in a long time
yessir
prior to submission
so it is client side
the signatures do match
classic
ugh, i'm sorry dude, issue was in my code
oh, I think i'm dumb
that's what i thought. ty
You know how the Earth is hollow and there's a passage to the center in Antarctica?  There.
hi ser. where is the transaction signature generated üôÇ
yeah, it doesn't seem to match the signature i'm getting back from the server though, which surprised me
125GB is massive?  Am I back in 2002?
Is anyone else seeing massive "system data" after doing Solana dev work
and that ulimately gets returned
https://github.com/solana-labs/solana/blob/f804ccdece06c3a5bdf7e04e342d68fc4128ce91/rpc/src/rpc.rs#L3479
calls ->
https://github.com/solana-labs/solana/blob/d9b0fc0e3eec67dfe4a97d9298b15969b2804fab/sdk/src/transaction/sanitized.rs#L93
was just looking at this
https://github.com/solana-labs/solana/blob/f43f0afa551c75c4aa1c87f74cda213dc31abf03/web3.js/src/transaction.ts#L141
hmm, looking through source in `/rpc/src` it seems like this should just be the first signature in the tx, but i can't seem to replicate that locally
or maybe the answer is somewhere in the code for the RPC endpoint
I did too, I lifted some code out of the web3 library so I could access try to compute it myself but the `signature` that relates to the fee payer of the transaction appears to be different from the signature that I get back after sending the TX, even after preparing the tx with recent blockhash and all that stuff, so there must be something that happens at the time the TX is actually included in a block that results in that sig?
i'm most likely completely wrong
been awhile since i thought about it
i could be wrong, but for some reason i thought that sig was created beforehand
incorrect.
basically sending a bunch of transactions to local test validator in a batch, but want to run a lot of them fast, so trying to basically collect the sigs and start listening for updates on them immediately
I have a transaction that does exactly what I want to do. How would I be able to mimic it? And for this I won‚Äôt need to know what the program looks like, correct?
this is the best we've got. what are you trying to accomplish?
ahh, looks like the simulation still incurs a round trip though, which is what I was trying to avoid. Also it doesn't look like the transaction simulation RPC endpoint actually returns a signature, so it seems like the signature must be something that can only be computed once a transaction has been processed
Is this possible yet? (verifying signatures in programs)
https://twitter.com/ChenWainuo/status/1451367585681793030
this is what phantom does when they show you how the balances change before you actually submit
you can use simulate transaction before actually sending it
https://github.com/solana-labs/solana/blob/7ce910f459beb24e306673e6639a4375fe46f99a/web3.js/test/bpf-loader.test.ts#L130
So with the web3 javascript i have to `await` the signature when calling `sendTransaction` , is it possible to compute this value client side without waiting for the server to respond with the signature?
https://docs.solana.com/cli/deploy-a-program#closing-program-and-buffer-accounts-and-reclaiming-their-lamports
Adding to that, my program makes accounts for users which costs approx 0.07Sol (yeah lot of space). Can I delete those accounts later to get back the 0.07? (Or atleast a part of it?)
I deployed a program on the mainnet using solana progran deploy and it costed me 4 Sol. 
Will i get any sol back once i do solana program close?
https://learn.figment.io/protocols/solana
or you can go do some of the tutorials here and learn
try doing something hard like reading Kant
im a noob dev let me complain <:smile:635640132598366238>
-........-
is a testament to how easy it is
the fact that it doesnt take 5 years to be proficient in web3
it's really not that hard if you take the time to understand it. there are no shortcuts
uhhhh
yeah just my first time coding with solana, never had this much of an headache, why do we make everything web3 related so hard to understand if we want it to become mainstream <a:What:897083900323569685>
he likes to complain about pythhon tools a lot too
if you need python help legalizeonionfutures on the anchor discord is building a lot of python tools
almost but no cigar
wrong person
woah
I have $100, will that do? <:smile:635640132598366238>
the bytecode is
The program's code isn't stored on the blockchain is it?
i'd do it for a billion dollars
it doesn't have to be yours, but you still have to know how it is defined
how much for you to do it for me, i wanna sleep, solana is so hard in python <:crying_man:796664294518947841>
you can't interact with a program if you do not know what the code looks like
no the url says exactly what it is. it's how to send custom instructions to a program.
That's how you create a custom program right? But how would you interact with a program that is not yours in python when sending a transaction?
thanks! will look into it
Legend.
Thanks a lot chase!
https://dev.to/cogoo/solana-how-to-send-custom-instructions-via-instruction-data-4g9g
or you could just read this
Anyone can help me interact with a custom program? willing to pay generously for your time
I've broken it down to the most simple learning resources I can in this thread. The getting started blog on this list should be helpful to answer your question.

https://twitter.com/therealchaseeb/status/1469066316711612417?s=20
Include python on the list too!
But yup.
is your only dev experience being fairly familiar with javascript?
thanks
nah but I will try it now
What would be the best path to follow for a upcoming developer?
I'm fairly familar with JS, would i require any other prerequisites to hop onto the solana dev bandwagaon?
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
have you tried just following this tutorial?
shouldn't be to hard to just figure it out. typescript types are basically just json objects
Very unfortunate my motivation for this project has died being unable to find a way of doing this without ts
me either, personally, but that's what most examples use unfortunately
Not the biggest fan of ts
I like him
they love typescript around here. everyone except <@!867369388608061470>
its all typescript
been researching all day and I cant really find anything
no
Do you happen to have a link you can direct me towards
yes. typescript is just an abstraction on top of javascript so it's possible
all of them are in typescript is it possible to do in all javascript?
likely no tutorials because it's not a typical thing to do to create a new token inside a program. are you talking about from a program or from rust client?
actually, not even that, i was trying to deploy to a custom rpc node ..
ddoes anyone know? i cant find any straight up tutorials about this
ok it works with 1.8.11
try useAnchorWallet instead of useWallet
i am trying to deploy to devnet/mainnet
i have sol
custom rpc and public rpc
nothing works
i tried with the last 5-6 versions of solana
Error: Pubsub error: UnexpectedMessageError("{\"error\": Object({\"code\": Number(-32601), \"message\": String(\"Method not found\")}), \"id\": Number(1), \"jsonrpc\": String(\"2.0\")}")
Hey, I'm thinking of using Solana for NFT related app, but curious about it's performance against Near -- has there been any performance comparisons?
or is it initialize_mint
`initialize_account` on the spl token program is the way to deploy a new token from rust right
when generating with hashlips how to edit it so the uri displays 0.png, 1.png etc instead of image.png
what is this now
`C:\Users\ASUS\Desktop\metaplex-master>solana --version
'solana' is not recognized as an internal or external command,
operable program or batch file.`
I cant seem to get the solana labs wallet adapter to work
Does anyone have a good resource/guide on adding phantom wallet to your react app?
I made a token account's authority itself and I cant close it or transfer tokens from it because i cant sign for it. it was done through the ata program. what do i do
how i can run with administrator through terminal ?
idk, I stopped using windows in 2004 for a reason
Think you need to install with an admin cmd.exe or something
help
`C:\Users\ASUS\Desktop\metaplex-master>C:\solana-install-tmp\solana-install-init.exe v1.9.4
Error: Unable to symlink "C:\\Users\\ASUS\\.local\\share\\solana\\install\\releases\\1.9.4" to "C:\\Users\\ASUS\\.local\\share\\solana\\install\\active_release": A required privilege is not held by the client. (os error 1314)`
No. It's fine.  You're just abusing it
is devnet faucet down? or i got rate limited
Hey all, looking to build an API that interfaces with a program I'm writing. Anyone have any suggestions for frameworks or libraries for building APIs that work well with Solana?
This what I am trying to achieve:
```
fn verify(message: &[u8; 32], sig_bytes: &[u8; 64], signer: &Pubkey) -> bool {
    let signature = Signature::new(sig_bytes);
    let keypair = Signer::new(signer.to_bytes());
    let result = keypair.verify(message, &signature);
    result.is_ok()
}
```
Should I be using this?
https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program
I want an onchain way to verify some bytes were signed by a certain wallet, like `solana_sdk::signature::Signature::verify`
I tried the `salty` rust crate but maxed out the instructions available
What's the right way to verify signed data onchain? I can't see anything in the SDK
No worries! Learned some really useful things looking into what you mentioned already
That makes a lot of sense actually, thank you
my bad for bad adviec i forgot about this -.-
buffalu made a script
https://twitter.com/TomGeshury/status/1467228937738760202
not all slots make a block, the same block (height) can be assigned to multiple slots (on different forks)
You want to use slot height, not block height
Ty!
Yeah, I‚Äôm trying to compare them across rpcs to see which one is the most recent
let me try to find it
i have a twitter thread somewhere
Let me rephrase it then, my apologies. How should I go about determining which is the more recent recentBlockHash? Will definitely look into the Internals either way
getLatestBlockhash returns a blockhash
answer isnt very simple and I dont know if I will do a good job explaining
it will help a lot
i would recommend learning more about solana internals by reading the docs at this point
Wouldn't that indicate how far ahead an RPC node is though?
no. blockheight isnt block number
Hey all, I've been trying to "Finding all token accounts for a specific mint" and have been using the example on [the docs](https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint):
```
curl http://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 0,
              "bytes": "TESTpKgj42ya3st2SQTKiANjTBmncQSCqLAZGcSPLGM"
            }
          }
        ]
      }
    ]
  }
'```
but I'm unable to get it to return any values on a know token mint locally. Any idea how I could try to debug this?
nvm, found it
in Rust ?
hi guys, I've been looking for this but can't find it anywhere, stupid but i must know lol. what is the equivalent of this:
```
let somePubkey = new PublicKey("SCtgeSVDTRCgfeDC54ewe34....");
```
it works fine on my linux server actually without installing those root certificates, so it does seem like an issue with my Windows machine indeed
Anyone has experience with that?
hey guys, Quick Node servers seem to have expired SSL certificates. They claim I need to install root CA certificates from letsenrypt.org on my machine to be able to trust their certificates
Is there an exchange that allows programmatic swap of SOL and AR coins?
But that, I how one another question - if thats main purpose of the seeds, why are they passed in other functions, like invoke_signed?
Hey, thanks for clarifying üôÇ
Is there a way to transfer the mint authority for a spl-token from my wallet to another wallet? Or if not, what way would you recomment to let user's create a new spl-token directly on my website?

So far I have following: I can let the user connect his wallet using the @solana/wallet-adapter lib. I also have a backend that can get my wallet from my secret which is save in my backend. From my wallet I can create a new spl-token and then create an account for the user and mint some tokens into the user's account. But I don't see any way to transfer the mint authority from my wallet to the user's wallet.
How do I implement `pack_into_slice` with borsh? I don't know how to convert a vec to a `&mut [u8]`
```
fn pack_into_slice(&self, dst: &mut [u8]) {
    dst = self.try_into_vec().unwrap();
}
```
1) transfer tokens to a common account and send the signature as proof. will have to store used transactions to prevent double spending
2) wallet signs tx and sends it to the backend, backend verified everything is good, then forwards tx to cluster. backend can be stateless, no need to store anything
Yes. You need to just remember the top level public key and which seeds you used to generate the derived token account address.
thank you so much, hahaha I didn't put the entire direction
so, for example, when I want to store some data in an account, I can either store its public key, or generate it with seeds, and that seed may include my public key and some other phrases - in this way I can always get access to that derived account even If I can't find its public key, right?
I can't make my stuff working xD
Seeds are required to deterministically always generate the same pubkey for a derived account. So, given the same pubkey and seeds, you can regenerate the derived token acct address without having to store it anywhere.  There are lots of examples in the docs. Take a look at the hello-world tutorial
https://discord.gg/zzMFdmPd
this is metaplex related and should be asked in the metaplex discord server
R u supposed to run from the js folder?
why? maybe I can help you
I need some help, Im runing yarn to see the mint site but isnt working, I already create a html file and still dont work
I have a custom SPL token (Eck Coin) that I want consumers to pay merchants with for buying goods.  So at checkout time the consumer will send ‚ÄòN‚Äô ECK tokens to the merchant.   What‚Äôs the best programmatic way for ‚Äòmerchant‚Äô to be alerted that those tokens have been received?  Do I have the consumer send the tokens to the merchant‚Äôs (single) derived token account OR do I create a new account for each transaction?  I‚Äôm hung up on how to know programmatically that the tokens have been transferred to the merchant.  Hope this makes sense. Thanks!!
badüòø
That support is still a couple months away from hitting mainnet
I can't understand, what is the main purpose of seeds? Can anyone share any doc or article related with that? Because I don't find anything useful in official docs
Hi, how its going?
Hi! Can I connect wss with solana like with rmrk in example?
Hi
yeah i probs should have mentioned the finalized part, which "guarantees" that it will be available
Thank you! That did the trick, awaiting confirmTransaction with commitment "finalized" is what worked for me
https://github.com/solana-labs/token-list
Would the node with the highest currentBlockHeight be the one with the most recent blockhash?
Quick question: I want to add a placeholder coingecko app ID in the field 'coingeckoId' in the SPL token registry prior to actually registering the token on coingecko. Will this cause any issues?
Can you explain your use case?
When you disconnect from the gossip I think the nodes will select one as a leader.
Im creating a payment app using a custom SPL token I created. Should I create a new account for each payment or have all payments go to one account?  I can‚Äôt figure out how to know when Wallet X sent tokens to an account that I own. Pls help!
Oh awesome, I had seen that method, just didn't occur to me 'confirm' would be the keyword used
this will let you know if it's confirmed before you try to query it
here is an example. 

```js
connection.confirmTransaction()
```
https://github.com/solana-labs/solana/blob/49443406fd729c5818ecf58ae773592804d35d89/web3.js/examples/send_sol.js#L16
I apologize if this was asked before but searching the history didn't get me usable results
In typescript I'm trying to make a transaction and fetch account info that is created by the transaction
I await the transaction signature confirmation, but I can't seem to find out how to await the transaction **completion**

when I attempt the fetch right after confirmation, it fails, value comes up as null
You should find and ask solscan support
anyone know how long SolScan.io will be down for? I've been trying to look up and confirm wallet addresses to no avail
Lots for sources for solidity and ETH but not SOL
Anyone have a good source for creating a coinflip game similar to degen coinflip. I need it done in SOL
okey
Ask the Metaplex discord
what json rpc api i use wen i want to look for a specific nft that was sold on a marketplace?
question
yow guys
solana-program 2022 comes in with extensions for confidential transfers, how can I use the extension to mint a new spl-toke
thanks you ‚ù§Ô∏è
aha!
I think you're confusing the base58 encoded length of the string with the amount of bytes the publickey is made up of
address is 44 bytes long
That is the number of bytes in PubKey
But how would I then test it with my own validators?. How will the blocks continue to be confirmed as leader is set.
why is it only 32 bytes long ?
is the caller_authority a pubkey ?

is spl_token_2022.so deployed to mainnet
Hey. I am worried about why is necessary to pass the system program account to a program that make a invoke to the system program, but the invocation do not use this account. https://docs.rs/solana-program/latest/solana_program/pubkey/struct.Pubkey.html#method.find_program_address In this example the system program account is passed to the program, but this account is not used by the invocation call.
Hi there, I'm trying to buy NFTs from marketplaces from python. Can anyone point me to some resources to get started? Like what info do I need to have.
Run a devnet validator until you download the ledger then disconnect from the gossip
Anyone knows how to install Soteria on Mac M1?
How can I copy the whole devnet cluster and set it as a local cluster?
what do you mean? what's wrong from your point of view?
last 3 days
any info what is happening with network?
https://free.rpcpool.com is way more reliable.
tested locally and on an Azure cloud server
genegysgo is terrible for me
Try to find a third party API. A few messages up, chase recommended genegysgo.

Although right now my transactions are not getting any confirmations right now. So network might be down or very slow. <- In that case, there's no way around it.
hello guys how to send nft with spl token library transection method?
is there no way around this?


///////////////////////////////////////////////////////////////////////////////////////////////

they deleted the damn dev channels, now you won't even be able to search for stuff <:alert:799644701841555456>
is there any difference what method you use for the token creation, CLI, JS or Rust? at the end of the day you create e token right? 
I just want to find out what are the uses of programatic token creation (maybe a n admin page for managing minting/burning?)
can the program as signer change after a program update in a program using anchor?
Off topic for this channel
All channels are read-only, dev channels are deleted and they are promoting an nft collection at metapiex.com
Could be.  Could also add why they think that
No that most likely is correct.
a guy who makes context-free, alarmist comments
Metaplex's discord server was hacked or what?
We already have 1 and 2 done
Does this has sense enough?
Please tell me if our path to build something like that has sense:

1. Create token with spl-token cli
2. Manage the mint with js (when users "buy" some token with bank transfer)
3. Create a contract to exchange a coin/token for our coin and make a page to enable users buy
That token JPYC is deployed using a contract, that's way I am trying to understand if this is needed for solana. They use an oracle to get the price of ETH/USD and JPY/USD and get the ratio with his token
A page to deposit a coin/token and get our tokens in exchange
https://app.jpyc.jp/purchase/jpycswap/
We also want to do this to get our tokens
Yeah but no token coding is needed, I mean there is no reason to write a contract (token) with custom code
Depending on your need, there's sdks that do the exact same thing as the CLI. JS example: https://solanacookbook.com/references/token.html#create-token
what other ways are? can you point me to docs?
CLI is one of many ways, but they all interact with the token program
So in Solana using the cli is the right way to create tokens
Tokens are created by using the token program to create mint accounts and mint from them. It's a bit different from deploying multiple erc20 contracts
Hi guys, I have a question about solana tokens. In Solidity, the "right way" to create a token is creating a contract. In Solana, we have created a token using spl-token cli but we are wondering if this is the "right way" to create it? Our company is going to exchange these tokens for money so what we are doing right now is create the token and mint tokens on demand to our users account. Is this ok or do we need to create a contract in Solana and deploy de token? is this possible? needed? the docs don't say too much about it
Thanks, will do.
You're welcome to contribute
Would go through Starry
Internally it would be a PR as well. I think I get in the same queue as you would
So would a pr be faster or can you handle this internally?
üëç
`PublicKeyInitData` should cover `Uint8Array`
Ah, yes
`PublicKeyInitData: number | string | Buffer | Uint8Array | number[] | PublicKeyData`
For backwards compatibility we should probably have Uint8Array as a parameter option
Is it worth a PR?
Seems simple enough.
```js
  static isOnCurve(pubkeyData: PublicKeyInitData): boolean {
    const pubkey = new PublicKey(pubkeyData);
    return is_on_curve(pubkey.toBytes()) == 1;
  }
```
Yeah
So `string | PublicKey | Uint8Array`
True, right now it fails silently.
Better devex
And just convert as needed
Should probably take in what publicKey takes in
```js
const pubKey = new solanaWeb3.PublicKey('AMNkE2oxS7oGLUMgwt5sHZT5Swu4gxSNCWqV9JPx3Sho')
const t = solanaWeb3.PublicKey.isOnCurve(pubKey.toBytes())
```
Maybe that should be changed.
No, isOnCurve requires a byte array
I believe Henry made this https://www.youtube.com/watch?v=7D7fKcZond8 Otherwise check over at anchor discord https://discord.gg/YqQY3FYs
Does anyone have any examples of how to do CPI from an anchor program to a non-anchor program??
My instance is accepting a public key from a customer and trying to validate it I'm not generating keys
thanks
https://solanacookbook.com/references/keypairs-and-wallets.html#generating-a-keypair
solana.keypair.Keypair() to generate a keypair right?
But I would think if I pass a g to IsOncurve I should get false
You can generate keypairs, so I would expect the answer to be yes
are you able to generate a paper wallet with the python sdk
There's a possibility to not return true, and is required to not return true for PDAs https://github.com/solana-labs/solana-web3.js/blob/168d5e088edd48f9f0c1a877e888592ca4cfdf38/src/publickey.ts#L255
Always returns true

It really does in debugging using newset version of web3
Thanks
I believe that is correct
`isOnCurve` does not always return true
const pubKey = new solanaWeb3.PublicKey('AMNkE2oxS7oGLUMgwt5sHZT5Swu4gxSNCWqV9JPx3Sho')
    const t = solanaWeb3.PublicKey.isOnCurve(pubKey.publicKey)

So this should cover it?
Just FYI isOnCurve always returns true
This may be a nice utility function
Thanks so much
Since an account address that someone uses should be on curve and valid, you would do both
data.publicKey = 'g' 
And I get true back
This is not the correct way?
console.log(solanaWeb3)
    const uint8array = new TextEncoder('utf-8').encode(data.publicKey)
    const string2 = new TextDecoder('utf-8').decode(uint8array)

    console.log(`key: ${from.publicKey.data}`)

    const t = solanaWeb3.PublicKey.isOnCurve(uint8array)
Either is possible it seems https://github.com/solana-labs/solana-web3.js/blob/168d5e0/src/publickey.ts#L18
Throws a bunch of errors if invalid
https://github.com/solana-labs/solana-web3.js/blob/168d5e0/src/publickey.ts#L49
Do I pass in string or uint8array
?
>
That would generate an error if invalid
Why not just do `new PublicKey('<address>')`?
I am using web3.js. I want to validate a public key I am getting true back npo matter what I send into the IsOnCurve function
Not sure if there is an easy way within the SDK, but you can parse the changes today with each tx
Was hoping someone could help me out with a coding question. So I would like to be able to look at the historic state of a specific account. My idea was that if I had a point in time in the past that I knew the account's entire state, then queried for every transaction associated with that account, I could somehow replay each transaction on the object up until some arbitrary block height. I was wondering if there was an easy way in the SDK to just "apply" a series of transactions to the account
look at the code behind https://nftape.me/ it's open source (link on the website)
Run `Metadata.findDataByOwner(publicKey);`
There is an npm package `@metaplex-foundation/mpl-token-metadata`
You could check for signers owned by the system program.
let me try find something
the user's wallet
Can you send an example tx?
If there are multiple signers then which address do you want?
is there a better way than looking for a signer?
uhm - that's kinda what I said...
But note that there can be multiple signers.
Yes.
is there a definitive way to find out the wallet's address that signed the transaction by only looking at the transaction itself onchain?

I was thinking of looking for the only signer account, but eg what if I have more than one signer? that fails.

what's a better way? maybe something arount account ordering?
how can I get my Hex private key from my keypair?
Okey so Solana SPL tokens source code is here: https://github.com/solana-labs/solana-program-library?
No idea
So Solana tokens don't need any audit they are already secured by Solana Foundation?
SPL Tokens do not 'run' they are used in operations. That does go through the code (link I provided) I suppose you can use that in the audit but others here may no better
So you said I can get token https://github.com/solana-labs/solana-program-library/tree/master/token/program/src here. So I need audit for my SPL token, my token is already deployed so if I share this folder to audit providers I can get audit? This is the code where my token run? Can you please explain me it's very nice to get help from you üôÇ I understand that every SPL token is running with the same code in the Solana Chain, correct?
Yes, the idea is to have separate transactions
You were already directed to the source library for all the SPL programs (token, token-swap, etc.) and you guessed correctly that `token` folder is where you want to go. The specific Rust source code for the SPL Token PROGRAM is here: https://github.com/solana-labs/solana-program-library/tree/master/token/program/src
That is what program is running on the chain.
I'm guessing they can't be done as two instructions in the same transaction?
Where I can find deployed Solana SPL Token contract source code? Like Ethereum has etherscan.io you can find there contract button and there is token source code same is bscscan.com how about Solana tokens, where I can see my token contract source code? I don't find my source code here https://github.com/solana-labs/solana-program-library, here is hundreds of folders and thousands of files, can someone Explain my little bit better how I can find it, I am not very advanced developer üòÑ
Can anyone share a guide on how to create a front-end for metaplex candy machine V2 from scratch? I tried to understand the exiled apes code but it's very overwhelming, I was wondering if there is something like this available?
If I want a user to create a wallet for any arbitrary SPLToken he needs to, but having my program to create accounts for that acting like a wallet on user behalf, how do I then fetch the addresses of those given accounts-wallet given the user public key?
So if token is deployed I cant change token source code anymore?
Hi Folks, how are you ? Hope that you are going well. I'm trying to get the list of tokens (nfts) on an account (publicAdress) . Did you have any tip to help me to get this data?
the one that says "token"?
Can't find üòÑ
Witch folder?
https://github.com/solana-labs/solana-program-library
Hello, where I can find deployed Solana SPL Token contract source code? Like Ethereum has etherscan.io you can find there contract button and there is token source code same is bscscan .com how about Solana tokens, where I can see my token contract source code?
Thanks a lot, I'll try that.
https://spl.solana.com/token
You should be able to check `account_info.is_signer` in rust
In web3.js you have to do tx.sign(keypair)
Ok, so how do I sign with the private key or how do I check that it has been signed with the private key?
You can't set isSigner: true and not sign the tx.
But then you also have to sign the transaction with the private key.
> But isn't setting an account as signer as easy as setting isSigner: true in the argument of the transaction?
Yes, it is.
But isn't setting an account as signer as easy as setting isSigner: true in the argument of the transaction? Won't then it be possible to pass something like {pubkey: publicKey, isSigner: true, isWritable: true} in the arguments of the transaction instruction and still be able to execute it even though "publicKey" is not one that I own but one that I managed to guess
If the signature doesn't match then solana won't process the transaction at all.
If you force that account to be a signer, then it's enough to compare the public keys, since we are assuming that only the person with the corresponding secret key can successfully sign the transaction.
Hello. I'm trying to understand how to make sure that the account initiating a certain transaction involving a certain account is also the owner of said account. I'm seeing that people do so by comparing the owner field of the account with the one passed as an argument to the transaction. However, isn't that not secure enough since we are comparing public keys (anyone can just guess which of the public keys is the owner's one)? Shouldn't we somehow compare the secret keys?
True let's give it a try haha
No harm in trying?
hmm I run a rpc. I don't know how they would help here.
Try asking in <#837340113067049050>
I don't see anything in the validator man page that would help me accomplish this.
How? this validator never participated in the original devenet
Once you disconnect from devnet, you should be able to elect a local node as a leader.
Any guide or resource on how to setup farm, vault and the router from the solana-program-library? Or a guide about how we can implement our own farms from scratch?
But durable nonce is a bit of a different mechanism. I'll have to submit the first transaction, wait for it to be committed, and only later get the new nonce. I would like to send both transactions at the same time
please help
`C:\Users\ASUS\Desktop\metaplex-master>solana --version
'solana' is not recognized as an internal or external command,
operable program or batch file.`
```
/**
  * Optional Nonce information. If populated, transaction will use a durable
  * Nonce hash instead of a recentBlockhash. Must be populated by the caller
*/
```
are you using js? `transaction.nonceInfo`
Hi! Could you tell how do I make sure that two transfer transactions involving two same accounts are not duplicate? Is there a way to include some nonce in the transaction?
<@!590982495923732511> How can I fork the devnet and have my validators continue it? there's a leader schedule and my validator wasn't a part of it obviously.
Hello, I have a question about Proof of History. Can I ask about it here?
is it common practice for devs looking to integrate with metaplex to deploy the metaplex programs on a local test validator to run code against?
Hi all,
i have a problem when i using spl.Token 
the first call function below it oke but the second it error 
Error: Failed to find account
    at Token.getAccountInfo (/Users/nguyenthingoan/Desktop/SOLANA/solana-web3-demo/node_modules/@solana/spl-token/client/token.js:768:13)
 var tokenNFT = new spl.Token(
      program.provider.connection,
      paramMakeOffer.addressNFT,
      spl.TOKEN_PROGRAM_ID,
      Offer
    );
offerTakersMakerTokens = await tokenNFT.getOrCreateAssociatedAccountInfo(
    offerTaker.publicKey
  );
it error when getOrCreateAssociatedAccountInfo 
anyone ideal 
thanks
great thanks ! that worked
Good to know either way
Not sure how useful that is.
But not sol.
For example to transfer spl tokens.
In other news, yesterday I also found out that you can still use that keypair to sign even though it is owned by the spl token program.
Also might want to reduce the decimals from a default of 9, especially if you plan on having a supply larger than 18billion.
Then call create mint with your keypair paying the cost.
yes, all lthe examples are not passing keypair unless they are prefixed with one of the ... yes, like you just said üôÇ
solana transfer -k TKE....json "your public key" ALL
The solution is to empty out that keypair.
<@!386529284233232386> üëÜ
So it must not exist before.
Aye
But create-mint will try to create that account.
well, in his case the account does have a balance ipso facto it does exist to your point
The problem is create-mint will call initialiseAccount
Someone had this exact issue yesterday.
0x0 could be insufficient sol, or it could be account already exists.
he's calling create-mint
Ah but it doesn't say which program.
Yes, the log may be better but 0x0 is 0x0 either way right?
So the cli is horrible at reporting error messages.
yes
Are you using devnet?
Well, the 0x0 error is indicating insufficient funds for rent exemption 
```rust
pub enum TokenError {
    // 0
    /// Lamport balance below rent-exempt threshold.
    #[error("Lamport balance below rent-exempt threshold")]
    NotRentExempt,
```

https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/error.rs
I tried to put the TKEz9XfFL7NXezLCDTt849amMEhSKBDCLd2BDL9aWjV with solana config get -k TKEz9XfFL7NXezLCDTt849amMEhSKBDCLd2BDL9aWjV.json and tested spl token again but it didn't work
2 SOL
What do you get when you just call `solana balance` without arguments?
mac@UZU wallets % solana balance TKEz9XfFL7NXezLCDTt849amMEhSKBDCLd2BDL9aWjV.json 
4 SOL
yes
Does `TKEz9XfFL7NXezLCDTt849amMEhSKBDCLd2BDL9aWjV.json` have enough SOL?
Hi Everyone, I have a problem I couldn't fix it
I checked everywhere with no luck and it was working just fine 

**mac@UZU wallets %** spl-token create-token TKEz9XfFL7NXezLCDTt849amMEhSKBDCLd2BDL9aWjV.json --decimals 0
Creating token TKEz9XfFL7NXezLCDTt849amMEhSKBDCLd2BDL9aWjV
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages]
Correct me if im wrong.
You need to create a layout for your account and pass it when you creating that account. Layot is like the fields you want to store inside that object(and space assigned for them)
Yes u can create an account that holds the state of an object.
Like u need to create interface of your data object as in object that contains 
{
Name: some type
Ages: u8
}
Hi!
How can we check that we can withdraw SOL from stake account after withdrawStake? (on front-end side js)
As i expected i cant transfer lamports from acc_1 with the private key. Does anybody know how to transfer ownership of the account back? I mean from my program to the 11111111111111111111111
const acc_1= new Keypair.new(); 
And transfered the ownership of the account to the Program i deployed earlier. SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: acc_1.publicKey,
  lamports: lamports,
  space: space,
  programId: programID
});
Hey everyone can you suggest me some resources to write contracts in c++ on solana
```rust
let seeds = &[
            "testseeds".as_bytes(),
            program_id.as_ref(),
            &payer_info.key.as_ref(),
        ];
        let (pda, _nonce) = Pubkey::find_program_address(seeds, &program_id);```

this is how i'm creating the pda!
```rust
invoke_signed(
            &SPLIX::set_authority(
                token_program.key,
                token_account_info.key,
                Some(&payer_info.key),
                SPLIX::AuthorityType::AccountOwner,
                &pda,
                &[&pda],
            )?,
            &[
                token_program.clone(),
                token_account_info.clone(),
                pda_account_info.clone(),
            ],
            &[seeds]
        )```

this how i'm passing the seeds to invoke signed!
how can i store states temporary on chain and consume it later in a transaction?
someone help me to clarify this passage in the docs pls
Thanks man for this, i used confirmed and replaced sendandconfirmtransaction with two different calls of send transaction and confirm transaction, and it drastically changed the response time to 1-3 secs‚ú®‚ù§Ô∏è
Darn that's too bad. Thank you üòÑ
got it thanks
No, not currently.  You could use a test admin key for normal development and unit testing, then swap in the real admin key when you build for production
Hi, I am writing a few integration tests for one of my programs. One of the processes expects to receive a signed instruction from a particular pubkey (our administrative account). Is there any way of using solana_program_test to "sign" the transaction without the private key?
how can we decide the total  byte size of a tx?
oh it's a duplicate question? nvm
hey guys what is the max amount of number of wallet we can send token to in a single tx?
hello everybody,
So i'm using a pda!
it is created with the some signer seeds and when i try to pass those exact seeds in the invoke signed the program says unauthorized signer, signer privileges escalated

also getting this error.
```Error: connect ECONNREFUSED 127.0.0.1:80
    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1161:16)```
where can I buy "SRM"? for devnet
if it fails or errors you need to retry the transaction
retry to just confirm the transaction right? not to send another transaction?
an example. retry after 5 seconds, then after 10 seconds, then after 20 seconds, then after 40 seconds, then after 80 seconds, and so on, maybe stopping at 160 seconds. the point is to not just trying to slam something through.
thank you for the solution!
this i just one method that many use
so you don't just keep retrying until the end of the eternity
```An exponential backoff algorithm retries requests exponentially, increasing the waiting time between retries up to a maximum backoff time. For example: ... And so on, up to a maximum_backoff time. Continue waiting and retrying up to some maximum number of retries, but do not increase the wait period between retries.```
What do you mean by backoff solution?
based on many conditions could be reasons for timeout, just keep re-trying if its failing or erroring with a sane back off solution is the only best bet for connection related stuff. 

finalized is the best, confirmed is strong but not finalized
Btw which is the best commitment to use? The transaction doesnt have to rollbavk, its finallized and have to br done
So in that way, it will keep on waiting until it doesnt confirm?
Correct man! I used send and confirm transaction, i will try thr other way..
I guess you used sendAndConfirmTransaction. There is a timeout in it (https://github.com/solana-labs/solana-web3.js/blob/2cb7c1f04f336096c1fee9b058e8aab649e28cef/src/connection.ts#L2697)
to get rid of it, you can send your transaction directly by connection.sendTransaction and implement your own confirmation.
Until yesterday, it used to confirm within 10seconds
I am even using good rpc node
Hi, do you have any idea why transactions are taking 40-60secs sometimes judt throw couldn't confirm error
a tx has a size limit, 1232 bytes
if you pass 35 account into your one instruction, it will take 35 * 32
but a tx also need to pack signatures, data of instructions ...
so 35 account will not be a fixed number.
 it depends on whole tx size.
35sec?
Is Solana‚Äôs 35 account limit for an entire transsction? Or just individual instructions
i closed this attempt and now i am getting invalid blockhash again, im guessing its just a gamble lol
ah i ran out of money
oh shit new error  whats this
you cant get the account info from inside if its not passed, it has to be passed in, as far as I recall. when you pass accounts in, that is when account info is passed, if your looking to do this dynamically.
similar to https://github.com/solana-labs/solana/issues/22528 except mine is only 490kb
attempts to deploy my program to devnet using solana cli results in `Invalid blockhash` error, is this a known issue with a solution?
Is there maybe a CPI to get the account holding the program via th id in `declare_id!()`, and maybe the `owner` of that account can be accessed and used?
thank you, it seems to work on localnet
i dont recall, the typical way to get the owner of an account is to pass it into the program, what you can do is store the id in the program, like : `declare_id!("....key " );`

in anchor, they have a shortcut to access the program I believe,  `ctx.program` or something similar, which you can probably access owner.  so there should be a way, not in a place I can check atm.
Hey all, I've searched discord up and down, asked a few days ago but got a cold response.

Is there a way to programatically reference the program owner/deployer/upgrade-authority from WITHIN that program? something like 

```
#[program]
pub mod my_program {
...
    my_program::owner();
```
?
edit: Sorry, I thought I was in the anchor discord. I am going to leave it though in case there is input from just the solana folks
hard to say without seeing the project.  or build it.  have not seen this personally.  there are some packages, crates, code that may have conditional platform code.  are you able to build 'Solana'  and the client test project there that uses client?
I have a few weeks of experience, and of course, all my depencies are included properly
error[E0308]: mismatched types
--> /home/demian/.cargo/registry/src/github.com-1ecc6299db9ec823/socket2-0.4.2/src/socket.rs:1659:23
|
1659 | from!(net::TcpStream, Socket);
|                       ^^^^^^ expected struct `Socket`, found `()`
and are you familiar with rust, cargo, and crates?  are the dependencies included?   

and this is a client just so you are aware its for interacting with programs, but not used in program themselves.
try to paste one or two errors in the window instead of images. for readability and searching.
I tried to use different versions but it always gives me build errors
it seems like the errors are from dependencies of the solana-client crate
hard to say without specifying what at least some of your errors are.
never seen many of these errors related to the cli install.  so this is a bit strange.  some of the previous errors would have normally been fixed by installing and or updating the packages. something.. is amiss.
does anyone had a similar problem?
I installed the "solana-client" dependency on my project, but I'm getting build errors every time, the build works fine without it, but I need this dependency
i am on root
might be a permission or port related issue.
there is no etherscan for Solana yet, but similar tools are being prepared and released.  in the mean time, there is plenty of open source code based on your interest, in addition to the many tutorials, guides, and references.
https://solana.com/developers
https://www.soldev.app/
https://solanacookbook.com/#contributing
NFTs: https://docs.metaplex.com/community
<#763249718339567626>
So how to verify a smart contract, if you cannot get its source code?üò¢ 
( I move from Ethereum to Solana. And this point confuses me very much...)
I mean, on Ethereum, you can find the Solidity source code of a contract in Etherscan.
But on Solana, I can't find any stuff like that.
Hi, Guys.
Is the smart contract on Solana is open source?
How to find the source code of a specific contract?
Anobody curl localhost ?

I have this curl: (7) Failed to connect to localhost port 8899: Connection refused (its not a docker image, just cli install)
HI, why my solana nonce account recent nonce don't update after the hash is mined.
Hey guys, I am trying to find the owner of an NFT using the RPC API method connections.getAccountInfo. However, the data field gives me a buffer type. How do I decode this?
How can I send a transaction using a private key for the from address?
Thanks <@!737915190045311067>  and <@!453347985628200960>. I'm a newbie. What is this cap request ?
Meaning you can form your transactions with the compute budget request without failing the transaction, but the cap request will be ignored
https://github.com/project-serum/anchor/blob/master/lang/src/error.rs
yeah you'll be able to add the instruction so it works with test-validator and also on mainnet (but does nothing beyond not failing, once the feature that Jack mentioned is enabled on mainnet)

I keep getting this error when running my app: **Transaction simulation failed: Error processing Instruction 0: custom program error: 0xbbf** How do I fix it?
if by noop you mean no extra fees
meaning that I can send a TX to compute budget program to bump the cap to 1mil without extra fees?
The noop ComputeBudget program will be enabled on mainnet at the next epoch
to have it in line with mainnet
on the local validator
how do I disable this feature
agree
We could use more links between the `Transactions` and `Runtime` doc sections
Or knows documentation about it
Hellooo, does someone heres knows about how to do a discord bot that verifies if a holder have a NFT?
The PR I mentioned add the docs here:  https://docs.solana.com/developing/programming-model/runtime#compute-budget
hi there, can someone suggest a way to generate VRF on chain or from an oracle?
Seems like the call would be getSignaturesForAddress
hey, what version of the validator should I use 1.8.7 is failing with the same issue?
How would I go about fetching a memo if I have a have a signature of the memo (let me know what function I should reference) - would a getProgramAccounts with a filter be used?
I will try a VM at digitalocean to test tomorrow
honestly never seen this much of an issue with a VM, but various containers have had related but different issues.  there are some newer docker and other images floating around, and there has been fixes related to some underlying architecture issue for arm, but otherwise we should be able to resolve this.
what version should be without that feature?
btw I'm now running test validator 1.8.7 and still getting the same error
anywhere is good
Thank you very much, you are the boss. We have a project to integrate the SOL (coins, NTF) on an app so we're looking into it üòâ
Rather than under `Runtime`?
you can look at some simple account info with CLI, but the solana explorer and some other NFT viewers would have better and more complete info.  there is a metaplex related CLI i believe as well.
https://explorer.solana.com/
https://docs.metaplex.com/community
I'll have a look tomorrow.

A small question, can we see with Solana cli the NFT of an account too?
or conflicting with a version in another
thats generally related to some version in one of the packages not correctly resolving.
this resolver issue is new though,
did u try a previous version by chance?  not sure why this wouldnt work.
and all is update üòâ
yep, rust, solana cli, libdev
but everything else is installed right?
Yepa
is this still when installing spl-token-cli ?
No error whit decoder :\
i think its more a library prob
your compiling the spl-token?  did it install?
1.67 GiB of 4.00 GiB
did u try upping the ram?   with VMs and or Containers, they tend to need more.
thanks sir
Cargo.toml
https://github.com/solana-labs/token-list/pull/13285 Anyone can help me approve  updating of LogoURI ?
VM :

3vcpu
4096 ddr
50gb NVWE

Error :

error: failed to compile `spl-token-cli v2.0.15`, intermediate artifacts can be found at `/tmp                                                     /cargo-installL8i6Jr`

Caused by:
  failed to parse manifest at `/root/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-ac                                                     count-decoder-1.7.11/Cargo.toml`

Caused by:
  feature `resolver` is required

  consider adding `cargo-features = ["resolver"]` to the manifest
say it with me.
whatever accounts you need access to in the program need to be passed in from a client
crap.  with any package updates I would think it should work..  but with the variations of VMs, architecture, and underlying architecture, it can be complicated. your getting same errors?
hey guys, is it possible to get the tokens of a wallet inside a program?
right. gotcha.
Not working on VM.
testing now, but looks like for 1.8.* you still have the existing behaviour of 1 mil budget tx wide
but for < 1.9 ? as many are < 1.9 if in main, for upgrades.
Hi everyone!

I am working on the SPL stake of my own contract, but I am having problems. Can you help me, with a documentation or some article to guide me in developing the staking of my own SPL token. thanks in advance
here is how to do it in TS
as far as I understand it, if you're building on 1.9 you can use it already (I tried and it works) but I don't want to rely on it for mainnet
so devs can put this into their code now, to be compatible with transaction updates in the future, is the idea? and existing apps with potential issues in main can put this in now and redeploy?
i've subscribed, when it's live I'll create a tutorial on our blog/github
from an application point of view, i'd like to see this documented here https://docs.solana.com/developing/programming-model/transactions
don't think I'd be very helpful with feedback here tbh
yes, read this when it came out
Ignores the instructions for now so that the transactions including it don't fail due to unknown program id.
Doc changes coming in showing how to use the compute program to request units.  Here is the PR, feedback welcome:
https://github.com/solana-labs/solana/pull/22081
how do I track this? happy to release a tutorial on our blog after it's released
on mainnet (v1.8), it doesn't actually do anything?
is there a simple code snip for in program to show people how to use this and help them upgrade ? üôÇ
Here is the feature on testnet: 
`4d5AKtxoh93Dwm1vHXUU3iRATuMndx1c431KgT2td52r | active since slot 105068256 | Add compute_budget_program`
oh cool!
here is our git diff for requesting extra compute in ts
Already there, on my list to enable at next epoch on mainnet
```
+    const p = new PublicKey("ComputeBudget111111111111111111111111111111");
+    let params = { instruction:0, units: 500_000};
+    let layout = struct([u8('instruction'), u32('units')]);
+    let data = Buffer.alloc(layout.span);
+    layout.encode(params, data);
+    let keys = [{pubkey: program.provider.wallet.publicKey, isSigner: false, isWritable: false}];
+    let unitsIx = new TransactionInstruction({
+        keys,
+        programId: p,
+        data
+    });
+    
     const tx = await program.rpc.myInstruction(
+            signers,
+            instructions: [unitsIx]
         }
     );
```
<@!453347985628200960> - might be worthwhile to add a stub version of the compute budget program to v1.8 actually.  This way folks can work with a `solana-test-valdiator` from v1.9 and start adding in the request for extra compute, and not have to remove it from production code.
solution being, adding that extra IX that requests more compute budget. We don't even need a lot more, just like 50k on top of the 200k
assuming this is not very possible for us at the moment, we'll just develop against 1.8 and when 1.9 hits mainnet I assume there will already be a solution for us? I already tested the request more compute units and it works, but don't want to add that to production code
yeah I get it.  Just pointing out that (3) is the path.  Rebuilding solana-test-validator from source and hacking it to disable that feature would work too
they are not even there
e.g. https://explorer.solana.com/tx/5Uuwpw2KTgzTfk4Qs4MPvqu8Karc7bGFWAsrhKKDnTnKGpWVWw9QUCUTJoVGMqM7yue7QoMhQ2p6kRcrTMSRQBq3?cluster=mainnet
my transactions are constantly failling actually
we are very thinly stretched with dev time, don't think we can dive into fixing it at the moment, but could happen after we get to mainnet
it could be related to several balance things.  what happens when u confirm? its also from phantom
I have enough balance
who knows much about creating a token / IDO / providing users the ability to stake etc?
> There's no good solution right now beyond (1) downgrading your solana version, (2) reducing your compute, (3) helping fix that issue
(3)
cool, how do I do that?
What you really want is control over active features in `solana-test-validator`
it can happen if you do not have enough SOL balance to pay, otherwise its generic.
It's not hitting MB any time soon
I just care about having 1 mil units on mainnet
Not sure if there's any SDK work done to add the instruction either
so I will be able to have 1 mil on mainnet at all times, although I may pay more for it?
Dunno off hand.  You can dig around in the code and find it
don't mind that, what's the fee formula?
There's a new compute budget program where you can request up to 1MCU for a fee
you'll be able to request more compute units, for an increased fee
Why does this happen?
`solana-test-validator` intentionally enables all features at the moment, as doing so represents the glorious future that we want to encourage development for.  But this is trouble sometimes, hence github issue #22520
does it mean that going forward I need to assume 200k for mainnet per txn?
There's a feature in 1.8+, that is disabled for mainnet, that reduces the total transaction compute budget to 200k.  We can't enable this on mainnet right now as it would blow up too many programs.  So there's a bunch of outreach and migration work that needs to happen before we'd see 200k on mainnet, regardless of what software release mainnet is on
nope
given that we will downgrade the validator, when 1.9 reaches mainnet will this be fixed already?
yes test validator
Assuming you're running `solana-test-validator`, which is mentioned no where in your report nor the cited one
There's no good solution right now beyond (1) downgrading your solana version, (2) reducing your compute, (3) helping fix that issue
You're running into https://github.com/solana-labs/solana/issues/22520
for the entire txn
we are running 4 ix in a txn and it seems we are only getting a compute budget of 200k
has the max number of compute units per transaction changed recently? it used to be 1 mil per txn
hey, we are running into the same issue, did you solve it?
Same whit libssl-dev. I try on real VM.
Testing
libssl-dev ?
i try sec
? xd
It's looking for headers
You ned the dev package
it says couldnt find the path
mb its cause its a LCX
openssl is already the newest version (1.1.1l-1ubuntu1.1).
anything outside of x86_64 has not played nice historically, but i believe some of the issues, especially relted to mac have been resolved for latest builds
AMD  Epyc 7451 24c / 48t / 128GB DDR4 ECC 2400MHz /  2x512Go (nvme) for main
did you try installing openssl?
what is the target architeture of the VM? and the machine?
I can try on normal VM ! i will try now !
i dont know if LCX is supported, docker has typically required various customizations to be installed as well.  various containers have been known to have issues. not aware of anyone running this, but im sure its possible...
Other prob now :
LCX w/o restriction, i reinstall cargo atm, compiling now, waiting for finish xD
hmm i just ran a fresh ubunut install and had no issue.   is this a VM or you running with any space restrictions?
yepa
dev seems like its package related. did u run the install apt update/upgrade command above?
ahh. hmm
did u run the package updates? and make sure libudev, and pkg-config are installed among them?
Installed package :
Lateste Rust (stable)
Solana cli
libudev-dev
still seems like packages issue
In ubuntu 21.10 :

error: linker `cc` not found
  |
  = note: No such file or directory (os error 2)

error: could not compile `libc` due to previous error
warning: build failed, waiting for other jobs to finish...
error: failed to compile `spl-token-cli v2.0.15`, intermediate artifacts can be found at `/tmp/cargo-installb7G6NX`

Caused by:
  build failed
not sure. would be related to the wallet, or being a plugin inside an iframe. typically iframes cause issues with plugins trying to treat them as apps within apps, and detection correctly, so not surprised if it did not work.  are you trying to load a dapp into another site, or have multiple dapps or wallets loaded simultaneously?
starting and fail after some sec (solana output cli)
How can I connect to a wallet from an iframe?
i know for some reason packages get left behind or not updated correctly and can cause issues. 
so running the standard `sudo apt update && sudo apt upgrade` may make sure they are updated. 

when you try to run the install does it install or anything, or just fail right away with that?
Yep, i can try to reinstall. I Will now üòâ
and setup the path variable
you followed the install docs from here im guessing?
https://docs.solana.com/cli/install-solana-cli-tools
ubuntu for linux,  but im personally not aware of other compatibility issues.

generally an issue can be packages, and updates for the OS, libdev and some things that may not generally be installed.
Yes, i can check balance of account.

What is the os recommended ?
Jacob super thanks this works so well, one more question - are memos updateable?
if you close out and run terminal are you able to run any solana cli commands?   i wouldnt think it would be an OS issue.  may be related to cargo, the path, or install.
debian11, yes solana cli is installed

solana-cli 1.9.4
have not seen that one specifically
what system are you on?  and did u already install solana cli ?
Weird, thanks!
in this case, it may just be a particular end point blocked due to repeated abuse, not necessarily by you, but in general, in dev.  basically people spamming the end point.
Yes
and you have rust, cargo installed?
"abuse on specific calls" can you elaborate on what would count as abuse?
yes
your running the spl-token install?
perfect. thank you
I am just using the officiel doc of Solana : https://spl.solana.com/ ? üòâ

You have other doc info ?
There's a nice `accountKeys` in that image
thanks. where can we find the associated accounts/addresses?
is there a reason your using an old version?
depends on what template you might be using but its generally a web site setup related issue.  the metaplex nft discord is probably filled with that issue and potential solutions.   its also possible the request is being denied by the service, like devnet, because of abuse on specific calls.
https://discord.gg/agQkEJ3G
Any idea ? üòâ
Hi boys,

I have prob whit spl token cli install : 

Caused by:
  failed to parse manifest at `/root/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-cli-output-1.7.11/Cargo.toml`
Hey there, on a mint site template I keep getting ```txt
Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://api.devnet.solana.com/. (Reason: CORS header ‚ÄòAccess-Control-Allow-Origin‚Äô does not match ‚Äòhttps://localhost:3000‚Äô).
Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://api.devnet.solana.com/. (Reason: CORS request did not succeed). Status code: (null).``` and I can't think of a reason why this might be happening.
Do a `getTransaction` on the signature
is it possible to get the sender/receiver/blocktime from a confirmTransaction response?
If you find anything wrong or out of date, just file an issue and I'll get to it eventually
you absolutely rock, thanks again (should have mentioned this a while ago when I was simply browsing the cb) testing #2 and I will let you know
Updated and you should be able to refresh and view the correct code
yes > code is transfer on that tab
You should have what you need from the ts though
Hmm, looks like the wallet adapter tab may be referencing the wrong code there ü§î
I believe so to question #2
https://solanacookbook.com/references/basic-transactions.html#adding-a-memo
quick question - how would we go about adding a memo using the wallet-adapter?
and can a memo be added to any transaction
üëç
Click the `</>` to view full source
I am not using js so I need some kind of api or similar
where do I get the `getCandyMachineCreator` function from?
thanks üôÇ
Ok So I only need the rpc api
Further down the page you can find out how to get mints from a candy machine
https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
I minted them using a candymachine in case this is relevant
which API should I use to find out who is holding an NFT from my collection
thx. Thought maybe there is something. Can't figure webpack code like this replacementInfo.from(Uint8Array.of.apply(Uint8Array, [0].concat(Object(schema.a)((new types.a(n)).toArray("le", 8)))))
You really need to know the program source
Anybody know how to decode instructions data from transaction? Eg. HEX 66063d1201daebea40a5ae0200000000ff
https://docs.solana.com/developing/clients/jsonrpc-api#programsubscribe
and one more question, is there some way to subscribe on smart contract events?
thank you very much, i will
Look at their site code. Their IDL is in it. That's all I'm going to say
oooh thank you <@!489206164270350337>
`https://unpkg.com/@solana/spl-token@0.1.8/lib/index.iife.min.js`
They don't though? They use auction house and stateless offers
lol
Someone build an NFT marketplace that doesn't take custody
What's with all these people with magic eden
hello, can somebody share some code that create trx to buy from smart contract of magic eden, dm pls
Are you getting the transaction with `getTransaction`?
Is there a minified package for token.js like 
```<!-- Production (minified) -->
<script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>```
Describe 'better'?
Hm, not quite what I'm asking but let me reformulate my question
Which is referenced from here: https://spl.solana.com/
So, you see how to include it (`require`) here is the source if that is what you mean: https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js
do you know where to find that <@!814228493302497301>
Hi All, I am new to this forum, quite excited to work with you all. I need some help on creating a wallet account from a client program, i am using rust to develop it. Is there any sample program that helps in understanding the client connection to the node, creating the pair of the key snd use that for a simple balance check? Appreciate any help‚Ä¶
cool
Yes
question: when using the web3.js browser bundle, is there a way to access the spl library i see people using in react? specifically is there a browser bundle for?

 ```
const splToken = require('@solana/spl-token');
```
I'm trying to log transaction results to my client console, but all I'm seeing is this.  How do I print out better info?
Not entirely sure, but worth a test.
Tks I do get a unique subscribeID that comes as an init message - you think it's likely the response messages will come in the order I send the subscribeAccount messages? If yes I can perhaps store those to relate the concurrent messages
Not exposed on rpc https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe
It doesn't look like that is available right now. I think you need to do two separate ws for this
Ok, that makes more sense. Let me see
Nope trying to subscribe to two completely separate accounts, no connection between them. In a single ws. We are getting the messages OK, just can't sort out which account the messages are associated with.
Oh, so you're trying to subscribe to an account, but also want to subscribe to all of their token accounts?
We want to get account updates for multiple accounts using accountSubscribe, the message payloads don't include the associated account atm. So we can't sort out which message corresponds to which account
haha thanks
>_>
I am adding it to itself of course the number of instructions added is doubled
oh I am silly
What do you mean by duplicate
then it adds 316 then it can't add another because the tx would be too big
i.e. initial transaction size is 341, add duplicate transaction and it adds 79, add duplicate transaction again and it adds 158
Can't you just calculate it on the fly? I don't understand the usecase
why is it that when I add duplicate transactions to an existing transaction, every time I adda duplicate transaction the amount added to the serialized length is doubled?
can you grab the ATA from the getAccountInfo response? we are running a subscription for other purposes
Just run this to get it https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L539-L544
AssociatedTokenAccount
what does ATA stand for?
Beauty of ATA is it doesn't need to be an RPC call
is there some way to get the associated account address in response from a getAccountInfo RPC subscription?https://docs.solana.com/developing/clients/jsonrpc-api#getAccountInfo
Thx!
You can do from client or program
Thanks Jacob! Must I create the Associated Token Account in the smart contract program, or should i do it from a client?
don't think they want people to bot their nft's
or search github
You ask them in their discord usually
magiceden is not open source to my knowledge
how do i know if its open source? I'm trying to buy an nft on MagicEden, and i know people are doing it so its possible, im just truggling on how to even start an interaction with their program
Here's a nice article though https://dev.to/cogoo/solana-how-to-send-custom-instructions-via-instruction-data-4g9g
Problem is if the project is not open source, it may be very difficult to interact with the program
even willing to pay someone to teach me
You would have to create an ATA owned by a PDA
im lost. someone help me please without sending me to JS articles because I don't get them. I need help on my solana code, been struggling for 3 days now on how to interact with a custom program that isn't mine in python
They probably need you to convert it to a buffer so they're just raw bytes, on the other end it'll be deserialized to a publickey
Does anyone know how to create a smart contract that stores  SPL-TOKENS (in one of its account)?
The docs say it should be a public key....?
`TypeError [ERR_INVALID_ARG_TYPE]: The "otherBuffer" argument must be an instance of Buffer or Uint8Array. Received an instance of PublicKey`
Found it
https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#addSignature
How do i add signatures to the transaction?
You didn't add the signatures to the transaction
`let houseKeypair = solanaWeb3.Keypair.fromSecretKey(bs58.decode(process.env["houseSecretKey"]));
    let transaction = new solanaWeb3.Transaction();
    let fromKeypair = houseKeypair.publicKey;
    let toKeypair = new solanaWeb3.PublicKey(toAddress);
    let lamportsToSend = lamports;
    transaction
    .add(solanaWeb3.SystemProgram.transfer({
      fromPubkey: fromKeypair,
      toPubkey: toKeypair,
      lamports: lamportsToSend,
    }));
    //window.transaction = transaction;
    transaction.recentBlockhash = await connection.getRecentBlockhash().then(response => response.blockhash);
    transaction.feePayer = fromKeypair;
    
    let serializedTransaction = transaction.serializeMessage();
    let feePayerSignature = nacl.sign.detached(serializedTransaction, houseKeypair.secretKey);
    let fromPubkeySignature = nacl.sign.detached(serializedTransaction, houseKeypair.secretKey);

    let verifyFeePayerSignatureResult = nacl.sign.detached.verify(
      serializedTransaction,
      feePayerSignature,
      houseKeypair.publicKey.toBytes() // you should use the raw pubkey (32 bytes) to verify
    );
    console.log(`verify feePayer signature: ${verifyFeePayerSignatureResult}`);

    let verifyFromPubkeySignatureResult = nacl.sign.detached.verify(
      serializedTransaction,
      fromPubkeySignature,
      houseKeypair.publicKey.toBytes()
    );
    console.log(`verify fromPubkey signature: ${verifyFromPubkeySignatureResult}`);

    let recoverTx = solanaWeb3.Transaction.populate(
      solanaWeb3.Message.from(serializedTransaction), [
      bs58.encode(feePayerSignature),
      bs58.encode(fromPubkeySignature),
      ]
    );

    //Send transaction
    await connection.sendRawTransaction(recoverTx.serialize());`
Hey guys! Are there any endpoints/services that provides current TPS?
<@!489206164270350337> I am getting signature verification failed error after I used your example in Solana cookbook.
They do have tokenProgram bindings https://github.com/skynetcapital/solanaj/blob/main/src/main/java/org/p2p/solanaj/programs/TokenProgram.java
Not sure on solanaj
Can someone guide me here? Thanks!
Iam essentially looking to transfer these newly minted tokens to user accounts.
Iam minting a token using spl-token does solanaj have any functionality to make a call to create a token?
CM is a Solana program right? If so, it's throwing the error 0x13a and telling you what the problem is... there is a Metaplex Discord you should ask 'why'
I can't start the candy machine, what could be the problem?
Hi all, does the msg! macro also print floats?
msg!("Price incl. confidence: {:.2} +- {:.3}", price, confidence);
price and confidence are both f32
This gives me this in the Solana explorer:
ty
`solana rent <SIZE-IN-BYTES>` will tell you
Depends on the size of the account
whats the minimum sol to keep so that accounts dont charge rent ?
you need to dyor on network calls and connection based programming. this is not Solana specific. 
the steps you can take and things you can try for timeouts have already been mentioned. 
try google if all else fails.
at the end of the day you need to problem solve and figure out issues. 
have some repeatable steps to help solve and find solutions
if all else fails, you retry the call. if nothing else, this is what you can do (above).
Why would my connection be bad?
`const transferTransaction = new Transaction()
  .add(SystemProgram.transfer({
    fromPubkey: fromKeypair.publicKey,
    toPubkey: toKeypair.publicKey,
    lamports: lamportsToSend
  }))

await sendAndConfirmTransaction(connection, transferTransaction, [fromKeypair]);`
Should I use the transaction code in solana cookbook:
it could be, if its under high stress, if its the node you can try pointing to another node.  it could be your connection, it could be your code, it could be more than 1.
I mean my transaction failed at 60 seconds, that shouldnt be a problem with mainnet-beta right?
experience. and learning. the above.  you can check network status and check your connection for 2 quick starters.
How do I figure out the root cause
mainnet-beta is a public node, and has other limitations, you can try another node or use a paid node service. this is only if it is a node issue.  timeouts can be due to many things, and figuring out the root cause would be the first priority.  your code, your connection internally, then externally, the connected node, and the cluster, and network. this is a general path for troubleshooting network issues in development. would be wise to review this.
and by network do you mean my internet connection?
I am connected to mainnet-beta, should i try a different one?
processed in theory finishes sooner as it has to do with commitment state, but is not yet confirmed across the cluster.  its how sure you want to be that a transactions has been processed, the commitment levels. something to read up on in the many docs.  generally you should not be timing out, the liklihood would be the node your connected to is suffering, or the network in general is under some stress, there is not a recommended or good option or method to bypass any of this right now, with paying any higher fees, etc.  If its your currently connected node you can try a different one, if its the network, youll just need to keep trying.
which I assume means that it will go into the recievers acct ^^^
I just need it to be "confirmed" when the SOL is out of the senders account
But the client will stop waiting for max confirmations.
The transaction itself wont finsh faster.
<@!301482575170502661> or <@!785084693023424542> can you help me get around my transactions timing out. I know i can increase the timeout, but for my use case, waiting 1 minute is not an option
if i do processed or something like that, will it be confirmed and finish faster
ok, I cant do that
Network errors, blockhash expired, insufficient funds...
what reasons would it fail
Try single or processed
You can skip the confirmation but you run the risk of the transaction failing silently.
Can you confirm that you have enough funds?


///////////////////////////////////////////////////////////////////////////////////////////////

Noob here...I am looking at the Solana Block Explorer and I'm wondering what the difference is between the transactions listed under the default "History" tab  versus the "Transfers" tab?
how would someone implement daily airdrops for wallets who hold specific nfts?
i'm thinking daily snapshots and transfers
Run `sudo npm i -g ts-node`
it sticks around until the owner of the associated account closes the account and reclaims the sol
hey sorry guys i am a full noob but can somehow help me with this (i am on mac)
okay
what happens to an associated token account if token desired is no longer present in the wallet?
If no one responds then tag me there and I'll take a look.
Try asking on the metaplex server.
Hmm that's a new one.
I reinstalled the whole metaplex repo , and now I am getting this error
`logsSubscribe` was mentioned . Any strong proponents?
Hey, I'm trying to listen for transactions for a given pubkey using websockets (https://forums.solana.com/t/json-rpc-listening-for-transactions-on-account/4292 redirected me here). As `blockSubscribe` is unstable and disabled by default, what's the recommended approach?
ÿü
Is is possible to restrict read access to an account, so that only the program, which owns it,  can read it?

i have the same issue
Did you happen to confirm with `getSignaturesForAddress` over rpc?
oh okay ,
Thanks!!
Oh then see https://docs.solana.com/developing/clients/jsonrpc-api#gettokenlargestaccounts
not finding token's addresses by owner's ID
oposite way.
hmm.. i mean
Thanks!!
Yes, see the https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
with using rpc?
Can I get owner's address with particular NFT's ID(address)?
No no the candy machine cli.
I've 1.7.8 , will update
This is an old bug, see if you have the latest version of the cli.
This is related to metaplex, you should ask on that discord.
any help ?
the file name is " 0.json"
Error: ENOENT: no such file or directory, open 'assets/0.json.json'

Is there a path to start mining/validating on solana without buying the initial tokens from somewhere?
With a proof of work system like eth or btc, you can setup a miner and start mining tokens if you don't want to buy coins from an exchange.
But from what I understand, in proof of stake you need to stake some tokens to be eligible to mine?
<@!213083996689661953> so, this is what it looked like at the time, not affected by the `InstructionError::IllegalOwner` issue and the close account tx would have been in blockstore at the time, so it's not clear why the tx history was empty. 

unfortunately i wasn't able to do more testing before it resolved. but might run some close account tests just in case.
GM!
how good is the solidity -> sol transpiler?
are there any dapps which used it to deploy?
is it fast enough?
For any other poor soul that stumbles across this, I was being particularly dumb and making a simple thing over complicated

```
fn delete_pda<'a>(
    account : &AccountInfo<'a>,
    refund : &AccountInfo<'a>,
    seed : &[&[u8]]
) -> Result<(),()>{
    let accounts = [account.clone(), refund.clone()];

    let account_value = **account.lamports.borrow();

    **account.lamports.borrow_mut() -= account_value;
    **refund.lamports.borrow_mut() += account_value;

    Ok(())
}
```
So this is quite interesting: https://github.com/solana-labs/solana/blob/master/runtime/src/system_instruction_processor.rs#L189

```
    if !from.data_is_empty()? {
        ic_msg!(invoke_context, "Transfer: `from` must not carry data");
        return Err(InstructionError::InvalidArgument);
    }
```

It's not possible to transfer out of an account which isn't empty? I feel like I am doing something obscenely dumb just now
I'm using something like this to do the transfer:

```
fn delete_pda<'a>(
    account : &AccountInfo<'a>,
    refund : &AccountInfo<'a>,
    seed : &[&[u8]]
) -> Result<(),()>{
    let accounts = [account.clone(), refund.clone()];

    let account_value = **account.lamports.borrow();

    invoke_signed(
        &system_instruction::transfer(account.key, refund.key, account_value),
        &accounts,
        &[seed],
    ).unwrap();
    msg!("Free {:?} to {:?}", account.key, refund.key);

    Ok(())
}
```
Damn ok that's what I thought, I must be missing something though, when I'm trying to user `system_instruction::transfer` to pull out the lamports I get this:

```
"Program 11111111111111111111111111111111 invoke [2]",
"Transfer: `from` must not carry data",
```

I can't figure out what it's mad at me about, the PDA is owned by the program too
i don't think you can "delete" the data
removing the lamports will have the account removed. you can zero out the data to "destroy" it until then
Does anyone have a reference for deleting a PDA in rust/solana smart contracts?

I tried just pulling out the laports but it wont let me delete an account with data in it and I can't figure out how to delete the data
Has anyone ever got this error: WalletSendTransactionError: failed to send transaction: io error: failed to fill whole buffer
Is there anyone who watched lectures in solhack? Is it good?
oh! the current blockhash could theoretically be a good seed. and since blocks last 400ms, it could in theory work
there is one answer there
https://www.reddit.com/r/solana/comments/ru5igx/generating_random_numbers/ maybe you will find it useful
I tried using chainlink's vrf for this, but i couldn't get it to work
giving random numbers to a program from the outside is probably not a good idea, since you can just give it any data you want and it can be easily manipulated (by you). in that case it's probably better to just do the whole thing offchain
<@814228493302497301> one more question, about atomicity of data.
Let's say I have a program that uses some data that stored in blockchain, in Account.  Program can read and write to the account, update data. 
What will happen during the execution of program call while there is another program call that targets the same saved data in Account?
Will the second call be halted until first call of program finished?
if i wanted to create a cryptographically secure number, i'd have to do that off chain and feed it into the smart contract right?
take the u64 and narrow it down to the range you need
that sounds good. What if i'd want to generate within a range? any suggestions on how to go about this?
and you can include whatever other seeds you want in the sha256 data, like the caller's pubkey if you want it to be different for every caller
then you can do something simple like taking the sha256 hash of slot+timestamp and taking the first 8 bytes of that as u64. i think importing the random packages isn't allowed
yeah, i'm fine with that
you are such a gem, thanks for help, I could not find answers online so end up here. Thank you very much
200_000 per instruction, yes. However; I believe there is a plan or PR that allows for 'buying' more units. I don't know it's status or when it would, if it is, introduced
hey guys, assume we have some game-like crypto kitties with some cute and funny kitties and these kitties have a cooldown timer. so if our game has tons of tons of these kitties and the cooldown timer is about 1min for example, how can we design this game?
I mean, you put all the stuff on the chain or use Hybrid solutions?
and also, what do you think about required accounts rent?
any suggest and idea would be appreciated
3. ... so basically this 200k limit is a general limit for any program, and it decides (this rule) will the program will be executed or halted? only this, correct?
that really depends on whether or not you're okay with the number being predictable for people submitting transactions or not
1. Yes
2. Yes
3. Transaction costs are based on the number of accounts you include in a transaction, not budget units consumed
Thanks for reply. Particularly I want to use this crate https://docs.rs/rust_decimal/latest/rust_decimal/ in my program. I could not find any usage of rand in it. I'm not a solana expert but looks like this crate will work just fine. So about testing and computational units I have few more questions, please clarify if you can: 
will it be the same computational units in devnet and mainet if I deploy the same program? 
To test performance difference (usage  of comp units) between two versions of program (with decimal lib and without) the only way to find it -- build it and test?
Am I OK if my program uses under 200k units (current limit), and let's say "use-integers-only" program use less, so the only drawback for my program will be just more price paid in SOL, or no drawback at all, in other words does computational units usage affect price of running program in solana blockchain?
hello guys, how would one go about generating a random number within a smart contract? take for example using the current timestamp as seed maybe
Thank you for sharing
the layout is basically 8 byte u64 for the count, then 40 byte chunks of [8 byte slot number, 32 byte hash]
there's no documentation for this. i used the current slot (clock.slot) and compared it with an older slot (ticket.slot) to get the difference and use that to calculate an index. you can use this math to loop through them: https://gist.github.com/WhoSoup/d47b3634386b605fbce833e4a07fe7d8
Can you share your snip code to get recent_hash or document to access the hash directly?
Floating point math is inherently more expensive, in terms of both CPU cycles and Solana Execution Units, than integer math. It may work ok as long as it does not use `rand` (see constraints here: https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions
Note: In current SDK you are limited to 200_000 Solana execution units
How do I get the public address of the holder of a token account?
i've tried this before and ended up just looking up the datastructure of the account and accessing the hashes directly. decoding it inside the execution limit was just not feasible
Hi everyone, I want to get the recent_block hash on the program, I run this code and its exceeded maximum unit. 
let hash: RecentBlockhashes = RecentBlockhashes::from_account_info(&recent_blockhashes_info)?;
I don't know how to pass this, please help me.
It depends...
If you are storing the Vec<u8> (serializing/deserializing) then you are already being charged rent
However; processing that collection in your program instruction logic it ***does*** become part of your 'stack' space and you may exceed the 4k per stack frame at some point depending on what you are doing.
Depends on what you mean. 
As a note, PublicKey (and Keypair) have BN as their internal storage
As far as sending BN to your program, as long as there is an equivalent sized number on the program side you should be ok. BUT: There is no BigNumber support explicitly in the program SDK
What are you trying to do?
<#763249718339567626>
hey guys, i do need some help with a question, i dont exactly understand everything about a smart contract or a blockchain but i've managed to learn how to make an NFT and other tokens, but i haven't been able to find out how you can attach the token itself or in my case the NFT, to a specific image on a platform such as opensea. And yes i am aware that this is not exactly a place to ask such a question but i havent been able to find a better place to ask this. Sry in advance for posting a dumb question.
pretty new to blockchain programming (and rust too), sorry
??
is it just a matter of saving memory - ie use unsigned integers and all math done with ints and then we round it to decimal point we need
does it make sense to use decimal numbers crate in solana program if I need to make calculations with floats? Asking because all examples I saw nobody use it. what is consequences to use thus decimal crate or not use it.?? can anybody explain
Hey guys, if I have a Vec<u8> field inside an account, does the heap memory it uses count towards the account's space or the program's heap memory? If it counts towards program's heap memory then it would quickly run out of memory when my users create accounts, right?
Looking at Anchor - it seems like this is less of a zombie than that web3 api
The default image in solanalabs/Solana exits because the process cannot write to /.config
Hello, is there a link to using the Solana docker image to run a validator?
yeah my issue is that the js library is sending me integers which i dont trust at all in JS
Hey, I would like to customize the fees for my spl-token buy and sell. how do I go about that.
Idk, I usually use Anchor and it does include BigNumber, or just use the bn lib
Does the js api have a solution for using bigNumbers?
thx
https://github.com/solana-labs/solana/issues
Where should I go to file an issue with solana-web3.js api?
nothing happens i just get spammed with messages
as i deploy a program
this only started happening today when i upgraded my solana version

guys
Hey guys, if I have a Vec<u8> field inside an account, does the heap memory it uses count towards the account's space or the program's space? If it counts towards program's space then it would quickly run out of memory when my users create accounts right?
what's the best lecture for solana dapp beginner?
Hello guys, I‚Äôm using wallet-adapter in a react production app but I always get no balance changes found when trying to sign transactions using Phantom wallet. Thing is it works very well on localhost. Why could this be? What could be different in the production environment?
If I'm trying to create a program derived account i have to use the function system program.createAccountWithSeeds... 
Because if i use the SystemProgram.createAccount it gives a signature verification error! <@!785084693023424542>
am looking for information on this as well
How do would i call this custom program call instruction increment from the counter example from anchor with restrictions that only a specific wallet is able to increment the counter

```#[derive(Accounts)]
pub struct Increment<'info> {
    #[account(mut, has_one = authority)]
    pub counter: Account<'info, Counter>,
    pub authority: Signer<'info>,
}```

I would use this:
```
allocateTransaction.add(new web3.TransactionInstruction({
  keys,
  programId: web3.SystemProgram.programId,
  data,
}));```

But what are the Keys and the data.
I would say that the keys are:
```
let keys = [
  {pubkey: counter.publicKey, isSigner: false, isWritable:       true},
  {pubkey: authority.publickey, isSigner: true, isWritable:      false}
];
```
Is this correct?

For data i did:
```
let increment = {
  index: 2,
  layout: struct([
    u32('instruction'),
  ])
};

let data = Buffer.alloc(increment.layout.span);
let layoutFields = Object.assign({ 
  instruction: increment.index 
});
increment.layout.encode(layoutFields, data);
```

Did i get this right?
Has anyone on here created a lottery Dapp on Solana?

oh i dont think chainlink vrf is implemented on solana?
how should i make a solana program that can return the current value of clock? So i can get the solana system time with typescript
in solana, i want to have randomness but someone here told me the only way to guarantee randomness on solana is with chainlink oracle vrf
how can i use https://docs.chain.link/docs/get-a-random-number/ ?
https://docs.rs/solana-program/1.6.9/solana_program/clock/index.html
Thx!
Try using solana program clock
Hello, I'm currently working on using Systemtime on solana program.
but it constantly emits error, (it panicks) so I wonder how I could get current UTC time from rust file. 
Can you guys give me the clue?
hello! anyone knows of any open source repos with a front end on transferring spl tokens to a specified address? the closest tutorial i found was https://learn.figment.io/tutorials/build-a-crowdfunding-platform-on-solana#the-donate-function but just wondering if there's anything closer
Anyone here good with smart contracts? I'm really confused with what I'm meant to put on the smart contract and on the client side. Please DM me üôÇ
Whats the reason solana devs decided to go with "connection" as opposed to "provider", like every other web3 client?
Is it possible to reward NFT holders with a custom token daily? As if it‚Äôs just always staked?
```  const tokens = await getConnection().getParsedTokenAccountsByOwner(owner, {
```
Using above is there some way to get NFTs held by an account in a throttled manner like 1-20 , then 20-40 etc. Currently the request takes too long if the account holds ton of NFTs.
ah interesting, thanks this is helpful, ill take a deeper look!
I think that will depend on the wallet itself, e.g. phantom has this: https://docs.phantom.app/integrating/signing-a-message
is there any way for a wallet client to "prove" they own their public key to a server? like by signing a message? the AnchorWallet interface (https://solana-labs.github.io/wallet-adapter/interfaces/_solana_wallet_adapter_react.AnchorWallet.html) seems to only allow signing transactions
Hi, I'm trying to enable a simple marketplace-like transaction using web3.js. Basically, if user B sends X Sol, they receive a Token. This is trivial to do in separate transactions, but I want it to fail if the sol doesn't arrive. I would also be happy to use an existing Program if a trusted one already exists.
Hi guys, im trying to deploy a solana program using: ***solana program deploy myprogram.so***, and im just getting a random key, does anyone known what could be happening? what i get is this: **`msg ADF3DGSFwrUho9gjmg8aeKQjZAyjPEnnFiEnusee8MpW`**  any help 'll be usefull thanks!
hey - is it possible to check signed encoded instructions made by ``signedTx.serialize()``?
Hi! I Submitted my project to the solana ecosystem about a month ago. But it doesnt show to people. Can you help me?
k thanks
you might be missing an account to send, or some data is too big/small for what your trying to read or process in the program. and when the program tries to read the account or data, the account doesnt exist (not enough accounts expected) or the data is not the expected size.
could be lots of reasons. try the candyachine/metaplex discord with some more details. 
https://discord.gg/4UQepZms
Now im am getting a weird error `Error: failed to send transaction: invalid transaction: index out of bounds` when trying to call initialize
What could be the reason I am getting this error when using a minting candymachine?
`failed to simulate transaction on devnet`
I just don't have a sense of what is a reasonable size or measure for Solana.
So when I serialize the message the buffer length is `1123` It's a set of 13 instructions in the transaction. Is there a way to tell the data length of each individual instruction before serializing?
Any idea how I can get my programId from that keypair file so I can deploy?
So im trying to get my program id after build, and when i try to get the address from the keypair file generated after running `anchor build` I get this message ` No default signer found, run "solana-keygen new -o path/my-keypair.json" to create"`
Are you passing a lot of accounts? Large instruction arguments? Etc.
You'd have to find a way to pass fewer accounts, or less instruction data, or fewer individual instructions, etc.
I build the txn, sign it and then it fails when I call `transaction.serialize()` with that error.
`Error: Transaction too large: 1252 > 1232` It's failing to serialize. So I'm not sure where to even start TBH.
I‚Äôm trying to find out as well. Did you find an answer?
you have a single tx with 1232 instructions?
Is there a way to navigate a transaction to see what might be able to be split off into another transaction as I'm reaching the limit of 1232. Or is there a method to reduce the txn size if it's a trusted txn? Using web3.js?
hi friends, is testnet and devnet experiencing isuses?
That should work. I'll give this a try. For my use case, I'll need to obtain the wallet owner address, but that should be stored in the token account data.
Then parse the token account that (hopefully) lives there
You need to figure out, from the client, what address you think their account lives at, and then pass it into your program as an account
You'll have to pass the account in from the client unfortunately
And do something like
```.rs
let token_account = spl_token::state::Account::unpack(*the_account.try_borrow_data()?);
```
I can call the associated token account through a CPI
You'd have to then pass in the correct token account (not mint). Probably an associated token account if you don't have a better guess for the account address
I want the token account balance for a specific wallet.
Or do you mean the total supply?
If you want to know the token *account* balance then you need the actual token account address, not just the mint
thank you. this answers my question perfectly
Thanks for the fast resposne
<@!134416332509675520> Assume the program has the token mint address. Do you have rust doc call I can check? I couldn't find it
Yep, but you'd have to pass the correct token account into your program (your program can't look it up dynamically)
Is there a way for a solana program to query an account to check the balance of a token?
I am looking at the orca arb from the solana breakpoint https://www.youtube.com/watch?v=JkRibvFf2Pc Is this done without a flashloan? If so does the orca sdk have this ability?
Anybody ever faced this issue? I‚Äôm not sure if I need to configure something for the production environment
It looks like it wasnt that parameter that caused the error but the one on the next line even tough it pointed to the Connection url one in the debug console I am so sorry for wasting your time thanks for your help <@!814228493302497301>
Check here: https://solana-labs.github.io/solana-web3.js/classes/Connection.html
im confused af cant find good resourecs online as well
this is exactly what I did it says invalid param
I have a collection i want to make and i am thinking of solana, what are the costs of deploying a contract?
Guys i have a question
```typescript
const rcpcon = new Connection("https://api.devnet.solana.com")
const result = await rcpcon.getTokenLargestAccounts(...)
```
hey everyone whats up! super excited to be part of the community and cant wait to see what cool things come out from here. if anyones got any projects theyd like to demo/show off, please share!
Hmmmmmm‚Ä¶. it also had no tx history. Okay. Never mind. Will look into it. üôÇ
I use it with Flutter instead of Js atm but it is basically the same just different syntax
```dart
RpcClient('https://api.devnet.solana.com').getTokenLargestAccounts(.....)
```
Hello guys, I‚Äôm using wallet-adapter in a react production app but I always get no balance changes found when trying to sign transactions using Phantom wallet. Thing is it works very well on localhost. Why could this be? What could be different in the production environment?
How are you using it, need more context
Specifically, it looks like it was emptied 3hrs ago: https://explorer.solana.com/address/DFRdJhD9tirndHMPtDE8eEi5436pm4KhoL4stxqMSuW2
Sorry, I can't tell what's weird about that...? It looks like that account is empty.
it says invalid parameter
but when using this url for the RPC client it doesn't work
yes it is on devnet already. this is shown in my rpc url:
RPC URL: https://api.devnet.solana.com
The first ensures that your solana config is set to use devnet:
```
solana config set -u l <- sets to local
solana config set -u d <- sets to devnet
solana config set -u t <- sets to testnet
solana config set -u m <- sets to mainnet
```

`solana config set -h`
I can imagine the second one but the first
ok now what does this do?
`solana config set -u d`
`solana ping`
I get this error when entering  https://api.devnet.solana.com :
`Invalid param: Token mint could not be unpacked`
`solana config get`
```[2022-01-01T20:34:16.508261729Z DEBUG solana_rpc::rpc::rpc_full] get_account_info rpc request received: "DFRdJhD9tirndHMPtDE8eEi5436pm4KhoL4st
xqMSuW2"
[2022-01-01T20:34:16.508272180Z DEBUG solana_rpc::rpc] RPC commitment_config: None
[2022-01-01T20:34:16.508276458Z DEBUG solana_rpc::rpc] RPC using block: 114359439
[2022-01-01T20:34:16.508312600Z DEBUG jsonrpc_core::io] Response: {"jsonrpc":"2.0","result":{"context":{"slot":114359439},"value":null},"id":1}.
```
<@!213083996689661953> there's some weird stuff going on with accounts right now, is that know?
https://docs.solana.com/developing/clients/jsonrpc-api#rpc-pubsub-websocket-endpoint
When using the solana RCP API what url do I use for my RcpClient ?
That looks like a great starting point for me to digest, thanks!
This demonstrates unit testing your program https://github.com/hashblock/solana-cli-program-template/blob/main/program/tests/lib.rs. 
Solana provides two (2) crates for local testing:
1. solana-program-test (used above)
2. solana-validator (which loads `solana-test-validator`)
Does anyone happen to have some intuition about how I might automate listing my NFTs on Magic Eden?
Re my chat question from earlier, easy to use DeSo integration would be great.
or lets say which NFTs a Phantom wallet contains
how do I see which NFTs a wallet contains using js ?
üòÑ haha I actually meant if my crates name can be published with a name that starts with "solana-" as I see that all the solana-* crates are pubilshed by Solana labs
I know Solana provides a library to help with unit testing programs and I'd like to start using it. Can anyone recommend some resources or reference projects where I can learn good approaches for unit testing Solana programs?
I want to create a language where you procedural describe a "workflow" involving multiple users responding to queries in a request-response sort of way, and then this workflow is compiled down into separate transactions which must be executed in a particular order. Before I get started, is there already something like this?


///////////////////////////////////////////////////////////////////////////////////////////////

Are rent and smart contract fees the same?
you could reference storage from airweave to pass in,  or if it does not grow to massive, you could use accounts to store, based on design.
You'll have to update to another rpc
I don't think you can hit that rpc from local
this is my status so far
Don't think so. I believe it all runs off of the rpc
When running the `explorer` react app locally, are there any API tokens needed? I get a bunch of forbidden requests in the console, and transaction details dont show
i put it in the code share at the bottom
Yea thanks, I think I‚Äôm more confused about the data storage. I guess logic can be completely be on chain and reads persistent storage from Arweave or something
so what is the questions pertaining to this code specifically?
haha ok.  looks familiar
no üòÖ
is this from the halborn audit interview? üôÇ
<@!785084693023424542>  https://codeshare.io/JbAz1q
its up to you,  specifically.  you could write functions in the program, passing the appropriate inputs, that writes the status/outcomes, of actions, to a player data account, or some kind of action queue or log (using an account, or writing to a log).  also depends on the design, scale, and how big the player base may be.  you want to think in a serverless, distributed mind set, with the logic and storage.  If you do not need to store events long term, and only as they happen, or get acted on, you could re use the data storage.
Lets say player A attacks player B where is the best place to write the logic that resolves the action
if its 10 or less lines can usually use code blocks inline here
not an official one,  usually recommend an online gist, code ide/sandbox, or something similar, if its not in a github.
im sure possible, doesnt sound too intense. but if your storing everything on chain the data may add up.
<@!785084693023424542> is there a solana playground where i can post the code to?
Run a full web text based game on chain
not that I am aware of. logic is logic. the less the better. on chain. what are you looking to do.
would have to see code to figure it out or test why.
Any examples of game logic running on the solana chain as opposed to centralized servers?
So confused why that made a difference, when earlier passing in the same accounts with the same permissions, allowed each operation to transact successfully on its own but somehow when doing both the runtime threw an error
nice
I just got it to work!
Actually thank you that helped!
you may have to post a link, or lines of more relevant transaction/instruction code and processing, for anyone to see whats going on.
that error specifically  may mean the account was passed in as read only, and needs to be passed in as read/write.
any ideas on what might be happening here?
I'm running into an issue with a transaction. My programs instruction does two things 1) A token transfer  2) modification of state of a program owned account. The idea is that upon a successful token transfer, the program owned account's state gets modified. Interestingly enough when I comment out one operation but not the other, they work. However when I do both within the processing of the instruction I get a ```failed to verify account instruction modified data of a read-only account``` error
for neon EVM:
https://neon-labs.org/
for solang:
https://solang.readthedocs.io/en/latest/](https://solang.readthedocs.io/en/latest/
https://github.com/hyperledger-labs/solang](https://github.com/hyperledger-labs/solang

for news and updates in general:
https://soldev.app/
Where can I get updates on Solana's support for Solidity ?
Maybe so. I'm just saying what I've personally experienced when my connection is slow.
that doesnt make sense. and not really comparing apples-apples.
I get that but compared to slow connections on web2 it is significantly slower
slow connections will always be slow and have latency, thats not a Solana issue.
My first Solana app was a great experience but I noticed significant latency for slower connections.
PDA accounts have a max size of 10kb
Accounts have a max size of 10mb
that being said you still have a decent amount of space to work with
yes memory and compute units need to be accounted for, its to encourage optimal performance practices.
only store what is 100% required on chain. 
do as little processing as possible, treating it like server-less functions you pay for.
updating accounts in Solana includes writing data to the account, at the account address.
Understood. I'm concerned that if I create a DAPP on Solana would I have to worry about space or memory in the case of an app that may potentially have high I/O ops
i dont believe there is any Solana based code for this, probably some Ethereum and Fin examples floating around github. For Solana, you may be able to achieve something by storing relevant data inside a program account, and referencing it when you process the program instructions.
Is it possible to connect with someone to present our project outside of the grant process. We have a very interesting sustainable project supporting High Quality Carbon Offsets that we would like to discuss.
not necessarily, accounts are just buffers owned by programs. Only the program can modify the data and debit that "account". You can modify the data of the acccount without having to create a new one.
Does updating a piece of information in Solana "accounts" consist of creating an entirely new account with the updated information. Is that how it works ?
(Ex. First use would require 100 tokens to spend, 2nd use will be subject to inflation of 7%, etc.)
does anyone know how to implement an inflation function for a contract where the contract uses SPL tokens to spend in return for a different SPL token?
gotcha. thank you
it should not
thanks heaps
already did that. I was just wondering if it can be done aside the program ?
<@!242234529396424704>  if you want to prevent other users who also have bills then I would think you need to have appropriate ownership checks in the intstructions, but if you're worried about other programs being able to modify your programs account's data, i dont think you should worry about that
ty. I just needed some confirmation on this
or no one here has experienced it neither knows the answer
I see, thank you and <@!367036325867552781>
It wouldn't hurt to add it.  Worst case you consume a few extra compute units, best case you prevent somebody from exploiting your program
Yes, that's right, we add such check in our own program to avoid transaction failure? or Any vulnerability if not add such check?
so no way to recover single node corrupted blockchain
The program writes to `destination`, and the runtime will fail that write if the program does not own that account
to your first question, i think so? It would violate the rule of ```Only a data account's owner can modify its data and debit lamports``` .
Yes,  but it seems they didn't do check like `destination.owner == program_id` right?
<@!885224032016945202>  the spl token library also has instructions that do that as well such as : https://docs.rs/spl-token/3.2.0/spl_token/instruction/fn.transfer_checked.html
So? i should be only able to modify my account if it is done through program only? and I've added a check for pda seed. before it tries to modify it in the instruction. unless you know the seed, you shouldn't be able to change it even if you call that program isnt it?
https://docs.rs/spl-token/3.2.0/spl_token/fn.check_program_account.html
has anyone ever experienced this?
<@!242234529396424704>
Hello guys I read the sealevel attacks  owner check example:https://github.com/project-serum/sealevel-attacks/blob/master/programs/2-owner-checks/secure/src/lib.rs I just curious why spl-token not add ownership check with spl-token:ID in the library, is it intended? Because I cannot find such validation in spl-token lib.
yeah that makes sense
through client
for me i created my account like this...
```js
const billAccount = new Account();
const billAccountTx = SystemProgram.createAccount({
    space: BILL_ACCOUNT_DATA_LAYOUT.span,
    lamports: lamportAmount,
    fromPubkey: wallet.publicKey,
    newAccountPubkey: billAccount.publicKey,
    programId: myProgramId,
  });
```
`Failed to open ledger database: RocksDb(Error { message: "Corruption: file is too short (6358 bytes) to be an sstabletest-ledger/rocksdb/204763.sst" })`
how do i resolve corrupted blockchain
hmm
the owner field is indeed the field that specifies the program field of the account. I think the front-end of the solana explorer doesn't match up with this 1:1 for readability?
```owner: Pubkey
the program that owns this account. If executable, the program that loads this account.```
im logging the Account struct found here https://docs.rs/solana-sdk/1.8.2/solana_sdk/account/struct.Account.html
one sec
hmm..
```Account { lamports: 2742240 data.len: 266 owner: F4RM333333333333333333333333333333333333333 executable: false rent_epoch: 0 data:[]
 }```
is that the program id of your program
ok
ah
for that account
what does it shows in your localhost

i havent deployed it on the testnet unfortunately
im doing my testing locally
oh make sense. I got kinda skeptical about it. thank you
I am talking about a data account owned by a program that I have deployed. I was able to modify its state in a transaction without having to sign for that data account.
moonstorm can you post the account public key that has the progam id assigned to it. I wanna check that in the explorer once?
yes no that makes sense for the token program
Kartik proved this the other day with code
Ok, let's give another example that may help both. A token account is owned by the token program, but can be signed for by the authorized user(wallet that owns the token account) to update the balance with a transfer
```Only a data account's owner can modify its data and debit lamports```
<@!242234529396424704> slightly different, but overall i think the answer to your question is yes. That all the information on the bills in the account can only be changed within the program that you created
How to change Program/Instruction name in the explorer from "Unknown Program: Unknown Instruction"?
hmm
üò∂‚Äçüå´Ô∏è  ig uess we got the same question..
thank you
i was able to successfully pull off a transaction that modified the state of the program owned account without having to sign for it
yeah but what if the account is actually owned by the program? unlike with a mint account where the owner is the token program?
lets say I have a acccount that stores a state  of someone bills due and stuffs liek that for an user,  and its assign program id is my program id that i created.
does that mean, the user are only able to manipulate the data through my program ?
For example, have a mint account with PDA as authority. Program mints by signing with PDA
Generally you have a PDA owning another account, and have the program sign using the PDA
It should still sign. Writing requires signing
question: if an account is owned by the program, can the program modify the state of that account within an instruction without having to have it signed for?
just felt like you were someone i knew.. with that polish vibee
Ok thanks, i'll get a shot
I think pyth has something
I think it is in the metadata of one NFT, I'd double check with metaplex though https://discord.gg/qjhQFAdS
is that any chainfeed account for get sol/usd price
Oh nice thanks !
Don't you know how to retrieve the Candy machine id ?
Not sure on the latest collections stuff, but if you have the candy machine id, you can get all mints and from there the metadata 
https://solanacookbook.com/references/nfts.html#candy-machine-v2
https://solanacookbook.com/references/nfts.html#get-nft-metadata
Sure, i want to fetch all the NFTs of a collection of NFTS.

Metadata of an NFT are in an account, and all NFTs of a collection are related to a given PDA right ?

So i'm trying to find a way to fetch all theses NFTs of a collection
Can you say more? A given program-derived address can only have a single account living there
Hi guys, is there a way to fetch all accounts related to a PDA address ?
Yes
General, twitter, etc. Kind of hard to find devs
<@!489206164270350337> WSOL is wrapped in SPL token program?
Is there a channel on this discord to find developers to work with?
You can do that with WSOL today, unsure on native SOL. I know fireblock came out with support, and goki protocol is working on something as well
Is it possible to create an account and require multisig to debit lamports/sol?
why
no
hello patryk do you have another account name patryk?
thanks
Seems I can do that with useWallet()
oh i see ty.
Signing a transaction with one of many required signers
what does partialSign means
Hmm, haven't seen that. Looks like it doesn't have signMessage support
useAnchorWallet comes from the solana wallet adapter package, yes
Is it available in the wallet-adapter though
Not sure about the impl of `useAnchorWallet` I would check anchor discord https://discord.gg/YqQY3FYs

It seems only these functions are available:
Hey how would I use signMessage() with useAnchorWallet()?
ahh sounds fair. cheers
Yeah, on my list to remove soon
cookbook was using it umm..
Actually, now that I am re-reading this... https://canary.discord.com/channels/428295358100013066/742230900380795020/750024232225865868 My understanding is the secp256k1 program is not traditional program, it does some inspection of the instruction and validates it before running the on-chain program.. so it seems a client will include it in their transaction but use the sysvar instructions to ensure that the check was performed in the transaction? round-about, but if that makes sense I can work with it
ah sure thank you
Would check with anchor discord
My understanding is that the creactAccountWithSeed is legacy, and recommended not to use it
Hi, is there any link for good anchor code practices ?
My signature is thus
```
Uint8Array(64) [
  178, 132, 177, 144,  35, 180, 157, 197,  40, 194, 105,
   84, 153, 153, 143, 233, 250, 229, 244, 111,  30,  71,
  220, 208,  16,  18, 241, 220,  53,  15, 106, 240, 112,
  209,  41,  81, 167, 138,  50, 229,  27, 251, 207,  16,
  207,  39,  29,  82,  25, 255,  75, 204, 164,  32,  69,
  220, 163, 225, 148,   8, 101, 186,   7, 180
]
```
I added those extra msgs with the offsets etc
I haven't figured out how to see all the transaction logs when using the anchor test runner, this is all I see.
```
Transaction simulation failed: Error processing Instruction 0: Program failed to complete
    Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS invoke [1]
    Program log: Instruction: DelegateVerify
    Program log: Signature Offset: 32
    Program log: Eth Address Offset: 12
    Program log: Message Data Offset: 97
    Program log: Message Data Size: 14
    Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS consumed 7896 of 200000 compute units
    Program failed to complete: Program KeccakSecp256k11111111111111111111111111111 not supported by inner instructions
    Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS failed: Program failed to complete
    1) passes if verified when delegating
```
Will share signature shortly
Or just share the signature
Can I see the failed transaction logs?
I am trying to invoke `KeccakSecp256k11111111111111111111111111111` using cross-program invocation. Using the anchor test runner, I am getting this `Program failed to complete: Program KeccakSecp256k11111111111111111111111111111 not supported by inner instructions` is this program unavailable using CPI? It works fine when I call from web3.
Im a abit confused.
```js
CreateAccountWithSeedParams: { basePubkey: PublicKey; fromPubkey: PublicKey; lamports: number; newAccountPubkey: PublicKey; programId: PublicKey; seed: string; space: number }
```
This was the params to create an account through client
```
programId: PublicKey
Public key of the program to assign as the owner of the created account
``` Doesn't this mean, only program will be able to change the state of that account?
thank you
thats the one
yes , so guess I can just create pubkey first and then use createAccount I reckon?
Would you want to do this https://solana-labs.github.io/solana-web3.js/classes/SystemProgram.html#createAccount or are you after a different account?
You could do it a few ways.
1. Have program control a mint through a PDA, on payment to account mint tokens and send to user
2. Have program control a PDA with a token account. Token account has funds, transfers using CPI to payer
check this out
https://solanacookbook.com/
For Solana, with Rust
ts
lang?
how do i write a program that accepts payment and sends a token back?
so ```ts
let test = new Account();
``` whats the alternative for this?
The size is fixed at ~600 for metadata and ~250 for master edition.
What's the max size for a metadata account?
<@642167592580284427> 
Each nft is 0.012 sol total.
I would head over to metaplex https://discord.gg/qjhQFAdS
anyone have any links to code that accepts a CMv2 ID, and returns the supply / mint date / cost etc...? I've seen plenty of those bot websites do it, but not sure how they do that. I can pay if anyone can help üòÑ
oh ye i get that bit. üòÑ ty
Just because it requires the program impl
yes sure. thank you
ü•¥ wym by funky?
Let me know if it doesn't work
thank you
oh ye i get that bit. I just wanna confirm it first before I even try it
You'd have to have the program impl to do it
I would expect so. May be a bit funky to get the pda to sign the tx though
Hi, when i create an account, can i set the user as the fee payer and pda as a signer ?
Ok thanks
Just creating a transaction from scratch
What does recover transaction mean in solana cookbook offline example <@489206164270350337>
I believe there are two accounts for consideration, the token account and metadata account. Token accounts are usually ~0.002 SOL iirc. Not sure on metadata accounts, I would check with metaplex
Nice , there is a way to set an custom price on The mint? How I can check how Many bytes my nft will take
?
Because I don't have enough information?
but I copied the code directly from the repo, so I wonder why it's showing
thanks
Sounds like you're missing the idl. I would head over to metaplex for candy machine support https://discord.gg/qjhQFAdS
I am trying to understand the flow of how to connect candy machine to a frontend, by following the code from metaplex's candy-machine-ui package. I am getting a error saying that on the following line, the value of `idl` may be null and throwing the error
```js
const idl: anchor.Idl | null
Argument of type 'Idl | null' is not assignable to parameter of type 'Idl'.
  Type 'null' is not assignable to type 'Idl'.
```

https://github.com/metaplex-foundation/metaplex/blob/09b9ab80163c6252442c0121c7f0612ef846b656/js/packages/candy-machine-ui/src/candy-machine.ts#L162
Ty
The API documentation has a bunch of typedocs that are super useful. I would head over to anchor discord and ask if there's anything more available if it is not enough https://discord.gg/qjhQFAdS
You can find this out with `solana -um rent <bytes>`
Mint price depends on the size of the account required for your NFT
Hi there, we are sourcing a full stack Solana developer. Can anybody point me in the right direction here ?
hey guys, I'm minting an NFT using the cookbook, https://solanacookbook.com/references/nfts.html#mint-an-nft , but I dont see where I can set or check the mint price . Did you know how I can set or check the mint price for an NFT? How much it cost on mainnet ?
Okay thanks for your help. This is room for contributions from the community.
Why
I can't say without more info.
Unfortunately thats the only docs I know of.
Yes sir this is API documentation, which has no information of how to use the library, but just a list of all classes and methods. 

Is this the only one?
You know how to do that?
Aahaha well of course that is just a part of the project, but can be fully separated from the context. Just know that user will have benefits
Hmm and what is wrong with a normal wallet.
Looking for a development team to fork my own Dapps to Solana as well as build a new NFT Marketplace, if interested send me a private message!
Having a system where the logic is that each user can create a wallet (with every token he wants to) which is accessible through a proxy program that will allow him to do some spcefic operations

Can be described as a "virtual wallet"
There is https://project-serum.github.io/anchor/ts/index.html
Can you please explain what you are trying to do?
Hey fam. Please is there a documentation for the @project-serum/anchor javascript package ? 

Can't find anywhere. üôè
How can I let a user create its associatedTokenAccount using my program as proxy and then fetch every wallet he created? It's not a PDA from the program perspective so I can not create a seed with User/Mint association
Because that is the token metadata program.
Oh god, I didn't realise the last param was an array of signers and thought it was the accounts I needed for the transaction (no wonder they are in a different order). Thanks a lot and sorry for the silly question.
If you remove `senderAccount` from that list then the tx will fail (on the client‚Äîbecause you didn't sign for an account marked with `isSigner: true`)
Right, that last argument is where you're signing for all three keypairs üôÇ
await sendAndConfirmTransaction(
    connection,
    transaction,
    [owner, senderAccount, receiverAccount]
  );
How are you sending the tx though? You haven't shown the part where you may/may not be signing
Why do we need to use only metadata program_id (metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s) ?
The owner, sender and receiver public keys are the ones in the pairs generated by new Keypair()
This is the transaction I'm sending:
let transaction = new Transaction().add({
    keys: [
      {pubkey: senderAccount.publicKey, isSigner: true, isWritable: true},
      {pubkey: receiverAccount.publicKey, isSigner: false, isWritable: true},
      {pubkey: owner.publicKey, isSigner: false, isWritable: false},
    ],
    programId,
    data,
  });
And this is the rust validation I do when the transaction is sent: 
        if owner_info.key != &account.owner {
            return Err(TokenError::OwnerMismatch.into());
        }
        if !owner_info.is_signer {
            return Err(TokenError::MissingSignature.into());
        }
If not then please, please let me know, there is a $2M bounty for signature vulnerabilities
(So the advice you got above is correct; declaring that an address needs to sign is the right way to verify authenticity etc.)
Yeah, that will force that pubkey to have signed the tx. Are you maybe accidentally signing for it? If it's the wallet pubkey then it signs automatically.
Can you send some sample code?
Is that your own public key?
I'm using solana-test-validator for now. And yes, it executes there.
Does it execute?
Can you send the transaction to the cluster?
In order for your onchain program to access account info for a particular account, you have to include the pubkey in that account in the account block sent in the `keys:` array in the `TransactionInstruction` If you just want to include it in the instruction ***data***, how you include the pubkey there is up to what your program  expects as the payload for the instruction
Yesterday I asked for some help on how to validate that a transaction for a certain account is initiated by its owner and not by some other person who knows the owner's public key and uses it to sign the transaction as if they are the owner. I was told that checking whether .is_signer is true and comparing the account's owner pubkey to the pubkey of the account initiating the transaction will be enough because the initiator will also have to use tx.sign() in the typescript in order to sign the transaction. However, that is not true because I am able to execute the tx simply by putting {pubkey: publicKey, isSigner: true, isWritable: true} in its arguments. But that can be done by anyone who know the public key and therefore is not a validation at all.
Error: Custom: Invalid blockhash

What would be wrong in my smart contract as I am getting this error while I do solana deploy
like 
const remainingAccounts = []
remainingAccounts.push({ pubkey: "nft_1_account_pubkey". ..})
remainingAccounts.push({ pubkey: "nft_1_metadata_account_pubkey". ..})
remainingAccounts.push({ pubkey: "nft_2_account_pubkey". ..})
remainingAccounts.push({ pubkey: "nft_2_metadata_account_pubkey". ..})
...
so, its impossible to do this on-chain side, right? 
In my task I need to send 4 nfts and fetch their metadata on-chain side.
But I was told that I cannot send array of account infos in a struct, so I need to use remaining accounts. So, in this case, I need to send both nft accounts and metadata accounts?
connection.getAccountInfo(PUBKEY_FOR_ACCOUNT)
typescript
And you are writing this client in what?
Hello, I wanted to fetch some accounts on-chain, and I decided to use find_program_address for that - but it only fetches address, not the whole account. How can I get account info with that pubkey?
<@!590982495923732511> https://docs.metaplex.com/token-metadata/v1.1.0/overview are the new standards ?.

I will explore it , Thanks for the info.
I am trying to code a sample nft marketplace like opensea on solana blockchain.

if you know any references please share them with me.
You can define a collection on chain.
Yes, with the new tokens standard.
or we need to store all the token id's  some how?
In ERC271 we can get all the mined tokens from the smart contract, In a similar way can we lest all the tokens in solana?
https://github.com/metaplex-foundation/metaplex-program-library/blob/821e5aac0780fe45525dae72b9ad6f8dc2ba8e5b/token-metadata/js/src/accounts/Metadata.ts#L172-L178
<@!590982495923732511> I tried it, but facing an issue , Can you suggest some solution ,I am tring to make sample NFT marketplace with out using metaplex .
JS
    const metadata_programid = new PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");
 // setup pda
    let [pda, bump] = await PublicKey.findProgramAddress([Buffer.from('metadata')], metadata_programid, token_id);
    console.log(`bump: ${bump}, pubkey: ${pda.toBase58()}`);

Rust program 
 invoke_signed(
        &system_instruction::create_account(
            &payer_account_info.key,
            &pda_account_info.key,
            rent_lamports,
            space.into(),
            program_id,
        ),
        &[payer_account_info.clone(), pda_account_info.clone()],
        &[&[b"metadata", &[bump]]],
    )?;
Except the typescript types don't have the status key so it's bugging out with typescript üò¶
Error: Dynamic program error: No default signer found, run "solana-keygen new -o
when i try to check solana balance i get the following error
regardingsolana config set --keypair
iam running in some issue
i have some noob questions
hello
IHow many clusters currently in solana mainnet-beta? Anyone know?
The blockchain is the database.
Especially for a decentralised app you shouldn't need a database.
even for dapp don't u need db?
Essentially.
solana is the backend ay
You shouldn't need a backend.
in python, solidity, js, etc, you just code with no thought
so to deal with solana, should i use rocket or actix-web for backend?
i do like it.  makes you make more sense of everything
yea compared to what its precursor sare
im trying to adapt from EVM contracts to solana
Actually rust avoids that to a great extent with memory borrowing and sharing.
im still new to it
python is adddition compared lol
rust requires memory allocation manually
bruh yeah right
Rust is not that far off.
yeah thats true but i want to make sure its understandable
rust is low-level
javascript is much easier,  its english
And you shouldn't have to work with structs directly if you use the crates.
JavaScript is not magic.
It most definitely is.
they are right but explanation i need lol
ive looked at every github past 4 days, those links are the best ive found so far
yeah but with structs its not the same
And pretty sure there is rust code too
The concepts are the same.
but thatss in javascript
Meaning it won't show up as an NFT.
Yes, but it won't be compatible with wallets.
Please try going through the solana cookbook, it explains this in detail.
Thank you so much!
https://github.com/solana-labs/wallet-adapter
Thanks, <@!590982495923732511> I will try it 
But can you confirm one thing, In the place metadata program id, I can use my own deployed program address?
users/programs/accounts?
in that, they have `TokenAccount`, thats the account to mint from so i can mint to other users?
Anyone know where I can find info on connecting a wallet to a website and reading info from it?
and this https://github.com/project-serum/anchor/blob/e48f84c6bd7122a7d7744be2a9b25b7e8d2efc11/tests/ido-pool/programs/ido-pool/src/lib.rs#L298-L304
i need to do it from rust
im referring to rust
no check that link
they make a mint, and  then associated dtoken?
No those are the arguments to findProgramAddress
isnt associated just for associating accounts to tokens? shits so overly confusing with these terms
like in this, they use associated?
https://github.com/thegreat-vanderlinde/anchor_create_mint_and_vault/blob/main/programs/create_mint_and_vault/src/lib.rs
Essentially, yes.
Thanks for response <@!590982495923732511> 

Should I use token mint id in place of bump?
no but seroiusly
POOPYFACEDOGEELON
i just mint?
if i want to create a token called POOPYFACE
well in general
essentialy just a new token
AAVE Compound styyle
like aToken or cToken
a wrapped version tho
USDC, SRM, RAY .. all of these token are mint account.
you use UDSC token account to hold USDC
use SRM token account to hold SRM
so if i want to create a wrapped USDC like aUSDC... i mint and thats it?
Should be ["metadata", metadata program id, token mint]
a mint is like a ERC20 
a token account is used to hold token

in solana different mints needs different token accounts to hold.

you can take a look at https://solanacookbook.com/references/token.html#token
there are some examples can make you more impress
Wrong seeds.
when you create with a seed it is meant to create the same address when you use the  same input, would equal same output. if you want to create different address, use different seeds / inputs. print your input.
Hi all
Creating PDA with metadata seed  but everytime creating same acoount address , How to fix this issue 
// setup pda
    let [pda, bump] = await PublicKey.findProgramAddress([Buffer.from('metadata')], programId);
    console.log(`bump: ${bump}, pubkey: ${pda.toBase58()}`);
TokenAccount and Mint?
whats the difference here on create token and ccreate mint
https://youtu.be/FmdPAwsqJC4?t=3150
ok now i understand, thank you!
Which the system didn't allow.
Thank you very much for the pointer üôè
You were trying to write to the token program's code.
A transaction has to declare which programs it is going to write to.
ah ok im still not 100 percent clear on this, but your suggestion cleared away the error so thank you!
Review this document: https://docs.solana.com/developing/programming-model/transactions#anatomy-of-a-transaction
You can construct a transaction with the instructions by calling program.rpc.instructions.init and programs.rpc.instructions.increment
The system won't allow that.
You are trying to load the token program itself as a mutable account.
Hey fam. 

Is it possible to bulk send instructions ? For example let's say I have two instructions: `program.rpc.init` and `program.rpc.increment`. For each call it prompts the wallet for signing. Is there a way with better user experience ?
its true that i do a token transfer in the actual instruction, but i still want to update the state of the data of the Farm which is owned by the farm program and not the token program
This basically says if you need more data than can fit in a single tx then you should store that data on chain with small transactions.
As in the on chain program that you interact with to deal in tokens.
That is the token program itself.
i don't quite understand the phrase :"on-chain program interfaces", can someone explain pls?
why would setting the token program to read_only make a difference? Wouldnt i still need to sign for it with some sort of PDA to make changes to the actual data?
Correct.
Ah I think you have to do `AccountMeta::new_readonly(*token_program_id, false)`
so basically, if i wanna create an account to store state just use the system_program::createAccount?
Don't use that for storing program state.
Yes, bpf loader is an example.
https://docs.solana.com/proposals/transactions-v2#problem
```pub fn ix_pay_create_fee(
    farm_id: &Pubkey,
    authority: &Pubkey,
    creator: &Pubkey,
    user_transfer_authority: &Pubkey,
    user_usdc_token_account: &Pubkey,
    fee_owner: &Pubkey,
    token_program_id: &Pubkey,
    farm_program_id: &Pubkey,
    amount: u64,
) -> Instruction {
    let accounts = vec![
        AccountMeta::new(*farm_id, false),
        AccountMeta::new_readonly(*authority, false),
        AccountMeta::new_readonly(*creator, true),
        AccountMeta::new_readonly(*user_transfer_authority, false),
        AccountMeta::new(*user_usdc_token_account, false),
        AccountMeta::new(*fee_owner, false),
        AccountMeta::new(*token_program_id, false),
    ];
    Instruction {
        program_id: *farm_program_id,
        accounts,
        data: FarmInstruction::PayFarmFee(amount).try_to_vec().unwrap(),
    }
}

let pay_farm_fee_instruction = ix_pay_create_fee(
       &farm.pubkey(),
       &authority_address,
       &creator.pubkey(),
       &farm.pubkey(),
       &farm_owned_token_account.pubkey(),
       &fee_owner_token_account.pubkey(),
       &spl_token::ID,
       &farm_program,
       FARM_FEE
   );


   //call on the pay farm fee function
   env.execute_as_transaction_debug(
       &[pay_farm_fee_instruction],
       &[&creator],
   )
   .print();


```
yeah but in this docs it was written like this"Developers building applications on Solana must design their on-chain program interfaces within the above transaction size limit constraint. One common work-around is to store state temporarily on-chain and consume that state in later transactions. This is the approach used by the BPF loader program for deploying Solana programs."
How are you creating the transaction?
not entirely sure how to do that
CreateAccount
Bpf loader is for loading programs.
Are you setting that account as writable in the tx?
i wanna create an account to store list off address to transfer token to onto the chain so should i use the SystemProgram::CreateAccount instruction or the BPFLoaderUpgradeab1e with LoaderInstruction
Hey yall running into an issue with signing a transaction. I currently have an account owned by my program_id that holds the state for a dataset called Farm. I'm trying to execute a transaction for an instruction that modifies the state of the Farm within the said account. How do I have to sign for it for the program to be able to write to this account? Cause currently i'm getting a ```Transaction loads a writable account that cannot be written``` error
Okay, will look into it, thx!
Not very familiar with anchor but I think yes.
Would you want to use "remaining_accounts" for this?? <@!590982495923732511>
No problem.
Thanks a lot!
Then I guess my next step is working on that
have you tried `dbg!(msg!("..."))`
Exactly.
So if I know before-hand that A will call B 5 times, I need to derive those 5 PDAs on the client first, send them to A, and then A can iterate over them to call B?
I've tried with msg! and print!
It still has to be sent back to the client, you can't send a tx from an on chain program directly
So you can derive the PDAs for B while creating the transaction.
what if it is a transaction constructed on-chain?
If you want to read from or write to an account from an on chain program, you must include that public key while constructing the transaction.
Also A has an account keeping track of how often it has called B so far, in order to derive the next PDA address
But again, I would really like to use anchor's `init` constraint to take care of that part
The only solution I can come up with is that for each invocation of B, A first creates the relevant account
I think I didn't correctly explain the goal. Program B needs to be invoked multiple times, but every single time the PDA is different, because one of the seeds is an incrementing number (the number of times B has been called). So the "instruction signature" so to speak, is always the same.
How are you printing it?
Hmm possible.
Check the solana cookbook.
You have to run the account deciding logic before sending the transaction.
Every transaction must declare the accounts it will interact with.
That simply isn't possible with Solana.
Any good example on sending a fixed size string in instruction data and saving it into the account state?
If you check <#749579745645166592> there has been work for a stack exchange site.
I tracked the problem to the fact that I'm trying to print a u128 number which I'm guessing is too big?
Good morning everyone! I'm trying to invoke an instruction through CPI (program A calling program B), however the accounts that need to be sent to program B can NOT be included in the context for program A, since program B needs to be invoked a variable number of times with different PDAs each time. In other words, program A needs to derive PDAs for program B during runtime.

The problem arises when constructing the CPI context for B, which expects AccountInfos, however with Pubkey::find_program_address I only get the public keys for the PDA, not the AccountInfo. How would I achieve this?

Currently I'm using Anchor, so solutions within the framework are appreciated üòÑ
Hey fam. Thank you very much for all the help and support you are providing for the community. 

I just started developing on Solana a few weeks ago and this is the most helpful place i've found. It's almost impossible to google stuff, but searching here has actually been really helpful. 

Do you think we could move the conversation to an online forum where anyone googling can find the results / information from the discussions history?

Please has this been considered? If yes, what was the verdict? And who is the right person to talk to ?
actually, it was a custom Struct. I did find a way to do it just now on `solana cookbook`:  Thanks alot for the help
https://solanacookbook.com/guides/serialization.html#client-account-data-deserialization
Hmm can you show some code?
Looks like a master edition struct, you will have to see the layout in rust deserilize with Borsh.
Well, when i remove the line with the print, the instruction finishes successfully
hey all, I am trying to borshe Deserialize this data, but on python. anybody know how I could do that please?
Seems like an instruction issue.
No the public key should change automatically.
ok
I don't think so.
Hello. I'm getting this error when I try to print one of my structures in one of my functions: "Deploying program failed: Error processing Instruction 0: account data too small for instruction". Is there some sort of min size limit to the length of what I print?
<@!590982495923732511>  is that any function that when i switch wallet in phatom then unable to check in react fronted that account switch.
<@!590982495923732511> is that provide in phatnom also
It is part of spl.
https://spl.solana.com/token-swap
<@!590982495923732511> thanks for help is that any devnet swap program available
Look at the token swap program.
<@!590982495923732511> how can i setup spl token with balance in solana also
Hi there, I am looking for a web3 developer with excellent written skills to cover some of basic concepts in smart contracts and blockchain space. The dev will write coding projects and then explain them in written tutorials for other devs to follow and build their own apps. 

This is a part time paid gig with lots of ongoing projects and opportunity to build something meaningful for devs entering the space. 

DM if you are interested.
spl-token mint
spl-token create-account
spl-token create-token
You can create one yourself very easily.
or any mint address for test sol program
Yes
Do you want USDT on devnet?
How can i get usdc and usdt token for testing defi
Thanks, went through the solana-ledger-tool and never thought the remove account is put in the snapshot partüòÇ  lemme have a try
Yes, I am currently modify the pubkey in the program runtime as a workaround...
Check out `solana-ledger-tool create-snapshot --remove-account <feature address> ...`
You should be able to create a new snapshot from your test-validator ledger and delete the feature account.  This should cause the feature to be reverted.
In theory?  About to üõèÔ∏è so can't chat more about this at the moment
like anything?
```
#[derive(Accounts)]
pub struct InitializePoolAsset<'info> {
    pub authority: Signer<'info>,
    #[account(init,
        payer = authority
    )]
    pub token_mint: Box<Account<'info, Mint>>,
    #[account(
        init,
        payer = authority,
        mint::decimals = 9,
        mint::authority = authority,
        seeds = [token_mint.as_bytes(), b"receipt_mint".as_ref()],
        bump = ?,
    )]
    pub receipt_mint: Box<Account<'info, Mint>>,
    pub system_program: Program<'info, System>,
    pub rent: Sysvar<'info, Rent>,
}
```
hey what ddo i make bump?
As long as you store the ledger state I think you can change the validator binary.
Hi experts, I was running a local test-validator for a long time, and it is now holding lots of test data which we do not want to lose. I these days found that I was activated the feature "tx_wide_compute_cap" by mistake and it's now blocking our future tests. Is there any idea that I can remove that feature account without losing other data?
Wrong discord.
But try using the https://www.npmjs.com/package/@metaplex-foundation/mpl-token-metadata package directly.
I am now suddenly getting this error out of nowhere - anybody have any idea?
But yes, if they want to mint 2000 different NFTs then they have to spend 0.012 sol per NFT.
You don't need to create the metadata struct.
When you transfer an NFT it is the same as transferring an spl token.
I‚Äôm saying the situation if he wants to create 2000 different NFT.
I believe different NFT has different metaplex metadata account.
not sure what you mean about recreating?
How to implement whitelisting of account in solana ? Can you guys help me with some docs ? I have tried to look Merkle Tree
Hmm not sure if that is supported.
You will need to pay 0.002 sol per new recipient.
Might want to look at gumdrop.
Slight correction, you don't need to recreate the metadata structs for NFTs, they are created on the token mint itself, not the ata.
How often does block generators in mainnet exchange their data to synchronize with each other? At every exchanges, does all combinations of generators exchange(if there are N generators, then N * (N-1) / 2 pairs) their data? Below pictures is from solana-whitepaper
https://docs.solana.com/proposals/transactions-v2 do you have any example for the temporary solutions that you have mentioned in the beginning of your proposals? please support
Hi all, im on Windows 10. Never used WSL before. The Solana docs say to install the Solana Tool Suite through windows cmd terminal. But Solana CLI is through linix terminal on WSL. How do the 2 interact if they are different systems? And why would i not install the Solana Tool Suite through WSL as well?
Cheers for any info :)
it's not enabled on any clusters yet
you can on a local validator
but i can use solana_sdk in rust to interact with it right?
yeah coming soon, not quite ready yet
only a token account can receive tokens. if you transfer a token to someone and the someone don't have the token account. there are two solutions for it

1. you create a token account for him, a token account's rent is 0.00203928 SOL
2. wait for him init his the token account

seems you will create token accounts for your users, it will be a number.
and you planning to creating new token
there is an another extra cost, it cost you 0.0014616 to create a mint.
if this is a NFT, you also need to plus metadata account's rent and master edition ...

not sure what is the situation you experiencing but give you these points.
hi everyone, does this implemented proposal https://github.com/solana-labs/solana/tree/master/programs/address-lookup-table is able to run
Hi everyone quick question - I sent out 1000 of tokens using `spl-token transfer` the other day which costed around 2 SOL.. I am planning on creating a token to send out to 2000+ wallets daily, does that mean I can expect to pay 4+ SOL every day to make those transfers happen?
<@!466984915376799748> hello sir, i have seen your implementation to address lookup table program on solana repo, but i have no idea to apply it into my personal project thus i'm newbie to blockchain stuff and i mainly code on javascipt, can you please give me some instruction how to interact with the new lookup table program in solana/web3js?
you can not fetch all of them in a single request.
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
there is a pagination. you can use `before` to fetch them.
thank you. you can report it to <#812122623654887444> . there is someone will deal with it.
feel free to contribute or not idc
https://solextract.io/
hey guys, made a little tool to extract your accounts entire history with full info on each transaction and export as a zipped json
Hi is there way to fetch all the transaction history of account?
I have about 20K tx, only able to fetch 1k of them
hi team, FYI user gel#1157 is private messaging ppl who ask questions in here, pretending to be official support for Solana, and trying to scam them out of mainnet funds by directing them to a dodgy site and asking to connect their wallet
im not sure, but could have have to do with the deployed version on the netwrok vs the version you are running?   it could explain why local vs network is not working as expected. but someone can verify. tho test i believe is running 1.9.4. thanks for filing.
<@!785084693023424542> I added a reproducible example: https://github.com/solana-labs/solana/issues/22588
Will do, thanks
as far as I know, if not I would def file an issue with your findings and example if github issues though,  assuming the sigs in the environment are valid, and for that network.
i would look in the solana wallet-adapter issues, and if its not there post the related. sounds familiar.  this is still how many protocols handle this, as refresh generally does a reload, which restarts certain aspects and the page/site itself.
you also may have other errors above or below that. that might point to clues.
yea i would double check these if the balances are good.  its possible its something else. we can troubleshoot.
printenv: vars u may have, 
`ANCHOR_PROVIDER_URL, ANCHOR_WALLET, `
`anchor.toml:   [provider] cluster="devnet" , [programs.devnet]  `
then you `solana config get`
thanks ill take a look.
anchor deploy works a little differently with its setup,  there is also an ANCHOR_URL in the environment variables, or used to be. if this is anchor,  in addition to the settings in toml files.
thanks. I had 10 SOL on devnet and saw the failed tx come up once i initiated the deploy, so pretty sure its deploying to the right network. Here's my account thats used by Anchor for the deploy https://explorer.solana.com/address/FSWyoh1Wr88gPsYHC9xbpkaGi5j6aG1MAQe8GEZ2cvNv?cluster=devnet
balance is required per network,
and I would double check the network being deployed to, as well as the account deploying, in dev - the solana balance. better to have more than less to make sure its not the deployer/upgrade authorities balance, if deploying from local.
correct. the deploy works successfully on testnet but not on devnet
the transaction is from a failed program deploy? and this is for a deploy?
last I recall, the response OK null, means good. no error.  Otherwise it would be an error, in which case you can handle.
does anyone know why this tx is in error while doing an `anchor deploy` on devnet?  There's no error I can see in the Program logs https://explorer.solana.com/tx/3VUgVvvLN2U7qrDRrCXQAGGL1bn9gCVSKVpCVt5B1JDTshVLbZmd1Q6UV93tyG1L56WLm3KEjgK9gSJoq99uHYa?cluster=devnet

got this output on the CLI:

`Error: Deploying program failed: Error processing Instruction 1: invalid account data for instruction
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.`

Pretty sure I have enough lamports in the account doing the deploy, and the program deploys sucessfully on testnet, so don't think its a code issue?
Ideally the desired flows would look something like this:

1. User connects wallet -> user refreshes -> wallet still connected
2. User connects wallet -> wallet connection times out -> user refreshes -> connect button shows up 

Current flow with autoConnect: 

1. ‚úÖ User connects wallet -> user refreshes -> wallet still connected 
2.‚ùå User connects wallet -> wallet connection times out -> user refreshes -> **phantom extension pops up (undesired)**
What is the best practice for persisting wallet connections in the browser? I can do this by passing in `autoConnect` prop to the  `WalletProvider` from `@solana/wallet-adapter-react` , but this automatically pops open the wallet extension if the connection timed out. Is there a way around this? Would really appreciate some insight and let me know if there is a different channel I should be asking this in.
They work fine on my localnet validator
Does Ed25519SigVerify111111111111111111111111111 actually work on testnet?
Both of these instructions fail for me:
https://docs.rs/solana-sdk/1.9.4/solana_sdk/ed25519_instruction/fn.new_ed25519_instruction.html
https://solana-labs.github.io/solana-web3.js/classes/Ed25519Program.html#createInstructionWithPublicKey

> Err(ClientError { request: Some(SendTransaction), kind: RpcError(RpcResponseError { code: -32002, message: "Transaction simulation failed: Error processing Instruction 0: invalid instruction data", data: SendTransactionPreflightFailure(RpcSimulateTransactionResult { err: Some(InstructionError(0, InvalidInstructionData)), logs: Some(["Program Ed25519SigVerify111111111111111111111111111 invoke [1]", "Program Ed25519SigVerify111111111111111111111111111 failed: invalid instruction data"]), accounts: None, units_consumed: Some(0) }) }) })
rewards is not there either

It's returned as part of the response for sure
Anyone know why the property "status" is not on the Web3 JS api -> TransactionResponse->ConfirmedTransactionMeta type? 
https://solana-labs.github.io/solana-web3.js/modules.html#ConfirmedTransactionMeta
for dev and normal testing you can generally use the solana-test-validator
https://docs.solana.com/developing/test-validator
just running this from the CLI after going through the Solana install process.
for anything more advanced or into real nodes/validators, you can also reference these:
you might find these links useful:
 https://solana.com/validators 
 https://github.com/agjell/sol-tutorials
Hi everyone , I'm looking into running my own solana testnet cluster to develop locally. Anyone have a link where I can read more into doing this ?
No problem
Thanks <@!830588519494975538>
Contact support probably
Quick question, is there someone I can get in touch with at Solana about partnerships or how to apply for one?
Hey everyone, new here! üëãüèº
allright. Thanks.
Legacy, PDA is better in every way
why?
Do not use *WithSeed
Hey, please quick question.

When do I use `systemProgram.CreateAccountWithSeed` over just the normal pda of `Publickey.findprogramaddress` and later `systemprogram.createAccount`?
so i would like to have something similar.
in my EVM app i have a function that prints each address in an array so i can grab them to then take andd display data.  So i do something like `getAllPoolAssets()`, ill get back an array of each token address, mint for solana.  Then i have another function like `getAllData(address token)` and then it returns the entire struct as an array with each variable split by commas, which is `PoolAsset[token]`
right
Like how the example has `&b"blog", ...`
Like if you have a bunch of markets, `&b"market pda", base_asset_mint.as_ref(), quote_asset_mint.as_ref()`
like if i have a front end i will need them so i can fetch the ddata an dalso create functions for them
No each _class_ of PDA
yeah
Print where, in the client?
how do i simply print the PDA ids?
so say i initializze a bunch of pool assets, there are now PDA
so ten how can i print ALL ?
<@!585868308419444749>  So: Each PDA prefix string should be unique?  So if I wanted 'groups' I can extend the prefix (e.g. "bloguser_0", "blog_user_1" etc. and a different group of keys with a different prefix base?
Then whatever  you need to uniquely identify what's stored there
First seed should always be a byte string PDA classifier to prevent chosen prefix attacks on your address space
i think seed and bump are used together according to a YT video
You differentiate with you chosen seeds
Here comes the boom
`bump` is not for differentiation.  It is simply to push the address of the ed25519 curve
or pda_id?
like each blog_pda, how would you print each program_id?
and `find`
Once created, yes but you can always get back to that specific one with the seed/bump strategy we've discussed
or maybe because i want to be able to fetch them
just the blockchain?
`create_blog_pda_ix ` where is this being saved?
Yep
seed and bump tgoether?
Right, I believe it is the 'bump' that is used to differentiate
of those `PoolAsset`
like i want to InitializePoolAsset ... but i want to have more than one
store more than 1?
so i always need `seed = ...` if i want to store more than one?
ohh
like you have`create_blog_pda_ix ` with anchor or not, how do you get it
```rust
let (blog_pda, blog_bump) = Pubkey::find_program_address(
        &[b"blog".as_ref(), authority_account.key.as_ref()],
        program_id 
    );
```
For example, see... using same seed setup
ok and then how do i reference it?
AND you then use the same seed setup + program id and you will get the same account everytime
like `#[derive(Accounts)]` on a strut alwayd does?
Aye
so that creates a PDA?
I'm not an anchor head but from cookbook I think this is the one that does that:
```rust
#[derive(Accounts)]
#[instruction(blog_account_bump: u8)]
pub struct InitializeBlog<'info> {
    #[account(
        init,
        seeds = [
            b"blog".as_ref(),
            authority.key().as_ref()
        ],
        bump = blog_account_bump,
        payer = authority,
        space = Blog::LEN
    )]
```

But in rust:
```rust
 let create_blog_pda_ix = &system_instruction::create_account(
        authority_account.key,
        blog_account.key,
        rent_lamports,
        Blog::LEN.try_into().unwrap(),
        program_id
    );
    msg!("Creating blog account!");
    invoke_signed(
        create_blog_pda_ix, 
        &[
            authority_account.clone(),
            blog_account.clone(),
            system_program.clone()
        ],
        &[&[
            b"blog".as_ref(),
            authority_account.key.as_ref(),
            &[blog_bump]
        ]]
    )?;
```
Anyone know how to replicate http://Mint.networkchuck.com
Hey all, 

What is the best way to access NFT data from the Unity Game Engine? Say get the url for an image to be displayed as a texture.
I'm following this for reference https://github.com/solana-labs/solana/tree/HEAD/tokens
what is the proper syntax for this command to be run?
orrr?
```
#[derive(Accounts)]
pub struct InitializePoolAsset<'info> {
    pub authority: Signer<'info>,
    #[account(init,
        payer = authority
    )]
    pub pool_asset_account: Box<Account<'info, PoolAsset>>,
    pub token_mint: Box<Account<'info, Mint>>,
    #[account(
        init,
        payer = authority,
        mint::decimals = token_mint.decimals,
        mint::authority = authority,
    )]
    pub receipt_mint: Box<Account<'info, Mint>>,
    pub system_program: Program<'info, System>,
```

This creates a PDA?
i think im getting it a bit more
However, my cli says that I need another argument that is "db-path", which isn't specified at all in the read me
Hello. I am having a little trouble with distributing SPL-tokens vita the solana-tokens crate. I have tried to use
Can't help myself üôÇ What the boys are saying is:
Conceptually, associative structure (Map, Dictionary, whatever) uses a hashed 'key' to locate the data for  store/retrieve and operate
The guys are saying that if such a thing may be heavily populated that storing/retrieving and operating on that map in one account data block ***does not scale...***
So, if you just extend that concept where the Key is the PDA address, that Solana maintains that hashed key table for you, and the PDA;s Data block is where you can store the key relevant data than it is a) more scalable and b) promotes a higher degree of parallelism vs. paralysis üôÇ

How to do it is trivial as you will see from the WIP cookbook
So a PDA is the <Account> ?
do you know where to find it?  all google gives me is a bunch of anchorbots
<@!489206164270350337> can you link them to the how to PDA docs?
unfortunately, i believe the lending program uses an application flow unlike AAVEs
iddk how familair with AAVE you are but exactly like what they do with their aTokens
would u hapen to have a good example how i can do what I want?
I want to be able to initialize a struct, store it by a token_mint and then in the future, have a function that i can specificaly reference any struct i stored
```
i dont understand how is it being referenced again tho? it looks like this program is a 1 struct per "struct"? orr
That statement results in a `&[u8]`
Yes
is that what its doing tho?
https://doc.rust-lang.org/std/convert/trait.AsRef.html
No. Anchor has their own discord.  You'll get support for more knowledgeable devs there
is that what as_ref is doing?
https://github.com/project-serum/anchor/blob/master/tests/ido-pool/programs/ido-pool/src/lib.rs#L298-L304
is this the right place to get support for Anchor?  my IDL is missing a type for an enum; i see some other recent issues but have no idea how to approach it
This basically pushes the lookup client side and improves parallelization of your program through data separation
Create the address using for seeds what you would be using as a key in a hashmap, then store the struct directly in the corresponding account data instead of as a hashmap's value
Whats that look like?
Right, don't do that.  Use PDAs like Jacob suggested
the termonology is ne wto me
yeah mint
Do you mean token mint?
There is only one deployment of the token program, so only one token program_id
resolution?
idk wht you mean by that tho
but i want to be able to have multiple of them, and then be able to call them by the `token_program_id `
I want to store a `token_program_id` `receipt_token_program_id` and then a bunch more integer variables
What are you planning to store in your map and at what resolution?
This has nothing to do with Rust
im super new with rust but would i be able to fetch it in a way like `Struct[program_id]` ?
I'm confused how that would work in storing multiple structs?
I‚Äôll try again
https://github.com/solana-labs/wallet-adapter/issues/269
Right but I can‚Äôt make a production build
https://github.com/solana-labs/wallet-adapter/tree/master/packages/starter/react-ui-starter
The react-starter works though with parcel
CRA doesn't work as expected right now
Has anyone tried to get the wallet adapter to work in react recently?
right on
10kb
what is the max size of a PDA? I read it somewhere but can't find it
The current maximum size of an account's data is 10 megabytes.
Note: This is WIP, so it is not reviewed yet. I suspect it'll help with the concepts though
You can preview it at https://solana-cookbook-git-fork-sayantank-master-cookbook.vercel.app/guides/account-maps.html
There's some work in progress here for the cookbook on using maps https://github.com/solana-dev-adv/solana-cookbook/pull/201/files
Depending on the size of your map, `BTreeMap` may not work.
Derive them based on your keys + programId and use them to store the information needed
PDAs = Program derived addresses.
what do you mean take advantage of them?
my goal is to init and create a struct but be able to have multiple of them
If not that, `BTreeMap` is the way to go
That is one way, but I'd recommend against that. Probably better to use PDAs to your advantage and make the keys seeds to deriving those addresses
yes but i am reading `BTreeMap` is the only way on solana
Is this just a map?
how do i store a struct with reference? in slidity `Struct[address][uint]` , but how in rust? i cant seem to find any info
Thanks. TIL
<@!392371614542725121> <@!489206164270350337> `solana-install init VERSION`
I don't think there is a cli command for changing your version
Is there a cli command to change version or do I need to `curl` the version I want?
For devnet, I'd recommend being on the same version. `1.8.12`
A 385kb program is failing to deploy for me on testnet and devnet. My localnet validator takes it ok
rust 1.58
anchor 0.20.1
solana-cli 1.9.4
What's the recommended fix for this "Invalid blockhash" deploy problem? Downgrade the cli to 1.8?
https://github.com/solana-labs/solana/issues/22528
https://github.com/project-serum/anchor/issues/1157
In Solana you must always provide all accounts upfront. Helps with this kind of thing
for some reason I had it in my head that the program would look up the account based on the `owner` because I thought there's no way clients keep track of hundreds of public keys but now I understand that it's an easy lookup with the javascript library
super helpful thank you
Yep. You can see in the javascript transfer code that it grabs the specific token account to send
OH I see you don't pass in the `owner` but rather the actual token account!
You pass the token account to transfer
All accounts are passed in order via `accounts`. You can see in your code snippet that it is taking the accounts previously grabbed via `next_account_info` and deserializing the data into the token account. Using that tokenAccount, you should be able to reach all in information in the chart above
There's still something I'm not quite grasping so I look at these lines here: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L222-L223
It's deserializing the token account data but I don't see how it's fetching the correct token account, is that loaded into memory during the instruction execution?
Every token account also has a reference to the mint in it. You can see a nice diagram of what a token account looks like here https://solanacookbook.com/assets/account-size.398f17bf.png
When you do a transfer, one of the accounts expected is the mint account https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L203
Each token account is an associated token account, which is derived like this https://github.com/solana-labs/solana-program-library/blob/b6bafc7a64fb7c270dbdc2ad185327d6b141014b/token/js/client/token.js#L2277 using the associatedProgramId, token programid, mint publicKey, and owner. Token and associated programs are static for the most part, and you can use the mint addresses to keep track of what token account is what on an owner's address
Can someone help me better understand accounts on solana? Let's say I have the following SPL token accounts:
```
pubKey1 -> { symbol: USDC,            amount: 3.12345, owner: pubKey1 ...}
pubKey1 -> { symbol: CrazyPandaNFT_1, amount: 1.0,     owner: pubKey1 ...}
pubKey1 -> { symbol: CrazyPandaNFT_2, amount: 1.0,     owner: pubKey1 ...}```
How can one account have multiple SPL token accounts associated with it? How is the token account indexed? For example in the transfer instruction I don't see the Mint PubKey as an instruction argument so how does it know which token account to fetch on a transfer?
Hey there! I'm a new solana dev looking for work on projects to build out my resume! Because I'm new and am portfolio building I'm willing to work at an extremely discounted rate and am flexible with pricing. I have experience and can do everything from art generation to mint launch! Feel free to reach out if you have any questions or want to see any of my work. I look forward to talking and helping to get your project up and running! DM me whenever, I'm always active! My services are:

üé®  NFT Art generation
üç¨  Candy Machine**V2 **setup and deployment (Whitelist ,SPL tokens, pre-sale)
üï∏Ô∏è Mint website creation/design/hosting
‚òÅÔ∏è Airdrops, giveaways, gumdrop setup
Simulate like this? https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction
Just checked, unfortunately it truncates the logs for each instruction
Build from source https://github.com/solana-labs/solana/releases
Hey fam. Can anyone please help with ? How do I uninstall / downgrade Solana CLI to an older version?
Explorer should still show your failed transaction
I'm using the ```msg``` function provided by solana, but can't use the explorer because my tx doesn't go through, it fails around instruction 100 which is what i need the logging :/
I get that error when I do localhost, but not the way listed
Hey Jacob, thanks. But it's precisely when I'm doing this that I'm getting that HTTPS error... unless my error is coming from somewhere else. Will double check. Thanks!
I think this is a logging problem. How are you logging during the simulate? You could also use the inspect on explorer to check it out
Check serum discord https://discord.gg/y5ymC76T
Ok thanks man
I mean, it could still time out
Or fail or anything like that?
It won‚Äôt ever time out?
üëç thanks
Create only once
Which one lol
https://solanacookbook.com/references/local-development.html#setting-up-connections use `http://127.0.0.1:8899`
No, I wouldn't
<@489206164270350337> Should I create a new connection every time I run my transaction, or have it defined once at the beginning of running my server
Hey! has anyone tried using https://solana-labs.github.io/solana-web3.js/ on a local validator? I'm getting `'Only HTTP(S) protocols are supported'` when initializing the connection, but not sure how to make the local validator listen on https?
Hey, I've got a solana program I'm trying to send some instructions to, but unfortunately it doesn't work as I want it to. I've added logging to the program to debug my program, however when I try to send a transaction and solana simulates it, it only prints the first couple of lines to stdout followed by "x more items" (like below). Does anyone know how I can avoid this omission/ redirect the logging to a different file?

```
logs: [
    'Program consumption: 123147 units remaining',
    'Program consumption: 151656 units remaining',
    'Program <MyProgram> consumed 121533 of 200000 compute units',
    'Program <MyProgram> success',
    ... 97 more items
  ]
```
I've been stuck on this error for several days and can't figure it out. **Transaction simulation failed: Error processing Instruction 0: custom program error: 0xbbf**. I checked this page referred to me https://github.com/project-serum/anchor/blob/master/lang/src/error.rs and according my error code and page I have a **The given account is owned by a different program than expected** I supposed that meant my credentials were incorrect so I checked my program / account ID and keys. It seems ok. Everything was working fine before several days ago. Please help.
Should I create a new connection every time I run my transaction, or have it defined once at the beginning of running my server
```js
const mintAgainHelper = async () => {
    try {
      setLoading(true);
      const connection = new Connection(clusterApiUrl("devnet"), "confirmed");
      const createMintingWallet = await Keypair.fromSecretKey(
        Uint8Array.from(Object.values(JSON.parse(mintingWalletSecretKey)))
      );

      const mintRequester = await provider.publicKey;

      const fromAirDropSignature = await connection.requestAirdrop(
        createMintingWallet.publicKey,
        LAMPORTS_PER_SOL
      );
      await connection.confirmTransaction(fromAirDropSignature, {
        commitment: "confirmed",
      });

      const creatorToken = new Token(
        connection,
        createMintingWallet,
        createdTokenPublicKey,
        TOKEN_PROGRAM_ID,
      );
      console.log(createMintingWallet.publicKey)
      const fromTokenAccount =
        await creatorToken.getOrCreateAssociatedAccountInfo(
          createMintingWallet.publicKey,
        );
      const toTokenAccount = await creatorToken.getOrCreateAssociatedAccountInfo(mintRequester);
      await creatorToken.mintTo(
        fromTokenAccount.address,
        createMintingWallet.publicKey,
        [],
        100000000
      );

      const transaction = new Transaction().add(
        Token.createTransferInstruction(
          TOKEN_PROGRAM_ID,
          fromTokenAccount.address,
          toTokenAccount.address,
          createMintingWallet.publicKey,
          [],
          100000000
        )
      );
      await sendAndConfirmTransaction(
        connection,
        transaction,
        [createMintingWallet],
        { commitment: "confirmed" }
      );

      setLoading(false);
    } catch (err) {
      console.log(err);
      setLoading(false);
    }
  };
```
The code is directly taken from the quest book
Initial mint is working without issue its only in this
Hi i was doing the creating own crypto using Spl with JS quest and for the minting again function I am encountering this error
thanks
I think multisig won't help users who lost the private key, only social recovery does.
There's some info on cookbook, but I would look a lot into the rust sdk https://docs.rs/solana-sdk/latest/solana_sdk/
https://solanacookbook.com/references/keypairs-and-wallets.html
Couldn't you do something with multisig?
Candy machine help is in the metaplex discord https://discord.gg/nn2D5Aev
Basically just choose what you're comfortable with. They all have the same capabilities
anybody help with candy machine v2 in here ?
I think that's the key difference
I think the three can do the same, right? the main difference I see is that in rust you can react before a specific event in the blockchain, for example, call another contract, call an oracle, etc. This is not possible when minting or burning for example when using cli or js library. Also with RUst you have the option to reject minting and other actions based on other things, for example, if it's raining return mint ok haha, it's a joke to get the idea
basically I understood how we  can create an account by using SystemInstruction::CreateAccount but don't understand how to get the private key of the newly created account
Hey, I am trying to build a social recovery wallet for Solana, so that users can reset the owner of the wallet when private key is lost. To achieve this goal, I need store the owner‚Äôs public address as a global variable and update it dynamically as guardians invoke the "recovery" method of smart contract. However, I found that the global variable on Solana is stored at account scheme and it is only mutable by the account owner. I am stuck now because it seems no way to update the global variable by guardians (owner's private key is lost).  Can anyone suggest how to solve this puzzle? (Is the social recovery wallet not doable on Solana?)
Hi All, I am new to this forum, quite excited to work with you all. I need some help on creating a wallet account from a client program, i am using rust to develop it. Is there any sample program that helps in understanding the client connection to the node, creating the pair of the key snd use that for a simple balance check? Appreciate any help‚Ä¶
Thank you.
With the programmatic approach I guess you can do some automation UI,  create token maintenance admin dashboard etc...
Yes
so if I understood correctly, Rust, JS etc.. they all interact with Solana token program, same as CLI.
They have all the different options
right?
Is there any benefit using Rust against the others options? I can only think if I want to do more things inside the actions (mint, burn, etc).
Either way works. They all interact with the token program
js or cli?
That's not the same for any of the ways?
the rust page on openquest says "In this quest, we will be developing our own crypto-currency on the Solana blockchain or our own spl-token in the Solana lingo. This essentially means that once you are done with this quest, you will be able to make your crypto-currency using Solana programs and use that to do whatever you can think of, including using it as a fan token, a social token, a governance token, a utility token or a coin."
I wonder why that information is not available on the solana page
Thank you!
That is exactly my question üôÇ what are the uses of different token creation methods: CLI vs Rust/ JS 
Here you can find how create tokens with Rust : https://openquest.xyz/quest/solana-my-money
experiment
The docs says "The spl-token command-line utility can be used to experiment with SPL token"
I think that's the question
what are the advantages of creating a token with rust vs creating it with cli (or libraries)
But you can mint and burn with js library. My question is, when we should use Rust and where are the docs to create a token with rust


///////////////////////////////////////////////////////////////////////////////////////////////

I don't understand why you need 100ks
https://solanatools.xyz/faucet/devnet.html
i need more to fill a serum market
it's too slow/little
Use the faucet?
Generate a keypair here https://solanacookbook.com/references/keypairs-and-wallets.html#generating-a-keypair
hey <@!445425471027544095> shamelessly asking for a devnet airdrop
https://solana-labs.github.io/solana-web3.js/classes/Keypair.html#generate
Is there a way to create a new wallet with the JavaScript SDK? I only saw a way to create one with the cli, is there none with Javascript?
Hello, my solana NFT project is minting tomorrow, is this going to be affected by the network being laggy today?
second uploading
okay sure just a sec ill git commit
You're question may help people here as well
would be easier
can we do it in pms?
hey! yeah i do
For about nft game development.
Looks like you're right. TIL. Multiple subscriptions, single object to manage them
`const id = await this._rpcWebSocket.call(rpcMethod, rpcArgs);`

Doesn't look like it is recreated
this leads to that line where the actual subscription call is being made: https://github.com/solana-labs/solana-web3.js/blob/168d5e088edd48f9f0c1a877e888592ca4cfdf38/src/connection.ts#L3746
https://github.com/solana-labs/solana-web3.js/blob/168d5e088edd48f9f0c1a877e888592ca4cfdf38/src/connection.ts#L3814
I see - I thought those websockts can be reused for other calls but I'm a blank sheet regarding that
Adds new subscription https://github.com/solana-labs/solana-web3.js/blob/168d5e0/src/connection.ts#L3943
So the existing connection object can be reused in web3.js, but every `onAccountChange` opens a new websocket I believe
For reference: https://github.com/solana-labs/solana/blob/7171b3a3ac0064659d2cccb859d078de8493c714/client/src/pubsub_client.rs#L244
Really? I thought in web3.js the existing connection can be reused
I know it does in the web3.js world
I believe this is correct
I'm wondering about the Websocket connection management of function calls like `PubsubClient::account_subscribe` . They expect a websocket URL, I'd assume that they then open a new Websocket connection for every function call. Is that true?
There's a lot of information online on how to keep your wallet safe. Depends on what you feel comfortable with
fungible tokens
What are FTs?
Going to need more code. Got a git?
I'm mainly wondering what would be considered a good and secure practice when minting and distributing. Do I mint them to a wallet and just keep that wallet extremely secure, and distribute the FTs across many wallets to be safe?
Could someone point me to any resources that explain some security considerations/advice when creating smart contract FTs?
does anyone know why the website cant find my wallet?
I think so yeah - I can't even send sol from one wallet to another


Are there any ongoing issues with `mainnet-beta` atm? 90% of transactions aren't confirming within 5 minutes
dms are likely a scam. Please watch out
That doesn't really make sense. I've seen people have this problem, set their keypair path with `solana config set --keypair` and it work. Please try
for what ?
<@190531513811468289> hello mate Can I dm u please?
i didnt have this problem when i made it on mainnet. But now on the devnet nothing works
Doesnt work either
Hey, I'm the organizer of BlockchainDevDC (https://meetup.com/blockchaindevdc/) and was wondering if anyone would be interested to give a virtual talk on Solana development for our group next month?
Try setting the full path

What is `it`
ok thanks
Just an example of partial signing
but isnt it for offline transections?
You're doing the transfer correctly afaik. Here's an example if you run into issues: https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
thanks alot
when i write new keypair. confirmed it, etc. And ask for "Solna address / balance". It ask me to write a new one
Sign the transaction with alice. Then sign and send with the wallet. The example sent gives a bunch of info
and alice is the wallet having nfts

and when a user click on buy i store the details in userConnectedWallet

and since you reviewed my code do you think i implemnted it correctly and just alice also needed to be added as a signer in it?
What errors?
You have to partial sign with alice, then sign and send with the wallet
Follow the example sent. I believe the `window.solana.signTransaction` only signs with the wallet
<@!489206164270350337> like this?

https://solanacookbook.com/references/offline-transactions.html#sign-transaction
is there a link to errors?
how to do itüòÖüòÖ
yes i am moving it from alice to the user who connected the wallet and clicking on buy
provider is the variable of connectedUser
I think transfer looks ok. You have to add alice as a signer to the transaction and sign with her
and did i implemented the spl-transfer correctly?
Since you're moving tokens from alice to somewhere, else, you have to sign with alice
so i need to add alice.publickey as 2nd parameter?
You're not signing the transaction with alice's publickey
how do i log in to my wallet adres
https://stackoverflow.com/questions/70804312/signature-verification-failed-when-transferring-spl-token-to-user-connected-phan

can somebody answer this question
Are you serializing data to/from program accounts? If so what are you using? Borsh is supposedly more efficient (read lower CU) than serde
bro did you found something?
Which document should I review for nft game development?
Hello
thx, king!
msg uses 100 compute each. You can find what each thing costs here https://github.com/solana-labs/solana/blob/cc76a73c4916c23c88bad25db3f5d352bf073dac/program-runtime/src/compute_budget.rs#L77
I'll give it a look! ty!
thanks
hey everyone, building a program which could takes up every computing units until the max, so we need to squeeze the last juice from anywhere which potentially require computing, any general advice on achieving this on rust? for example, shd I removed every `msg`?  coz it seems taking some computing to print a program log.
Looking into this
```
  // G2FAbFQPFa5qKXCetoFZQEvF9BVvCKbvUZvodpVidnoY
  const alice = Keypair.fromSecretKey(
    bs58.decode(
      "2YQDdnfxiHPKu9GypLX1yXaQTQojvDSPgFkDxrUrzbtchDsZh4B27a------------------------------
    )
  );

  const mintPubkey = 
    "A8SJfwzKJAaMrY6Lb9FxZCfmVMVLcjKv---------";

  const getProvider = async () => {
    if ("solana" in window) {

      // opens wallet to connect to
      await window.solana.connect(); 

      const provider = window.solana;
      if (provider.isPhantom) {
        console.log("Is Phantom installed?  ", provider.isPhantom);
        return provider;
      }
    } else {
      window.open("https://www.phantom.app/", "_blank");
    }
  };

  window.solana.on("connect", () => console.log("connected!"))

  const network = "https://api.devnet.solana.com";
  const connection = new Connection(network);

  var provider = await getProvider()
  console.log(provider.publicKey.toString())

const userWalletPublicKey = provider.publicKey;

  var myMint = new PublicKey(mintPubkey);
  var myToken = new Token(
    connection,
    myMint,
    TOKEN_PROGRAM_ID,
    alice
  );

  const fromTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
    alice.publicKey,
  );

  const toTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
    userWalletPublicKey,
  );

  // Add token transfer instructions to transaction
  const transaction = new Transaction().add(
    Token.createTransferInstruction(
      TOKEN_PROGRAM_ID,
      fromTokenAccount.address,
      toTokenAccount.address,
      alice.publicKey,
      [],
      1,
    ),
  );

  transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
  transaction.feePayer = userWalletPublicKey;

  const signedTransaction = await window.solana.signTransaction(transaction);
const signature = await connection.sendRawTransaction(signedTransaction.serialize());

```
i am getting signature verificaion failed while transfering an spl-token to connected phantom
Take a look: https://dev.to/cibrax/sign-in-with-solana-3m95
Hello everyone, hope anyone can help me out. Im building an app with angular and im trying to build a login and authentication sistem with phantom wallet. I have no ideia if this is viable ideia or even possible. Im not asking for code, asking for what path should i take in order to achive this... Ty in advance

Edit: bad english
Has taken quite a while but I'm getting there. It's the only wallet I use currently though some features are still a work in progress. Want to have as much native UX as possible. Most dapps have inconsistent UIs. And I don't know what's the deal with everyone doing dark mode only, during day time I can't use most dapps, it's hard to see.
Makes sense.
There's a browser section as well.
For some dapps that I understand their smart contracts quite well I just code and make a native UI, it's much smoother that way and provides a much consistent UX.
Or is it just to send/recive transactions?
Hmm interesting, how do you plan to integrate with dapps?
That's it.
Again, I had to run that just 5 times to deploy once.
Any react native developer interesting in a collab? Or  anyone good with marketing and stuff. 

I tried all the solana wallets on the market right now,  honestly I don't like any of them, decided to just make my own mobile wallet from scratch. 

Progressed quite a lot and plan to open source the code in the end. 
Pretty much solo right now. 

Most features are working, doing a lot of refactoring now. 
Finishing swap and a few other features then going to beta.  iOS and Android both work smooth.
How are you burning through that much sol?
maybe I'm doing something wrong
it happens to me
did you not get rate limited very soon?
Yes, but with slightly different syntax on windows.
This is just a one off thing to get 9-10 sol for one program deploy.
did you try it?
which happened around october and it lasted it until today
Change that to sleep 3 and 0..5
we have thought about these solutions, but the best one is by far to get a devnet whale to airdrop a big chunk that lasts us about 2 months
if you actually try this you will very soon run into a rate limit issue
```for i in {0..10}; do solana airdrop 2 ./owner.json -u devnet; sleep 1; done ```
deploying on devnet frequently requires SOL which, after airdropping a few, is impossible to get
but I am also running a devnet which requires SOL for various things as well as for users
Chase is a good follow on Twitter. Always posting resources for new and experienced devs.
program is tested on localnet, on docker, in CI
thanks guys, appreciate all the suggestions, we are actually doing all of these
You can run the command with 2-3 seconds of delay and get 10 sol in under 30s
Thankyou
Here is a strategy:
1. On local. airdrop as much as you want
2. Create as many accounts as you want
3. Test the puss out of it, when ready for the next level
4. Deploy to devnet and ask for volunteers
5. Verify the puss out of it
6. Shore up and deploy to mainnet
Good starting point here: https://twitter.com/therealchaseeb/status/1483622135054667779
Hey everybody actually I am new to web3. I know mern stack. So anybody can guide me how to get started with web3. I have heard of DAO's, solidity, solana
program deployment costs 9 sol
I want to deploy my program to devnet
here is another situation - Error: airdrop request failed. This can happen when the rate limit is reached.
I'd like to test my code on Mainnet with real SOL if someone can hook me up??? üòÜ
that means using the right configs for pyth prices etc
because I want to be as close as possible to mainnet code
Why?
I am using real prices
It's devnet.
So assume 1 sol is 1M USD.
of course, we can decrease it and do many things, but my goal is to make it easy for our users
I am trying to improve UX
and as such you can't really do many things with 1-2 sol
and I have a minimum deposit/borrow amount
Simple answer is that 1-2 sol is worth about 250 USD
Why would you need more than 20 sol on devnet?
Integration tests should use a local validator.
I am also using this wallet for all sorts of integration tests
the way I implemented it before was to have a big wallet with 200k sol and transfer out of that
such that when they airdrop some SOL into their wallets to test our devnet, they are not limited to 1-2 at a time
I'm basically trying to create a better UX for our devnet users
<@693486673606082580> üëÜ
localnet you can airdrop as much as you want
I would say even 10k is way too much.
all im saying is htat 10k solana is probably reasonable 200k is probably you should rethink what youa rea doing lol
If you can explain what you want to do we can try to help.
maybe use a divisible based on what you're trying to develop?
cause someone is draining the faucet
that's why I'm saying you're missing context
it happened many times
look man
Yeah I'm not sure that's happening anytime soon.
will wait for <@!445425471027544095>
you can start hurting devnet with such a high amount
200k sol is a lot lol
as you're probably aware
but running it multiple times is rate-limited
long story
I'm listening.
You're missing context
Why?
What?!
Run it multiple times.
I need about 200k SOL on devnet if possible please
I need a lot more
Is it possible to close a solana account (https://solanacookbook.com/references/accounts.html#close-accounts) & reinitialise it with a different account data size ?
tyty. I'll reach out!
maybe try pinging Nivoa - he/she seems pretty friendly in the space based on the FAQ page. https://nftfloorprice.vercel.app/faq
that's fair. I'm not familiar on the mechanics where/how they get + process the data either.
Yeah, I've been thinking about it. I'm not 100% sure how accurate the data is, which was the reason I thought about doing in myself.
Can you use an app that already exists? https://nftfloorprice.vercel.app/ | https://solanafloor.com/ | https://www.solanalysis.com/
Hello. I'm hoping to build something to track NFT floor prices over time. Any tips on the easiest way to get the NFT floor price at a particular time?
https://discord.com/channels/428295358100013066/749579745645166592/933069147343032361‚Ä®
Not sure if anyone noticed the following was stated regarding the proposal of the Solana StackExchange proposal.

> (Reason:) Due to widespread voting fraud and duplicate accounts used to falsify the level of interest in this proposal, the Solana proposal has been closed. *(and will not be created but can be proposed again)*

Is there any proof to the reason of duplicate accounts? What would help combat this? They didn‚Äôt seem to give options or resources how to assist with this problem that seems more related to the StackExchange platform than it is to Solana. I‚Äôm personally in favor of the proposal to have a StackExchange, it would be good for a community such as Solana.
can i get the keypair after user connect through phantom?
wow. you gave the perfect answer to my question. Super thank you!
Looks like you've highlighted the facts that you can't use the PDA as a signer. You can use the Program that owns the PDA to sign for instructions that operate on the PDA.
https://spl.solana.com/associated-token-account#finding-the-associated-token-account-address
If you mean you want to charge the "to" account SOL for them to receive the token, you could do that in a separate transaction.  Take a look at that Escrow tutorial I linked to.  Rather than exchanging two different SPL tokens, you could use the same code for having one escrow the NFT and the other escrow SOL and then transfer both once conditions are met.
Hey folks, how can I get SplTokenAccount for splToken (Mint)?
but the problem is of solana cost i want to cost something
but i am facing a problem
i can send nft from 1wallet to another my sending a user phantom popup
thank you very much <@!732815411808174111> it worked


If you are talking about literally clicking in a Phantom wallet to initiate a transaction rather than just signing a transaction - that's not really something you can do as Phantom is not open source. You can certainly build a UI to do all that - but that's considerably more complex than the code here.  You can get all of the tokens from a users account and present them in a UI and transact from there.  If you are new to Solana development, I'd recommend spending a week or two going through all of the available tutorials so you have a good foundation in how to do things. This is a fantastic tutorial on solana/anchor/UI that I highly recommend: https://lorisleiva.com/create-a-solana-dapp-from-scratch
Make sure feePayer has SOL in the account or the transaction won't complete successfully
How program can use PDA be a signer of PDA? There should be a private key to sign but PDA has no private key associated with it.
i want user to buy NFT present in the wallet1
so when user click wallet1 the transfer transection do happen from wallet1 to the user wallet
is there a proper javascript example for this?
but this code is giving me error that signature varification failed
Those are all the pieces. This code creates a new token, creates accounts in the ‚Äúto‚Äù and ‚Äúfrom‚Äù addresses to hold those new tokens, mints 1 token direct to ‚Äúfrom‚Äù and then transfers that token between ‚Äúfrom‚Äù and ‚Äúto‚Äù. Of course, you‚Äôd only use parts of that just to transfer as you wouldn‚Äôt create a new token every time.
```
var myMint = new PublicKey("DaSe2f4ijcKiAtAK7nBRt6YheodbGfDs4vPWdt7Fcbkd");
  var myToken = new Token(
    connection,
    myMint,
    TOKEN_PROGRAM_ID,
    feePayer
  );

  const fromTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
    feePayer.publicKey,
  );

  const toTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
    alice.publicKey,
  );

    // Minting 1 new token to the "fromTokenAccount" account we just returned/created
    await myToken.mintTo(
      fromTokenAccount.address,
      feePayer.publicKey,
      [],
      1000000000,
    );

  // Add token transfer instructions to transaction
  const transaction = new Transaction().add(
    Token.createTransferInstruction(
      TOKEN_PROGRAM_ID,
      fromTokenAccount.address,
      toTokenAccount.address,
      feePayer.publicKey,
      [],
      1,
    ),
  );

  
 console.log(await web3.sendAndConfirmTransaction(
    connection,
    transaction,
    [feePayer]
  ));
```

is this correct? <@!732815411808174111>
Transferring tokens is slightly more complex as you‚Äôll use SPL-token instead of system program and will need to create an associated token account in the recipient wallet.  Good tutorial here: https://hackmd.io/@ironaddicteddog/solana-anchor-escrow
Here's the account https://solanabeach.io/address/HNuz55H3d5Wq4KpxTrT2vpPTCXnNiU2Hp98TFMJZD5jE
I deployed a program on mainnet but the inital TX failed. The second succeed. Now the SOL from the first deploy is stuck in a readonly account. Is there a way to transfer them out?
```
 const transferTransaction = new Transaction()
  .add(SystemProgram.transfer({
    fromPubkey: alice.publicKey,
    toPubkey: feePayer.publicKey,
    lamports: lamportsToSend
  }))
  
  
  transferTransaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
  transferTransaction.feePayer = alice.publicKey;
const { signature } = await window.solana.signAndSendTransaction(transferTransaction);
await connection.confirmTransaction(signature);

  console.log(signature);
```
i used this code to transfer sol

how can i transfer NFT if i have the address of the nft programatically?
so far I am thinking of using Price feed from chainlink, and other info that I know changes on solana quite frequently. but adding time will be golden
I think i got it!!!
no, I do understand this, I am just trying to see whether or not including unix_timestamp and others on the random number generator I am working on is a good or bad Idea.

so far, I am not sure how the network comes to a concensus on time, and if it is not possible for the leader of each slot to manipulate their transactions included in each "block" to execute at specific slot times. Which will defeat the purpose of a random number generator.
Is there any way to know how many accounts that a program owns without returning all account informations?
That means you didn't declare all the accounts in the transaction.
Are you sure you passed the account to the program? You can call  getProgramaccounts() from the client side to log the accounts that your program owns
https://docs.solana.com/developing/on-chain-programs/developing-rust#depending-on-rand

Do you mean this?
Maybe if you know how to use it you could write something quick for me ? üôè
Was there an error?
Did you try that?
I don't have any examples on hand either.
You can read the whitepaper.
Hmm not sure.
is there any docs that I can read please?
I don‚Äôt have any examples using that. Can you please share one ?
so will it be safe to generate a random number based solely on that?
You can do that yourself.
solana airdrop 2
Isn't program.rpc.instructions working?
Yes, that is the whole basis of solana.
<@!445425471027544095> is usually generous
hi, any solana dev whale can airdrop some tokens to a devnet address please?
i can transfer solana using phantom but how can i transfer the spl-tokens with phantom? programatically
Hey fam. Can anyone please share an example of how to make multiple instructions with anchor without asking the user to sign / approve each instruction ?

Can't get any help from Metaplex discord üôè
Hey here, Quick Question:

Can I trust that the `unix_timestamp` and the `epoch` from `sysvar::Clock` are not Hackable or rather manipulatable please?
As I said it is a PR autogenerated version of the solana cookbook: https://github.com/solana-dev-adv/solana-cookbook/pull/201
is this link completely trusted because when i try to open it my browser prompts a security risk warning
Yess i understand, so there are no ways but to slice the final array
I've already told you that a subset of matches is not a parameter for the call.
An memcmp allow me to query the exact data i want, sure, i already return the data i want, but the array returned is too big, i don't know how to return just a specific amount of addresses
As i read, it says " Currently pagination is not supported. "
So i can't return for exemple: only the 20 first ProgramAccounts and not more ?
alright! Thanks!
Take a look at the cookbook PR to see if it aligns. If you're not using anchor, review the 'Vanilla Rust' option on the examples: https://solana-cookbook-git-fork-sayantank-master-cookbook.vercel.app/guides/account-maps.html#deriving-accounts-using-pdas
it was generated using a seed!
and yes i'm passing it to a program!
Thanks !
https://solanacookbook.com/guides/get-program-accounts.html#deep-dive
ty
Shouldn't i use the Data Slice parameter ? Isn't it there for that right ?
Reach out to the <#694949720644124762>
HI, just wondering if anyone has got this error before 
TypeError: Cannot assign to read only property 'solana' of object '#<Window>'
What I mean is that your memcmp may need to be more refined to narrow down the matches....
guys im a total smooth brain, i found some info on metaplex on how to create a snapshot of delisted NFTs
What im trying to achieve is distributed royalties and I prefer python, 
I was wondering if it was possible to use a python sdk to quantify the information on the snapshots and distribute royalties that way
I just need to learn the ins and outs of code
whats wrong with mainnet?
There is a way for that ??
You'll have to narrow it down with your filter if possible
The problem is that fetching Addresses for a Collection of 8000 NFTs takes too much time, like nearly 50s
How can i reduce that time so ?
It depends, how did you generate the PDA and are you passing it to the program? or?
Nothing in the RPC for that call offers that limiting... you'll have to take/slice the result in your client code
Hello everybody, so my program says `the instruction references an unknown account` that account is a pda? any idea on why is this happening and how do i solve this/
Hi guys,
I'm using this method to Fetch Mint Addresses with some filters.
I want to limit the response to be max 20 elements, how can i deal with that please ?

If possible i'd like to be able to use an offset variable to fetch data 20 by 20, like first i get the 20 first addresses, then the addresses between 21 and 40 and so on...
Hi, I am trying to benchmark Solana cluster by folliwing this page:https://docs.solana.com/cluster/bench-tps
I did following steps:
1- git clone
2- checkoued out to latest release
3- cargo build --release
4-NDEBUG=1 ./multinode-demo/setup.sh
5- NDEBUG=1 ./multinode-demo/bench-tps.sh --entrypoint entrypoint.devnet.solana.com:8001 --faucet api.devnet.solana.com:9900 --duration 60 --tx_count 50

When I ran the client, I got following error:
[2022-01-21T09:13:31.167515623Z ERROR solana_metrics::metrics] datapoint: panic program="bench-tps" thread="main" one=1i message="panicked at 'called `Result::unwrap()` on an `Err` value: Custom(\"reqwest::Error { kind: Request, url: Url { scheme: \\"http\\", host: Some(Ipv4(144.76.71.178)), port: Some(8899), path: \\"/\\", query: None, fragment: None }, source: hyper::Error(Connect, ConnectError(\\"tcp connect error\\", Os { code: 111, kind: ConnectionRefused, message: \\"Connection refused\\" })) }\")', /home/usama/solana/bench-tps/src/bench.rs:895:64" location="/home/usama/solana/bench-tps/src/bench.rs:895:64"

Anyone knows what i could be doing wrong? Does it require any other config settings?
thnks
<#763249718339567626>
We have been investigating this issue a lot more here: https://github.com/nmandery/h3ron/issues/30
We are still stuck.
hlo everyone, I am new to web3 and just started building on solana, can anyone tell me a resource for learning rust and all , any help appreciated!!
why is it that sometimes this RPC call https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction returns an error, and the exact same call, with same parameters, a few sec later returns the actual result?

happens quite a lot, I would say on 50% of my calls
okay then if i confirm again, dont i have to get recent block hash again?
Yes.
and does the this timeout thing depends on TPS of solana at that particular moment?
Look at the docs of whichever library you are using.
Yes, you can use connection.confirmTransaction again.
How can I convert `Response<UiAccount>` to `Response<Account>`?
<@!590982495923732511> if i send a transaction using connection.sendtransaction and it doesnt confirm in 30sec what steps can i take after it before throwing error? like checking the status again or something like that?
https://github.com/cryptoplease/cryptoplease-dart/tree/master/packages/solana
Hmm look for a solana SDK for flutter.
Any idea on how I would test the security of env variables?
what is causing this?
same for me, really anoying
why is devnet tps so low?
why do i keep getting invalid blockhash when deploying to devnet?
hello guys!! is there any way to fetch current TPS of solana using web3js?
how can get sol/usd price from chainlink
i'm sr it's web3.Connection.sendTransaction and web3.sendAndConfirmTransaction
hello guys can someone let me know the different between  web3.Connection.sendAndConfirmTransaction and web3.sendAndConfirmTransaction pls?
how can I change program name from "Unknown Program: Unknown Instruction"?
Hi I am trying to make my own crypto following the guide, I have gotten to the part that says spl token create token it gives me and error: The system cannot find the path specified. (os error 2). Can anyone help me?
Hello, I am trying to add the library `h3ron = { git = "https://github.com/nmandery/h3ron.git"}` to the cargo dependencies of the `example-helloworld` solana program but this will make the compilation fail without even changing the code: 
I create a stackoverflow issue: https://stackoverflow.com/questions/70767805/error-building-the-downstream-libh3-c-library-using-the-solana-sdk-via-cmake
It's a linker problem. Sorry my C compilation skill is mostly 0. Can someone help please?
Hello Guys, I wanted to check if a user has a particular type of SPL token or not. Is there a js method which can help me do this?
thx ill look
npm > yarn
npm i 
npm run dev
https://github.com/solana-labs/wallet-adapter/tree/master/packages/starter/nextjs-starter
<@!873666708752199752>
im new
how so
use nextjs
it keeps erroring when i run the build using yarn build
hey everyone im trying to copy the steps at the bottom of the https://github.com/solana-labs/wallet-adapter repo and i keep getting an error can anyone help?
Hello, guys. I want to deep dive the solana account model. But the official document is too trivial for me.  Does anyone recommend more structural article for me ?
check `solana-keygen grind --help`
the main idea is that when you deploy a program, the program account also need to sign.
in the other word, you want a custom program id, you need to find the custom program id's private key.
Is there an Api to scan transactions on the local network by program id?
for 1.8 use https://docs.solana.com/developing/clients/jsonrpc-api#getfees
there is a feeCalculator you can refer to
for >=1.9 use https://docs.solana.com/developing/clients/jsonrpc-api#getfeeformessage
you don't need to calculate, just use the return value.
Can someone show me how to list a token I all ready have it minted
Can you use ledger with windows subsystem Linux command line?
How I can add a custom program id to my program? Should I use declare_id macro? I am trying with it but it not work
I use above code and it always re-render
```
import React, { useEffect, useContext, useCallback } from 'react';
import { useWallet } from '@solana/wallet-adapter-react';
import { WalletMultiButton } from '@solana/wallet-adapter-react-ui';

import GlobalContext from '../contexts/globalContext';

require('@solana/wallet-adapter-react-ui/styles.css');

function WalletButton() {
  const wallet = useWallet();
  const { setUserWallet } = useContext(GlobalContext);

  useEffect(() => {
    if (wallet != null && wallet.connected === true) setUserWallet(wallet);
  }, [wallet]);

  return (
    <div>
      <WalletMultiButton
        style={{
          backgroundColor: '#9C7BEE',
          color: '#FFFFFF',
        }}
      />
    </div>
  );
}

export default WalletButton;
```
Any React Developer?
How to estimate sol fee for transaction ?
oke , thank y very much
Can someone show me how to list a token I all ready have it minted
no thats for the local network only i believe
does devnet need  run solana-test-validator ?
<@!869604723626479626> i honestly dont know, I would follow the prompts from the error message. But for now just to keep working on the escrow program example it might be best to continue working on the local network
i did the same yesterday then got the above error
Thanks for the confirmation and the doc link, really appreciate it!
yes. the first signature is the tx hash.
https://docs.solana.com/terminology#transaction-id
after you've set the config back to the testnet, you need to create an account and airdrop it some SOL so that it can deploy your program
<@!869604723626479626> you need to have an account with enough to SOL so that you can deploy the program
Hey all! When I call the `getParsedConfirmedTransaction` JS RPC API on this transaction: `3CpmxgAJvuvQuvDGmTtL6RCwWajZPJJL672h4oFmjG9LrcDEYTNkkS7YJABHLmNcGvfeCKa5n6dZ1shpWqc6vyAg ` and inspect the resultant `ParsedConfirmedTransaction` response object I see that the first of three signatures in list of `signatures` matches with the transaction signature:
`  "signatures":[
            "3CpmxgAJvuvQuvDGmTtL6RCwWajZPJJL672h4oFmjG9LrcDEYTNkkS7YJABHLmNcGvfeCKa5n6dZ1shpWqc6vyAg",
            "241ZD3KwGUG5XMZjE9Bgw5wXEdqKbD8CWPBwYSom77hCt8aNwrKXZgwLFuf7hVwSZErxxdNXYVLdKdXHPnHJAgfu",
            "JLg6P8375iJiabfD9ZVAvbcCeZ4YgSvNYiofpy77h2X85nwCVyHgCXtoNujeYZAoXDNYAgruA6PMJEyUgZyvxB1"
         ]`

Is it a fair assumption that the first signature in the signatures list will always match the transaction signature itself? I couldn't find it elsewhere in the actual `ParsedConfirmedTransaction` object.
but why can't I deploy on devnet or testnet
cool üëç
success
sorry i already have keypair , i'm pointing at the wrong directory
then ```$ solana program deploy /home/bc_code/solana-escrow/program/target/deploy/solana_escrow.so --keypair solana-wallet/keypair.json```
```solana-keygen new -o solana-wallet/keypair.json```
you're just missing a keypair to deploy the program with
this is a deploy on local host
deploy on local host or devnet
then try to run your command again
do that
```solana-keygen new -o solana-wallet/keypair.json```
Error: Dynamic program error: No default signer found, run "solana-keygen new -o solana-wallet/keypair.json" to create a new one
and now try ```$ solana program deploy /home/bc_code/solana-escrow/program/target/deploy/solana_escrow.so --keypair solana-wallet/keypair.json```
deploy on devnet ?
ok open a new tab

oke
see if that works?
then try to deploy again
then start the test validator node,
```solana-test-validator```
try it on your local network, 
```solana config set --url http://localhost:8899```
I config set devnet or testnet both get the same error
<@!869604723626479626> are you doing this on a local network or the testnet?
who can help me
I build-bpf , and deploy program on devnet , but failed
$ solana program deploy /home/bc_code/solana-escrow/program/target/deploy/solana_escrow.so --keypair solana-wallet/keypair.json

Proposed Solution
Blockhash expired. 5 retries remaining
Blockhash expired. 4 retries remaining
Blockhash expired. 3 retries remaining
Blockhash expired. 2 retries remaining
Blockhash expired. 1 retries remaining
Recover the intermediate account's ephemeral keypair file with
solana-keygen recover and the following 12-word seed phrase:
chaos shrug glance blame output appear kitten angry jacket hurry narrow stumble
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to solana program deploy or solana write-buffer'. Or to recover the account's lamports, pass it as the [BUFFER_ACCOUNT_ADDRESS] argument to solana program close`.
Error: Data writes to account failed: Custom error: Max retries exceeded
cool thank you <@!134416332509675520>
Yeah, that's wrong. No signature necessary in general (up to the program that owns the account to decide if a signature is relevant)
```Any transaction that aims to debit an account or modify its data requires the signature of its account holder.``` This isn't 100 % true right? Earlier today i was able to modify the state of an account in a transaction without having to sign for it. For context the account was owned by the program that was modifying the data in the account
hmm ty. I will check it out.
It comes from the `FromStr` trait
where can i find the doc for that
i cant find that function from_str
Or just pick any random public key you want
You can just use whatever id you specify when you set up your tests I think
thankyou so much
Thanks, but how do I know `expected program id` while running `cargo test-bpf` to hardcode it
Yeah, that `declare_id!` is hardcoding the expected program id.
```.rs
use std::str::FromStr;
Pubkey::from_str("asdfasdfasdf").unwrap();
```
use solana_program::pubkey::Pubkey;
how do i create pubkey in solana program using the string public address? like we do in client ?
Thanks so much. I got it, they are declaring it in https://github.com/solana-labs/solana-program-library/blob/2b3f71ead5b81f4ea4a2fd3e4fe9583a6e39b6a4/binary-oracle-pair/program/src/lib.rs#L16

One last question, is this the program_id that is going to be deployed for running test cases? I mean what is the use of declaring this id here
<@!698223554768011294>  so its possible to take that translated error number, and search here and in project serum discord, see if anything comes up.  if not, search the project serum dex program from github, for the `Serum Dex Program v3`  instruction, program, and look for a reference to an error enum index that relates to that number.  

in this case:

`    // This contains the line number in the lower 16 bits,
    // and the source file id in the upper 8 bits
    #[num_enum(default)]
    AssertionError,`

otherwise i would probably try to seek help in the project serum discord, and documentations.
Nothing to do with deployment, it's purely static (result of a macro run at compile time).
Because they're doing a star import: https://github.com/solana-labs/solana-program-library/blob/master/binary-oracle-pair/program/tests/tests.rs#L12
Please see the github link that I shared, they are not importing any kind of id() and it is working for that directory, it should be program id of their deployed code while testing on localnet. But I'm getting error `id(), not found in this scope` . I'm new to writing test cases in rust, so I don't know how to access `program_id` of my current code that need to be deployed to run these test cases
Isn't this just a rust scoping/imports issue?
(non-rhetorical question) why does cargo test-bpf change anything?
`id()` should be my current `program_id` of deployed program, but I don't know how to access `program_id` of my current deployed code while running `cargo test-bpf`
Just need to have it in scope, so will depend on where you're writing the test
That `id()` would be getting declared by some `declare_id!` in anchor, or something like it in a non-anchor program
üßê
Hey Guys, I'm trying to write test cases like this https://github.com/solana-labs/solana-program-library/blob/master/binary-oracle-pair/program/tests/tests.rs

But when I try to run cargo test-bpf, it is giving me error `id(), not found in this scope`

Any idea how to solve this?
Is there a good way to get an arbitrary's slot timestamp? i.e. I'm provided a slot but trying to compare this to another timestamp
Everytime someone asks it slows down more
guys whats wrong with mainnet only 800 tps
Hello, the link you gave me did not work.  I am still in need of support for the error message I got.
<@!785084693023424542>  any clue about it ??
okay basically what i'm trying to do is to place an order , 
using those params 
"marketName":"SRM/USDT",
    "side":"buy",
    "price":2.96,
    "size":2.1, 
    "orderType":"limit",
not something usefull
ok.  so that programs source should be in github.  are there any other related error messages around that error, in the console/result?
looks like serum dex
actually what i'm trying to do , is placing an order using the serum-dex package
Program 9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin failed: custom program error: 0x1000761
can you copy the actual error lines, the relevant ones, and what your trying to do that may be causing it?
okay can you guide me a little by little ? 
i converted it and it showing 16779105
look at the above link
0x1000761
this is for anchor but applies :
https://www.notion.so/Debugging-Custom-Anchor-Errors-b8540dd418c44a4e939ab17c56a3fd3b

custom programs come from and are defined in each program. the number you see is generally hex, that can be converted to a string to find an error number, or related 'enum' index/number, if the error does not come through clearly or is obvious.  which u would have to look at the program code to figure out the issue.
hello , can anyone explain to me how to understand custom program error ?
I have not witnessed the same issue, but its possible the receiving end is closing the connection, for whatever reason. have you tried a different end point?  what are you connecting to?  it the behavior is not as expected, and you feel its an issue that is repeatable if you could file an issue with an example and some notes that could help out a lot.
i wil check em out thanks heaps
If you, again, look at the PR you submitted it says if you have an issue add a comment to your PR
There's also a guide on using pdas as maps under progress. May be a little rough around the edges, but check it out if this helps https://github.com/solana-dev-adv/solana-cookbook/pull/201
oh thank you. Def will check em out.
We'll have a full page on PDAs coming soon to the cookbook. Hopefully this will help
I will research some more, I'm confused about what i exactly want to do ...
i get these bit, I already went through this is cookbook. thank you.
pda has data that the program needs
So the seeds are like the key in a map, value being the pda
Don't worry.
PDAs are addresses generated based on seeds. The seeds you showed above is how you find the PDA with the data you need.
In the program itself, you'll likely need to verify that the correct authority is trying to update the PDA. You can keep authority of the PDA within the PDA itself, like how token accounts do it. 
https://solanacookbook.com/assets/account-size.398f17bf.png
You can see the owner of the token account in the account itself. It is checked anytime that there needs to be an update that the owner is signing for the update
ü•¥ feels dumb. Sorry I just dont get it.
I don't quite understand. That is for generating the pda
Feel free to come back for help here. Also, any contructive feedback on docs, cookbook, or any help resource is greatly appreciated. Part of my job is to make it easier to dev on solana
ohh so when you meant  this 
```rust
Pubkey::find_program_address(
        &[
            PREFIX.as_bytes(),
            crate::id().as_ref(),
            mint.as_ref(),
            COLLECTION_AUTHORITY.as_bytes(),
            authority.as_ref(),
        ],
        &crate::id(),
)```
 so you mean to add that collection authority inside that ?
üëç thank you
The cookbook link I threw you has both the js execution to make a transaction, as well as the program that creates the pda
https://discord.com/channels/428295358100013066/517163444747894795/933854860825198692
I will be very appriciated if you know some link with example of creating PDA on the program side
thank you!
So where do I go for support then?
can you explain further? I dont really understand what you mean sorry
Have you read our messages at all? We stated that no one here manages that repo and you shouldn't be asking about it here
It seems that everything is correct except the picture and I don‚Äôt know how to correct that‚Ä¶
<@!317278511679143937> This is because seeds & bump in on-chain program does not match with your client code.
No, I don't believe so
So no one here can help me solve the issue merging my token on GitHub?
Example: https://solanacookbook.com/references/accounts.html#create-a-pda
tyty. Would the candy machine address be the same as the "mint authority" shown in the explorer. For example:

https://explorer.solana.com/address/9SP8NTBMaqCKSXhgrTxcxGuBMsUUSWwbnGXcaicxvoja
Yes
Could I create PDA from an program?
Head over to anchor discord. Seems to be a common problem there https://discord.gg/YqQY3FYs
https://github.com/jarry-xiao/solana-bootcamp-lectures
where can i find the assignment that was talked about in solana bootcamp day 1?
Ethereum-style is different. You have the data stored in variables on the contract itself. You would store info in PDAs owned by the program, and pass those accounts to the program for program execution
yes
anyone ever had this? 
``anchorpy.error.ProgramError: 2006: A seeds constraint was violated``
I am trying to transfer an nft with anchorpy and solanapy. I have no idea what this error means but it would be very helpful if someone could just tell me to what it refers because I cant find anything on the web.
So, If I want to use program like Ethereum-style (control all data) I should use PDA?
```js
 const [pda_mint, bump_mint] = await PublicKey.findProgramAddress(
        [Buffer.from("test")],
        new PublicKey(programid)
);```
so i reckon the bump im getting is unique?
Can you please search my messages, I think I sent a snippet here.
so this is what my instruction looks like
To avoid "forgetting" the account address, you have them all derivable based on seeds. Seeds are like keys to find your account that has the specific data you want.
Program just executes on the data passed to it.
I am brand new with working on GitHub
yes im only concerned about the security.
so my programs takes
just procedures ->
```  
mint(sol, mint_amount, bump){
  if !user.isSigner
    throw someerror
  account_data = retrive data
  signer_seed = <some value>
  account.data.amount = 10000 // modifies data of an account
  mint_tx = mint_instruction()
  invoke_signed(
    mint_tx,
    accounts,
    signer_seed
  )
}
```
Who am I supposed to message then? I don‚Äôt see anywhere that it says not to message discord.
So, as I understand, there are PD accounts, which can be created by the programm
https://solanacookbook.com/references/nfts.html#candy-machine-v2
I'm using npm, but happy to have either answer (I'm sure I can figure out the npm call if I know the RPC)
That repo isn't maintained by anyone on this server.  The PR template that you cropped out of your screenshot explicitly states not to come here and ask about it.
Read the PR you sent. It says not to message discord about this information
This part is understandable (storing data in some account). But I'm confused that account passes as input variable -> it means that program doesn't have any control on the stored data. Moreover, if a client "forget" account address - data will be lost
Raw rpc call or npm package?
It is a Solana token
Hey folks, Noob here. I'm hoping someone can tell me which API can give me all tokens from a single NFT collection. Say I wanted to get the signatures for all 10,000 Degen Apes using the json api. How would I do it?
What are you talking about don‚Äôt come back?
Depends on how you want to design your program. Just make sure whatever you are doing is checking correctly in the security space
Thankfully we're not the support for the token-list. Please read your own PR you submitted for more details on how to proceed. Don't come back please
back to this, so my main authority account should only have authority to change the data of that pda account ?
Hello I am getting the following message on GitHub when trying to auto merge my token.  At this point I am lost and don‚Äôt know how to fix.  Could someone please help?
Your client side, such as a react dapp, will pass all accounts to the program

accounts store data. Program has the logic of what to do with that data
so we have accounts that store the state that you want to store. correct me if im wrong
solana program cant store state
yes
I have some expirience in Ethereum. If I want to  store some value in a smart-contract, I do this in easy way. My mind is breaking when I see solana program and "account with data field" as input variable. So, client side should do some work to get ability to use accounts (create account, store somewhere some data to restore address of account). Is it true?
thanks heaps for your valuable time tho guys.
how do i add that
Thats starting to make sense somewhat.
```js
{
  owner: PublicKey;
  other data...
}
```
Pda should store data like:
You should keep track of who has authority to sign with the PDA on the PDA itself
We're open to feedback. Please check out the cookbook and let me know if it helps a bit more
https://solanacookbook.com/core-concepts/accounts.html
wym?
I'm newbie in Solana, honestly speaking, documentation is awful (from side of developing some program). I can't understand what mean "account". Does it mean, if I want to store something, client side (!) should make some calculation to find account data?
```There should be an authority pubkey stored with the data at the PDA and its signature required to modify the data
@trent.sol
```
still dont get this ü•¥
i have a instruction that the user can manipulate the data of the account .. coz ive only check that user as a signer
Why?
thank you
ü•¥  now this is confusing asf ...
Consider them public.
the seeds that I use to get the pda ?
Hi,
 ```ts
const [pda, bump] = await PublicKey.findProgramAddress(
    [Buffer.from('customaddress'), PAYER_KEYPAIR.publicKey.toBuffer()],
    programId
);```
```js
Buffer.from('customaddress'), PAYER_KEYPAIR.publicKey.toBuffer()
``` are these value public or private ?
<@!785084693023424542> Do you have any idea on this issue?
Yeah, just be aware it is in alpha. I've seen other people have issues building with it depending on the platform
I didn't see that, thank you very much for pointing that out!
I even tried to store the client and joint handle in a vec of my struct to make sure they are not dropped
Spawned tasks don't need to be awaited the way bare futures do
According to https://stackoverflow.com/questions/62595857/what-is-the-difference-between-tokiospawnmy-future-await-and-just-my-future
It is released, but in alpha
Yeah, I understand. It's just a bad analogy I guess ü§∑
The function will move on though, that part is right.
Yes, if the async call makes a connection it won't matter if you don't await it.
I think the guy is referring to how the process will complete and return vs staying as an open connection
In relation to the error I was seeing. I found that using the latest code on the master branch actually does not produce the error. It looks like a complete rewrite in typescript compared to the 0.1.8 version currently on npm. Is there a planned date to release an updated spl-token library to npm?
Slightly unrelated tangent, if you make an async call in JS without awaiting the result it will still run unless you kill the process.
Sounds and looks like the exact same issue
I think I answered this exact problem you had earlier. The guy who wrote that example ran into it and said the following about your issue: ```
Yeah, this happened to me. Turns out this is because, after a thread is spawned a handle is returned, rust compiler will drop that handle if it is not waited anywhere. Same problem as when you make an async call in JS but don't await it's results. 

```
yes but I'm spawning a thread after creating the client,receiver:
```rust
        let handle = task::spawn_blocking(move || loop {
            match receiver.recv() {
                Ok(message) => info!("{:?}", message),
                Err(err) => {
                    error!("Connection broke with {:}", err);
                    break;
                }
            }
        });
```
Did you try running like the cookbook example does? https://solanacookbook.com/references/local-development.html#subscribing-to-websocket
I'm not throwing away the handle
Jan 20 22:32:11.839  INFO solana_client::pubsub_client: receive error: ConnectionError(Protocol(ResetWithoutClosingHandshake))    
Jan 20 22:32:11.839  INFO solana_client::pubsub_client: websocket - exited receive loop    
Jan 20 22:32:11.840 ERROR mylib::wallet: Connection broke with receiving on a closed channel
yes
Oh for performance tests you might want to look at testnet.
awesome, asking cause we're doing some performance testing against devnet, wanted to make sure it wouldn't be wildly different in production
More or less the same.
hey! new to building on Solana, had a question: how is the performance of devnet vs mainnet as far as how long transactions take, is it similar or do they vary greatly (either inherently or based on usage)?
Respect
Sent.
Ohh thanks heaps I will check em out. thank you
I keep getting error
Thanks alot
Yes if you can send 10 it would be perfect bro
Ah ok.
Ohhhh I meant in usd value lol
Bet
Here's some in metaplex https://github.com/metaplex-foundation/metaplex-program-library/blob/5b954b92e350d5ac40ef8f5229e89407990d727a/token-metadata/program/src/processor.rs#L691 You can see all the `assert_signer` checks
Best I can do is 10
At least 500 for a test
You shouldn't need that much.
3k is a LOT of sol.
?
Whoa whoa, slow down now.
2utK6gob3YNKHD3rbNqiHvicihCkyuynsHkAmyJcMKKy
Could you please try sending me 3k sol on my devnet
That would be really helpful. Thanks heaps.
And spl-token has mint/freeze authority.
Metaplex has a good one with update authority.
Or lisen has one ready
Trying to find a good example
sorry, it don't get it?
ü•¥
By reading all my messages
how can i do that?
Yes, but the program needs to protect that call if its supposed to be private
I was under the impression that only a program can sign for a PDA?
Hmm?
There should be an authority pubkey stored with the data at the PDA and its signature required to modify the data
That's not true by default
I  mean the instruction that modifies that account ?
No one except your program can modify a pda.
No, just run `solana airdrop`
That is the best way I have seen the request being phrased üòÇ
hmm, so lets say I've a state account, that I assigned to program id, and I dont want anyone else than pda to modify it?
Is it a complexe thing to do?
`solana airdrop`
No. They are inherently public information
Correct
Hello, how can I fill my devnet wallet with money?
Not sure on this one, is this on the rust pubsub client?
My understanding is that seeds are more like the key to retrieve the pda with the data you need
Hi, when I create a pda, are seeds like my password?
Hi! I'm facing connection issues after subscribing to accounts with the PubSub Client spawned in a thread
`Connection broke with receiving on a closed channel`
Right so time to go find switchboard devs and/or docs
```   
Compiling switchboard-program v0.1.59
   Compiling solana-net-utils v1.9.4
error[E0599]: no method named `as_bytes_mut` found for struct `FastRoundResultAccountData` in the current scope
  --> github.com-1ecc6299db9ec823/switchboard-program-0.1.59/src/lib.rs:77:24
   |
77 |         let recv = res.as_bytes_mut();
   |                        ^^^^^^^^^^^^ method not found in `FastRoundResultAccountData`

For more information about this error, try `rustc --explain E0599`.
error: could not compile `switchboard-program` due to previous error
```
They have some discord links and other socials at the bottom of their site, check there https://switchboard.xyz/
Either that or you cropped out the trait the compiler told you to `use` on the next line
Sounds like a question for developers of w/e switchboard is
Why I am getting this error when using switchboard?

```
error[E0599]: no method named `as_bytes_mut` found for struct `FastRoundResultAccountData` in the current scope
  --> switchboard-program-0.1.59/src/lib.rs:77:24
   |
77 |         let recv = res.as_bytes_mut();
   |                        ^^^^^^^^^^^^ method not found in `FastRoundResultAccountData`
```
for sure, we can't just delete the unencrypted format along the way
So it would make sense to have that option.
Actually a lot of other tools (like metaplex) depend on the json being unencrypted.
Thanks.
Nobody has contributed the code to do that yet, that's all. It'd be a nice feature
https://docs.solana.com/wallet-guide/file-system-wallet

Is there a fundamental reason why "file system wallet", aka storing wallet file generated from CLI, is unencrypted? CLIs in most other cryptos either encrypt by default or give an option.
sounds fair. gotcha t hank you
Token program calls different internal functions all the time
it should work fine isnt it?
yes
So you're just calling another function?
Hi, so can i call another instruction inside my program through another instruction that belongs to same program ?
Oh I see. gotcha ty.
if there is reproduceable example with some notes and findings you can file a git issue in the SPL repo so it can be investigated and tracked. I have not personally had this issue, especially not with a local.
Hello, I have some questions around intermittency in the @ solana/spl-token ts library. I am seeing the intermittency in the createMint function of version 0.1.8 https://github.com/solana-labs/solana-program-library/blob/master/token/ts/src/actions/createMint.ts#L29
I get an error that looks like this:
Error: Transaction was not confirmed in 60.00 seconds. It is unknown if it succeeded or failed. Check signature 2HfQg9B7AGf8wXBmvHqJfnVE5H9Dxs4hon3j4nbAX9sMMEdkPnewKNPrW1TbXb23S6iif9TFkof7wwcqSXQJPPzk using the Solana Explorer or CLI tools.
    at Connection.confirmTransaction (/--/node_modules/@solana/web3.js/lib/index.cjs.js:5631:13)
    at async Object.sendAndConfirmTransaction (/--/node_modules/@solana/spl-token/node_modules/@solana/web3.js/lib/index.cjs.js:2962:19)
    at async Function.createMint (/--/node_modules/@solana/spl-token/lib/index.cjs.js:255:5)
    at async DeployToken.execute (/--/solana_test-deploy-token/dist/commands/contracts/token/deploy.js)


Note this error is from a local test validator, my ops guys have seen this on the test net and main net as well. If I then use the cli to check the signature, the transaction succeeded. I have tried bumping the timeout from 60 seconds all the way up to 10 minutes with no change in behavior. 

Is this the right place to bring up this kind of behavior?
Haven't seen this, are you using `solana deploy`?
You can find all the phantom integration stuff under the phantom specific adapter on wallet adapter
It is possible for the signature to be dropped or not found. Those are cases you'd run into that issue
As Trent said the first signer is the feePayer. Otherwise you can set it in the transaction constructor `feePayer: <address>`
Hello! I was wondering why  `conn.getTransaction('aValidSignature', { commitment: 'confirmed' })`  sometimes returns `null` .  Is that expected for a valid signature? This is in mainnet using `@solana/web3.js@1.30.2 `
```await connection.sendtransaction(tx, [feepayer])``` it was something like this in the solana cook book
no idea where that method comes from or what it does
Hi everyone, newbie developer here. I have been trying to deploy a twitter like messaging app on the Solana cluster but keep getting the error.
Error: 101: Fallback functions are not supported
[19:28]
I am doing this on a test cluster running on localhost
```sendtransaction(tx, [signer1, signer2])``` so the signer1 will pay for it isnt it ?
thank you
hey there, I was wondering if there is some documentation behind how the `@solana/wallet-adapter-react` works, I am brand new to this and I want to implement the functionality myself from scratch, like just the connection part, like what `WalletMultiButton` does but for phantom only
Only the first signer pays fees
How does that work
Hi, if I have multiple signers, can I choose only one fee payer for that transaction?
I have a Macbook as I know that is sometimes funny with solana
Any ideas anyone?
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
This article says I turn off testnet
I am doing this on a test cluster running on localhost
Hi everyone, newbie developer here. I have been trying to deploy a twitter like messaging app on the Solana cluster but keep getting the error.
Error: 101: Fallback functions are not supported
I'd prefer it too!
Very cool. Appreciate it Jacob, have been trying to get an answer on this for weeks ü§£  We will likely launch elsewhere and maybe we explore building it for Solana later. Would much prefer to be here vs polygon
Doesn't exist today as a standard, but I think it is possible to build
Does Solana support Composable Tokens? Such as the ERC998 standard? (where parent 721 owns child 1155s)
Devnet has 2 hour epochs.
Hmm would the epoch length matter so much?
That's a scam.
everything is open to optimization based on performance, practicality, fees, and usage.
1 day would have made everything so much easier.
I'm asking if there's a way to grab the account of the validator/account responsible for the block
I really want to know who decided 2 day epochs were a good idea.
i know what it does. how does this pertain to Solana?  there is no miner.
Block.coinbase returns the block miner's address.
what are you trying to do, exactly.   in Solana there are Slots, Blocks, Epochs,  but im not sure what relevance `block.coinbase` would have in regards to these as it pertains to Solana. Solana is proof of stake, history, there is no mining ..in that sense
yeah no i think my confusion was around setting the user transfer authority as a read/writeable account
Can you explain the functionality?
Does Solana's crate have an equivalent to block.coinbase in Solidity?
not really clear on where this is coming from:
`env.execute_as_transaction_debug(...`

and where the example of creating and passing both instructions is being done here.  i see the create_fee instruction, and this `AccountMeta::new_readonly(*user_transfer_authority, true),`
this would indicate the account is not writeable..
ah got it, thanks!
Try to switch to devnet.
That is hosted by ~~runnode~~ rpcpool
I should also mention I am a total noob, I mostly know web related stuff, what would I need to do more precisely?
Explorer has it's own rpc as you can see. He can probably update to one that he can hit, but will have to update the code
Is it the same even on devnet?
Did you run into the api limits?
That is the right way to use explorer.
There's a fee for making the transaction, and there's a separate transaction for any storage needed called rent
So runnode seems to be banning his ip.


///////////////////////////////////////////////////////////////////////////////////////////////

Where did you find that out? Looking at all the source I could I could not determine arbitrary return but you may know more.
`Error: PickleDbError(Error { msg: invalid type: string "recipient,amount CYRJWqiSjLitBAcRxPvWpgX3s5TvmN2SuRY3eEYypFvT,7 C56nwrDVFpPrqwGYsTgQxv1ZraTh81H14PV4RHvZe36s,1", expected a tuple of size 2 at line 1 column 1 })`

following <@!114553556148813825> issue, i proceeded to install the solana-tokens crate (v 1.9.4) and this is what it says when i run the following command

`solana-tokens distribute-spl-tokens --db-path Desktop/TX.csv --fee-payer .config/solana/discord.json --input-csv Desktop/TEST.csv --from 2UkT9wXkf7ZgBZCpawHE7Cznr7pLbDtj19rS8JDbLHQm --owner .config/solana/discord.json`
the csv format is the one that is on the site for solana-tokens
```recipient,amount
address,amount
address,amount```
<@!814228493302497301> sorry for tagging you here but i saw you answering about this issue previously...
Good morning everyone! What are best practices for dealing with token amount numbers in javascript? Should we always default to using `bn.js` ?
I just managed to transfer a single token, but now I'm stuck again trying to send another 999 tokens
I rarely got a transaction made on first try.
Getting the same error even though I'm passing the --fund-recipient and --allow-unfunded-recipient arguments
Hey thank for your reply.
Yes it was funded and I eventually managed to get the transaction made without changing anything.
However, I'm now stuck trying to fund an account with the token that I've created.
Hey <@!730245907580452917> , were you able to resolve this by any chance? I'm facing the same issue now.
If anyone can help out it would be much appreciated.
it seems like the `spy` fun returns `met_criteria` as false, and this is why the discovery process is failing when I try to run `solana-test-validator`. What does it mean for my system? Could be related to my network settings?
Thank you <@!585868308419444749> 
I am testing it on `solana-test-validator` . 
The error is just ` Error processing Instruction 0: Program failed to complete`

I am new to this community so would love to know if  there is a place I can find the timeline for whats coming on the public cluster? And in general, does new native program require a fork? 
Thanks!
13 TPS, really?
Can anyone explain whats up with solana?
<@794305035516641292> 
It does not.
Do not rely on that order.
This is the error output! And I think you're using a script for transferring the tokens right? Not doing any of your code?
Got it, using the CLI lol Sorry!

i did share the code snippet... didnt i? lol
Can you share the code snippet for the token transfer ? You're passing in a wrong account that's why you get the invalid account data error!
ya i dunno how to do that either lol
You can use the spl-token npm package to create a token account for the said wallet! But I'm not sure on how many token account creation and transfer instructions you can send in one transactions!
how do i do that?
Are you also creating the token accounts (for the specific token you want to transfer to) for those wallets to which you're transferring the spl token to?
Make sure your mint authority has sol to pay for transaction
i was able to transer SOL to to multiple addresses but when i try to transfer the spl-token i get this error
Perhaps <#428295358100013069>? <#462813738245029888>? Take a look around
Can u guide me to that channel ?
I would be pretty confident that with 3 in and 3 out that if they are in the same order.... üôÇ
it seems like it does but still can't say for sure
<@!823615325148413983>  This is a development channel, not a network status channel
It's all there in the help
do it with `--dry-run` with some entry for the `--dp-path`
so put anything?
It is telling you to supply a location to store a distribution dataset
1 request instead of 2 is efficient
Hello again guys,
When creating a token, I get stuck on "Finalizing Transaction", and it gives me an error "unable to confirm transaction."
oh i didnt used this function 

why dont u use getAccounttInfo 2times?
if is send [publicKey1,publicKey2] to `getMultipleAccountsInfo` will the result be in the same order or random
yep doing, was hoping somebody so i could save time
does this works for u?
ive added tokens and creating candy mint machine ... im trying to transfer spl tokens to multiple addresses
yes
right....  but i dont know what to input for db-path<FILE>
did u installed the solana spl token cli ?
wdym?
its comes from solana spl token library
Test it with 3 and what do you see?
does `getMultipleAccountsInfo` get return accounts in the order it was given?
```bash
solana-tokens distribute-spl-tokens --help
solana-tokens-distribute-spl-tokens
Distribute SPL tokens

USAGE:
    solana-tokens distribute-spl-tokens [FLAGS] [OPTIONS] --db-path <FILE> --fee-payer <KEYPAIR> --input-csv <FILE> --from <TOKEN_ACCOUNT_ADDRESS> --owner <TOKEN_ACCOUNT_OWNER_KEYPAIR>

FLAGS:
        --dry-run    Do not execute any transfers
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
        --db-path <FILE>
            Location for storing distribution database. The database is used for tracking transactions as they are
            finalized and preventing double spends.
        --fee-payer <KEYPAIR>                    Fee payer
        --input-csv <FILE>                       Allocations CSV file
    -o, --output-path <FILE>                     Write the transaction log to this file
        --from <TOKEN_ACCOUNT_ADDRESS>           SPL token account to send from
        --owner <TOKEN_ACCOUNT_OWNER_KEYPAIR>    SPL token account owner
        --transfer-amount <AMOUNT>               The amount of SPL tokens to send to each recipient
        --url <URL>                              RPC entrypoint address. i.e. http://api.devnet.solana.com
```
https://lib.rs/crates/solana-tokens
What other website?
this other website just says to input 
solana-tokens distribute-tokens --transfer-amount 10 --from <KEYPAIR> --input-csv <RECIPIENTS_CSV> --fee-payer <KEYPAIR>     
 but then it tells me i need the db-path but i dunno wtf that is
i think? lol
metaplex
Is it a Metaplex thing? What did you install that you got that executable?
Where did `solana-tokens.exe` come from?
nothing on db-path in there
https://spl.solana.com/
ü§î
the installation of 1.9.5 doesn't work, I'm still using 1.9.2
yeah
And, I know I've asked, but when you run the airdrop request.... because you are pointing to `localhost` you are running `solana-test-validator` first and leave it running and in another terminal you do `solana airdrop 1` and it fails?
trying to distribute tokens to multiple accounts but it asks me for db-path <FILE> .... can some explain what i am suppose to put there?
üò¶
I'm going to have to defer to someone more knowledgeable about sol specifics üòÑ
this is the config get
C:\Users\Nir>solana config get
Config File: C:\Users\Nir\.config\solana\cli\config.yml
RPC URL: http://localhost:8899
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: C:\Users\Nir\.config\solana\id.json
Commitment: confirmed
I'm following some guide to understand smart contracts
I know that the sol are worthless
but the coins are worthless
well, sort of... testnet is another network, exactly like solana
testnet is the local host - right?
you *sure* you're running the tool under testnet?
Error: airdrop request failed. This can happen when the rate limit is reached.
what error do you get/what does it say
solana-tokens.exe distribute-spl-tokens [FLAGS] [OPTIONS] --db-path <FILE> --fee-payer <KEYPAIR> --input-csv <FILE> --from <TOKEN_ACCOUNT_ADDRESS> --owner <TOKEN_ACCOUNT_OWNER_KEYPAIR>

what am i suppose to input for db-path ..
yup
Uh... you're trying on testnet right?
still cant airdrop
oh fair enough xD
üòõ
finished downloading
maybe curl isn't available in cmd
why?
I would use powershell üôÇ
downloading it on cmd
there's a Windows version there
try this: https://docs.solana.com/cli/install-solana-cli-tools#windows
to download the new cli
but except from the script
well, the script you have is only for Linux... maybe there's a Windows one?
do I need to work on ubunto all the time?

but when developing
I have ubunto on my pc
once you've got that... you should be able to just type ubuntu into Windows search and it'll come up with a full linux env for you
yeah so you need to follow the instructions and get ubuntu working... https://docs.microsoft.com/en-us/windows/wsl/install
basically will run a Linux environment in Windows
downloaded it
you can try WSL? https://docs.microsoft.com/en-us/windows/wsl/about
for the whole testing?
you need a full Linux env
sh isn't in git bash
there's your issue
windows
like, the machine itself
Yes, what are you running this on
git bash
what are you running on? Linux?
and on cmd
im getting 
sh' is not recognized as an internal or external command,
operable program or batch file.
on git bash
solana-install-init: machine architecture is currently unsupported
that is for WSL btw
Manually, but you can just do `sh -c "$(curl -sSfL https://release.solana.com/v1.9.5/install)"` and it will update
ping
except from deleting all the folder manually
is it possible to uninstall all of solana files?
im getting error when trying to use solana-install update
no
When you setup the WSL you installed solana again correct? Version 1.9.4?
.
The mint authority
Hey everyone, I'm wondering on how the mint authority works?
Suppose wallet A is the owner of token account and wallet b is the mint authority, so whose credentials do i pass in the mint to instruction of the spl token instructions? The owner or the mint authority?
When creating a token, I'm stuck on "Finalizing transaction" for a couple of minutes now, is this normal?
someone knows why I cant airdrop solana on the localhost?
hihi any frontend website where i can wrap sol into wsol?
I'm still getting the error
hey, unfortunately that didn't work
Ok, got the markdown checked:
```Config File: /home/manihck/.config/solana/cli/config.yml
RPC URL: https://api.mainnet-beta.solana.com
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: /home/manihck/my-keypair.json
Commitment: confirmed```
This is it <@!814228493302497301>
On which line?
Again, what does `solana config get` list?
i created the wallet with the solana keygen command, however I didn't pass the --no-outfile argument
I just didn't get the my-keypair.json file
yes, i did
it should default to the keypair in the config. But did you install the CLI?
cargo install spl-token-cli
however, I see that it is looking for the my-keypair.json in my home folder but I don't have that file there
sorry
mainnet-beta
What is the exact command line you are entering? What cluster is your configuration set to (`solana config get`)?
Also... did you install the spl-token cli?
`cargo install spl-stake-pool-cli`
I guess it needs a keypair.json file but I can't quite find it
error: No such file or directory (os error 2)
Hey guys, sorry to bother but I'm getting this error while doing the spl-token create-token
I've tried to run local test validator
```
Config File: /Users/wojciech/.config/solana/cli/config.yml
RPC URL: http://localhost:8899
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: /Users/wojciech/.config/solana/id.json
Commitment: confirmed
```
It's coming from initiation `fn new(...)` of `gossip/src/gossip_service.rs`. What does your `solana config get` look like?
thx bruh, but I would like to not use Rosetta, as the new binaries are supporting M1. I'm curious what `error: "Discover failed" ` means?
See if how you installed followed this: https://dev.to/nickgarfield/how-to-install-solana-dev-tools-on-an-m1-mac-kfn
Hi All üôÇ I have a problem running `test-validator` on my M1 Mac. I've installed the newest version from the source and I also tried recommended installation via `curl`.  Unfortunately in both cases, when I try to run `solana-test-validator` i got the following terminal output with error:
```
--faucet-sol argument ignored, ledger already exists
Ledger location: test-ledger
Log: test-ledger/validator.log
Error: failed to start validator: TestValidator startup failed: Custom { kind: Other, error: "Discover failed" }
```
Any Idea what can be wrong here?
thakns
`solana cluster-version` tells you what version of solana is running on whatever cluster you are configured for
How can I grind creating a new token mint to include a prefix on the token mint address
the code?
how do you check which version is deployed on devnet?
```Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]
    Program log: Instruction: InitializeAccount
    Program log: Error: IncorrectProgramId```

any ideas why id be getting an `IncorrectProgramId` error when creating a new token account for a user?
https://docs.microsoft.com/en-us/windows/wsl/about
what is WSL 2?
when I open cmd I get errors of missing files
I dont know if there is any connection, but the solana-test-validator is working only in the git cmd
Try installing and running in WSL 2
1.9.2
What is `solana --version`?
You may have issues because of Windows... this is what I get on my mac:
```bash
fastfrank@~/frankc01/solana-gadgets/rust/feature-diff $ solana balance
500000000 SOL
fastfrank@~/frankc01/solana-gadgets/rust/feature-diff $ solana airdrop 500
Requesting airdrop of 500 SOL

Signature: 5P9tGGAX37oRxHb1CiYFhyJsgPvnwxwhVTBM2CP7cvQupCWVi8Hb2gEkZTC76CjuQRRMJV1UQ17QuRDhsqMAAqDR

500000500 SOL
```
0 sol
ah ic
let me check
He's running local test validator, there is no limit
So, first of all, when running `solana-test-validator` it pre-airdops LOTS OF LOTS of SOL into the default keypair `C:\Users\Nir.config\solana\id.json`
What does `solana balance` say while the validator is running?
still the same error
max 2
solana airdrop 5
No, that is correct ... what is your command line for the airdrop you are using?
its just keep running
I cant enter any command in the validator terminal
Is that wrong?
yeah
Ok, 
So... are you starting the validator in one terminal and then opening another terminal to do the airdrop?
Metaplex has a discord server, you should get your answers there. Or look at the candymachine program `error.rs` or similar to look up that error index in the enum
Config File: C:\Users\Nir\.config\solana\cli\config.yml
RPC URL: http://localhost:8899
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: C:\Users\Nir\.config\solana\id.json
Commitment: confirmed
What does `solana config get` say?
im getting this error when I'm trying to airdrop
Error: airdrop request failed. This can happen when the rate limit is reached.
You need it running when you want to test. You can kill it in between.
do I need to keep the solana-test-validator during all the test time?
Go to the Github repo for Anchor.... it's in the README.md
Can anyone help me?
link pls
Hey, when trying Mint by candy marchine v2 mint UI, got 0x177b error.
Try the anchor discord server
You need to have `solana-test-validator` running if you are trying on local host. It is not running as a daemon or similar unless you start it and leave it running....
how do i use anchor with my react project? importing anchor causes a bunch of compile errors
hey,  someone can help me with try to airdrop to local host?
im getting the next error
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: No connection could be made because the target machine actively refused it. (os error 10061)
alright, thanks
I appreciate what you are saying but this is not a Solana (web3) issue, it is a React issue that has plenty of documentation and examples on how to implement callbacks, how to return arguments, scope, etc.
in other functions
i want to display balance not only after onclick but also i just want to have the variable to use it any time i need

I'm not a react person but this isn't a unique paradigm
Also, what is the editors indication of why it's underscoring `balfinal`?
React must have documentation on what onClick callback returns should/could be
typescript react app yes
What is this, react?
im sorry im pretty new to this
wdym
Then you should look at the signature for the return of the `onClick` callback
28778798 to 2.87
for example
from lamports to sol
balfinal rounds up
yes
And in the `console.log(balfinal)` showing the same?
yes
oh, okay, thanks)
It means you have too many stack variables
and... what exactly it means? üòÖ
You exceeded the 4k stack limit (set for each stack frame)
Do you get a balance from command line for same cluster as your codes 'endpoint'?
Program returned error: Access violation in stack frame 3 at address 0x200003ff0 of size 8 by instruction #18401
What does this error mean?
<@!814228493302497301> Hey! I get users balance console logged (balfinal) but why doesnt it find the thing in square brackets? []
<@!814228493302497301> the other workflow I could imagine is dumping the so from mainnet and loading it up, in fact I might actually just do that
Hi everbody?
I created an account with seed "that has data" owned by "system program" . I cant transfer lamports from created account to another account. 
I created another account with seed again owned by "system program" but "without data". I can make transfers without problem.
How can i delete an account with data owned by systemprogram? Anybody know? I couldnt find anything in documents.
good to know i'm not the only one, like ideally the programs on chain would be synced up with the versions deployed to crates, so i could just depend on the rust crate, and somehow the rust crate would provide the .so, I was kind of hoping they did somehow bundle or build a .so that I could load
1. Yes, this is how it can be done... it is the way I do it but not for metaplex. 
2. How to determine version of metaplex in any particular cluster is a question for them. Solana repo tells you for it's clusters what version of solana programs are loaded
3. No way in Cargo.toml that I've ever seen, others can reply though
4. This is my dev workflow and I am a 'people'
Can someone explain to me how to add fees to my token  ?
my question is sort of about the test validator, but more about what people are doing for dev workflow
Like is there a way to do it from a Cargo.toml dependency for example?
I have already done that, i set up a script that clones metaplex, builds the so's and loads them into the test validator, I'm wondering if this is what everyone is doing? and if so, how do people handle getting the version of metaplex thats actually runnning on chain
<@!756724525269254155> - You need to do better than that. Are you willing to write Rust code that loads the test-validator programatically?
`solana-test-validator --help`
do you know why doesnt my app console log my publickey?
assuming you're talking about js/ts and you want an `anchor.web3.PublicKey` from the given address:
`const pubkey = new anchor.web3.PublicKey(BASE58_ENCODED_ADDRESS);`
You could use metaboss to get holders for all your mints
and from that you could make a little script that returns the holder for a given mint address
how do i get public key from base58 address of a program?
the versioning of the metaplex programs on chain is also fairly unclear to me unsure if i'm missing a doc, haven't gotten any help in the metaplex discord üò¶
Hey peeps, I'm working on a program the depends on metaplex programs (invokes token metadata program directly, and client depends on others) Is there a standard way to load these into the test validator? i've taken the approach of cloning the metaplex-program-library repo directly, building the .so's and loading them into the test-validator that way, but just wondering if there is are more standard way to do this? Thanks
Thanks, I was thinking the same. So if I understood correctly : basically all aspects of running a lottery system will be done "offchain" and  only 2 things will be needed onchain, getting coins from users in exchange of tickets and paying out coins to winners. I hope I am on right track.
database
Hello. I have a question about the data storage. Let say I want to make a lottery site.  People will buy tickets, lottery will generate random numbers  and wining tickets will get coins.
So the question is  Where do I keep purchased ticket data? I will need to store info about ticket number, user wallet address etc...
can anybody tell what to pass in this paramater?
why this happended when I go to create token. I Have enough sol on my wallet "unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds"
programatically
<@!711352300467257369> 
yes i have already minted nfts 
i just want to trade it to the user who want to buy it
Are you trying to mint or just have a marketplace for trading? If it's just trading then yea
i m trying it thanks
thats it? and i can make the buy system programtically working?
You add in the mint address for the account to make that the amount
```javascript
const network = process.env.REACT_APP_NODE_URL;
    const connection = await new Connection(network);

    const transaction = await new Transaction().add(
      SystemProgram.transfer({
        fromPubkey: user.publicKey,
        toPubkey: "RECEIVING ADDRESS",
        lamports: amount * LAMPORTS_PER_SOL,
      })
    );

    transaction.feePayer = user.publicKey;
    let { blockhash } = await connection.getRecentBlockhash();
    transaction.recentBlockhash = blockhash;

    const { signature } = await window.solana
      .signAndSendTransaction(transaction)
      .catch((e) => {
      console.log(e)
      });


```
basically i want to make buy nft programatically from wallet Alice to the connected user wallet like in marketplace like solsea
yes it was just for test
then how to do it can you tell me please i am very in need of help üò•üò•
Also you should never have your keys on the frontend
ohh
Phantom has to sign it.
You can't sign a transaction like that with phantom
like how buy works in solsea?
yes actually i can transfer the nft from wallet1 to ALice wallet if i am connected using wallet1

but i cant transfer from Alice to wallet1 if i am connected with wallet1 can you help me
Oh
my quesiton is something else bro
has anything changed on Solana's RPC node? My front end out of a sudden started getting this error: 
```
Access to XMLHttpRequest at 'https://api.mainnet-beta.solana.com/' from origin 'https://nftape.me' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.
```
Shoud be like that
```javascript

 const mintWallet = Keypair.fromSecretKey(
      bs58.decode(
        "YOUR_KEY"
      )
    );

    const myMint = new PublicKey(
      "ADDRESS"
    );

    let myToken = await new splToken.Token(
      connection,
      myMint,
      splToken.TOKEN_PROGRAM_ID,
      mintWallet
    );

    const toWallet = new PublicKey(address);

    const toUser = await myToken.getOrCreateAssociatedAccountInfo(toWallet);

    await myToken
      .mintTo(toUser.address, mintWallet.publicKey, [], 1)
      .then(() => true)
      .catch(() => false);
```
bro can you help me
Even for invalid addresses
PublicKey.isOnCurve(address) always returns true
Am i doing something wrong?
<@456226577798135808>
i really wish there was an app where there was a list of NFTs by # and holder addresses for it
lets say random winner is #48 how can i get his or her address?
Do you know i can pull an NFT holder address for a specific NFT # to receive an airdrop?
hey weston you there?
Hi
Is there any smart DEV here i have a simple question
Here is my code to transfer nft from Alice Account (which has my all minted nfts) and feePayer account which will buy from the Alice Wallet. Well this works perfectly fine like this. But the problem is when the same transection i try to sign and send with phantom wallet it gives me an error (You can check it by the commented line 101 to 108) when i uncomment the phantom signAndSend method code and trying to execute it, it gives me error RPC req rejected but the same is sucessfully done with the connection.sendTransection.

That was problem 1,
Now problem 2 is that 
In this case i had  used feePayer which had the keypar already, but if i want to make it like user connect with connectWallet button, ill had only publicKey of the user. Now in that situaion how can i make the the nft transfer from Alice wallet to the user who connected and clicked on buy?
The failed transactions are the why
It means transaction are getting dropped, not failing
slow meaning a lot of tx are failing and some are getting through
but not down
the network is slow
Was working an hour ago
Yup nothing is working for me
is there a warroom / announcement channel I can follow?
ok looking at https://solanabeach.io/transactions this page, half the txs are red, so I'm not the only one
can't send transactions or interact with smart contracts for over 12h now
guys is it just me or is solana mainnet down?
my mistake
Error: failed to get token account balance: Invalid params: unknown variant `mint`, expected one of `max`, `recent`, `root`, `single`, `singleGossip`, `processed`, `confirmed`, `finalized`
<@585868308419444749> Hi, I am getting an error message stating ‚ÄúDynamic program error: Missing Signature for supplied PubKey‚Äù when I try to transfer Solana in command prompt.  Could you please help me?
right?
const tokenAccount = await this.connection.getTokenAccountBalance(
                    pubKey,
                    { mint: new solanaWeb3.PublicKey(addressObject.get('address')) } 
                )
should be the same to
const tokenAccount = await this.connection.getTokenAccountsByOwner(
                    pubKey,
                    { mint: new solanaWeb3.PublicKey(addressObject.get('address')) } 
                )

so...

why is that?
And I can have multiple accounts for the same token? :/
Unclear what your current error is, but that program hasn't been enabled on any public clusters yet.  You can only use it with `solana-test-validator` today
hi, 
has anyone successfully called the native ed25519sigVerify program from an onchain program? v1.9.4

I am unable to find the code for it and have been getting an error. I have followed the instructions here - https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program

and have used the instruction creation function  here - https://github.com/solana-labs/solana/blob/master/sdk/src/ed25519_instruction.rs#L29

Would appreciate any pointers thanks!
I am trying to transfer Solana from a cmd prompt window to another Solana address and it is asking for my key pair
I def need to read more, I don't know why it takes me too much to understand the purpose of both
https://docs.solana.com/developing/programming-model/accounts

a program don't hold any accounts actually
mint account and token account owned by token program
but they are not stored in the token program. they are individual accounts lives on chain.
Hello, how do I find my key pair in command prompt
so the only contract deployed for new tokens is the token program. inside that contract (program) a new account is created to hold the new token, and a mint to hold the state of that new account?
https://discord.com/channels/428295358100013066/517163444747894795/930249127235829781
mint https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L16
token account https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L86
an account inside an account?
everything in solana is account and solana's contract don't hold any state.
we don't deploy a new contract for a new token. all tokens based on token program.
so we create a new account, mint, for a new token.
and use a token account to hold the mint.
Hello everyone i want to create a token on solana blockchain, and the thing is that whenever there will be any transaction of that token so a certain fee will be deducted from the transfer amount and that fee will be divided and send to the certain manner 
1% in liqudity pool 
1% burn
0.5% to the owner of the contract
can i make this token contract through anchor framework ? i am new to solana i am actually a ethereum and hyperledger fabric blockchain dev and i had to do this project can anyone guide me all the way how to do the things
why there are two address?
can you please explain me exactly the purpose of mint
You know I dunno why mint confuses me a lot
yup
there are two kind of address, mint and token
a mint address is like ERC20 address
a token address is to hold mint
right?
is the mint address
I see
No
This is the token address right?
and why you think I am getting that?
https://solanacookbook.com/references/token.html#get-token-account-by-owner
program id is always token program.
I have the token address
I don't know how to get the tokeAccounts
if (!val) throw new Error(msg || 'Assertion failed');
                    ^
Error: Assertion failed
But I am getting this error

address is this
I don't know what is wrong

I am trying to get the tokens but...
Thank you!
ah ok, that explains it
there are some kinds of failed tx.
1. simulating failed
    I think you can get the log from the error response when you send your tx
2. sent but something went wrong
    a. if the tx packed by block, you can use `getTransaction` to fetch it back and get its log
    b. if the tx don't packed by any block and just missing. you can't fetch any log back unfortunately.
Any way to see the logs of failed transactions? I'm running `solana logs` but I'm only seeing the msg! of successful tx, nothing from failed.
AFAIK solana's websocket for now only subscribe/unsubscribe
https://docs.solana.com/developing/clients/jsonrpc-api#subscription-websocket
there are the all methods you can use.

I don't think you can query a recent blockhash from official endpoint via websocket
yes. different token need different token accounts to hold.
if you have SRM, RAY, USDC
so you will have SRM token account, RAY token account, USDC token account to hold them
https://solanacookbook.com/references/token.html#associated-token-account-ata
```
/tmp/ curl https://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '
  {"jsonrpc":"2.0","id":1, "method":"getRecentBlockhash"}
'
{"jsonrpc":"2.0","result":{"context":{"slot":109423920},"value":{"blockhash":"68A14f3a1mGUQHUkrcqSkA36gxEnBQ7xvXhN4ZZBa2D2","feeCalculator":{"lamportsPerSignature":5000}}},"id":1}
```
^ querying the devnet for a recent blockhash through a http request succeeds, but the same exact request via websocket fails:

```{"jsonrpc":"2.0","error":{"code":-32601,"message":"Method not found"},"id":1}```

anyone know why?
Do I have to create an account for each token the user have?
in the ido example, theres no approve and not in transfer
hold up, so approve isnt needed?
Are you talking about this repo https://github.com/solana-labs/solana-program-library ?
run the programs üôÇ walk through them . approval and other things are taken care of for you in many cases. 
got through some of the anchor tutorials in soldev, they have wallet integration, and explain some things.
Thank you :keanu-thanks:
also the anchor has one too
solana github has big list of examples
Is there a repo of existing Programs that we can use?
doesnt USDC need  to be approved
they send in USDC in return for the IDO token redeem
so if u need to either use, lookup, or create a user account, the client needs to make those queries, find out, and pass in any address to the program
but what about `Approve` ?
all required data needs to be passed into the program, that it needs to process. as the design is stateless.
its not all done in JS,  but what you are likely seeing, is logic that either establishes or queries addresses, and sends the transactions -> instructions, accounts, required. to the program
yeai see that but why is that done in js and not in the smrt contract
look at the test clients in anchor that are running the programs.  run them. see what they do.  follow the code.
getOrCreateAssociatedTokenAccounts for user,  use that to deposit (transfer) into your program vault/account
this is all design related.  I would reference the ido-pool and escrow programs in the case of anchor.
if they already have USDC, they already have a usdc token account. you would check with a getAssociatedToken account type call.
because they will be sending me USDC or another token
if i have multiple users depositing, ill need to set them up an account right?
wht i meant by that was more like... every protocol should check if it exists, and then make it if not.  sorta like, a new user deposits into protocol A that protocol then inits the token account..... then they deposit into protocol B, they check for the token account, it exists, so they just use the 'get' return?
its not so much first come first serve, as who has to create the account if it doesnt already exist.
if the user wants to deal with a token and does not yet have that token account, you may need to `GetOrCreateIfNotExist_AssociatedTokenAccount`
for your program, ull generally set your program accounts up when you upload/deploy and or upgrade, and initialize your program.
look at the ido-pool and the escrow programs.   also for anchor, this is a good explainer to go along with anchor code, and related tutorials help bring it together as well. 
https://hackmd.io/@ironaddicteddog/solana-anchor-escrow
https://solanacookbook.com/#contributing
tutorials for anchor and explaining the concepts as they walk through creating programs:
https://soldev.app/
so an associated account is kinda like a first come first serve for a protocol basiccally? so each protocol should check to see if a user has one related to that token?
a lot of it for me is the conceptual aspect im figuring out
im using anchor since they simplify but most examples have no comments lol
are you using anchor or native?  the best way is to look at some examples for these related questions 
in general for a user/wallet related primary address, you would use associated token account to lookup their token account and or create the associated token account if it does not exist.
for programs, you may tend to use findProgramAddress, and related functions, that create an address on behalf of a program, where you would use this address to create a related token account for the program itself.
as a protocol basically
like when should you make an accountvs associated?
so lets say there are two programs, each allow a user to deposit USDC. those programs should be using associated?
https://discord.gg/snEa6hSU
I'm merging the `metaplex/candy-machine-ui` repo into my project's website and hoping to return the token of the minted NFT itself after a successful mint. I have a `mintTxId` but being new to blockchain/Solana I'm struggling to find the docs for what function might exist to exchange that transaction ID for information about the transaction itself: ie. the token itself.
in Solana, there are token mints created using the token program.
when a user wants to hold a particular token, you create a token account, created using the token mint address
this is generally done with an associated token address. and you can see if the user already has a token account using this associated token account lookup/address. each user will have their own token account, owned(authority) by them.
the underlying account is created with the token program

you may find these useful as well:
https://solana.wiki/docs/solidity-guide/
https://www.notion.so/daodatadesign/Solana-Rust-Intro-for-Solidity-Devs-e27d881a14794a3199514336ee032d0c#3a54e1fa3d3e4b129f26bf8e89a0cf3c
ask vercel
instead of in solidity, addresses are both users and contracts?
like any time a user wants to add a token to their wallet, they need a new token account created which relates the token to the user?
so each user on each  token needs a new token account initiated?
Hi guys, im trying to upload my react site on vercel, but it display a blank page (index.html). Any suggestion?
thanks
solflare has a discord, and a website, you may be able to find what your looking for there.
and approve transactions
can you get a singnature using for example, the mobile solfare wallet
im not aware of anyone that has released any mobile specific examples, but the web3 and rpc related apis and libraries are there to use, whichever platform your using.
there will likely be notes or more when the normal is restored.
How can I develop all these methods with signatures and stuff for mobile solana wallets
because I think this happens every time there's a lot of traffic
but do we know what the issue is? is it just the dup txs?
it is very proactively being work on. no eta for back to 'normal' that I am aware of atm.
do we know when the network should be back to normal?
Hi guys is there any way mods can whitelist `Scrumpy | ThugNerdz#2222` to get in here pls?

He used to have .sol in his username, but still can't join since he changed it.
Hi! 

Update: 
I am trying to use the Native Program to verify a signature `Ed25519SigVerify111111111111111111111111111` via an onchain program.
Native program id from - https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program

~~From what I have gathered. the native program instruction does not need an account as example - https://github.com/solana-labs/solana/blob/master/sdk/src/ed25519_instruction.rs#L77. 
However, `invoke` function requires the program being called (the native ed25519 sig verify program) `AccountInfo` to be included in the second arg, which I have included. I am still getting this error - `An account required by the instruction is missing`.~~

Turns out I was passing in the wrong account.  Currently erroring in the native program itself. will try to call it directly with https://github.com/solana-labs/solana/blob/master/sdk/src/ed25519_instruction.rs#L29
i'll probably fiddle around with it more and try to see if i can find better logging/more info. thank you again
the thing i pasted was the whole error message. quite terse haha
I actually can't remember how to stream the failed tx logs (I always get my errors while running anchor tests)
Ah, hmm
I mean the whole error message above, everything that got printed
does the program log refer to validator.log. `solana logs` has not been outputting anything when tx are failing
gotcha, thanks for the info
Way easier than just that snippet
Can you post the whole program log?
I don't think it's the invokes (not 100% sure)‚ÄîI'm saying the individual instructions that the client itself bundled into the transactions (so, instructions, not CPI calls from within the program)
How do you determine the sequence of the instructions sent in a tx? If the program is simple and just one function call with a few invokes, in this case, would it just be the sequence of invokes?
So I don't think it's about `invoke` calls
Sorry, to elaborate‚ÄîI think it means instructions as numbered from how they were submitted by the client (you can submit multiple separate instructions bundled into the same tx)
instruction 0 is the first one, yeah
`failed to send transaction: Transaction simulation failed: Error processing Instruction 0: An account required by the instruction is missing` How are the 'instruction x' ordered? is it just counting the invokes? i.e. is instruction 1 just the ix corresponding to the first invoke?

could you help me write this one? im still gettin errors
all the consts used to get the balance
Yep, saw <@!445425471027544095>' comment on Github, appreciate it! Such a fast turnaround ü§ù
New version! https://github.com/solana-labs/solana-web3.js/releases/tag/v1.32.0
Which ones? Probably not
do i define my variables inside of async?
.
https://arweavefees.com/
anyone help me, how do i calculate cost per NFT mint in solana?
thanks! ill try now
You'll have to do something like this: https://devtrium.com/posts/async-functions-useeffect
ah what im trying to do is get users balance and display it
Ah, ok, so here the function would have to return some empty state jsx for when you don't know the balance yet, and then use state to return something new once the async part fetches the balance
If you want the component to update according to some async thing, you'll have to use `useEffect` + `useState` probably
Not sure what you're trying to do‚Äîyou won't be able to return it from an async function like that though, react components are synchronous
hey guys! any one of you guys know how do I return my balancefinals?

That answer my question. Thank you very much.
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#requestAirdrop
Hmm, okay couldn't find that option
IIRC Opera and Brave have extension support on mobile, you could use one of them.
is there an sdk to include a button to one of the SOL faucets on devnet?
At least not in Chrome, Firefox or Safari
"mobile" wallets that install as apps cannot interact with webpages.
Like sollet
The only wallet that will work on mobile is a web wallet.
Probably a bug. Hence the issue created
Clicking connect just goes to the respective website
The system create account instruction is to create an account with data.
That I have installed (SolFlare, Slope)
If you transfer sol to a random pubkey, the system will create an account for you
It doesn't bring up the mobile wallets
When I try this demo
https://solana-labs.github.io/wallet-adapter/example/
Hmm, even on my phone
yeap, but you create accounts using system create account instruction. So, the two methods can be used to create accounts? I am confused.
No answer..
with updated rust
not fix
regardless
well figured out
Yeah this isn't rustup support
nvm*
nv,
from rustup command
up to upgrade?
ed2021 came in 1.57.0 I think
lol
That is very not fresh rust
rustup 1.24.3 (ce5817a94 2021-05-31)
and installed fresh rust
yea just downloaded to mac
Sounds like you need newer Rust
Do you have the latest version of token-swap?
this is complete error when cd into token-swap
error: failed to download `solana-frozen-abi v1.9.2`

Caused by:
  unable to get packages from source

Caused by:
  failed to parse manifest at `/Users/rogern/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-frozen-abi-1.9.2/Cargo.toml`

Caused by:
  feature `edition2021` is required

  consider adding `cargo-features = ["edition2021"]` to the manifest
No, you should be able to retrieve it when you do cargo build-bpf on spl-token-swap
That is how accounts are created.
Awesome! Thanks, it's in the queue
What happen if I do a transaction with a system transfer instruction to transfer lamports to an account that is not initialized? Note: an account that is not initialized is an account that have not been created using system create account instruction, it is only a public key.
so cargo install solana-frozen-abi?
That reminds me
https://github.com/solana-labs/solana/pull/22653
`1.9.4` does exist https://lib.rs/crates/solana-frozen-abi/versions
question mark?
ETA on MB when TX will work
spl token swap
when running cargo build-bpf
error: failed to download `solana-frozen-abi v1.9.4`
https://github.com/solana-dev-adv/solana-cookbook
how do i submit the PR and where?
i just updated my `node_module/@metaplex-foundation/mpl-token-metadata` and so much stuff did not work.
So annoying. They don't even make an announcement that they change stuff.
If you know the update, please submit a PR. We love contributions
really?
i don't get why
The new ones are so damn slow
Gotta love constant breaking changes
They updated like 3 days ago
i know thats what i am saying haha
Use `Metadata` from `@metaplex-foundation/mpl-token-metadata`
the docs on how to get NFT metadata are not up to date. The `Metadata.load()` does not exist anymore üò¶
hmm okay
Kind of do your research on that one. We can't suggest one specifically
Which node provider would you guys suggest?
appreciate it
https://github.com/solana-labs/wallet-adapter/issues/282
I would go ask parrot
submit an issue please
https://ido.parrot.fi/
Hey. Is there any easy way to make somethink like parrot ido?
line 28
https://github.com/solana-labs/wallet-adapter/blob/master/packages/ui/react-ui/src/WalletModal.tsx
I'm not sure which commit but you can see it here
Commit?
They just added that
and hides the ones you don't have
It detects the wallets you have on the browser
it works with mobile wallets ü§∑
What added autodetect
I guess it doesn't work for mobile though
I see, they added that autodetect recently for web
No. The way the wallet-adapter works is that you put the wallets you want compatibility with into the provider. They always show up when you click `connect wallet`. They don't auto add different wallets based on what you have installed
It shows the SolFlare and Slope options on desktop but not mobile for some reason
Is it able to detect mobile apps you have intalled though?
Detection works. In fact, the lib always shows the wallets that you configured in the page
thank you!
Here's an example of finding the correct error codes: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/error.rs#L13
`NotRentExempt` is 0x0, and you count up from there
I guess the detection doesn't work?
Even though I have the app installed
Only on the browser
When I go to my page on the phone it doesn't show Solflare or Slope
solflare and slope are both available there
Solflare, slope, whatever we can add
Any really
There are some mobile wallets in that. What wallet do you need
https://github.com/solana-labs/wallet-adapter
I'm not seeing them using this
Does anyone know how to connect to mobile wallets
In my code I have several custom errors (IncorrectAmount, NotRentExempt, etc.), and I want to determine exactly which one is being thrown. I've looked through validator.log and ran `solana logs -v` and couldn't find any of my custom errors being thrown. Not sure if i'm looking in the right places. Thank you for the responses, much appreciated
thx
Mac works. I use it
so can use on mac?\
A number of shakey issues on windows
That's probably your issue. Generally on windows it is recommended to use wsl
when running solana-test-validator
What you could do it run it using the command stated here https://github.com/solana-labs/solana-program-library/blob/master/token-swap/js/package.json#L34
<@!489206164270350337>
You have to look in your code
Should be
solana is installed, when I type solana --version i get status
isnt it preinstalled with solana cli toolkit?
right, that makes sense. but where can i find which one of the custom errors i've written is being thrown?
Then it's a custom error you created
program i'm writing on localnet
what program. Check the program
Do you have the `solana-test-validator` installed?
Getting the following error `failed to send transaction: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x2` Where can I look to determine what exactly is the 'custom program error'
I believe there is an open source solution here https://github.com/step-finance/reward-pool
?
It wasn't before you cross posted
hey guys, my project is minting tomorrow.... am i screwed?
Could anyone give ma some advice
Error: server closed unexpectedly
    at ChildProcess.onClose (C:\Users\dev\token-swap\js\node_modules\start-server-and-test\src\index.js:75:14)
The server keeps starting and then getting an error:
using "npm run start-with-test-validator" like stated in the docs
I am trying to run a test with npm
and contracts
when using the solana spl-token-swap program
I wanted to implement staking on utility coins. Wanted to know what wiuld be the best tool to use in this regard
hey guys
Hello
great
Ran into some things I needed to get done. Looking into it now
Just make a custom website for minting? There's some resource over at metaplex, I'd check their discord https://discord.gg/qjhQFAdS
Sky's the limit
You could do it be chaining or creating multiple pdas.
Here's a nice chaining example:
Have an account contain the information that you need + reference to next account with more info. Original account is referenced via seeds using PDAs. Go through accounts like that. 
Or you can create PDAs for every tidbit of information and change the seeds based on the specific item number or whatever you're looking for. All able to be retrieved via the seeds as well
right, that's what I'm asking -- is there an established / recommended way? you could very easily do it by chaining but it would not be very queryable
hey, how to i make my custom website be a part of the minting website, how ?
Any single account can only have 10mb of space (and rent-exempting that much space isn't cheap, 7 sol/mb). For a truly gigantic amount of space you'd have to figure out how to chain multiple accounts together etc.
Most of my transactions are getting last since last night. Are these issues going to happen every time there is a lot of traffic?
<@!489206164270350337> How is it going to run it?
what's the best way to store long lists in accounts, an infinitely long grocery list of a user for example
run the react starter, just a reminder
Asking in the release process
Thanks!
I'll try to run this, hold on
here i only changed app.tsx
https://github.com/VezlysNikita/walleto/blob/main/packages/starter/react-ui-starter/src/App.tsx
Why not fill with your created markets or at a smaller scale?
Wallet manages your keypair usually. With wallet-adapter, the wallet exposes the publicKey so you can do the posted code
That's not enough based on what you're doing though. You need your framework and the wallet provider initialized
does that make sense?
filling the order book with bids and asks
Sorry just one more question... Is there a difference between wallet and keypair?
What costs so much on devnet? If you deploy once and deploy your 6 markets once, you should have a single instance cost. Redeploying programs after testing on local a bunch shouldn't cost too much
so the image contains all the code that im using
well all the other code i am using is in the solana wallet adapter github
Yep, there hasn't been a release since November from what I can tell https://github.com/solana-labs/solana/commit/c0c3d7c1f2a8ec67122e17809e761ad2eb153f31
Sorry but i am not going to only do QA on devnet once and "here we come" to mainnet when there are millions at stake
link to commit?
Is there a timeline on the next release for `@solana/web3.js`? There's some fixes in there I need, particularly the `toJSON` one
You shouldn't need that much SOL on devnet.
General flow of development should be something like this:
1. Test on local-test-validator a ton.
2. When you've done that, deploy once and do QA testing in devnet
3. All good? Mainnet-beta here we come
and that devnet is a requirement as well?
can you believe me that I am already doing a lot of testing on local validator
Thanks I will check their discord
I can test on localnet all good and fine
local-test-validator is not a shortcut. It's a completely viable testing strategy
It's really limiting to only have 15 sol be airdropped
I think there's some work being done on this via metaplex. Check and ask in their discord https://discord.gg/qjhQFAdS
If so, what can I search on Google to understand how to do it?
if I take shortcuts it adds a lot of friction re devnet/mainnet deployment
I have thought about this thing guys
Hello Guys, quick help here. I'm building a nft project. Is it possible that the funds of each sale can be redisttibuted among other wallets other than treasuryaccount by percentage automatically?
but I can't help anyway, sorry.  My current status on devnet:
```
$ solana balance 
1.00999 SOL
```
Also test on local-test-validator first
just test with smaller increments
This shouldn't take 100k SOL
and it can't work on a fake sol
and six other markets against SOL
we deploy a custom market on serum on devnet with SOL/fakeUSDC


///////////////////////////////////////////////////////////////////////////////////////////////

can anyone help me resolve this issie?
Is there any solution to run cargo build-bpf under Win10?
Failed to install bpf-tools: HTTP status client error (404 Not Found) for url (https://github.com/solana-labs/bpf-tools/releases/download/v1.21/solana-bpf-tools-windows.tar.bz2)
Dm me and i help you
that link does not work
See installation instructions of hashlips art engine at https://github.com/HashLips/hashlips_art_eng.
its when i type npm install
i am getting this error. what do i do?
No my friend
Alright was here yesterday and you guys helped out a lot and I was able to get my token listed on solscan.io. But I can only find it if I put in the address to the token. I can't look it up by the name or symbol and it is still showing in wallets as unknown. 

Token Address if you need it 58GVUcJtzaWHdnnJpyfP4YjfXhJpQuNtVpWDeU1H3ND9
Do you know how to airdop sol?
But what can i do now
Me too .. i am new member too
Ooh I understand it
Yes
Hey friend are you a new member
J26yfkhmDzGD3jAJPQ58taVu5TKYAxQtkELNTFkVXkYn
Can someone airdrop me 10 sol please
Variable is "Home", I set it pointed for some dir
Are you sure you are on devnet?
https://docs.metaplex.com/token-metadata/v1.1.0/overview
What variable is absent?
Hi! I have a problem with cargo build-bpf under Win10: 
BPF SDK: \\?\C:\Users\admin\.local\share\solana\install\releases\1.9.4\solana-release\bin\sdk\bpf
Can't get home directory path: environment variable not found
but the faucet works
at this time, `airdrop 1` already fails : `Error: airdrop request failed. This can happen when the rate limit is reached.`
thanks a lot!
https://spl.solana.com/token
My bad - read too quickly: ```$ spl-token transfer --fund-recipient <mint> 1 <recipient>```
Thank you, but I want to transfer tokens like NFTs or SPL tokens not Solana
and confirm you are on devnet with ```solana config get```
```solana airdrop 2 <youraddress>```
Could you do it pls
Looks like something is up with the node you are using. Is it a custom node? If so use a public one.
SendTransactionError: failed to send transaction: Node is behind by 429 slots

Any solution for this error?
you can airdrop yourself 2 sol at a time - any more than that gives an error.
Hello Guys, Is there any way to send an SPL token or an NFT via a command on the RPC?
ü§ñ
Is there a link where I can read more about the new collection standard?
I keep getting errorüòï
J26yfkhmDzGD3jAJPQ58taVu5TKYAxQtkELNTFkVXkYn
Can someone please send 10sol to my dev wallet
That will soon be changing with the new collections standard.
I've been trying to find all the NFTs associated with a collection
Can you please explain what you are trying to do?
can anyone help me form a request for the getProgramAccounts RPC endpoint? Not sure what address I'm suppose to pass
{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
        "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA "
    ]
}
thanks
You have to fetch the transaction and check preTokenBalance and postTokenBalance
it's working but is any way that i can get the amount of tokens that has been transfered?
But ask on the anchor discord.
Hmm maybe you have to provide the authority as a signer too.
connection.getSignaturesForAddress
Hello, with @solana/web3.js can i get all transactions of a spl-token from an account?
Why the error?
can anyone explain?

I'm getting `Error: Invalid arguments: authority not provided.`

```
    await program.rpc.initializePoolAsset(
      {
        accounts: {
          authority: provider.wallet.publicKey,
          systemProgram: anchor.web3.SystemProgram.programId,
          tokenProgram: TOKEN_PROGRAM_ID,
          rent: anchor.web3.SYSVAR_RENT_PUBKEY,
        },
        receiptMintBump: usdcReceiptMintAccountBump,
        receiptTokenBump: usdcReceiptTokenAccountBump,
      },
    );

```
and the function:

```
    pub fn initialize_pool_asset(
        ctx: Context<InitializePoolAsset>,
        receipt_mint_bump: u8,
        receipt_token_bump: u8
    ) -> ProgramResult {
        msg!("initialize_pool_asset");
        Ok(())
    }
    ...
    ...
#[derive(Accounts)]
#[instruction(receipt_mint_bump: u8, receipt_token_bump: u8)]
pub struct InitializePoolAsset<'info> {
    #[account(mut)]
    pub authority: Signer<'info>,
    pub main_token: Box<Account<'info, TokenAccount>>,
    #[account(
        init,
        payer = authority,
        mint::decimals = 9,
        mint::authority = authority,
        seeds = [main_token.key().as_ref(), b"receipt_mint".as_ref()],
        bump = receipt_mint_bump,
    )]
    pub receipt_mint: Box<Account<'info, Mint>>,
    #[account(init,
        token::mint = receipt_mint,
        token::authority = authority,
        seeds = [main_token.key().as_ref(), b"receipt_account"],
        bump = receipt_token_bump,
        payer = authority
    )]
    pub receipt_token_account: Box<Account<'info, TokenAccount>>,
    pub system_program: Program<'info, System>,
    pub token_program: Program<'info, Token>, // needed?
    pub rent: Sysvar<'info, Rent>,
}

```
The explorer home page also has it.
where can I see that other than solana beach?
Look at tps.
Let's make it more specific, are most of my transactions going to "get lost" like before?
Now that's a multi-layered question!
is it safe to resume trading?
I see most validators are on 1.8.14
the network seems to be working okay now, is that right?
Yeah metaplex isn't really active at this time.
yeah I know but people arnt really reacting and i have been stuck for a while so i really appreciate you directing me although im in the wrong channel
No problem.
Next time, please try to post nft related questions in the metaplex discord.
Tag me there if you have issues.
ok thanks
Sorry i dont know what im doing i need clear directions
https://github.com/HashLips/hashlips_art_engine
where do i get those?
Follow the setup instructions in the hashlips readme.
ran hashlip? can u be more specific? I just type that into the terminal? <@!590982495923732511>
ok ok
If you ran hashlips then they should be in build/jsons
let me send you the tutorial then u will know what i mean.  https://www.youtube.com/watch?v=X33E2dqiUys .   do to 17 minutes. he is swapping the files for his own. 

But he already has json files with his images. 

I DO NOT HAVE the json files. How do i get them
ok well how do i get the hashlip
i dont know. lol He is just uploading his images with already generatee json files. so again. how do i generate a json file of my own image
Hahslips will generate everything for you.
Why?
<@!590982495923732511>  the tutorial im doing is skipping that part
NO i am already doing this. I just need to know how to create a jfon file os 1 image
https://discord.gg/DyGVh9fQ
If you want to generate an NFT collection then please check the getting started resources in the metaplex discord.
how do i generate a hashlip or json file of my image
Hw do i generate a hashlip or json file of my image
Which part exactly did you not understand?
Oh or try the new GitHub discussions thing.
Then your best bet it to open an issue, your question might get lost here.
That was my thought too, but not sure at all
i dont even know what that means
Json is just text, look up the format on the metaplex docs and start typing.
Hmm maybe it's a compute budget thing?
yes so how do i do it?
That is a metapelx thing.
But you will have to make the json by hand.
Hey, can someone help me understand the cranks in https://github.com/solana-labs/solana-program-library/tree/master/farms/vaults/src/strategies/rdm_stake_lp_compound ? In particular I am confused why it is three different steps rather than one instruction
hi, Im trying to create a json file of my png in visual studio code. can someone direct me
Ah my mistake, I was thinking of getProgramAccounts
His question was on `getMultipleAccounts` which I had said it was likely in same order, you had suggested not to rely on that???
what can i do for this ?
D:\Worksapce>anchor init myepicproject2 --javascript
Error: yarn install failed: program not found
getMultipleAccounts is in order.
You are correct sir!
Ahhh
Sorry was is getMultipleAccounts or getProgramAccounts
In Rust I put a bullet proof way to align to input order:
```rust
    for (index, account) in rcpclient
        .get_multiple_accounts(&SOME_LIST)?
        .into_iter()
        .enumerate() {
        let entry_for_index = SOME_LIST[index];
        // Do stuff with this entry
        }
```
Mostly from experience, I haven't really checked the source code.
Ask here in the metaplex community
https://discord.gg/kHrxHDCb
Hey is anyone aware of any open sourced UI for metaplex's AuctionHouse? https://docs.metaplex.com/auction-house/definition
Oh I guess I can also slice the intruction to fit it what I need in only.
Oh sounds fair. Ty
https://discord.com/channels/428295358100013066/517163444747894795/934789357750059008
Hi what is the current process for getting an SPL tokrn registered, I see the repo has 3100 pull request open, ideally was hoping for a named token for my presale whitelist drop end of this coming week
I said "Unlikely" as in doubtful as in you will NOT be able to get 800 instructions into a single Tx
Adding to this, i realise BTreeMap and HashMap also gives the same problem... :üòî
Hi, was just wondering, how many instruvtion can I add in a single transaction?
Didn't get the point of "I will get 800 to fit". Do you mean that this is going to work?
Hi all, I am trying to run `anchor test` but it gave a `IdlError: Type not found: {"type":{"defined":"Address"}}`..... this is because I created the type alias `type Address = String;` and i suspect the IDL didn't map Address back to String... is it possible to use type alias when writing solana program?
alright
Google is your friend....
üôÇ ts
Be more specific, where are you getting user input from? command line? Kafka event? JS? TS? React? Telepathy? üôÇ
hey <@!814228493302497301> do you know how to create a variable off of users input?
Total bytes in Tx is limited to 1232 bytes. This includes instructions and their data and account keys. Unlikely you'll get 800 to fit
https://discord.gg/kHrxHDCb
That's a question for the Metaplex Discord Server
I have to deploy the minting website on the mainnet. Does the current status of solana effect the  creation of the candy machine?
What library did you get `accountSubscribe` from?  `solana/web3.js`? Or .... ?

SEEMS LIKE IM MISSING A STEP?
Hi, in Solana Web3.js I can create a Transaction, these transactions contains some data including the Instructions.
Q1: Is it possible to add e.g 800 Instructions inside?
Q2: I think that the maximum length of each Transaction is 1000 bytes. Is there a way to calculate the transaction length before passing to the signing process?

Thx
ah i got it
not sure what to do here. I thnk i have to add a path?

Guys, how does one create a "redeem" contract with spl?
i think i got it thanks
?
yo guys quick question
it's not encrypted. You can use `getAccountInfo`

thanks so much
haha sheesh
if you scroll down on the page you should find the Windows installer (.exe)
oooo i see
so of course it won't work in Windows
ooo
Yes, you're using the Linux installer
windows
windos
scroll down and find the Windows one
you're doing the Linux one in Windows
its when i try to install the solana suite
can anyone help me with this/
Hello when trying to use 'accountSubscribe' I'm getting  error: { code: -32601, message: 'Method not found' }
Any ideas?
<@!511580546636447744> 
Mac and/or Linux
Solana in windows not well supported (some people have gotten it to work), you'll have better success with WSL if that is the route you take
but it always sounds like people encounter more problems than this?
which actually is really annoying when rustc uses a bunch of memory and then regular windows can't have that memory anymore
I have had one real problem with WSL not giving back memory
why do people have a bad time with WSL?
yeah i was trying a few libraries on WSL, really bad experience
MacOs worked best for me! Ubuntu was also good!
On windows had to use a subsystem for linux didn't enjoy that!
Hi developers, I am a newbie here. Would love to know any preference for OS that you have for developing on solana? Should i prefer macOS or a linux based distro or a windows work as well?
No soliciting here, delete this message
` let AccIX = Token.createInitAccountInstruction(TOKEN_PROGRAM_ID,mintPubkey,tokenAccountPubkeu,payer.publicKey)`

why does this say invalid Account data???
What are the best practices of storing big data offchain. Let say I have a lottery site and million users (I wish) bought tickets. Saving ticket data of million users on chain will be very expensive as understand. So where you recommend to save such information, IPFS, Filecoin? any other places?
id suggest you look at how verify works, to make sure whatever your trying to do to sign is compliant. its possible your existing methods are not going to be compliant here when verify happens and you may have to modify the process on your end.
Hi, just wondering if i have to like make a million calls to my program, how does it handle it ?
Thanks for the answer. I have gone through the existing signing methods and asked here since from what I saw it uses a regular sha512 (nacl.crypto_hash that produces 64byte hash).
My signer works for the most popular EdDSA assets and there is a method to get the ‚Äúhash to sign‚Äù in all of their SDKs. Wondering if there is such option in Solana as I haven‚Äôt found such.
hello, i want ask something. i want to upload my NFT file (Image and JSON) to mainnet beta. but i got this error. 
i tried uploading again and got this error again.
thanks for replying. I wanted to understand the section on availability in PoS section(section 5). I didn't get how one has to make more or less number of hashes based on how many validators are available. This is just one of the doubts to begin with
not sure about any custom signers, you would have to reference the existing signing methods, and compare, and see what the difference is.  the source is available in the github. when transactions are built signed and sent, the tools used are there for a reason, and provide the runtime with the expected formats.
it is serialized. you can try this method to help deserialize some general account types: https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedAccountInfo for custom account types, and non traditional ones, you would need to figure out how to decode them based on the program.
Yep I‚Äôm on windows rn and installed the solana CLI for windows. Ah I see I‚Äôll try and use WSL, thanks!!
are you on windows? I would not run native on windows. if your on windows I would use WSL.  from that error it looks like you do not have rust/cargo installed or the solana CLI, as that is what installs the bpf tools
there are not resources to understand the whitepapers outside of the docs, and the best resource, the code. as far as doubts you would have to be more specific.
Hey does anyone know how to deploy a smart contract to dev net? I've been trying to run:
`npm run build:program-rust` on their sample hello world program to test it out but it keeps giving me an error:

`Failed to install bpf-tools: HTTP status client error (404 Not Found) for url (https://github.com/solana-labs/bpf-tools/releases/download/v1.21/solana-bpf-tools-windows.tar.bz2)`

Can't seem to find the resources either.
Sorry I'm a bit new to solana. Would appreciate some guidance
Do anybody know?)
When I am using `getAccountInfo` - data is encrypted
can you please give me a hint how to do that?)
Hi all, hopefully will get some assistance here:
I am building a transaction using the JS SDK. The idea is to build the transaction manually, get the serialized buffer and sign it with some custom EdDSA signer that I‚Äôm running locally.
I got to the point where I get the serialized buffer with tx.seriliazeMessage() however the problem is that my signer expects to get a hash message to sign and not a buffer. I tried to hash the buffer with sha512 and sign it but when I use tx.addSignature() and then tx.verifySignatures() I get verified = false.
Any ideas?
Hi, can anyone help me find good resources where i can understand the solana whitepaper concepts. I have tons of doubts and would like to know some good resources.
if your wanting to be fancy, generate the bumps in the client and then pass them into the initialization functions and store them inside an account. either way you will want to pass the account address, and if necessary the bump(s), in subsequent calls, based on your need. if you want something truly dynamic, as with anything dynamic you need to find, youll want some kind of framework or pattern for producing results.  i would start simple. and develop as you go so you can see how things work. you may need a second or third iteration before you end up at something you originally wanted. you can also use a combination of hard coded and dynamic.
Well, let me know if this changes me needing to pass in addresses.  I want to create a wrappedSPL token similar to receipt, think aToken (AAVE), cToken (Compound).  So, I init a new wrapped SPL token that acts as a receipt for another token, say USDC.  I want to init that token on the initialize function.... but my gripe is the seed and bump.

Since my program will have multiple SPL mints and tokenAccounts, what should i do with the seed and bump?

In here: https://github.com/project-serum/anchor/blob/e48f84c6bd7122a7d7744be2a9b25b7e8d2efc11/tests/ido-pool/tests/ido-pool.js#L592-L597

They hardcode the bumps.   What can i do to `new`a Bump ddynamoccally.  In that program, theres 4 tokenAccounts and thats hardcoded.  In mine, I want dynamic
Amazing. Thank you very much üòÑ
right now fees are for signatures. https://docs.solana.com/implemented-proposals/transaction-fees#calculating-feesthere you can call  fee calculators for things, but last I checked there was not yet a fee structure in place for actual compute - though this may be changing in the near future.  for cost in general, there are rent and fees, and you can call a fee calculator 

https://docs.solana.com/developing/clients/jsonrpc-api#getfeecalculatorforblockhash
no, not in this particular circumstance the way the code is written. all of these related functions are to derive an address, and in the case of the program, for a program.  [Remember]  any address you want to deal with should be passed in. All the information the program requires to process things, that it does not already have access to within itself, should be passed in. If your deriving an address, you still need to values used to derive it, either already in the program, or passed into the program, or both.  find_pogram_address is a helper that derives an address based on the program id and other seeds. 

there is nothing wrong with doing this, and can be a common approach. the addresses are being derived before hand, and passed to the program in this case to be created and or initialized.  

in the program itself you can take any appropriate action or do processing, like create the account with the address passed.  find_program address is often used in the client and the program, to find program derived accounts, and then in clients case, deserialize and or pass them to the program. 

again - stateless design - means you pass all data in that the program itself does not already contain, so this means virtually everything.  the program itself is not connected to a network in a way it can make classic network calls out to do things,  its an executable program, it can call other executable programs, and it can do processing when called. the clients are used to access off chain and on chain data, and pass whats needed to the program.  `think of a program as a self contained, self executing program, that only can process and use exactly what you give it.   accounts, data, instructions.`
If you had any info on that, that'd be amazing üòÑ
Hey, thank you for the response. I saw that, but i didn't know how much each compute credit actually costs in SOL
here is some related info on compute budget.  
https://docs.solana.com/developing/programming-model/runtime#compute-budget
that is not much context for why it could be failing. if your referring to the spl-token js library, this is a utility function, that has multiple method calls. you could try calling the methods inside yourself and narrow down what appears to be failing, and under what circumstances. if you can identify where or how you can attempt to fix it, and or provide more details and create an issue regarding the method. I would suggest debugging and logging what you can, create some findings, and share back here with some links to reproduceable issues and include source code.

if you look at the code for that function, there are only a handful of things that may be going wrong to truly get that error. Look in the token client js code to review the function and points of failure.
Hi, how do compute credits work? If a particular instruction takes 10k compute credits, does it cost more than an instruction with 200k compute credits? And where can I find the compute credits to SOL cost? Thank you in advance!
like  instead of `findProgramAddress` in javascript or ts, i can do `Pubkey::find_program_address` in rust?
i feel like doing it before i init seems like a bad idea?
So this ^ I can do without javascript and do it in rust
https://github.com/project-serum/anchor/blob/e48f84c6bd7122a7d7744be2a9b25b7e8d2efc11/tests/ido-pool/tests/ido-pool.js#L73
I am not sure why but it is not working also. Are RPC requests to devnet not working? I tried to get faucet but not happening anything. ```solana balance``` command too does not work on devnet giving me same error. I tried on two operating systems same thing
there's a faucet in the pinned messages for this channel
are devnet faucet available now? I have been trying from past 2 days
<@455114989397868556> we can‚Äôt find an answer to this (even when searching). Could you please help?

We randomly keep getting a ‚ÄúFailed to find account‚Äù error when running ‚ÄúgetOrCreateAssociatedAccountInfo()‚Äù

Transaction still partially goes through though: https://solscan.io/tx/3rPt7LEjttdJswZaF9whyHybEm9aGs88dTWKPCft47PrgFR53iGU4FmVxmaetCoAAaxp7agZRYRD21ytyAUfBUEz

When retrying the TX, it often times works. We‚Äôre a bit confused on how to properly handle this.
tryin to to use cli to transfer spl-tokens to multiple addresses ...  everything appears to be right... what am i missing here ...
iirc this is a planned feature, but at the moment you need to make sure your accounts are large enough for any future additions. 

if it‚Äôs a PDA you can update the account struct in your program, redeploy the program to the same address, close the old account then create the new account and add the ‚Äòold‚Äô data to it. assuming your program only owns one instance of this particular account type.
Not yet, for now it is fixed on the size you asked for when you created the account
I'm now having this weird issue where I expect the catch block to swallow the error, but the error is still somehow showing as uncaught, when I lookup a base account that does not exist:
```
  useEffect(() => {
    const provider = getProvider();
    const program = new Program(
      idl as Idl,
      programID,
      provider
    ) as unknown as Program<MysolanaappNader>;
    try {
      const getAccount = async () => {
        const account = await program.account.baseAccount.fetch(
          baseAccount.publicKey
        );
        // const count = account.count.toString();
        // if (count != 0) {
        //   setCounter(count);
        // }
        console.log("gettnig prvider");
      };
      getAccount();
    } catch (e) {
      console.error("error in use effect", e);
    }
  }, [getProvider]);
```
I'm wondering if somehow the ConnectionProvider from the wallet adapter is receiving this error first in an uncaught way. if so, how can I contain it in my catch block?
yes, it is. thanks for asking
Hi every one

Is there any way to determine devnet or mainnet from address? Is there any good way to do this?
Hi Team. Just wondering can I change the size of the account after creating it. Like my account hold list of 10 PUblicKeys... Now I want to save 12 Pubkeys. Can I do it or I have to create a new account.
Hi, is there a way of directly `state.serialize(account_data)` instead of:
```
let account_data = &mut *account.try_borrow_mut_data()?;
let state_vec = state.try_to_vec()?;
sol_memcpy(account_data, &state_vec, state_vec.len());
```
Is it working now?
`key.secret()` üòõ
How do I mint myself USDC in dev net, since I don't have the private key?
I think I found the solution here: https://github.com/solana-labs/wallet-adapter/issues/157
I also just saw that while I'm defining `const wallet = useWallet()` I'm using `wallet.connected` as a way to conditionally render either the button or logged in component and `wallet` is showing as an empty object. I'm following the tutorial here https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291/comments but it looks like it might be dated since I've already found some expired references like `getPhantomWallet`
Highly recommend going through a tutorial first as your question is extremely broad and nearly impossible to answer in a concise discord response.  Here's a great one that will explain the details to you: https://lorisleiva.com/create-a-solana-dapp-from-scratch
I create a keypair via rust langauge i.e let account = Keypair::new();. Then I get the public key of the newly created account. like this println!("new account address = {}", account.pubkey());  How can get the private/secret key ?
hello :3

does anyone know if there is some way or a site that let's one see the arb trades on solana (unsure of such thing exists)
Hi all, hopefully will get some assistance here:
I am building a transaction using the JS SDK. The idea is to build the transaction manually, get the serialized buffer and sign it with some custom EdDSA signer that I‚Äôm running locally.
I got to the point where I get the serialized buffer with tx.seriliazeMessage() however the problem is that my signer expects to get a hash message to sign and not a buffer. I tried to hash the buffer with sha512 and sign it but when I use tx.addSignature() and then tx.verifySignatures() I get verified = false.
Any ideas?
Hey, I am probably missing something super obvious here.

After this snippet of code, `contest_info_1` and `contest_info_2` aren't equal. Any idea why? I'm using borsh (de)serialization. Thank you in advance üòÑ 
```
contest_info_1.serialize(&mut *contest_account.data.borrow_mut())?;

msg!("The contest_info: {:?}", contest_info);
let contest_info_2: Contest = try_from_slice_unchecked(&contest_account.data.borrow())?;
```
hello. when I'm trying to use the wallet adapter from https://github.com/solana-labs/wallet-adapter, I seem to be stuck on this and was wondering how to fix it. One of the ways in which I deviate from the recommended setup is that I set my network to the localhost url: `  const network = "http://127.0.0.1:8899";` instead of devnet, testnet, or mainnet. thank you!
Had Dev/Fred DM me
Any luck?
When done, change back to mainnet-beta (`solana config set -um`)
No worries take these steps:
1. Change to devnet: `solana config set -ud`
2. Run balance: `solana balance` -> if 0 or error
3. `solana airdrop 2`
4. Run balance to confirm
5. Try the `spl-token create-token` again
6. Run balance again and calc the difference between balance prior to create
7. If all goes well, it would be a reasonable approximation of the create token cost... feel free to report back here so others may gain that insight!
keep forgetting to use reply my bad
ebel@a-ebel:~$ solana balance
0.051889136 SOL

Using this just as a test from what I understand that should be enough right?
Ok, first try `solana balance` to see that your keypair has enough SOL
solana config get
Config File: /home/ebel/.config/solana/cli/config.yml
RPC URL: https://api.mainnet-beta.solana.com 
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: /home/ebel/.config/solana/id.json 
Commitment: confirmed
Ok thanks!
Try the Anchor discord server
https://discord.com/channels/428295358100013066/517163444747894795/934577211749589062
The error above was my second error. I had an before saying it was behind 206 blocks or something along those lines sorry
Any help? I need to initialize and use the info in "instructions".
Yes
What network are you pointing to (`solana config get`)?
Tried to google it and looked through Reddit ended up being referred here.
Sorry if this isn‚Äôt the right channel. I‚Äôm just learning about Solana and honestly most crypto. So I‚Äôm trying to make a token and I have installed everything through the terminal (using Ubuntu) and when I goto put in spl-token create-token. After hitting enter and sitting for a few minutes it comes back with ‚Äúerror: parse error: expected RpcBlockhashFeeCalculator or RpcFees‚Äù
inside a program no. outside the program yea, you can use the rpc functions
Hey folks, is it possible check data that we stored into account if you have only Pubkey of this account?
(no, the account size didn't change)
any idea of what this means?
[2022-01-22T20:52:01.733855500Z DEBUG solana_runtime::message_processor] failed to verify account nPRgW7ayEFbf5CAYkWj3doHWq7f9kUVdUKraJk2ipAQ: non-system instruction changed account size
https://developers.google.com/youtube/v3/docs/subscriptions/list - figure out use this to detect new subscribers, implement logic in your on-chain program to let you tell it about new subscribers, and then call into this functionality whenever you detect a new subscriber to your youtube channel
nothing too magical i guess, but you'd probably be able to get something like that working assuming YouTube's API provides info on subscriptions in such a way
you could have a process that runs somewhere and continually calls into some YouTube API to check for new subscriptions to a given channel, and when a new subscription is detected you call into your on-chain program to let it know üôÇ
in other functions ect
can someone explain how can i return balfinal (solana balance) constant to use it elsewhere in code

That seems to be a YouTube question no?
Can i somehow make channel subscription event to be a transaction such that it reflects on the blockchain?
The only way a program runs on the chain is vis-a-vis a program instruction to do something, delivered by a submitted transaction.
Hello, is it possible to somehow run a contract on the blockchain based on some event from the off-chain world. I know Chainlink does something similar. But I am looking for a specific case of rewarding initial subscribers of my youtube channel with an NFT
Can someone help?
Can anyone tell us how the "instructions" work? How is the information in "initializer_amount" passed along for example, seems like magic tbh...
```#[derive(Accounts)]
#[instruction(vault_account_bump: u8, initializer_amount: u64)]
pub struct Initialize<'info> {```
Hi, I'm trying to create a mnemonic in an Angular / Typescript project to then create a wallet / keypairs from that mnemonic.

This code seems to work in other projects, but I always get an error:

`import * as bip39 from 'bip39';
console.log(bip39);

@Injectable({
  providedIn: 'root'
})
export class MnemonicService {

mnemonic: string = bip39.generateMnemonic();

constructor() { }

}`

Everything works fine until the line `bip39.generateMnemonic()`: The error: 

`ERROR Error: Uncaught (in promise): TypeError: Cannot read properties of undefined (reading 'call')
TypeError: Cannot read properties of undefined (reading 'call')
    at Hash.CipherBase (index.js:7:1)
    at new Hash (browser.js:9:1)
    at createHash (browser.js:29:1)
    at deriveChecksumBits (index.js:44:1)
    at entropyToMnemonic (index.js:127:1)
    at Object.generateMnemonic (index.js:145:1)
    at new LambdaService (lambda.service.ts:20:44)
    at Object.LambdaService_Factory [as factory] (lambda.service.ts:93:4)
    at R3Injector.hydrate (core.js:11158:1)
    at R3Injector.get (core.js:10979:1)
    at resolvePromise (zone-evergreen.js:798:1)
    at resolvePromise (zone-evergreen.js:750:1)
    at zone-evergreen.js:860:1
    at ZoneDelegate.invokeTask (zone-evergreen.js:399:1)
    at Object.onInvokeTask (core.js:28289:1)
    at ZoneDelegate.invokeTask (zone-evergreen.js:398:1)
    at Zone.runTask (zone-evergreen.js:167:1)
    at drainMicroTaskQueue (zone-evergreen.js:569:1)`


///////////////////////////////////////////////////////////////////////////////////////////////

All g.
Ok. Thank you so much <@!242234529396424704> I'll proceed here with my tests.
Using signature subacribe
And also you can choose to subscribe signature
Yes you will be able to
Good, but in the AccountSubscribe notification i can see the transaction signature related with the lamport change?
I'm trying to find a way to see all transactions related with a account
In the context of Pod structures, padding messes with the property of a structure being a Pod since padding is architecture specific
Should notify you on any lamport changes for the account
Accountsubscribe
Actually i want to be notified for every money movement related with this pubKey/account
Isnt logsubscribe for transactions?
Hey <@445425471027544095>  Was curious, in reprc and default repr rust there is padding due to alignment and type layout of the struct, that is why when we try to calculate size of a struct using men::size_of we get the size + padding, if so why do we ignore padding while calculating Len, isn't padding part of the struct and should be taken into account while serialization and deserialization, because if padding happens in the middle wdnt deseriization fail.
Yes sounds g.
Yeah that's true -- will try to keep it within a limit to prevent an infinite loop
You wouldn't want to pay the tx fees if it goes to 100 fail tx. Its minuscule amount. But if it occurs often, it might incur you some heavey losses.
thanks!
Hello i'm trying to use the logSubscribe method from Json RPC API. My goal is to watch all logs related to a publicKey.
I'm sending this requests, but i think it's not correct because seams that i'm receiving all events from testnet instead of only events that matches with this pubKey.

Could someone please help me to find what could i am doing wrong?

```
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "logsSubscribe",
  "params": [
    {
      "mentions": [ "11111111111111111111111111111111" ]
    },
    {
      "filter": {
          "pubKey": "DYJmmJugRu1YNW327knuYXWLXkm6rRH6zA9XXpDisBh3"
      }
    }
  ]
}
```
And try to check it manually
Notify yourself
Yep haha. Also after 4 or 5 fail tx
Better to learn here than waking up to an empty wallet XD
``sendAndConfirmTransaction`` def only crashes when a transaction fails though right? Because maybe it just didn't "confirm" or something, I'm not a Sol expert tbh
that's a good point
True maybe I can setinterval and only try 10 times for example, and give them a message to contact support otherwise
Instead of sending the tx immediately
Maybe setinterval everytime your tx fail and sent it again
Oh yes you can do that, but you need to pay the gas fee for those repeated tx
and then that Function gets triggered once per game
Yeah, user has to pay Sol first and win the game
Ye but is there condition for sending that sol?
Which is what I'm trying to prevent
I have an app but ``sendAndConfirmTransaction`` fails from my server like 5% of the time -- so in prod it means the user will randomly not receive their Sol 1/20 times
Then seems likely.
If its system program you are calling
True -- I feel like the issues would be the sol network being down (or not having enough funds) though right?
ü•¥
And you still have to pay gas fee even if your tx fails
If the issue is not fixed, it will create and infinite loop
But the thing is
It won't double send it.
whoops fixed the link
Can I do something like this?
 ```
function sendSol(args) {
  try {
    web3.sendAndConfirmTransaction(args)
  } catch(error) {
    sendSol(args)
  }
}
```
To ensure my tx gets sent? Or is it possible I will accidentally double send sol at some point?
Hey <@!768486252168216647> , <@!445425471027544095>, following up on anonymous tx on Solana:
We have open sourced our shielded pool implementation. The implementation includes a Groth16 verifier using bn254.
https://github.com/Lightprotocol/light-protocol-program
Happy for comments and feedback!
Cheers!
Jorrit
Hi, so if I want to make like million calls to my program, how do I handle it ?
Is it kinda like, you create and account and add authority to it, so its first grabs? once authority is set, even if someone triedto use it, they have no authority?
so there is no way for me to launch a token through a smart contract without creating the account for it first?
getting `Error: airdrop to 6QDgdEEMahKZGr2CEAfVhGJfK3EgxxphXww3eyWLGSpb failed: Internal error` when running on localnet - any ideas for how to solve?
because solana model store program in the account, different than other chain
I dont want to save onchain.  All I want to have is a log to identify top daily winners and give them rewards.
isn't this a security issue
this is the one thing i dont understand
do all acccounts need to be created before initializing?
I have program that require account from client, can i debug the program without client?

```rust
use solana_program::{
    account_info::{next_account_info, AccountInfo},
};
fn donate(
    program_id: &Pubkey,
    accounts: &[AccountInfo],
    _instruction_data: &[u8],
) -> ProgramResult {
    let accounts_iter = &mut accounts.iter(); //array
    let writing_account = next_account_info(accounts_iter)?;

    let donator_program_account = next_account_info(accounts_iter)?;
    let donator = next_account_info(accounts_iter)?;

    //console.log or debug the value of donator and etc
// i want to know each value, and the difference

    Ok(())
}
```
How do I run fn `donate()` from program? can help me with the steps? is it possible with solana-test-validator? 

perhaps I need to deploy the program first, and store the account, but it is same as like deploying, taking too many steps. What is the best practices to debug it? Afterall I  just wanted to see the value from those variables
Any typescript experts here‚ÄîI'm trying to change the behavior of the class `PublicKey` in `@solana/web3.js` so that the stringified JSON object becomes a simple Base58 representation in the form of a string, rather than the default `{ _bn: ... }`.
What do you gain by keeping losers on chain?
Thank you!  I will research Arweave, never heard before. 
Compressing data can be an option, I know there are Rust compression libraries, can I use them on chain? but what if there will be millions of  ticket sales (I wish) , not sure if compression can help. In addition I will need to maintain log of all the winners (and loosers  as well) so offline data storage still required.
You can use explorer inspect on local or simulate transactions
Yes
A lot of people store information on Arweave. You could also figure out how to compress that data
can i do something similar within a solana program?
wow
Single line https://solanacookbook.com/references/token.html#get-token-account-by-owner
is there an efficient way to get all the token accounts belonging to an address?
thank you, i have another question perhaps a bit more suited to this channel? I don't understand how the Solana Explorer/ Phantom wallet are able to display all my tokens so quickly, from my understanding it would need to find all the token account that I own?
To make debugging programs easier, developers can write unit tests that directly test their program's execution via the Solana runtime, or` run a local cluster that will allow RPC clients to interact with their program.`

hello running local cluster is `solana-test-validator` right?

but how do i debug the rust script? to show the logs
Asked this couple of days ago maybe I will have better luck with more new people online:
What are the best practices of storing big data offchain.  Let say its a lottery site where users will buy tickets.  I need to save all purchased ticket information until the next draw. Saving all this  data on chain will be expensive.  So where you recommend to save such information; IPFS, Filecoin, Storj? any other services?
I'd head over to metaplex for this question https://discord.gg/qjhQFAdS
can someone advise on how can I build a program function that can only be invoked by signers who own NFT belonging to a certain collection?... e.g. a claim function where nft holder of a certain collection can claim a certain amount of SOL...
Thank you, I got my answer here.
Hey guys, I am sending tokens with the code and for that, I am getting the token account from a solana address using this code 

```
const toTokenAccount = await token.getOrCreateAssociatedAccountInfo(
        toPubkey
      );
```

It is working good for most of the cases but it is failing for a few cases with following error. 

```
{
  errorString: 'Error: Owner cannot sign: 3D49QorJyNaL4rcpiynbuS3pRH4Y7EXEM6v6ZGaqfFGK'
}
{
  errorString: 'Error: Owner cannot sign: 4pUQS4Jo2dsfWzt3VgHXy3H6RYnEDd11oWPiaM2rdAPw'
}
{
  errorString: 'Error: Owner cannot sign: D43pUq6KkvaFueAZFMYvcHHyW1CNTMByPR5SjJV4NwTk'
}
```

What does this error mean?
Oh, thought you were just sharing. I don't know exactly what you're doing with your custom program
no i want to know how can i find publicKey address from escrowedMakerTokens or from solana blockchaine ?
pls help me :)))
When you confirm something on a network, you are making sure the transaction completed
oh alright, I thought confirming meant "checking if it went through" but I think it means something more
If you send the same signature multiple times, it will be deduped
the fear is double charging the user of course
Cool, thanks for sharing
If the transaction is not confirmed, you need to retry
Hi All,
i have code below so how can i find again offer.publicKey from escrowedMakerTokens
const offer = anchor.web3.Keypair.generate();
  console.log("offer : ", offer.publicKey.toBase58());
  const [escrowedMakerTokens, escrowedMakerTokensBump] = await anchor.web3.PublicKey.findProgramAddress(
    [offer.publicKey.toBuffer()],
    program.programId
  );
  console.log("escrowedMakerTokens", escrowedMakerTokens.toBase58())
thanks
I actually think I have never had the tx be processed if I get this message - so the user never sends money.
So I guess I could just assume the tx failed and ask the user to retry?
Yes
Basically a Mint is the metadata and can run functions, but not meant to hold actual tokens?
and then after the creator of USDC Mints the MintAccount, they then create an Account to hold token, say if they wanted to?
Mint has who can mint more accounts, yes
and each Mint, say usdc mint, has an authority who can mint from the mint account?
USDC mint account is the mint that hold all the information on the token(mint authority, freeze authority, decimals, etc). Token accounts are what actually hold USDC tokens
USDC is a mint, and then the Account holds the USDC tokens?
the mint account can mint more tokens as long as the proper authority exists. Mint account mints to token accounts
The creator of USDC for instance
I mean for the token itself
There's a mint account that has the token info, then associated token accounts that hold the actual tokens
and then the Account holds the Mints tokens?
hey so Mint is the actual token right?
thank you, I will take a look into this.
I was thinking of checking the "confirmTransactionInitialTimeout" connectionConfig setting as well
There was a lot of network congestion recently. I'd check out https://solanacookbook.com/guides/retrying-transactions.html for more information
Not sure
<@!909887107529605150> As you know, what you see in the program data area is the BPF byte code. You can disassemble that to BPF source code (similar to assembler mnemonics) but currently that is the best you can get. I've yet to see a BPF->Rust disassembler
<@!489206164270350337> ahhh! thank you! Do you know if it will ever be made available? i.e. the native program on the main cluster / if CPI can call it?
I get this error very frequently in production, when I try to do phantom wallet transactions from my app's client.

Does anyone else have this issue?
Check this out https://discord.com/channels/428295358100013066/517163444747894795/933747601382207498 Looks like you can't CPI it
<@!489206164270350337> thank you I have now printed out the logs and the error for the native program is 
```
"Program failed to complete: Program Ed25519SigVerify111111111111111111111111111 not supported by inner instructions", 
```
what does `inner instructions` refer to here?
Thanks!
Not sure on how the rust decompiler works, but you can program dump anything on chain and check it out
<@!489206164270350337> you mean I can give the bytecode I see on explorer.solana.com to the decompiler? Isn't a Rust decompiler supposed to decompile from an executable like an exe?
Ultimately it is just rust
<@!489206164270350337> I cannot give Solana bytecode to a Rust decompiler (or can I?)
Also I believe you can inspect them via the explorer https://explorer.solana.com/
You can simulate the transaction and print the logs
You could just use a rust one. Good luck reading it though
hey <@!489206164270350337> ! thanks for getting back! 
They are not available on the `solana logs` program stdout, please let me know where to look for them.
Hello, is there anything like a Solana contract decompiler?
What are the 5 log messages?
Hi! I am trying to invoke the native program `Ed25519SigVerify` from an onchain program but have not be successful. I am testing it on `solana-test-validator 1.9.4`
I have compared the `Instructions` from directly invoking the native program from the client to the one used in `invoke()` from the onchain program and they are the same. Directly invoking from the client is successful.
This leaves me to think that it is in the invoke or some computational budget issue? 
```
// onchain program 
...
        let native_program_account = next_account_info(account_info_iter)?;
        invoke(
            &i, // is the instruction that matches a successful direct invoke from the client
            &[native_program_account.to_owned()],
        )
```
where the `native_program_account` is passed in as 
```
    let ed25519_program_id = solana_sdk::ed25519_program::id();
    let native_verify_account = AccountMeta::new_readonly(ed25519_program_id, false);
```
The Error message is hard to debug as it does not say much. 
```
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: Program failed to complete [5 log messages]
```
I have tested that without calling `invoke` the onchain program executes without any problem. 
Any help will be appreciated! thanks!
Ok thank you, will try to check these! So weird I got banned from the main one
yes
Do you use these with the JS web3 api as well?
I believe genesysgo has their full rpc for free right now, but you'd have to reach out to them
You could check with the many rpc providers -- rpcpool, triton, genesysgo, quicknode, etc
Or what's best practice for a small production app?
How do I get a private RPC?
I would either get a private rpc, or find a public one that you're not banned from
rpcpool will eventually track you for not being the trashpandas, and ban you outright
Maybe I have a bug looping the requests or something but it's the first time I try this in like 24h
That's odd I don't think I've been doing many requests and it's just a dev app used by me atm
<@!202739061796896768> can you try once
yes but https://trashpandas.rpcpool.com/ is working and not rate limited at the moment
You'll likely get rate limited and banned if you change to someone else's rpc. You either need your own or not hit the rpc as much
You're being rate limited. Stop hitting the rpc so hard or get a private rpc
THIS might be because of many user's requestiing in api.mainnet-beta.com can you change it to https://trashpandas.rpcpool.com/
Thanks, appreciate it.
```
Server responded with 429 Too Many Requests.  Retrying after 500ms delay...
Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 4000ms delay...
```
I get this whenever I try ``connection.getTransaction(transactionId)``

Is anyone else getting it?
So, lets separate a few things:
1. There is a transaction fee (a.k.a. gas): https://docs.solana.com/implemented-proposals/transaction-fees#calculating-fees
2. There is rent paid for accounts, based on the amount of strorage :`solana rent SIZE_IN_BYTES` note that no addition bytes cost can be calculated too: `solana rent 0`
3. BTreeMaps can be used but at that size you would likely use up what's called Compute Units serializing and deserializing that structure. For scale, use PDA
Ultimately I'd like to be able to confirm that an address belongs to a specific nft collection but I can't seem to find a way to do that...
Thanks Frank, I'm just coming over from EVM land. 

I‚Äôm trying to verify that our signer holds one of many nfts before allowing them to perform specific functions. Was thinking of using a hash map but apparently that‚Äôs not something we do in Solana???

So I thought I‚Äôd add the addresses to an array, check the existence of the public key in that array, then confirm that the signer owns the nft before letting them continue.

I‚Äôm also wondering if the contains function will incur a high gas fee for the transaction also? Not sure how gas fees are calculated...

I‚Äôve also heard that Program derived addresses are good to use for this type of thing but I haven‚Äôt ventured down that path yet.
That gets me `{"jsonrpc":"2.0","result":[116640004],"id":1}` which looks plausible (i.e. 4 missing slots at start of epoch) - thanks!
Is there a standard or existing way to lock and free SPL?
can you check this out 
curl -s -H 'content-type: application/json' -d '{"id":1,"jsonrpc":"2.0","method":"getBlocksWithLimit","params":[116640000,1,{"commitment":"finalized"}]}' https://trashpandas.rpcpool.com/
Trying to get the epoch boundary block and I'm getting this```$ curl -s -H 'content-type: application/json' -d '{"id":1,"jsonrpc":"2.0","method":"getBlocksWithLimit","params":[116640000,1,{"commitment":"finalized"}]}' https://api.mainnet-beta.solana.com
 {"jsonrpc":"2.0","error":{"code": 429,"message":"Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": 1 }```
I've tried this as a one off request on a server that I don't use for Solana development / API queries and I'm still getting the 429 error.
Any ideas?
hi team  i got this error message can anyone help me solve this issue

Error: Deploying program failed: Error processing Instruction 0: account data too small for instruction

I know we can use new program id to solve this issue but can anyone help me to upgrade my program in the same old address üò¶
You can store up to 10 MB data in program owned account so I assume you mean id's are pubkeys? (32 bytes each) x 5000 x 2 = 320 K bytes and rent exemption is 2.22809088 SOL
If your provide more about your use case there may be other, albeit slightly more expensive, approaches
if we deploy as a new program it works but i need to deploy in my old program id
Hey there, I'm looking to store 2 x array of 5000 id in a program account, is this too much storage?
anyone in the community please help ?
Not sure it's possible to resize an existing program account :/
hi team  i got this error message can anyone help me solve this issue

Error: Deploying program failed: Error processing Instruction 0: account data too small for instruction

I know we can use new program id to solve this issue but can anyone help me to upgrade my program in the same old address üò¶
Am i right to think that SPL balance is stored in 1 account per token holder instead of simply a address to balancer mapper in ERC20 token
You didn't specify the path to the config file you create
anyone know what string not specified means?
whats the appropriate way to calculate how many `TransactionInstruction` i can fit in one tx for example for a transfer of lamports
So for the issue I had earlier it was because  solana/web3.js v1.32.0 has breaking changes and bugs. It was being auto upgraded when pushed to heroku. reverted back to version 1.31 and it fixed the issue
https://discord.gg/JgVgQ82erk
Could I have link to anchor discord? I cannot find it
ah! havent found anything to indicate they expose it yet
Then I would recommend checking on the anchor discord.
Not sure if wallets expose that.
Ah you want asymmetric encryption?
there is not
no <@!590982495923732511>
Is there a `target/idl/program.json` file?
Yes, I could be wrong, to me it looks like the message is not encrypted and decrypted only a signature is proven
Here is my situation..
I deploy my own program on devnet
Yeah I did read it?
Sorry did you read the link I sent?
I deployed program successfully. But I can not see any idl file generated in target folder
Thanks, I'm looking to encrypt and decrypt the actual message through wallets knowledge of secretkey. This looks like it focuses on the signature only?
yeah I re-deploy program on devnet
But not all programs do this.
The program author must deploy the idl on-chain.
Correct.
Yes.
I tried to fetch idl but it not works
I understand that before fetching idl using anchor, programID's writer need to do something with that idl first
is the wallet json the keypair that was generated?
Can you check the docs I linked?
I think idl generation is a separate command.
yeah without errors
Did build finish with no errors.
Thanks much appreciated.
When I use anchor build, I dont know why there isn't idl file generated. Please help
Yes, see https://github.com/solana-labs/wallet-adapter/blob/master/FAQ.md#how-can-i-sign-and-verify-messages
Any way to ask wallet to use private key to encrypt/decrypt a message?
If you still have questions the please feel free to ask.
I would recommend going through this first https://solanacookbook.com/
thanks <@!590982495923732511> can you tell me the difference between associated token account and normal token account?
You can't.
k thanks
Hi how can i delete token from spl-token?
You really need to go through the basics of solana and candy machine if you are going to see this through.
Try posting in the candy machine channel in metaplex, there are some more people there now.
is there someone else who can react to my question?
That has everything you need already filled in.
i mean with filled in thingsa
That is the example.
is there anyone else i can talk to?
well probably when i see it i can look at is and i will understand
Yes, see https://github.com/solana-labs/wallet-adapter
If you don't know the difference then an example won't help.
`ts-node js/packages/cli/src/candy-machine-v2-cli.ts upload -e devnet -k "id.json" -cp "config.json" "assets"`
ohh nice man thank you so much . that is my solution
because i dont know path to wallet json or path to config json what is the difference
Any official lib to work with Phantom wallet on Angular?
Hi guys, i am getting this error on my AWS instance Error: 403 Forbidden:  {"jsonrpc":"2.0","error":{"code": 403, "message":"Your IP or provider is banned."}, "id": "98112384-9407-423b-a940-1ec557994742" } ` 

it seems to work fine on local, but never used Solano before, so can't be "blacklisted"?

anyone else run into this problem before?
<@!590982495923732511>  can you please make an example filled in of this ? KartikSoneji ‚Äî Today at 12:16
ts-node js/packages/cli/src/candy-machine-v2-cli.ts upload -e devnet -k "path to wallet.json" -cp "path to config.json" "path to assets folder"
Hmm I am not sure if that is necessary but see https://solanacookbook.com/references/keypairs-and-wallets.html
no i want say a hierarchical-deterministic (HD) wallet generates a new key pair from a master key pair for each crypto transaction to enhance privacy and security.
You want to create a hardware wallet?
anyone have idea how to create hd wallet on solana using node js or python
You can use the recentblockhash to generate a psuedo random number but iirc it's deterministic.
because im very confused at this point and i lost oversight.
i dont want to be in a you did you didnt discussion. 

Can u perhaps help me fill this in ts-node candy-machine-v2-cli.ts upload -e devnet -k <path to keyfile> -cp <path to config.json> <path to assets> -c <cache file name>
Okay. Any other way I can do it? I just want to try out.
go in general and support there
I don't want to spam the chat here.
I am on that channel and don't see your message.
thanks though
yeah they arent reacting
Please, ask on `#candy-machine` in metaplex.
yeah
You might want to try the anchor discord too.
yeah and i dont understand so please help üòõ
thank you <@!590982495923732511>
It is explained here.
https://project-serum.github.io/anchor/cli/commands.html#idl-fetch
Interface Description Language.
yes it is an anchor program
what is the "idl"? <@!590982495923732511>
If it is an anchor program then you can look at the idl.
No.
That is very clearly explained in the docs, and the guide.
You are not passing the correct command line options.
Hi there, I wonder how to determine Error meaning with Error code. 
Error code sometimes is a hex with value larger than number of Error defined in Error.rs file so I think that Error code came from that Error.rs's dependencies.
i see everywhere that people are running into the same problem.
There isn't a good way to generate non-deterministic random numbers on-chain in solana yet.
That is something to do with storefront, please ask on the metaplex discord.
Try this then https://hackmd.io/@MarkSackerberg/candyV2
How can I generate random number using solana block time? And in which other way I can generate random numbers on solana?
it's either this message when transacting or `Transaction may fail to confirm`
hey everyone! i've created a metaplex storefront and i'm trying to test it on the devnet. when i try to reclaim tokens i've auctioned, i get the error `Transaction failed: Error: UninitializedAccount`. my devnet wallet has enough SOL in it to complete the transaction. has anyone experienced this before? and if so, what steps can i take to overcome it?
haha thanks. but i wont be asking if i didnt already. thanks for the help though
Hmm and can you check if port 8001 is not blocked?
Please read the docs https://docs.metaplex.com/candy-machine-v2/introduction

im trying to make a candymachine
yes, it's still
anyone know what this means?

I would like to use a rust library that is a C bindings in Solana.
First Solana is triggering a `cmake` command and it fails right there.
I am cloning the repo and creating a build folder
```
git clone --recurse-submodules https://github.com/nmandery/h3ron.git
mkdir h3ron/build
cd h3ron/build
```
I export the path to lld and run the cmake command very similar to solana's command (I added `-v -fuse-ld=lld` ) why is solana missing this one argument? it seems it needs solana's `lld` and not the system `ld`.

```
export PATH="/home/pc/.local/share/solana/install/releases/1.9.4/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/:$PATH"

"cmake" "../h3ron-h3-sys/libh3" \
"-DCMAKE_INSTALL_PREFIX=./h3ron-h3-sys-df478ba73015eab9/out" \
"-DCMAKE_C_FLAGS= -ffunction-sections -fdata-sections -fPIC --target=bpfel-unknown-none -v -fuse-ld=lld" \
"-DCMAKE_C_COMPILER=/home/pc/.local/share/solana/install/releases/1.9.4/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/clang" \
"-DCMAKE_CXX_FLAGS= -ffunction-sections -fdata-sections -fPIC -v" \
"-DCMAKE_CXX_COMPILER=/usr/bin/c++" \
"-DCMAKE_ASM_FLAGS= -ffunction-sections -fdata-sections -fPIC --target=bpfel-unknown-unknown -v" \
"-DCMAKE_ASM_COMPILER=/home/pc/.local/share/solana/install/releases/1.9.4/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/clang" \
"-DCMAKE_BUILD_TYPE=Release"
```
The error:
```
Target: bpfel-unknown-none
Thread model: posix
InstalledDir: /home/pc/.local/share/solana/install/releases/1.9.4/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin
"/usr/bin/gcc" -fuse-ld=lld -rdynamic -o cmTC_26933 CMakeFiles/cmTC_26933.dir/testCCompiler.c.o
ld.lld: error: CMakeFiles/cmTC_26933.dir/testCCompiler.c.o is incompatible with elf64-x86-64
collect2: error: ld returned 1 exit status
```
Note: The system ld would generate this error `/usr/bin/ld: unknown architecture of input file CMakeFiles/cmTC_5c450.dir/testCCompiler.c.o' is incompatible with i386:x86-64 output` 

any idea?
For example, I know the token Metadata program bends over backwards to keep the schema Borsh compatible.
Thing is a lot of programs have hand coded serialization/ deserialization implementations to ensure the fixed lengths.
If it is a Vec, yes, String, yes, And any other dynamic collection (i.e. BTreeMap) but other than hand coding (which may compete w/Borsh on CU) it's convenient üôÇ
Also it does encode the length of strings either way.
Correct, but most programs use fixed length vectors for convience operations like push and pop.
But it doesn't encode a length for a fixed array (fixed size)?
```typescript
  const value = new Primitive({
    U8: 255,
    U16: 65535,
    U32: 4294967295,
    // FIXED_STRING_ARRAY: ["hello", "world"],
    // ARRAY_OF_STRINGS: fruits,
    FIXED_U8_ARRAY: [1, 2, 3, 4, 5],
    // MAP_STRING_STRING: map,
  });
  // Define our schema
  const schema = new Map([
    [
      Primitive,
      {
        kind: "struct",
        fields: [
          ["U8", "u8"],
          ["U16", "u16"],
          ["U32", "u32"],
          // ["FIXED_STRING_ARRAY", ["string", 2]],
          // ["ARRAY_OF_STRINGS", ["string"]],
          ["FIXED_U8_ARRAY", ["u8", 5]],
          // [
          //   "MAP_STRING_STRING",
          //   { kind: "map", key: "string", value: "string" },
          // ],
        ],
      },
    ],
  ]);
```
Value =  Primitive {U8: 255, U16: 65535, U32: 4294967295, FIXED_U8_ARRAY: Array(5)}
Buffer(12) [255, 255, 255, 255, 255, 255, 255, 1, 2, 3, 4, 5, buffer: ArrayBuffer(8192), byteLength: 12, byteOffset: 6448, length: 12]
Does that work?
Can you try pinging the entry point?
who can help y
yeah im getting the same error and as i said. im not getting a reaction from that server
But as I said, please try to keep candy machine questions in the metaplex server.
`ts-node js/packages/cli/src/candy-machine-v2-cli.ts upload/.config/solana/devnet.json`
im supposed to make a candy machine but the command is wrong 

ts-node ~/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts upload/.config/solana/devnet.json
can anyone please help me ive been stuck on this error for a while not
Hey guys! I work at an early-stage VC Antler. If you are building in web3 and you are looking for funding, mentorship from Solana / Polygon, or co-founders, let me know. I am dropping our application link here as well: https://www.antler.co/web3?utm_campaign=Solana-Tech&utm_source=Discord&utm_custom[email]=. If you have any questions in regards to this, always happy to help!
iirc was meant to be Borsh compatible?
But Token isn't Borsh
Borsh really needs to get smarter about fixed length layouts.
Yup.
For the Token encoding.... which is old.... they also use 4 bytes for COption encoding when 1 would do
Did you know each token account uses 4 bytes for one boolean?
Sure, thats up to them and their business model....
I am saying since people don't care about 3 extra bytes that will never be used I don't think they will care about 1 that actually does have some use.
Yes, but you suggested adding 1 byte to the structure
 https://discord.com/channels/428295358100013066/517163444747894795/935110707056369794
Aka string and vector.
Borsh prefixes a u32 length before each variable size container.
Vector? a `u8` is 1 byte with borsh
So I'm not sure they are too concerned with storage efficiency.
Although most programs use Borsh, which insists on wasting 3 bytes for each string and vector.
Correct.
So, in effect, modulo batches. That works to if the order suits with a slight increase in rent exemption of 0.00000696 X number of accounts.
Then while calling getProgramAccounts, add a memcmp filter with a shard value from 0 to 255
When you create an account, do:
```rust
account_data.shard = global_shard_counter++;
global_shard_counter %= 256;
```
When i run validator with --entrypoint 'entrypoint.testnet.solana.com:8001 it cause Failed to contact cluster entrypoint 35.197.53.105:8001: connection timed out. Unable to determine the validator's public IP address
Can anyone explain? Thanks.
So in the account data layout, you can have:
```rust
struct Account{
  shard: u8;
  ...data
}
```
But filtering is fixed, no ranges if that is what you mean? Otherwise, üòé , what do you mean?
If you plan ahead you can have a shard variable in each account that increments % 255
I'm suggesting that they keep all program owned account keys off-chain. Or, if possible, use only off-curve accounts (PDA) that you could regenerate. Data vs. Function.
For now, and until pagination is added, you've got to be creative.
It's not a perfect split but if you do this with pubkey data then it's not that far off.
So first query for all accounts that have the first byte as 00, then 01, then 02, etc.
I would recommend using other bytes to essentially shard your data.
I think they are asking for a good way to paginate data.
The rpc doesn't really have a fixed ordering for getProgramAccounts so getting a slice is difficult.
yes using max-len also didn't work only thing we can do is create new program id may be <@!788215642070581289> and <@!445425471027544095> may help us
Can't really say anything without seeing the code.
I have the same issue when deploying a program that exceeds a certain size to solana-test-validator. Would be happy to know the answer too.
You need to read about spl token program. CreateAssociatedAccount() and Transfer()
hi guys, looking for someone for a peer review of solana program while i wait for audit, anyone interested? dm me
Have you tried putting brackets at the end - e.pubkey.toBase58()
I've used it several times before in production but for some reason it's tripping now?
works fine in development but get that error when it's pushed to production on heroku
e.pubkey.toBase58 is not a function
Getting this when using phantom with react
Dm me
Does anyone know about this?
Query twenty at a time
<@!856894333180706876>Hello, Are you available to help with sending an NFT from one account to the other using python? I can pay for your time
hi team  i got this error message can anyone help me solve this issue

Error: Deploying program failed: Error processing Instruction 0: account data too small for instruction

I know we can use new program id to solve this issue but can anyone help me to upgrade my program in the same old address üò¶
If you are talking about setting up your own ledger vs running solana-test-ledger that is a different question and perhaps someone here can answer that has run their own ledger how configurable it is
https://docs.solana.com/running-validator/validator-reqs
let say about a `localnet` of 2 nodes, Node1 holds the full ledger and Node2 with `--limit-ledger-size` and `--rpc-port` enabled. When I access the JSON RPC of Node2, will the Node2 retrieve the full history from Node1 or just responses the cutoff data it owns?
I awoke after some bad Couscous with intense stomach cramps. I could feel a ball of couscous and undercooked chicken forming in the pit of my stomach and could tell it was not going to be pretty coming out. I waited till morning to go to the bathroom, and as soon as I sat down on the crapper and pushed, I felt the most intense pain in my blocks. Like it was being pulled apart from every angle. My girlfriend and her husband, who I had woken up by screaming, was now banging on the bathroom door thinking I was dying.
The worst part was that I couldn't exactly pinch this bad boy off, as the seal had been broken and my validator was now severely compromised. So I pushed through the pain, and could feel the ripping worsen with each push as this dry, fibrous monster made it's way out of my consensus. After about 18 hours, I minted a block to Solana
I'm only talking about `localnet`, not `devnet`, `testnet` or `mainnet-beta`
Depends on what cluster you are pointing to as defined in `solana config get`
Won't the RPC node of my validator provide the full history anymore or it will retrieve the full history from other nodes?
`const pkey = new PublicKey("BASE58STRING")`https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#constructor
Are you talking about `solana-test-validator`? If so, you need to realize that the `--limit-ledger-size` may indeed 'clip' the size of the ledger and, hence, you may lose history. This only effects the test ledger on your local machine.
hello! Does Solana have the concept of chain ID with its wallet like with EVM based chains?
I'm literally using `getSignaturesForAddress` right after without issues...but every time i try to get transaction, even with just a single request after a long period of time, 429...
hey guys any help would be appreciate here...I can't fetch any transactions atm using web3. `getTransaction`, `getParsedConfirmedTransaction` and `getParsedConfirmedTransactions` all trigger 429, meanwhile any other endpoint works
hello everyone,how can i sign a transaction offline? any examples on that would be of great help
https://solanacookbook.com/references/offline-transactions.html#sign-transaction
i checked this out but how does work or would work, any explanation on this topic would be very much appreciated
but I shouldn't be getting rate limited, it's the very first request I'm making and I immediately get 429'd
Hi! üôÇ I found Solana's token-swap implementation on Github, and it says it's already deployed on the mainnet.

So, I'm a bit confused: is there a website to go to? Are we encouraged to build the front-end only? Or are we encouraged to download the repo, modify it, and deploy our own program? üöÄ
<@!788215642070581289> <@!445425471027544095> can you help me with this
How do I decode base58 string into `Pubkey` in `@solana/web3.js`?
looking for someone who can get help market NFT project on a commission basis

Reach out to me here https://twitter.com/chopcoding
seems a bit tricky to impelement, an alternative structure would be that an account gets created off of the main "treasury" account and money is sent there, then token holders can claim from that tresury
Has anyone implemented a generic "dividend" type of program where solana accumulates in an account and then gets distributed according to holders of a token according to % of the total supply the account owns?
Can't build the example-helloworld program after adding a library that is a simple C bindings: https://github.com/nmandery/h3ron/issues/30
This should be fairly common I would think... Couldn't find a program out there that does it.
adding --max-len won't solve the issue üò¶
Does any token-vault smartcontract experienced hacking?
thanks
hi team  i got this error message can anyone help me solve this issue

Error: Deploying program failed: Error processing Instruction 0: account data too small for instruction

I know we can use new program id to solve this issue but can anyone help me to upgrade my program in the same old address üò¶
If you find out please post in here
Ok so I managed to get my test token up and running and recognized by wallets.  I am running Ubuntu off a second SSD in my laptop just for reference. If I were to say have to do a clean install of Linux or lost access to the computer in general. Would there be away for me to retrieve the token account so I could resume minting. I'm asking this on the assumption that if I were to format my SSD and reinstall Linux I would no longer be able to mint my token or access the account.
maybe https://github.com/Bonfida/token-vesting
no. you need to pack all accounts you need into tx before you send it.
Hi experts, if I add my validator a "--limit-ledger-size", will I be unable to check out the full history of some accounts from the RPC endpoint?
Anyone have creative solutions for doing large dataset pagination via the js-web3 library? If I have thousands of accounts and want to show 20 at a time without querying all of them, what's the best way?
does anyone have reference about token-vesting smartcontract?
not really that familiar with linux and i'm using WSL for the first time
trying to anchor build and getting some issues, error: not a directory: '/home/dylan/.local/share/solana/install/releases/1.8.14/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust/lib'
but no debug message was ever printed
i am having some disconnect issue with the subscription method
any ways i can enable higher log level of solana/web.js?
hihi solana dev
The same thing is happening with "getTransaction" which isn't deprecated.
creating accountinfo using key inside onchain program is possible?
try `spl-token accounts -v`
there are two different accounts in token program, mint account and token account.
I guess you use a mint account to burn token
Thanks. But it should be a token account, I get the token from command "spl-token accounts".ü§î
Hello, I'm looking for a tutorial or example that shows how to query BigTable for historical tx data. Anybody know how to go about doing this? The docs explain that this is possible but I'm not sure about how to go about it. https://docs.solana.com/implemented-proposals/rpc-transaction-history#accessing-bigtable (I've asked in <#428295358100013069> and someone suggested I ask here).
depends on the error message, I think you pass a wrong account.
the main idea is that you need to pass a token account into it instead of a owner address.
a token address and a sol address are different accounts.
the more detail is in the`spl-token burn --help`
as D Money says, you can use getTransaction if you have txhashs. 
also you can use https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
to fetch tx history by a address.
if you use official endpoint, there is a rate limit. https://docs.solana.com/cluster/rpc-endpoints
not sure what did you mean about accessing. you can always get the same result with same input via `createWithSeed`
anyone know of any solana nft staking dapps? was looking at gem farm but the ui and frontend is not to my liking and frontend dev isn‚Äôt my strong suit
hi, I would like to burn the token. But not success, I would like to ask what should I do? thanks in advance.
https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
Good evening,

What is the best method (json rpc api) for looking up transaction from a nft address?
I'm assuming because it processes transactions in batch and solana is overloaded rn, it just doesnt like it
can the new account be accessed via seed/keypair after it is created?
fires a 429 after trying once
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedConfirmedTransactions
Having issues with :
if the input is not different the output will not be different. you must change some part of an input to change some part of the output.
is it possible to create multiple accounts from the same seed/keypair with SystemProgram as the owner?
https://solanacookbook.com/references/token.html#associated-token-account-ata
there is only one file which has all the code, and I don't see those anywhere/first byte is not declared/referenced as far as I see
that's what this part refers to
how is the instruction.rs set up on the program?
I believe traditionally the first byte is used to indicate which instruction to run
When sending a custom token, how can I create the associated token account for the recipient if they have never received that token? I can't find any documentation for it
Thats what I am using, just having a bit troubles with instruction part
looked at this yet?
https://docs.solana.com/developing/clients/javascript-api
Looks like its not
is it written using the anchor framework?
I have smart contract code
Did you write the contract yourself or are you reverse engineering the interface of someone else's?
I thought the same, was reading this a minute ago
https://docs.solana.com/transaction_fees
Interesting. I wonder if that's guaranteed to always be 5000 lamports or if there's a mechanism to change that down the line if it needs to be changed for whatever reason (or if there's a way to reason that it never needs to be changed).
if you're using anchor there's good documentation
It's some custom one, but since there are no proper doc's on interacting with anything more complex, I am bit stuck
What contract r u interacting with
Is there really no proper tutorial on instructions and how to interact with smart contract???
~~probably this~~
~~https://solana-labs.github.io/solana-web3.js/interfaces/FeeCalculator.html~~
On further inspection, this doesnt seem to be it, everything I find is saying 5000 lamports
In javascript, what's the best way for me to figure out the cost of a transfer? I have a temp wallet in my application that I want to drain at the end of the process, and when draining I need to account for the fee. The fee seems to always be 5000 lamports, but I'm not sure if that's guaranteed, or if there's a different way I should be figuring that out dynamically.
can anyone help with Front End instructions writing for smart contract interaction?
Airdrop request failed. This can happen when the rate limit is reached. Why I got this if I use solana-test-validator? (solana airdrop 1)
Thank you
https://solfaucet.com/
J26yfkhmDzGD3jAJPQ58taVu5TKYAxQtkELNTFkVXkYn
Can someone please send me 10 sol to my devnet
ah makes sense
using all the signatures
you'd do  this https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedConfirmedTransactions
like determining the total amount of royalties earned from NFT sales from solanart, etc
account history extraction for accounting purposes
I cant think of a use-case for it of the top of my head
what are you using it for btw? If I may ask
must be very recent
yea I found that as well, that's why I'm sharing it üòõ
<:worriedcry:615396682154377216>
doesnt show deprecated on the js docs
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getConfirmedSignaturesForAddress2
lol
https://docs.solana.com/developing/clients/jsonrpc-api#getconfirmedsignaturesforaddress2

gets immediately blocked with a 429
just a single request `getConfirmedSignaturesForAddress2` over `@solana/web3.js` for a specific address
what requests are you making to it?
it's the public mainnet-beta rpc
could be overwhelmed
or it's rate limiting you, to prevent getting overwhelmed
seems to be an issue with `getConfirmedSignaturesForAddress2`
on a single request
but it should not be hitting 429
and yes it's auto retrying
I mean these are my logs
then I'm guessing auto retry is set somewhere, as noted by the logs
just one üòõ
this is me doing a single request on my local app

same
Can someone help with knowledge of writing instructions on Front End, I just got quick question?
Even if i wait 15s after 'completed' event it doesnt work
ahh thanks for the info
Throughput less than stellar past few days: https://solanabeach.io/
Currently when doing a single request to the mainnet-beta RPC node, I'm getting at 429 error (too many requests). This just started today for me. Anyone else experiencing this lately?
im supposed to run : npx ts-node js/packages/cli/src/candy-machine-cli.ts upload ./assets --env devnet --keypair (PATH) and i am changing it to my own information. But it doesnt seem to work. Please help me ive been stuck for hours
even though I'm listening to the 'Root' event
I'm getting a 'block not availible rpc error'
Hi all
is there any proper tutorial on writing instructions (FE/@solana/web3.js) for smart contracts? Or can someone help me out a bit?
i did solana address --config <config path> --keypair <key path>, but when checking the address it says signature is missing
okay
See tutorial I linked to a couple of messages back
Or you can specify the path to a specific keypair file.
Is there any good tutorial for how to use this? (not a video)
CLI is going to default sign with whatever keypair you have specified in ```solana config get```
I tried but couldn't find an answer
While the Solana programs themselves are in rust. you can interface  via Javascript libraries, Python libraries, etc.  Good intro tutorial here: https://lorisleiva.com/create-a-solana-dapp-from-scratch
Does anyone know how to supply the missing signature for supplied pubkey on CLI
Sorry no, but did you try searching this channel... I believe others may have asked/answered
<@!814228493302497301> , do you know how I could get a list of staking accounts for a specific address using web3.js please ?
thank you
https://solanacookbook.com/references/accounts.html
does anyone know how to create a new account/address from a given key using web3.js?
yeah the metaplex server is very slow
The Solana Programs that are deployed on chain are compiled from Rust code, yes.
However; the client code that interacts with Solana system and programs can be written in many lanaguages:
TS/JS
Python
Rust
Swift
etc.
See here for SDK list: <#763249718339567626>
https://discord.gg/peymAWZ5
Go on Metaplex discord, you'll get more help
Sorry, I can't help more then, I don't know much about Windows
the api is giving me cors errors suddenly, is anyone else having these issues?
whats wsl?
windows yes
or are you using WSL ?
yes but are you running all of this in windows ?
like this?

wait
oo ok
depends on where you have checkout metaplex on your system
Could be /var/www/metaplex for instance
The full path is the path to get to the metaplex folder from the root of your system
sorry im so confused at this point
what u mean full path
Hey guys, What typically causes the RPC 502 Bad Gateway responses from https://solana-api.projectserum.com?
Does anyone has any idea on how I could get a list of staking accounts for a specific address using web3.js please ?
My pleasure !
Oh okay. Got it. Thanks
thats what i put?
But you should try to get help on Metaplex discord instead of here
ts-node /full/path/to/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts --help
ts are Typescript files, js are Javascript files (compiled from Typescript)
We use these files to execute some high level scripts which are most of the time relying on Rust on a lower level or the web3.js library
Working in solflare, sollet, problem only in phantom

Has someone had similar problem? Transactions works, but phantom shows: Unable to fetch balance changes
ok so what do i type exactly to make it v2?
oh yeah, the tutorials are not up to date
Sorry to disturb the conversation, I‚Äôm new here and just want to know this, what exactly are you guys using js or ts for? I thought we can only do on rust. Sorry if it‚Äôs a stupid question, just getting started with development on solana
im using v2 but the tutorial person must have used v1
maybe thats it
wait
oooo
i have that
js/packages/cli/src/candy-machine-v2-cli.ts
And btw, you should start using candy machine v2
try it with the full path instead of just js/packages/etc.

ts-node js/packages/cli/src/candy-machine-cli.ts upload ./assets --env devnet --keypair ~/.config/solana/devnet.json
npm i -g ts-node
npm i -G ts node?
8.3.2
and npm --version ?
-g will install it on the system level
v10.4.0
I think that it should be installed with `-D` instead of `-g`.
`npm i -D ts-node`
node --version
npm --version
whats the command for that?
which node version are you using ?
hmm still no
He is using candy machine, everything should be already good in webpack
I think that `ts-node` is not installed/configured in your webpack/babel (not sure).
then you can run the same command without npx
npm i -g ts-node
On my side I install ts-node globally, maybe it can help
Did you do an npm install ?
but im getting an error
it should give me this
npx ts-node js/packages/cli/src/candy-machine-cli.ts upload ./assets --env devnet --keypair ~/.config/solana/devnet.json
1. I created the `transaction` object.
2. I created some Instructions.
3. These Instructions added to the `transaction` object.
4. feePayer & recentBlockhash added to the `transaction` object.
5. `console.log(transaction.serialize())`

The result:
`Uncaught (in promise) Error: Signature verification failed`
Hard to say without seeing the command line
anyone know whats going wrong here?
Hi, any idea on how I could list the staking accounts of an address using web3.js ?
Confused, you are saying you want the transaction serialized wire size before signing but this doesn't answer your question?
```typescript
    const instruction = new TransactionInstruction({
        data: instructionData,
        keys: accounts,
        programId: programKey
    });

    const txsize = new Transaction().add(instruction).serialize()
    console.log(txsize.length)
```
Here's a small function to do that:

```
async function getSolanaBalance(publicKeyBase58, connection){
   if (publicKeyBase58){
      await connection.getBalance(publicKeyBase58).then((rrr) => {
         return rrr / 1000000000; // return the amount of lamports exist in this wallet address and dividing it to SOL's decimals
      });
   }
}
```
It also might be a network problem. Solana network facing some issues these days.
It should work. Is it possible to send the code you're using to get the balance?
https://solana-api.projectserum.com
Which RPC are you using?
I'm getting this error trying to use getBalance on web3 js "Error: failed to get balance of account ----------walletaddress--------------------------------: TypeError: Network request failed". Any ideas?
It's not possible to make `transaction.serialize()` I should do the following:
```
let signed = await wallet.signTransaction(transaction);
console.log(signed.serialize());
```

So, It'll be signed then I can check for limits. What I want is to check before signing it.
there is not solution. I checked already
hi, can someone help me with this errors:

Error: Cannot create a string longer than 0x1fffffe8 characters
returned by await connection.getParsedProgramAccounts(programId) 

I have no fucking clues how to resolve it üò¶
Lot's of stuff here that may help: https://solanacookbook.com/references/token.html#token
I am making spl token staking auto-compound. I met risk. need to fetch all staked users for auto compound.
how to get all users list who have my spl token? or is there any other good idea?
i don't think it's that
Read the link I sent
how much?
You're charged a transaction fee for each address in the transaction: https://docs.solana.com/transaction_fees
Try it: https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#serialize
debits and credits on solana explorer do not always balance, example https://explorer.solana.com/tx/3JCgrydoPcSzYaVBP8WruWFzqDXtrsvwohrHPXz2W2g7ZTcXvqoL8jBV2Hv8QeC8dpPz4kn4V58YT9cPPoxVmv5d  -- i guess this is to do with rent... is there an easy way to account for the difference?
Oh sorry for misunderstanding. Is there a way that I can do to calculate the transaction length before proceeding to signing process?
`solana config set --help`
Also many CLI commands take a keypair argument and won't default to the configured one
keep getting this error:


Error uploading file [object Object] FetchError: invalid json response body at https://us-central1-metaplex-studios.cloudfunctions.net/uploadFile reason: Unexpected token E in JSON at position 0
    at /Users/alex/Projects/metaplex/js/node_modules/node-fetch/lib/index.js:273:32
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (internal/process/task_queues.js:93:5)
    at async upload (/Users/alex/Projects/metaplex/js/packages/cli/src/helpers/upload/arweave.ts:24:10)
    at async arweaveUpload (/Users/alex/Projects/metaplex/js/packages/cli/src/helpers/upload/arweave.ts:105:18)
    at async /Users/alex/Projects/metaplex/js/packages/cli/src/commands/upload.ts:265:41
    at async Promise.all (index 9)
    at async uploadV2 (/Users/alex/Projects/metaplex/js/packages/cli/src/commands/upload.ts:221:7)
    at async Command.<anonymous> (/Users/alex/Projects/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts:184:7) {
  type: 'invalid-json'
}
Solan cluster down?
wtf? Error: RPC request error: cluster version query failed: HTTP status server error (503 Service Unavailable) for url (https://api.mainnet-beta.solana.com/)
Does anyone have reference on how to unlink a solana address from CLI and how to use an existing one using the keypair?
Just wanted to update - there‚Äôs no need to hash the bytes before signing. Signing the hex format of the bytes did the job. Unlike in ECDSA, EdDSA doesn‚Äôt require hashing before signing, although there are some EdDSA based blockchains that do require hashing but that‚Äôs a custom non mandatory implementation.
yep, doing just one requests to the public RPC nodes it fails with 429 rate limit
whoops, anyone have an issue like this when trying to deploy to mainnet
Server responded with 429 Too Many Requests.  Retrying after 500ms delay...
Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 4000ms delay...


///////////////////////////////////////////////////////////////////////////////////////////////

Does Solana have a concept of time? I know it has the PoH clock. But is it guaranteed that there will be `X` blocks per year? Where can I read more?
Hey! Do not know, whether this still valid for you, but I struggle with this today, and here is the valid empty transaction db file, hope this will help other here, as I tried to search an answer on this channel for couple of minutes, but found only questions. 

**transactions.db ** below file content.
```
---
- {}
- {}
```
How to use: just run command `solana-tokens distribute-spl-tokens --from <TOKEN_ACCOUNT>--owner ~/path_to/owner-wallet.json --input-csv ~/path_to/input.csv--fee-payer ~/path_to/fee-payer.json --db-path ~/path_to/transaction.db`
Hi Solana developers, I have been reading the solana whitepaper since a few weeks, I have completed till proof of stake. I would like to understand Proof of Replication, specifically the algorithm described in whitepaper. I looked at filecoin resources and citations of solana whitepaper, but i can't understand the PoRep. Any resources? TIA
Hello üëã 
Let's say that I, hypothetically, want to buy an NFT from a marketplace.
I've managed to connect and list my wallet funds using the solana-py lib.
But when I reach the Transaction that's really hard for me to understand.
How does one find an example for this? ü§î
(I'm almost about to quit and use selenium üêí)
Ok, thanks
same case
Ah, I understand. But I meant "buy" it with Solana (they already have Solana)
Plenty of resources out there though
Due to legal reasons, we can't really teach you how to write anything to let people buy your token
After creating a token, would I need to write a program to let others buy it?
From there you can get owners
https://solanacookbook.com/references/nfts.html#candy-machine-v2
Hmm ok, thanks
The rpc code is in a completely different location
The rust code is in the same repository, I don't get how they could diverge in functionality
Hi guys, maybe a dumb question: is there any way to get all owners of a nft collection through a solana api? preferably rest based
Probably got out of date.
It's from the official solana-labs/solana-program-library on Github, unmodified
Looks like you're trying to hit rpc methods that don't exist
```
[sony@linux js]$ npm run start
> @solana/spl-token-swap@0.1.2 start
> ts-node cli/main.ts

Run test: createTokenSwap (constant price)
Connection to cluster established: http://api.mainnet-beta.solana.com { 'feature-set': 1006352700, 'solana-core': '1.8.14' }
Error: 410 Gone:  {"jsonrpc":"2.0","error":{"code": 410, "message":"The RPC call or parameters have been disabled."}, "id": "25396bdf-1ec6-45ab-9e69-bbb3549595cd" } 

    at ClientBrowser.callServer (/home/sony/solana-program-library/token-swap/js/node_modules/@solana/web3.js/src/connection.ts:815:18)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
```
Give me a request, anything useful please
rpc method
it's managed by the JS client
```
https://api.mainnet-beta.solana.com 
```
no, rpc endpoint
mainnet-beta
endpoint?
yeah, i see now, it goes through `mango.genesysgo.net`
Getting
```
Error: 410 Gone:  {"jsonrpc":"2.0","error":{"code": 410, "message":"The RPC call or parameters have been disabled."}, "id": {...}
```
when using the official solana-labs token-swap JS client.

Health is ok
```
{"jsonrpc":"2.0","result":"ok","id":1}
```
UI is loaded in your browser
No, from browser
I suppose I could just check that
I see, so my requests are going through mango to genesys go, not directly from my browser to geneysis go?
You are using those services, and the mango market ui is channeling the requests from you there
So like when I change mango markets to use genesys go, or trident, they are just servicing those requests for free
Not sure if there is any sort of oauth mechanic at this time
Whoever owns each rpc service. There's plenty of paid rpc services out there
who is footing the bill, do people bundle some sort of key in their apps so that RPC nodes know what app the requests are coming from?
Code is open source. Also, someone is footing the bill
How do RPC nodes handle lots of random clients apps being connected to them for free?
lol it was not that i didn't have any sol balance xdd
icic ok üôè
<@!490581421778534400> You can ask where to do it here like you did. But we don't support that repo
The way you're doing it is really the legacy way. It's better to create ATAs because you can derive them
Note: don't ask for support on token-list here
I'll try that and see if it works... I just thought creating an account should've worked regardless so was kinda just trying to get it working before doing it the canonical way. Thanks
https://github.com/solana-labs/token-list/pulls
Today it is unfortunately using some repo. Not the metaplex nft standard
https://explorer.solana.com/address/MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac/metadata i noticed for MNGO token, it has the name, symbol, logo url etc.... i assumed this information is stored in a PDA account following the Metaplex NFT standard... If i want to do the same for my token, what seeds do i need to use when generating the PDA?
I believe you're attempting to create the ATA incorrectly
Why not generate the pda and then create the ata off of that address?
I ultimately am going to send tokens to it and change owner to PDA
can you add a feepayer being your wallet to it? Also, are you trying to create an associated token account for someone else?
thank you <@!489206164270350337> u are so helpful!
I am trying to create an account from a React app, but am getting  {code: -32003, message: 'Transaction creation failed.'}... Here is the gist of the component. Other instructions like Transfer work to send lamports. https://gist.github.com/bricestacey/39a9eb6a62a2ec8632a2178e92081234
I believe that is correct.
Dude... going on 3 days of you asking the same question on a channel that is not the focus of your question. If this was a Metaplex guru channel I think it would say so, don't you?
https://solanatools.xyz/faucet/devnet.html
I just realize i dont have  any balance on devnet in the account i was trying to transfer from, solfaucet doesn't seem to work any idea of how to get an airdrop on devnet?
so basically aburei_token_account.owner == TOKEN_PROGRAM_ID and aburei_token_account.data.owner == ABUREI_PUBKEY?
If i have a Token Account for a particular token, it's essentially a data account with its owner being the Associated Token Program, and my authority over the transfer function etc. is defined inside the data of the data account right?
I believe so
a data account right?
thanks you though ill see if it gets solved üôÇ
dont or wont üòõ
We do not support metaplex here
yeah i am but i figures also ask here
No idea sorry
Please visit metaplex discord for metaplex help https://discord.gg/qjhQFAdS
ts-node ~/metaplex/js/packages/cli/src/candy-machine-v2-cli.ts mint_one_token -e devnet -k ~/.config/solana/devnet.json-c example
Qhats the command that u entered
Can you show your code?
im getting this error when i try to transfer sol
does anyone know what this means? its when i run the mint_one_token command
<@456226577798135808> Aye - https://docs.solana.com/developing/on-chain-programs/overview#heap
By 32K you mean 32 KB?
Makes sense
An account owned by the system program. If not initialized, just a keypair
The account in our Phantom wallet (or any wallet extension), is it basically just a data account owned by System Program?
The default just bumps forward and BOOM
If you are alloc/dropping you could manage the space and reuse dropped chunks
But how would that help if I exceed the limit ?
You can implement your own if you want (still 32k bump but you can control): https://github.com/solana-labs/solana-program-library/tree/master/examples/rust/custom-heap
Just some simple (u64, u64, 64) = another tuple. But I think this operation takes it just over the limit .. I can't check it dinamically like compute units, right ?
Thanks heaps.
Also scan your programs with Soteria
https://workshop.neodyme.io/
Hi, is there any link that provides you good security practices guide while writing smart contract in solana?
I think we may remove #2 as aux accounts are legacy at this point
So first method is if you have no wsol account and uses `syncNative` to sync the sol to wsol. This is the recommended way
And you can use that param through store... anywhere you want.
Of that param
Create a store that handles the state
i am reading https://solanacookbook.com/references/token.html#add-balance on the **Add Wrapped SOL to Balance** and 2 methods are outlined. 
1. 1st method simply creates an associated token account (ATA) and transfer the SOL to it.
2. 2nd method had an extra step of creating an auxiliary token account that belonging to Alice, and then transferirng the SOL from the aux account to the ATA. 

 can anyone tell me in what situation this 2nd method is preferred over the 1st method since it seems a lot more troublesome?
That seems more like react support. I'd recommend checking in with some react tutorials
Hey guys! How can I store the balancefinal value outside this constant (i want to use this value in other functions)
i just found out this thanks!
Sign and send or partial sign and the user also has to sign?
What is the allocation instruction you made? Reason I ask is because programs only have a 32 K bump allocation heap
Create with secret keypair
Yes
Hello!
When running an instructions I am getting "Error: memory allocation failed, out of memory", and after some prints I found out that it fails at some simple and small allocations of u64. Can I somehow get the memory used? It's quite weird because I expected it to fail because of stack, but that is a different error
is there a way to sign a sol transaction from backend? im the owner of the account that has to sign the transaction
but do you think it is true randomness?>
https://github.com/switchboard-xyz/vrf_req_example
yeah just found out about it
Thanks for the quick reply! I had already came accross the Memo Program but couldn't really wrap my head around how to use it. I had however not seen the cookbook. I will keep you updated as I make some tests. Thanks again!
https://docs.solana.com/cli/usage#deploy-program
You could do things like monitoring with onLogs or onAccountChange from web3
please how can i found  or do this
I think switchboard has something in prod today
You have to supply the program to deploy
You can do that with memos https://solanacookbook.com/references/basic-transactions.html#adding-a-memo
I can t make my new wallet as executable true please help????
$ solana program deploy
Error: Program location required if buffer not supplied
why this error  in output
???
[6:08 PM]
help

2
Is it possible to send arbitrary text data to a Solana address, similarly to what you would do in Ethereum adding encoded data to the input field? Context:

https://levelup.gitconnected.com/how-to-create-a-permanent-uncensorable-message-on-the-ethereum-blockchain-afd1ad23fa5e
like chainlink VRF here https://docs.chain.link/docs/chainlink-vrf/
Hey people! any way to use randomness on solana?
Hey, I would like to monitor many wallets in real time, which tools would be used for that ?
help
$ solana program deploy
Error: Program location required if buffer not supplied
why this error  in output
???
Hello, guys:) is there any code examples for making IDO smart contract?
SCAM
Others may have other approach...?
I think the memo is only retained on the transaction (in the instruction data block).... you would need to decode the instruction data returned from a https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
Thank you! Is there an efficient way to filter out a memo that you would recommend, the way I see it is that you would need to query all signatures of a publicKey and then search for the respective memos from those sigs
Memo does not serializes the actual UTF-8 memo to an account address that you can then filter on.  It just validates signatures and logs: https://github.com/solana-labs/solana-program-library/blob/master/memo/program/src/processor.rs
Can you save a struct (serialized/borsh) to the memo program and then filter by that struct later on? I am trying to see if I can use the memo and save additional metadata and avoid using an additional program to save that struct.
anybody has good sample project about solana NFT market place smart contract?
Was the address you want to log one that even exists in devnet?
logs isnot proper with my wallet address
it shows another token infos on output and doesn t stop
just focused on SPL markets
but now I'm trying NFT
no, I've some experience in solana
And just running `solana logs` (no argument) errors out?
Config File: /home/cavid/.config/solana/cli/config.yml
RPC URL: https://api.devnet.solana.com 
WebSocket URL: wss://api.devnet.solana.com/ (computed)
Keypair Path: lagrange/dev-keypair.json 
Commitment: confirmed
I mean the same function with web3's getTokenAccountsByOwner on smart contract
Let's start with the first error. What does your `solana config get` return?
how to  make our token account to be rent-exemption.
Any Help support ??
You need to be more specific. You can send AccountInfo to a program by adding it's publickey to the array as I answered above. Is that what you are trying to do?
how can we do that
Help me to solve it when i use solana logs -k <address> it shows another wallet addess as nonsense
Hi there i hope youre doing well.I need help about how can i create a liquidity pool on solana networjk. And additionally i have stuck on solana program step: i mean when i run solana logs <Address> it  shows an <<Disconnected: receiving on a closed channel>>
I want to get all ATAs from my wallet on smart contract?
Add the publickey to the array of keys in the TransactionInstruction `keys` property
Also is it possible get the ATA from owner address?
Hi,
How can I get the AccountInfo from publickey on smart contract?
It seems to be related to this problem posted earlier: https://discord.com/channels/428295358100013066/517163444747894795/926600095691071499


----
Update: This doesn't seem to be a problem with Slope wallet. I'll use it for dev !
Image for better view
```json
{
    "message": "",
    "stack": "Error\n    at global.WalletError [as constructor] (http://localhost:3000/js/cljs-runtime/module$node_modules$$solana$wallet_adapter_base$lib$cjs$errors.js:2:222)\n    at new global (http://localhost:3000/js/cljs-runtime/module$node_modules$$solana$wallet_adapter_react$lib$cjs$errors.js:1:387)\n    at $jscomp.generator.Engine_.eval [as program_] (http://localhost:3000/js/cljs-runtime/module$node_modules$$solana$wallet_adapter_react$lib$cjs$WalletProvider.js:16:110)\n    at $jscomp.generator.Engine_.nextStep_ (http://localhost:3000/js/main.js:23:105)\n    at $jscomp.generator.Engine_.next_ (http://localhost:3000/js/main.js:19:234)\n    at $jscomp.generator.Generator_.next (http://localhost:3000/js/main.js:24:73)\n    at eval (http://localhost:3000/js/cljs-runtime/module$node_modules$$solana$wallet_adapter_react$lib$cjs$WalletProvider.js:3:240)\n    at new Promise (<anonymous>)\n    at __awaiter (http://localhost:3000/js/cljs-runtime/module$node_modules$$solana$wallet_adapter_react$lib$cjs$WalletProvider.js:2:460)\n    at eval (http://localhost:3000/js/cljs-runtime/module$node_modules$$solana$wallet_adapter_react$lib$cjs$WalletProvider.js:15:250)",
    "name": "WalletNotSelectedError"
}```
Hey üëã , I'm facing an issue while trying to get Solana Wallet Adapter working in ClojureScript (Shadow-CLJS). 


1. If I select a wallet, the process works fine (modal shows up -> select wallet -> wallet connected event emitted)
2. [Problem ü§ï] Shadow CLJS is a build tool that re-renders on every change made to  source. After this automatic re-render (think of calling `react-dom/render` in js world), I get an error called `WalletNotSelectedError`. In the **process of reload, the selection is lost**. Is there anything I can do about it ?
I see this error but I don't know the reason for it. I'm certain that the `user` is not rejecting the request. I'm working on it. Let me know if you find a solution.
üëç
BTreeMap, alternately you can use PDAs to attain similar: https://solanacookbook.com/guides/account-maps.html
May i confirm whether hashmap or similar data strucuture for mapping is supported in solana data account?
hi, anyone have a idea about this question{https://stackoverflow.com/questions/70331148/solana-anchor-how-can-a-program-check-approved-token-allowance-given-by-an-user}, still need answered for me, thanks.
i mean why approve is needed or what situation is used for?
interesting, i'll get a look at it, thanks
Yes
Also note that the return order from `getMultipleAccountsInfo` is the same order as the array of pubkeys you send in
Great idea, 
What do you mean by "keep track offchain", like i store somewhere the public keys and pass them to `getMutlipleAccountsInfo` when needed ?
thx üòÑ
Devnet is limited to 2 sol per airdrop request, try that
The image contains the command aswell

What does your `solana config get` show? How are you calling `solana balance`? What does your `solana airdrop` command look like?

it always says balance unchanged
I want to show public ip address of validator when run solana gossip command but it just show 127.0.0.1 (My validator run in 10.0.0.35)
Hey can someone help me with the airdrop function?
I tried with --rpc-bind-address 10.0.0.35 but it not worked
me to getting the same error !!!
I am getting > Program log: Error: InvalidAccountData
> Program BczRsKjWvrbz2nZwGe4346ggr45EPnZpCxVd2z2otX81  consumed 2549 of 200000 compute units
> Program returned error: invalid account data for instruction...... while creating pool for swap. not clear what is the root cause, can anyone help me to tell me what i can check?
1 request for transaction in a day?
Thanks, but it's really strange thing)
I think you have to set the bind IP address.
üëÜ
If anyone else is having the issue of getting 429 rate limits just from a single call to mainnet-beta RPC nodes... I switched to ```https://trashpandas.rpcpool.com/``` and everything works fine now.
This isn't happening because of rate limits for a single IP address... just doing a single call to "getTransaction" just once in a 24 hour period is causing this to happen on the mainnet-beta rpc.
First: These is no further constraining the result size of using a filter 
But: Another way would be to keep track of the pubkeys off-chain and then use `getMutlipleAccountsInfo` passing in the list of 20 at a time that you want.
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getMultipleAccountsInfo
I run validator in remote IP addresss but it not show public IP address instead of 127.0.0.1. Can someone help me ?
I understand, but I don't have such problem in testnet
mb it's problem with  "getTransaction" method?
Sure, i want the mint pubkey, so i know i have to get the first 32 first bytes.
Then i want let's say the first 20 pubkeys of the collection so is that good?

`{
   memcmp: {
            offset: 0,
            bytes: 32,
          },
}`

but where, there, can i tell how much data i want to return ?
`memcmp` limits the number of accounts returned based on a match on some subset of an accounts datas, `dataSlice` just limits how much data of an account is returned and does not reduce the number of accounts returned. Sounds like you want the former if you are able to isolate accounts by some bit of data in the account.
yess for sure i'll ask them
the doc is not really clear on that
thanks but i don't understand which one is the most adapted between memcmp and dataSlice in this case
https://solanacookbook.com/guides/get-program-accounts.html#filters
You should also ask this in the Metaplex Discord
https://docs.solana.com/cluster/rpc-endpoints#rate-limits-2
Hi solana team, 
How do you do to fetch an NFT collection metadata and just showing only like 20 ?

Everytime i want that, i'm fetching all the pubkeys related to a candy machine id, but sometimes there are 8000 tokens or more, and fetching them all is  making a lot of request and/or giving me timeouts errors.

How can i avoid that and just get maybe 20 response not more ? I'm just trying to reduce the search's scope 

Thanks
I have those requirements:
- A data account is managing the prices of NFTs that could be minted in the future.
- Each NFT has a unique ID and there could be only 1 NFT (probably modelled as a PDA).
- NFTs can not be minted in advance, it's really a user that would trigger the mint process for himself.
I think those requirements pretty much discard using the candy machine, aren't they? (not talking about the javascript client, just the solana program)
Now would it be worth deploying a modified version of the candy machine program that source prices from the data account, and create 1 NFT per machine. not sure...
EDIT: Sorry I realised metaplex have their own discord
hi!
starting to have problem with method "getTransaction" on mainnet ({ commitment: "confirmed" })
https://docs.solana.com/ru/developing/clients/jsonrpc-api#gettransaction

the error is - "too many requests for a specific RPC call, contact your app developer or support@rpcpool.com"

in test net, I don't have this problem and previously also didn't have any issue with it.

Can someone help me?
Hi do I need auth token for using Solana‚Äôs JSON RPC?
thank you]\
I reckon you can get better insight from there, rather than me explaining you
You can check the solana cookbook
Cpi call
can u explain how to do that?
i took it out and itr started giving me unknown signer errors
i dont know üò¢ it was in the git
ü•≤
Why are you passing async call as a function parameter ..
It shouldn't be even passed as the parameter..
wait, is that eaitmg up stack space?
Y dont you create escrow account  instead using CPI in your instruction
Maybe I will need to chaange the way my program works so instead of 1 big call, it will be multple small calls
it doesnt give me an error, but in order to send the token from the pubkey im sending it needs to be in accountinfo fomat. There  I cant use as many pubkeys as I can with the vec but i can actually use them
ü§î
Passing parameter shouldn't not give you any issue like that
but the computer was designed with the limited capabilities for the high throughput
and that is the only way to get the number to keys I want
i replaced it, but where the `new anchor.BN(2)` is, it used to be a `Vec<Pubkey>`
so,
yeah, i have to
From the client
U passed it like that isn't it
await program.rpc.yourfunction({ accounts: { baseAccount: baseAccount.publicKey } });
in the client
ive tried all sorts of different things
What in client ?
i have to pass the accounts through the context. I can send vectors of pubkeys without the context, but then I cant send the pubkeys to accountinfo without the context so in cant send the tokens
im confused, wdym
?
U passed it as dictionary under key name accounts isnt it M
but most i can get is 3
or even 5
10 token accoutns
im trying to send like 10 accounts to the program, but i keep getting stack size errors
It was built for that.
Ofc it is
but i dont think its possible
Oh from the client ?
i was trying to pass it niot thought the context
anchor
Are you using anchor framework from this or just normal?
Hmm if you still haven't found it then
 Accounts is the parameter that u pass to the smart contract instruction.
 ‚Äã¬†¬†¬†¬†¬†¬†¬†¬†‚Äãlet‚Äã¬†accounts_info_iter¬†‚Äã=‚Äã¬†‚Äã&‚Äãmut‚Äã¬†accounts.‚Äãiter‚Äã(); 
 ‚Äã¬†¬†¬†¬†¬†¬†¬†¬†‚Äãlet‚Äã¬†sys_acc¬†‚Äã=‚Äã¬†‚Äãnext_account_info‚Äã(accounts_info_iter)?;
not yet
Yes, did u find it ?
omg thank you!
solana cookbook has it?
Thenks
Google solana cookbook or figment
how?
yeah
I reckon you are doing it on contract
Hey any resources to get started on for defi development on solana ecosystem actually new here making transition from eth
They have a method to fetch a accountinfo from the pubkey
All g.
Thank you so much! I will try it
Wow
But u add another method to change the api of the devnet or whatever cluster u r trying to scrape
It the same way you connect your clusterapi
This will help you
"encoding"
 https://learn.figment.io/tutorials/make-a-solana-explorer-clone-using-react#:~:text=into%20base%2058-,encoding,-.%20Check%20the%20length
what is Explorer api?
And you can just query you particular account through the pub key
Yes, when you are connecting your cluster api , replace your devnet api with the Explorer api
does anyone know how to convert a pubkey to an AccountInfo type?
If I know some token account address. How could I fetch history of it with typescript code?
I think it is needed to make your token account to be rent-exemption.
Wym? Can you be a more descriptive?
Where u able to fix it ?
without solscan
how can I get my previous token account information? Is it possible?
bump please üòÑ
great! it works now. thanks!
Try starting a `solana-test-validator` first.  Some info about how at https://docs.solana.com/developing/test-validator
I can set the network to `localhost` but all the RPC calls fail because there's no network running
hey guys, does anyone know how to run a local testnet?
I know this is a newbie question, but how do I see all the functions I can call on a program, like an AMM. Similar to an ABI on an EVM contract?
what exactly happen during the getOrCreateAssociatedAccountInfo
Do I need this to receive every token 

why Its consumed +‚óé0.00203928   for every token account creation
bump.
oke b√°c ei
https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/  tham kh·∫£o b√†i n√†y xem b√°c
yo, did you solve this issue?
e ƒëang mu·ªën t·ª± vi·∫øt SmartContract ·∫•y b√°c, xem c√°ch n√≥ mint,buy,.... ntn
Hey, I am stress testing my smart contract and the test unexpectedly hangs with an error:
```
thread 'test_contest_enter_stress' panicked at 'called `Result::unwrap()` on an `Err` value: IoError(Custom { kind: Other, error: "the request exceeded its deadline" })', tests/enter_contest_functional.rs:214:10
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```
It pretty much just creates a token account, and then calls my contract. The first couple of hundred iterations work, but then it hangs. Any idea what's going on?
th·∫ø b√°c d√πng metaplex n√≥ c√≥ ƒë·ªß c·∫£ 
https://docs.metaplex.com/
Or does it have to be program -> account -> app
Yeah but can the program directly pass data to the app?
Hey there, I'm getting an error when trying to run initialise - custom program error: 0xa7. From what I can see in this typically happens when the id set in the lib.rs file is wrong but I can confirm that this is not the case. Any ideas as to why this might happen?
m√¨nh ƒëang mu·ªën mint/buy/... c√°c action ƒë·ªÅu n·∫±m ·ªü rust program, gi·ªëng c∆° ch·∫ø EVM √Ω. Kh√¥ng bi·∫øt c√≥ solution n√†o tr√™n Sol ko b√°c nh·ªâ?
but youd need to use your solana account
if the app pulls data from the blockchain, then you can use web3.js to interact with the dapp
c√≥ th·ªÉ d√πng c√°i n√†y ƒë·ªÉ sell/buy https://github.com/cqfd/quidproquo.git
c√≤n mint th√¨ d√πng metaplex th√¥i bro
ƒë∆∞·ª£c b·∫°n, deploy bt m√†
b deploy ƒë∆∞∆°nc program l√™n devnet hay test net k
anyone help me pls?
....
The users application
Any application ig
front end of?
is there a way to pass data/variables to the frontend w/o using an account?
how to deploy program on customURL (http://10.0.0.34:8899) - (
same error devnet)
there are two situations, we called the token account address X 
1. if X has initialized as a token account, you used the way witch I mentioned before.
2. if X hasn't initialized, I don't think you can get offer.pubkey via X because findPorgramAddress used a hash function to generate new pubkey. https://github.com/solana-labs/solana-web3.js/blob/master/src/publickey.ts#L162
im following the logs written to validator.log
Hi lisen, that's the screnshot I put but the Program Logs aren't there ... I tested on devnet and I can see them however
i fetch token account form below code
 const [escrowedMakerTokens, escrowedMakerTokensBump] = await anchor.web3.PublicKey.findProgramAddress(
    [offer.publicKey.toBuffer()],
    program.programId
  );
so how can i get offer.publicKey again
i try with https://solanacookbook.com/references/token.html#get-token-account but i can not get offer publickey
just means I've gotta be better lmao
it's alright
it's like 2.7 sol worth of rent
nah, was deploying it earlier today
have not noticed. is your program large or anything different?
between these resources you should be able to find what you need:
https://solanacookbook.com/references/nfts.html
https://docs.metaplex.com/ 
https://soldev.app/ (links to tutorials and articles, and tools like metaboss)
check https://solanacookbook.com/references/nfts.html#get-nft-metadata
owner's pubkey is stored in token accounts. you can fetch the token account and parse its data like https://solanacookbook.com/references/token.html#get-token-account
hey, I updated solana cli from 1.7.14 to 1.9.5 today and I might be out of my mind, but deploying programs seems to take 2-3x longer now, anyone else confirm or notice this slowdown?
if someone knows how to get metadata even if its not on python it could probably still help me
anyone coding on python using solana or anchor library? If yes do you know if there is a way to get an nft's metadata?
thanks
Hi all,
anyone know how can get wallet address from token account ?
you can search the discord and or metaplex for nft staking references, If I recall someone had a link or resource for something similar.  general staking and rewards could be viewed in one of the public github repos from different protocols.  step finance has been listed here several times.
look for the airdrop related code from search:
https://soldev.app/
but most retry logic is up to the devs. exponential backoff is recommended but I do not see it in practice very much yet.
Hey guys im working on a sol nft project, and Im wondering if anyone can lead me into the right direction for nft staking?
have you upgrades a lot?  the detail I was referring to may have been you ran out of upgrade space due to initial deploy size.  you should be able to redeploy with a new id though.
For the EVM like ETH, BSC ... I'm can write smart contract for mint/buy NFT inside this. So it impossible in solana?
Is everyone just writing custom scripts to do this?
What does everyone use to make daily SPL token airdrops reliably with error checking and retry logic on failed transactions?
so this is not possible at the moment ?
yes this error was while i was upgrading my solana program üò¶ using solana program deploy
from inside a program you can invoke a mint command.  check metaplex, NFT standard for more info.  https://docs.metaplex.com/ 
https://discord.gg/snEa6hSU
its possible you ran out of space when upgrading, as the initial max size unless specified is a little over twice the initial size.  this may be what is happening if occur during an upgrade.   if you runout of account upgrade space you cannot resize atm, and would have to deploy under a new program id, if I recall.
msg! from programs should be written to the on chain logs, which you can view by also monitoring the logs in a separate window or from the log output in default: (.config/solana/test-ledger) if using a local test validator.  additionally, other log commands should be viewable, and combinaitons,  using -- --no-capture  when running cargo test
hi team  i got this error message can anyone help me solve this issue

Error: Deploying program failed: Error processing Instruction 0: account data too small for instruction

I know we can use new program id to solve this issue but can anyone help me to upgrade my program in the same old address üò¶
Hello guys. I have a question for Solana. Possible to mint/buy Solana NFT from within the Smart Contract? Thanks for reply!
I'm new to solana. I pulled and built code from https://github.com/solana-labs/solana. After running it, I got many unknown transactions. Where are those transactions from? And how can I run my own node with only my own transaction in it? Thank you so much.
WARNING !!!! SCAMMERS SENDING DM AND OFFER YOU TO ''VALIDATE YOURS WALLET'' THIS IS A SCAM . THIS LINK IS SCAM AND IF YOU CLICK ON ANY LINK YOU WILL LOSE THE MONEY!!!! ADMIN AND SUPPORT NEVER SEND YOU DM OR ANY LINK !!!!!
ü§î  not sure what i could possibly be doing wrong here
Hey all, having trouble seeing Program Logs in my local validators logs. 

Followed the instructions here:
```
When running a local cluster the logs are written to stdout as long as they are enabled via the RUST_LOG log mask.

export RUST_LOG=solana_runtime::system_instruction_processor=trace,solana_runtime::message_processor=info,solana_bpf_loader=debug,solana_rbpf=debug
```

but when I look at the logs I'm not able to see a simple msg!("Hello World")
You need the docs of whatever secondary marketplace you're after. Please go to their discord or docs
Sent to the creators of the svelte wallet-adapter
Hey guys! I'm trying to create a client that buys NFTs from secondary marketplaces. I'm trying to do it on python but I can't find any information on how to do the transaction to make the buy order. Do you guys have any docs that might help? I don't want to use the UI to do the buy order, since I'm learning Solana in general I would like to do it on the backend
I created an issue.
Thanks for the find. Please make an issue and I'll pass it to the right dev
I'm trying to setup a wallet in Svelte. The base example code here seems ot be using an out of date Wallet type:
https://github.com/solana-labs/wallet-adapter/tree/master/packages/core/svelte
Thanks for your time sir
Oh, I might have an open handle somewhere in that case
So if you just remove all the listeners, I think it will work
https://github.com/solana-labs/solana-web3.js/blob/7d92227/src/connection.ts#L3888-L3893
Alternatively, it looks like the wss closes automatically after 500 ms if no subscriptions are active
let me test üëÄ
Not sure if it will work because it is private, but you can try `connection._rpcWebSocket.close()`
That's correct, close the underlying wss connection
Quicknode, genesysgo, etc
Likely due to whatever you're doing. Recommend using a different rpc
When you say close a connection, what do you mean? wss?
did u solve it?
So im technically blocked?
Sup üëã  I'm probably missing something super obvious, but I can't find the right method to close a `@solana/web3.js` connection. It's making my tests hang, so would like to tear them down after the run. https://solana-labs.github.io/solana-web3.js/classes/Connection.html
would you mind sharing?
it would be a big help
There's a number of rate limits to abide by https://docs.solana.com/cluster/rpc-endpoints#rate-limits
I do not know how to decode arweave transactions. I would go to an arweave discord
Getting rate limit? How that works, sorry for the ignorance
I have the transaction that im testing it on. its an upload. the data is a block of 10 arweave links.
It usually works. Checked and they said you were just getting rate limited
The data from the transaction can be decoded based on what the transaction is. You have to know a bit more about the struct to deserialized it
`DiZsd67MTA8oie5GCp9X5KsoiAGWV5Rqerz38KVspMa2JMWaJPyu2ee2aavSiTE2vVRshBz56PiNPAGFHwEEKibByaXLnwSrN4ywM6vDQtA
kCfACubrRaznDg3rEisAVnTdrUsY5oFjJnWfuQTioUVsnyb8GoUKm2PzavBFRtvhDLo5ZhZpLfdGGEKKLG86io4aoAoemBU19ffxk8BkUa7Ftp974gZtuV1NgzitQvbSk5XT33Ray4mjTGmuaYfcJm3HAb7xqcyGW212NcFB85Snv7rJEvjcabGPpiYn3WHVbDFGaMhgKhczboiaYYuA4ub69U8TdTBSwBtGTmGbj1T
1t1FqaYnPe894DDS1SB9wET2wR5mYfeyFdqM9EDyGX9bgHbyWgtxMPb4x6t2AfiY5E2n7HnGu4DSwgwDZ6sBKpjc2bjKA6EF7WgCer6KN7sU9cL14MUbhdiYRrtBVcbid1WuoTdTUfkUzirMoAZXRycoav3BEyuTTHCCAPWC7Wp45iCKy8jJX7kqsx5ygG79xqqFAPZdPKqLK7kktBykN6hSuvnjBQVguVF9AsSPKRm
8ufcJwcSCDNUpKt9bx8J9RvZ9i8jRMsPVUtvBnLFaUW5Y8AbpMkSZ9fncp1sW9kTsr1zmGm1Ep1vZcUqdJ2f66TtPCMWhn92AvJaZKsQHG8vMLBTDCRtdfZr3eDyiMP4ZJkd4g45Mu7aiU2rdRFiYKDq1ytEPwfgLMzbe1nGj5FPZ3Ee2xa4nE2NaWVEV1RGVS4YUxAKCmqWtW6QKniPEB9cnMvDYfBs3sxWyFxJTkr
6AWemLjo1bcxA6kofkBUsQpUCdUo3ot9yoZrn3tKUvzCNPisf5CM3BM2UdmztcuNvtpgEU3JpkrbXufhzDvCjV5magEsfXGr8zJyot74B2KMKRFK9uBF8k23LjSwuLrqg3GsLRSA3sYdbCsBUtGQKqThgrKY7hxt7jAYqUHrWqFV9rUr1pfaCVDUTr5H6oQsahAdZsMWjWPbKrJTduiThCLCou7NhDwzKsc6YWVnj8X
qkZUfAEYNybAaAU7EUVbGx5D1Zb8SdjskMrvwwjqTmEv1VRgxcWkp884UFnq6CQbdBXjm8TWFuErjzH1yEQm97JiAkQbhJkDydAHEcdssJgtpACYJfCaGvKtNBDMSLADNPEKdSJL`

this is the "data" i pulled from a transaction but its meaningless to me. Atleast hex i can translate. Im not sure what this actually is.
The actual data from the transaction this was pulled from is arweave links. im not sure what this is.
Have you tried using `web3.js` library with the regular main-net beta rpc node?
Easy steps
Usually you can just use the base64 encoding
Hey Clyde, check out a different RPC pool. You can get 7 day free trial with a quicknode ‚Äúlaunch‚Äù node
CLI is built with Rust to interact with stake pools, but is not the program
Im trying to pull the hex data with solana.py's "get_transaction" function to no avail. does anyone have a guide on how to pull hex data from a transaction?
im not even trying to translate it. I just want the raw instruction data.
Nevermind I figure it out
I'm trying to capture some debug logs I have in my program that use `msg!()` I'm running `solana logs` in my other terminal but it's streams logs so fast and it's too noisy for me to capture what I'm looking for. Any way to only capture what I'm interested in?
any comments from support or devs about this problem ? <@!301482575170502661>
)))
Dude mee too
on my every single request
the error is 

Message: (string) (len=93) "Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com.",
Dude ME TOOO im trying to figure it out whats going on haah
hello, what with rpc api ? i cant get transaction data by signature
is there an issue with solana web 3 library?
hello, solana-program-library is the collection for pre-built contract/program right?
what's the difference between cli folder and program? both are using rust
here is the response
here is the code ```import { Connection} from "@solana/web3.js";

const connection = new Connection("https://api.mainnet-beta.solana.com");

(async () => {
  const txn = await connection
    .getTransaction(
      "5SzUyaaWrUN5SJUwBDvPbzg2iAWSCsHowGpn4A2R9wbhdaFtJDALJ1nvxKShpMxhNsA6PkDe1gNbHteyTkb92UaN"
    )
    .catch(() => null);
  console.log(txn);
})();
```
use a `BTreeMap` instead.  `HashMap` uses a random number generator in its implementation, and programs can't generate random numbers
Great tutorial here that does a great job explaining structuring accounts and allocating space: https://lorisleiva.com/create-a-solana-dapp-from-scratch
for anything dynamic or where you anticipate growth, you need to do your best to estimate the total and base rent on that.  you can allocate a size larger than you initially use up front. currently there is no way to increase and pay for more.
search here:
https://solana-labs.github.io/solana-web3.js/
is there a web3.js equivalent to getSignaturesForAddress? https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
Now I'm thinking is it even possible to calculate rent exemption for strings? They are dynamic so you don't know the size upfront
Is log filtering supposed to work with local validators? When I run `solana logs <my-program-id>`, it doesn't output anything when I'm running against localnet but it does work on devnet...
Anyone know if its possible to store a Rust Hashmap within the data of a Solana account? https://doc.rust-lang.org/std/collections/struct.HashMap.html
Can I have some help defining account layout?
I have a simple account that looks like:
```pub struct Data {
    pub message: String,
    pub is_initialized: bool,
}
```
I then copied this code to define a rust string layout: https://github.com/solana-labs/metaplex/blob/master/js/packages/common/src/utils/layout.ts#L96-L121
So my layout definition looks like this:
```export const MESSAGE_ACCOUNT_DATA_LAYOUT = BufferLayout.struct([
  rustString("message"),
  BufferLayout.u8("isInitialized"),
]);```

However when I call `MESSAGE_ACCOUNT_DATA_LAYOUT.span` I get `-1` so I'm doing something wrong
Also when I use this layout to calculate rent exemption I get this error:
```Unable to fetch minimum balance for rent exemption```
Make sure you don't have any type of loops going
im just doing `connection.getTransaction()` a single time :c
Please get your own rpc
You're being rate limited for not adhering to the rates
is main net having issues? i don't stop getting this error
ok I will talk with my boss. Thank you so much <@!489206164270350337>
and program Id is absolute public
I forgot we can get getAccountInfo from program Id
thank you
you just remind me
PDAs can only be signed for by programs. But they're still public
oh right
You can use `getAccountInfo` to get any PDA account info.
thank you <@!489206164270350337>
look like I need to read docs more carefully
I think pda is something is more secure if we don't expose it.
thank you
ok I see
Everything on chain is public
even pda accounts are still public
oh I see
Everything on chain is public. Do you want your private key public?
pda account <@!489206164270350337>
Remember everything on chain is public
and thanks, jacob!
so I need to know what is the risk
Save them... where?
it sounds not good to me also, but my boss is asking me to do that
I mean like we will create multiple pda to save our private keys of our wallets .
On dApp? Don't know what exactly you mean, but sounds bad
Is it a good idea for us to save private keys of wallets on dApp?
I have a quick question
Hi guys. How are you guys doing?
ah gotcha... oh boy XD
Unlikely. More worried about compute limitations
how often do people actually hit the size limit
hm maybe a better question on my end -- should I worry about program size limitations when I'm building my program?
Really depends on the logic and lines of code
if u had to estimate, what would you say?
Depends on the amount of logic in the program
how many instructions can my smart contract hold? I know the max size of an account is 10 MB
thanks but is using a derived wallet address now (secondary)  - in same path
and the default is probably set in the config file, the config file path you can get from `solana config get`
Oh, I think metaboss is just what Im looking for, Thanks!
`solana config set -k KEYPAIR_FILE_PATH`
Changing default Wallet address in SPL. Im having issues with default wallet in SPL.  Ive created a default command line wallet for creating solana token. However when rebooting the shell - it defaults back to another previous wallet I created. (For Dev purposes) I deleted the dev wallet and reboot PC. the 2nd wallet then advised no default wallet found and required a new keygen. SO now its created a derived wallet and when I went to add to phantom it copied the original default wallet acc again?   I used solana -k ASK address to pull back the one I want to use. it found it - great. But I have no idea how to make that the default wallet - as all it does is list the wallet on that cmd not shift it and 'config keypair path' only points to file that now is using a derived wallet account as the default account.  Question: How do I get back the original wallet as default?
for examples of using a keypair as a signer you could probably look at metaboss, or the metaplex candy-machine-cli
they just use the wallet adapter because they need to request a signature from the user
in your script, you'd be supplying the keypair file instead
That's what I did I tinkered with their front-end for candy machine but it got complicated really quickly because in their code they use some kind of react adapter to wallets like phantom and such. But I don't want to use nor react nor a wallet. I just want a function to give it my solana keypair and the candymachine id and I want it to mint the NFT to that keypair
yea probably possible, just using the solana web3 library to make the requests
you could look at existing candymachine frontends for the calls they make when the user mints
https://spl.solana.com/token

This may help. You can then write a smart contract to attach said spl token to an image (if I'm not mistaken, not too sure about this).
Well it seems the only help we can get here is for easy javascript issues on how to use the client library.
guys, is there a solution for this?
Although keep in mind, you will probably only need to calculate the fee if you're emptying an account.
The typical fee is 5000 lamports. However, to get the most recent block's fee:

```ts
const recentBlockhash = await connection.getRecentBlockhash();
transferTransaction.add(SystemProgram.transfer({
  fromPubkey: from.publicKey,
  toPubkey: topubkey,
  lamports: lamps - recentBlockhash.feeCalculator.lamportsPerSignature // This allocates enough lamports so that you can empty an account without getting an insuficcient SOL error
}));
```
The h3ron library is a rust library that is a C binding to the h3 library. This could make the task a little harder but I think it would be very valuable if C bindings libraries could be imported in salana's program via bpf compilation
Please guys, I don't understand why solana wouldn't build if I had the h3ron dependency to the helloworld solana program.
The logs show the cmake command solana is trying to make. I copied it and try to run it separately and  could generate the same error (which makes it easy to reproduce). I created an issue here: https://github.com/nmandery/h3ron/issues/30#issuecomment-1019858644
First of all I think solana should not use the system `ld` but its own `lld` instead. I added the `lld` in the `PATH` and added `-fuse-ld=lld`
I am still getting: `ld.lld: error: CMakeFiles/cmTC_dab46.dir/testCCompiler.c.o is incompatible with elf64-x86-64`
Can I get any help please?
Can you link me a github repo or better a line containing said function? sorry I am new to Solana
Sorry, wrote it wrong, mint function from some Front End repo, like ex Exiled apes which was used to make FE minting
Yeah, can you tell me which mint function should I use?
because the CLI can only mint me my NFTs and not other people's
Well CLI is actually calling JS code
How can i determine what fee is needed?
which one? the CLI one ?
```
      const transaction = new Transaction().add(
        SystemProgram.transfer({
          fromPubkey: fromWallet.publicKey,
          toPubkey: toWallet,
          lamports: balance,
        })
      );
```
Just use metaplex mint function
how to auto calculate fee?
You have to have `solana-test-validator` running in another terminal. It is not a daemon that runs all the time....
Hi guys, new here. I have a problem that I have been trying to solve for 24h and I can't seem to wrap my head around it. I am trying to mint other people NFTs programatically just using javascript (like I have a Candy machine ID for the NFT and I have my private keys for my wallet containing sols) and I want just to mint the NFT from a javascript program. I don't need no front-end or web page, its just from my program. Is this even possible?
hi everyone, new to solana and to rust as well. say i wanted to take a percentage of a transaction as a fee. as the amounts are in u64, what is best practice to take the percentage I want? should i cast the amount to f64 to multiply it by the desired ratio, or is there a method i'm unaware of? i'm also vaguely aware of a royalty program somewhere, can't find it but that should give me the math calculation that i'm looking for (if anyone has a link to it)
Tu est le bien venu
many thanks!
https://solanacookbook.com/references/accounts.html#create-a-pda
seems like its kind of just a blob of data, and theoretically some sort of format for that blob will be developed
do solana domains have any actual function at this point?
on linux i get os error 111
hi guys! Please help me. 
Im trying to get info about account, but i receive this error. Idk what to do with dat

C:\Users\rusta>solana account BS3YMYcdKGgjyrXXtc7t4MSg2TCAb6zYkg9QNmsUQ5ko
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: No connection could be made because the target machine actively refused it. (os error 10061)
Is there any way to get getconfirmedsignaturesforaddresses2  to return from first instead of last? Or maybe theres a different method that does that?
are there any examples of using the SystemProgram to create an account from within the solana program?  I presume this would require CPI invocation with a SystemInstruction...  just starting to look at this, would appreciate pointers if anyone has any.
How can I make sure that my solana node doesnt loose blocks? currently it's behind 2133 slots and i cant figure out why
Hello
If you have a program that needs to verify a signature, you should send a transaction like so:
[ed25519 signature check instruction, your program instruction]
Inside your program you should use `solana_program::sysvar::instructions::load_instruction_at_checked`  to read the signature check to verify that the data matches whatever is being handed to your program

EDIT: You can check the feature status with:
> $ solana -u mainnet-beta feature status 6ppMXNYLhVd7GcsZ5uV11wQEW7spppiMVfqQv5SXhDpX
> 6ppMXNYLhVd7GcsZ5uV11wQEW7spppiMVfqQv5SXhDpX | activation pending          | enable builtin ed25519 signature verify program
<@!471205900976128011> I've been doing a lot of ed25519 spelunking recently. It won't be ever enabled for CPI for reasons I can elaborate on. It is however live on the testnet to be used as an instruction. They are also discussing its mainnet release right now  in <#910937142182682656> . I will explain how to use it as an instruction:
Hello! Is there a way to monitor all transactions involving a particular token?
Anyone recommend any tools for running daily token airdrops? I want to set this up but the script I have is pretty error prone and doesnt have any error handling / retry logic if a transaction fails
aw ok. thanks for the update anyways. it looks like a lot of the issues are stemming from the fact `web3` depends on a lot of node modules... there seems to be some hacks like  `rn-nodeify` but haven't gotten it working yet
nope haha. we're going to focus on web for the next while. I ended up freezing console so that it wouldn't get overwritten (`Object.freeze(console)`), but this just caused the app to panic when whatever dependency it was tried to overwrite it.
hey, i'm running into the same thing trying to hook up `react-native` with the `solana/Web3`. it looked like you made some good progress. were you able to get it working, `console.log` issue aside?
Hello!

Could someone help me with a POC i'm doing to listen solana events?

Firstly i was trying to use Json RPC API, but now i'm using the web3.js sdk and i'm facing the same problem.

When i am subscribing the onAccountChange event the arrived events are not comming with the data buffer.

I am using the code bellow

```
import * as web3 from '@solana/web3.js';

(async () => {

  // Connect to cluster
  var connection = new web3.Connection(
    web3.clusterApiUrl('devnet'),
    'confirmed',
  );

  // Generate a new random public key
  var from = web3.Keypair.generate();
  
  connection.onAccountChange(from.publicKey, (buffer, context) =>{
    console.log(buffer);
    console.log(context);
  }, "processed");

  console.log(from.publicKey.toBase58());

  for (let index = 0; index < 1000; index++) {

    var airdropSignature = await connection.requestAirdrop(
      from.publicKey,
      web3.LAMPORTS_PER_SOL,
    );

    await connection.confirmTransaction(airdropSignature);

    // Generate a new random public key:
    var to = web3.Keypair.generate();
  
    // Add transfer instruction to transaction
    var transaction = new web3.Transaction().add(
      web3.SystemProgram.transfer({
        fromPubkey: from.publicKey,
        toPubkey: to.publicKey,
        lamports: web3.LAMPORTS_PER_SOL / 100,
      }),
    );
    
    // Sign transaction, broadcast, and confirm
    var signature = await web3.sendAndConfirmTransaction(
      connection,
      transaction,
      [from]
    );
    console.log('SIGNATURE', signature);
    
    console.log("Waiting 10s");
    await new Promise(f => setTimeout(f, 10000));

  }

})();
```

And as you can see the data is empty
```
{lamports: 989995000, data: Buffer(0), owner: PublicKey, executable: false, rentEpoch: 254}
```

Any idea?
What is way to communicate with the user privately without asking the user to use conventional login mechanism. 

Like for fetching the private information we can use the signed request, but that is very inconvenient as user has to do that everytime even for getting the messages
Do u know how the logic behind it works?
What abt borsch any idea how borsch deals with padding ?
Is there anyway to get all NFTs for an NFT Collection ? I've been slamming my head on this and haven't figured out how
Hi <@!242234529396424704>  I just tried to use the accountSubscribe websocket. But in the event i could'nt find the signature responsible for this lamport change on account. I think it could be in the data field in the response but the first data position is empty as you can see. Could you or someone please help me to find what i'm doing wrong?

Request
```
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "accountSubscribe",
  "params": [
    "3jb4W2VxgH3UXEzTzp6PAAvR3KzcXhGt4YKksvV4QpMG",
    {
      "encoding": "jsonParsed"
    }
  ]
}
```

Response
```
{
   "jsonrpc":"2.0",
   "method":"accountNotification",
   "params":{
      "result":{
         "context":{
            "slot":110011670
         },
         "value":{
            "lamports":989995000,
            "data":[
               "",
               "base64"
            ],
            "owner":"11111111111111111111111111111111",
            "executable":false,
            "rentEpoch":254
         }
      },
      "subscription":32336794
   }
}
```
Someone knows how to get all holders and mints of a NFT collection or CandyMachine with <@!839088888449466409>/web3?
Should be same as in testnet
I mean how much the cost if I want to deploy it on mainnet ?
Token accounts use handwritten serialization/deserialization
Would anyone be interested in testing an API/SaaS where you can generate deposit addresses and get notified when you receive a transfer using a webhook, I currently only support the dev net.
In your wallet account that you are going to use to deploy it
Yes so just Airdrop sol
https://github.com/gemworks/core I just want try to deploy this program, and on devnet it say cost around 10 sol.
Hi, I want to deploy staking program on Solana, how much SOL cost for it?
What about let say the token account  struct  it has padding, but using array ref we are able to ignore the padding and also not take into account while  calculating the Len why is that, or am wrong and it has no padding?
You certainly need to in general.  That can get complex, which is why crates like ‚Äúserde‚Äù are so involved
Makes sense for pod types, but I was referring to packing and unpacking, if so when I serialize do i not add the padding too, but we don't do this and I don't understand how is it possible tod deserialize without taking padding into account.


///////////////////////////////////////////////////////////////////////////////////////////////

Huh that's interesting.
Use https://ssc-dao.genesysgo.net/
Yes.
anyone else experiencing slowness with devnet?
for some reason the owner of the pda is the system program
has anyone seen this issue before when running `getProgramAccounts`

```{'jsonrpc': '2.0', 'error': {'code': 410, 'message': 'The RPC call or parameters have been disabled.'}, 'id': '...'}```
Hi guys! I hope you doing well! I got an issue on using SOL mainnet-beta I am getting a corn error 
```
Access to fetch at 'https://api.mainnet-beta.solana.com/' from origin 'https://nftwebsite.com' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status
```

any workaround this issue?
can I approve 2 transactions at once?
Hmm not sure.
Otherwise I dont think phantom can add custom networks like METAMASK can, might be worth asking phantom themselves
Maybe be able to proxy it from there? Thats my only thought:/
mm, i see phantom has an option for localhost ?
For example htpps://133.435.23.34:8080
Hi
Can anyone help me how I can connect my Phantom wallet extention to custom network?
I get that.
Even if its all for 'naught' lol
I just like doing things myself so I can understand them better i guess...
:/
it might be 'uneeded' but i'd rather learn low levels with nft's vs use something prebuilt tbh, ill learn a lot more doing it myself (even if i end up using metaplex in the end)
OK, I don't see why you need to write a custom contract for that?
Ahh nvm this is built in
<@!590982495923732511> That snippet you linked references:
system_instruction (&system_instruction::assign(new_account_info.key, &program_id),)
```
use solana_program::{
    account_info::AccountInfo,
    borsh::try_from_slice_unchecked,
    entrypoint::ProgramResult,
    msg,
    program::{invoke, invoke_signed},
    program_error::ProgramError,
    program_option::COption,
    program_pack::{IsInitialized, Pack},
    pubkey::Pubkey,
**    system_instruction,**
    sysvar::{rent::Rent, Sysvar},
};
```
Trying to build a simple game, with NFT items/characters. So basically user comes to the site->Create Characters->Which will mint them like an NFT sword on the character creation
If you explain what you are want to do, I can try to help.
ok, this makes a little more sense to me ty for showing me that snippet
But if you still do, here is a cpi example:
https://github.com/metaplex-foundation/metaplex-program-library/blob/cbd20f951436ab5b3873d0f3a4d15accbacf8278/token-metadata/program/src/utils.rs#L165-L191
No, its a little more complicated than that though...
If that is all you want to do then you don't need to write a smart contract at all.
Metaplex doesn't force you to use arweave, you can use any url you want.
Hmm
damn, no floor function in bpf?
```
Program failed to complete: ELF error: Unresolved symbol (floorf) at instruction #6700 (ELF file offset 0xd078)
```
ok
(or similiar)
so i was gonna make my own implementation
Im looking to create an NFT ffactory similiar to metaplex but i dont like how they are using arweave
not familiar with it
OK, let me send you an example.
No I am not
Are you using anchor?
Rust seems straightforward; Solana, not so much.
but i am literally on my second day rust programming
Thats the thing, I have no invocation code, cant really figure out the best way to do it or even find a simple example on how it works thats not super convoluted.
If you post your code on a repo/send any error messages here then a lot of people would be happy to take a look.
^me
This me right now
Yeah im struggling , iv been staring through the cookbook examples for a few days now, i have the hello world program modieid and pretty much yanked all of the code out and just have some various functions i can call with different instruction data. so now im tying to just issue calls to another contract but, Cant figure out a 'simple' implementation
https://solanacookbook.com/
But the solana cookbook has a great overview.
Yeah it's not as simple in solana.
https://dontasktoask.com/
im really strugglign with how the invocation (CPI) works.
In solidity its pretty simple; Define the interface and then do somethign like:
token = ERC20('0xADDRESS');

Then we can issue calls like

token.balance or something similiar, 

Is there no SIMPLE way to implement this with rust/solana? exluding the interface, its literally 2 lines of code in solidity, am i missing something critical here?
That I can ask some questions privately ?
Is there any master rust/solana programmers in here?
If you scroll down, there is a verification example with nacl
yeah im using that, when i sign the message i get an unit8Array back and im not sure how to verify the legitimacy of the signature in backend
Kartik gives the correct answer, but do note that not all wallets have the ability to signMessages
There is an example here.
https://github.com/solana-labs/wallet-adapter
Hey guys do you know a way to sign a message for login in a dApp  that works for all wallet sevices in solana? (example: phantom, sollet, solflare, etc.)
Let us know what your solution is. May help someone else
I'll try the proper transaction with Solflare and see what happens, hopefully I can make it work.
Not sure on Phantom's part. Looks like this has been recent on their side
That's fine, but why is it giving me that generic error? There's 0 chance to figure out what's going wrong this way...
It may some simulate on the phantom side to prevent transactions from sending if they're broken
This might be an issue with Phantom, when I look at it. Tried the same thing with Solflare, it fails less ambiguously, like I expect it to
```
Transaction simulation failed: Error processing Instruction 0: invalid instruction data 
    Program 11111111111111111111111111111111 invoke [1]
    Program 11111111111111111111111111111111 failed: invalid instruction data
```
It's all the same whether I pass data or not, tried it both ways.
Is there no data?
I've been getting this error when trying to send a transaction using the phantom wallet adapter
```
Phantom - RPC Error: Transaction creation failed. 
Object { code: -32003, message: "Transaction creation failed." }
```

I was trying to send an instruction to my custom program which was failing in the above way. I then decided to send an incorrect instruction to the system program or token program just to make sure that it's not something on my end. I was expecting to get some kind of custom program error, but no, same thing. Doing this on devnet. Here's my full code. https://pastebin.com/ebFLWrRf
Okay, sheesh chill out
Nothing has been implemented yet. Discuss with GenesysGo please. We are not their support
Right... but with the newest validator version, there were improvements made, wondering if that could be the cause maybe some anti-ddos
We don't know how their stuff works.
Asked here to see if this is a solana validator thing or just theirs
I did already üòâ
Ask there then
I did already üòâ
We don't support GenesysGo here. Recommend going to their discord https://discord.gg/JhGqTszR
hey recently I have been getting a lot of ETIMEDOUT while using the GG rpc
Thanks, will try this
Every new transaction? You probably have to poll the slots for block and get the blocks
<@!788215642070581289>  thoughts on why it's not showing the connected wallet balance?
what method would I use if I want to setup a listener with `Web3.js-solana` package to inspect every new transaction
see below
You're welcome to make a PR, we love them
The @ solana/web3 library is using an old version of the Borsh library that's broken without some specific polyfills - it's using version 0.4 when a fix has already been implemented in Borsh 0.7 - is there any plan to update this?
hrmm
Chainlink and Pyth are working on them as well
is there something like chainlink vrf?
VRF. I believe switchboard has something
How can we generate random numbers in solana
lmfaooo
i honestly, hate computers.
love u
both of y'all <:lmao:897886549671313439>
thank you so much though
lmfao
https://tenor.com/view/out-disappear-bye-vanished-gif-4932063
<:FacePalm:703641060449976361>
do you have multiple installs?
i was using the config.yml from the install folder instead of the cli folder
so
ok
`solana config get`
hmmm
Hmm maybe the config file path is wrong?
ioi
he asked lol
i can run which solana
i can edit it and save it
ik
<@!433068976621223936>
not if he can run solana --version. no
Can you edit the file?
i can vi the file
I don't think it's a binary issue.
```
stat `which solana`
```
its removing ma tildes...
stat `which solana`
Can you `vi` the file in terminal and view it successfully?
i gave myself permissions and nothing
Yes.
the config.yml file?
If yes then you might have changed the permissions of the config file.
how do I check?
yes
Does solana --version work?
what perms are on the solana binary
does anyone know why I'm having this permission issue on macos? I don't remember having these issues before and I have admin account
Hi, it's 8:30 pm here.
I've been trying to read as much as I can, slowly progressing but It just feels super complex for some reason
gm Kartik
It can feel that way. You could go through some of the rust book if you want
iirc both
is it just me ? lol
i feel retarded trying to learn rust on solana without ever having learned rust before
does `connection.getProgramAccounts(programId)` return the PDAs owned by the program or just the accounts? for me its just returning accounts for now.
Ah the time honored fix.
https://tenor.com/view/hello-it-have-you-tried-turning-it-off-and-on-again-telephone-on-call-gif-15495555
yep probably lol

maybe the env was fkd up when u installed libudev
thanks for your support ‚úã
mind effing blown
Dude <@!590982495923732511> i restart my computer and everything works well
https://ssc-dao.genesysgo.net/
This one gives a too many RPC calls error
Are there alternative endpoints to: https://explorer-api.mainnet-beta.solana.com/
Might be.
does the path ?
i already did `pkg-config is already the newest version (0.29.1-0ubuntu4).`
Install `pkg-config`
There is an npm package `@metaplex-foundation/mpl-token-metadata`
https://github.com/samuelvanderwaal/metaboss
Hey, can anybody help me fetch metadata of an NFT from metaplex ?
` thread 'main' panicked at 'Unable to find libudev: `"pkg-config" "--libs" "--cflags" "libudev"``
yep still not working lol
or source it
Hmm try closing and opening the terminal.
`libudev-dev is already the newest version (245.4-4ubuntu3.15).`
yes i think i tried that one but still not working hmmm
`sudo apt install -yq libudev-dev`
See: https://solanacookbook.com/
Simulate transaction and hope.
paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/
hi guys, i found a problem when i want to install spl-token. It gives me this error :

> error: could not find system library 'libudev' required by the 'hidapi' crate
Cant find anything useful
Is there a tutorial on cross program invocation w example code somewhere?
use ` <= this char 3 times at beginning of your code & at the end please to make it readable
ive verified this and it works
when a user signs a transaction using their phantom wallet, what prevents a programme from emptying their wallet? here is an example client and smart contact

   
```
client side
const instruction = new TransactionInstruction({
      keys: [
        {pubkey: publicKeyOfUser, isSigner: true, isWritable: true},
        {pubkey: pda[0], isSigner : false, isWritable: true},
        {pubkey: SystemProgram.programId, isSigner : false, isWritable: false}  
      ],
      programId,
      
      data: Buffer.from("blah"), // All instructions are hellos
    });


    let transaction = new Transaction().add(instruction)
    transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
    transaction.feePayer = publicKeyOfUser
    let signed = await provider.signTransaction(transaction)
    let signature = await connection.sendRawTransaction(signed.serialize())
    await connection.confirmTransaction(signature)



Smart contract side

        let user_account = next_account_info(accounts_iter)?;
        let pda_account = next_account_info(accounts_iter)?;
        let pda_transfer_ix = transfer(user_account.key, pda_account.key, 100*LAMPORTS_PER_SOL);
        msg!("transferring from user to pda");
        invoke(
            &pda_transfer_ix,
            &[user_account.clone(), pda_account.clone()],
        )?;
```
like following 5 marketplaces contract making more 200k tx a day
what's the command to update `solana cli` and `spl-token` to the latest stable version ?
Looks like one of the public keys you are passing is undefined.
We can't help without seeing the code.
Are you tracking something more specifc that you can't use any of the other `onXXX` subscriptions?
using WS with onLogs looks very expensive to maintain, is there anyway to fetch an entire block time to time and browse the tx ? Not real-time but "almost real-time" alternative ?
Keep in mind that each call to that logging is 100 CU but it should be relative with a tight wrap
gotcha, yea I had not thought of logging it, thank you!
If it's not ***just*** the difference of invocation then it is costing the same as a custom program would be calced? Of course someone here may just give you the skinny... I can't say for certain without digging
Ok, but wouldn't `sol_log_compute_units()` before and after the call tell you that?
For example the Vote program which is compiled natively in the node.
Do you mean like `sysvars` like `Clock`? Or what specific 'native program' are you referring to?
Hi all, I'm building a Solana dApp with Next js. It's sending some custom transactions to my program. It works with wallet adapters, sending transactions to the system program, etc. However, any time I try to send a custom transaction and run the app, I run into

```
TypeError: Cannot read properties of undefined (reading '_bn')
    at isPublicKeyData (/home/user/Projects/myproject/dapp/myproject/.next/server/chunks/812.js:6693:16)
    at new PublicKey (/home/user/Projects/myproject/dapp/myproject/.next/server/chunks/812.js:6711:9)
    at Object.5678 (/home/user/Projects/myproject/dapp/myproject/.next/server/pages/details.js:446:32)
    at webpack_require (/home/user/Projects/myproject/dapp/myproject/.next/server/webpack-runtime.js:25:43)
    at Object.4678 (/home/user/Projects/myproject/dapp/myproject/.next/server/pages/details.js:427:14)
    at webpack_require (/home/user/Projects/myproject/dapp/myproject/.next/server/webpack-runtime.js:25:43)
    at Object.8371 (/home/user/Projects/myproject/dapp/myproject/.next/server/pages/details.js:1166:21)
    at webpack_require (/home/user/Projects/myproject/dapp/myproject/.next/server/webpack-runtime.js:25:43)
    at Object.31 (/home/user/Projects/myproject/dapp/myproject/.next/server/pages/details.js:1245:14)
    at webpack_require (/home/user/Projects/myproject/dapp/myproject/.next/server/webpack-runtime.js:25:43) {
  type: 'TypeError'
}
```

It looks like a problem with bn.js and webpack, but I can't figure it out. Anyone seen anything similar before? It's extremely frustrating.
hey <@!814228493302497301> thank you. I understand that CPI costs (invoking itself and if we are calling another onchain program). Still not sure how the native program used resources are calculated though.
I believe they call that the "Kandy Kolored Tangerine Flake Streamlined Baby" (but I could be wrong) However; I believe you can... check out the options in `solana-validator --help`
Hi I can't upload my project to Solana ecosystem.
it happens over and over again.
is it possible to run a solana node that receives blocks, but doesn't act as a validator? Is there such a thing? Does it have a name?
that's probably the weirdest part right there. I'll still go mainnet now before upgrading
Sure... funny thing is: If you do go uplevel and have no problem deploying then why did it repeatedly fail in the first place? We may never know..... üôÇ
sure, i'll keep this going for now and i'll do that
I would then move forward to `1.9.5` if you can to see things are still good, up to you
Yes. It costs to do everything in your program. When you invoke CPI the costs of CU incurred during the running of the CPI is coming out of your programs invoking instruction CU budget
For example, just to  invoke another program: 1_000 CU
Hi! does invoking native program instructions cost compute budget? for example the native Vote program, since it is not compiled to BPF instructions, how is the budget calculated?
1.8.14
what version?
thank you <@!814228493302497301> i just tried a different solana version and i can now deploy to devnet
OK, so whacked prior and re-installed:
```bash
fastfrank@ubuntu:~$ solana
solana: command not found
fastfrank@ubuntu:~$ solana-install
solana-install: command not found
fastfrank@ubuntu:~$ sh -c "$(curl -sSfL https://release.solana.com/v1.8.14/install)"
downloading v1.8.14 installer
  :sparkles: 1.8.14 initialized

solana // <- Showed full 1.8.14 menu
```

Then I cloned a repo and did a build:
```bash
git clone git@github.com:hashblock/solana-cli-program-template.git
```
DId a build:
```base
cd solana-cli-program-template/program
cargo build-bpf
BPF SDK: /home/fastfrank/.local/share/solana/install/releases/1.8.14/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: rustup toolchain uninstall bpf
info: uninstalling toolchain 'bpf'
info: toolchain 'bpf' uninstalled
cargo-build-bpf child: rustup toolchain link bpf /home/fastfrank/.local/share/solana/install/releases/1.8.14/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release

// LINES OMMITED
    Finished release [optimized] target(s) in 27.29s
cargo-build-bpf child: /home/fastfrank/.local/share/solana/install/releases/1.8.14/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/llvm-readelf --dyn-symbols /home/fastfrank/frankc01/solana-cli-program-template/target/deploy/solana_cli_template_program_bpf.so

To deploy this program:
  $ solana program deploy /home/fastfrank/frankc01/solana-cli-program-template/target/deploy/solana_cli_template_program_bpf.so
The program address will default to this keypair (override with --program-id):
  /home/fastfrank/frankc01/solana-cli-program-template/target/deploy/solana_cli_template_program_bpf-keypair.json
```
thanks!
Alright, I will spin up a Linux (Ubuntu) VM and try to recreate. This will take a while
yep
You are on Linux right? And you recycled the terminal after the install yes?
i did all of that but still the same build error
If all that works, rebuild your program before trying the deploy
alright, reinstalling
just delete:
`rm -rf /home/hugs/.local/share/solana`
`rm -rf /home/hugs/.config/solana`
Presuming you didn't move stuff around
understood. please what's the fastest way to uninstall solana?
CAUTION: If your default key has SOL in mainnet preserve that first
Ok, I'm not a solana core dev person, but I would first try to do a `solana-install update` (thinking it will bring you to `1.8.14`. If not, and it jumps you to `1.9.x` and it were ME, I'd delete solana and reinstall `1.8.14` from scratch... because I think it is easy enough to do
```bash
‚ùØ solana-install info                                                                      
Configuration: /home/hugs/.config/solana/install/config.yml
Active release directory: /home/hugs/.local/share/solana/install/active_release
‚Ä¢ Release version: 1.8.0
‚Ä¢ Release URL: https://github.com/solana-labs/solana/releases/download/v1.8.0/solana-release-x86_64-unknown-linux-gnu.tar.bz2
‚Ä¢ Release commit: 4a8ff62
  :gift: Update available: 1.8.14
```
And what does `solana-install info` show?
yes
hmmm, how did you downgrade? Using `sh -c "$(curl -sSfL https://release.solana.com/v1.8.0/install)"` ???
<@!814228493302497301> someone suggested downgrading solana install. but now i get this error

```bash
BPF SDK: /home/hugs/.local/share/solana/install/releases/1.8.0/solana-release/bin/sdk/bpf
Running: rustup toolchain list -v
Running: rustup toolchain link bpf /home/hugs/.local/share/solana/install/releases/1.8.0/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust
error: not a directory: '/home/hugs/.local/share/solana/install/releases/1.8.0/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust/lib'
error Command failed with exit code 1.
```
They can be if you give them enough SOL:  `const rentExemptionAmount = await connection.getMinimumBalanceForRentExemption(dataLength);`
And PDA max size is 10 KB
are PDAs rent exempt?
naaah, no worries. i appreciate the help
Ok, sorry not able to get you through this
not at all. after trying a couple of times i restarted and haven't turned it on since
One last thought, you don't have a local validator running while trying to deploy to devnet right? (It's a long shot but what the heck, may as well ask)
anyhow <@!814228493302497301> thanks for your help üëç
yeah, it' not related to anchor is the general consensus
Did you try this question in the Anchor Discord ?
but i've never even downloaded anchor so can't answer this
invalid blockhash -> kind of descriptive. might be getting a blockhash from the wrong cluster or just an outdated one, think there's about a 2min timeout
whenever i run `anchor deploy` or solana deploy. similar messages
Is this program from Anchor build or a Metaplex thingy?
<@!788215642070581289> <@!785084693023424542> <@!831442277889081355> Any insight into <@!322016887259004929> issue with deployment?
that's the error message the pops up. do you know what could be causing this?
```bash
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```
Don't think that is it
371760 bytes.
How big is the so file?
is it possible the program is too large or some other obscure error like that?
i can do pretty much everything on devnet except deploy.
So my deployment worked
I will try to deploy one of my programs, hold on
yes. same message
However; if you just do the deploy from cmdline by yourself (not using yarn deploy script) it errors out right?

it's used to run the deploy script
What is that `yarn` crap in error message?
error account not found
yes
when pointing to devnet of course
also, does your default config keypair have any SOL?
If you query the bobbins-keypair.json `solana account ./target/deploy/bobbins-keypair.json` what do you get?
Simulate sending a transaction

Parameters:#
<string> - Transaction, as an encoded string. The transaction must have a valid blockhash, but is not required to be signed
hi, how to encoded a Transcation to a string in javascript? in this rpc i want to encode my transaction to string.
If you mean `solana-test-validator` everything usually works üôÇ
the same command works without any issues on localnet
`solana program deploy ./target/deploy/bobbins.so --keypair ./target/deploy/bobbins-keypair.json`
How are you calling `solana program deploy` ?
If you are willing to load the test validator programmatically, check `TestValidatorGenesis` in the Solana repo for what options you have. 
Its in `solana-validator` crate
Is there a way to retrieve via JSON RPC API a TokenAccount from a mint address?
<@!814228493302497301> please could you help? https://discord.com/channels/428295358100013066/517163444747894795/935848519456141352
<@!814228493302497301> if it's not possible to change via a command line flag, do you know if it's possible to do it any other way?
Right, meaning that slot options only include these:
```bash
--slots-per-epoch <SLOTS>
            Override the number of slots in an epoch. If the ledger already exists then this parameter is silently
            ignored
    -w, --warp-slot <WARP_SLOT>
            Warp the ledger to WARP_SLOT after starting the validator. If no slot is provided then the current slot of
            the cluster referenced by the --url argument will be used
```
i sent funds from phantom (devnet network) to binance but i saw that devnet funds are fake, and i sold my nft and seller send funds through devnet
I cannot see it in the help
What issues
hello, im having issues in devnet, can anyone help?
`solana-test-validator --help` gives you the options
i keep getting this error when trying to deploy to devnet

```bash
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
=========================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
ERROR: "deploy:cluster" exited with 1.
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
```

I've recovered many times, i've closed the buffers and all. but i just cant deploy
Is it possible to change the number of slots generated per second while running the solana-test-validator ?
hi, can simulateTransaction need no sign?
I couldn't find it on docs
hello, how do I upload the program's shared object to the program account's data buffer?
i clicked the mainnet beta validator
just to absolutely clear folks - Solana does not currently have slashing implemented, right? i was considering staking some Solana, and just wanted to make sure i understood correctly that slashing isn't yet implemented, because I've seen that said on this discord server before, yet some Solana docs talk about slashing as though it's already in place
<#796351569921703946>
oh well it says that i don't have write permission
thank you
<#560496939779620864> or <#560174212967432193>
no it's validator node related
What's your question, we may better direct you if it isn't development related
This may very well earn you a deluge of DMs from scammers
so it was passing a `null` `window.solana.publicKey` into the transaction
I connected my ledger, but the connection mustve timed out or disconnected over time
yeah sorry, basically it was because ledger wasn't connected
So phantom error was because? (Others may benefit from your answer)
the `window` variable of your browser, which is where the wallet information typically hides, `window.solana` for phantom or `window.solflare` for solflare
i found the issue...was a phantom problem
ah okay
What is 'window'?
lol i know this...
A public key is a 32 byte array
What about `VAULT_ADDRESS` is a public key?
it looks fine...

if I log `publicKey` itself
nor can I figure out why it would suddenly start breaking two days ago, because I don't see any breaking commits on the repository
and I can't figure out why
but then when i pass in `publicKey`  to transaction information in  `let { signature } = await window.solana.signAndSendTransaction(transaction);` for some reason, starting yesterday, this func borks
and that works just fine...shows the public key as base58 string
Yeah the thing is that it *is* a public key. You can see the line before it, I'm logging the public key with `console.log('Submitting transaction for: ', window.solana.publicKey.toBase58());`
I'm not sure exactly here, but you get that when you pass in something that isn't a public key to a public key field. I usually find I've accidentally passed in a keypair or a public key as a string
was working just fine a couple days ago, but since then I get error `TypeError: x.pubkey.toBase58 is not a function`
```js
    const enc = new TextEncoder();
    const connection = new solanaWeb3.Connection(solanaWeb3.clusterApiUrl(CLUSTER));
    console.log('Submitting transaction for: ', window.solana.publicKey.toBase58());

    // Add transfer/memo instruction to transaction
    const transaction = new solanaWeb3.Transaction();
    transaction.add(
        solanaWeb3.SystemProgram.transfer({
            fromPubkey: window.solana.publicKey,
            toPubkey: VAULT_ADDRESS,
            lamports: solanaWeb3.LAMPORTS_PER_SOL * fee,
        })
    );
    transaction.add(
        new solanaWeb3.TransactionInstruction({
            keys: [{ pubkey: window.solana.publicKey, isSigner: true, isWritable: true }],
            programId: new solanaWeb3.PublicKey('MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr'),
            data: enc.encode(JSON.stringify(apeIds)),
        })
    );
    transaction.feePayer = window.solana.publicKey;
    transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
```
Heyo, any idea why this wouldn't work
okay.
3
Hi!

I'm looking for a way to download(or create) a snapshot created at a SLOT in past epoch(current-1) where epoch is about to switch(say 1000 slots before it switches to current epoch)
I also tried using --warp-slot of solana-ledger-tool create-snapshot to jump into the future of the current epoch when running solana-validator locally, but I got a problem
After solana-ledger-tool finishes and I try to start solana-validator from created snapshot(which is about 11gb in size) it crashes with 
thread '<unnamed>' panicked at 'called `Result::unwrap()` on an `Err` value: Custom { kind: Other, error: "too large file size 35617574912 for AppendVec" }', runtime/src/append_vec.rs:180:61

What would be the easiest way to get a snapshot at a SLOT where it's about to switch to a new epoch, say on devnet.

Using v1.9.4 tag from github
Thanks for the help!
3 or 0.3?
same question, if you have an answer I'm interested üòÖ
https://docs.solana.com/developing/programming-model/transactions#anatomy-of-a-transaction
I haven't looked at what solana-py does in this regard, but the link may help you to debug what you are getting in the return
thanks I was using deserialize from solana.py, I think the transaction was just not properly formed since the instructions are coming up blank
You are capped to 10 MB per account (or 10 K per Program Derived Account).  You could theoretically create a PDA PER bet which scales better but someone needs to pay for those at some point to keep them from disappearing.

However; if you are storing that in a DB... what is in the individual accounts?
sure. you can deserialize it.  you can take a look at https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#from
maybe https://github.com/project-serum/spl-token-wallet
transfer_checked makes mint and decimals explicit
when you use transfer, you only need from, to, amount
when you use transfer_checked, you need the three value above and decimals and mint.
If I have a byte array of a transaction, how can I get the instructions of that transaction?
yeah thats's a good question, lets say it grows with time. is there a critical point where it makes sense to use a db instead of an account?
Hello all. I want to build a Solana blockchain wallet. If there is an open source application that will give me a head start, then please could you give me a pointer to it
thanks and makes sense
You probably don't want to store the list in an account, unless you just kept a list of like last x bets and not the full list. You could also create a bet account each time they place a bet and get all the bets they've ever placed using getProgramAccounts and filtering, but then you can't close them and are wasting the lamports. So you should probably use a database if you want to keep a list of all bets in my opinion
Over the lifetime of an account, how many bets could be made?
lets say im building a betting platform on solana. my main question is do i store the list of bets that users have placed in an account or do i store it in a database?
What is the difference between `spl_token::instruction::transfer` and  `spl_token::instruction::transfer_checked`? What does it check for?
Yes I deployed a program on mainnet last week and it cost approx. 3 SOL
did you just try to ping tens of thousands people
@here
is that correct?
How much it costs to deploy a smart contract in solana?. We have crated a smart contract and deploy in test net and it cost around 3 Sol?
Oh, I solved it by changing connection url link
Hi. Why this code snippet returns error? I just want to fetch one  transaction data, but it shows me 'Too many request' . How can I fix this error?
haha thanks
I want to make a custom token contract on which i can deduct certain fee and send them to a liqudity pool, media and dev team wallet, Is there any dev available that can help me out to build a token contract like this
https://solanacookbook.com/references/accounts.html#program-derived-address
yes
Can a program have multiple PDA's
try this: https://solanacookbook.com/references/keypairs-and-wallets.html#connecting-to-a-wallet
yessir <:gatsby:931600654240202764>
cant find anything on their docs page in regards to the problem either
i ended up trying their JS SDK but it still hasnt helped me deserialize the data lol
idk if it's on my computer or on the cloud ubuntu
just finished eating since i was getting frustrated. I'll have to find this
Hi dudes, I get some issues with Solana in reactjs, this is the place where I can ask for help?
gotcha, not trying to deploy anything on-chain. really just want to get Clock working in rust. I'll keep digging, thanks for your help
I would deploy to a local validator or devnet and try that.  not sure on these mixed results.
just using solana-program and cargo build & run
the error is the same when I'm not using anchor
not sure on results if using anchor,  anchor has anchor test, build, etc.  
normally you would deploy and test, or run a test against a local validator
I'm using cargo run
is this in a cargo test?  or how are you interacting with it, if its not deployed?
this code is for the runtime, when deployed.
I'm using anchor-client to interact with a contract
According to the docs, it has it: https://docs.rs/solana-program/1.8.0/solana_program/clock/struct.Clock.html#method.get. I'm running a local Rust file, not deploying anywhere
i dont recall if 1.8.0  has the clock::get() available.  some sysvar ::get() were not added until a certain release, and you needed to manually pass the sys vars in from the client in many cases.  are you deploying to a test validator or what network?
where you install the solana cli -   root is whatever your root folder is.  ` ~/.config/solana/  `   is the default path where a keypair is created when you do keygen new,  id.json is the default file name. 
based on your OS and setup the install and or default root path may be different
I'm using 1.8.0, and it's a runtime error. No other errors show up
if this is in program code, should be fine.  what version are you on?  there are plenty of examples from the repo with basic use.  is this a build error or runtime error? any other errors?
i'm not sure where to find the path. "/root/.config/solana/id.json" is what I tried
When I call `Clock::get()?`, I get `Error: Unsupported sysvar`. This is my import statement `use solana_program::sysvar::{clock::Clock, Sysvar};`. I can't seem to find anybody else with this issue. Any tips?
the file is you recovered
https://docs.metaplex.com/candy-machine-v2/introduction
how can I find the json path to insert there
have you use `solana config set -k <your-json-path-here>`
ill try taking a look thanks. by any chance do you know how candy machine does it?
if you want to decode account data, you need to know how program serialize it.
you can take a look at https://solanacookbook.com/guides/serialization.html#serialization
i still have 0 of the coins when i did  "spl-token accounts" but it does list the token now
alright! it says I've recovered pub key now
try `solana-keygen recover -o your-wallet.json`
I have some of the tokens I transferred over to myself in my fantom wallet when I was practicing the spl token transfer but the bulk are in that wallet
i don't have the private key for it. just pubkey and the recovery phrase
if you still have the private key, you can paste it into a file and the format is byte array. (like `[183,191,2,........]`)
then you use solana set -k <your file path> to set default keypair
Thank you chido
maybe take a look at https://github.com/solana-labs/wallet-adapter

Hello, im making an RPC call to fetch the metadata associated with a candy machine. it returns a base64 encoded string (jsonParsed doesnt affect it), and when i attempt to decode it to ascii it shows the following image below

How do i make it decode properly?
Is it not possible to init a data account with a fixed size areay? Something like Arr[u8;10000]?
specific question is recovering a wallet's content after a server was deleted. solscan still shows the wallet with the tokens. I have pub key and secret phrase but unable to gain access using command prompt etc. Thoughts?
any developers online that are familiar with using ubuntu and coin creation
But I want people to be able to connect their phantom Wallet or math Wallet
I am trying to add use of  Solana on my website
Hello,  does anyone know how to add a wallet connect button to a website?
https://lu.ma/la-hacker-house
<@!389475326964793357> - Thompson Hotel Hollywood is one place that's near (if you get bed bugs, don't blame me.  I've never stayed there üòâ )
what's the la hacker house lmao
Get a hotel near the Hollywood Walk of Fame and you'll be good
Flying out to LA from SF and want to get a hotel close to the house but can't find the right info üò¶
Hey folks! Was just accepted to the LA hacker house but can't find any info on the location of the house / other instructions to get there. Can someone help out with the right info?
Check out solana docs and solana cookbook
Yep!
Yes
An RPC is a good idea but might be overkill to get the balance of an address a couple times a day
Hmmm are there other known endpoints we can use to curl besides explorer?
(I already know some rust I want to go to smart contracts)
does anyone know where should I start?
I've been wanting to learn some smart contracts development for a while now but I haven't found any good resources
hey guys
Helllo, I'm studying SPL-token structure. How can I decode Token account data? If i use 'getAccountInfo' function, I got  AccountInfo<Buffer> type of 165 bytes. How can I decode this into human-readable number?
keep getting this error
{'jsonrpc': '2.0', 'error': {'code': 410, 'message': 'The RPC call or parameters have been disabled.'}, 'id': }
did getProgramAccounts get changes?
https://tenor.com/view/mindblown-tg-mindblown-mindblown-emoji-gif-19138097
I just did 3 account loop 

address1 pay -> addres2 
address3 pays the fee 

crazy....
Error: Account 9i2rKMAxQtpAmPPtWdzzhR8nqTLjhqzvCVD9BDHdC2sK has insufficient funds for fee (0.00001 SOL)
Interesting 

That account is suppose to be receiving sol 
I removed --fee-payer to test 

So what's going on ?
Does the recipient pay on normal basis ?
solana transfer --from <KEYPAIR> <RECIPIENT_ACCOUNT_ADDRESS> 0.5 --allow-unfunded-recipient --url https://api.devnet.solana.com --fee-payer <KEYPAIR>

^^^ does --fee-payer mean to say that we can dictate who pays gas ????
solana airdrop 1 <- did the trick like you said
$ solana account GcRECXeBzcnU6Rx6biSJ2rRrLr16McDPzQGhZXycJttr

Public Key: GcRECXeBzcnU6Rx6biSJ2rRrLr16McDPzQGhZXycJttr
Balance: 1 SOL
Owner: 11111111111111111111111111111111
Executable: false
Rent Epoch: 255
<@!489206164270350337> ty ty
Use more accounts
What are my options if I want to store more than 10kb of data on chain?
boom
$ solana balance
0 SOL
=/
Windows has very shakey support. Recommend wsl

why is everything so difficult today

thanks
understood
It's not wrong. As soon as you get SOL, that CLI command will work
Recommend getting your own rpc like genesysgo or quicknode. I think genesysgo has their stuff free
Hmm I might be doing something wrong i reckon thank you.
for new accounts...?
solana account <address from above>
this part is wrong
so basically
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
Once you make a transaction getting some SOL, it'll be allocated
So that just creates the keypair. You can sign and everything, but there isn't an account allocated onchain yet
https://twitter.com/jacobvcreech/status/1471614862207987712
I was able to run it and it caught some vulnerabilities
what do you mean by 
init account ?

all I did was 
solana-keygen new
I think fireblocks has some service, as well as gokiprotocol
So if you don't init the account, it won't be found. Your keypair can still have an address though
PDAs max out at 10kb
So it looks like the maximum account size in Solana is 10 MB, but you can't have a PDA that's larger than 10240 bytes (0.01 MB), right?

https://stackoverflow.com/questions/70150946/systemprogramcreateaccount-data-size-limited-to-10240-in-inner-instructions

Is it really not possible to create a PDA that can store more than 0.01 MB of data? Or is there something I'm missing?
what the heck is going on ?
Please I need help with this ERROR

I'm so confused 

$ solana address
71vJHh61aZySmVoVKPbFPEFM9pp9F3MywicjU11zg772

$ solana account 71vJHh61aZySmVoVKPbFPEFM9pp9F3MywicjU11zg772

Error: AccountNotFound: pubkey=71vJHh61aZySmVoVKPbFPEFM9pp9F3MywicjU11zg772
hey does anyone know of open-source projects w/ a custodial wallet infrastructure (ideally Solana but Eth is fine too)? Want to set one up in my proj so would be great to see how it‚Äôs done
Doesnt catch single of em
But it has like so many vulnerability...
üò∂
Hi jacob, just wondering if the soteria works. It doesn't show me any vulnerabilities...
$ solana address
HAEd3PH8mUHgeak8cUYER7maj5cLziSP6qgTisin4jkB


$ solana account HAEd3PH8mUHgeak8cUYER7maj5cLziSP6qgTisin4jkB

Error: AccountNotFound: pubkey=HAEd3PH8mUHgeak8cUYER7maj5cLziSP6qgTisin4jkB

Um ???? ^^^^ what am I doing wrong ?
The curl has always been working till the last 2 days. I have also tried changing IP addresses
Hello, I am getting an error when I try to curl to Solana.

request is :
```c
curl https://explorer-api.mainnet-beta.solana.com/ -X POST -H "Content-Type: application/json" \
  -H 'Origin: https://explorer.solana.com/' \
  -d '
  [{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getTransaction",
    "params": [
      "4Ev2zNvuvLsXyRG6eFqPudGa1DCKq4QfUmeZ8my8R6nmV3pSkAi1BTjmHjwJLLa2fXRLAFzyKg8gfcAuGJVqBdPd",
      "jsonParsed"
    ]
  },
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getTransaction",
    "params": [
      "29RAi1kDZp8CMdgspbsYcTT6HdhfSGeGtueTu6GHhhSVmqiRy7Nk7fZnau3ZkRNSBz2ugcifnmcCWTkTYATsCvfZ",
      "jsonParsed"
    ]
  }
  ]
'
```
and, the error is:
```c
[ {"jsonrpc":"2.0","error":{"code": 429,"message":"Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": 1 } , {"jsonrpc":"2.0","error":{"code": 429,"message":"Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": 1 } ]
```
I did the following:
```
var signer1 = Keypair.generate();
var tx = await connection.requestAirdrop(
   signer1.publicKey,
   LAMPORTS_PER_SOL,
);
console.log(tx);
var signer = Keypair.fromSecretKey(signer1.secretKey);
```

Then I pass the `signer` variable to the keys array of TransactionInstruction.
in solana explorer, it is able to pull up a bunch of information about NFTs by their mint account. For Example: https://explorer.solana.com/address/2pQAmwN3jrzYDwdj6p88ZEpq1gUsAAiTMAk5kgzR2oZp

is that possible to do with any of the tools provided to the community? anyone know where I should look in the documentation?
```use Keypair.fromSecretKey(new Uint8Array([12,12...]))```
Hello, is there an easy way to transfer tokens using spl-token library ?
Hi, what should I pass to the keys array of TransactionInstruction?
I tried to pass the  `let signer = Keypair.generate();` and I tried to pass `let signer = Keypair.generate().publicKey;`.
Both didn't work for me. I always get `TypeError: Cannot read property 'toString' of undefined`.

I also tried to pass the `let signer = Keypair.fromSecretKey(...);`. Got the same result.
Any thoughts please?
Hi everyone, whats the easiest way i could programmatically fetch information about a candy machine through its address only? (name, state, available and redeemed items, etc)

ive looked into solana web3.js and anchor, but theyre both really confusing and idk where to start
oh, maybe last question: is there any existing example and where can I find it?
Excellent! Thanks a lot of help
You can always recreate it
If you miss rent payment, your account will go poof
Yes
If you miss a rent payment and your account is disabled can you pay back rent and get it reenabled?
That sounds promising üôÇ
And, I can check if custom instruction exists as well, right?
In your mint instruction check the tx and if the burn instruction does not exist fail mint
I understand
Maybe I don't get something, but I have just security considerations - in my react app I will create instructions array, where I will push both burn and mint instructions. But what if someone get program's id and just skip burn step? He could just call mint instruction and that all :\
Alternatively, you do send all accounts and tx information as part of the tx. Just check the account amount == 0 in your mint new one tx and introspect the previous burn instruction
If you call a burn instruction and it fails, the tx will fail.
I don't think it will work for me
I need to do next things: I need to send a few nfts to program, check their owner, burn them, and mint new one instead
I can easily split this instruction into a few smaller, like I can check and burn nfts in one, and mint in the second. But still I need somehow to check whether those nfts were really burned. Because I'm afraid that someone can just skip burn instruction and go straight to mint
A failing instruction fails the entire transaction
Okay, I here is what I need: looks like my program invokes too many programs, and that requires too many compute units (idk why, but sometimes it works fine, its so unstable). So, the only solution I see is to split my program into a few smaller instructions. And, for example, if I have instruction A and B, can I check in instruction B if A was finished successfully?
I agree that one must wait, but being ready to hit the ground running ain't a bad thing eh?
I have branches for tactical and strategic
Just to test, sure. But for full development? Maybe not yet
I almost wouldn't recommend this because there's no ETA of when this will be available
<@!552577283404202004> This is available local if you build the solana repo. You can set Tx wide CU
await it?
Here's all the info https://github.com/solana-labs/solana/blob/cc76a73c4916c23c88bad25db3f5d352bf073dac/program-runtime/src/compute_budget.rs#L77
lol okay
but how can I calculate how many compute units each instruction needs? Because this value always floats as I've noticed
Not today
Dear Cookbook aficionados: how might one retrieve the account data embedded the `AccoundData` (typo) struct that is embedded in a `Promise<AccoundData>`  return type after calling `getAccountData(connection, myAccountPublicKey)`  in this client-account-data-deserialization example? Promises are the bane of my existence, tbh. Thanks in advance for any/all help! https://solanacookbook.com/guides/serialization.html#client-account-data-deserialization
Can I somehow increase compute units amount?
https://tenor.com/view/slap-gif-9342231
I don't resort to violence. Won't solve anything
so smack em
One exists today, the other doesn't. I can't tell the future
Who knows ü§∑
What do I say when someone tells me 
ETH2.0 will be better than Solana ?
You can do staking with a program. Here's an example https://github.com/step-finance/reward-pool
https://solanacookbook.com/references/nfts.html#mint-the-nft
yeah i imagine youd have to make a program for the staking
I'm still not super familiar with them tbh
Can someone verify if my understanding is correct here - as far as i gather, support for staking a token is essentially just recording the wallet that sends a token to a specific escrow wallet, then kicking them back some benefit on a daily basis for keeping it there; I can do this pretty easily with some scripting on a server, but is it supposed to be something done with smart contracts?
Is there a guide somewhere to attaching metadata to spl tokens (for an NFT?) if thats the proper way to do it ?
Haha true.
I figured I can put two or more of you together and arrive at the same conclusion üòé
You have been programming longer than I have been alive.
anyone did mint module in python for CMV2?
It creates a temporary account, wraps 130 sol, then distributes royalties, pays the seller and closes the account.
yeah I don't really get it tbh
Check the pre/post account balances:
https://solscan.io/tx/4UwDj2sGa7GAYs9T2tR3uVN8VMKFnGt3G7SySa6LU4YxFA2gyc7CCr9JiEBuF9jbKGBdH334e6KdnKBaz9GiZxXJ
Why would I be offended?
?
No offence, but we are studying BAL in the history of programming...
how is this possible?
but still the sol balance is 0
getting 130 SOL, never sent it out
this is an account with only 1 transaction
Ah makes sense.
https://solscan.io/account/414ukSrZsZgEHSSpSEtPTAyXPLtxXsr1aDttjh7r1LnZ
Go ahead
360 BAL
Hey, am I allowed to post a solscan link in here? I have a question relating to a wallet
https://tenor.com/view/far-too-long-richard-williams-prince-ea-long-time-way-too-long-gif-17799041
Since you hold the authority, you know the only inflow was what occurred between the last time you touched it.
You create a pda attached to the account you're fanning out. And record inflow on every distribute instruction, before distributing. So it's just the difference between current value and last value.
Transferring between two PDAs?
But how are you doing that?
Yeah, basically need to record total inflow
for how long have you guys been programming?
Interesting.
So you have a total_amount_in and a pda with amount_paid and split_amount on each wallet's public key?
Ah makes sense.
Yes it's working.
I just solved the problem. The reason of that error was that I have a main.rs file inside the src directory with a lib.rs file. I think that the compiler was considering the main.rs as the main of the program (and the main.rs file doesn't contain an entrypoint).
It's doable. Just requires a crank. And we got kind of creative about the crank such that each individual user only has to hit their own crank. Like whacking a pinata
You can't have a pda owned by a program that has a permissionless crank to send the correct splits to wallets?
Hmm I don't think so.
Or in strata's case, royalties on a bonding curve
But if you have a wallet sitting there in a metaplex creators array, and you want to split the stuff going into it, much harder problem
Shouldn't matter if you do it on write. I.e. the person paying the wallet manually sends to everyone they need to
No worries, just letting you know.
I can write my own üòó
Shouldn't matter.
What if fees are flowing into the wallet as you're trying to distribute?
Chain them?
The ideal is to be able to have tokens that represent a % ownership of the wallet
I know a rust dev who has written one for upto 7 people, but it's paid.
<@!798758506618421268>
It's more so, you want to split a royalties wallet with 20+ people, how do you do it?
Hmm interesting.
the spl-token multisig can support upto 11 signers, sol transfer should not be so difficult?
We will open source it though. Or at least that's the plan
DM me
It's a hard problem because any brute force way gets hit by txn size limit
Really?
Not a single oss version?
It does not exist yet
Fanout wallet
I'm working on this with some guys from metaplex
Github might have something similar.
Start looking into reference programs and learning how to write them
so I need to write my own 

what is a good place to start ?
Would save people tons of debug time
That'll be nice. Another easy to add but missing feature - when signature verification fails, include the pubkey it failed for in the errror

That is a treasury split, solana doesn't have an equivalent in the program library.
Currently working on https://github.com/KartikSoneji/solana/tree/feat-add-inspect-transaction
Will add toJSON to the list
Ah no worries, at least web3.js is working properly.
It's like a big escrow program/smart contract 

only 1 payment address 
then it divides the sol received between 
X amount of accounts with X amount of weight
Thank you for dealing with my 1DIOT error
....damnit. I found a straggler version of 1.31 in an npm linked repo.. That was it
Does the hello world test program work?
Both are the same?
OS?
Solana version 1.9.1 <- Perhaps move up to 1.9.4
Rust version?
Can you please explain what is the outcome?
Hi guys, I'm facing a problem when I try to build a Rust program with `cargo build-bpf`, here's the result I get:
```
#> cargo build-bpf
BPF SDK: /Users/TestUser/.local/share/solana/install/releases/1.9.1/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
   Compiling RustProjectTest v0.1.0 (/Users/TestUser/Files/Crypto/RustLab)
error: requires `start` lang_item

error: could not compile `RustProjectTest` due to previous error
```
Can anyone point me to a good starting point. 

I need a a solana version of payment splitting 
https://docs.openzeppelin.com/contracts/2.x/api/payment
Ah nvm... requireAllSignatures not false. Ugh
Aha! Sweet reproducability!
thanks, i'll try
Ah... Ignore the first line in the first ffile
Will take a look, thanks.
Tx1 is before serialize, tx2 is after serialize and deserialize
That's a coincidence.
Next-candy-machine is candy machine in next.js
Or at least, idk what next candymachine is. But he wrote cm and cmv2
Does Solana have support for this?
Probably not... but my brother wrote that and our minds work similarly haha
Use the genesysgo RPC.
I might actually have seen that.
Is it in next-candy-machine?
hi, when i try to use `getParsedConfirmedTransaction` from a Vercel serverless function i get a 429 ‚òπÔ∏è 
i thought the ip could be throttled, so i tested it from an EC2 instance, but i got the same result ‚òπÔ∏è 
```
> let promise = connection.getParsedConfirmedTransaction(signature)
undefined
> Server responded with 429 Too Many Requests.  Retrying after 500ms delay...
Server responded with 429 Too Many Requests.  Retrying after 1000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 2000ms delay...
Server responded with 429 Too Many Requests.  Retrying after 4000ms delay...
Uncaught:
Error: 429 Too Many Requests:  {"jsonrpc":"2.0","error":{"code": 429, "message":"Too many requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": "8e99e04f-1d7a-48dd-8ad7-3e882c6c5e10" } 
```
any advice how i can get it working?
Please. Please do
Thinking of adding that to web3.js
Oh my... That's useful. I made a recursive function to do that lmao
You can do `PublicKey.prototype.toJSON = PublicKey.prototype.toBase58`
Trying to make a minimal reproducing case in the web3 tests
Going to be hard to do just because of the way the code is working. It's a middle transaction in a group of txns, submitted from another part of the code.
ok thx sorry
We do not support tokenlist. Please reread your PR
Does anyone know how to fix this final line error when submitting a fork pull request? (Error is ‚ÄúNo new line at end of file‚Äù)
Yes.
Like changing instruction order?
Great!
Can you see if switching the order in the instructions still causes the issue?
Not related afaik
Alright, back on it
Coz I remember some updates in 1.8.14 to prevent spamming
is that for indexing the transaction?
Should be able to wait it out
You probably didn't provide all the accounts needed or need to use `invoke_sign`
just getting a msg loop
Error?
Hey folks, trying to execute RPC call, but getting "Cross-program invocation with unauthorized signer or writable account". Do anybody have a guess what might be the cause?
the cli seems to bug out
anyone tried upgrading any program post 1.8.14 release?
Thanks again
looks safer
oh i should probably use TransferWithSeedParams
Looks right
?

Code
from my end
how do i auto approve the transaction
but
Yes absolutely, thank you!
Please research keeping your keys safe. Plenty of resources out there
If you can inspect it on a webpage, you're doing it wrong
any way i can check if its exposed? With inspect or sum?
You could do either. Just don't expose your keypair please
oh are you saying that i shouldnt send people transaction to claim the sol and I should just send the sol from my end without users need to claim the sol?
How you secure your keypair is up to you
i should store the keypair in completely different folder right
Just don't store the keypair in the ui please
You could be less secure and store a keypair on a backend and lock it down. Could do many other things too
However secure you want the house to be
so what is the secret way for house to sign?
thanks for noticing
So your system will have to verify wins on a backend and create the transaction and sign it secretly
If you could make a transaction without the house signing, that means anyone could steal your money
You have to sign with the house
i get a transaction for +1 sol but the sol doesnt leave the house wallet thats the issue
house is my wallet

i mean im have already tried and it didnt work, i can show u
Then that's a normal SOL transfer
from your own wallet
Well lets say someone won their bet on a betting platform and you want to automatically send sol to them
Treasury meaning?
Hey! Does anyone know how to create a transaction where you can send solana from treasury to user
Here's an open source one by step finance https://github.com/step-finance/reward-pool
Thanks for your reply! Any documentation or open-source projects doing this?
You should just create an issue, like the pr states
I don't remember - saw the issue on github and somebody asked the same question and the response was to not ask there, to ask at the solana discord
Where were you directed here? This is not the right place
You have to deploy your own staking program for your personal tokens
It just said that it could only be used for adding new tokens not updating - something like that.  Others had same issue, I was directed here to get info...  üò¶
Hi guys!
Is there support for staking my own tokens? I have seen several projects doing it, but I didn't see any official documentation about it or how to do it.
Please help!
Your PR should have all the info needed
We don't support token-list here, sorry
I'm trying to update token I put on the token list and I'm getting automerge errors.  Just trying to update icon and urls/socials.  What's the proper protocol to update that info?
Understood. I'll see what I can make happen
don't see a reason why not
web3.js is more general use
should be added to solana web3 tbh
yeah forgot about that
there should be a command that transfers easily rather than constructing the transaction
the output from 1.8.x cli, which was a progress bar that maintained it's location in the terminal and doesn't spam my shell history with hundreds of logs of `msg <PUBKEY>` <:KEK:850127013611569223>

idk why this would be changed lmao the new output is atrocious
You have to use spl-token js lib
A progressbar that say x of y transactions done
up
What is your ideal output?
oh well, thanks!
<:feelssighman:694837745398317116> the 1.8.x program buffer writing output was so much nicer <:woeisme:932661795959734343>
Yup.
Ping me if you want to debug it later.
just upgraded to 1.9.1 before going to bed
is this new behavior? never seen it before
That is normal, wait it out.
in the accounts array, pass the ATA that holds the nft
then in the program, verify that the 'owner' of the ATA is the fee payer (the signer)
Not sure on 1.9.1. Should be working
is deploying programs with `solana` cli version 1.9.1 busted? attempting to write a program buffer just spams my console repeatedly with `msg <PUBKEY>`:

```shell
‚ãä>  ‚ó¶ solana --url http://...:8899 program write-buffer target/deploy/vaults.so 
msg 6f...uiv4yMFy6dwd4drV3UDRPBZVm6ap
msg 6f...uiv4yMFy6dwd4drV3UDRPBZVm6ap
msg 6f...uiv4yMFy6dwd4drV3UDRPBZVm6ap
msg 6f...uiv4yMFy6dwd4drV3UDRPBZVm6ap
......
```

it just goes on like this until i interrupt the process
Thanks for the reply. Would you mind elaborating how this can be done?
Which one of the serializations is correct?
Maybe writable/signer and not writable/signer?
Have a meeting in a second, but I may need to just fork solana again, write a test case for this, and see if I can make a fix.
And it's finding unique values in order. So idk if this holds?
Yeah that's what I'm wondering. Though theoretically shouldn't the writable always float to the top in the previous section?
Because the uniquness check is happening later, it is possible that an account that was added as writable in one instruction and no writable in another instruction has the order switched.
Oh I know what might be happening.
Does compile message return the correct order?
Ah ok.
```
    accountMetas.sort(function (x, y) {
      const pubkeySorting = x.pubkey.toBase58().localeCompare(y.pubkey.toBase58());
      const checkSigner = x.isSigner === y.isSigner ? 0 : x.isSigner ? -1 : 1;
      const checkWritable = x.isWritable === y.isWritable ? pubkeySorting : x.isWritable ? -1 : 1;
      return checkSigner || checkWritable;
    }); 
```

It has the pubkey sorting
<@!840683071496912916> can you please check this?
So I kind of wonder -- https://github.com/solana-labs/solana/blob/master/web3.js/src/transaction.ts#L273

If it's because the unique culling is happening after the sort
Rather `console.log(transaction.compileMessage.toString())`
You can do `console.log(transaction._serialize.toString())` and see the exact code that is being run.
Yes, but if it's a serialization issue then I only have half the code.
nvm... everything is 1.32 now and still happening. Were you able to repro?
1.32 should have latest
Ah ok.
Which happens before signing
They should get sorted on compileMessage
Okay I think maybe there's an old version of web3js hanging around somewhere because lerna and javascript package management in general is a huge headache
But are they sorted before being signed?
https://github.com/solana-labs/solana/blob/master/web3.js/src/transaction.ts#L266

I guess not, but I thought I fixed this
Ah are the accounts not sorted before being serialized?
That causes the signature to be incorrect
In the compiled message, the accounts got mixed around
is there any way to pull a requests that returns all the solana system and token programs addresses?
Fireworks haha
```
Transaction.from(Buffer.from("AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRRVejSQW5BhRbH9lwwNSKPfdRYWo1cO8ENI7LCAsRqNQceQJdH8dhJVUp0g0XVTDA+UmApMTPPfyQ5HtUFNIMAgAKDw4TSCcqFsGcCSR3Blt4epCEyEQe1pDFReCBY3X9XV1kzuVnaeXzhe/pjUJ4J4qQlQNVP1uXAvmaGr0SfvVBfWzcjaZnzs2eyUsQNRDVkUPOcQLc+d+EW832JqNa8txoo6z/KGHoAXx55vAIOngDV1dVpYdnC3V7KFR3owRc3ifu8p47isfmtIjeo/UHy5DBLdvzflB0Su+3Nd63ws8Hd18L/pjHh46XJ6zMhLdXDCcTdZF98Bii46hQgfZKm5SrkAan1RcZLFxRIYzJTD1K8X9Y2u4Im6H9ROPb2YoAAAAAwqZpEJ4JGWztrkLtpYH271omMJEs4bxPiALaOhZ2DSL+rHkHPuBRkzNr+tpbkLl4HHrsoiDT3+W9Szzq4Yn6owAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkEIxzMJkU8xIn3XFBZxc5sR14ZLUmOd1LSv0One6sakAan1RcYx3TJKFZjmGkdXraLXrijm0ttXHNVWyEAAAAAjJclj04kifG7PRApFI4NgwtaE5na/xCEBI572Nvp+FkGtVH3A07USjXGs4TGh1kWTjLsZRcXXCH81b6yF1c9GUebSi8qXKrE3iFvIiivCDEHW+BO8ehHWAYeIKtqpC7EBQkCAAE0AAAAAPAdHwAAAAAApQAAAAAAAAAG3fbh12Whk9nL4UbO63msHLSF7V9bN5E6jPWFfv8AqQoEAQUEBgEBDQcAAgcICQoGAA0HAAMHBQkKBgAODgALBAUIAQMCAwIKCQYMigEEzf8guXmGPQAAAADMzMwMAAAAAAAAAAAPTPBhAAAAAAAAAAHCpmkQngkZbO2uQu2lgfbvWiYwkSzhvE+IAto6FnYNIgHCpmkQngkZbO2uQu2lgfbvWiYwkSzhvE+IAto6FnYNIgHCpmkQngkZbO2uQu2lgfbvWiYwkSzhvE+IAto6FnYNIgAAAP4=", "base64")).serialize({ requireAllSignatures: false })
```
No errors.
I did
```js
async function main(){
  let transaction = Transaction.from(Buffer.from("AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYfxs7RU++0vx7EZ9WAgLOaHrfRbamv6QIGuARGv8EYOAZt9n5dsw2HiVkUo9V81UOLQJP23E0zIISi2iEk1MNAgAFCA4TSCcqFsGcCSR3Blt4epCEyEQe1pDFReCBY3X9XV1k/qx5Bz7gUZMza/raW5C5eBx67KIg09/lvUs86uGJ+qOEdpeFcyHOfl8sWAYz5AVWRmsikqOoMYXGFji44D5OAwan1RcZLFxRIYzJTD1K8X9Y2u4Im6H9ROPb2YoAAAAAwqZpEJ4JGWztrkLtpYH271omMJEs4bxPiALaOhZ2DSIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUZHm0ovKlyqxN4hbyIorwgxB1vgTvHoR1gGHiCraqQuxAQFAgABNAAAAABgTRYAAAAAAFIAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkGAgEDQwAJDhNIJyoWwZwJJHcGW3h6kITIRB7WkMVF4IFjdf1dXWQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwIBAAAEBQNtAAwAAABBZ3VuZGVybWFuMTAJAAAAVU5DTEFJTUVERwAAAGh0dHBzOi8vc3RyYXRhLXRva2VuLW1ldGFkYXRhLnMzLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tL3VuY2xhaW1lZC5qc29uAAAAAQYCAQAjBgAB8p47isfmtIjeo/UHy5DBLdvzflB0Su+3Nd63ws8Hd18=", "base64"));

  for(let i = 0; i < 5000; i++)
    transaction.serialize({requireAllSignatures: false});

  console.log("Done");
}
```
This one explodes
```
AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRRVejSQW5BhRbH9lwwNSKPfdRYWo1cO8ENI7LCAsRqNQceQJdH8dhJVUp0g0XVTDA+UmApMTPPfyQ5HtUFNIMAgAKDw4TSCcqFsGcCSR3Blt4epCEyEQe1pDFReCBY3X9XV1kzuVnaeXzhe/pjUJ4J4qQlQNVP1uXAvmaGr0SfvVBfWzcjaZnzs2eyUsQNRDVkUPOcQLc+d+EW832JqNa8txoo6z/KGHoAXx55vAIOngDV1dVpYdnC3V7KFR3owRc3ifu8p47isfmtIjeo/UHy5DBLdvzflB0Su+3Nd63ws8Hd18L/pjHh46XJ6zMhLdXDCcTdZF98Bii46hQgfZKm5SrkAan1RcZLFxRIYzJTD1K8X9Y2u4Im6H9ROPb2YoAAAAAwqZpEJ4JGWztrkLtpYH271omMJEs4bxPiALaOhZ2DSL+rHkHPuBRkzNr+tpbkLl4HHrsoiDT3+W9Szzq4Yn6owAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkEIxzMJkU8xIn3XFBZxc5sR14ZLUmOd1LSv0One6sakAan1RcYx3TJKFZjmGkdXraLXrijm0ttXHNVWyEAAAAAjJclj04kifG7PRApFI4NgwtaE5na/xCEBI572Nvp+FkGtVH3A07USjXGs4TGh1kWTjLsZRcXXCH81b6yF1c9GUebSi8qXKrE3iFvIiivCDEHW+BO8ehHWAYeIKtqpC7EBQkCAAE0AAAAAPAdHwAAAAAApQAAAAAAAAAG3fbh12Whk9nL4UbO63msHLSF7V9bN5E6jPWFfv8AqQoEAQUEBgEBDQcAAgcICQoGAA0HAAMHBQkKBgAODgALBAUIAQMCAwIKCQYMigEEzf8guXmGPQAAAADMzMwMAAAAAAAAAAAPTPBhAAAAAAAAAAHCpmkQngkZbO2uQu2lgfbvWiYwkSzhvE+IAto6FnYNIgHCpmkQngkZbO2uQu2lgfbvWiYwkSzhvE+IAto6FnYNIgHCpmkQngkZbO2uQu2lgfbvWiYwkSzhvE+IAto6FnYNIgAAAP4=
```
Oh I'm an idiot. Breakpiont at a txn that doesn't fail
Was just going to say that.
Of course... that doesn't fail to serialize again. Which is odd
Ah yeah that works for me
I did `Buffer.from(...)` without specifying base64
And I realized I'm an idiot.
It's the same thing.
Try this AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYfxs7RU++0vx7EZ9WAgLOaHrfRbamv6QIGuARGv8EYOAZt9n5dsw2HiVkUo9V81UOLQJP23E0zIISi2iEk1MNAgAFCA4TSCcqFsGcCSR3Blt4epCEyEQe1pDFReCBY3X9XV1k/qx5Bz7gUZMza/raW5C5eBx67KIg09/lvUs86uGJ+qOEdpeFcyHOfl8sWAYz5AVWRmsikqOoMYXGFji44D5OAwan1RcZLFxRIYzJTD1K8X9Y2u4Im6H9ROPb2YoAAAAAwqZpEJ4JGWztrkLtpYH271omMJEs4bxPiALaOhZ2DSIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUZHm0ovKlyqxN4hbyIorwgxB1vgTvHoR1gGHiCraqQuxAQFAgABNAAAAABgTRYAAAAAAFIAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkGAgEDQwAJDhNIJyoWwZwJJHcGW3h6kITIRB7WkMVF4IFjdf1dXWQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwIBAAAEBQNtAAwAAABBZ3VuZGVybWFuMTAJAAAAVU5DTEFJTUVERwAAAGh0dHBzOi8vc3RyYXRhLXRva2VuLW1ldGFkYXRhLnMzLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tL3VuY2xhaW1lZC5qc29uAAAAAQYCAQAjBgAB8p47isfmtIjeo/UHy5DBLdvzflB0Su+3Nd63ws8Hd18=
This is what it deserializes to.

That's the one that after you do Transaction.from, fails to reserialize
Is it possible to obtain an account's stake accounts through cli?
Hmm are you sure it's correct?
Got it thank you! Just learning right now what is possible.
'AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYfxs7RU++0vx7EZ9WAgLOaHrfRbamv6QIGuARGv8EYOAZt9n5dsw2HiVkUo9V81UOLQJP23E0zIISi2iEk1MNAgAFCA4TSCcqFsGcCSR3Blt4epCEyEQe1pDFReCBY3X9XV1k/qx5Bz7gUZMza/raW5C5eBx67KIg09/lvUs86uGJ+qOEdpeFcyHOfl8sWAYz5AVWRmsikqOoMYXGFji44D5OAwan1RcZLFxRIYzJTD1K8X9Y2u4Im6H9ROPb2YoAAAAAwqZpEJ4JGWztrkLtpYH271omMJEs4bxPiALaOhZ2DSIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUZHm0ovKlyqxN4hbyIorwgxB1vgTvHoR1gGHiCraqQuxAQFAgABNAAAAABgTRYAAAAAAFIAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkGAgEDQwAJDhNIJyoWwZwJJHcGW3h6kITIRB7WkMVF4IFjdf1dXWQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwIBAAAEBQNtAAwAAABBZ3VuZGVybWFuMTAJAAAAVU5DTEFJTUVERwAAAGh0dHBzOi8vc3RyYXRhLXRva2VuLW1ldGFkYXRhLnMzLnVzLWVhc3QtMi5hbWF6b25hd3MuY29tL3VuY2xhaW1lZC5qc29uAAAAAQYCAQAjBgAB8p47isfmtIjeo/UHy5DBLdvzflB0Su+3Nd63ws8Hd18='
In node.js `Buffer.from(array).toString("base64")`
Sweeet! Thank you!
in the console
What's the best way to serialize to send... I have a uint8array
`spl-token accounts --owner "public key"`
Ultimately it's just a rpc call under the hood
This function exists in most sdks. What are you looking for exactly?
Ah sorry.
Isn't this through javascript?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountsByOwner
That's a start, send it over.
If just sending a serialized txn is good enough haha
Is it possible to get token list of an account through the cli? I'm only seeing SOL through solana account [#]
Can't you send this one?
It's almost definitely inconsistent message serialization again
I'll just fix the bug if I figure that out. Was hoping someone already had seen this üò¶
Oof. That's going to be the hardest part haha. Got to figure out exactly what kind of txn triggers this.
1.32 should include that fix. 1.31 didn't
Yup.
Sorry, Minimum Reproducible Example.
Ah min reproducable example. Right
MRE?
Hmm can you please send an MRE?
No problem
Ok cool thanks for help
Then commit and push the changes.
It restores the fork.
Might have to go down the rabbit hole again haha
Thanks - does that restore the fork for editing or reset it to original fork I pulled
Ugh... 

```
const serialized = tx.serialize({ requireAllSignatures: false })
const from = Transaction.from(serialized)
from.serialize({ requireAllSignatures: false})
>>> Error: Signature Verification Failed
```

Web3.js 1.32 is broken.

Probably a similar issue to the one I fixed here --> https://github.com/solana-labs/solana/issues/21722

But different, because that fix is out. Ideas anyone?
Do `git restore -s HEAD~1 -p` then press `y` when it brings up that change.
thanks!
You can still technically use them, but yeah, easier with btreemaps.
Fwiw, hashmaps don't quite work out of the box in solana (they sneakily use some global mutable state by default, which isn't allowed)
Hi everyone. Need help editing a fork I committed. Did fork request on Solana tokens. Added token - no json errors. Went to Solana for pull request - got the attached error, so decided not to commit (yet) error is "No new line at end of file"  How do I edit the fork again and correct that line error. Visual studio for web is not showing the fork anymore. Thanks
The answer is likely yes. I don't think there's any difference.
If a transaction requires 50k computational units on devnet or localhost, can I assume that it will also require 50k computational units on mainnet?
Looks like it does! https://solanacookbook.com/guides/serialization.html#serialization-deserialization
is there an easy way to transfer tokens using solana web3 ?
I think Borsh supports it?
Anyone know if there's a way I can serialize a HashMap or a BTreeMap into the data of a Solana account? I'm trying to save state to an account, and it would be massively convenient if I could index by arbitrary strings rather than integers
You can pass in one of the nfts from the collection and verify the fee payer owns that nft.
hi all! is there any way to condition the program so it only executes if the wallet connected has one of NFT collection?


///////////////////////////////////////////////////////////////////////////////////////////////

I saw a token program, but seems it's not what I really need
I am still don't understand how I could transfer from my wallet to another user wallet on a certain conditions. In smart contract check this conditions, and if they are true, send sols to another account
for dev it works smoothly
While hitting mainnet beta
From our web app: https://beta.sniperapesclub.com
CORS issue from where xactly?
Hello guys. We just released yesterday our NFT collection to grant our holders access to our NFT analysis tool. However, not 24 hours later, we see that we're receiving CORS issues from mainnet. Does anybody know how is this possible? Have we been blocked? And if so, why?
assume not an ATA (dunno if that matters)
how much does it cost to create a new token account?
Hello guys, when I fetch a transaction with the api "connection.getConfirmedTransaction()". How can I get the sender and the receiver ? thanks
Yeah I think it just charges my account for the transfer of the token.

Interestingly I don't think it makes that clear on their UI, it just says the network fee I believe

First TX has that extra interaction with Token Program while second to same acc doesn't
Not sure on phantom. I would test this.
So if I were to send the $UNNAMEDTOKEN I just created to your solana wallet via Phantom, who would pay to associate the token account to your address?

Does Phantom check if you are already associated and if not, charge me an addition to the transaction fee?
tl;dr you have to create the token account before you can send spl tokens to their address
The token account has to be created/associated with the  receiving address
What do you mean?
I was confused why I have to fund an acc when I send them my token via command line, but not when I send the token as a tx from one wallet to another
Btw, does anyone understand the concept of funding a recipient well?
yeah i got this i had the syntax slightly wrong ty
Will give it a try üôÇ
Not sure how it would look on phantom, but you're welcome to try
I was thinking that, but do you know if it would even be shown properly in the Phantom wallet UI?
They would be 2 separate instruction, but it should be possible
`http://127.0.0.1:8899` https://solanacookbook.com/references/local-development.html#setting-up-connections
Is it possible to ask a user for a transaction sending SOL and a custom token in the same TX? And have it supported via Phantom's wallet UI?
I have  solana-test-validator running on 0.0.0.0:9900

Can't we use :
 rpcUrl="https://localhost";
 connection = new solanaWeb3.Connection(rpcUrl, 'confirmed');  

to connect to the localhost instance ?????????
Workaround is to use `getTransaction` instead, and directly use the message from that.
Web3js getConfirmedTransaction returns a transaction that when you serialize it to get the message, doesn't have the same account keys as those used in the `meta.preTokenAccountBalances`, etc. So account indexes mismatch. An example transaction https://explorer.solana.com/tx/4iQc7UA2gWmpsvdGcotCqYLJJjdpdNsM2nufABh4XtQ2JCuXdpoR7RGu7fapoiwk7PpF22Qn8UktqX8NpEyKpn32
ty ill check it out
idk if that would work
<@!204314165777530880> https://github.com/sol-crystal/solana-unity3d-sdk
Not that I am aware of
ƒ∞ am stuck what typescript type of solana.connect object?
hello guys, im trying to make a web hosted blockchain game using unity, is there a library that connects phantom to unity?
Thanks <@!785084693023424542> I'll definitely check this out !
you probably want to get the NFT meta data.  expand full source to see what it is doing.
https://solanacookbook.com/references/nfts.html#get-nft-metadata
there are several repos that get the images and display them as well using similar methods. 
for curl you may want to leveral metaplex related packages.
https://docs.metaplex.com/community
lots of related resources and repos aggregated here as well:
https://soldev.app/

https://discord.gg/snEa6hSU
Hey guys, I'm trying to get all the nft from a phantom wallet for an Unreal project. I can't figure out how to convert the accounts I got from `getTokenAccountsByOwner` to image format. I'm using curl exclusively to be able to reproduce the http request once in C++ on Unreal. Can someone explain me what I should be doing after ? I'm a beginner on solana and blockchain in general ^^ Thanks
you can search on  `WARP` in the Solana repo and see if that might suite your purpose. There are examples of its use in the source and testing.
Hey! Is it possible to use "solana test validator" for time-dependent tests? Like `setNextBlockTimestamp` in solidity/ganache ?
Thank you
anchor does not provide any backend or anything web related that I am aware of. There may be some libs or packages to use in your web app that are related, but anchor itself is just a Solana framework for building programs.
or maybe it was just the stack i was looking at using anchor :shrugs:
ok idk why i was under the impression there was some node front/backend with anchor? maybe im wrong though
anchor is a framework for building & testing Solana programs.  Programs are deployed on chain.   a web app in any case is up to you to deploy and host.  Some use vercel or netlify to host their web portion of the dapp.
i use WSL to run all my stuff
if your using WSL.  google  WSL <and the error>   in the case of general network issues, that can be tough.  If you have similar errors on regular windows, are u running on an actual metal machine, or is it a VM?  and are u able to do yarn anything.  these are general troubleshooting skills.
Is there a framework for building dapps on solana ? anchor? Does that include a server as well to serve the app ?
How do I know whether it is an issue due to network settings, firewalls or other? And how do I solve these issues?
Okay thank you. I'll check it out
go through the troubleshooting guide, and best practices for WSL.  those are all related to setup and configuration issues on your end.  If your getting TCP or connection related issues, that can also be due to network settings, firewalls, or other related issues.  
https://docs.microsoft.com/en-us/windows/wsl/setup/environment
youll want to take your time and make sure everything is setup right and troubleshoot any policy, permission, and network issues. And your WSL/Ubuntu instance will need to be able to access network configuration, possibly run in admin, etc.  I have done the setup for WSL several times.
When I typed solana-test-validator, I got: "Error: Unable to create directory test-ledger: Permission denied (os error 13)"
I followed the instructions to install the solana cli for linux and got the same error message i initially got in Windows when I typed in "solana account <address>, I got: Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 111)
once you have WSL properly setup, follow the install-solana-cli-tools link above
for troubleshooting WSL, and installation there, you can reference this, and goole:
https://docs.microsoft.com/en-us/windows/wsl/troubleshooting
those errors are related to setup and configuration in your WSL and machine. its not related to Solana.
I would use the official solana installation and setup. and if you want to experiment later with a 3rd party then thats up to you.
Okay. What do you use instead of yarn?
I dont use decentology, so not able to help with that.  For WSL, if your trying to install Solana tools, do it following the install guide and the install instructions I sent for WSL.  Yarn is not generally used for installing Solana CLI.
https://docs.solana.com/cli/install-solana-cli-tools
also says: "The file 
<location> is not digitally signed. You cannot run this script on     
the current system."
Tried with this website: https://dappstarter.decentology.com/ . It creates like a starting template. Followed all the instructions in the README.md file. Again downloaded all the prerequisites including WSL. When I go in cmd to the folder containing the file and type in yarn as the instructions say, I get a message:  yarn : File <location in my computer> cannot be loaded. The file 
the current system. For more information about running scripts and setting execution policy, see      
about_Execution_Policies at https:/go.microsoft.com/fwlink/?LinkID=135170.
Great thanks a lot ! With all this time spent on Solana, I am working on bigger data samples & analytics things, building tools, that is probably the answer I needed for this week & the next week, thanks
There's so much data out there it is very difficult to get all transactions at once
bigtable is your answer.
and being "almost real-time"
I just need to see them all once, and keep some of them based on a program, in a HTTP way
If you want to get all transaction data, I believe there is a better way by connecting via bigtable
So, RCP endpoint getBlockProduction() to get the block, iterate from firstSlot to lastSlot with getBlocks to get all transactions data ?
what errors did you get with WSL?

https://docs.microsoft.com/en-us/windows/wsl/install
You can try the solana workbench possibly
WSL is the solutions for windows at this time unless you have docker
Slots can be skipped. You have to monitor if a block is produced
yep I tried wsl but had errors there as well and didn't get anywhere
ok ! and the slots are always ++ ? no one can be skipped right ? that's PoH ?
Recommend using wsl
No. I get an error prompt saying: "The code execution cannot proceed because libssl-1_1-x64.dll was not found"
yes
Do you mean solana-test-validator?
You can getBlock for each slot with finalized commitment
You have local-test-validator running fine?
So, if I want to monitor the "truth" on the blockchain ? and monitor all transactions "finalized" on the chain, how can I do that with web3 ? not looking for WS solution, but just being delayed of some blocks
Hi! I am getting into learning solana development. I'm using this guide to get started: https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291 . I have downloaded all the prerequisites for Windows. But if I start typing in the CLI and  type in this line: solana account <address from above> , I get an error message saying "Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/)...". When I type in other commands I also get error messages. Has anybody else had the same error message and how can I solve this?
Agreed. May be a good thing to have added in a better format
A pain in typescript.
You can use the private _rpcBatchRequest
Hmm `createRpcBatchRequest` doesn't seem to be exported?
There's a slot for different validators to produce a block. Some will fail to produce a block
params => slot number
```
curl https://solana-api.projectserum.com -X POST -H "Content-Type: application/json" -d '
  {"jsonrpc": "2.0","id":1,"method":"getBlock","params":[118072944, {"encoding": "json","transactionDetails":"full","rewards":false}]}'
```
this ?
Sorry what are you trying to do?
This helps a bit but not sure what to do with the slot I'm given. Don't see any methods where I can get transactions based on slot number. I think I will have to get recent transactions somehow and filter them based on slot
mmh hey ! reading terminologies, and I struggle with slots and blocks. nb slots = nb blocks ? or nb slots >= nb blocks ?
Check metaplex discord https://discord.gg/yZZVd2WA
OO intersting.
Guys what is NFT breeding 
And is there any open source project for it?
Basically as storage price decreases
1.9 lowers rent costs. Unsure by how much
Or a schedule to revise the rent?
Is there any planned decrease?
Rent will generally go down. The idea is storage prices in general go down over time
how often do rent prices change? Over time will those generally go up or go down?
I believe you have to do getBlock after to get the block info
Actually, it shows only the slot
https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe
I'll give it a try once more
I believe so.
Does it show the block hash?
Im looking anywhere to find some code about smart contracts, and How to merge tree tokens (NFT) into 1, and burn the prior 3 after
Interesting, I'll run some tests.
The event listener returns the before and after state, and the account balance is in that encoded data.
Thx
I'm mostly interested in the post balance. How could I get that info from onAccountChange event listener?
Request size limitation
I believe it's more of a size limitation
Or search GitHub and be lucky.
You have to ask the website basically.
Is there is a limit to the number of requests in a batch?
Okay Thanks creech, any tutorial to do so?
Ah interesting.
Gotta find the source
Not an easy way today
We'll get this added to the cookbook
hey. is it possible to check the source code of any smart contract on the SOL chain?
I believe it was using `createRpcBatchRequest` and `getParsedConfirmedTransactions`
https://github.com/solana-labs/solana-web3.js/blob/7d92227/src/connection.ts#L857
https://github.com/solana-labs/solana-web3.js/blob/7d92227/src/connection.ts#L3271
Thanks.
Thanks for the reply, I will do more searching in the solana explorer see if I can track it down.
I've done it before... let me look up what I did
Yes but does the connection object support it?
lol
i will be around
trully support here
thank u very much
Solana Program = smart contract
Sorry im not the dev, he is OOF lol
Yep, batching is supported
you refer to the backend of the program or in the smart contract?
Not sure if the connection object supports it.
As I said before, you can do it in the program
Oh and the RPC standard supports multiple requests in an array.
i
wi want to be sure
Hi guys, this was my question form yestarday, would be posssible to to something like this on Solana? Like a tax reduction per day or by other parameters?
Thinking of taking parts of it and adding it to the current `getProgramAccounts` portion
Maybe we can add that to the solana cookbook?
With a footnote about ordering with public key bytes
Very good. Been working with Loris for a while
That is an excellent article.
But the best way is to listen for onAccountChange
Transactions have pre/post account balance.
Does not give transaction hash? Or anything I could use to figure out what changed? 

Want to differentiate between sending/receiving SOL and buying/selling NFT's
Nice, reflects options <@!590982495923732511> and I offered up someone with similar question (`getMultipleAccountsInfo`).
https://lorisleiva.com/paginating-and-ordering-accounts-in-solana
Here's a great tutorial to do just that
Got it thanks
could not pay txn fee
My account has 0 SOL
Ok thanks
No you can't create an account with 0 balance, what are you trying to do?
The source account has 0 balance.
ok ty
You can.
See the solana cookbook for examples.
it turns out I can‚Äôt create an account with a zero balance at all? I need for tests during development
I am transferring money from pda to my wallet
"Transaction simulation failed: Attempt to debit an account but found no record of a prior credit.

What could this error be about
I could transfer only from user to user acc?
As I understood I couldn't share a sol from program account?
Ohh thank you
The accounts balance is 0 so it doesn't exist.
hello 
why "await connection.getAccountInfo(publicKey)" returns null?
You can check the verified creators, and metaplex is working on the new collections standard to make this easier.
There is an Anchor Discord server they may provide you answer in
hello, how could i programmatically crawl the blockchain for candy machine v2s? (program ID is cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ)
just need guidance on how i'd be able to approach this using JSON RPC APIs or even Solana web3 library if possible, much appreciated! ‚ù§Ô∏è
Hi Guys... Using Anchor I am trying to create a Solana account in which I want to use a struct inside a struct. For example, there is an employee struct with name & age details and now I want to use an array of employees in #[account] of the company that will have other fields also.  I am facing a few problems like the default is not implemented. Any idea how I can do it.
i code on devnet
Hi all,
i have code below 
 var tokenNFT1 = new spl.Token(
    program.provider.connection,
    addressNFT,
    spl.TOKEN_PROGRAM_ID,
    offerTaker
  );
  offerTakersMakerTokens = await tokenNFT1.getOrCreateAssociatedAccountInfo(
    offerTaker.publicKey
  );
i allway taker error can not find token account ?
pls help me
Hi, I'm running into some problems creating token accounts in my wallet on testnet.
`teddytomas<@!808635736541888543>-desktop:~/anchor$ spl-token --version
spl-token-cli 2.0.15

teddytomas<@!808635736541888543>-desktop:~/anchor$ spl-token create-account mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So --url t
Creating account G2TbpMNnKuGHeK7QvytzXsNuBQThcQ8UCzgVC3FiS8B3
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: incorrect program id for instruction [18 log messages]`

this seems fine on devnet:   

`teddytomas<@!808635736541888543>-desktop:~/anchor$ spl-token create-account mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So --url d
Creating account G2TbpMNnKuGHeK7QvytzXsNuBQThcQ8UCzgVC3FiS8B3

Signature: 5isw6KvyupB5jyn5V97Jhdbr6L7hsbvwxwp2LJ6zJncmR4RPTQaXBWKgaCFr9y5yPQMBnp5UxVbuz1cJMi7rtqnG`

I can see the mint exists on testnet when I query it in solscan

I have sol in my account on test

`teddytomas<@!808635736541888543>-desktop:~/anchor$ solana balance --url t
5 SOL`

am I doing something obviously wrong please ?
i read it already many times:) it just cant see unix_timestamp as a field of the clock. but it is a field of the clock. is it something wrong with the import maybe?
Devnet is a shared resource and the faucet only gets so many SOL allocated. When someone consumes every SOL (like bots, etc.) it impacts all other developers
This is why they put limits on 2 SOL per airdrop request per account per 3-4 seconds.
If you run `solana-test-validator` as a local cluster you can get all the airdrop you want while you have it running.
so thing i am not sure about is the as on the return value
while now base64 or jsonParsed can be dealt with elegantly with 1 single method
I think it is quite annoying to have to deal with the type union when it is not necessary
https://github.com/solana-labs/solana/pull/22774 someone made this in my team. Some better ergonomy for function using base64 with an option for jsonParsed
Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
it's not working
`solana airdrop --help` there is a `<RECIPIENT_ADDRESS>` you can use.
https://solanacookbook.com/references/programs.html#how-to-get-clock-in-a-program
nah, was thinking from another account
from sysetem acc to program acc?
just transfer it
I couldn't airdrop SOL to program account??
i cant build. it is giving error
Ah yes, my bad
thank you
I think the problem related to Anchor, you can ask it here https://discord.gg/AcaQJzKu
solana data is too large, so there is a ledger limit. it prevent solana run out your disk
Shitty RPC node?
Why is that?
yeah. so you can only fetch blocks data which after the slot, 118000528.
you can try the same api and specific after the slot. I think it should work as your expectation
Hey, i'm struggling to understand the Rust program flow,
`#[account]` and `#[derive(Accounts)` to be specific.

any resources or explaination would be appreciated
The same block 118000528, which is also not accurate, according to https://explorer.solana.com/epoch/273
no. all tokens in solana are accounts.
you can take a look at https://solanacookbook.com/references/token.html#what-do-i-need-to-get-started-with-spl-tokens
what's the result you called https://docs.solana.com/developing/clients/jsonrpc-api#getfirstavailableblock at the same endpoint
Thanks. That's the one that I was trying, but which is giving false data, returning the same block no matter which slot I use as a starting point.
Hi everyone, i am new to solana, i curious that is it all token created require a smart contract? If just use the token for transfer and swap usage, smart contract also required?
https://docs.solana.com/developing/clients/jsonrpc-api#getblockswithlimit this is the substitute I think
Previously, I was using the following endpoint, which was recently deprecated.
first_confirmed_block_of_epoch = getConfirmedBlocks(first_slot_of_epoch, _first_slot_of_epoch+250)["result"][0]
i have 4 letter as my prefix
just guess you use too many fixed prefix. maybe use a shorter prefix I think.
Ah on second look, this only gives one result and cannot be used for historical epochs.
oooh is this new? Thanks for pointing me to it
since the number of threads are also i beleive
great <@!788215642070581289> thanks for the help i think it will take many hours or days what do you recommend - run in aws instance or in my own machine
spl-token is stored in the token account, you can parse the data to get token balance.
https://solanacookbook.com/references/token.html#get-token-account
hey! I think the endpoint you used doesn't contain the slot you want to fetch.
you can check it by https://docs.solana.com/developing/clients/jsonrpc-api#getfirstavailableblock

FYI this is the rpc implementation
https://github.com/solana-labs/solana/blob/master/rpc/src/rpc.rs#L1151
hey. how do I get large amounts of devnet sol? I mean millions,
how can i change from lamports in spl token?
This doesn't make any sense.
https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe
I think you can get the balance from field, `lamports`
did you run this code on your program? I think it should work on a program.
getBlocksWithLimit is not returning valid data for me. It should be returning 117,936,008 for the current epoch 273. Anybody know what could be causing this?
i am using onAccountChange and when the notification come in i want to see the new balance of my account, how can i see that?
hello. I am trying this  to get clock. but it says no field as unix_timestamp

use solana_program::sysvar::{clock::Clock, Sysvar,};

fn main() {
    let clock = Clock::get();
    let time = clock.unix_timestamp;
}
What am i missing? I dont understand
tks bro ‚ù§Ô∏è
yes. actually it just create and compare. if you use too many prefix in your address, it takes time to find a match.
Thanks it really helps!
maybe it helps https://solanacookbook.com/references/name-service.html#name-registry
what's you scenario? If you just want to check accounts are signers or not, you can just use is_signer. run time will take care this for you.
if you just pass a signature into instruction data and want to verify it on program. I think you can take a look at https://docs.solana.com/developing/runtime-facilities/programs#secp256k1-program
you can use https://solanacookbook.com/references/token.html#get-token-account-by-owner to get all token accounts owned by wallet. when you get these accounts, you can parse the mint to know is it a NFT.

if you only have NFT and want to know who is the owner, use https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
Im using phantom wallet, but i want to develop for all wallet
so it might take days to get that ?
actually a message has already including who need to sign. a fee payer is the first signature in this tx.
when you composed instructions, there are some accounts annotated as is_signer and these accounts are signers.

you can take a look at https://docs.solana.com/developing/programming-model/transactions#message-header-format for more tx details.
I think it's question more to wallet API, which wallet do you use?
what exactly func can i use to find name service from wallet address, I try to find but nothing work
wallet address is a pubkey, you could encode it into base58 string
what do you mean to parse wallet address?
Hello guys, I'm a developer, anyone here can help me: how can I parse wallet address to Name Service, tks so much ‚ù§Ô∏è
Hmm, I am stuck a little bit, how I could verify signature inside solana program. I doesn't have a Signature inside solana-program package?
this is how you can get all wallet's tokens mints 
maybe you can store all minted addresses somewhere in the program and compare against them?
```typescript
  async getTokensMintAddressess(): Promise<string[]> {
    const publicKey = new PublicKey(this.address)

    const response = await this.connection.getParsedTokenAccountsByOwner(publicKey, { programId: TOKEN_PROGRAM_ID })
    const accountInfoList = response.value
    const nonEmptyAccounts = accountInfoList.filter(accInfo => accInfo.account.data.parsed.info.tokenAmount.uiAmount !== 0)
    const addresses = nonEmptyAccounts.map(accInfo => accInfo.account.data.parsed.info.mint)
    return addresses
  }
```
hmmm, not sure if you can do it with rust though...
> Update Authority are same, but is it feasible to search all tokens available in wallet owner's token's update authority?

go through all accounts and check yours
Hi I would like to follow up on this.
All of the NFT has different Token Address so cannot compare that.
Update Authority are same, but is it feasible to search all tokens available in wallet owner's token's update authority?
Or do you mean to check something else?
Any advice is welcome and appreciated.
if setSigners is deprecated then how do I tell the transaction who I require signatures from?
may be your Genie could help
oh I am broke
thanks <@!788215642070581289>
check `solana-keygen grind --help`
after you get the keypair you want, you can init it as a token.
you donot have sol in your wallet ser
i want to create a token which starts with my company name like saber
hi everyone how to get token address like Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1
any idea?
solana.rpc.core.RPCException: {'code': -32002, 'message': 'Transaction simulation failed: Attempt to debit an account but found no record of a prior credit.', 'data': {'accounts': None, 'err': 'AccountNotFound', 'logs': []}}
ok
okay, maybe just transaction validation isn't a bad idea afterall...
but also it sends some tokens and sols with it in one transaction üôÇ
Meaning it can only work once.
That is an idempotent action.
Oh then you shouldn't need to do that.
Hey, did you end up figuring out what caused this problem?
since it's affecting transfer an NFT to the server's account I can easily store NFT address + txid to check
For example if the tx credits the user x tokens.
Yes but what you have to guard against is the client calling the endpoint a second time before sending the tx.
And you can't have two identical transactions because each tx has a recent blockhash.
so I would know it before sending to the client? Awesome
No, a transaction id is the first signature in a transaction.
> same tx
but I don't have a txId unless it's sent to the network, right? And it would happen only after client sign the transcation
What you have to be careful about is the client calling the endpoint multiple times, then sending all the txs at once.
The solana runtime will gaurentee that the same tx won't be executed twice.
okay, what do you mean then? üôÇ
Yes, but it's not that kind of replay attack.
so I will check that it was executed once on the backend
yeah, so the question is - can I add a custom information to a transaction
like ID
Just make sure you guard against replay attacks.
I've implemented this a few times, usually works without any issues.
hmmm, great
Not if you sign the tx on the server.
Can it be changed on the client?
Use transaction.serialize({requireAllTransactions: false}) on the server with Transaction.from on the client.
You can do that easily, what is the issue?
hmm, will check offline transactions, ty
a signing process is that use a private key to sign serialized message.
I don't think you can generate the signature without the message.
you can take a look here https://solanacookbook.com/references/offline-transactions.html#sign-transaction

FYI, txid is the first signature of the tx.

also verify will not a big problem I think
you can use https://solanacookbook.com/references/keypairs-and-wallets.html#sign-and-verify-a-message
to verify sig
so my idea is something like "generate transaction on the server, send txid to client, sign there using txid"
the whole point is to avoid it üôÇ
then I would have to validate transaction on the backend to check nothing was changed on the client
emm, no
sure. a tx is composed by signatures + message.
and a message is composed by many instructions

so I'll say that
1. you generate the message in your backend
2. you pass it to your client
3. your client sign the message and composed it as a tx.
4. you can send it via your client or send it back to backend then use your backend to send the tx.
So I'll ask again üôÇ

Is it possible to generate transaction on the **backend** and ask user to sign it using web3 + wallet on the **client**?
sure üôÇ
üòÑ
OOOO my bad, my tired brain xD. I go to sleep now
Also it's my question to the chat, not an answer to yours üôÇ
Just checking... Of course as an alternative I can generate transaction on the client but I would have to check everything there...
if that makes any sense
In our case, it is too costly to store some data on the solana blockchain. But for the user to access the data, we need to know them are that public key
It is a strange use case but we are doing a mix of dapps and API + frontend
Nooo, it isn't. We are giving them a JWT and having them sign it
Is it possible to generate transaction on the backend and ask user to sign it using web3 + wallet?
ü§∑‚Äç‚ôÇÔ∏è
I'm not sure if thats correct
So what I ended up doing was just downloading solana in the wsl environment itself
check "signer" in transaction?
I can verify the message was signed correctly in nodejs using tweetnacl but in rust I'm not sure how and the tweetnacl library for rust is different
My use case is a user signs a message using their wallet, that message is sent to a backend server with the public key. The server needs to verify the messages was signed with that public key
Hey guys, does anyone know how to verify a signed message in rust?

https://docs.solana.com/cli/install-solana-cli-tools
not sure, I followed the installation guide
have you installed solana cli globally, like with -g param while installing?
Using Ubuntu
I assume its an issue with the $PATH but I have no idea how to fix it
Hey guy's I'm trying to do this stuff in WSL for windows like the github examples suggest, but I keep running into this issue: ```$ solana solana: command not found```
is there a way to get the raw txn that I am being asked to sign in phantom wallet?

atm im having a problem where im setting up a minting website but i cant mint from it on the devnet bc the mint button is greyed out
i saw online people saying it can be because ur mint day is in the future
but when i look in my config file its December 2021
so i made sure that the correct settings were uploaded to the website and thats the output i got above
how to use dist/src , after build https://github.com/metaplex-foundation/metaplex-program-library/tree/master/auction/js  , it like a js library, how to test auction program
Thanks a bunch!
we found this helpful https://solanacookbook.com/references/local-development.html#subscribing-to-websocket
Got your point! Thanks
I don't get it
Can we discuss https://github.com/solana-labs/solana/pull/22556 ?
Hi, I've been snooping around the documentation but I am having trouble figuring out how to connect via websockets.

For some added context, I would like to stream transactions that happen with X address in real time without having to poll the data. Any help pointing me towards the right direction?
sure. I think you should pick some marketplaces and analysis how they stored price. The price should be stored in some accounts but there are a lot of different implementations. depend what marketplace you use.
for mint a NFT you can take a look at https://solanacookbook.com/references/nfts.html#mint-an-nft
if you don't want to do it by yourself, I think there are some existed solutions like novalaunch or magiceden
only a token account can receive token.
depends on the log, I guess you tried to transfer tokens to a non-token account.
you can take a look here
https://solanacookbook.com/references/token.html#create-token-account
https://solanacookbook.com/references/token.html#transfer-token
Is there a way to get NFT listing prices from marketplaces on the blockchain?
how do i add a mint page for my token?
InvalidAccountData??
help me to understand what i'm missing here üôÇ
```
 {"jsonrpc":"2.0","error":{"code":-32002,"message":"Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction","data":{"accounts":null,"err":{"InstructionError":[0,"InvalidAccountData"]},"logs":["Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]","Program log: Instruction: Transfer","Program log: Error: InvalidAccountData","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1781 of 200000 compute units","Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for instruction"],"unitsConsumed":0}},"id":0}

```
Use the genesysgo rpc.
Or if you want to store data in the account then it usually is a pda.
If the program ever has to sign for the account (to transfer sol/tokens out of it) then it must be a pda.
For anyone experiencing this issue `Uncaught ReferenceError: global is not defined` ,

it's appears to be specific for **vite** w/ react,
solution is to define the missing variables in `vite.config.js` as such:

`export default defineConfig({
  plugins: [react()],
  define: {
    "global": {},
    "process.env.NODE_DEBUG": JSON.stringify("")
  }
})`

https://github.com/solana-labs/wallet-adapter/issues/177
<@!528068680337326081>  Can you help here please
Hello gents,

is anyone experiencing this issue with solana/web3.js node module?
i'm running a plain create-react-app, the issue happens when importing anything from the library...

`index.js:36 Uncaught ReferenceError: global is not defined
    at node_modules/borsh/lib/index.js (index.js:36:22)
    at __require2 (chunk-UC7LELEO.js?v=1c7216c9:48:44)
    at node_modules/@solana/web3.js/lib/index.browser.esm.js (index.ts:30:14)
    at __init (chunk-UC7LELEO.js?v=1c7216c9:45:50)
    at dep:@solana_web3_js:2:1
`

**EDIT: See reply to this message for solution**
Hi Everyone! Basic query for storing data, when to use a PDA and when normal account.

If you can explain in context of this example will appreciate it.
https://lorisleiva.com/create-a-solana-dapp-from-scratch/
i suggest you look at this:
https://github.com/gootools/glasseater
and try reaching out to the RPC(s) directly, a number offer public and private.
mainnet has been under constant abuse so further restrictions at times may apply.
I'm just trying to retrieve the mints from the magic eden CM and then I'll filter the results by symbol to locate the collection I want.
hi all. just wondering if there is any public API which would allow me to use the `Connection.getProgramAccounts()` method?

Or, could anyone explain a way that I could do this on mainnet locally or with a private rpc?

I got a trial account with quicknode but couldn't get it to work with the web3.js package
`Error: Account 78ZNaTV84thC71LN8xv5iVJyU2BnvFTXCPf9F8bzayUk is not an upgradeable program or already in use`   is saying this program ID cannot be upgraded.  are you using an existing project, that may be already deployed with a program Id?   you can try to deploying with a new program ID.
Hey jacob did you find anything?
Hi community, I'm new to Solana and trying to deploying to devnet with Anchor, however I'm getting error:```Deploying workspace: https://api.devnet.solana.com
Upgrade authority: xxxx.json
Deploying program "myepicproject"...
Program path: xxx/myepicproject/target/deploy/myepicproject.so...
Error: Account 78ZNaTV84thC71LN8xv5iVJyU2BnvFTXCPf9F8bzayUk is not an upgradeable program or already in use
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.```
well this is their whitepaper, they have personalized fees
Sorry if im being annoyng <@!489206164270350337>
like 30% tax for retrving today, but tomorrow 28%, each day a 2% reduction, for example
Its a normal thing in other chains
Nice! we just want to be able have taxes beign reduced day by day so they wont take all the money out at once, if Tulip does it im guessing we can do it
i get that error when trying to create the transaction with the keypair that contains my private key
so i dont wanna change the source code you know
but it is programmed by solana wallet adapter
tulip protocol does this today on their lending protocol I believe
ok, thank u very much!
As it says, not a function
spl tokens don't have custom taxes, but you can create a staking tax on your staking program
Thanks! I read a forum message where it stated that SPL tokens cant have "custom taxes", that was my doubt
has anyone encountered this problem?

Seems possible
hi guys!
Im devloping a DeFi proyect with some colegues. The proyect its basically a game with pool rewards, but we want to implement like a tax pentalty for retrving "early". Like in others chains, lot os proyects have that tax that day by day reduces by itself. Is this possible in Solana?

Thanks in advance!
Better than that, I'll create a new file only with that call
Same sh..
I love all the dynamic stuff
I'll force for ya and let you know
Rather not have to deal with all these helpers
Boy oh boy. Please just setup the connection normally and try
As you can see, I'm connection with success because my spool is:

CONFIG_FILE_PATH: /Users/ooops/.config/solana/cli/config.yml
RpcUrl: https://api.devnet.solana.com/
Connection to cluster established: https://api.devnet.solana.com/ { 'feature-set': 1006352700, 'solana-core': '1.8.12' }
CONFIG_FILE_PATH: /Users/ooops/.config/solana/cli/config.yml
Using account 9rPCp6zYvPE5KzbmMfK7kyjepLEyAZupq8hmHR2wmgHo containing 1.9785706 SOL to pay for fees
https://github.com/solana-labs/example-helloworld/blob/master/src/client/main.ts
in a sec
Give me a git or something
what is getRpcUrl
Which in turns execute:
export async function establishConnection(): Promise<void> {
  const rpcUrl = await getRpcUrl();
  connection = new Connection(rpcUrl, 'confirmed');
  console.log('rpcUrl:', rpcUrl);
  const version = await connection.getVersion();
  console.log('Connection to cluster established:', rpcUrl, version);
}
What is establishConnection?
I grab the example/hello-world, it creates the connection at: establishConnection();
It's not a static method
Did you never create the connection object?
Na, double checked and it is all from connection:
import {
  Connection,
} from '@solana/web3.js'; 
...

const result: any = await connection.getTokenAccountsByOwner(myPubkey, {
  programId: TOKEN_PROGRAM_ID,
});
In spl-token package you need to use connection from web3.js and set it like I showed earlier
Let me change it
So probably I need to set on this one, right?
No, <@!839088888449466409>/spl-token
https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
You were doing it with web3.js though?
Hey <@!489206164270350337> im having difficulties importing my private key to typescript file, could you link me some tutorial to set it up?
% 
CONFIG_FILE_PATH: /Users/ooops/.config/solana/cli/config.yml
rpcUrl: https://api.devnet.solana.com
Connection to cluster established: https://api.devnet.solana.com { 'feature-set': 1006352700, 'solana-core': '1.8.12' }
CONFIG_FILE_PATH: /Users/ooops/.config/solana/cli/config.yml
Using account 9rPCp6zYvPE5KzbmMfK7kyjepLEyAZupq8hmHR2wmgHo containing 1.9785706 SOL to pay for fees

It is using devnet
It's a different encoding
also https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountsByOwner the response is different
https://solanacookbook.com/references/local-development.html#setting-up-connections
That's not how it works though. You need to do this with the connection:
```
const connection = new Connection(clusterApiUrl('devnet'), 'confirmed');
```
BUT I'll double check that
yep, I'm using npm to configure it as dev env
No, in web3. Are you setting the connection object in web3.js to use devnet?
Seems like you need a little intro to Rust. I learned from the Rust book: https://doc.rust-lang.org/book/
You can also check out Rust by Example. Here's the `Result` page, which might be useful to you: https://doc.rust-lang.org/rust-by-example/std/result.html
yep
% solana config get
Config File: /Users/ooops/.config/solana/cli/config.yml
RPC URL: https://api.devnet.solana.com 
WebSocket URL: wss://api.devnet.solana.com/ (computed)
Keypair Path: solana-wallet/keypair.json 
Commitment: confirmed
You're setting your connection to devnet?
But I got this token on my account: https://explorer.solana.com/address/9rPCp6zYvPE5KzbmMfK7kyjepLEyAZupq8hmHR2wmgHo/tokens?cluster=devnet&display=detail

```
let mut pubkey_base58_str = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
let token_program_id = &pubkey_base58_str.parse::<Pubkey>();
```

Then I passed the `token_program_id` to `transfer_checked` and I get the following error:
Thanks for checking out
% spl-token accounts 
Token                                         Balance  
---------------------------------------------------------------
7jUgVEyd1PRdLNfT9WRfVQENxQrki5o7MiLR7U1foB6N  100000000
Thank you looking forward to hear from you
Let me check. They make a lot of breaking changes it is hard to keep up
Sounds like whatever you're querying doesn't have atas
It get back context only, as this: 
{ context: { slot: 110467859 }, value: [] }
metaplex/js@4.11.7
https://solanacookbook.com/references/token.html#get-token-account-by-owner
great and how do I get the list of all associated token accounts from a user? I've tried:

const result: any = await connection.getTokenAccountsByOwner(myPubkey, {
    programId: TOKEN_PROGRAM_ID,
  });
  console.log(result);
I want to make sure they didn't make another breaking change
What version of metaplex's libs are you using?
const mintNFTResponse = await actions.mintNFT({
      connection,
      wallet: new NodeWallet(userKeypair),
      uri: "https://gateway.pinata.cloud/ipfs/QmWysNqDg6JAkaRikeHUiN9vCBnEDeRePqZMT13cNAXADV",
      maxSupply: 1,
    });
updated
Give more code?
You're just trying to get a Pubkey stuct? You can use `Pubkey::from_str(<STRING>)` or `<STRING>.parse::<Pubkey>()`, as per the tests at that link
Hey guys i was trying to mint an nft using react and fetching the metadata from ipfs from the front end but i am getting an error which i am not able to understand. Can someone please help me. 

ps"I have been following the solana cookbook for NFTs"

The token is minted. Metadata is uploaded but when the mint nft is called  using:

const mintNFTResponse = await actions.mintNFT({
    connection,
    wallet: new NodeWallet(keypair),
    uri: 'https://34c7ef24f4v2aejh75xhxy5z6ars4xv47gpsdrei6fiowptk2nqq.arweave.net/3wXyF1wvK6ARJ_9ue-O58CMuXrz5nyHEiPFQ6z5q02E',
    maxSupply: 1
  });

This error is thrown

I think that `bs58::encode` doesn't accept a string.
I tried the following:
```
let mut pubkey_base58_str = bs58::encode("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA").into_string();
let token_program_id = Signer::pubkey(&pubkey_base58_str.parse::<Pubkey>());
```

But I get the following error:
`the trait 'Signer' is not implemented for 'Result<Pubkey, ParsePubkeyError>'`
Imagine buying a computer, but not having admin or root access on it. Thats basically a phone.
"Paying for a device where you dont even have full access/root access to it"
man.. pay for a service and can't even use it fully >..>
i see... ok
iv run into similiar issues with ports not being available when tethered so idk
or is it pretty open?
dammit.. im on verizon
doesnt verizon firewall off some ports on their network when you tether?
honestly, someone correct me if i am wrong but
but figured phone would get around ayn firewalls
i am traveling.. i thought it may be network as well
Worked for me just fine
tried using phone hotspot
for those they all get network timeout
Firewalled?
ive also tried few cusgtom rpcs
mainnet-beta
Whatever rpc you're hitting has it disabled
```{'jsonrpc': '2.0', 'error': {'code': 410, 'message': 'The RPC call or parameters have been disabled.'}, 'id': 'f0e26f8e-7c9b-40f6-a712-af65978b67da'```
getProgramAccounts isn't working
I believe this is correct. Shouldn't be from solana core though, as it is a custom program error
Looks like there is a couple examples in the tests here https://github.com/solana-labs/solana/blob/master/sdk/program/src/pubkey.rs#L667
Anybody got some tips on debugging foreign errors?

I'm getting `Error: Transaction failed: Custom program error: 0x7dc` when trying to customise an existing smart contract.

0x7dc = 2012 so that means it's the 2012th error right?

my smart contract doesn't have that many errors so I'm assuming this is a solana core thing?
Is it possible to pass a string to it?
Something like:

```
let token_program_id_str = "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";
let token_program_id = Signer::pubkey(token_program_id_str);
```

Note: I will pass `token_program_id` to `transfer_checked`.
Not really any standard on the account structure
All account addresses must be passed in with the instruction
Is there some kind of proper/standard structure for passing in data?
OK, really stupid question here....How are we suppose to pass in dynamic data (like an address to send to?)
I assume it comes from the instruction data somewhere???
pub fn process_instruction(program_id: &Pubkey, accounts: &[AccountInfo], _instruction_data: &[u8],) -> ProgramResult {

        let account_info_iter = &mut accounts.iter();
        let from = next_account_info(account_info_iter)?;
        let to = next_account_info(account_info_iter)?;
        let token_account = next_account_info(account_info_iter)?;
        let token_program = next_account_info(account_info_iter)?;
        
        if !from.is_signer {
            return Err(ProgramError::InvalidSeeds);
        }

        let instruction = transfer_checked(&token_program.key,&from.key,&token_account.key,&to.key,&from.key,&[&from.key],  100000000,9);
<@!489206164270350337>  worked thanks.
Couple examples here https://solanacookbook.com/references/keypairs-and-wallets.html
Something like this `let pubkey = Signer::pubkey(&wallet);`
Guys, in JS we can create a `PublicKey` variable by doing this:
`const addressPublicKey = new PublicKey("So111111111......112");`

How to do that in Rust?
Sorry for that stupid question üò¶
I'm new too üòÜ
Add the line before calling `process_instruction`
Then import it by adding this:
`use spl_token::instruction::transfer_checked;`
to your .rs file (probably `processes.rs` or `lib.rs`).
im new to rus but got it üòÑ
Then `cargo build`
yeah
Add `spl-token` like this.
Do I have to 'install' spl_token ?
What am I missing here
using on-chain programs? How can I confirm that a transfer has taken place?
you just move the money out like a normal transfer
yes, I have saw people withdraw rent for metaplex candy machine data accounts
Can you even withdrawal rent ?
I need to withdraw rent from a data account, is it only the assigned program ID that can do this?

i.e. only the token metadata program can withdraw in this case
Hmmm, I think (not sure but checking) you need to create it with the Program ID (pubkey) as the owner... if by default the system will auto create it then it would not show up as a program owned account in the `getProgramAccounts` call
when you set your connection and use the wallet you set the network you want to use for your calls. the user does not choose that unless you let them.   you cannot control what they view within their wallet plugin. 
there is also a `WalletAdapterNetwork`  in `adapter-base`
potentially, depends what your values are. I would review the token\program\src and related test suite if you have issues with what your passing as well. 

example:
`// transfer checked
        let instruction = transfer_checked(
            &program_id,
            account_info.key,
            mint_info.key,
            account_info.key,
            owner_info.key,
            &[],
            1000,
            2,
        )`
how to get user network with @solana/wallet-adapter-react . Because i want to allow access only to the mainnet
So, it'll be like this:

```
let account_info_iter = &mut accounts.iter();
let from = next_account_info(account_info_iter)?;
let to = next_account_info(account_info_iter)?;
let token_account = next_account_info(account_info_iter)?;
let token_program = next_account_info(account_info_iter)?;

if !from.is_signer {
    return Err(ProgramError::InvalidSeeds);
}

let instruction = transfer_checked(
    &token_program.key,
    &from.key,
    &token_account.key,
    &to.key,
    &from.key,
    &[&from.key],
    100000000,
    9
);
```

Is that correct?
it needs to be a signer who is has authorization over the token account to perform the transfer, so in your case most likely, is the signature and address of the `from` wallet
I'm building a simple program to send tokens between two wallets.
In my case, the `authority_pubkey` is the sender, is that correct?
generally: `token_program_id ` would be the spl-token program id, and `authority_pubkey` would be the authorized owner on the token account
if there is an spl-token, say USDC, and the user does not have it, an associated token account would be created for that user (by whoever is handling this), which will create a token-account, of mint type USDC, by program spl-token. this token account would be associated if done properly with their primary wallet address, and this allows everyone to more easily gather all the 'associated' token accounts associated with an address.
Hi guys, I have a question please:

`Function spl_token::instruction::transfer_checked`, this takes multiple parameters in Rust.
`token_program_id`, `source_pubkey`, `mint_pubkey`, `destination_pubkey`, `authority_pubkey`, `signer_pubkeys`, `amount` and `decimals`.

The sender wallet public key is: `source_pubkey`
The token will be transferred is: `mint_pubkey`
The receiver of that transferred token is: `destination_pubkey`
The signer of this transaction (the sender in my case) is: `signer_pubkeys`
The amount of that token to be transferred is: `amount`
The decimals of the token is: `decimals`

So, what are the `token_program_id` and `authority_pubkey`?

I described each one of these parameters just to correct me if I'm wrong.
Thanks
So every time someone needs to have a new spl-token, it needs to be created an associated token account which is deterministic
YEs
using on-chain programs?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedConfirmedTransaction
Hey guys, I want to get a clarification about Solana's arch. First of all, all states from spl-token are held by associated token account, correct?
Is there a way to get the data of a transaction using the signature?
Thanks a lot for the explanation.
it is a client, it would talk to the programs. so a client does not run on chain, it has not outside network access.
on-chain programs does not support solana-client?
Either should be fine.
Sorry, never worked neon
I seen its live on testnet but according to them it should be MB by now
hey when i get a recent blockhash, is it better to do ``singleGossip`` or ``confirmed``?
<@!590982495923732511> Do you know if neon EVM port is on mainnet beta?
unsure on any official release.  many are testing. I would ask them.
https://neon-labs.org/
https://discord.gg/neonevm
Use `cargo build` for normal rust programs.
build-bpf is for on-chain programs.
Yes.
were you able to build and run the test client from within the main repo?  is this in a different project or setup?
So we can port Solidity projects to Solana?
Is neons EVM port ready?
Is there any way to use solana-client?
error[E0425]: cannot find function `is` in this scope
 path/.cargo/registry/src/github.com-1ecc6299db9ec823/atty-0.2.14/src/lib.rs:98:6
   |
98 |     !is(stream)
   |      ^^ not found in this scope
Hello, I'm trying to use solana-client="1.9.5" and it's showing error when running the command "cargo build-bpf"
`let pda = await PublicKey.findProgramAddress([Buffer.from("abcd")], programId)`
`let (pda, bump_seed) = Pubkey::find_program_address(&[b"abcd"], program_id);`
instead of `https://api.mainnet-beta.solana.com/` ?
What is the code that created the PDA?


///////////////////////////////////////////////////////////////////////////////////////////////

I feel i need a course how develop programs on rust for solana. Somebody know one?
these files, are compiled like an executable in many languages, after a program is compiled it can be deployed on chain, where its deployed as an executable account using transactions on chain -
hey ppl üôÇ There is a way to install solana cli on raspberry pi?
because it doesnt console log LMAO and i want to call a function in that place
anyone knows how do i do so that this code goes past await connection.confirmtransaction line?

Hey guys!
They are compile together?
I seemed to have all the right versions. However I just changed my import from ``import`` to ``require`` format and it works, not sure why that was breaking
those files are compiled to make up the executable token program on chain
All that files are parts of one token?
Yes. I just tested with that version for a previous person, and it works. Make sure you don't have any links to a different version
Tokens are done differently on Solana than EVM. Please read https://spl.solana.com/token
that is the latest one on npm right? - https://www.npmjs.com/package/@solana/spl-token

What is your version. If you're using the alpha version, it's the wrong version
Yep. For example how to build a some token
Will ask it again here then üôÇ I'm really confused why I don't have the method ``getOrCreateAssociatedAccountInfo`` on my spl-token Token object

I can see the method on my node-modules spl-token JS file and I have the latest version of spl-token

Does anyone have any idea why this might be? I seem to have most other methods
https://github.com/solana-labs/solana-program-library if so
For program examples?
oh my bad
Are there some repo like openzeppelin?
It worked Jacob üôÇ The problem was that I had not initialized the TokenAccount before sending funds to it
You were replying in the wrong channel, and that channel was accidentally public
Were some msgs cleared? Had asked question and had a reply notification but they are both gone
Check if anyone has shared the source in the magiceden discord
thankyou <@489206164270350337> 
i am using magiceden to get the data about the NFT.. i am able to get all data about the associated wallets keys etc.. but there's this one account's key which i am unable to fetch that's why i am wondering how the transaction happens and how that missing key can be fetched..üòÖ
If you're trying to do interaction with things like magic eden, you need to know their program source, or at least an example of how to interact with it
NFTs are just spl-tokens. If solana-py has spl-token integration, use that
hello devs!
i am a beginner with solana and i need some help with a project i am working on.
i am trying to create a requests based python script which takes multiple NFT's addresses as input and will buy those NFTs for you. i want to do this using solana.py but i am unable to figure out it can be achieved using solana.py or how the transaction will look like..
(i know how to transfer solana from one wallet to another but how to buy those NFTs is my problem here)
it would be a great help if anyone can nudge me into the correct direction..
Looks like this broke at some point. Let me see what the update is
Oh wait maybe I need to initialize the account first

yeah
You're doing both instructions?
When you create a mint, it starts out with a total supply of 0
For LP questions I would google
sorry for all these dumb questions üîπ
that is my core doubt, if i add an LP of 10k, the first token minted going to get a price of 10k , im right?
```
new TransactionInstruction({
        keys: [
          {
            pubkey: wSolAccount.publicKey,
            isSigner: false,
            isWritable: true,
          },
        ],
        data: Buffer.from(new Uint8Array([17])),
        programId: TOKEN_PROGRAM_ID,
      })
```

I'm trying to transfer wSOL to a token account, but it's telling me i put the wrong programId
but when i decide move it to mainnet, i need to add LP of 10kusd~ to be listed and allowed for trade?
so, i think i can start it and made some gameplay-test on dev net and have a full idea how it works
oh ok i saw (https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/) so that happens in the contract zone, i need to think about  and implement in rust, ... have some example doc related with this transaction communication between programs? 
now im reading it https://docs.solana.com/es/developing/programming-model/calling-between-programs
What's the TOKEN_PROGRAM_ID for devnet?
```    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: incorrect program id for instruction```
Players interact with program. Given specific set of variables, minting happens
So create a program with a PDA that has mint authority. Use the program to decide when minting happens, increasing the supply
ajam, the tokens are created by (in this case) the players
Then you mintTo specific token accounts to increase the supply
So when you create a mint, the initial supply is zero
but i saw some related with liquidity needed to be listed for trade, and that liquidity is about 10k, so i a start the token with supply of 0, that is implicitly needed?
hi i have a question, is possible start an token in solana with TotalSupply: 0 ? the idea is implement it in a game where the tokens are mint in run-lfe-time?
You can do that, but there is also a check for a metadata account. I believe the metaplex js sdk has a function that does this
Specifically, if the amount of tokens for the fungible account is 1
When you fetch token accounts associated with a wallet how can you tell which ones are NFTs and which ones are fungible?
oh thanks üôÇ
This is rust info. Please check out the rust docs https://docs.rs/crate/xargo/0.3.7
I believe so
does `solana-test-validator` support websockets ?
What's the actual **Xargo.toml **file for? And which part of the toolchain uses it? Does Cargo use it only when invoked as `cargo build-bpf`? Can't find any information on it. Example from Solana bible's final product repo: https://github.com/paul-schaaf/solana-escrow/blob/master/program/Xargo.toml

Content of Xargo.toml:
```
[target.bpfel-unknown-unknown.dependencies.std]
features = []
```
I was just searching it myself
Are you spying on my pc? Did you know I had just typed into google how to do that? üòõ
You can do `solana-install init <VERSION>`
Yeah. Completely different changes on that cli
solana-cli 1.9.4 (src:8ce65878; feat:3258470607)

Very likely to be the CLI version issue then eh?
So i would recommend two things:
1. Use local-test-validator
2. Make sure you are using the same version of solana CLI as devnet(1.8.12)
I think so yeah, just the docs for gemwork said anchor deploy so was trying to just follow it and hope for the best. The error output in it's entirety is:

```
Deploying program "gem_bank"...
Program path: /home/cmhayden/core/target/deploy/gem_bank.so...
==========================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
==========================================================================
TWELVE WORDS THAT I SHOULD NOT SHARE ON A SOLANA DISCORD SERVER
==========================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
==========================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.
```
Anchor deploy uses the solana cli under the hood afaik
beautiful
I've tried both anchor deploy, and solana program deploy
Let me try it out. I assume you're using `program deploy`?
https://solanacookbook.com/references/token.html#wrapped-sol
What's the difference between SOL and wrapped SOL? How do I convert between the two on devnet?
to devnet for now, but I am wanting to deploy to mainnet once I iron issues out
Where are you deploying?
Hey! Was wondering, has anyone seen this error before?

```Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.```

I'm trying to deploy my version of gemworks (https://github.com/gemworks/core) and each time I try to deploy I just get invalid blockhash errors
thanks Jacob!!
ohhhh that's a good idea
I would contact solend and see if they have a faucet for integration development
They use `FNNkz4RCQezSSS71rW2tvqZH1LCkTzaiG7Nd1LeA5x5y` in DevNet. But how do I mint that to my devnet account in a test?
You can create any old mint and pretend on your end it is USDC. If Solend has a deployment in devnet, you'd need to ask them what they use instead of USDC
Hi, how do you write tests when you're doing CPI? Say I have a smart contract that deposits into Solend. In my tests, how do I mint USDC to mimic depositing into Solend?
`mint: new solana.web3.PublicKey("...")` could do it
it wouldn't have `toBase58` on it
Yeah, that's just a string, not a public key
Then used inside my function:
Right, but the object you're passing is doesn't seem to have that function. You have to make sure your types are right
so i took min from here:
Dont worry, i will ask through our internal channels.
I don't think you'll get that much
1m? Why?
1m or so
How much?
I don't really know what filter is
Hello, who should i talk with about asking a really big amount of sol in devnet, i work for a custody platform and we need to run some tests?
Do you know the type? You can step through debug this to see what's going on
async getTokenAccountsByOwner(ownerAddress, filter, commitment) {
    let _args = [ownerAddress.toBase58()];

    if ('mint' in filter) {
      _args.push({
        mint: filter.mint.toBase58()
      });
    } else {
      _args.push({
        programId: filter.programId.toBase58()
      });
    }
its comming from solana wallet adapter, npm module ,using with react
sounds like `toBase58` is not a function on the object you're using. I'd check the type and what functions are available
I managed to find mint for needed token but now i have a new error :  "filter.mint.toBase58 is not a function"
let me dm you a snippet
Do you have a getProgramAccounts example?
Let me see if I can figure anything out on this
```
(*jsonrpc.RPCError)(0x14000684030)({
 Code: (int) 410,
 Message: (string) (len=46) "The RPC call or parameters have been disabled.",
 Data: (interface {}) <nil>
})
```
hey everyone, I noticed that the official mainnet RPC nodes have disabled the RPC call to grab a bunch of accounts with a memcmp filter

is there anything official to it? will the RPC call go away or is there a workaround
I'd be scared if they're planning on creating 1000 different mints
1000 of a single mint
Yea I know you are, just wondering if they are üòõ
Yes
You do mean 'minting' an amount of a singular type of spl-token right?
The term 'minting' is also used when talking about NFTs
Solidity is not supported today, but you can check out projects like neon which plan on adding support
thanks <@!489206164270350337>
Minting 1000 spl tokens cost no more than minting a million.
That does make sense lol
> Just like any kind of string it holds that nobody else has access to

If by "access" you mean not being readable by anything, I dont think Solana can offer that, as **literally** anything stored on the chain is publicly available to read
but it's only modifiable by the program
anything is public
Isn't a PDA public? Like can anyone determine a PDA for a given program?
From glossing over your question, I think you're looking for a Program Derived Address (PDA)
And that can be used in program functions
Just like any kind of string it holds that nobody else has access to
Is there any way for a program to have a secret key, or something functionally similar? I'm trying to see if a solana program could be the proxy in a proxy re-encryption scheme
hi guys just wondering how much sol need to mint 1000 spl tokens ?
since I assume the tokens you're looking for are owned by the spl-token program
if you know the mint account for the token account you're looking for, yea - that's where you can supply that mint account (which will not be the publickey of the user)
if not, probably just supply the spl-token programID
As i understand, i should pass props TokenAccountsFilter as {mint:  publicKey}  or {programId:  publicKey}
>  let lp_token_mint = Self::unpack_mint(lp_token_mint_account_info, token_program_info.key)?;
>  state_pool.lp_price = ((adjLiq * 1000000) / (lp_token_mint.supply as u128)) as u32;
this formula to calculate LP Price sometime gives wrong results. Its intermittent very hard to duplicate. Anyone has any clue?
Solana CLI tools: is it possible to "inspect" a transaction from CLI instead of using explorer.solana.com pointed to localhost? I found `solana decode-transactions`, but in order to use that, I need a serialized transaction first... I want simply something like `solana transaction show <SIGNATURE>`to show me the details of a transaction. Can it be done somehow? I can't find it. thx.

EDIT: ha! that's extremeley obfuscated, but it's done this way:
solana confirm <PUBKEY> -v or --verbose
I think their entire codebase is open source, so you can deploy the programs on your own local cluster (I think)
Not sure why you want to do that though, those programs are deployed on devnet and testnet too
I found Solana recently, noticed that it works quite differently than Ethereum based cryptos. Thinking about making NFTs on Solana, coding staking and etc.
Is Solidity code supported? (Is it stable?)
Hi there, anyone knows if its possible to get the LAMPORTS of a spl-token (in web3js) ? So detect with how many decimals it has been created
Hi there, how can I test an external program (ie the Metaplex program) on a localnet?
have you tried console logging publicKey? might be an error unrelated to the program call, and more related to the parameters you pass in
which is of this type
```
TokenAccountsFilter: { mint: PublicKey } | { programId: PublicKey }
```

that might be what your error is referring to
> Cannot use 'in' operator to search for 'mint' in undefined
also, it looks to me like you're missing arguments to the getTokenAccountsByOwner call
it requires a filter, no?
`getTokenAccountsByOwner` will give you all the ATA's owned by a given pubkey
then you can call `getTokenAccountBalance` to list the balance of these individual accounts

I am sure that i am missing something, but cant find a solution for more than a day. I am using phantom wallet.
and getTokenAccountByOwner returns error " Cannot use 'in' operator to search for 'mint' in undefined"
getTokenAccountBalance returns error  "failed to get token account balance: Invalid param: not a Token account"
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountBalance
Good day, i am using wallet adapter for react and cant find a way to get all balances of non SOL based currencies. Can anyone guide me to a proper direction?
Heres one way to approach: https://solanacookbook.com/guides/data-migration.html
Hello, where can i find references for smoothly upgrade state accounts for my solana program to newer versions (expaned with new fields etc..) ?
Thanks <@!104704200268623872> <@!814228493302497301>
it's recommended to create a PDA before calling a program, as it might take a lot of iterations to find a valid PDA with the given seeds
From Pubkey impementation
```rust
pub fn try_find_program_address(seeds: &[&[u8]], program_id: &Pubkey) -> Option<(Pubkey, u8)> {
        // Perform the calculation inline, calling this from within a program is
        // not supported
        #[cfg(not(target_arch = "bpf"))]
        {
            let mut bump_seed = [std::u8::MAX];
            for _ in 0..std::u8::MAX {
                {
                    let mut seeds_with_bump = seeds.to_vec();
                    seeds_with_bump.push(&bump_seed);
                    match Self::create_program_address(&seeds_with_bump, program_id) {
                        Ok(address) => return Some((address, bump_seed[0])),
                        Err(PubkeyError::InvalidSeeds) => (),
                        _ => break,
                    }
                }
                bump_seed[0] -= 1;
            }
            None
        }
```
that bump is what they're referring to
it becomes part of the seeds for that PDA
When you call `findProgramAddress` it iterates through `findProgramDerivedAddress(seeds)` with an extra "bump", to make sure you eventually find an address that doesn't lie on the curve
So bump is the number of iterations needed to find a PDA.
Where specifically are you getting the phrase?
Do you know what is creator bump? <@!814228493302497301> <@!104704200268623872>
Please can anyone explain why we use iancoleman website???
Hello
https://solanacookbook.com/references/accounts.html#program-derived-address
It's a publickey that is ensured to not lie on the curve that normal keypairs lie on, so there is no associated private key
Meaning the program the PDA is created from functions as the signer for that publickey
Program Derived Address
Does anyone know what metadata "PDA" stands for?
Has all the tools you need to do that
https://github.com/streamingfast/solana-go/blob/develop/transaction.go
You could write that using the SDK and post it on github, others may find it useful
Already tried that, nothing to interact with the hello world program!
Scroll up to the SDK section in <#763249718339567626>
NO, link please!
Don't cross-post. In <#763249718339567626> did you look at the two (2) Go SDKs?
Hello peeps, I need go-client for the helloWorld program, anyone?
An transaction that includes the public key.
Token accounts must be rent exempt.
Does ‚Äúmentions‚Äù here mean that you log the pubkey from your program? Or does it mean any ix where that pubkey was passed as account info?
reduce the amount of lamports passed to the createAccount function
edit: nope, rent exemption is a requirement of token accounts so you can't do that
less amount during the token account creation
do what?
how can we do that
<@!897727154673037332> the amount sent for the token account creation is not rent. It's the amount that allows you to be rent-exempt. If you send less than that, then the account will have to pay rent and may be deleted after a while
is there any possible to provide the rent exception for the token account creation
Correct.
this is precisely the amount needed to be rent-exempt actually
You can see that We ned to send +‚óé0.00203928 SOL for every token account creation
Hi guys, I get an error that's been raised a few times already but I didn't find any clear answers to what I'm doing wrong.
Client side, running the following code:
```
const createTokenAccountIx = SystemProgram.createAccount({programId: TOKEN_PROGRAM_ID, space: AccountLayout.span, lamports: await connection.getMinimumBalanceForRentExemption(AccountLayout.span), fromPubkey: publicKey, newAccountPubkey: newTokenAccountKeypair.publicKey});
const txInitAccount = new Transaction().add(createTokenAccountIx)
const signature = await sendTransaction(txInitAccount, connection);
```
raises the following error
```
{"code":-32003,"message":"Transaction creation failed."}
```
It looks pretty simple and standard to me and the same code works fine in a cli script...
I'm using wallet-solana-adapter package, connected to Phantom


guys, why does my command say I have 8 sol on balance in my wallet in devnet, while my phantom of this wallet shows less than 2 sol?? I am in devnet network in phantom
Sorry?
Is there any possible ways to  make our token account to be rent-exemption?
Because during the creation of Token account for every account +‚óé0.00203928 SOL is consumed
I think you can convert a Message to a Transaction with Transaction.from
Confirmed is good for most cases, max if you want to be 100% sure.
how can we confirm a transaction is done ? 
i have three options =>
```

        /// The node will query the most recent block confirmed by supermajority of the cluster as having reached maximum lockout, meaning the cluster has recognized this block as finalized.
        Finalized,

        /// The node will query the most recent block that has been voted on by supermajority of the cluster.
        Confirmed,

        /// The node will query its most recent block. Note that the block may not be complete.
        Processed
```

the cool part is Confirmed is far more promising...
plus! i have a CreateAssociatedAccount program in my previous transaction, when it gets confirmed i move on next transaction but although it's completed and confirmed (with above context)
if i try to simulate the transaction it gets failed whats is the deal with simulating a relatively fresh transaction?
And you should also check there aren't any other instructions in the tx.
It can decode the transfer ix and give you from, to and amount.
I would recommend looking at System.decodeTransfer
But you can construct a malicious tx.
Normally yes.
If the tx has more than one signer then it can be any one of their balances.
Define sender.
Ok.
please
can I add you/
Can you link to one of them?
Some NFts are  being showed as tokens in the wallet when purchased
https://github.com/Fulgurus/candy-machine-v2-responsive-ui
Ok, and what was the issue again?
can I post a link in here?
A client (dapp/wallet/program) uses the RPC api to interact with the solana cluster.
oooooo, a client in this case is some third party app unrelated to the chain
To where you got candy machine ui from.
Okay, so is this rpc hitting the client or the program?
link to what?
or does an external app call the program?
Yes, there is an RPC api.
Devnet and testnet are the exact same thing as mainnet except you can get sol for free.
okay I'm a bit confused as to how an external application might interact with the client then? Would I have to make an api?
A cluster is just a set of validators.
Yes, that is correct.
I'm trying to understand the dynamics that a cluster, client, program, and instructions share. Does anyone have insight?
A program that contains instructions gets sent to a cluster, where a client can interact with said program? Is that right?
Ask here and we shall try to answer.
Can you send me a link.
Hmm I am not familiar with that.
should be simple
Can anyone answer my question on the data flow of solana and its programs?
Solana tells you how to how to make one here
https://spl.solana.com/token#example-create-a-non-fungible-token
caandy machine UI
How are you minting the tokens.
<@!835614995714015304> <@!455114989397868556>  <@!224643918539653120>  <@!241691431222116352>  <@!722072331702239282> <@!690069013971468317>  <@!301482575170502661> <@!489206164270350337> 

I am sorry for the disturbance. but we are trying to fix this bug/error for a while now. Any guidance would be much appreciated.
Hello, we are deploying our NFT on SOLANA. We faced a metadata issue,
Some of the NFTS is being shown as tokens.

Who could offer us immediate support fam or guide through or a how-to or could help us debug the error,

Our project on SOLANA is doing great! That's our first project. However, we are facing this disturbing issue.

I hope I am not breaking any community guidelines here.
I'm trying to understand the dynamics that a cluster, client, program, and instructions share. Does anyone have insight?
A program that contains instructions gets sent to a cluster, where a client can interact with said program? Is that right?
Sorry, actually reviewing the stake pool in SPL is for SOL... not for SPL token staking
thank you so much this helps alot,in terms of the delegation process is it that it would use the validators that already exist to perform the delegation process. Please correct me if im using the wrong jargon
Have you looked at the documentation for the SPL staking program? https://spl.solana.com/stake-pool I have no experience with it, but it looks very detailed
I am getting stuck using this program: https://github.com/praskoson/distribution-tools

Anyone familiar with these token airdrop tools could lend a quick hand?
So i dont know if this is the right place to ask but simply put without going into to much detail; I created my first token and would to create staking pools or a staking pool for it and i dont know where to start and i cant find alot of info on it. Can anyone help?Please I ahve asked so many communities with no help at all, and but seems like no one is willing to give any info. N.B its a spl token using rust.
üôè
yea its just an implementation detail. in either case, youll want to make sure you check any necessary data and accounts coming into the program. some SDKs are primarily client side, while others split some responsibility. either way you need to build client side transactions, so in some cases it is easier. it really just depends what you 'want' on chain.
after you install the solana cli   from command:  `solana-test-validator`   can also use --help to view any options, like the other commands for CLI
im pretty sure jarry reviews how to do that here:
should watch the series in any case. its very good.
https://www.youtube.com/watch?v=O0uhZEfVPt8&list=PLilwLeBwGuK7Z2dXft_pmLZ675fuPgkA0&index=2
Thank you. How do I run solana test validator?
Anyone know how to decode the Instruction Data (Hex) or guide me to something I can read about how its done? Here is a random transaction from MEden, https://explorer.solana.com/tx/4vuv567GPFBqf6TCBcn7RyJR6Y2CVjA3MUSmEktbAPvLoW4EhjDvJnPpUfWvLP1R23ycXi5wWwjPkFZQGihN8EEV
Oh I see - thanks!
Look into the getProgramAccounts RPC call https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts use memcmp to filter by owner. You can find the token account layout here https://github.com/solana-labs/solana-program-library/blob/master/token/ts/src/state/account.ts#L14 Each public key is 32 bytes so the offset would be 64 to account for the address and mint in the layout.
Does anyone know a way to find all accounts owned by an account on Solana if these accounts were not created using the associated token program?
Are there any preference whether you bundle a lot of instructions in a transaction on the web3 layer, or have a single transaction in the program do it all using CPI? E.g. if you need to send tokens to a PDA would you create, initialize, transfer, and set authority in web3 or in your program? I feel like it's just an implementation detail depending on use cases, but I want to know if there is a recommended method.
My understanding is a transaction can have a lot of instructions to send solana, so those arrays can grow beyond 2-3
And then the sender/receivers are added in pairs to the accountKeys array per send instruction
Answered in <#428295358100013069>, please dont cross post
I run my own node solana by  ./multinode-demo/bootstrap-validator.sh command. I dont know why transaction-count auto increase although I did not send any transaction. Help me!
you may want to do some logging if you have not.  when it says incorrect program Id, and make sure those at least are correct, and some other basics things to verify nothing on your end first - for whatever reason.  web3 library update, package, network, config, etc.
nevertheless I will look
and fails now
but it doesn't make sense why this code would work for multiple thousand airdrops a couple weeks ago
I was just wondering if there was anything documented for how to do it. (I expected such an action to be a very non-trivial effort.)
Of course - a private chain would have to have all the various components.
I am not aware of any guide for doing this. You would need to be familiar with how to build, run and deploy, and have nodes etc.
good question for raydium discord
https://discord.gg/raydium
maybe you should review this and make sure its working for you first.
then you can figure out what is wrong with the code you have.
https://solanacookbook.com/references/token.html#associated-token-account-ata
Is there a mechanism for creating private Solana chains? I can't find anything in the docs anywhere that'd help me with that.
Is it possible use the solana cli to autocompound a staking account we have on raydium?
FetchError: request to https://api.mainnet-beta.solana.com/ failed, reason: socket hang upÔºõ is there problem for the mainnet
<:worriedcry:615396682154377216>
using latest version of the package, I do see it in the source code
Somehow I don't even have this method in my Token class <@!167500700601942016> so strange
<:thinkcat:837225078877716511>
this didn't work either
this would still fail trying to send any spl fungible token
this problem is unrelated to NFTs or metaplex
https://docs.metaplex.com/community#nft-transfer-and-airdrops
so it forces to wait for finalization
In light of recent events with network issues, I will try adding `commitment: 'finalized'` option
```js
function sendAndConfirmTransaction(title, connection, transaction, ...signers) {
  return web3_js.sendAndConfirmTransaction(connection, transaction, signers, {
    skipPreflight: false
  });
}
```
In `index.cjs.js` of `@solana/spl-token` there is the `sendAndConfirmTransaction`
where did you get that code btw?
I'm going to try something
I want to set up a backend that can send and mint tokens using the JS api.

My goal is to be able to "airdrop" a set of wallets every day

I was able to follow those docs and create and send tokens via the CLI, but I haven't been able to do the same through the JS api
but `getOrCreateAssociatedAccountInfo` seems to fail to create an associated token account
I'm simply trying to send an NFT from A to B
what are you trying to do? are tokens and mints not clear after reviewing the spl docs? 
https://spl.solana.com/token
That is my understanding so far but still getting my code to work too haha
And associated token addresses allow you to know what the address hash would be using your mint address, so you know what to check for
thank you so much, I don't know why I couldn't find this, I was looking forever
This code is checking if the recipient address has a token address created already, and otherwise creating it for them right? And then sending the token afterwards
Have been breaking my head with tokens all day too <@!167500700601942016> lol
it attempts `getAccountInfo` a second time as explained in the comments, but it still fails
```js
  async getOrCreateAssociatedAccountInfo(owner) {
    const associatedAddress = await Token.getAssociatedTokenAddress(this.associatedProgramId, this.programId, this.publicKey, owner); // This is the optimum logic, considering TX fee, client-side computation,
    // RPC roundtrips and guaranteed idempotent.
    // Sadly we can't do this atomically;

    try {
      return await this.getAccountInfo(associatedAddress);
    } catch (err) {
      // INVALID_ACCOUNT_OWNER can be possible if the associatedAddress has
      // already been received some lamports (= became system accounts).
      // Assuming program derived addressing is safe, this is the only case
      // for the INVALID_ACCOUNT_OWNER in this code-path
      if (err.message === FAILED_TO_FIND_ACCOUNT || err.message === INVALID_ACCOUNT_OWNER) {
        // as this isn't atomic, it's possible others can create associated
        // accounts meanwhile
        try {
          await this.createAssociatedTokenAccountInternal(owner, associatedAddress);
        } catch (err) {// ignore all errors; for now there is no API compatible way to
          // selectively ignore the expected instruction error if the
          // associated account is existing already.
        } // Now this should always succeed


        return await this.getAccountInfo(associatedAddress);
      } else {
        throw err;
      }
    }
  }
```
Hey guys, trying to send a token via `@solana/spl-token` but I keep getting an `Incorrect Program id` error when trying to use `getOrCreateAssociatedAccountInfo`
Thanks, yeah I think I get it, needed to make an additional keypair for the mint account (although I don't think I ever need to have the private key for that from what I understand)
Give me the name please. `.sol` isn't allowed I believe
Have nothing on a whitepaper, but here's a general guide https://www.brianfriel.xyz/how-to-create-a-token-on-solana/
Try #2 here https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
Mint should be different. `feePayer` and `alice` can be the same
Hi guys, can i know is there any reference for roll out a token on mainnet such as things to prepare (whitepaper is required?) ?
I'm trying "Keypair.fromSecretKey(new Uint8Array("as;ldjfamcal;sdjfPRIVATEKEYadljk;fas;jldf"))"
and it won't let me use the string value, it needs a byte array. It gives me this: Argument of type 'string' is not assignable to parameter of type 'Uint8Array'
Thank you Jacob : )
how can I generate a byte array from my private key? cannot find anything for it
A transaction has to do something, right.
You can add a system.transfer instruction and change the account metas to force a signer.
my friend said he got autobanned when joining this discord because his discord username was like <name>.sol and cant rejoin wonder if any way he can get back in (just wants to be able to use dev support channel mostly)
Is there not a simple way to make a tx (no matter what it does) that requires specified signatures? This seems oddly complicated
If you want to try an actual tx try sending sol from the key to the user.
You can't call the system program randomly.
Oh that is good.
<@!489206164270350337>  I realised you wrote the solana cookbook for tokens

Am I understanding properly that the ``feePayer``/``mint``/``alice`` public keys can all be the same wallet?

It makes sense in my head that the app wallet could pays the token creation fee, link itself to the token account, and becomes the authority
I tried with a random buffer because idk what data buffer it wants and it still says invalid instruction data. Oh well. I'll try offline txs
Try using sollet, it should give you a proper stacktrace.
Hmm didn't try it since it didn't have the secret key.
docs said it's optional so I didn't include data https://solana-labs.github.io/solana-web3.js/modules.html#TransactionInstructionCtorFields
Did it work when you execute with empty array?
it needs to be finalized, but confirmed is an extremely high likelihood
if a transaction is "confirmed," will it always go through? or does it need to be finalized
I mean how can I airdrop this wallet so that sol could be shown in phantom? solana airdrop command doesn't help
the last
in phantom and in command line
I mean these 2 are different there but these 2 are same
seem to be same

Those are two completely different addresses
and solana network shows I have 6 sol, while I have less than 2 sol at pahntom
changed to devnet, works now, thx. But still cannot get what is the wallet shown with solana address, I even do not have such wallet in my folders
<@!345799173913968651> 
```js
        const addSignerInstruction = new TransactionInstruction({
          data: [],
          keys: [myAccMeta],
          programId: new PublicKey('11111111111111111111111111111111')
        })
```
You are missing data here.
<@!489206164270350337> it worked! that f... connection...
Send me your phantom address and all will be well
`transaction.serialize({requireAllSignatures: false})`
Not really.
any thoughts bro?
sendAndConfirmTransaction is different.
It only sends.
Hmm?

Here's kind of what you're looking for with signing and moving to another server. Should give you what you need to know
and also command solana address shows unknown address
while I should have some
but my devnet buyer wallet phantom shows no sol on balance
That sounds right
ye
Okay I think I need to send this variable to backend (line 41):
`let realDataNeedToSign = tx.serializeMessage(); // the real data singer need to sign.`

And then in backend I sign >> recover >> send tx
In order to mint, you must pay fee
any solution, my friend?
guys
does anyone get my problem?
no, I'm pretty sure it has to be signed to work
so I cannot get my token minted as I cannot pay the fee
I have a few months of daily historical data for the entire network, DM if interested.
it's 0 there
but balance is not true in phantom
I am trying to test gumdrop
gumdrop distribution bro
Still required a confirmation
connection.sendTransaction
99% of the time if the transaction sends successfully even if confirmation times out.
Yea but with web3 I'm not aware of a method to send without confirmation
The timeout is only for the confirmation.
Because it sometimes sends after timing out
after 60 seconds it auto fails but this could be a major security risk
Hey, got this error on `cargo build-bpf`. Win10 x64. Rust/Solana CLI are latest.
How to extend the timeout time on solana transfers
I did it, now got this output with unknown wallet
you told me to run solana address after switch
What are you trying to do exactly?
shouldn't I have here my buyer wallet, mate? I do not know this wallet
Does `transaction.serialize()` work?
Setting the wallet tells the cli which keypair to use.
and also shortly could you explain please what config set wallet means, why do I need to switch it sometimes?
Run solana address
I did, what's next, bro?
You can change the config.
is a question ok? or did I confuse things?
when I checked balance, I wrote additionally my buyer wallet address so I know 2 sol are on buyer wallet, not seller
that's what I'm trying to do in the frontend code in the pastebin link
I thought that seller wallet is always config set, isn't that true?
Yes, `solana config set -k "keypair.json"`
Did you sign with the second keypair?
should I somehow swith it?
haven't created backend yet.
You have a different wallet set as keypair.
there is my seller wallet
And what is the output of `solana config get`
I know you have good intentions but please read the question first.

oh okay, thanks than
devnet
Check which network you are on.
gumdrop support is in metaplex https://discord.gg/yZZVd2WA
Guys, I am trying to do a gumdrop spl token distribution to my buyer wallet and the thing is that my phantom shows balance is zero, hence I cannot mint token. At the same time solana balance buyerwallet.json shows I have 2 Sol
Explorer won't show that unless you update explorer code
You have to use wallet.signTransaction, not wallet.sendTransaction
Wait if you are signing on the backend then why is phantom sending it?
That is correct.
yeah it is, but I want to log exactly "Not enough nfts". Here is all what explorer shows:
Check out this https://solanacookbook.com/references/offline-transactions.html#sign-transaction
Don't forget to sign on backend
0x0 is `Not enough nfts` by the looks of it
https://pastebin.com/HXc9nuzM here's the function component
I'm trying to log error message, but I see only "Program returned error: custom program error: 0x0> Runtime error: Unknown instruction error" message. 
How to log custom errors properly?
I was told I need to create the transaction, serialize it, send to backend, deserialize, execute
I want to create the transaction on the front end and send it to backend to execute it. I'm probably doing this all wrong but right now I want to see how requiring multiple signatures works.
Might finish this sooner then https://github.com/KartikSoneji/solana/tree/feat-add-inspect-transaction
Probably hurts development. May reach out and ask
Ah interesting.
It's recent from what I can tell
Hmm never had that issue before.
Do you need more signers than the wallet?
Phantom seems to be hiding some of the results. Don't know why
As code, so I can run it.
Can you send your code?
You don't have to.
The error provided by phantom is simply "failed to create transaction". Solflare tells me one of my instructions is invalid. "invalid instruction data". Do you guys know how to add a signer to a transaction? <@!489206164270350337> A better way to ask is how do I add keys to an existing instruction object?
10 pixels?
1 pixel?
Because think about it, where do you draw the line?
Not on chain.
Is there a way to prevent that from pointing to the same image?
But if they point to the same image then that is on the nft creator.
As far as the blockchain is concerned, each one of them are different assets.
The standard can't help you there.
You have multiple NFTs with the same image.
You can still click approve and see the error in the console.
Yeah but you can use that same uri again to mint multiple so you got 2 or 3 same ones even if max supply is set to 1.
All of them got different mint address and authority address so I can‚Äôt understand how can you distinct between them
im using getOrCreate now, but ill fiddle around with it.  thanks!
No output in the console?
And try with mint.getOrCreateTokenAccount too
Feel free to email/dm
ok I'll try this
im gonna re-dig into this tonight (spent all day yday). if im still having issues, may shoot you an email if thats cool!
Phantom seems to do some simulating and catching of the error on their side. Try another wallet and see if there is a different issue
man really thanks for efforts
SEEMS LIKE YES!
and this shit worked
In a react app, I'm trying to create, sign, and send a simple transaction. I want to require two signatures: sender and receiver (user that has connected their wallet). This is the code I'm using to create the tx, sign it by both parties, and send it. 

The error after the user approves the transaction is "Transaction creation failed". Which tells me nothing.
I used solana-keygen new -o wallet.json
i posted more deets on GH: https://github.com/solana-labs/solana-program-library/issues/2814
You were able to resolve it?
Try this
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
t
the problem was with the walle
bro you helped me
What is the error?
You are using getOrCreate instead of create?
yup - using that, but doesnt work all the time. i dont believe its a timing issue since all my RPC commands use `await`
There is mint.getOrCreateTokenAccount
yeah my functionality is in nodejs - so im creating the token accounts myself.  atleast against devnet, the behavior is finicky (sometimes the token accounts on sender already exist, soemtimes they dont, sometimes they fail to be created, etce)
And make the token accounts yourself
If you want to do it with node.js then you have to use `@solana/spl-token`
No, that is for the cli.
Oh and `--no-wait` will make it much faster.
sweet - ill take a look.  i assume this exist in the nodejs library ?
Just add `--fund-recipient` and `--allow-unfunded-recipient`
Yup.
gotcha - i was doing it manually through creating instructions to create associatedaccounts, and then sending.  i assume spl-token transfer does that out of the box?
spl-token transfer
You can transfer it like a normal spl token.
Because your keypair path is not set correctly.
I suspect it won't
Ah but does solana balance work?
this one
and here it is in this f*cking directory
https://media.discordapp.net/attachments/517163444747894795/936359404599648266/unknown.png
Can you send a screenshot?
so I try to show it directory manually
got it., my issue isnt creating the NFT - its about transferring it - but ill ask there
the token wallet is in the directory but cmd says it's not
the issue is that I want to make spl token and it doesn't create
What is the issue?
thx for this full answer but this command realpath does not work for me, I tried to paste the path myself several times and still no resultüò¢
`confirmTransaction`
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#confirmTransaction
how can I get the confirmation status of a transaction in web3 js?
ok
rent fees mostly
Is that a metaplex cost? <@!489206164270350337>  Or the tx fees?
Depending on the amount, it can get expensive. I believe it costs something like $0.20 each NFT or something today. Metaplex has some tools to estimate total collection cost, I'd go over there and ask <@!918079182787989524> https://discord.gg/yZZVd2WA
sell it
so deploy it on solana
It's not expensive to make an NFT Collection, its pretty cheap
really?
about 3$
anyone know how much it would cost to deploy a 5000 collection on solana?
we all be hella smart then
Then we dont need to elarn, its just 'give me that sdcard' with the contents you wanna learn lmfao
testing on pigs rn
ill share
So we can literally all dump our brains into one place and then i will upload it all into me, gigabrain
can tesla make those brains chips already?
man
I restarted pc and still this windows shit does not get that I am in a correct folder
aight, so you're running `spl-token create-token TOKEN` si?
I'm saying run `spl-token create-token ./TOKEN` - which **might** work
what will definitely work is providing `spl-token create-token /c/users/full/path/to/file/TOKEN`
afaik you can get this ^ (full path) by running `realpath TOKEN`
bro could you please tell it more relevant for a several days rookie? I'm really stuck with this shit for hours
Who wants to join me for supper? ^

I do not get this f*cking magic they tell
cannot make react frontend
we're all stupid until we learn
can find a virus hidden in a wallet
same bro
im too stupid for this
if that doesn't work
try running `realpath ...` (replace ... with the filename)
then copy the results of that, and replace the json filename with it
just add `./` to the start of that
you're providing a file name as argument, the `.json` file
where should I place this command?
`.` is the current directory
that's a relative path
but that might work
is this what you mean?
guys, sorry, but I still didn't get how to use the full path
the problem probably has to do with windows being aids
`realpath` should get you the full path to the file
Please try full path

the folder you opened in vscode is probably that folder
the folder your terminal is in, probably isn't that folder

as I understand with my rookie brain
thing is, I am already in this directory
or that, but getting the full path is more steps, or at least ones I dont know of the top of my head
Use full directory if possible
aight, change directory to that and run it again
lot's of token wallets created

in other directory
hm, I just checked, there is such file bro
o.o
no there is no such file. That's what I tell you
in your current directory, if you run `ls` (list files in current directory), do you see the .json file that `solana-keygen` said it created?
I do not get which entire pass do you mean, bro
where should I write you command and which directory should I paste?
bro, I understood the reason, my token wallet json doesn't appear in my directory after grinding but I do not know to fix it, help please
would this ensure the transaction gets sent? Basically, I'm working on a game where they pay a certain token and receive a different token. Their payment needs to 100% go through before they get sent back the other token otherwise this can obviously cause some security flaws. Is there a check for this?
I'd assume it's possible to increase the timeout time
I'm getting this error, does this mean the transaction did not go through? Or how can I handle this to make sure the transaction goes through?

`unhandledRejection: Error: Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed. Check signature 5KSsk2H-------------------------------------------------------------------------------- using the Solana Explorer or CLI tools.
    at Connection.confirmTransaction (---------------------------------\node_modules\@solana\web3.js\lib\index.cjs.js:5631:13)
    at async sendAndConfirmTransaction (----------------------------------\node_modules\@solana\web3.js\lib\index.cjs.js:2962:19)`
Okay
Probably something to do with wormhole. Check their discord https://discord.gg/wormholecrypto
Sorry do any one know how to cross chain a BSC token and be trading both in BSC and Solana ..?
(obviously replace the PATH_TO_TOKEN_KEYPAIR.json part)
you could try `./PATH_TO_TOKEN_KEYPAIR.json` before going for the entire path
should I get to cli file?
I always used this directory
it's already final, as I see
the full directory to what?
Try using the full directory?
same error 2 - wrong directory
here I made same thing but token wallet is correct and still doesn't work

yea I can see that, it wrote a new keypair to `Tobxm..f6.json`, but you gave it something else
and: https://docs.solana.com/wallet-guide/hardware-wallets/ledger#view-your-wallet-addresses
https://docs.solana.com/wallet-guide/hardware-wallets#specify-a-hardware-wallet-key
I tried to paste a new one, did not work either

I guess, ye
Hi, I'm trying to interact with an address on my ledger nano. In the docs it says `solana-keygen pubkey usb://ledger?key=0` I know the address but not the key number, is there a way to find out the key number from the address?
was this created by a previous call to solana-keygen ?
it's a spread error but I cannot understand what is the solution on the net üò¢
this error says wrong file directory
Yes, that is correct.
Actually, I dont think you use the CLI wrong, apologies
if the filepath you provided is actually a valid keypair file

Your error isn't readable to me as I can't read that language :/ So I can't really help
you may want to check the metaplex discord, if your talking about the standard NFT.
i posted a GH issue yesterday - having intermittent issues transferring a NFT to another user via the spl-token library: https://github.com/solana-labs/solana-program-library/issues/2814 - usually the issue is around the creation of associated accounts on either the sender or receiver.  has anyone else faced similar issues?
https://solana-labs.github.io/solana-web3.js/modules.html#AccountMeta
you should have a look at this, I'm guessing `isWritable` on one of those AccountMeta's is set, where it shouldn't be
There isn't really a super direct analogue of this in solana, or at least it's a bit more complicated. One way to obtain a similar effect would be to send sol to an account that your program either a) directly owns, in which case your program can spend that money in the future, or b) an system program account that lives at a program-derived address derived from your program (then your program can transfer that money because your program can sign for its own program-derived addresses)
thx bro. I am a rookie so I still do not understand what is the problem, google didn't help much
those are the accounts in the transaction. the first one is the owner/fee-payer/signer an its the only one that is writable.
second account is the token address
third is the reciever
the forth is the program id
I think you should run `spl-token create-token --help` because you're definitely not using the CLI correctly
Ah I see, is it the authority address?
I think it's spread error, anyone?
the image/uri isn't the unique part about the NFT
the address is
hi guys! Why doesn't my spl toke create? I read on the net that no keypair has been configured for the Solana CLI but I am confused as I believe I did it
I still don't get it though cause if you use the same arweave uri generated by metaplex for each image, you get the same image when minting via uri
`keys` is the array of accounts that the program will interact with
you see the `isWritable` boolean? My guess is that you're setting that to `true` for an account that isn't written to in the transaction
```ts
let allocateTransaction = new web3.Transaction({
    feePayer: payer.publicKey
  });
let keys = [{pubkey: keypair.publicKey, isSigner: true, isWritable: true}];
let params = { space: 100 };
```
https://docs.solana.com/developing/clients/javascript-api
`Interacting with Custom Programs` shows what I'm talking about
i'm using the sendTransaction method
what does your rpc call look like for the spl-token transfer
Sure, why dont you share some code first, that way we can more effectively comment on your issue
thanks for the reply: can you please elaborate?
1. what is the meaning of isWritable?
2. is any of the accounts of the transaction should be writable?
3. if yes: which?
what is the solana version of a payable function in solidity
sounds like you're setting isWritable to true for one of the accounts in the accounts array given to the transaction, that shouldn't be writable
hi guys, i got "Transaction loads a writable account that cannot be written" error from rpc client.
I'm trying to transfer spl-token from one account to another.
when i'm using spl-token cli it's succeed but when i use rpc client i'm getting this error.
can someone please explain what is this error about and how to overcome it?
i just had an rpc node which was stuck about 34k slots behind return a valid rpc response, not a "node is unhealthy behind X slots" error <:thonk:551296478295883777>
Yes, there is no way to enforce that two nfts don't have the same metadata/image.
Use the genesysgo rpc.
Where can I learn more about all tiny details of signature algorithms used for Solana? It seems like solana-py (solana sdk translated in python) uses NACL package using ED25519 algorithm but i want to  learn more in depth about solana. For starters, can you use other algorithms too?
Does anyone know what type of wallet Phantom uses under the hood? And is it possible to generate a paper wallet of the same type via cli?
Hi guys, I got a question which may be a silly one but I am kinda trying to understand how master edition minting works on Metaplex. I've notices that as long as you got an Arweave / ipfs uri you can mint a new master nft and I don't quite understand how does this work, if you use that same link to mint 10 for example are they different ones or are they technically copies and how can you tell which one is the original? There is a website for this called nftarmory.me


///////////////////////////////////////////////////////////////////////////////////////////////

Kartik - btw i believe i resolved this. From what i can tell, it appears to have been a timing issue. I use the Metaplex lib to mint NFTs in my nodejs server and once i added a listener to wait until the mint transaction was confirmed on-chain before calling getOrCreate, the issue seemed to resolve.
Hey I tried to put my token on the token list how will I know to progress??
It's kind of weird to use since you can't CPI to it‚Äîyou have to invoke it via a separate instruction from the client, e.g. with https://github.com/solana-labs/solana/blob/master/web3.js/src/ed25519-program.ts#L63
So you mean you want to verify the signature on-chain? There's the weird Ed25519 program, https://github.com/solana-labs/solana/blob/2400e86d136f5c151eb447bd7fbda6fed4068f49/docs/src/developing/runtime-facilities/programs.md#ed25519-program
So many scammers on this fucking server -_-
Hey all, I need help verifying a signature in rust. I have the original message, the signed message and the public key. However I'm not sure where to go from here
Hello  everyone, who uses Metaplex? help  please with this:
Steps to reproduce:
create NFTs;
create an auction;
I buy NFT with another address (NFT is with the buyer);
but the seller does not receive anything, the money freezes; 
seller always look 'End sale' button, but it must be something like to "take the money"
How to withdraw money?
I dont understand, nobody that uses windows have those errors
I've installed it today
I have wsl
if you use window, I think you will need WSL.
BPF SDK: \\?\C:\Users\Nir\.local\share\solana\install\releases\1.9.5\solana-release\bin\sdk\bpf
Failed to install bpf-tools: HTTP status client error (404 Not Found) for url (https://github.com/solana-labs/bpf-tools/releases/download/v1.21/solana-bpf-tools-windows.tar.bz2)
<@!788215642070581289> do you know why?
thats the error I get from cargo build-bpf
BPF SDK: \\?\C:\Users\Nir\.local\share\solana\install\releases\1.9.5\solana-release\bin\sdk\bpf
Can't get home directory path: environment variable not found
you can use `cargo build-bpf` to compile your solana program.
there should be a log file, you can cat it for more detail.
a NFT has a metadata account. the metadata will store in it including image, name, symbol...
https://docs.metaplex.com/architecture/contracts
did your fee payer also sign?
anyone?
I only have lib.rs
but how do I create it?
I can see that its searching .so file
and then I tried with git bash and I got Error: Unable to open program file: The system cannot find the file specified
I'm getting access denied error
Hi, why im getting this error?

what is the `Metadata` class?
I assume you want to fetch metadata from a NFT.
https://solanacookbook.com/references/nfts.html#get-nft-metadata
I was wondering if anyone can help with the following: I need to calculate proportional distribution in a Solana program (using integers)...  A has 25 shares, B has 75 shares.  I have amount of 500 tokens. A should receive 125 and B 375.  

With floating point math, this is simple as A'=25/(25+75)*500; ...but I am a bit stumbled about doing this specific calculation using integers.  I did some preliminary search and there are some algorithms, like Serum has U64F64 that keeps fractional part in a dedicated u64. But while this is good for some applications, it can't do the ratio as when you deal with integers, 25/100 == 0;   I know I can use f32  (didn't try yet, but will be expensive) and there is a softfp crate I was going to look at...  

...if anyone has any suggestions on the approach I could take, would greatly appreciate...
just guessing you pass a wrong type value to a function. I can only guess because I can't see any codes.
NFT's essential is a token, you can use spl-token transfer to transfer it.
check https://spl.solana.com/token#example-transferring-tokens-to-another-user
check https://docs.solana.com/cli/deploy-a-program
that's how I solved it, sir, thank you!
```javascript
...
const signature = await sendTransaction(transaction, connection, {
signers: [stake],
});
...
```
Note: solana-testing crate does not contain a cdylib target 
anybody knows this error?
using solana/web3.js
how to get the actual image from the mint transaction?
With `solana transfer` how do you send a token other than SOL also how to transfer NFTs?
how do I deploy my smart contract
I think you need to add `transaction.sign(stake)`
Hello there! I'm trying to sign a transaction from the server side, but there's an issue with encoding the transaction, when I decode the encoded transaction I get the wrong blockhash, has anyone experienced this issue?
thank you and `WalletSendTransactionError: Signature verification failed`
I got the  error, is there a problem with my code that I can't see, sir?
worked thanks
Trying to run solana-tokens distribute-spl-tokens --from <ADDRESS> --owner <KEYPAIR> --input-csv <RECIPIENTS_CSV> --fee-payer <KEYPAIR>
`Error: PickleDbError(Error { msg: EOF while parsing a value })`
Ah sorry the command is create-token

Can you send a screenshot of the command and the error?
I was replying to someone else.
Sollet is a website not cli
Sollet is cli?
Try using Sollet, it will show you more details on the error.
Can you send a screenshot?
Am getting error  creat-mint not found
Hi guys,
I want to stake the SPL-Tokens (NFT) in the collection, but I haven't been able to. (I'm trying with web3/phantom)

The error I got:
```
{code: -32003, message: 'Transaction creation failed.'}
```

Error piece of code:
```typescript
...
 if (!publicKey) throw new WalletNotConnectedError();

    const stake = Keypair.generate(); // test stake account

    const transaction = new Transaction().add(
      StakeProgram.createAccount({
        authorized: new Authorized(publicKey, publicKey), // Here we set two authorities: Stake Authority and Withdrawal Authority. Both are set to our wallet.
        fromPubkey: publicKey,
        lamports: 2,
        lockup: new Lockup(0, 0, publicKey), // Optional. We'll set this to 0 for demonstration purposes.
        stakePubkey: stake.publicKey,
      })
    );

    const signature = await sendTransaction(transaction, connection);

    await connection.confirmTransaction(signature, "processed");
...
```
Where exactly am I making a mistake?
It doesn't require me to create a token account too?
Ok thanks
No.
No need to set the keypair under config set?
And it will create the mint with the correct address.
Then use `spl-token create-mint keypair.json`
Next?
Done that
First, grind a keypair with the address you want.
Yes
Am trying to use it to mint a token
You can use that keypair for any purpose.
Grind gives you a keypair.
That is not true.
grind only works with personal address
ai my bad
maybe you read the whole tread first?
<@!766563498431610890> just run the cli command, you'll see what's possible
nope
like 
orcaTHE_MAIN-ADDRESS
no
`solana-keygen grind --help`
yes
nope
like `orcaOTHERLETTERSCAPS`?
you mean any other letters?
ok nice
example
orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE
can i capitalize the address except the grind name
it'll show u a seed phrase as well
yup
mnemonic with the grind command?
ok thanks
also I would recommend to use `--use-mnemonic`
hack chances are not increasing if you add a custom preifx
don't worry
then whats the coda?
ok
e.g.

```‚ñ≤ dev_solchan_token solana-keygen grind --starts-with a:1
Searching with 8 threads for:
    1 pubkey that starts with 'a' and ends with ''
Wrote keypair to aa1yU3AzYJ15XJ6aSZjX9dsDgBYPyCrg8Gv8UYzzawH.json
‚ñ≤ dev_solchan_token solana-keygen grind --starts-with a:2
Searching with 8 threads for:
    2 pubkeys that start with 'a' and end with ''
Wrote keypair to aXuD1KZH8y9UfyeU5cJsSBXxokybdYhyxa2Rc5b8duM.json
Wrote keypair to aM6H8pGJCys1UDtuDiwkeLZKohaobSoW9HJcch1QJaq.json
‚ñ≤ dev_solchan_token solana-keygen grind --starts-with a:5
Searching with 8 threads for:
    5 pubkeys that start with 'a' and end with ''
Wrote keypair to aGPUiVnnDwB1VvSretiL36BVk6p844vZTyvmFo4P95L.json
Wrote keypair to an2JNTKzh4zSL2CseUWV8zJv1Euhskwh9qvawyJuPh9.json
Wrote keypair to ab3SkvetrhqUwaNxC2JE9cWwe6RzbGnGRSrrKeVN7v5.json
Wrote keypair to ac1vpTvyRz9YqFDQgN1m7nuR5b5d4agUeyhjriArR8N.json
Wrote keypair to ae9vK1WeLq8r3kU56p3QmqcVg6qx4twdoyCsFqSLhY8.json```
count is amount of pairs to find
the count
Example: --starts-with sol:4
            PREFIX type is Base58
            COUNT type is u64
        --word-count <NUMBER>
wait
are you asking about your `coda` prefix or any keypair?
sorry i dont get 
i thought the count is just the number of keys to get
like instead of `coda` - any 4 chars
what's the difference with a different random key?
??
same as usual
what are the odds of someone actually getting your private keys through them seems its brute forces with keypairs in search of the match
Damn... looks like use phantom to develop is a really bad idea
solflare told me that I use incorrect amount of decimals
ok thanks
`solana-keygen grind --help`
hello please how can i generate a unique Token address example

**soda**NXUbtjMvHe9c5Uw7o7VAcVpXPHAvtaRaiPVJQuE
Got it thanks. just installed the dependencies
are you talking to me? üôÇ
how do you read Buffer data with JS from getAccountInfoAndContext() call ?
I double checked - both token's associated account exist
can I get more detailed message?
Object { code: -32003, message: "Transaction creation failed." }
why this instruction fails?
```typescript
      Token.createTransferCheckedInstruction(
        TOKEN_PROGRAM_ID, // always TOKEN_PROGRAM_ID
        new PublicKey('B3VydziHzxD6P4fxcpAMrVPhDyGMwxTXKbiKXP4WD6hc'), // from (should be a token account)
        new PublicKey('7E9Le97DKkxY6TqZkgnH6Xoyxr5HyVGgQZEj1QGpUY3J'), // mint
        new PublicKey('9BSJb23hYgVrxzXgVg1LV1dePHnWW7JJMTqjxBorbVcU'), // to (should be a token account)
        wallet.publicKey, // owner of from
        [], // for multisig account, leave empty.
        1e8, // amount, if your deciamls is 8, send 10^8 for 1 token
        8, // decimals
      ),
```
Hi! Iwant to know if it is possible to give royalties from secondary market to holders of nfts automatically?
I saw some project did it but it seems difficult to me
there are 2 tasks here which should be done automatically:
1. collecting wallets of minters in some frequence
2. sending them sol from the creators account after collecting
the amount is just all royalties for the term / supply of collection
still do not have enough knowledge how to do it
1. I could theoretically collect wallets with this h ttps://www.sol-nft.tools/get-holders
2. I could find some script for airdropping sol to my wallets list with some tool but I could not find one. The only thing I found is airdrop tool for spl tokens, but probably it can somehow be adjusted to airdrop sol h ttps://github.com/praskoson/distribution-tools
any ideas?

some projects did it, so someone could definitely give advice on this topic
am i right to think that i can't create a SPL token on localnet because the Token Program doesn't exist? If so, do i have to `solana program dump` the Token Program from devnet/mainnet-beta? and what would the Token Program Id be?
How do I get that ?
looks like you're missing a dependency
> LLD is a linker from the LLVM project that is a drop-in replacement for system linkers and runs much faster than them
I'm facing this issue, what might be the problem?
`spl-token create-token --decimals 0
error: The system cannot find the file specified. (os error 2)`
Hello.
Wow
Thank you
For the quick fix, which i'm sure your probably doing, chunk up the if's into functions
It may be that the eBPF bytecode does take up space on the stack (not just vars):
Ah
That‚Äôs interesting ü§î
Hmmm... it is possible that the eBPF executable ***is on*** the stack.... seeing if I can figure that out
Totally understand you 
Thanks anyway 
I just thought maybe there is some ‚Äúif‚Äù operations counter or something
Without seeing code it's hard to tell, perhaps you can post to github or gist
Thanks
I will check this moment again but I don‚Äôt allocate any large data in stack
It's not the 'if'.... you ran out of 4k stack frame
Hello
Does anybody know if there is any limitation on Solana programs on count of ‚Äúif‚Äù operations ?
I have a program with 121 ‚Äúif‚Äù operations and I receive stack overflow error
Can someone explain me what there can happen ?
Thanks in advance
??
https://solana-labs.github.io/solana-web3.js/
spl-token library doesn't implement all of them, also why do we need the payer in order to create Token class instance ?
is there a library that implements all the rpc calls in typesript/javascript
anyone had issues before with `getAccountInfo` returning a default `AccountInfo` rather than `null`? Completely different on devnet vs mainnet
sorry for pinging everyone
@here
im on Linux btw
anyone facing similar issue ?
```.local/share/solana/install/active_release/bin/sdk/bpf/c/../dependencies/bpf-tools/llvm/bin/ld.lld: not found```
im trying to compile a program in C
It will most likely be 375000000000 lamports, encode that as u64 or u128 le and you should see it in the data.
This struct will serialize to the same size as doing it ‚Äúmanually‚Äù
they are there. just look at the list and read the descriptions. 
here is one focused more on tokens:
https://github.com/praskoson/distribution-tools
++ whatever you do test first.
turns out you can't use https://api.mainnet-beta.solana.com anymore for websites, they've deprecated it
this will create an associated token account for the user.  
https://solanacookbook.com/references/token.html#associated-token-account-ata
the get account will check if the account exists with the address you pass it.
after that you can transfer tokens.
just change Alice info to the person your transfering to
instead of secret key use the wallet example from solana wallet-adapter
you know that sol airdrop can't be messed, it would be too expensive, so want to be 100% sure all works well
can you specify, I didn't find any relevant tool
ask magic eden
what methods are you trying to run?
you can try to reference some airdrop programs to implement this or use available community tools listed as well. look for air or air support.
https://soldev.app/library/tools
getting CORS errors when trying to access https://api.mainnet-beta.solana.com/ from our website
is the only way to use the mainnet-beta api from a random website (domain) to purchase your own custom JSON rpc endpoint?
Guys, could anyone say please how to airdrop Solana to particular mainnet wallets list?
Will transfer someone 3 SOL if they send me a completed function that sends an SPL Token to an address and creates a token account for them if they don't have one. Basically a plug and play function for sending SPL tokens. I just want to copy and paste and be able to use it. Using solana wallet adapter
hi! can anyone tell me how to prepare the signed transaction to purchase an NFT listed on magiceden?
i have the metadata for the NFT (token id, escrow pubkey, owner pubkey, creators, etc.), i just need a little help to prepare the fully signed transaction to make the actual purchase.. is there any way in solana-py to do the same?
https://spl.solana.com/stake-pool
try the saber discord:
https://discord.gg/Cc3d5TWp
Hi,
I'm trying to figure out how to get Saber positions. I think I'm missing some key concept here.
Following tx is the one that stakes LP tokens https://solscan.io/tx/43JqEKb5aRg2aNffsRo854df9PeGSznP4F1y6L3cXYzgDHSn4PBn8hsLGoXuSuzZYwyDnyxtTvCq71UXTtwHR3ee
How the addresses `8VheEhnZ5pxKCi7K2DF7vqGmdWkmMAac6bdHXX4sGYTr` and `5RBnsyi8LHTVLi8Da1uSefnYtizPSE9znNnLyFYvFqLn` are derived.
Wallet doing staking is `5Ye7ZJE1FHN9ocVXigDTDL6GzPiY2VQDKmLwCFCxz8ug`
is it possible to great a staking pool for my own spl token
It hits these ports: Default port: 8899 eg. http://localhost:8899, http://192.168.1.88:8899
a node is a computer on a cluster
on the docs: Solana nodes accept HTTP requests using the JSON-RPC 2.0 specification.

To interact with a Solana node inside a JavaScript application, use the solana-web3.js library, which gives a convenient interface for the RPC methods.
hmm what's behind json rpc server? validator?
https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki
why is sollet/phantom not looking like compliant with bip44.
I am seeing something like m/44'/501'/0'/0' while change shouldn't be hardened
I wanna say yes
Hi - Random question on setting up a CandyMachine ..  can the "begin" date be changed for a candymachine ... if original date has passed but minting hasn't taken place ?
I've tried checking out the token program on docs and the cargo library but none of it is intuitive
thoughts?
hey guys, I'm curious how I can go about making a token on solana with rust
That's more than enough thanks (not that I'm planning to reuse keys, was just curious)
Only via it being infeasible to grind the same recent blockhash on both clusters
So people can't commit devnet tx from the same pubkey to mainnet?
Do Solana txs have cross-network replay protection?
Hi folks is json rpc the only way to submit transaction?
So somewhere in there is 375 lol
https://market.solanamonkey.business/item/CRAnkHAEFffiAkpWJgvdkDrKQkym1n3pvJdstTtF35aX
You can see for example that the SMB is listed for 375 sol
856e4aaf709ff59f010000000000000000e6bd4f5700000001
Unaltered it looks like this
After clicking "view hex data"
It's instruction #6
Where is that `vh1Pkmf6Ee769NsuiaaRncbjfCKnTMyBYL` coming from? I don't see it on that link
And apparently this information is contained in that hex
This is a listing transaction and I'd like to see what price it was listed for
I'm trying to decode: vh1Pkmf6Ee769NsuiaaRncbjfCKnTMyBYL
https://solscan.io/tx/4Upqdqswho7B7oudjXMeyJjPs5yUor7gESRfJz5hmZTDyjM8FQaQjQ8t2Ddw7bCayWD2hBDKgNsqzvmH5WT39XXa
For example....
Into the actual data?
Hey, does anyone know how to convert an instruction data hex
And it's not that bad
Because it's so easy üôÇ
so why even bother with borsh for instruction data serialization (solana cookbook) if it's so bad?
it is actually set by the runtime, after getting checked... that field is not set by the client.
I haven't actually checked this but I would expect borsh to in general be worse (it's very simple)
Yep
Is serialization via Borsh crate better/worse compared to what Paul does in Solana bible (state.rs section for example, using array refs)? https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/#state-rs).

I have a struct like this (105 bytes if serialized right after each other; like paul did using `array_ref!` and `array_refs!`):

```
pub struct Escrow {
    pub is_initialized: bool,
    pub initializer_pubkey: Pubkey,
    pub temp_token_account_pubkey: Pubkey,
    pub initializer_token_to_receive_account_pubkey: Pubkey,
    pub expected_amount: u64,
}
```

If I serialize it using Borsh, will it improve? => can the size be theoretically lower or could it take less bpf instructions?

Also solana cookbook does this same thing, it only uses borsh for instruction input, not the `data` in accounts.
ok, Thanks

so does the runtime check to ensure that every account_info passed from client with `signer: True` actually signed?
Yeah, you would just need to assert that some account did in fact sign (with .is_signer) and then you can check their address with `account_info.key`
Hey all, How do I collect the address of the signer of a transaction  received by the solana program during runtime in a solana program please?

for example, in `ethereum`, I can do `msg.signer`, what is the equivalent for solana program

or is the only way to do `account_info.is_signer`?
oh cool, ty!
use metaboss, they have a v2 option
if you dont wanna use it, you can at least see what they're doing and learn from that üôÇ
Is anyone able to use the script to find all accounts that own a candy machine v2 NFT?
https://solanacookbook.com/references/nfts.html#candy-machine-v2
I am getting this error ```
node_modules/jayson/lib/client/browser/index.js:131
    response = JSON.parse(responseText, this.options.reviver);
                    ^
SyntaxError: Unexpected token < in JSON at position 0
```
Hey all üëã

I am trying to run this https://github.com/solana-labs/example-helloworld   on WSL 2 (have run it successfully on Linux before) and I am getting the following error

```
> $ npm run build:program-rust

...

Finished release [optimized] target(s) in 19.64s
cargo-build-bpf child: /home/oman/.local/share/solana/install/releases/1.9.5/solana-release/bin/sdk/bpf/scripts/strip.sh /home/oman/dev/example-helloworld/src/program-rust/target/bpfel-unknown-unknown/release/helloworld.so /home/oman/dev/example-helloworld/dist/program/helloworld.so
/home/oman/.local/share/solana/install/releases/1.9.5/solana-release/bin/sdk/bpf/scripts/strip.sh: line 23: /home/oman/.local/share/solana/install/releases/1.9.5/solana-release/bin/sdk/bpf/dependencies/bpf-tools/llvm/bin/llvm-objcopy: cannot execute binary file: Exec format error
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! helloworld@0.0.1 build:program-rust: `cargo build-bpf --manifest-path=./src/program-rust/Cargo.toml --bpf-out-dir=dist/program`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the helloworld@0.0.1 build:program-rust script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/oman/.npm/_logs/2022-01-28T23_09_42_132Z-debug.log
```

Anything I am doing wrong?
Hi I have code for fetching and collecting the PDA metrics using the solana client and solscan api. I have been working on just getting the logic hosted to a server and running locally. Surprisingly the rust server frameworks are really hairy when dealing with async/await.

So I am trying to execute async logic and have my server await the result here is the code:

```
mod fetch_logic;
use actix_web::{get, web, App, HttpServer, Responder};

#[get("/")]
async fn index() -> impl Responder {
    fetch_logic::fetch().await;
    format!("Hello")
}

#[actix_web::main]
async fn main() -> std::io::Result<()> {
    HttpServer::new(|| App::new().service(index))
        .bind("127.0.0.1:8080")?
        .run()
        .await
}
```

getting this error:

```
'actix-rt|system:0|arbiter:0' panicked at 'can call blocking only when running on the multi-threaded runtime'
```

the solana-client is spinning up another thread causing the panic, any ideas on how to handle this?

full code here:

https://github.com/AngelDao/streamflow-analytics/tree/master/src

`fetch_logic.rs` has all the client logic and `main.rs` has the simple server config
thx in advance hackers üëç
again me üòÑ 
some of u know some repo 'template'  for solana game? is to see how in general it works and get a better knowledge on it
yes sir , that's the issue üò¶
And your hitting the 1232 byte max per Tx, yep... many have those arrows in their backs
yes the honestly , i'm using a swap program . 
i'm trying to combine 2 transactions by creating a new transaction and adding all the instructions into one
I presume your using other programs
You could if the deployed programs that are not yours don't support it
so i need to build a third party system program that will save it for me ?
That is what the BPF loader does
Therein lies the rub. You could put in, effectively, a mini workflow of instructions and chunk things up over a series of transactions into a buffer account and then join them for the business transaction
that's what i'm trying to do , but i can't just get rid of random instructions right  ? 
how can i know which instruction i can rid of ?
Other than reducing # of instructions or instruction data... no
anyway to compress transactions size before sending it ??
lol
I just learned you can expand the solanacookbook code snippets to show the full code... after like 10hrs of using it
--bpf-program .... ....
has any of you deployed Metaplex Metadata program to the solana test validator ?
Can you point me out to some docs on how to query BigTable?
Here's the build script for coverage over the program library https://github.com/solana-labs/solana-program-library/blob/05e3ff3d7daf0fb196aa2231bf7c7826ce042449/coverage.sh
ah saucy
https://solanacookbook.com/references/token.html#get-token-account-by-owner
is there any easy way to get all tokens owned by a wallet?
is there a canonical way to get accurate code coverage stats from a Solana program codebase?
hello, this PR should allow the explorer to display the new token metadata https://github.com/solana-labs/solana/pull/22798
this is basic validator docs:  the ebst most relevant is in the validator related code itself, and shows which programs are included by default. many in the SPL, and the native ones, for example. are the main things to know up front. https://docs.solana.com/developing/test-validator#running
there's a new concept of collection on metaplex, otherwise you need to come up with a heuristic using metadata.
Is there a list or docs about it?
off hand I am not sure, depends on the information you want. but these resources should lead you there.
NFTs:    
https://soldev.app/
https://solanacookbook.com/#contributing
https://docs.metaplex.com/
https://discord.gg/snEa6hSU
no it should already be there, along with several other programs.
Does the associated token account program needs to be added to the solana test validator?
Guys, what's the best way to identify a NFT collection on solana?
<@!489206164270350337> can you check a msg I sent you?
in general:
https://soldev.app/
https://solanacookbook.com/#contributing
Bootcamp Series from Jarry
https://www.youtube.com/watch?v=O0uhZEfVPt8&list=PLilwLeBwGuK7Z2dXft_pmLZ675fuPgkA0&index=1


///////////////////////////////////////////////////////////////////////////////////////////////

I understood that Account is used for key-value storage, Account PubKey -> data inside account. I saw that I could create an account inside of program, but how I could access a data inside an account? (Hope this is place for a dumb questions)
can i have multiple nfts on that token account? I can have only one right? what's the point of that then
what is that, they call it a token account
now i have to make another account id to manage my nft
if i search that on the explorer it shows all my tokens so it feels like my account id
i have to make a wallet which gives me a public key
what's the difference between an account and token account
Yep, it's just not possible to create an account at those addresses without asking the associated token program to do it for you
so you wouldn't be able to create those accounts outside the associated token program cause you'll need it to sign? is that what you mean?
(You can't sign for that address because it's program-derived from the associated token program)
No, because in order to create those accounts, you need to sign with that address‚Äîand the only way to do that is by asking the associated token program to please create a token account there. The associated token program is written in such a way that it will only make a sensible account at that address (owned by the owner, with the right mint, etc.)
gm to all,

I have a question on how the findProgramAddress wrt the associated token address program works. In digging in the source, I found that it generates associated token addresses for mints this way:

`PublicKey.findProgramAddress( [ owner.publicKey.toBytes(),ASSOCIATED_TOKEN_PROGRAM_ID.toBuffer(), TOKEN_PROGRAM_ID.toBytes(), mint.publicKey.toBytes() ], ASSOCIATED_TOKEN_PROGRAM_ID);`

source: https://github.com/solana-labs/solana-program-library/blob/dec9074bb4e05b510c7fcc16db5688db92245ab2/associated-token-account/program/src/lib.rs#L42-L56 translated to JS above

Given that the findProgramAddress function is deterministic, couldn't an attacker front-run the function and take ownership of accounts in advance to block a target from taking ownership of the associated token addresses? Of course, one way around this is to use accounts other than the associated addresses but this would break many programs (like ours), dApps, and Wallets that depend on the associated addresses for sending/receiving tokens.

Outline of Attack:

1. Attacker gets target wallet's pubkey and mint pubkey he wants to block a target from sending/receiving. (easy to do as they are public)

2. Attacker runs findProgramAddress() to generate the associated token addresses

3. Attacker creates those accounts and takes ownership thus blocking the target wallet from being able to use those addresses.
Yes, you can provide a keypair
Can we set a mint address for a SPL token if it's available?
Thanks Jacob!
You can follow things like this https://solanacookbook.com/recipes/nfts.html#mint-an-nft and just upload the json to some http place instead of arweave
Nice! Thanks for the info man!
the benefit of arweave is that no one else can change the image afterward
i've done test nfts where the json was hosted in a github gist and the image on imgur, though i would recommend a much more reliable host for production
yes, you can use any web host for the json and the image data. arweave is frequently used because it's blockchain
Hello! I'm working on the minting of Nfts using the spl library and was wondering if it was necessary to use an IPFS like Arweave? Could I not use something on HTTP? 

Also curious if you could point to a JSON file outside Arweave in the same way
alr thanks
All good in support
lol
https://discord.gg/metaplex
https://discord.gg/7EWdUHYZ
you can
can i mint an nft directly from cli using metaplex?
NFTs are generally using metaplex
use metaplex, it's much easier
hey any documentation of minting an nft from cli?
It looks like I may not be completely right. There is some float support, but it is expensive.
Hello everyone i am working on making a customizable token contract like i want to add this logic in the contract to cut the certain amount on the every transaction and send that certain equal percentage of amount to an array of different accounts can you help me out in this task as do i  have to add this logic in this proxy transfer function or should i have to make another function if another function how should it will be interacted and triggered when the transfer function is called can you help me in rust for this problem.
Hello! üëã 
-
We are looking for someone to help us build a smart contract on #Terra üåñand #Solana¬† 
-
This can be a Bounty project or a pt/ft position üëåüèΩ
-
Please send DM üì® ( must have xp) üòéüî•üöÄ
-

https://twitter.com/hero_nft_/status/1478026103109259266?s=21
https://docs.solana.com/developing/on-chain-programs/overview#float-support
omg not supporting floats?
If you want something like it, recommendation is to use precise_number https://github.com/solana-labs/solana-program-library/blob/master/libraries/math/src/precise_number.rs
Solana doesn't support floats to my knowledge
I think it is anchor issue
Oh, is this an anchor issue? Because borsh supports 'f32' and 'f64'
But in target/Idl, it exists
IdlError: Type not found: {"name":"expPerMinute","type":{"defined":"f64"}}
what error?
Hello, I have a question about program struct.
Is it impossible to use float (f32 or f64) for data account struct? When I try it, it emits error.
Looks like you're right. So if you wanted it to be fully valid, you'd have to do both like Keypair generation does. The publickey otherwise could link to something like a pda
I think `new PublicKey("asdasdf")` doesn't run any curve check (it's the js analogue of the Pubkey rust type, which is just 32 arbitrary bytes)
Well I guess u just answered me about that . Thank you
Oh sure thanks heaps. Are there any stable coin in solana ?? Like from spl token?
alright, thank you!
Not able to give advice on linking to stablecoins, but check out how things like DAI work
Would that work?
The recommended method runs the curve check under the hood, plus some other checks. Recommended to use the constructor
üßê
Hmm so I just peg it with the another stable coin?
We don't support token-list here
so either method is fine?
No algorithmic stablecoin to my knowledge today
But yes
You could just call `new PublicKey("<KEY>")` to validate
or would this a better method to validate?
are all public keys on the ed25519 curve? i am asking because i want to validate whether a sol key is valid or not and am thinking of using https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#isOnCurve this method
üßê
Hi, how can I make stable coin in solana?
https://github.com/solana-labs/token-list/issues/12096
Hi there i hope you' re doing well .when i tryed to change an address line of my token it shows an new Automerge error like removed line or address, but in my first pr was succeed.
it's 1232 bytes including the serialization overhead, so a little bit less than that. the number of instructions depends on how many accounts the instructions have
For the whole transaction It's 1232 bytes if I remember well
I think You will run out of transaction size limit before worrying about that
What is the limit to the number of instructions I can include in a transaction?
thank you!
<https://docs.phantom.app/integrating/signing-a-message>
<@!195044797134798848> hi again! how would you recommend implementing a login with phantom feature?
Anybody from Solana Labs here that knows who is responsible for the security@solana.com email?

Sent an email on December 15th but never got an answer
Wheres the best place to learn about nft timelocking on solana?
that's a really broad question. try starting at <https://solanacookbook.com/> and also <https://docs.metaplex.com>
Hello ,
Im dev from subway skaters 

we are making a solana skate park and subway city on unity ! 
So we want a feature like when they access our game so they have to connect their sol wallet like phantom and other wallets , so those people who have our 3D nfts in their wallet only they can access and rome in our subway city ! 
So through which coding and sources do we need !
Hi, I am having the following error while trying to deploy a solana program on testnet:  Error: Pubsub error: ConnectionError(Io(Custom { kind: InvalidData, error: InvalidCertificateData("invalid peer certificate: UnknownIssuer") }))

I suspect this is due to the fact that I am behind a company transparent proxy and a self-signed certificate should be added. I am just not show how to do it on Solana. Haven't found any documentation on this on Google.
Hey guys please help me with this
https://github.com/solana-labs/token-list/issues/12096
Hi there i hope you' re doing well .when i tryed to change an address line of my token it shows an new Automerge error like removed line or address, but in my first pr was succeed.
So theoretically i could create my own fungible token that mints 10,000 new tokens per day and deposits 10 into each of the 1,000 wallets holding the NFT?
Hi @everyone , my team launched a dual mint smart contract for NFT‚Äôs between Terra & Solana to mint simultaneously. 

We are looking for someone who has experience on Solana to build a new contract.

The bounty is 5k - NFT Smart contract Dev (rust & cosmwasm)

Here is our project:‚Ä®‚Ä®https://twitter.com/Hero_NFT_
Will rent decrease at some point? What happens when sol does a 10x?
thank you! you've been helpful. I'm still a bit confused on the implementation, but i'll take a proper look again
If the verification succeeds then it's equivalent to the traditional login.
When the user returns, you have them sign another message to prove it's them.
Yes, you can either store the data on your database, or store it on the blockchain itself.
<@!590982495923732511> thank you! could explain the workflow after a user signs? when they come back and connect their wallet again to the dapp. how does it recognise them? is there a db call?

I guess, it's the workflow that confuses me
https://github.com/solana-labs/wallet-adapter/blob/master/FAQ.md#how-can-i-sign-and-verify-messages
is there an example you could point me towards? it'll help in understanding how it really works under the hood. thanks
You might even be able to use their ssc-dao endpoint for free.
Look at genesysgo.
It proves that the holder of public key x is making the transaction.
After minting, you can update the metadata of the nft to include the holder.
hi guys, i'm curious to a pattern i've seen in popular dapps.

When a user wants to pick a username for the dapp, they dapps typically have the user sign a message with a nonce or sometimes the contents of the username.

I'm curious, why is it done like this?
Does anyone have any documentation for anchor from which I can study? I'm having trouble in CPI.
ü§î I don't actually have a good current list of all the providers.  Rather than call out a couple and miss the rest, I'll stfu and hope that somebody else has a comprehensive list to share
Also if you have any opinions on them, I would love to hear them! A short cut to my cost benefit analysis I'm doing now... üòÖ
Thanks! I see runnode and syndica. Let me know if there is a super cool third/fourth option I should consider as well.
There's a number of RPC node providers that can set you up with a dedicated RPC node/cluster
RIP 100 reqs/10 seconds is rough for me. Is there a solution where I can have a higher limit? I am open to paying per request, SaaS or whatever if the price is right.
Now if I call `system_instruction::transfer first`, then it works.
yes, when you get a 429 response, respect it.  otherwise you'll likely get banned
https://docs.solana.com/cluster/rpc-endpoints#mainnet-beta
Hey all, I'm building an NFT game that requires me to read data from the blockchain. I'll be querying https://api.mainnet-beta.solana.com a lot. Is there an API limit I should be aware of?
I have some trouble doing 2 lamport transfers at the same time: A -> B and C -> A. One is doing lamports modification directly, and the other uses `system_instruction::transfer` .. due to A being owned by my program, but B and C are owned by the system program.

When I do both transfers, I'll get the error `UnbalancedInstruction`. But any one transfer works perfectly fine on its own.

How can I resolve this problem?

Full context here: https://forums.solana.com/t/how-do-i-transfer-lamports-between-3-accounts-owned-by-my-program-and-system-program/4294/3
works, thanks!
Try this env var hack until solana v1.9.3 ships: https://discord.com/channels/428295358100013066/476811830145318912/925065750287380520
Hi guys, my program logs are not visible during cargo test-bpf, any ideas?
Hi guys. I am having issue deploying my program on devnet. 
Getting Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
good question
i needed a specific hash, not the most recent one. if you only need the most recent one you can just hardcode the index and get it easily
what is the max compute budget in the virtual machine?
Might be able to memcmp to just get the token accounts with balance of 1
<@!898043240991838229> Not that simple, but to get the current NFT holders, you could use something like:
https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint
btw, I only subscribed once and I'm listening for logs for only one mentioned pubkey.
Why does `logsSubscribe` notify me of a tx with the same sig twice?
```
2022/01/03 05:47:11 [dbg] {{{map[err:<nil> logs:[Program 11111111111111111111111111111111 invoke [1] Program 11111111111111111111111111111111 success] signature:5j6PUZqH1RRYkWgkaExs5wXnPEQLgRkoYSi5uF5VoP7uXeFx7RMJKU3KGQMaTS8pPpwFkgJA1qS8bJcV6kUN9V2k]}} 2.0 logsNotification}
2022/01/03 05:47:11 [dbg] {{{map[err:<nil> logs:[Program 11111111111111111111111111111111 invoke [1] Program 11111111111111111111111111111111 success] signature:5j6PUZqH1RRYkWgkaExs5wXnPEQLgRkoYSi5uF5VoP7uXeFx7RMJKU3KGQMaTS8pPpwFkgJA1qS8bJcV6kUN9V2k]}} 2.0 logsNotification}
```
It would be really nice if if I'm overlooking somewhere that state changes are actually recorded (not just sol balances).  Otherwise analysis of the blockchain seems to be quite challenging..
Except for some trivial cases where an account and all accounts involved in its transactions could be isolated from the rest of the network, wouldn't I need to replay the entire blockchain?
Noob question.. is it essentially impossible to reconstruct the state history of a single account for a given time interval?
We have a collection of 1,000 NFTs dropping February 2, Need to find a way to send a 2.5% royalty on every transaction to all 1,000 wallets holding still. So 2.5% divided by 1,000 NFTs, 1,000 wallets should get a 0.0025% royalty but the wallet addresses will always be changing
Is there a simple way to have a fraction of royalties directed back to the wallets of all those holding NFTs in a collection?
Thanks
That would likely be a regular JS number (so, a double under the hood, strictly speaking)
Is there any way to know if user hasn't created wallet yet? and force phantom chrome extension to popup forcefully?
Quick question: when the docs say `<number>`, for example that the response contains `programIdIndex: <number>`. Is this an int32?
thank you
hi, i was wondering how can you create stable coin in solana ?
I have a question. Why do you need to calculate index when the latest recent_hash is always at the first chunk or did I misunderstand something at this.
Yeah I am using metaplex üôÇ
I'm trying to figure out just how to lock an NFT for a period
I think you should use `https://api.devnet.solana.com` .
FYI some public endpoints https://docs.solana.com/cluster/rpc-endpoints
I think it worked well before, but I'm not sure when it didn't work.
```typescript
import { Connection } from '@solana/web3.js'; // ^1.24.1
const RPC = 'https://api.solana.com'; // 'https://api.devnet.solana.com'
const CONNECTION = new Connection(RPC, 'confirmed');
const RECENTBLOCKHASH = await CONNECTION.getRecentBlockhash(); 
```
ah cool, I feel like I should review mathematics since I never use math much as a web dev. Can you recommend some things to brush up on?
can you share your code ? I guess you don't setup your network correctly.
NFT is a kind of token but supply is 1, decimals is 0.
and it also on https://docs.metaplex.com/ for its metadata
Basic algebra will take you far üôÇ
How can I fix it? ```Uncaught (in promise) Error: failed to get recent blockhash: TypeError: Network request failed
    at Connection.getRecentBlockhash```
I'm wondering if there is something I can brush-up on
I understand that floating point numbers don't (currently) exist, so that takes special consideration, but I'm also wondering if there are other things to be aware of
Are nfts on Solana SPL?
What sort of math should I be aware of for solana/blockchain development?
moved that conversation
Program-derived addresses are sha256 hashes that are deliberately constructed so that they aren't valid ed25519 public keys (like regular keypair addresses). The bump is the used to "bump" the hash off the curve. You just do sha256(seeds + bump + program_id + "ProgramDerivedAddress") starting with bump = 255, see if it's off-curve... if not, uh, try 254, etc.
Is it possible to stake on the devnet? I'm building some automated tools for staking and need to obviously test them. 

Of course just using the mainnet is an option but devnet would be the ideal option.
Nope. The bump is just part of the way program-derived addresses work, nothing to do with obfuscation.
so, would it be fair to say that the bump is just a little bit of uniqueness to obfuscate the location of the mint?
hey <@!528068680337326081>  , i'm looking to get some help on dynamically changing NFTs based on user preference and desire for customizability. we have a high level idea of how to get this done but we want to partner with Solana Labs on creating a standard. do you know if you or another person at Solana labs can partner with us on the high level / low level design walkthoughs?
I am reading the example!
Assuming you're reading my example lol, the mint_bump is a bump in the program-drived address sense (the mint lives at a program-derived address, and the bump is necessary to subsequently sign for that address within the program)
also, what is a mint_bump
looking for a simple example on how to use a mint to generate tokens
any idea where to look to start
i am trying to build a game with rust
hello!
<@585868308419444749> alright thanks
Quit cross posting, you've already been answered
Hello support, I sent my solana Usdt to an invalid address ( address doesn't exist) from FTX wallet
 
Please I need your favourable response

My FTX Solana usdt wallet address :
5YisK5wAZLEpBrcXcyvquDXrw7yYzoXpQXbG6GTFKqxz


Transaction i.d 
: R4Hi1V8Jep7vvMMf47BbFqCtohCfELN71QjEcvFbG6xBG29YmRyigesCenQBrBFaydnRqhVZgrnMXDbyC5LDLcc


Invalid address ( address doesn't exist): 
GqULNjPJGqNBKbK41JyRcVsbBYAw8BkLiuyXYnyKamfg
Hello support
I was also asking because I seen the docs about closing acounts have been updated recently so maybe they enabled it
thank you!
is there a way to interact with solana programs without an IDL?
something like interfaces like in solidity?
Yea thanks
That means you're somehow invoking an instruction that you're deployed program doesn't recognize (probably means you messed up deploying it)
Guessing you're using anchor, in which case 0x65 = 101 = this error: https://github.com/project-serum/anchor/blob/v0.18.2/ts/src/error.ts#L56
Can Someone Please help me with this error message
```
Transaction simulation failed: Error processing Instruction 0: custom program error: 0x65 
    Program 5shwoNqQpMYisU5hP8TNxkVJ7Me8rcE9KZiFC6jSEokj invoke [1]
    Program log: Custom program error: 0x65
    Program 5shwoNqQpMYisU5hP8TNxkVJ7Me8rcE9KZiFC6jSEokj consumed 2101 of 200000 compute units
    Program 5shwoNqQpMYisU5hP8TNxkVJ7Me8rcE9KZiFC6jSEokj failed: custom program error: 0x65

```
I am doing this tutorial right now: https://learn.figment.io/tutorials/setup-the-project
what's this? How do I get to this application?
You can close program data accounts (the part that stores your code), but not the program id itself I don't think: https://jstarry.notion.site/Program-deploys-29780c48794c47308d5f138074dd9838
hello, when I deploy programs they get owned by BPFLoader2111111111111111111111111111111111 and then I can't close them, what's the workaround?
The Solana Docker validator test code doesn't have documentation. Where is the mount location for the test ledger?
You're my hero, thanks
Ahh thanks man, I guess I've got what i need to know hahaha
Usually what you'd use for this is an "associated token account", which is a token account that lives at an address derived from the mint (the nft in this case) and the owner of the tokens (your other phantom wallet)
Ok, cool, that account is a token account üëç You can't move it directly to your other phantom wallet though‚Äîyou have to move it to a token account that your other phantom wallet has "authority" over, because your other phantom wallet isn't a token account in and of itself.
I guess I'm a little bit confused hahaha.
Lets say I want to transfer a token which this is the Token Account: https://solscan.io/account/5rJJnwJ2RK1fUAtAGZTvCGZNL9hSp7GzRQaZU25pE5GV
I want to move it from my first phantom wallet to my second phantom wallet, is my code good enough to do the transfer or am i fucking some variables up?
does associated token account program run automatically after getting airdropped a new token? Or do i need to create an associated token account to airdrop tokens
I have issue with program tests, by introducing dependency program to test bench, program logs are not ending up in stdout. I use dependency program blob with no entry point, anyone have any ideas?
That link above is a sol wallet, not a token account
My main, and second wallet are both token accounts and i want to transfer this token
I'm sorry, this is my second wallet https://solscan.io/account/CsgMFjX21W6ooQBDdCHobpAMYhFgRtY9jN5rWM1Gn1XN
You need the source + the receiver to both be token accounts, not tokens themselves etc.
Isn't that a token, not a token account? (Mint vs token account in usual terminology)
The error is telling you that the spl token program is looking at your accounts and going "wtf ü§î"
Thats my second wallet
https://solscan.io/token/5XmaHFg91cg1BF2UnXR36dwUoRYd7Q1u6ovyzm3vq2FK Its this token
Is the receiver also an initialized token account?
It is working when im sending some SOL but not with NFT's
It is an existing token in my wallet
How are you initializing the token account?
It still gave me the same error
Also don't need those `await`s when you call new PublicKey
You're passing the provider publicKey as the source, but the source needs to be an actual token account, not a wallet
I'm making an app with NodeJS and got this as code for making the transaction
The one who is sending the transaction will pay for it
If the fee payer is not specified, then the first signer of the transaction is the fee payer right?
Hey guys, im trying to send a NFT from 1 wallet the another using NodeJS but I'm getting this error. Is anyone familliar with this error?
is there any api i can use to check if a spl token is listed on any marketplace?
From your best judgement, theoretically, would it be possible to add a command line option that disables them?
no, they're unfortunately hardcoded in the web3.js library
I used the external address of a side wallet for the toKeypair and got this error:

`TypeError: Cannot read properties of undefined (reading 'toString')`
What do i put for the toKeypair?
Is there anyway to prevent these "Transaction simulation failed:" messages from showing in the console log?
```Transaction simulation failed: Error processing Instruction 0: custom program error: 0x1771 
    Program GF5FuZPue2duX3xTh34Q8gtjQfiuRKKrSc3PXMqJ9oU9 invoke [1]
    Program log: Instruction: BuyAnnoyedPack
    Program log: InvalidTreasury
    Program log: Custom program error: 0x1771
    Program GF5FuZPue2duX3xTh34Q8gtjQfiuRKKrSc3PXMqJ9oU9 consumed 22199 of 200000 compute units
    Program GF5FuZPue2duX3xTh34Q8gtjQfiuRKKrSc3PXMqJ9oU9 failed: custom program error: 0x1771````
I'm handling the errror's elsewhere and they're making my testing reports hard to read.
alright
Cleared some things up for me
Thanks!
You mean an sdk? You would have to hope they provide some js lib you can install that builds instructions for you.
But if i would to use a custom program of someone else where i dont have access to then i would use the api
-max-len only works for initial deploy, after that the max program size would only be slightly over twice the initial deploy size, to give room for growing program. if you exceed this you need to come up with other options.  for now. before deploying to mainnet its best to try and get a good idea of the max size you see the program code itself growing to and add a buffer, to allow for some flexibility.
gotcha
So either with the idl or with the api
Or hope that the program provides an sdk, etc.
If you don't have the idl then yeah, you can't use that api and you'll have to build all of the instructions manually (painful)
`const program = new Program(idl, programID, provider);`

I did this. But is there a way to call it without the idl
How would I do it if i didn't have the idl
program account: it would work and function more or less like any account address, the difference is that the program account is owned by the loader and marked executable. and you can set its upgrade and related buffer authority, where all methods, where validation performed, enforce authority validation requiring the appropriate key/signer.    -> after the program account is created the keypair/private key would have no additional or separate value aside from that which initially assigned. If using the `solana program deploy` default, it would assign the keypair address to be any designated authority (like upgrade_authority) for a new deploy.
Wait so what is the one i did for?
and program is defined as?
```.js
program.instruction.yourInstructionFunctionName({
    accounts: { ... }
})
```
Everything you mentioned
But is there another way to create an instruction? And then add it to a transaction?
Ok, are you doing that deliberately/for fun/to learn? Definitely easier to just let anchor automate it for you
tried to apply the code from there to my code with my accounts needed etc.
used this
https://docs.solana.com/de/developing/clients/javascript-api
Ok, and then just to double check, why are you building the instruction etc. by hand like this?
the  name alocate is just from the example from the docs
changed it
oh that was an error
In my code i call my program id
I'm having trouble following what you're trying to do ü§î Why are you talking to the system program?
How do would i call this custom program call instruction increment from the counter example from anchor with restrictions that only a specific wallet is able to increment the counter

```#[derive(Accounts)]
pub struct Increment<'info> {
    #[account(mut, has_one = authority)]
    pub counter: Account<'info, Counter>,
    pub authority: Signer<'info>,
}```

I would use this:
```
allocateTransaction.add(new web3.TransactionInstruction({
  keys,
  programId: new PublicKey("4kD7xAD1rX87ScqYYEZLSDVQ5dVpwYSimS6cqMh7jbQ6"),
  data,
}));```

But what are the Keys and the data.
I would say that the keys are:
```
let keys = [
  {pubkey: counter.publicKey, isSigner: false, isWritable:       true},
  {pubkey: authority.publickey, isSigner: true, isWritable:      false}
];
```
Is this correct?

For data i did:
```
let increment = {
  index: 2,
  layout: struct([
    u32('instruction'),
  ])
};

let data = Buffer.alloc(increment.layout.span);
let layoutFields = Object.assign({ 
  instruction: increment.index 
});
increment.layout.encode(layoutFields, data);
```

Did i get this right?
Would you mind if I DMed you a few questions?
Not 100% sure but I think everything is controlled by the upgrade authority ü§î I think the program id's private key is just necessary to create a program account at the program id address (just per the usual rules of needing to sign when you create an account)
Probably something like https://solanacookbook.com/recipes/basic-transactions.html#sending-sol
Hi! What is the simplest code required for a transaction in JavaScript?
Hi. Got a question about the Program IDs... Does the private key behind the program ID (the "address" field in Explorer) have any capabilities? Or is everything controlled by the Upgrade Authority?
I was trying to use --max-len but it didn't work.

Changing the program nameto get a new id works.


///////////////////////////////////////////////////////////////////////////////////////////////

I think it should have an equivalent?
Ah.
i'm using dart library
i tried to understand it...
Token.createAssociatedTokenAccount doesn't work for you?
Did you look at my code?
ok... those are my steps:
1. create main account - cli
2. create spl token - cli
3. computing the ata from the token mint and my publick key - code
4. compute a transaction with a instructions to create the account with the
    a. token mint
    b. computed address (from step 3)
    c. space needed for the account - 165
    d. calculated rent for the space
    e. my address as owner
5. signing the transaction using my key-pair
at this point i'm getting error that i need also the "computed address" signature.
obviously i can't have this signature as i don't have any other key-pair.
what am i doing wrong?
And it gives you a Linux VM.
That is VSCode in the browser.
I prefer to use visual code
Try using https://gitpod.io
got dammit why is it so hard to just deploy a fucking program
had many issues but didn‚Äôt encounter that one
now I cant enter anything
when trying to install rust
know it?
<@!410651317229322240> 
got premissions error
```
Caused by:
    Read-only file system (os error 30)', download/src/lib.rs:130:14
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
rm: cannot remove '/tmp/tmp.JWErjei9AP/rustup-init': Read-only file system
sh: 449: rmdir: Permission denied
```
I'm checking it
Then you haven't provided enough information to proceed
I had v1 and that was the biggest issue for me (check with `wsl -l -v` on your windows terminal)
make sure you use Ubuntu 20.04 v2
not going well
im trying to use to
Yea. Just decided to take WSL route
<@!410651317229322240> hey how did you solved the missing assets problem?
just for the sanity check, i re-retrieved with git clone on separate directory and restarted the whole process and same issue
yea i have been doing that hence the line > Everytime I call npm install, (and to clear I run rm -rf node_modules/)
Can you try deleting node_modules and running npm i again?
ubuntu 20.04 v2
yup
Are you in wsl?
Hmm.
```
x:/mnt/d/SourceTree/00_Crypto_Study/0SolanaSandBox/01_Hello_World/example-helloworld$ ls
LICENSE                       README.md        cluster-devnet.env        node_modules       src
README-gitpod.md              README_ZH_CN.md  cluster-mainnet-beta.env  package-lock.json  tsconfig.json
README-installation-notes.md  README_ZH_TW.md  cluster-testnet.env       package.json
```
See: https://discord.com/channels/428295358100013066/517163444747894795/937223129380565032
nop. i'm the fee-payer and i'm the one that should be the ata owner
Sounds like your fee-payer is not the ATA owner?
but i want to create the accounts using code and not the cli
"spl-token create-token"
using the spl-token cli
How are you creating the token account?
What is the output of `ls`
only me? cause it says i need 2 signatures
You.
hi guys, when i'm creating a new Associated Token Account, who need to sign the transaction?
Full error is following :
```
x:/mnt/d/SourceTree/00_Crypto_Study/0SolanaSandBox/00_Hello_World/example-helloworld$ npm install
npm ERR! code ENOENT
npm ERR! syscall rename
npm ERR! path /mnt/d/SourceTree/00_Crypto_Study/0SolanaSandBox/00_Hello_World/example-helloworld/node_modules/prettier
npm ERR! dest /mnt/d/SourceTree/00_Crypto_Study/0SolanaSandBox/00_Hello_World/example-helloworld/node_modules/.prettier.DELETE 
npm ERR! errno -2
npm ERR! enoent ENOENT: no such file or directory, rename '/mnt/d/SourceTree/00_Crypto_Study/0SolanaSandBox/00_Hello_World/example-helloworld/node_modules/prettier' -> '/mnt/d/SourceTree/00_Crypto_Study/0SolanaSandBox/00_Hello_World/example-helloworld/node_modules/.prettier.DELETE'
npm ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/x/.npm/_logs/2022-01-30T17_53_19_109Z-debug.log
```
I am having issue with simple `npm install` for example-helloworld project.
Yes I am in the right directory where the `package.json` is.

Everytime I call npm install, (and to clear I run `rm -rf node_modules/`)
I get, different but always, `ENOENT : no such file or directory`.
The npm package missings are sometimes `prettier`, `typescript-eslint/scope-manager`, `lodash.truncate`, `es6-promise`, `ajv` etc.
Everytime, the missing packages are different. (if I do not `rm -rf node_modules/` the missing packages are same)

Does anybody have any clue why this may be? Never encountered such error with simple `npm install`
Especially since solana is proof of stake so you need a good amount of liquidity to break even.
You can do that but it gets very expensive very quickly.
What you are referring to is running your own validators.
Like using solana with your own private network.
Hello everyone, I am relatively new to the blockchain world, but I am researching about using solana to build a transactions app, probably it is dumb, and I apologize for that, but, when you use solana's open source structure: blockchain, you use solana's servers or is it possible you can use your own server to host/store the blockchain, and if it is not possible, then; what's the limit in the blockchain storage/capacity using solana's servers (could it be upgraded if there is a limit? I thank you all in advance!
hi, is there a tutorial on how to create a web app to stake spl tokens?
No one is interested in anyone who uses `@everyone`
A pda cannot sign.
where you send tx
i got this error recently, can you share your code?
thanks!
https://www.youtube.com/watch?v=mKJKIgTJ6LY&t=462s
Hello guys!

I am trying to get PDA using solana-py but I'm getting follow error:

`...site-packages\solana\publickey.py", line 87, in find_program_address
    raise NotImplementedError("find_program_address not implemented")
NotImplementedError: find_program_address not implemented`

Snipped code:

`from solana.publickey import PublicKey

METADATA_PROGRAM_ID = PublicKey('metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s')
mint_key = "8Rjxaxy8ZNAGTojzQSAMSPatNiop9C9PRPY5A29qhrCT"

PDA = PublicKey.find_program_address(
        [b'metadata', bytes(METADATA_PROGRAM_ID), bytes(PublicKey(mint_key))],
        METADATA_PROGRAM_ID
    )[0]
print(PDA)`
ty
Try the solana cookbook.
do you know any websites where i can read about that?
You have to write your own server side code to handle the private key.
You have to use Linux or Mac.
The later versions of the bpf build tools are not maintained for windows at the moment.
well thats the same error as this:
https://github.com/solana-labs/bpf-tools/issues/35
how do i use the server?

https://stackoverflow.com/q/70809918/7370354
and I get the following error
And?
I'm trying to use cargo build-bpf
https://github.com/samuelvanderwaal/wtf-is/tree/main/src
a
You are checking the right key was passed into the account.
Send a screenshot.
No way to do it on a frontend
You have to use a server.
i think there is no %100 way to hide because when you encrypt that data, people will try to find encrypt password
does anyone know how to hide my private wallet key file from users?
anyone can help me with bpf-tools error?
tried to ask that yesterday but no one helped
Please do not `@` people, just ask your question here, and people will respond if they can help with your question
<@!746013355730272328> hey bro
are you available? need some help
What that mean ".mint == .mint" ? This from Jarry Xiao lesson: https://github.com/jarry-xiao/solana-bootcamp-lectures/blob/master/lecture_4/token/src/processor.rs
typescript file
from my dapp
from where?
so people cant inspect and find it
Hey! Does anyone know how can i hide my secret wallet key?
Hello everyone, such a question. I plan to make an incubator for my collection (for example, with Bored Ape, when nft gen 2 was obtained with the help of serum), can you tell me in which direction to move? there are no ideas for the implementation of such a smart contract, maybe there are some examples?
Hello, I'm trying to install solana tool suite in my termux but I'm getting the following error: "curl: (22) The requested URL returned error: 403 solana-install-init: command failed: downloader http://release.solana.com/v1.9.5/solana-install-init-armv8l-unknown-linux-gnu /data/data/com.termux/files/usr/ tmp/tmp.z5oZFMohDg/solana-install-init" Any idea what it could be?
can anyone help me translating the error 0x177a on the mint nft instruction? Been searching for a while but can find what its related to.
https://explorer.solana.com/tx/5sjbyLnK9UwbU7teJSRV5EnzMLHHSeFT7NgUvrqeqUJ91zohohsFyaDAjU63fkwCZusrQxRcvcxNi5pkqehydRUc
hello im new on solana ecosystem, how can I find if someone bought some specific token? for example is this transaction refers a token transaction or?
"Mint and token have different sizes" WHAT? He try to say that in Solana Mint is NOT a method of token? Is it independent object?
hi can't i add my Testnet token to the spl-token registry?
its auto merge enabled i mean i see automerge check icon, anyways thanks
Rather than point out that your semantic quibbling is wrong, read the PR as it states timelines as well.
A day, few days, a week, 2 weeks? If it's going to take too long I'd rather just add a new token than trying to modify an old one
Technically I haven't pinged anybody, I'm enquiring about people's experience with the average time it takes to merge a non-auto merged pr
https://discord.com/channels/428295358100013066/517163444747894795/937307339915149313
hello how long it will take to change token name and symbol in mainnet?
ok
i only look at this doc all the time, dunno how I missed it
someones built a UI for it: https://www.sol-nft.tools/get-holders
https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint
token-list is not something supported in this channel. As per the PR agreement you should direct your questions to the PR comments
Hi, how I can get how user approved number of tokens into contract? In TS
Does anybody know how long it takes to get a https://github.com/solana-labs/token-list pull request manually reviewed?
I've got an emergency that I need to fix today if anyone can advise I will be forever grateful

How do you get a snapshot of ALL token holders of a specific SPL-tokem?
```json
...
        "instructions": [
          {
            "accounts": [1, 6, 2, 0],
            "data": "g7gn3dpVguJSb",
            "programIdIndex": 8
          },
          {
            "accounts": [3, 7, 4, 0],
            "data": "g783ksrNvBr9N",
            "programIdIndex": 8
          },
          {
            "accounts": [0, 5],
            "data": "3Bxs4NPqg44RZdFd",
            "programIdIndex": 9
          }
        ],
...
```
the last instruction is SOL transfer. How to parse "data" to get sol amount?
Hey guys!
How do I find out if an account is rent exempt using solana web3 js? 
My problem is that trying to send all the funds from an account that I assume is not rent exempt (~50 lamports leave the account every two days or so with no tx to account for == probably rent)  and upon trying to send max balance - tx fee sol out, I get an error saying the available balance is about 50 lamports less, even though the rpc call says the balance is enough!
I found that using this works: https://docs.rs/tokio/1.0.1/tokio/time/fn.sleep.html
Solana works a bit differently than eth https://solanacookbook.com/core-concepts/accounts.html
I reccomend checking out the solana cookbook and understanding what accounts are in Solana, you be passing more than one account most of the time (often many more than one)
why do you need to wait 5 seconds?
Hey guys, I'm trying to write test cases like this https://github.com/solana-labs/solana-program-library/blob/master/binary-oracle-pair/program/tests/tests.rs

In my test cases I have two functions, `stake_tokens` and `unstake_tokens`

`#[tokio::test]`
`async fn test_rewards() {`
    let (mut banks_client, payer, recent_blockhash) = program_test().start().await;
    let pool = TestPool::new();
    pool.init_pool(&mut banks_client, &payer, &recent_blockhash).await;

    `pool.stake_tokens(&mut banks_client, &payer, &recent_blockhash, &pool.user_wallet1).await;`

//NEED TO WAIT FOR 5 SECONDS BEFORE CALLING `pool.unstake_tokens`

  `pool.unstake_tokens(&mut banks_client, &payer, &recent_blockhash, &pool.user_wallet1).await;`
`}`

I want to call `pool.unstake_tokens` after 5 second of `pool.stake_tokens` called. I have tried using `sleep(Duration::from_millis(5000)).await;` but this didn't work as they get calling at same time without any gap. 

Any suggestions how to give a gap of 5 seconds?
What I found while looking into the metaplex candy machine program
at least for v1 this was true
what is stored on-chain is the `symbol` and the `creators` array (for the entire collection)
and for each individual nft, the `name` and `uri`

when you mint, you create the metadata account from these fields
no actual nft specific data is stored on-chain, only the `uri` to metadata that's (usually) stored on arweave
For example, in Solidity, msg.sender always is account which send transaction. Every tx has an destination address a contract which it would interact to. So it has single account of sender, and single account of destination contract
that's completely dependent on the program
It's ok. But in case where tx has more than one account. Which role have all other accounts?
Like arweave
it's an array so it *can* be used to interact with multiple accounts
it's completely possible to just send one account, but you need to wrap it in an array
that's why you see code that passes `[payer]` (in typescript)
Or is there a more data retention focused blockchain that could possibly have a data container which can only be opened with a  key contained in an solana NFT in a private area only visible by the owner
And if yes is the rent reasonable
I'm going to imagine no but curious, can we have extensive data on-chain
Large amounts of data
Etc
Or can we do whole images
Can we just store text metadata
Anyone know the limitations of NFTs on solana as in limitations of types of data that can be stored on the blockchain
Someone, explain me please why accounts object is array? If i want interact with a single contract, for example a liquidity pool contract, i should send a single account (pubkey) which belongs this contract, shouldn't i?
Thank you
5000 lamports per signature.
Yes, but only the signature cost
quick question please, do I pay for failed TXs?
correct, and yeah you'd need the feature enabled as well but all features are activated for local test validators so you shouldn't need to worry about it
I'm also not sure if I need to manually enable `feature_set::versioned_tx_message_enabled` on my test `Bank`.
<@!466984915376799748> I want to send a `VersionedTransaction` including a v0 Message from a rust test (started playing with address maps). Am I right in thinking I'd need to implement new variants of `process_transaction_with_...`  in banks-client/interface/server as well as `VersionedTransaction::sign()`?
degrade web3 version to 1.29.0
Wrote this a long time ago.
```ts
type createTransferTokenInstructionArgs = {
  fromPubkey: PublicKey;
  fromTokenAccount?: PublicKey;
  toPubkey?: PublicKey;
  toTokenAccount?: PublicKey;
  feePayer?: PublicKey;
  token: PublicKey;
  amount: number;
};
export async function createTransferTokenTransaction({
  fromPubkey,
  fromTokenAccount,
  toPubkey,
  toTokenAccount,
  feePayer,
  token,
  amount,
}: createTransferTokenInstructionArgs): Promise<Transaction> {
  if (!fromTokenAccount)
    fromTokenAccount = await Token.getAssociatedTokenAddress(
      ASSOCIATED_TOKEN_PROGRAM_ID,
      TOKEN_PROGRAM_ID,
      token,
      fromPubkey,
      true
    );

  let transaction = new Transaction();
  if (!toTokenAccount) {
    if (!toPubkey)
      throw new Error(`One of toTokenAccount or toPubkey must be specified`);
    toTokenAccount = await Token.getAssociatedTokenAddress(
      ASSOCIATED_TOKEN_PROGRAM_ID,
      TOKEN_PROGRAM_ID,
      token,
      toPubkey,
      true
    );
  }

  let toTokenAccountInfo = await connection.getAccountInfo(toTokenAccount);
  if (
    !toTokenAccountInfo ||
    !toTokenAccountInfo.owner.equals(TOKEN_PROGRAM_ID)
  ) {
    if (!toPubkey)
      throw new Error(
        `toTokenAccount doesn't exist and toPubkey not specified`
      );

    transaction.add(
      Token.createAssociatedTokenAccountInstruction(
        ASSOCIATED_TOKEN_PROGRAM_ID,
        TOKEN_PROGRAM_ID,
        token,
        toTokenAccount,
        toPubkey,
        feePayer
      )
    );
  }

  transaction.add(
    Token.createTransferInstruction(
      TOKEN_PROGRAM_ID,
      fromTokenAccount,
      toTokenAccount,
      fromPubkey,
      [],
      amount
    )
  );
  return transaction;
}
```
please dm
Will transfer someone however much SOL they want if they send me a completed function that sends an SPL Token to an address and creates a token account for them if they don't have one. Basically a plug and play function for sending SPL tokens. I just want to copy and paste and be able to use it. Using solana wallet adapter
<@!167500700601942016> had this issue aswell
Yea ended up doing so and now I can run things flawlessly. Thanks for the suggestions!
the address already exists in the solana network so
`toPubkey: new PublicKey("BF..")`
how come before it worked?
toPubkey should be `new PublicKey("BF..")`
So how would I go about fixing?
Yup, that is the issue.
idk if this is the issue, its worked before so it should work now


Well are you passing in a string or a public key to the transaction?
<@!590982495923732511> ^
Used to work before, now not anymore - "signing" a Solana transaction - calling:
`await provider.signTransaction(transaction, connection);`
Using 
```js
<script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>```

Anyone know why this is happening?
Try adding `#[derive(AnchorSerialize, AnchorDeserialize, Clone, Default)]` on the `SizeData`
Tried the type aliases and then implementing Trait. not allowed. Now trying that only
```rust
#[derive(Accounts)]
pub struct CreateSpaceShip<'info> {
    #[account(init, payer=author, space=sizeData.size)]
    pub tweet: Account<'info, SpaceShip>,
    #[account(mut)]
    pub author: Signer<'info>,
    #[account(address = system_program::ID)]
    pub system_program: AccountInfo<'info>,
    pub sizeData: SizeData, // or u128 or usize, not sure
}

#[...]
pub struct SizeData {
    pub size: u64,
}
```
I think you have to wrap the int in a struct.
yes every available unsigned int.
Did you try with u64 and u128
Hmm then you have to ask on the anchor discord.
that doesn't work.
That was first thing I did but. 
But compilation will fails several errors

`error[E0432]: unresolved import `__client_accounts_u32`
  --> programs/solana-twitter/src/lib.rs:35:10
   |
error[E0433]: failed to resolve: use of undeclared crate or module `__client_accounts_u32`
  --> programs/solana-twitter/src/lib.rs:35:10
error[E0433]: failed to resolve: use of undeclared crate or module `__cpi_client_accounts_u32`
  --> programs/solana-twitter/src/lib.rs:35:10
error[E0277]: the trait bound `u32: anchor_lang::Accounts<'_>` is not satisfied
  --> programs/solana-twitter/src/lib.rs:35:10
error[E0599]: no method named `to_account_infos` found for type `u32` in the current scope
  --> programs/solana-twitter/src/lib.rs:35:10
error[E0599]: no method named `to_account_metas` found for type `u32` in the current scope
  --> programs/solana-twitter/src/lib.rs:35:10
error[E0277]: the trait bound `u32: anchor_lang::AccountsExit<'_>` is not satisfied
  --> programs/solana-twitter/src/lib.rs:35:10`
I think there are two mentioned here: https://spl.solana.com/token
Idk if anyone gave any feedback on my previous question, but is there any way to creating a staking pool for my own spl token?
I think that should work.
```rust
#[derive(Accounts)]
pub struct CreateSpaceShip<'info> {
    #[account(init, payer=author, space=size)]
    pub tweet: Account<'info, SpaceShip>,
    #[account(mut)]
    pub author: Signer<'info>,
    #[account(address = system_program::ID)]
    pub system_program: AccountInfo<'info>,
    pub size: u64, // or u128 or usize, not sure
}
```
No, parameter in the account args.
Parameter in RPC endpoint method?
Not sure how to do it without that, try asking on the anchor discord.
Yes, but then you have to add it as a parameter.
Hello All, 
jay ram ji ki.

Using anchor 0.20.1

Trying out initializing account using anchor. Cosider the following account creation code.

`#[derive(Accounts)]
pub struct CreateSpaceShip<'info> {
    #[account(init, payer=author, space=32)]
    pub tweet: Account<'info, SpaceShip>,
    #[account(mut)]
    pub author: Signer<'info>,
    #[account(address = system_program::ID)]
    pub system_program: AccountInfo<'info>,
}`

Can I give space (here the value 32) as user input?
thanks!
https://spl.solana.com/token
love you ‚ù§Ô∏è
Look at the spl-token program.
yes
Of a custom token?
Just do `key.toBase58()`
yea i realized that the keys I were looking at were encoded somehow. Do you know how to decode them? ex:
PublicKey {
  _bn: <BN: 92aee3dfc2d0e55782313837969eaf52151c096c06b5c2a82f086a503e82c34>
}
please
contract of the token?
Or `solana-keygen recover --force prompt:full-path=m/44/501/0/1 -o id_ledger.json`
But for the second key you would do
`solana-keygen recover --force prompt:full-path=m/44/501/1/0 -o id_ledger.json`
I'm not sure if that is how they work.
Wait you have the seed phrase for a ledger?
I think you can get that with getParsedAccountInfo
like on solscan when you view a program you can see program owner
Hello, I am trying to recover a keypair from a Solflare Ledger wallet. I have two wallets backed by ledger on this solflare account . Wallet 1 and wallet 2.

I ran:

solana-keygen recover --force prompt:full-path=m/44/501 -o id_ledger.json

and entered in my ledger recovery phrase, and was able to key the keypair back successfully for Wallet 1.

How can I get the Wallet 2 keypair? It is using the same ledger, so it has the same phrase. How can I specify which solflare wallet I want to retrieve the keypair from when doing this command? 

Any help would be greatly appreciated. Thanks!
I'll look into it!
What do you mean by program owner?
We also accept PRs to the Solana cookbook under the token section
What are you looking to write? There's a couple PRs out there right now for more docs
<@!590982495923732511> Do you know how one can join to help write documentation for the token library?
You can find the "wallet" by accessing the pubkey
isnt that in the accounts information?
anyone know how to get program owner in js?üò≠
Aha... thats where that comes into play... thanks!
BPFLoader.... you can confirm with `solana account PROGRAM_KEYPAIR.json`
Super basics of solana. I understand that solana program / smart contract has to "own" account in order to modify the account. 
I also know program is contained within account.

If so who "owns" the account that program is contained within?
üò¨
Hmm people have asked before, I think it's possible in theory.
You have to check the docs.
44/ something.
ok well thats good
Yes.
similar to smart contracts in ethereum?
<@!590982495923732511> Is it possible to have programs make other programs
when `solana-keygen new` is used to generate wallet, what derivation path is it using?

Even if I use the same seed phrase in solflare, I cannot find the pubkey generated by solana-keygen.
I always have to import the private key generated by solflare to the json file in order to sync them.
is a token on the solana chain an account?
Or run docgen on the ts, that is not half-bad.
Most functions are 1:1
Next best thing is to refer to the rust crate docs.
lol
how are you supposed to develop?
Haha yeah.
the fuck
Unfortunately there aren't any docs.
Also getting bots left and right from this server, just a heads up
But no where that I can find references what that createMint function does
for example in the solana-program library we have this example: ```await splToken.Token.createMint(
    connection,
    fromWallet,
    fromWallet.publicKey,
    null,
    9,
    splToken.TOKEN_PROGRAM_ID,
  );```
Hi guys! Where is the solana-spl-token documentation
haha, sry, ty for trying
Ah ok.
i just figured out answer to my own question üôÇ
no issue anymore
Do you want the public key of the leader?
Sorry then what is the issue?
should be able to query it via key and get associated ip
returns what i am looking for
getClusterNodes()
Hmm?
looks like it is
I am not entirely sure the gossip is shared with the http protocol.
i dont think I understand what you mean? how does this concern my problem
basically, given a public key, I want to be able to look up the associated ip address
i will get a table of ip addresses associated with public keys
Web browsers can only send TCP packets as per the HTTP standard.
``` solana gossip ```
Ah I am not sure you can do that from a browser.
for example if using the solana cli tools if I run:
i believe i need to look at the gossip, but i do not see such a function in the web3 js library
i want to get that association
the current leader is at a specific url / ip address right?
Hmm which url?
is this possible?
suppose I run getSlotLeaders() and want to then associate a URL to each of the public keys returned
does anyone know how i can get the url associated with a public key?
ok figuered this out, it was a miss match between node versions. using `nvm use 14` fixed this
Haha I know the feeling.
I'm currently just trying to upload on  devnet
I'm using candy mechine v2 and I keep running into this error `'fs/promises'` has anyone else seen this before?
you are the MAN!!! been banging my head on the desk for an hour, tysm
`solana config set -u d`
I'm on Mac using Terminal
can someone help me with my "spl-token create-token" error? 
"Creating token 4vWhNKA8rXA7eDd8eiLwCeZ6C3nyRtm7LwZq2hdZCV58
error sending request for url (https://devnet.solana.com/): error trying to connect: dns error: failed to lookup address information: nodename nor servname provided, or not known"
~~wait isn't this the issue `${ARTIFACT/bpf/sbf}`?~~
TIL you can search and replace within `${}` environment expansion in bash üò∂
Thank you so much!
i‚Äôll take a look.
<@!792782891196874792> Hi Dmitri, would you mind taking a look at the upload to the release folder? Your valuable fix for windows seem to be skipped on release folder.
While waiting ill tackle WSL issue
Hopefully it could be fixed
Made issue https://github.com/solana-labs/bpf-tools/issues/35
upload release assets was skipped
where did that go
!?!?!?!?!?!?!?!?!?!

I think it's worth it to set up WSL2, will make workflows a thousand times easier in the longrun
master seems to be alright
but it seems to be 1.22?
Gl on solving this
Yea I saw the big red cross
Well I have to go to sleep for today but I for sure will check with you tomorrow
worst part is the last commit is supposed to fix artifact release on Windows
but it doesn't pass github actions üôÉ
Lol
ok time to fight WSL rabit hole
LOOOL
bah 1.9.2 tells me `Solana Rust BPF toolchain is not available on Windows`
1.9.3 tells me bpf v1.21
Can I degrade the version without deleting all solana files?
Just a speculation
The problem is on solana 1.9.5?
but it doesn't install it
Tried to use npm install bpf-tools
Yea fair, I've had my headaches from WSL, recently spend an entire day to upgrade from WSL1 to WSL2
gotta chase one or the other /smh
some how the WSL is giving me problem from cli. different rabit hole lol
or does it rely on deeper architecture than WSL can provide?
If you use WSL, isn't it possible to use a linux release, even on windows?
Nope no clue :/
I guess I could downgrade one by one
I think use of v1.21 is defined in solana\install\releases\1.9.5\solana-release\bin\sdk\bpf
Would you have any clue which version of solana supported 1.18?
most recent functional windows release is this one
https://github.com/solana-labs/bpf-tools/releases/download/v1.18/solana-bpf-tools-windows.tar.bz2
yea... its very unfortunate
doesn't look like the windows release is available atm
<@!410651317229322240> <@!198576583529857025> 
https://github.com/solana-labs/bpf-tools/releases
I'm trying to use "spl-token create-token" on the devnet, but keep getting this error 
"error sending request for url (https://devnet.solana.com/): error trying to connect: dns error: failed to lookup address information: nodename nor servname provided, or not known"

Can anyone assist?
Oh just saw it
no encountering the same error (see above)
<@410651317229322240>  got any idea how to solve it?
I cant use the build-bpf
Unfortunately not
have you solved this issue?
Hey,

Any one knows how to create associated token account from cli? spl-token didn't doesn't have any option for it.

EDIT: spl-token by default uses associated one. I was wrong
I see bpf-tools but the download sure is not there
```
> helloworld@0.0.1 build:program-rust
> cargo build-bpf --manifest-path=./src/program-rust/Cargo.toml --bpf-out-dir=dist/program

BPF SDK: \\?\C:\Users\xxx\.local\share\solana\install\releases\1.9.5\solana-release\bin\sdk\bpf
Failed to install bpf-tools: HTTP status client error (404 Not Found) for url (https://github.com/solana-labs/bpf-tools/releases/download/v1.21/solana-bpf-tools-windows.tar.bz2)
```
Does anybody else have issue building the hello world program by ``npm run build:program-rust``?
hum, ok. So no off-chain call. üëç
As long as it is on-chain.
Hello, Did you think is it possible to call an external api, like a personal oracle, from a rust program?
Try doing `sudo cargo build-bpf`
Ah that makes sense.
You can also use `connection.confirmTransaction`
besides*
Also couldn't figure out how to add RUST_BACKTRACT=1 into the command properly to see what was bad bedies perms
Has anyone hit this error before, I tried to chown the cargo dir and that didnt help:
Terminal: Bash, WSL
...dapp-scaffold/program$ cargo build-bpf
BPF SDK: /home/paulrinaldi/.local/share/solana/install/releases/1.8.2/solana-release/bin/sdk/bpf
thread 'main' panicked at 'Failed to install bpf-tools: "Permission denied (os error 13)"', sdk/cargo-build-bpf/src/main.rs:440:6
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
So, the 'wrapper' call invokes an FFI from your program to the Solana runtime where it is executed. So this: https://discord.com/channels/428295358100013066/517163444747894795/937072454633914430, if invoking from BPF (a.k.a. your program) invokes the Rust code as defined here: https://discord.com/channels/428295358100013066/517163444747894795/937073190029631528.  Your assumptions were correct! However; some implementations have conditional compilation which if NOT BPF it may delegate to functional code or a stub. Otherwise your non-bpf code would compile the entire runtime into your executable.... ugh
I wasn't aware that config was the correct command to use for that
ok thanks
A lot of the cli commands have `--help` options that are really useful üòõ I believe `solana config --help` also works
`solana config set -k KEYPAIR_PATH`
I tried just dropping it in the folder location but it doesn't recognize it
if you already have a .json file with your private keypair in it, how do you assign it as the default signer for your solana cli?
Oh damn I think you're right
thats my guess at least!
so its crossing boundry out of program runtime into "kernel space" which is outside of the bpf runtime
actually perhaps I understand now! When called from a program, this function is called in bpf, and so it makes this syscall to `sol_create_program_address` then that syscall you linked earlier, actually calls the same function, but compiled for non-bpf, so it takes the other code path
Oh I see, that is indeed confusing o.o
right, when in bpf, that function calls the C function, which is what i was trying to find, but don't think i need to find anymore
https://github.com/solana-labs/solana/blob/b44847203743130440f8f18af964ac590cefa82c/sdk/program/src/pubkey.rs#L531
ehh, I was gonna read through the BPF version of create_program_address, but I think I understand the non-bpf code path, so i'll just assumes its replicated
is there a separate repo for like kernel extensions or something?
Actually, that function appears to call `Pubkey::create_program_address`, which then calls `sol_create_program_address`? so maybe not found
thank you sir!
yeah, i missed that it was this syscall thing, so it actualy bounces back to rust I guess
https://github.com/solana-labs/solana/blob/b44847203743130440f8f18af964ac590cefa82c/programs/bpf_loader/src/syscalls.rs#L896
I think the implementation starts here
is it just an alias?
```rs
    syscall_registry.register_syscall_by_name(
        b"sol_create_program_address",
        SyscallCreateProgramAddress::call,
    )?;
``` ?
oh wait, i'm an idiot, found it
indeed, i'm wondering where the C source code is
```rs
            extern "C" {
                fn sol_create_program_address(
                    seeds_addr: *const u8,
                    seeds_len: u64,
                    program_id_addr: *const u8,
                    address_bytes_addr: *const u8,
                ) -> u64;
            }
```
looks like it's implemented in C, only imported
Hello everyone and thank you! I'd like to know if there is a limit for having wallets stored in solona's blockchain, or if there is any chance I can use a private server.
i'm curious to find the implementation of `sol_create_program_address` but I can't seem to find it int he solana repo, only the header:
https://github.com/solana-labs/solana/blob/04c0c608a36ea9ebacf6cb96a221ed895fd02cb0/sdk/bpf/c/inc/sol/pubkey.h#L74
I see, but your point makes a lot of sense to me. I might depend on only the data vec. (For now i was just lazy and created accountinfo manually from it) . I asked more because in source of Account I saw "get" function which had a comment that it's for allowing conversion to accountInfo but I couldn't understand how (and get was private function) 

Thanks!
no
Do they have common trait that I use? ü§î (Account and AccountInfo I mean)
Ah, I see.  I'd probably try to rewrite the inputs to that function such that it's more friendly to input from both client and program code.
I want it mostly from client-side use. I want to use a function which i have used for my program-side also on client-side and it needs that format üòÖ
From a program context, you generally don't do this.  Instead the accounts that are required should be passed into the program instruction so that the runtime can provide an `AccountInfo` for it
any ideas?
Otherwise I can do other things with the wallet adapter like get the pubkey of the wallet, balance, etc.
124 |     setReady(adapter ? adapter.ready : false);
  125 | }, [reset, name, walletsByName, setWallet, setAdapter, setReady]);
  126 | // Setup and teardown event listeners when the adapter changes
> 127 | useEffect(() => {
      | ^  128 |     if (adapter) {
  129 |         adapter.on('ready', onReady);
  130 |         adapter.on('connect', onConnect);
I'm working with @solana/wallet-adapter-react. When I try to send a transaction on testnet and get it to sign through the wallet-adapter, it throws "Unhandled Rejection (Error): Failed to sign transaction"
Anyone can help me to say how I can convert an account to accountinfo?
anyone familiar with best practices re: finding the mint date of a token?
thank you very much, sir! i'm studying, I'll definitely make a return
Hi guys, is their any way to snapshot historical state of the blockchain. I am trying to get what was the NFT owner at a historic time. Any help would be much appreciated.
(not my code so can't really help much with how it actually works, but it will hopefully help?)
https://github.com/gemworks/core

If you take a look at the "vault" functionality here, it should help to deal with locking nfts in a wallet with timers and that
How reliable is it to transfer your NFT to another account when locking and to return your NFT back to it when unlocking?
Hi everyone, I want to lock the NFT of users to the system that I have made, there will be no stake operation.
How do I enable users to lock their NFTs?
==============================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
==============================================================================
Error: Deploying program failed: Error processing Instruction 1: custom program error: 0x1
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.

If I simply add more sol to the wallet, and do a new deploy command, will it pick up where it left of? Or do I have to do the stuff with the keypair and that? :S


///////////////////////////////////////////////////////////////////////////////////////////////

I'm looking for sending a transaction that needs multiple signatures. One of the sign is generated by extension wallets like solflare. So , I'm trying to sign the transaction manually with keypair that I have , before calling the wallet program for sending the transaction.
Can somebody please give me an example to add signature to a transaction without using tweetnacl
Hi <@!900171238117367828>s
Should failed TXs cost 0.00005 SOL too?

I can see mine cost 0.00005 but I think it shouldn't:

https://explorer.solana.com/tx/4gfqb7NHYEpBDZa3Hc6mCinHiMgSQUJ3NS52jrWJpGexp9gsQPqrKegW6vbwGXsiUBRgvAXCoRVobs8GwvZKWpVm
node is running
Hi All - does anyone know what would cause:
./solana block-time
Error: Block Not Found: slot=4301
Hi folks, Can I use LedgerWalletAdapter outside of a browser? I would like to have the ledger as the Anchor wallet
ok i think i got it, thank you!
It looks like when putting a program on chain, there is a BufferAccount, PayerAccount, ProgramAccount, ProgramDataAccount, and Authority - do you have any suggestions on reading to learn about what information is stored where? I'm looking to find the compiled program on chain
It's a typescript method. Otherwise you could do getAccountInfo with `jsonParsed` encoding
Does anyone know how to customer the the wallet multi button?
curl https://api.mainnet-beta.solana.com/ -X POST -H "Content-Type: application/json" -d '{"jsonrpc":"2.0","id":1,"method":"getSignaturesForAddress","params":["2p7nYbtPBgtmY69NsE8DAW6szpRJn7tQvDnqvoEWQvjY",{"limit":1}]}'

if i call this in my cmd, I get a "Parse error" , am I stupid? I checked the json and it should be just fine
It doesn't look like this is an rpc method
I have a wallet-adapter question.  How can I observe the state of whether we are connected to the user's wallet or not?
I'd like to navigate the page depending on that state
Try getParsedAccountInfo
when i run getAccountInfo for a program I think that returns a hash? (is that right?) Is there a PDA format to get the account with the compiled program?
They are stored in an account.
perhaps this is a dumb question, but where / how are compiled programs stored on chain
thank you very much, <@!489206164270350337>
Yes
`TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`
is this right?
No. The Token Program ID is the same across all env
in that sample I see `TOKEN_PROGRAM_ID`
I think that is `DESVgJVGajEgKGXhb6XmqDHGz3VjdgP7rEVESBgxmroY` for devnet
am I right?
thanks a lot, will dive in üôÇ
https://solanacookbook.com/references/local-development.html#setting-up-connections
thanks a lot for the answer, but I have no "environment" set up to call this function. What environment do i need to set up to do this? Is there a guide somewhere? I don't have a validator running (sorry I'm noob)
connection.getSignaturesForAddress
I hope this is the correct channel to ask this. If I want to fetch all transactions that were done by an account/smart contract for example (2p7nYbtPBgtmY69NsE8DAW6szpRJn7tQvDnqvoEWQvjY) , what would i need to do to get those?
Hi. I'm looking for a developer who's familiar with Solana's Web3 JS api. Angular experience will be helpful. Please dm me if you're interested. Will be a paid gig.
sure, thanks
You can follow this
https://solanacookbook.com/references/nfts.html#mint-an-nft
must use `git clone metaplex`?
?
How can I create a NFT in solana devnet
Glad it worked
ü§∑
dont know what magic you used but thank you
worked
copied yours
didn't work
tried to build
I also added the entrypoint in the use solana_program
https://gist.github.com/jacobcreech/090c0f333bf3d9d08edbdf26e1dc50b3
Can I see it? üòÖ
Cool, I'll take a look today!
Added entrypoint and it worked
I think you need an entry point
Getting to it
Discussion can be there
You could do just a PR
Or just a PR?
I'm working on a fix, should I still open an issue?
Somethings wrong with it?
Just simple code that I wrote
I believe you're right
Create an issue and we'll get into it
I think it is copy/pasted from sendEncodedTransaction.
Also, the code you linked will never be called.
Yes.
You expect the error to be thrown, correct?
(not as an error)
Instead, I get:
```js
{
  context: { slot: 111529638 },
  value: {
    accounts: null,
    err: { InstructionError: [ 0, 'InvalidAccountData' ] },
    logs: [
      'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]',
      'Program log: Instruction: MintTo',
      'Program log: Error: InvalidAccountData',
      'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1169 of 200000 compute units',
      'Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for instruction'
    ],
    unitsConsumed: undefined
  }
}
```
I would have expected the logs to be printed as an error.
<@!489206164270350337> 
```js
const {
    Connection,
    PublicKey,
    Transaction
} = require("@solana/web3.js");
const {
    TOKEN_PROGRAM_ID,
    ASSOCIATED_TOKEN_PROGRAM_ID,
    Token
} = require("@solana/spl-token");

async function main(){
    let connection = new Connection("https://api.devnet.solana.com");
    
    let key = new PublicKey("FdP4y3cedG595fsdeFksx9dHRjZngF1WW4dws6X6XE8X");
    
    let transaction = new Transaction();
    transaction.feePayer = key;
    
    transaction.add(
        Token.createMintToInstruction(
            TOKEN_PROGRAM_ID,
            key,
            key,
            key,
            [],
            1
        )
    );
    
    let simulateResult = await connection.simulateTransaction(transaction);
    console.dir(simulateResult, { depth: 6 });
}

if(!module.parent)
    main();
```
Thank you
Not sure on this one, but seeing it as anchor I'd recommend check in anchor discord https://discord.gg/TTEfd97v
new to solana btw
I keep getting the account deserialization error. can someone point out the mistake?
Where is this code from btw
https://tenor.com/view/the-office-bow-michael-scott-steve-carell-office-gif-12985913
Alright, give me some time to debug
And I know my env works
Got the same error, look at that
oh sure sure
Wish git would have worked
Sorry, trying to set up everything to compile. Needed more than just the program
is it compiling? <@!489206164270350337>
Awesome
which returns it Parsed rather than Buffer
wait no way, just found there is ```getParsedTokenAccountsByOwner```
but here i can pass any account, how I can hardcode specific address is candidate A
I see
I've run into this problem. Let me see if I can remember how. Basically you have to `object as <TYPE>` for typescript
```Property 'parsed' does not exist on type 'Buffer'.ts(2339)
```
```(property) data: Buffer
```
I'm using typescript, no error it says type Buffer
let say if I am making the voting application, the basic thing could be I can provide two addresses, if client passes 1 I will add the vote to account 1 else account 2.
Is there a stacktrace you can provide?
It's required to make the runtime work. Otherwise you couldn't parallel process the accounts
what's the optimal way to decode it
is says data type buffer
I am getting a problem when getting token accounts for a certain mint for a user ```    let accounts = await connection.getTokenAccountsByOwner(address, { mint })
    accounts.value[0].account.data.```
interesting
Yes
so basically if there is account A from which I need to access data, I need to specify that and then iterate through it
lol
oh
what do you mean?
Trying it locally
see anything that may effect the deployment?
first time heard about it
https://pastebin.com/LgNZPZb4
I was talking about the site pastebin ü§∑  I guess here works, but a bit cluttered
Yes. You have to. Every time
```
use solana_program::{
    account_info::{next_account_info, AccountInfo},
    entrypoint::ProgramResult,
    msg,
    pubkey::Pubkey,
};

/// Instruction processor
pub fn process_instruction(
    _program_id: &Pubkey,
    accounts: &[AccountInfo],
    _instruction_data: &[u8],
) -> ProgramResult {
    // Create an iterator to safely reference accounts in the slice
    let account_info_iter = &mut accounts.iter();

    // As part of the program specification the first account is the source
    // account and the second is the destination account
    let source_info = next_account_info(account_info_iter)?;
    let destination_info = next_account_info(account_info_iter)?;

    // Withdraw five lamports from the source
    **source_info.try_borrow_mut_lamports()? -= 5;
    // Deposit five lamports into the destination
    **destination_info.try_borrow_mut_lamports()? += 5;
    if source_info.owner == _program_id {
        msg!("test");
    }
    Ok(())
}
```
so I can pass specific array of accounts for which I need to make transaction through
to send here all the code?
Pastebin?
forgot my pass and now my user is locked ü•≤
If you get all token accounts, it should have the amount. See the first example https://solanacookbook.com/references/token.html#get-token-account-by-owner
Is there a way to get all token account balances at once, instead of using the getTokenAccountBalance() method for every single one?
You can send the accounts in each instruction to the program, not needing private keys unless you are required to sign for them. You have to do the verification on the program side yourself. See https://solanacookbook.com/references/programs.html#verify-account for some examples of verifying
Hi
I have one doubt
pub fn process_instruction(
    _program_id: &Pubkey,
    accounts: &[AccountInfo],
    input: &[u8],
here accounts are provided from the API or generated in program itself
?
I am quite confused, where there is strict equality to match the account if its owner or not. if accounts are generated in program, then how can a user call a method that can be only called by admin. I mean the user wont have the private key.
@here
You can hit `</>` for full source of each example
Step by step is in the link I sent
SOL is wrapped by sending SOL to a `NATIVE_MINT` token accounts and calling the `syncNative` instruction
how is the sol wrapped ?

https://solanacookbook.com/references/token.html#wrapped-sol
how to wrap it
one sec I'll try to upload it
what if the user has sol ?
Yes, you can send wrapped sol
I would assume there is wrapped sol
oh god you don't want to see it xD
I'ts the first time im interacting with rust and solana programs
how to send sol similar to spl tokens ?
Can you push your code to GitHub?
and that helped for him, 
not for me
someone said that he forgot to point the entrypoint
this
What's your current issue?
I'd rather to debug but got no idea where to start ü•≤
Sorry, solana is a little rough around the edges.
If you want to debug wsl then I'm down.
Windows has a lot of difficult problems :/
The solana cookbook is good.
got dammit, at start people said windows doesn't work go to go to wsl
now I'm going to wsl after days of fixing erros and you tell me to switch again
Can you point me to any materials that can help me start.
But you have to write the code yourself.
Yes.
Hello, I'm new here. Is there a way to transfer multiple nfts in one transactions?
Yes.
its
so basically is vm
searching
yup seraching it
https://docker.io
whats*
what a docker?
OK, try docker then.
but I prefer trying alone rather a ide online
people here suggested GitPod
wsl have quirs, windows doesn't work
Try docker if you can, or GitPod is amazing.
Yeah wsl has some quirks too.
you are correct sir
https://tenor.com/view/nathan-fillion-uhm-but-wait-gif-9301334
Try that.
https://gitpod.io
im using wsl
Try compiling on Linux.
Hmm might be something to do with windows?
also googled it
checked on this channel but couldnt find anything that helped
any idea why I'm getting 
```
Error: ELF error: ELF error: Multiple or no text sections, consider removing llc option: -function-sections
```
after  using ```deploy solana program deploy /mnt/wsl/solana-testing/target/deploy/solana_testing.so```
That code is never ~~called~~ executed.
How do you think the DX should be?
It looks like that is how it is explicitly written https://github.com/solana-labs/solana-web3.js/blob/c2e5fd96c9028e80cdcdf46cfda42cdcd8939541/src/connection.ts#L3848-L3862
Let me send a mre
It returns an object with the error.
What's going on now?
I believe so. Usually that + information on logs/etc
Because at the moment it seems like the implementation is broken.
Should connection.simulateTranasaction throw an error if the simulation fails, similar to connection.confirmTransaction?
Ah I will look into this.
That's not how you do it. Check out how pdas are signed for here https://solanacookbook.com/references/accounts.html#sign-with-a-pda
ya that's why i have added it to partialSIgner()
Programs have to sign for PDA, not a client
Ya like source account and pda is signer .
trying now! thanks
If you clone the github, you should be able to build from source
Is there a way to use the last version based on github? I tried with cargo install --git but it didn't worked
Awesome, glad to help!
the build bpf worked, thank you!
the output said done so I thought its ok
its fetching the essentials
thank god its working
https://www.how2shout.com/linux/fix-inrelease-is-not-valid-yet-invalid-for-another-h-min-s-updates-for-this-repository-will-not-be-applied/
I try to use cargo build-bpf
And I get the following error:
```error: linker `cc` not found
  |
  = note: No such file or directory (os error 2)

error: could not compile `semver` due to previous error
warning: build failed, waiting for other jobs to finish...
error: build failed
```
so I tried to use build-essentials as you and google said 
and I'm getting 
```
E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
```
(there are more lines with unable to fetch some archives)

so I tried using apt-get update and it seems like its ok :
```
Reading package lists... Done    
E: Release file for http://archive.ubuntu.com/ubuntu/dists/focal-updates/InRelease is not valid yet (invalid for another 58min 6s). Updates for this repository will not be applied.
E: Release file for http://security.ubuntu.com/ubuntu/dists/focal-security/InRelease is not valid yet (invalid for another 26min 21s). Updates for this repository will not be applied.
E: Release file for http://archive.ubuntu.com/ubuntu/dists/focal-backports/InRelease is not valid yet (invalid for another 27min 44s). Updates for this repository will not be applied.
```

but the errors still occurring
I would follow what the command output says
There's a lot of work being done over in the metaplex discord on this exact problem. I would discuss with the community there https://discord.gg/yZZVd2WA
Could you send me a gist or something?
do you know why? üò¶
<@!489206164270350337>
and when I'm using ubuntu, do I need to be under the wsl directory?
```
Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
```
There's probably something in selenium for extensions. I would check their docs
im getting Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?
tried that
https://stackoverflow.com/questions/52445961/how-do-i-fix-the-rust-error-linker-cc-not-found-for-debian-on-windows-10
`sudo apt install build-essential`
on wsl
when trying to use build-bpf
someone can help me solve this error?
```
error: linker `cc` not found
  |
  = note: No such file or directory (os error 2)

error: could not compile `semver` due to previous error
warning: build failed, waiting for other jobs to finish...
error: build failed
```
I personally had been thinking about hashing the values of the metadata and updating those values post reveal would that be feasible?
Hey guys i‚Äôm involved with a solana nft project and am trying to identify ways to mitigate potential bot minting and unfair peeking at the nft meta data before reveal, how have you guys seen people approach these problems
i mean to use the extension with selenium
Hi guys,there is any way to click Approve on Phantom Wallet with Python/Selenium ?
tried this as well.
`cargo test-bpf`
Keypair.generate(), not new Keypair
here, pda = new Keypair();
i tried this as well but same error
transaction.recentBlockhash = (
        await connection.getRecentBlockhash()
      ).blockhash;
      transaction.feePayer = window.solana.publicKey;
      transaction.partialSign(pda);
      const signed = await window.solana.signTransaction(transaction);

      const signature = await connection.sendRawTransaction(signed.serialize());
      const finality = "confirmed";
      await connection.confirmTransaction(signature, finality);
Also, I think you need to do Keypair.generate()
It usually means you're passing something in incorrectly. Could you link a gist or send some code?
<@!489206164270350337> THis is happening in new version of web3.js doing partialSign(new Keypair());
and sometimes x.pubkey.toBase58() is not a function.
Googling this error seems to be related to CI. How are you running this?
Hello
Found strange behaviour in tests
So I'm using solana_program_test(https://docs.rs/solana-program-test/latest/solana_program_test/) and warp function(https://docs.rs/solana-program-test/latest/solana_program_test/struct.ProgramTestContext.html#method.warp_to_slot)
When I run the tests I receive IO error from time to time
`IoError(Custom { kind: Other, error: "the request exceeded its deadline" })'`
Does anybody know why it can happen ?
What TS packages are no longer supported?
Check if the max supply is > 1
just want to record the fungible tokens
The change might not have made it's way into the current cli version yet.
Hmm what are you trying to do?
What is the output of that.
ping api.devnet.solana.com
Hello there, I'm playing with the `spl-token` cli and I'm trying to get my new token address in the json output, it seems that an issue was opened and closed about that (https://github.com/solana-labs/solana-program-library/issues/2592) but It seems it's not updated on the CLI
Thanks mate, how do i filter away and only keep fungible tokens?
i couldnt find anyting on the internett so dose any body know what this is
hi guys, i kinda need help. Im trying to upload some nfts for the candy machine on the. devnet. tho it keeps givin this FetchError: request to https://api.devnet.solana.com/ failed, reason: getaddrinfo ENOTFOUND api.devnet.solana.com
Try https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint
Yes, thank you. I found this with the wallet adapter.

Instead of logging in and saving the collections to a user profile, I would like to save it based on the collected wallet.

But the main goal is to learn right now, these are just plans to build something.

Do you have a working curl request example? üôÇ
Ah it's `programId`, not `programID`
thats why im so confused, isn't it right to initialise a new pk like that?
wallet is a string..
I don't think so.
<@700807147239505991> 
Also see https://github.com/solana-labs/wallet-adapter
Yes of course with multiple. But is there anything checking that the transaction is sent directly or has been already proxied between various program?
But why would you want to connect your wallet with that?
Not one cpi but maybe with multiple.
Instead of `new PublicKey(wallet)` pass in `wallet.publicKey`
You can't do that.
You have to request the user to sign the tx with wallet.sendTransaction
Thank everybody for your answers and your support
<@!590982495923732511>
^
Sorry what is the issue with this?
Yes.
Bump!
Is It technically possible to upload a whole new program inside of a CPI ? It's just a question cause I don't really need that but would that be possible?
some examples how to use it other than reading SPL tests would be really nice, hehe or more documentation of it on docs.rs
It is generic, not just SPL. It is active and essential in unit testing. I believe there are updates coming to Solana Cookbook: https://solanacookbook.com/#contributing
That was what I'm talked about, if I just want to anchor a sequence of number and don't read them again into a solana program but just proof that they have been anchored, it could work right ?
is `solana_program_test` meant only for testing SPL, or is it meant to be general-purpose testing framework for solana programs? Is it even still developed? No mentions on docs.solana.com, a little to no downloads from crates.io and poorly documented for something to be widely used.
how can I solve it
what means ...?

```
thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: ClientError { request: Some(GetProgramAccounts), kind: RpcError(RpcResponseError { code: -32010, message: "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA excluded from account secondary indexes; this RPC method unavailable for key", data: Empty }) }', src/main.rs:41:11
```
Hi, how do we appraoch signature fees since 1.9.0 deprecation of fees calculator? I need to estimate tx fees ahead of time
ok im new to web3, but what do i pass into the Keypair.fromSecretKey method
i tried passing my wallet but i got a     throw new Error('bad secret key size'); error
ignore programID for now.
```
let solConn = new solanaWeb3.Connection(SOLANA_HOST, 'confirmed');

            let tokens = await solConn.getTokenAccountsByOwner(new PublicKey(wallet), { 'programID': new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA") }, 'finalized');
            tokens.forEach((token: {pubkey: PublicKey; account: AccountInfo<Buffer>}) => {
                console.dir(token);
            });```
So currently I want to build a website with a wallet connector and then you get some info about upcoming mints and floor prices of projects if that's possible. Maybe also with notifications.

Then I found this site: https://solanacookbook.com

Then I wanted to run the example codes, unfortunately it has some TS packages that are no longer supported.

Then I wanted to test if I could do it with curl until the spl token library is updated.
i found solution, i dont have an entrypoint macro in my program
What are you trying to do?
OK, but can you please explain what the end goal is?
seems like you diagnosed it right, you are send a string instead of a pk
can you share the calling code
I also got this error once.. I'm also interested.

Did you use curl?
Thanks guys! Next question:

```Uncaught (in promise) TypeError: Cannot read properties of undefined (reading 'toBase58')
    at Connection.Uncaught (in promise) TypeError: Cannot read properties of undefined (reading 'toBase58')
    at Connection.getTokenAccountsByOwner (connection.ts:2311:1) (connection.ts:2311:1)```

Am getting this when I "getTokenAccountsByOwner", seems like the PublicKey wasn't able to toBase58()...
yep
Are you building your program with `cargo build-bpf`?
I would like to make some RPC calls and then show the results on my website.

That's the goal üôÇ
hey, how do you base64 encode a serialized instruction? was trying it like this:
```
transaction.recentBlockhash = hash.blockhash;
transaction.serializeMessage().toString('base64')
```
hi guys!
when i try to deploy program using *solana deploy ...* i got this error:
```Error: ELF error: ELF error: Multiple or no text sections, consider removing llc option: -function-sections```
Do you just want a working getProgramAccounts call or do you have a specific goal in mind?
No argument
So if on-chain programs could read past txs then you could save a lot on costs by including ix data as state data.
lol, I need more ‚òï
Exactly.
true.. 

I was fooled by the documentation.

Unfortunately when I try with SPoo1Ku8WFXoNDMHPsrGSTSG1Y47rzgn41SLUNakuHy it also doesn't work.

I also get this as result: {"jsonrpc":"2.0","result":[],"id":1}

Has anybody a working curl request example for getProgramAccounts? üôÇ
And I agree with that, if you use account data. But I can reconstruct the notion of data state by tracking all Tx/Instructions for a particular account and deciphering the instruction data. A rare thing, indeed, but doable I think I just said the same thing you did üôÇ
No what I mean is any account data can be reconstructed by a set of transactions + the program.
I agree that AD ***usually*** is a by-product of whatever instruction, if indeed that is the behavior of your program
Ergo any account data must be a result of some set of transactions + data in the program itself.
~~included~~ influenced
???? ID = Instruction Data, AD = Account State Data. While it is common to either put ID data wholesale into AD, it is not required that I even populate AD
AD can only be included by ID
By definition?
Where is that enforced?
Because the on-chain program cannot see those transactions.
Right but that is only as good as the last tx for that account... you have to do a lot of tx searching to understand what 'state' may be current/revoked/modified etc.
I'm really sorry I need to go now but I will continue the discussion if you are available later (I know it's strange)
yes I understand that
The only reason this won't work is because a program can't read historical transactions.
You could check the signer on a tx.
Yes, but there always must exist a mapping from ID -> AD
How else would you identify who 'owns' the instruction data without an account?
Often times, the instruction data is not 1:1 with what is stored in the account so on a program by program basis you can't assume ID == AD
Maybe I understand bad what you said
so the users needs to pay their storage, but if I can see the instructions data on an explorer I don't understand why I'm forced to create these accounts
Currently I create account an account for each user with the sequence of numbers he wants to store
yes I know that, but the thing I don't understand is the fact that I can see the instruction data given to the program into an explorer like https://explorer.solana.com
A program can only see the current tx.
Oh that's because you can't retrieve transaction data from a program.
and here I am
So I said myself, why should I pay to store data if I can retrieve it by this way
OK, that makes sense.
I have followed a little tutorial and made a solana program in order to store a sequence of numbers, and when I look the transaction of the test in an explorer, I see the instructions I gave into the test
What are you trying to do?
`4Nd1mBQtrMJVYVfKf2PJy9NZUZdTAsp7D4xWLs4gDB4T` is not a program.
Sorry?
Hi ! I have a theoretical question, since we can see the instructions sent to a solana program in a solana explorer, could it be useful to not store some data (for example if I just want to store the intructions data) ?
Ok, thanks

I tried exactly this example: curl http://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d ' {"jsonrpc":"2.0", "id":1, "method":"getProgramAccounts", "params":["4Nd1mBQtrMJVYVfKf2PJy9NZUZdTAsp7D4xWLs4gDB4T"]} '

And got this response: {"jsonrpc":"2.0","result":[],"id":1}

Are the results empty or is something wrong with the format?
Yes.

I tried running a curl request from the documentation.

Is it correct, that I have to change localhost:8899 to http://api.mainnet-beta.solana.com ?
Im also using the same rust version
<@!838900146959810642> I've been wondering about the difference between `SlotStatus::Rooted` and `CommitmentLevel::Finalized`. Is there a difference? From sdk/src/commitment_config.rs is sounds like `finalized` may be stronger than `rooted`? Or is this just a naming confusion?
npm run build:program-rust
(I can't reproduce the issue myself though, on Linux with Rust 1.58.1)
people in this topic say that updating Solana SDK/libraries to 1.8.2 helps
https://solhack.com/squads/course-building-solana-smart-contracts-dapps-with-james-bachini/forum/discussion/course-general-discussion/
could you try to change versions of those dependencies and try again?
https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/Cargo.toml#L18-L22
Sign error in pda. I create pda by using Keypair().generate works fine in previous version of web3
Are you using the latest version of rust?
Which command did you run?
what's the largest Dex that's built on SPL Token swap?

or would anyone have a list of dex UIs that are build on top of SPL token swap?

Hey, im new to solana dev. I was trying to run the helloworld-example repo, but was facing some errors during the rust compilation.
```typescript
const pk = new web3.PublicKey("9mkRQSS5a25cKuYPnvDQFEGA5aKHkauVHf6SmiTASvqp");
```
Hi, is it possible to derive typescript pubkey object using solana web3.js if I know the pubkey in base58 format?
the program knows who the expected signers are as defined in the program. generally there is at least a fee payer, which is also a signer, when submitting transactions, and that is generally the first account included in the transaction.  additional signers can also be sent. 
 
I would go through some tutorials, based on using native, or anchor framework, and get familiar with transactions, wallets, and signing. 
https://soldev.app/

this may also help:
https://solana.wiki/docs/solidity-guide/
https://soldev.app/library/scaffolds
Solidity give msg.signer method to smart contract, do solana program support something like msg.sender? If not, is there any way to get address of instruction signer in solana program ?
thugbirdz has one.
you can also look for a next based starter
yes
Can anyone access learn.figment.io? I can‚Äôt seem to access it
So you suggest next project and add in wallet adapter?
TBH, its not hard to make that button yourself.
About the Button error, it seems to be a packaging issue
you can fix the process error by following the instructions here: https://stackoverflow.com/questions/65018431/webpack-5-uncaught-referenceerror-process-is-not-defined
I cant say, I have tried this starter but its to bloated for my taste.
This one
https://github.com/solana-labs/dapp-scaffold/issues/120
which scaffold  are you talking about?
Ok. But if I just clone the dapp scaffold and yarn start it should work no?
CRA has an issue. Specifically CRA 5
Yeah, next works fine
Ok one of my previous projects used next... That worked fine
You can:
1- Eject and use craco
2- Wait for the fix to be merged https://github.com/facebook/create-react-app/pull/11764#issuecomment-1022328212 or 
3- Use next js
so process, Buffer and other node builtins are not present.
webpack5 stopped adding node polyfills
Cra
Yes
/node_modules/@solana/wallet-adapter-ant-design/lib/esm/WalletMultiButton.mjs Can't import the named export 'Button' from non
ok great thanks.
or webpack5?
are you using cra5?
So I get a weird error from the wallet adapter module.
`to a liquidity pool` -> if the pool already exists, you can save its public key in your program, and make the 3% transfer on each txn.
Hey @here i am making a token contract in which i have a tokenomics structure in which i am sending a 3% amount to a liquidity pool on every transaction is made so do i have to deploy a seperate contract for liqudity pool and give its contract address in my token contract or like what should i do to send this, and moreover how can i make a liqudity pool of my token with another token on solana blockchain
Has anyone ever seen this error in their dapp:
```TypeError: Cannot read properties of undefined (reading 'Transaction')```

This is occurring somewhere deep in `@project-serum/anchor/browser/index.js` and I'm not able to figure out why !
Yeah that makes sense. Thanks
üòÑ
and it's a semi-disaster
At least that's where I'm at now...trying to build programs without fully understanding Rust
Thanks
Oh okay
before diving into using it with Solana
you're going to take a bit of time understanding how it works
I recommend learning rust
I am quite confused, where there is strict equality to match the account if its owner or not. if accounts are generated in program, then how can a user call a method that can be only called by admin. I mean the user wont have the private key.
?
here accounts are provided from the API or generated in program itself
```pub fn process_instruction(
    _program_id: &Pubkey,
    accounts: &[AccountInfo],
    input: &[u8],``` <#517163444747894795>
I have one doubt
Hi
I‚Äôm new to learning solana and was reading across various blogs and this was my understanding. Am I on right path here? Is it better to get into rust and smart contracts directly or is it better to learn the RPC API first and then get into smart contracts?
Any help on this?
hello guys
I am searching for the longest while asking all the time and im still empty handed at this point.
ok im new to web3, but what do i pass into the Keypair.fromSecretKey method
i tried passing my wallet but i got a     throw new Error('bad secret key size'); error
All i always referred to is the Token program guide,in which you can only stake SOL, its madly fustrating and its like no one wants you to know or figure how to do it, searching high and low makes absolutely no sense, and all these programs and communities that they say can help give you absolutely no info or proper guidelines or even just info to follow.
Ok so i need some help understanding the idea of staking right, lets take the erc 20 chain for example . This chain has an endless amount of alt coins or tokens, SHIB,Matic etc.. of which you can stake. From what i understand from creating my own token on the solana cli is that these tokens are on teh same chain as solana but just have diff signatures (in lamen terms) and if om correct these alts on the ERC20 chain work the same.   However these alts on the ERC 20 chain are stakabel on my diff platforms be it DEFI Dapps, or whatever you feel comfortable doing. My issue here is how come it seems so easy to create these staking pools for all these alt coins on the ERC20 chain (im just going off a limb here) with me seeing many guides, but it seems as though there are no guides for SPL token.
Is the exclusive access on the tx level or ix level?
Don't think that interleaving can happen because in solana if you want to write to an account, you have to request exclusive access to it‚Äîno other tx can read or write from that account until you finish with it.
thanks, makes sense
You can read on-chain state by just fetching the account it lives in (so, not quite the same thing as a getter I guess, since you can't have the program run any getter logic, but similar idea)
hi guys, I have a programming model question: Can someone clarify if it's possible to do the equivalent of a 'getter' function in Solana without incurring fees? ie in solidity a variable stored in contract can be returned by a view only function where the node just returns the value, with no gas costs incurred to read the value. My understanding is that to do this in Solana, a client needs to pass in an account, the account needs to be populated by an on-chain program (incurring fees in lamports), then passed back to the client for it to read the account. Am i missing something here? Surely a client or dApp can read on-chain state without having to pay lamports? Is it simply a case of passing in the correct account to read state from, as opposed to creating a new account to populate with a variable?
gotcha, thank you
Yes the public endpoints have become a joke since the issues last week, I use project serum, metaplex, or the genesysgo endpoints
Can I save the intermediate result in a single PDA or I need to store the result into different PDAs for different user? My concern here is that will instructions from different txs interleaving causing  the intermediate result for the first tx ix 1 being seen by the second tx ix2 if the execution order is tx2ix1 -> tx1ix1 -> tx2ix2 -> tx1ix2?
Hi sir <@!585868308419444749> , may i ask what is the recommended way to pass result from one instruction to the second one given that I cannot fit everything into a single ix without exceeding the ix level compute budget?
Devnet is telling me I'm making too many requests but all my code appears to execute fine. Anyone familiar with this error?
And they fit in the serialized TX size limit
You can do any number of transfers as long as your compute budget allows
How many transfer instructions are allowed per transaction? If I want to send 1 SOL to 100 wallets, could I add 100 transfer instructions in a single transaction?
I want to use the dapp scaffold but this error is weird. I have used the wallet adapter before for my minting site. Something has changed?
Any help on this?
For the ComputeBudget program, can I use it to increase the ix budget if my ix is exceeding the 200k limit?
Can anyone help me figure this out? I am getting an error deploying nodejs code that uses @solana/spl-token - it seems to use a version of the "buffer-layout" without any type support. Presumably to fix this, there is a @solana/buffer-layout fork, but the @solana/spl-token program doesnt use it. Is there something more up to date somewhere?
I'm getting this error when I add solana-sdk to my dependencies in cargo.toml:  
solana-sdk: StatusCodeError: 403 - "{\"message\":\"This API returns blobs up to 1 MB in size. The requested blob is too large to fetch via the API, but you can use the Git Data API to request blobs up to 100 MB in size.\",\"errors\":[{\"resource\":\"Blob\",\"field\":\"data\",\"code\":\"too_large\"}],\"documentation_url\":\"https://docs.github.com/rest/reference/repos#get-repository-content\"}"  and I'm a bit confused in how it's asking me to install it, I'm not supposed to clone the entire solana repo, right?
How do you identify a specific NFT from all the other NFT's on the blockchain? Is this done using the NFT DNA when it is generated??
Guys am I doing something wrong here?
All i just need is way to carry out buy and sell orders either via api or python lib
I have Googled for thr past 10 hrs nothing
```python
from solana.keypair import Keypair
from solana.publickey import PublicKey
from solana.system_program import transfer, TransferParams, TransactionInstruction, AccountMeta
from solana.account import Account
from solana.transaction import Transaction
from solana.rpc.api import Client
from solana.rpc.types import TxOpts
from spl.token.client import Token
from pyserum.connection import conn
from pyserum.enums import OrderType, Side
from pyserum.market import Market
from pyserum.connection import get_live_markets, get_token_mints
import solana.system_program as sp
import time
import base58


PRIVATEKEYPHANTOM = "phantom wallet private key"

def get_keypair(private_key):
    byte_array = base58.b58decode(private_key)
    return byte_array

def perform_transaction(owner_keypair,client,market):
    order = market.place_order(
        payer=owner_keypair.public_key,
        owner=Account(owner_keypair),
        side=Side.BUY,
        order_type=OrderType.LIMIT,
        limit_price=0.5,
        max_quantity=abs(1),
        opts=TxOpts(skip_preflight=True)
    )
    print(order)

if __name__ == '__main__':
    start = time.time()
    client = Client('https://api.mainnet-beta.solana.com')
    cc = conn('https://solana-api.projectserum.com')

    owner_key_pair = get_keypair(PRIVATEKEYPHANTOM)
    owner_keys = Keypair(owner_key_pair[:32])
    market_address = PublicKey("9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT") # Address for SOL/USDC
    program_id='EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v'

    market = Market.load(cc,market_address,PublicKey(program_id))

    perform_transaction(owner_keys, client, market)
    end = time.time()
    print("Seconds required =",end-start)
```
error
``` 
    for account in resp["result"]:
KeyError: 'result'
```
A general piece of advice, if you want to ask a question (and want to know an answer), say exactly what's the problem, so that we can help you. We don't know what's your issue, only that 'you have some issues with it'.
any guide for `solana_program_test` framework / how it works, can't google any examples how to use it? It looks like it uses tokio crate. Or the only way is to study the crate + read SPL test code? Doesn't look like rocket science, but if there's any article on it, always better.
hello am having issues with pyserum
am trying to buy token via python
I would probably just create the pool with the right authority in the first place, not sure why you'd need/want to transfer authority
Do you create a pool, fill it up, then transfer authority to the program?
What's the proper order of events for an escrow type of program? Except in this case, I'm creating a swap program where the program has ownership of a pool of Y tokens, and the program burns X token from user, then sends them Y token from the pool.
<@!130415586080587777> https://github.com/solana-labs/solana/issues/22520 - Did some fooling around
fun
now I have another error
change to root instead my own user
found another way*
but anyway found it
didnt work, tried it
Don't want to sound harsh, but I'd suggest googling a bit with any error you encounter before asking. Like error above, you could see https://ostechnix.com/how-to-fix-rust-error-linker-cc-not-found-on-linux/ which you could find essential commands.
probably wsl packages being old google `sudo apt-get upgrade `and stuff
did you? üò´
<@!410651317229322240>
did anyone encountered premission error on wsl?
```
argo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
   Compiling proc-macro2 v1.0.36
   Compiling unicode-xid v0.2.2
   Compiling syn v1.0.86
   Compiling version_check v0.9.4
   Compiling typenum v1.15.0
error: could not exec the linker `cc`
  |
  = note: Permission denied (os error 13)
```
Try it next time.
It's not in parallel.
thanks again
anyway, I've been block-chaining all weekend, I'm a go pass out
too many connections in parallel can cause rate limit I think
In the sense of a deposit system
What is the proper way to listen for transactions so that they don‚Äôt fail to confirm often?
Since you are just sending the tx instead of waiting for it to confirm.
No, but it should be almost instant.
would that work in parallel
Next time try with no wait, you shouldn't need the delay.
until next time my frtiend
thank you Kartik
Thanks.
Yes, I did.
and I wanted to thank you folks
Querying the tx status is very request intensive.
sorry kartik did
i didnt ask
i apologise
people asked for update
sorry
Do not mention people like this
i did not, would that work in paralell?
what's your usual
Did you use --no-wait
im shocked tbh
its bizarre that its so slow lol
thank you for all your help

<@!585868308419444749> <@!590982495923732511> <@!867369388608061470> 
i upgraded my quicknode to the pro level (unlimited requests)_

and the fact I was delivering in big transaction requests, instead of smaller ones split by one sec in my first attempt

i think this all come down to one fact, that there are multiple request

i was able to send  3101 of 3102 tokens using the soiana CLI in < 5 mins by running blocks of  10 requests in parallel with a 1 second delay after each block of 10
but something is different now
I did this a while ago and it worked
even if I listen to the 'frozen' event, it still will not return actual blocks
I'm trying to fetch new blocks as they are finalized on the blockchain
Hey, I'm having a problem with fetching blocks
Have you found a solution for this? üôÇ
thank you
yeap i see that
oh derp
That's just what the types tell me to type
The outer `anchor_spl::token::transfer` does the transfer, the inner `anchor_spl::token::Transfer` is just a struct that describes what to do (who the from is, etc.)
```rust
        // Transfer the maker's tokens to the escrow account.
        anchor_spl::token::transfer(
            CpiContext::new(
                ctx.accounts.token_program.to_account_info(),
                anchor_spl::token::Transfer {
                    from: ctx.accounts.offer_makers_maker_tokens.to_account_info(),
                    to: ctx.accounts.escrowed_maker_tokens.to_account_info(),
                    // The offer_maker had to sign from the client
                    authority: ctx.accounts.offer_maker.to_account_info(),
                },
            ),
            offer_maker_amount,
        )
```
sorry could you just explain one thing <@!134416332509675520> why do you nest a transfer within cpicontext then also outside?
this is great, ty
Here's an escrow-y example that does lots of token stuff: https://github.com/cqfd/quidproquo
I would suggest looking through the `tests/` directory in the anchor repo, lots of examples there
Having an anchor category in the solana server was too much work I guess, but I'll check it out ty
https://discord.gg/FPcGD3AH
And you'd add the `anchor_spl` crate to your program's `Cargo.toml` file (not the top-level one, the one inside the `programs/your-prog/` directory)
lmao
There's an anchor discord?
Have you tried asking in the anchor discord?
It's been like that for weeks üòÑ
Maybe start with something less complex then?
I saw the existing program, but I'd rather learn how to build programs from scratch so I can do something useful on solana
There's already a token swap program in the SPL repo
Trying to learn solana/rust from existing documentation has been hell. Literally willing to pay someone 10k usd for a one-on-one to help me build a working fungible token swap program
`use anchor_spl::token::Transfer;` returns with undeclared crate error
trying to use `anchor-spl` in my program
Any rust specialists here? Cargo/anchor driving me up the wall
Most people here don't work with those applications so won't be able to provide any useful insight.
This is the wrong place for that question.
No problem.
Thank you so much.
Hmm I see. Makes sense now.
You can call the program as fast as you want, that is the whole point of solana.
Unless it exceeds the max compute units, no.
The program?
Thats for me
Lol, no ,I am just asking which application renders images the fastest,  that is all
But when I call it through client, isn't it gonna fail?
You can call your program as many times as you want.
That is on the rpc, not on calling a program.
Or the graphics stackexchange.
Sorry I doubt you will find many people with graphics experience here, you are better off asking in the blender subreddit or their official forms.
I can try to fit as much as instruction in the tx
Isnt their rate limiter something like that
Like I'm making those call to program instruction that handles reward through loop.
I didn't mean that .. but when I need to update those reward in the account state. I need to update for all 100000 of them
It is a bit complex,  that it why I wanted to know which application is the fastest in terms of rendering 10000 characters with back to back with the help of programming,  so tell me which app is the fastest,  also I have 1650 ti in my laptop
And then pack as many update instructions into one tx as you can.
Best bet is to have one pda for each account.
Through instruction in my program
Thank you fro the reply. So I had a reward system. So whenever someone borrow some money. I send certain portion of the money to the liquidy provider. And each lp has their own account. So let's say we have 100000 lp , and I wanna send them reward(like update the state that hold rewards value that they should receive)
Not the implementation, the idea.
I don't know JS. I only pretend
How complex are the graphics, what you are comfortable in, etc, etc.
Depends on you.
Hey, what is the best application to render 10k images in 3d --- blender,  maya,  cinema 4d, etc, I want serious reply on this
<@!585868308419444749> 
Also, was working on this and would appreciate your feedback.
https://github.com/solana-labs/solana/pull/22818
one more test on quicknode pro server
Please update us too.
Can you please explain what you are trying to do?
i'm a test
this looks good
It installs with the cli.
It's a separate tool
No it isn't
Thought there was some js thing that people liked
That is part of the cli you know.
No idea
Thanks.
Oh interesting.
anyways i am not responsible if ur money is stolen i have no idea what these are
Which inevitably expires till you send out the txs
Fetches the blockhash at the _beginning_ of enumerating accounts.
oh its this one sorry
https://github.com/neerajajaja/SPLdrop
Garbage.
solana-tokens?
I said with web3.js
I swear there's been an airdrop tool since like a week after SPL Token launched
Hey, what is the best application to render 10k images in 3d --- blender,  maya,  cinema 4d, etc, I want serious reply on this
Hi, So let's say I have to call a program instruction 100000th times with different parameter from my client, where it updated the different accounts. How would I handle something like this. Some hint would work? Thank you
i think idk. i never used
https://github.com/theskeletoncrew/air-support
Of course not in web3.js.  That's not the place for it
Most of them use the cli tools.
Not with web3.js, no.
Isn't there already some airdrop tool that does this stuff?
You have to create the accounts for the tokens too, most of them are nfts.
Querying for status is also very resource heavy.
Seems low.  I'd be surprised if you couldn't fit more
Are you using no-wait?
Ah for that.
it worked the other day though
that's what I did wrong
you know when you write a quick dirty script
You can pack 3-4 transfer instructions into one tx.
Not at all.
i thought it was overkill for sending tokens
_At least_ four, if you're assuming one call
i love web3
web3 is great
Using web3.js is not so bad.
What are you trying to do?
I'm off by a factor of four
that'll be the issue
ah fuck man
So easily 3-4 requests on each call.
It will query for balance, make checks and run a simulation.
i know
That is massively inefficient.
yeh
Are you using the cli?
i have no idea
wtf am I doing wrong?
really confused as to how you are struggling with quicknode
2000 send transactions is not a lot
Like 1k parallel tx, wait for them to finish, x10
IIRC 1k at a time.
if it works
No in parallel.
fuck but hey
so slow
One connection object.
Sorry?
one connection at a time?
It's open source, go look at the code and see how many times it makes requests through the `rpc_client`
I have spammed 10k requests back to back on genesysgo, no issues.
If nasdaq couldnt get rid of bots i dont think anyone can
but until then I struggle to make legit bulk requests in a timely manner
hello humans!
goodbye bad actors
but watch my space
private for now
?
i have great solution incoming to our botting issues
neverending cycle of fighting bots
They say they don't, can you double check you were using the right url?
they change when a bot abuses them sorry
but man is it hard to find out exactly what they are
everyone has limits it seems
Nice to see you too üëã
Really ?!
nice to see you Katrik
they limited me the other day haha
https://ssc-dao.genesysgo.net/
And is free to boot.
Genesysgo has almost no limits.
i'm using the solana CLI
The client likely needs to make one or more requests to construct the transaction and another to submit it.  But all of this stuff is implementation details that I'm not going to speculate on
There aren't "requests" in a transaction
is there any good documentation on how to run tests with `anchor`?
I only queried the API once for that tx if that is just it?
do you happen to know how many requests are in this transaction? 
https://explorer.solana.com/tx/2jNPE45hNpQVBsUiL6VbRNq3qb5N2Pxe9JMpMV7AT1ztmLJXSSKV7Txdj8u4GnqDh3Vjj2h1zCeAJNgHtdaz4adK
good advice
thanks
Rule of thumb is don't launch/airdrop on the public nodes.  You will be banned without remorse
Requests don't all count the same.  You need to ask your RPC provider all of this stuff
I have no idea what your code looks like
because I"m likely creating an account for my recipient and funding it. too
very helpful thank you, so is sending tokens to a new account classes as one request or more?
The foundation's public infra is rate limited as per https://api.mainnet-beta.solana.com/ratelimits
Hi all - something I must be doing wrong - how do some sites get metadata so fast? I have GetProgramAccounts with the Metaplex Program Id working - I can deserialize, etc... but it is beyond slow. How do some sites manage to retrieve metadata so quickly? Do they have some sort of caching?
You're not looking for TPS.  This has nothing to do with TPS.  You want RPS
btw I'm sending tokens to new accounts, is that 1 transaction or 2?
i need reliable numbers of makeable TPS
do you have to know the limits of any public nodes?
they have no mention of their TPS
This has nothing to do with being "bulletproof"
good idea
You should consult Quicknode's support.  Perhaps you simply purchased the wrong tier
will pay anything at this moment
who provides a bulletproof node?
i have, I use quicknode and I'm still hitting limits
k
You should ask the Metaplex Discord
given an NFT account, how do you get the metadata account for that NFT account?
Obviously the explorer displays the metadata tab, but is it possible to find out from Rust?
You're talking about RPC rate limits, which are completely dependent on the RPC service.  If they're unsatisfactory for your use-case, you should obtain private RPC access
is it a constant cause my tests fail only sometimes
what is the real TPS allowed by one user?
losing my mind, keep getting rate limited
i've been trying to airdrop 3102 tokens to 2000 or so wallets all day
can someone talk me though the rate timits?
nm, think this might do what i want: https://github.com/solana-labs/solana-web3.js/blob/master/src/connection.ts#L2934
nice! wish you the best
given a stake account address, how can I get all the "rewards" transactions (1 per epoch I imagine) for the stake account?
everything works fine, lets try to build üôÇ
<@!410651317229322240> thank god reinstall ubuntu worked
I tried with wallet adapter example and got the same issue
Seems like the wallet adapter code diesnt work on the dapp scaffold
Can anyone guide me on this issue? https://github.com/solana-labs/dapp-scaffold/issues/120
i used the wrong function... thanks for your help anyway
Ah no issues.
Please go though the solana cookbook, it explains this in detail.
was due to npm version in WSL. Apology for such a trivial issue
what do you mean?
Tokenkeg is the program id of the spl token program.
Token mint is the mint address of the token.
Not if you are creating it on the behalf of someone else.
Hey guys, trying to getTokenAccountsByOwner but i'm getting this:

```Invalid param: Token mint could not be unpacked```

Am i doing it wrong?
```let tokens = await solConn.getTokenAccountsByOwner(new PublicKey(wallet), { 'mint': new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA") }, 'finalized');```
as i understand it: because the address acount is not yet "belongs" to me i need it's signature too
it assigning the "signer" of the "address" account to true

yup. this the one that sent me the error


///////////////////////////////////////////////////////////////////////////////////////////////

i have!
check if you have enough SOL
Can I for example, give authority over a token account to my program and use `invoke` to burn/send them?
whats the difference between `invoke` vs `invoke_signed`?
Anyone know why phantom wallet is unable to fetch balance changes
`Error: Deploying program failed: Error processing Instruction 0: custom program error: 0x0`
<@!788215642070581289> <@!785084693023424542> any suggestions guys?
the error's changed and giving me this one now, i had done nothing with the ports as of yet
Hmm check if your ports between 8000-10000 are blocked.
On the devnet it keeps saying Invalid BlockHash
Hmm might be the radyium bots?
b) Unless you are running a local validator, run `solana config set -u m`
a) don't use that keypair anywhere now.
alright, thanks.
`Error: RPC error: ClientError { request: Some(GetClusterNodes), kind: Reqwest(reqwest::Error { kind: Decode, source: TimedOut }) }`
Got this error while trying to deploy to the mainnet
Candy Machine v2
For an example, see cmv2
You can use the recent blockhash I think, but it will be fully visible to the client.
can someone pleaseee  help with this localhost issue....stuck on it for a while
hi guys, what's a random value i could potentially get during smart contract execution that i could use as a seed?
Alright thank you <@814228493302497301> <@590982495923732511>
does solana have any api's on nfts like OpenSea 

DOC: https://docs.opensea.io/reference/api-overview
API: https://api.opensea.io/api/v1/assets
You would need client interaction to move the asset.
Client interaction
So I wanna make a time lock contract in which the contract automatically releases the locked asset after x period of time! Is it possible or would it need client interaction for that to occur?
maybe make an array of them
you can use the Pubkey struct to store them, first serialise the data, send them to the solana program, deserialise it and then store it as Pubkey struct 

here check this 
https://docs.rs/solana-program/latest/solana_program/pubkey/struct.Pubkey.html
Thank you, it worked. 
Also sorry for posting screenshots will keep in mind from next time.
https://github.com/samuelvanderwaal/metaboss/blob/3ec5b418253d891065d8462bfac0deba5dc2f4c9/src/burn.rs
Try `sudo apt-get install libudev-dev`.
Also let's try to not post screenshots, use text instead please
ok I will be ... thanks
Hey everyone, I have just started learning solana and rust, I am trying to install spl-token-cli but this error occurs, I am unable to resolve it.
Vec<PubKey>
How to save list of pubkey at solana smart contract ? Please help me
https://metaboss.rs/burn
How to save list of pubkey at solana smart contract ? Please help me
No. The only people who can help you are on that repository.  You need to be patient
on client or in a program?
How can I make the phantom wallet transaction show balance changes
can any one guide me to implement burn function for nft in rust
you have to pass all the data in.  you cannot make network calls.  you pass in the accounts in question, or the data needed. and when iterating on the accounts in the program you can access the data in those accounts.   you can also choose to store a btree, or some other data type in an account as storage, as on chain like storage.
Bump! Have yet to get to the solution
I know CPI and I'm using it, so then do I have to call CPI to get all data accounts?
Perhaps use of Program Derived Accounts may help you here: https://docs.solana.com/developing/programming-model/calling-between-programs#program-derived-addresses
Others in this channel are more familiar than I on this
Hi <@!585868308419444749> is there anyone who can help me out with this ? .. I already opened an issue but maybe is something I am doing wrong
but if it is impossible to fetch all data accounts by program ID in the rust program, then I think I have to fetch all data account first in the ts part and then I give all data accounts to the program so that program can calculate it...
if some data account's variable is "key1": "A", then I want to add up all account's key2.
like if there's a data account {key1: A, key2: 1}, {key1: A, key2: 2}, {key1: B, key2: 3}, {key1: A, key2: 2},
I want to make data structure like {A: 5, B: 3} in the solana program (just like reduce in typescript)
What is the use case?
Is that a only way to do?
like, I have to check all the data accounts which is owned by specific program. Then do I have to retrieve all data accounts in the ts side and give all that data accounts to the program?
if you have a small number of data accounts, you could pass them all in the instruction
no, it's not possible inside of the program. you can only access the data from accounts that you pass into the instruction
If you are looking to get the data stored in a program account, then include that PubKey in the AccountMeta of the instruction
You can not 'retrieve' anything other than via sysvars: https://docs.solana.com/developing/runtime-facilities/sysvars
The accounts you provide on the transaction is where your program gets access to their AccountInfo
eg":
```rust
/// Set a well know field on the account
pub fn set_u64_value(
    rpc_client: &RpcClient,
    wallet_signer: &dyn Signer,
    account_pair: &dyn Signer,
    value: u64,
    cc: CommitmentConfig,
) -> Result<Account, Box<dyn std::error::Error>> {
    let accounts = &[AccountMeta::new(account_pair.pubkey(), false)];

    let instruction = Instruction::new_with_borsh(
        PROG_KEY,
        &VersionProgramInstruction::SetU64Value(value),
        accounts.to_vec(),
    );
    submit_transaction(rpc_client, wallet_signer, instruction, cc)?;

    Ok(rpc_client
        .get_account_with_commitment(&account_pair.pubkey(), cc)
        .map_err(|err| format!("error: getting account after initialization: {}", err))
        .unwrap()
        .value
        .unwrap())
}
```
(Not in the ts side)
Is there any way to retrieve all program accounts by program ID in the solana program? I have to get all data accounts by solana program ID.
Aye
Oh, then it's just for the rust-backend, not for solana program?
Not a Rust Solana Program
That is for a Rust client that sends transactions (primarily)
IO = nondeterminstic (has side-effects) outcomes
Then what's solana-client stands for? I wonder
No
So there's no way to call json RPC request in the solana program?
just like solana/web3
Depends on what you mean by 'data'. You can't call any external IO
like, is there any crate for solana in rust?
There are other sysvars, perhaps they have what you seek?: https://docs.solana.com/developing/runtime-facilities/sysvars
Thanks for the reply, but is there any way to retrieve data in the solana program?
i did, but unlike clock, i couldn't figure out what the direct way to get the slot
You could just use the web3 API: https://docs.solana.com/developing/clients/javascript-reference
Got it thanks.
execuse me, but How can I send json RPC API in rust using solana-client? is there any working example? or do I have to make my own web request?
In your program, at some point in time you will 'close' or 'limit reached' piece of code that does whatever housekeeping to finalize. Wouldn't it be there you process the wait-list?
have you tried looking through existing contracts in the solana program library?
alright thanks, i've been trying to figure it out for some time now. spent all day coming back to it
sorry not able to understand fully. Can you elaborate  - 'close' type instruction that then does the arbitration on the waitlist ?
https://docs.solana.com/developing/clients/jsonrpc-api
any of these can be done within a program although i don't personally have examples of this in practice
No idea sorry, I'm still new to Solana haha
Merci beaucoup
<@!234911590418350080> is there a way to get the current slot/block info in a contract
Took me a while to figure out pdas, if you're still confused, I'd recommend skipping to all the parts that mention pda in this article https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/
Hello,
If I want to use solana-client, then what should I install for it? if I only type solana-client in Cargo.toml, it emits error like this:
```
no method named `as_sock` found for reference `&UdpBuilder` in the current scope
cannot find value `SOL_SOCKET` in this scope
```
golden. Thanks.
But `program_id + seeds + bump_seed` forms the entire *seed* for the hash function
Wait no the bump is just the `bump_seed`
I think you have to use invoke_signed.
Yep, see here https://docs.solana.com/developing/programming-model/calling-between-programs#program-derived-addresses
ok I will ask
Excellent question.
Unfortunately I don't know enough about the history of blockchains and cryptography to answer üòÖ 
Maybe ask in <#885976714646290473> ?
do you mean the bump is the entire `program_id + seeds+bump_seed` as a bytearray
The solana runtime verifies that the program id of the program issuing an instruction can produce the PDA defined by the seeds.
yeah, I am still creating the pda in this process.

and I know I need the program to sign during the creation process, or no signature is needed?
And _only_ the program can sign for the pda, no one else.
Hi guys, I'm not a dev but I decided to ask here. In a forum I read few other devs bashing Solana for being flawed and very vulnerable to DDOS attacks. Is there any counter argument to what they are saying or they are correct? They basically said this, I copy/paste: 
Random dev1: Solana is flawed in the heart of it's consensus. By pre-deciding the miners for each epoc, this allows an attacker to know which one to DDoS. I see no fix for this flaw.
Random dev2: Back in crypto's early days, such designs where the next validator can be DDOSed easily were avoided by principle, as people building back then (real cryptographers) just knew it was a dumb choice.
Random dev1: Randomness is a requirement in choosing the next miner. It cannot be preselected too far ahead or DDoS will happen.
There isn't a signature for a pda, the program signs on behalf of the pda.
added ser <@!590982495923732511>
so what is the signature used during the creation of the pda then?
Sure.
can I dm you?
Well radyium is a separate program, and you have to give more details than that.
well im trying to int with raydium , and having issues # 1transfer tokens out side of solana , other spl seems to not execute. #2 smooth order placing on rayidum
Yes the bump seed is a product of the pda generation. The bump seed starts at 255 is iteratively decremented by 1 until the `program id + seeds + bump seed` passed into the hash function returns a public key with no associated private key.
Yes, the bump is used to generate the pda.
With the python library?
Hmm can you give more details?
Perhaps an example?
With enough time and money, anything is possible. However; at the moment, while possible you ***can not ***trigger program execution in itself instead you can  generate that event from a client with a 'close' type instruction that then does the arbitration on the waitlist?
can you DM'me? David is trying to connect us üòâ
having a hard time transferring any other spl tokens outside of solana between wallets.
anyone open to dm chat about phantom int with python?
oiii
1 signature is allowed for how many instructions in a transaction?
Hi there. I'm new at blockchain apps. In my job they want do develop a NFT website with solana, connecting with Metamask. Is there possible, or we need to use another wallets like Solflare or Sollet?
hey all, what is this `bump`,

is it the `bump_seed` used to generate the pda or is it something else?
No, I mean code coverage. https://github.com/xd009642/tarpaulin . I'm wondering if someone made this work with the tests that run with test-bpf written using solana-program-test tooling.
You mean 'fuzz' testing?
Thanks for the answer! I'm actually reverse engineering the instruction's data. As such, I won't be able to handle the flow in a fixed manner, and would have to dynamically handle any edge case
partialSign and  serialize -> deserialize -> serialize not working for 3rd instruction which contains has the same signers as the previous 2 what can be the problem?
By default, the authority keypair is the one in `solana config get`. You can obviously deploy many programs so, yes, auth exists without programs however; not sure if a program can exist without auth
Hey ! I am about to release my first product ! I would like to know how you hosted your products for the front part (react app, static files), is there any difficulties to choose a hoster accepting crypto payment (regarding US law) ? I thought about Netlify or Vercel ?
(The one you run with cargo test-bpf)
Is anyone doing code coverage for programs? Did you manage somehow with tarpaulin and solana-program-test?
Gm,

Given and instruction performing a 
```UpgradeableLoaderInstruction::Close``` instruction

and,
```/// # Account references
///   0. `[writable]` The account to close, if closing a program must be the
///      ProgramData account.
///   1. `[writable]` The account to deposit the closed account's lamports.
///   2. `[signer]` The account's authority, Optional, required for
///      initialized accounts.
///   3. `[writable]` The associated Program account if the account to close
///      is a ProgramData account.```

Is it correct to infer that the accounts involved in this instruction will always have a size of 4? Since (3) is there.

A deeper study would show you this:
```/// Returns the instructions required to close program, buffer, or uninitialized account
pub fn close_any(
    close_address: &Pubkey,
    recipient_address: &Pubkey,
    authority_address: Option<&Pubkey>,
    program_address: Option<&Pubkey>,
) -> Instruction {
    let mut metas = vec![
        AccountMeta::new(*close_address, false),
        AccountMeta::new(*recipient_address, false),
    ];
    if let Some(authority_address) = authority_address {
        metas.push(AccountMeta::new_readonly(*authority_address, true));
    }
    if let Some(program_address) = program_address {
        metas.push(AccountMeta::new(*program_address, false));
    }
    Instruction::new_with_bincode(id(), &UpgradeableLoaderInstruction::Close, metas)
}```

Auth and program address are generally optional, just like how the comments explained. Judging from the grammar of the documentation, wouldn't it be right to imply that auth can exist without program, and vice versa?

Wouldn't it be difficult to ascertain the result of the instruction if the size of the accounts involved = 3? Since 3 would have 2 edge cases
1. The account's authority is there, but the Closure only involves the ProgramData account
2. The program is closed without an account authority, leaving index (3) to become (2) instead. 

Or am I interpreting this wrongly? Couldn't find a test case in bpf_loader_upgradable.rs
https://discord.com/channels/428295358100013066/694949720644124762/927906630098636820
There is a function on the `ComputeMeter` which the log calls: https://github.com/solana-labs/solana/blob/73e6038986d6fff6efced6378cfcd57cb34c220c/program-runtime/src/invoke_context.rs#L81
But I don't see that being exposed anywhere, but other core devs may indicate if/when
Is there a proposal for that?
Dammit that would have been very useful.
https://tenor.com/view/so-close-gif-20281780
`sol_log_compute_units` -> Writes to log, does not return a 'value'
Really?
Wait what?
You can not 'check' how many units you have left during execution for branch logic, it only spews to the log...
Or keep a healthy margin before you save state, but that's slightly less efficient.
Hmm I would recommend checking the remaining compute units directly, since some data might take longer to process.
<@!907214386794483744> You could also unit 'test' where the maximum consumption may fall. If you use `ProgramTest` there is a `set_compute_max_units` function before running your program instruction: 
```rust
/// Override the default maximum compute units
    pub fn set_compute_max_units(&mut self, compute_max_units: u64) {
        self.compute_max_units = Some(compute_max_units);
    }
```
They are open source so feel free to open a PR.
Hmm or maybe add this note to the docs?
some polite feedback: skipPreflight might be better named as runSimulationMode (or something) to make it a bit clearer.. but do understand legacy and time constraints etc.
ok, thanks!
In the rpc I mean.
Yes, simulation and real transactions have two different endpoints.
ah, so if I simulate then it never gets sent ?
Preflight transactions are purely for the benefit of the client, if you do skip preflight then the transaction is immediately sent to the cluster to run.
I think there is a proposal to increase the compute budget, but for now you can use a temp account as your "stack" and stash the current calculation state when you are running out of compute units, then have the user issue a new transaction where you can pick up where you left off.
or have docs for it ?
hi, does anyone know this pls ?
sorry for my bad english
okay, but so I need to know in advance the size of the storage, so I can't list every interaction but like you said only the last for a known amount of interactions
okay thank you very much !
<https://solanacookbook.com/recipes/accounts.html#program-derived-address>
oh I think I understood
Thank you very much for your answer, but what does mean PDA ?
you can create a PDA account for an address that lists the most recent interaction (or other data) to prevent duplicate entries
Hello again, I don't find any answer to my question so I ask it again in case somebody hasn't seen it :
I try to do an anchoring smart contract, actually I have already done it, but I also would like it to be impossible for the same wallet to put the same data twice, so my question is the following: is it possible to list the smart contract accounts of a wallet within this smart contract?
If I could list the previous interactions of a wallet with my smart contract I could prevent this wallet to anchor twice the same data...
Well, they tagged the `realloc` as "1.10.0" and 1.9.2 is the current so.... ? It would be a good practice, in light of the arrival of said feature, to put my variable length constructs at the end of the data versus nestled in-between fixed ones.
what's the timeline of the scaling feature?
You could look at it that way. Point being, there are 'scaling' features coming that will allow you to only 'pre-allocate' what you need and let the program increase/decrease storage on the chain (i.e. in the execution of your program)
Well, each value in the map is an array of addresses which is not a fixed size. The map itself is going to grow constantly so it wouldn't be wise to pre-allocate. My idea was just to make a new contract representing an item in the values array and with a field in it that has the value of the map key.
Minimum rent from `solana rent 0`:
```bash
solana rent 0
Rent per byte-year: 0.00000348 SOL
Rent per epoch: 0.000002439 SOL
Rent-exempt minimum: 0.00089088 SOL
```
right now it's like 890880 lamports per new account + 6960 lamports per byte, so ideally you want to come up with a way to reduce the total number of accounts needed
While (at the moment) when you define the storage for an account it is a fixed sized, however if you plan for the max size of the map you can add until the overall capacity of your account is filled. You can pre-allocate up to 10mb.
There is a 're-alloc' capability/feature coming soon so you will be able to increase/decrease the account data size dynamically. Of course the rent on the account storage will reflect (+/-) what you do there. https://github.com/solana-labs/solana/tree/master/programs/bpf/rust/realloc_invoke
However; there is always this caveat (regarding the size): To serialize/deserialize takes compute budget which may be exceeded if your map is really big. But, also, a feature is coming to allow you to 'buy' more compute units so....
if you know the maximum size of your data, you can allocate that and use it as necessary. if it's growing indefinitely, you're going to need to come up with another structure. the optimal one really depends on what data you have and how you want to use it
My problem is that in Solana each contracts has to be a fixed size but I want to be able to dynamically add items to the map. That's why I was asking if the only way to do it is to have separate Solana accounts for each item of the map.
If you need to store an associative structure (map) in your program's account data you can use  Rust's `BTreeMap`
Ahh the golden question; if only people here were paid to put forward a solution they may speak up.
Hey, When running `solana-test-validator`, are there certain instructions or transactions where the `fees = 0` ? The transaction is properly signed as well so it seems logical that there would be at the very least `LAMPORTS_PER_SIGNATURE` charged as fees.
Solana has a different account model. Not sure what stored in your map, but I think you should take a look here first https://docs.solana.com/developing/programming-model/accounts
https://tenor.com/view/it-is-maam-its-maam-please-wait-here-gif-13191169
<:needful:845333986736865280>
maam
Oh
not a sir
You are doing gods work sir!
<https://solanacookbook.com/recipes/nfts.html#get-the-owner-of-an-nft>
what's the alternative if the solana docs are unsafe ?
I'm migrating a contract from Ethereum in which I have a map. Is the only way to recreate that in Solana to create a new account with a struct containing a single item for each item in the map or is there a better way of doing this?
From the sounds of it in this channel you really need to hire some actual developers and security engineers and stop relying on the oddball Discord com member to produce code
rofl that's a horrible idea... has no one here heard of a json injection?
Maybe in like 5 years from now if SOL is still around they will have developed software that keeps up with their intial ideas but as it stands right now someone can just spam low cost transactions into the network and cause a denial of service aka a DoS
Makes 0 sense
If it can't even handle just normal transactions on its network from people spamming them why would it be able to process large computation load on chain?
ü§£ no that's something that will only work with thoroughly developed softwares to handle it - SOL's still too fresh
Hi everyone, I have a question about simulated transactions please: if I submit a transaction with skipPreFlight == FALSE - if the simulation is succesful when is the actual transaction run ? is it immediately committed ? or is it enqued to the back of some transaction queue please ?
stupid question but increased usage of the compute budget does not mean increased transaction costs on solana right?
How can I get holders of an NFT mint address?
Hi ! I try to do an anchoring smart contract, actually I have already done it, but I also would like it to be impossible for the same wallet to put the same data twice, so my question is the following: is it possible to list the smart contract accounts of a wallet within this smart contract?
If I could list the previous interactions of a wallet with my smart contract I could prevent this wallet to anchor twice the same data...
Hi guys! I am a new developer on solana and i want run a zk-snark algorithm on solana. But I got a "comput units consumed" error because of curve multiply computation. So I wanna to know is solana have some multiply optimization instructions or compute intensive program support?
Thanks. that makes sense! Would be great to find that info in the doc.
the accounts are returned in the same order as the pubkeys you specified, so you should already have a list of pubkeys. that's why the vector returns `Option<Account>`, if an account does not exist, it will have an `Option::None` placeholder at that index
figured it out, was using wrong code, but pheww, got things right! Thanks for the help
HI! In Rust `get_multiple_accounts` returns `Vec<Option<Account>>`. In my understanding the `Account` object does not contain the public key of the account it belongs to. How can I retrieve that to know which account data belongs to which Pubkey?
https://docs.rs/solana-sdk/1.7.4/solana_sdk/account/struct.Account.html
The `owner` field is defined as: the program that owns this account. If executable, the program that loads this account.
that looks like you're trying to allocate a token account for the recipient when one already exists. you only need to allocate it the first time
hi guys, so i was writing a code to transfer spl tokens from one account to another, so during the first transaction i was able to send it successfully, but when i send it another time, it is throwing error something like this, can somone help me with this
I'm new to Solana, but I think you'd have to delete the account containing your program and redeploy your program to a new account. A better question is why do you want to do that? If it's just to update your existing program, then running `solana deploy PATH` will automatically overwrite the program.
Can i change the account in which my program is deployed
if anybody managed to get the air support tool working on a linux system hit me up
ok thanks
There's no support for that repository here. Open an issue in that repo
Hi there .. I am trying to update a token coingecko id by doing a pull request to solana token list and I am getting this error: `failed to normalize: failed to parse JSON: json: unknown field "coingeckoId"` .. I have tried a lot of times in many different ways and every time I get this .. please need somebody to help me.
1. a pda is calculated by seed + program id, so basically your program has a lots of PDA but just haven't initialized
2. not sure what's you want to get.
if you just need the pubkey, you can calculate it by seed + program id without any query.
if you want the data which stored in PDA, you need to use https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo or https://docs.solana.com/developing/clients/jsonrpc-api#getmultipleaccounts and as you say, you have to prepare a list of public key
If my program hypothetically had thousands of PDAs, is there a way to query them client side without fetching them all into a massive array and borsh deserializing all of them and then searching?
Thanks that helps alot
after you fetching `getSignaturesForAdress`, you got a list of txhash
you can use https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction to get the detail of tx.
What‚Äôs tx history
Contracts can't send transactions, period.  There's no network connection to broadcast them over.  They _can_ however issue instructions directly.  you need to read about cross program invocation
Would the private keys not be exposed in the smart contract?
How would a contract send a transaction if it needs the private keys to sign it?
thanks for that
gotcha
Or when you want to allocate some actual space
As long as it's enough lamports to not get immediately rent collected, it will just happily stay there being owned by the system program
is it just when you need to assign an account to another program?
No actually (interestingly)‚Äîyou can just send some lamports to an address without any need to explicitly create an account there
sorry to keep going on about this, but does that mean the `solana airdrop` command issues a `createAccount` instruction behind the scenes (if the account doesn't already exist)?
Thank you that‚Äôs exactly what I needed
if you have the public key, you can use 
https://docs.solana.com/developing/clients/jsonrpc-api#getbalance for sol balance
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress for tx history
dollar and thunder icons in the app
How can I check transaction history/balance of phantom wallet
makes sense now
ahhh that's where the `unpack_unchecked` function comes in
Hi, I was told of a solana/jump hosted workshop next month? how can I sign up as my firm is interested in building on the ecosystem
An empty/uninitialized account sort just *is* what an empty account is (though in web3.js fetching it will return null)
ahh right
They're almost not accounts at all‚Äîwhat I mean is that if you pass in a fresh address, no account there, it'll still show up in your program as an AccountInfo (just an empty one w/out any lamports)
Yeah but accounts (even uninitialized ones owned by system program) with zero lamports will eventually get purged no?
ye
No need to create an account at all, it's just an ed25519 keypair
hmm
No, keygen just makes a keypair
so I think what happened in <@!381686849774682112>'s case was the `solana-keygen new` issues a `createAccount` instruction behind the scenes, but the account got purged quickly because the rent isn't collected all at once at the start of every epoch, but evenly throughout
It'll go back to the uninitialized state right after the tx
To see this effect you'd have to try to allocate some space/assign ownership to some non-system program program
You can *always* fetch an address in solana‚Äîit'll just be in an empty state (zero lamports, no data, owned by the system program)
In what way? Does it have any data?
I mean I can still check its balance
but the account still exists
the transaction which contained the `createAccount` instruction
Right.
I'm pretty sure the transaction was completed pretty much instantly
It will live within the tx an then get rent garbage-collected
The one you used to create it
which tx?
Transaction
The way you close an account is by draining its lamports
What tx?
It'll get collected at the end of the same tx üôÇ
‚ù§Ô∏è for recommending the `solana-react-quickstart` 10/10 for simplicity and to the pointness, that's me now spamming devnet _sorrynotsorry_
Well I managed to create an account with 0 lamports haha, let's see how long it lives
Also I thought every account was the same? What are the different types? Executable?
<@!785084693023424542> how do you get promoted to contibutor/community support
Right, so does the `solana airdrop` command issue a `createAccount` instruction behind the scenes if the account doesn't exist yet?
generally some lamports may be needed for initial creation of any account type, and if the balance of lamports supplied is not enough or 0 it would fail or not be around long if not properly funded.
does it just fail
What happens if you issue a createAccount instruction with 0 lamports?
once funded, this type of account should be rent exempt, meaning enough rent has been paid and it will not just deduct rent and go away, same with a token account.
ah okay
the account need to be created and funded before it exists on chain. if you just create a keypair/wallet locally it is not yet on any chain so the account would not exist.
you're still a god though
Yeah I'm not sure haha
hold on, ill read the doc lol
And, I didn't do any transactions. Thus no rent
Essentially, this part probably doesnt matter in this case, cuz i just made the account a few mins ago
s
all i did wa
But, i only just generated a keypair? So the case of rent per epoch is irrelevant. How would rent have made the account invalid if I didnt do any transactions to the newly made account
Also when a transaction is executed referencing an account, rent is collected from that account at that time
ohh
So every epoch (~2 days) all accounts on the blockchain are scanned and rent is collected from them.
If the account has a balance < rent due when rent is collected
ah okay
Deleted from the blockchain
i dont really understand what purged means
so if it has a balance of 0, the account is dropped?
https://docs.solana.com/implemented-proposals/rent#timings-of-collecting-rent
ah right so if it's time to collect rent, and the account has 0 lamports in it, then it will get purged
I could be wrong though
Hmm I think an account can still exist with a SOL balance of 0
Error: failed to send transaction: io error: failed to fill whole buffer
    at tj.sendEncodedTransaction (_app-61eb92a2e2ae8f66.js:1)
    at async tj.sendRawTransaction (_app-61eb92a2e2ae8f66.js:1)

anyone knows why is this coming when i do transfer  web3.SystemProgram.transfer  @solana/web3.js

only coming at vercel, works fine locally
im pretty dumb
I was on devnet, for some reason when I airdropped into the address, only then was the "account not found" error gone
i would run WSL (linux for windows), but whatever installation your following likely says Mac/Linux for that command?
visual studio, windows
are you using a mac/linux command in windows?
Anyone knows how to fix this?
thx, fren! Already did this
no.  programs are executed and use 'compute' which has a budget. they dont stay running forever.
https://solana.com/ecosystem/submit-project
So you can't have something like an on-chain cron job?
original execution is triggered from a client.
Hehe yeah man, back in the day I got a simple static html web3 doodah running in a few hours with metamask, this is proving to be somewhat more complicated but I did dive straight into doing it with react
between that base template and the wallet adapter examples you should be able to get a wallet up and running connected, and see the key etc.  then try sending a transaction.
when your trying to learn and grasp many things at once it can be more challenging. 
best to try and find something that works that is as light as possible and does some of the things you want, and walk through parts and digest how some things work.
Awesome, I'll have another bash with them! Thanks for all the help! At first I was thinking the scaffolding would be pretty neat as they have built a lot of utility into it, it is pretty unwieldy and hard to understand though
i would start with the wallet adapter example in react if you want to use react.  there are also some simpler templates.:
aside from the wallet adapter this is a simple base template
https://github.com/dvcrn/solana-react-quickstart
Hah yeah, I'm not very familiar with react, this is my third delving into a project with it so im not a _complete_ noob this time, it still hurts, getting smart contracts together in rust is a breeze in comparison to setting up web stuff üòÑ
the screenshot for that page appears like a wallet is connected, but its hard to say just looking at a screenshot. its hard to tell just looking at these things. you have code outside the main page thats hosting the view being shown. 
 if your not familiar with react, and context, and 'use'.  it can be a little challenging at first but thats related to the react framework.
I'm trying to figure out if I'm doing it wrong or the scaffolding is broken fwiw, I do assume I'm being dumb but I can't figure out how üòÇ
is there a way for a program to execute every X epochs, or does a transaction have to be created by a client every X epochs?
Hello everyone! Anyone have any ideas how I may get my project verified on https://solana.com/ecosystem ?
Is there another function I need to call to activate the wallet?
(devnet fwiw :P)
Hah sorry I don;t know if im just being dumb but at this point I think the wallet is active:
this requires the wallet to actually be connected to the site/page hosting the code.  the plugin has to be active. if the wallet is connected it should have an asociated public key.  if its not, something in your code is not loading the wallet correctly.  the framework and packages make a different.    if you load up the basic react example in wallet-adapter it should demonstrate at least having the connection, and you should be able to see a public key associated
FWIW - I'm connected with phantom wallet, I can see my balance in the page.etc and the faucet works too
Now it's weird because the wallet _is_ connected, but it looks like the `wallet` will `never` have a publickey field so it's as if something doesn't match
Yeah I am thanks! Ok so I've been bouncing back and forth - I'm quite comfortable with transactions.etc themselves now and I'm sure once I can get the wallet to do something I can get that all running. For now, I stuck with using the dapp-skeletion. I create a new component like this:

```
import React, { useEffect } from "react";
import { useConnection, sendTransaction } from "../../contexts/connection";
import { useWallet } from "@solana/wallet-adapter-react"
import { SystemProgram, Transaction } from '@solana/web3.js';

export const TestView = () => {
  const connection = useConnection();
  const { wallet, publicKey } = useWallet();

  function sayHello() {
    if (!wallet || !publicKey || !connection) {
      alert('Not ready');
      return
    }

    sendTransaction(
      connection,
      wallet.adapter(),
      [
        SystemProgram.transfer({
          fromPubkey: publicKey,
          toPubkey: publicKey,
          lamports: 1
        })
      ], 
      []
    );

  }

  return (
    <button onClick={sayHello}>Default</button>
  );
};
```

Which I think should be enough to at least have a transaction which can be issued but fails

When I do this and press the button I get:

```
  241 |   awaitConfirmation = true
  242 | ) => {
  243 |   if (!wallet?.publicKey) {
> 244 |     throw new Error("Wallet is not connected");
  245 |   }
  246 | 
  247 |   let transaction = new Transaction();
```
perhaps, you might have better luck searching metalpex forum and related tools where they focus more on NFT related content. im sure someone has done something related to this already.
Ok so I get the token, and then look at its transaction. And get the mint one
most likely an nft only has so many related transactions, its probably just a matter of walking the transactions, or searching for the mint transaction.
Oh i didn't realize it was so hard. I have like 3000+ nft lot of work
that sounds like some custom tracing and investigation is needed. your trying to track down the original owner who minted an NFT. so thats different. based on age could be a little more involved. not sure exactly off hand how to do that. may have to look at transaction history.
sounds all custom.  you might look into staking and vesting contracts and rewards.  step finance github among others have some examples.  https://github.com/step-finance/step-staking
Yes, NFT. It was originally minted. But With secondary market and transfers etc. I need the wallet that minted each nft
technically supply of one could be an NFT, where mint is disabled, but for NFTs and metaplex, there are lots of tools and resources here for NFT related functions. you may have to check if a candy machine id exists or some such
https://docs.metaplex.com/community
are you referring to NFTs?  or what exactly.  the mint authority is actually the one allowed to 'mint'.
Anyone have any resources for NFT staking with custom SLP token as reward?
A spoke too soon. I was thinking the miny authority was the minter...
how is this possible?
say i fired 2 almost identical txs, 2nd one delayed for 100 ms
but somehow the 2nd one can get accepted first
Good sers. What is the best way for me to check if a token is an NFT with JS API?
Basically have to map it on the client side, yeah üò¨
Or do the error codes have to be mapped on the client side too? Seems a shame if so
E.g. right now it's saying `failed: custom program error: 0x0`, but I want it to say `failed: custom program error: InvalidInstruction'`
Is there a way to print a custom error label when interacting with the program via `@solana/web3.js`?

```
use thiserror::Error;

#[derive(Error, Debug, Copy, Clone)]
pub enum EscrowError {
    #[error("Invalid Instruction")]
    InvalidInstruction,
    #[error("Escrow account does not have enough lamports to be rent exempt")]
    NotRentExempt,
}
```
heya, trying to launch new token...looking for templates...need logic for scheduled vesting of tokens...can u point me to right place that i can reuse?
I was just curious because it sounds impossible
this is more complex, and not inherently part of anything. 
for all general purposes until any other options may come about, would plan on and best to use SOL, which is required either way to pay fees.
Golden, Thansk much
What do you mean by "converts other tokens to pay the fees"?
`Rent::get()?.minimum_balance(1500)`
Hey all, I am trying to get the minimum balance for rent exemption in a smart contract, looking at solana cookbook, I can only see the way to do it via client.

is there a way to do it given an specific `space = 1500`


I think in `sysvar::rent` is where my answer lies, but do I just have to multiply `sysvar::rent * space`
the underlying fees are paid in Solana native token, you could however setup a system that converts other tokens to pay the fees, as some may be doing.
sweet, how did you end up reading the mint auth?
Like who's earning these transaction fees? The validators. They didn't sign up to validating to earn SPL tokens, nah they want SOL ü§£
I'm new to the Solana ecosystem but I'm fairly confident the answer is no. For example, to transfer SPL tokens between accounts requires a fee, and that fee would have to be in SOL
Probably, thanks
Hey is there a way to pay transactions fees with something besides solana? i.e. pay with an SPL token?
Thank you so much. All in order
I think you have to make sure you generated the keypair for the cluster you are currently targeting
What is the RPC URL
What cluster are you targeting? Run `solana config get`
I like it, very nice
Yeah, possible to turn it off if you want to freeze a program, but the default is to be able to keep upgrading it
That is cool
No, you can redeploy/upgrade existing programs
why? thakns
it says Error: account not found
solana account <PUBKEY>
when i try to access information about my account
Im new to the CLI and I hope someone can help me with a problem
I'm using `solana config set --url http://localhost:8899` and `solana-test-validator`
shouldn't there be an error when trying to deploy a program with the same program id as an already existing program?
I seem to be able to run `solana deploy PATH` multiple times without changing anything
thanks for the info!
You need that private key the first time you deploy, since solana creates an account at that address. Once that account has been created during the first deploy though, as far as I know that private key is no longer relevant (for solana stuff anyway).
What are some common use cases for the private key?
Okay it appears to be the private key component of the program id which is the public key.
I've just ran `cargo build-bpf`, what is the purpose of the `/target/deploy/bpf_program_template-keypair.json` keypair and is it wise to use this keypair in production or should I use a personal developer keypair?
Beautiful thank you sir
here is the source code for how Solana Explorer does it:
https://explorer.solana.com/
https://github.com/solana-labs/explorer
using the jsonRPC api to get a transaction are we able to see the instructions in a readable format such as that seen in solscan ?
for example, for transaction: https://solscan.io/tx/4Zgm8yfvBmMvSMuRm5vnLoyj8HRbRZyvvFVbpQyx7fgrDSGzbK3jphcYbFcaKqmQgGL9GqMp7SB3ZjR37bNz2h1G

we are able to see the instruction containing the buy order, amount and type of purchase. However, when doing a `getTransaction` call to the JsonRPC API I only get the data: `189VEfQJy2YQhEbbTsvPQfwZjo82SsdmGegXLWcBHmcEKdsFaPRUUhe1zE1k5sFTCpzPx` and programIndex `13` I am guessing `data` is an encoded version of what solscan represents in readable format ? wondering if anyone could assist in aiding me on how to decode this info, thanks.
Thanks for the quick response
Awesome, thank you!
afaik the only way to add and have token meta data, for spl-token reflected is to have your token added to the token-list, which is being re organized and delayed. 
https://github.com/solana-labs/token-list

and it will be up to each provider to update and reflect those changes.
NFTs are different, and for that you would want to go through metaplex documentation.
Metaplex is for NFTs
there is no other way currently to add meta data for an spl-token and have it reflected in other apps, in main, that is widely adopted.  the system is being looked at.
my program is based on the metaplex  CreateMetadataAccount(CreateMetadataAccountArgs)
Hi I am trying to set the meta data for an account. The program is executing fine. But in Phantom Wallet and solscan the name is still not visible. I have the following steps
* spl-token create-token --decimals 0
* spl-token create-account tokenkey
* program to create meta data account
* spl-token mint tokeykey 1

for example on devnet
* token HA1eAvswABSAT2kFHxMDAZn3MvuUhjbXm93TpJCnzfzb
* account A27TEm296sVSDo32Ehh4kKrhGUmgVrmYJK8QYxxes58Q
* metadata account GE2jyXp8vLoxgK7DDpLqrcDJAtksxtAv2r5urGRdrHQ9

https://solscan.io/tx/5TJ4UBUtBWmhMdEwu9xpSj2ptSCN6fpHrz55idAG7X4k1SFawras1u5av8EUriDKbj6SfsP9qUgkvDx46qnidXmE?cluster=devnet

Any suggestions?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
have you tried get account info?   
const accountInfo = await connection.getAccountInfo(address); 
 // pass the address of the mint
Im using "Finding all token accounts for a specific mint" but its not what i want
How can I see the recent transactions my wallet has made/see if a specific transaction was made
Can you split that up a little please
for account creation its a system instruction and special process.  you can create your own instructions and do multiple things in them, within the program. when your starting and working from a client, you can use the prebuilt ones to accomplish tasks, like create account, and send it multiple other instructions in the same transaction. think of an instruction as a unit of work. the simpler and more straight fwd they are usually the better. you can send multiple instructions as needed.
Got it makes sense. Do you know why I'm not able to create an account and do things to it within the same instruction? Just curious and want to learn üôÇ
Whats the best lib to do this? I'm striking out getting a working prototype
you should be able to send multiple instructions,  1 to create the account, and any additional ones, to initialize, update the data or properties, within the same transaction. here is a good basic example:
https://github.com/solana-labs/solana-program-library/blob/master/record/program/tests/functional.rs#L45
ill assume based on syntax your using react.
try the wallet adapter example, since it is latest. 
here are some code snippets that have some wallet examples:
https://solanacookbook.com/recipes/basic-transactions.html#sending-sol
see if that helps clear some things up
Thank you, I will look for the documentation for that
Anyone know if its possible to create an account, then update the account's data in the same instruction? Or do those steps need to be separate instructions within one transaction?
the one who mints is the mint authority, property of the account of type token mint.
Hey! So I have a list of SPL Tokens mint address. How can I use that with the web3 to get the original minter, not the holder, but the minter. Thanks!
Hey sorry so I deleted what I had and started again there.

Working with the scaffold I was trying to make a button which calls a smart contract i.e. builds, signs and sends a transaction

I was following through the examples here to try and write the code to send the transactin:

https://github.com/solana-labs/wallet-adapter

When I try to do this:

```
export const SendOneLamportToRandomAddress: FC = () => {
    const { connection } = useConnection();
    const { publicKey, sendTransaction } = useWallet();
....
```

The first problem is that there is no `sendTransaction` in that version of `useWallet`

We can try to use `sendTransaction` from `connection`, but this expects a field `pubkey` on the wallet which doesn't seem to exist

I feel like I have a version mismatch somewhere but I can't get this running üò¶
please don't be mean
no promises
hopefully you're not trying to pull out a bunch of devnet SOL and drain the faucet for everybody else üò¨
yes we're trying to fix it
Guys How I could create a new account without existing account? ( I am trying to do it with Rust sdk)
cool, there's your answer : "request too large; req: ‚óé5, cap: ‚óé2"
```$ solana confirm -v 5TZXxZPMau2jCykGSQ9sBFNTLShqqDPyvLrPLdzscTZajZ1qcVsuZi78h8Qv5VnWC9ELnd9vk6ZsgZ
nRzXjBdJ69
RPC URL: https://api.devnet.solana.com
Default Signer Path: C:/Users/bmalk/.config/solana/id.json
Commitment: confirmed

Transaction executed in slot 105356093:
  Block Time: 2022-01-03T13:38:08-08:00
  Recent Blockhash: F1Vux4sAoLcPYqkjrYEBtPcQqT656tLw4SxXvxEANLWm
  Signature 0: 5TZXxZPMau2jCykGSQ9sBFNTLShqqDPyvLrPLdzscTZajZ1qcVsuZi78h8Qv5VnWC9ELnd9vk6ZsgZnRzXjBdJ69
  Account 0: srw- 9B5XszUGdMaxCZ7uSQhPzdks5ZQSmWxrmzCSvtJ6Ns6g (fee payer)
  Account 1: -r-x MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr
  Instruction 0
    Program:   MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr (1)
    Data: "request too large; req: ‚óé5, cap: ‚óé2"
  Status: Ok
    Fee: ‚óé0.000005
    Account 0 balance: ‚óé3886647.48209156 -> ‚óé3886647.48208656
    Account 1 balance: ‚óé0.52149888
  Log Messages:
    Program MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr invoke [1]
    Program log: Memo (len 39): "request too large; req: ‚óé5, cap: ‚óé2"
    Program MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr consumed 32814 of 200000 compute units
    Program MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr success

Confirmed
```
tldr: you got rate limited
lol
I'm not judging you
so don't judge me üòù
ok he did it not me and still could get more info
so both of you didn't read the error message that literally tells you how to get more info and instead you post here? üôÇ
hey i'm asking for a friend lol
the error message literally tells you how to get more info

hey guys, so I was trying to air drop 5 test tokens to my wallet but it says he balance is unchanged, what should i do?
nft (the token) is not equal to a program/contract, can you be a bit more clear?
if i wanted to deploy an nft collection
Depends on the size of your program, you can get a good ballpark deploying to solana-test-validator though
guys how much is it to deploy a contract on solana?
Can you post the error here?
Sorry, no idea.
Is there a more up to date version of the dapp scaffold at all? I've been trying to get up and running with it but I can't figure it out, it looks like it's out of step with docs elsewhere
Oh okay... Any idea on when would this be solved?
Yes, network is having issues.
Did anybody encounter any issues today while deploying to mainnet??
We don't control that discord
How do I verify on the anchor discord?
Sure.
Would it be alright to dm you to explain the situation further?
Instead have the backend send the transaction to the user to be signed.
Don't sign a transaction that is coming _from_ a user, because it might have malicious instructions in it.
But I would highly recommend doing this the other way round.
OK, simple enough.
In the frontend of our app we create a transaction for the client and after they sign it we send the serialized transaction to the backend - a simple web2 server used to create and send some transactions on our behalf to the same user that made the request.
Sure.
mind going into DMs instead? I posted my problem on the skeleton crew discord and you're not on it, don't see the point of going into another server
Well ping me there if you have issues.
tbh their discord is filled with people that can't read error messages and nobody ever answers at all
Can you elaborate?
Yes, but you should ask in the Metaplex discord.
Hello guys is any developer with solana/web3 library experience looking for some quick extra work? I‚Äôm looking for someone to help me with some advice regarding security and optimization of an existing application and will provide a hefty compensation. DM if you would like us to collaborate!
someone that has some experience with airdropping with air-support ?
If the transaction data is null, try getting it again.
It's a known issue, sometimes getting transaction data fails.
Correct, Chainlink VRF for Solana is still under development.
^ scam attempt, please don't click stupid links

<@456226577798135808>
anyone know how to fix this?
hey guys, I'm trying to find a mint address for USDT token on devnet. Can anyone help there?
Hi, I keep getting this error when trying to run the default docker container.
https://hub.docker.com/r/solanalabs/solana
Failed to open ledger database: UnableToSetOpenFileDescriptorLimit
Unable to increase the maximum open file descriptor limit to 500000
Is this a machine sizing issue? The CPU gets maxed out almost every time and then it fails.
Doesnt work for shit.
Can the devs fix the network?
Would anyone on here be able to create a NFT staking platform?
I thought about that to mimic, python's time.sleep just figured there would be a way to wait until all data is returned before proceeding
Hackiest way (could at least try, just to check if it works):
```.js
const sleep = ms => new Promise(awaken => setTimeout(awaken, ms));

await sleep(5000); // <-- sleep for 5 seconds
```
Is this a machine sizing issue? The CPU gets maxed out almost every time and then it fails.
Hi, I keep getting this error when trying to run the default docker container.
https://hub.docker.com/r/solanalabs/solana
Failed to open ledger database: UnableToSetOpenFileDescriptorLimit
Unable to increase the maximum open file descriptor limit to 500000
How do I do that?
You might have to specify a higher confirmation level
Try waiting longer üôÇ
It's being awaited
Maybe you haven't waited for sufficient confirmation
Hello, 

My current solana cli version is 1.7.8 
I want to upgrade it. 
To uninstall the current version should I just delete the "solana " repo in the ".config" repo ?
Is this a solana issue? Why would it not return all data from the transaction
TypeError: Cannot read properties of null (reading 'transaction')
Sometimes when getting transactions I will get this error 

```
    await connection
        .getTransaction(signature)
        .then(async (tx) => {
   
          const systemProgram = tx.transaction.message.accountKeys[2].toString();
```
using the jsonRPC api to get a transaction are we able to see the instructions in a readable format such as that seen in solscan ?
for example, for transaction: https://solscan.io/tx/4Zgm8yfvBmMvSMuRm5vnLoyj8HRbRZyvvFVbpQyx7fgrDSGzbK3jphcYbFcaKqmQgGL9GqMp7SB3ZjR37bNz2h1G

we are able to see the instruction containing the buy order, amount and type of purchase. However, when doing a `getTransaction` call to the JsonRPC API I only get the data: `189VEfQJy2YQhEbbTsvPQfwZjo82SsdmGegXLWcBHmcEKdsFaPRUUhe1zE1k5sFTCpzPx` and programIndex `13` I am guessing `data` is an encoded version of what solscan represents in readable format ? wondering if anyone could assist in aiding me on how to decode this info, thanks.
using the jsonRPC api to get a transaction are we able to see the instructions in a readable format such as that seen in solscan ?
thanks a lot
nah i don't need help minting or projects/marketplaces to deploy, just needed to make things clear
lots of resources for gathering NFT related methods.  and several new open source git repos, including metaplex (prev open sourced). and metaplex discord for candy machine and NFT focused content:
https://discord.gg/4UQepZms
https://docs.metaplex.com/
for the wallet itself that depends on the wallet, if your sourcing the supply yourself in code, for spl-tokens you canjust get the account balance of each token account,  for NFTs, that can work a little different, there are lots of NFT resources.
i think theoretically it can but it would have to be customised to support the specific setting of nfts
I don't know, why can't it? It can ü§î
wait so, why can't my wallet record that I own N tokens of some specific token
All NFTs are tokens though üòõ
got it
oh you didn't mean in context of nfts
Not all tokens are NFTs
or there can be more
but there can be only 1 token of some specific token right? since nfts
No, unfortunately there are two uses of the word "owner" when it coms to tokens lol. Forget about what I said, a token account is just a thing that records that someone owns N tokens of some specific token. So if you own both WeegeeCoins as well as CqfdCoins, you would have (at least) two token accounts.
A specific mint meaning, like CqfdCoin, or WeegeeCoin, etc.
Program derived address
Ok Guys, what acronym PDA means?)
But in general, yes, it's the most common way.
Or have another program sign for it's pda.
I mean technically you could use a keypair and have that keypair sign the transaction.
If the program has a way to write info to it, that's the only way
Here's a bunch of information on how to use PDAs. Basically they're accounts that the program can sign for and owns.
Hmmm, Could you please explain more? I am total noob.
That's PDAs
Also, I could write something into account only in program? Like I couldn't write into Account data on client side with RPC client for example?
also the token account is owned by the spl token program that means it holds no value outside of it?
wdym by specific mint
Oh, sorry, got confused which discord I was in üòõ
Under the hood when you specify that you care about an account, solana gives you an `AccountInfo` that holds the accounts data + lamports (plus other metadata)
`cargo expand` is your friend then
Yeah I saw that tutorials, but I want to use pure API to better understand what is going on)
So each token account can only hold tokens of one specific mint
A token account is a single account, owned by the spl token program, that records how many tokens of some specific mint are owned by some user/authority/whatever you want to call it
I'd suggest going through the anchor tutorials, they cover some examples of this
You "pass the account in from the client" (meaning, you tell solana that you're gonna need the account that lives at some pubkey/address)


///////////////////////////////////////////////////////////////////////////////////////////////

we're already thinking of ways to make things more discoverable
one option would be to use the search so you can type in key words and see what's available.
I regularly check the cookbook.
It gets updated sooo frequently and so many things get added.
But i will try to look through it before asking
I generated this pubkey, but I am trying to get the account info of the pubkey during the Solana_program runtime, how do I do it please:
``
            let temp_key = Pubkey::from_str("G473EkeR5gowVn8CRwTSDop3zPwaNixwp62qi7nyVf4z").unwrap();

               let temp_key_accountinfo = Accountinfo::get(temp_key); //How do I get the account info here please Thanks much
``

so I have this code. this is in a smart contract itself. I can create a client i.e. `client = Client('https://api.mainnet-beta.solana.com')`
and use it to get the account info. But I am not sure that using the client will be accepted in a solana program(smart contract).
Clients always interact with programs? Not sure if I understand your question
I had to use a client to get it, but I am not sure that I can use the client while in the solana program deployed, Can I?
kind of sounds like I need the total security, thanks
hm... this is for my games point system
https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
It depends on the security needed for the app
Confirmed is not as good as finalized
what is the downside to using "confirmed" state commitments instead of "finalized"?

does using "confirmed" open the door to bad actors? or should I not consider that?
Please look in the cookbook. Most of your questions should be answered there
Check out the `Account` section
oh, thanks. What about account info?
You can see the code you need here `let pubkey = Signer::pubkey(&wallet);`

There's a rust tab under the example
I did, I can see it in javascript there, but not for rust.

I looked at the library's code on docs.rs, but still couldn't figure it out.
Cookbook is a great resource for starting out
Check the rust full source on this example https://solanacookbook.com/recipes/keypairs-and-wallets.html#getting-keypair-from-a-secret
Hey all, I am trying to get the pubkey from the keypair class in rust, How do I do that please: 

sorry I am newby in both rust and sol:
```
            let mint_pubkey = Keypair::new();
            let keypair_pubkey = mint_pubkey.pubkey;
```
An example https://solanacookbook.com/ingredients/serialization.html#client-account-data-deserialization
If you don't know the account structure, you won't be able to decode it
Mint an NFT? https://solanacookbook.com/recipes/nfts.html#mint-an-nft
https://solanacookbook.com/recipes/token.html#get-token-balance Is how you do with js
You need the account struct
Hello everyone,
How to check the balance of SRM using command line?
who can build NFT smart contract in Solana?
Hello, @everyone.
awesome!
Here as well https://www.soldev.app/library/PLkgTdjgP1aUAiqqbvVi3b0sSdxByd5KSX
haven't really found much on youtube im ok with paying
Some good stuff here https://www.soldev.app/library/playlists
can you point me in a direction to learn about solana development in video form?
thank you for the quick responses!
That's a different type of transaction. You can measure currently by multiplying 5000 lamports by the amount of signatures required
what if I want to refund a part of a transaction to an array of wallets
Banned them
yes
Is this a scam?
Try checking cookbook for your questions. Most will be answered there
https://solanacookbook.com/recipes/nfts.html#get-the-owner-of-an-nft
How do i get the current holder of a NFT?
Not quite. Default is 10000, so you can play around with it
thank you so much, is shred_size bytes?
You can try these two ways in case you created the keypair with a different schema https://solanacookbook.com/recipes/keypairs-and-wallets.html#convert-mnemonic-to-keypair
How did you create the wallet?
You can do something like `local-test-validator --limit-ledger-size <shred_count>`
I‚Äôve lost access to our treasury wallet. Since I imported it into my Phantom wallet, I thought the Phantom recovery phrase I had would recover it but it‚Äôs not working. My main computer just crashed and it‚Äôs not turning on, and the config .json file is stuck on there. Please, help me out with any advice, I‚Äôm desperate. If I retrieve the file system .json can I retrieve the wallet?
You cannot on mainnet-beta
I have a question. I have submitted a request for my token to join the  Solana ecosystem 15 days ago: they give me a link that only me can see, and no response; no news can someone explain how that work?
when i do airdrop locally there's no balance changes. I was wondering if there's any cost to airdropping SOL in mainnet
You should be able to do a quick test on local and check balances
hello, is there a way to limit the amount of memory solana validator app uses when running a local testnet?
does anyone knows how much it costs to airdrop SOL?
gm
hi
thanks
Tends to mean the data you are sending is invalid in some way. Check what is expected and compare against that
so an address was wrong?
`invalid account data for instruction`
any idea what part could be wrong? Attempting to send an NFT

```
Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction 
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]
    Program log: Instruction: Transfer
    Program log: Error: InvalidAccountData
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1582 of 200000 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for instruction
```
bad paste üòÑ
Sounds like your transaction would have failed
failed to send transaction: Transaction simulation failed
If you want to do all that the existing token programs do but additional stuff in the onchain program, then yes. You could also submit a PR to SPL if you think the change you want to make has broader appeal
is this contributing to solana's stagnant downhill trend rn?
I'm just curious really, I'm becoming a big fan of Solana after using Ethereum for a while. How come this doesn't happen on Ethereum but happens on Solana? It must be due to the difference in design. Ethereum gets super expensive but doesn't time out AFAIK.
Interesting, so transactions were timing out.
For second question. As in the documentation says we are creating SPL tokens via command line so we are not deploying programs, we are using deployed token program. But I want to change some behaviors of token like extra check on transfer method etc. So I think I cant use custom SPL Token program right ? I have create my own program and create token from that ?
it didnt?
https://www.benzinga.com/markets/cryptocurrency/22/01/24900121/was-solana-really-brought-down-again-by-ddos-attackers-this-week
okay thanks
No, it's a local cluster where you can do everything you could do with dev/test/main-net
Primarily used for by developers in testing their programs
Hey guys, do we know why Solana went down recently?
it*
i thought i was only for looking at stuff ...
https://docs.solana.com/developing/test-validator
what does the test validator do?
Usually one forgets to run the solana-test-validator (which has to be running and it is not a daemon running and just sitting there)
1. Accounts require rent. They don't have to be funded for rent-exempt up front but you'll have to keep them funded as the epochs bleed the cost from the account
2. https://spl.solana.com/
how that happen?
for some reason now
500000000 sol
yeah
<@!381686849774682112> Anything?
Hi everyone,

We are developing NFT game and we want to use Solana custom SPL token. I'm confused in some places after read all documentations. 
1-) We will create SPL token, we we will create user accounts on the backend and we will link their account later. But I saw on the documentations we have to pay a rent for account. I want to create all of the accounts with rent-exempt, so I have to pay 2 years of fee for every account ? If yes is there any other way to do this because I will create accounts for them on the backend at the beginning and it will be very high cost on our end.
2-) We will create 2 SPL Token. For one of the tokens I just want it to be managed by admin. So only admin can transfer tokens. For example: Admin can send SPL token to account from admin account or admin can send SPL tokens back from user account to admin account. I can do this on Smart contracts with ERC20 because I am deploying smart contract and I can modify methods on demand  but because we are not deploying smart contract for creating SPL tokens on Solana how can I do that.

Sorry for long question.

Thanks for your helps.
ok, do this:
1. `solana config set -ul`
2. `solanat-test-validator`
3. In another terminal window (while the validator is running) `solana balance`
idk how it works
maybe RPC isnt used on localhost?
its jsut my localhost
everything works fine on other clusters
yes
it sets to devnet?
Try this first:
1. `solana config set -ud`
2.`solana airdrop 1`
im pretty sure this isnt related to hardware...
macbook air
no
Apple silicon
what is m1
m1?
1.9.2
latest solana
mac
im a bit confused with how RPC works
windows?macos?linux? What version Solana?
yeah i still get RPC error
With the solana-test-validator running, airdrop some sole to the account you created
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 61)
i did solana balance
no SOL
i did solana-keygen new
solana config get shows basic default localhost
im in latest solana version
Uh
Platform?
Solana version? (`solana version`)
Solana configuration (`solana config get`)
How did you create the account?
Are there SOL in the account in question?
What command did you run?
What is the error?
Please explain like i'm 5, thanks!
Why?
Im getting a RPC error because I tried to call my balance on the loccalhost cluster
thanks!!
Hi everyone! I have a quick question.  Is there any tool to create Solana token baskets? I am thinking in something similar to Tokensets for Ethereum.
https://github.com/solana-labs/solana-program-library/blob/master/token/js/examples/create_mint_and_transfer_tokens.js
How can I go from a blockhash to another one a few seconds older?
refer - https://docs.solana.com/integrations/exchange#token-transfers
Hi all, I'm looking for a way to send tokens on the Solana chain(eg. SRM, USDT etc) from one address to another using JS. Can someone pls point me to a relevant guide or boilerplate which I can use? Thanks.
Jupiter being one
But supposedly some projects are already doing what I need, I just don't know how.
Maybe consider fork/modify solana wallet adaptor? https://github.com/solana-labs/wallet-adapter
You could create a PR on solana?
<@!814228493302497301> Yeah it is related to wallets, I'm thinking how this is implemented client-side. I'm trying to find a way to make N transactions but sign/approve them all at once, not one-by-one.
The manner of how a signature is attained to sign the transaction is not mandated by Solana. Seems more like a Wallet feature question than Solana core. I would be concerned about a wallet that just signed multiple without a lot of disclosure around security no?
Hello üëã  when checking https://solscan.io/tx/654Kq9zLt6cABbxJNGUXesLvtwum8MdPg9wkfkmfAMotG6tbz9hQaPLU4Hao5XbVVUudj5zgoGJRKGUFzzPqduCK, I can see that there is some lamports transfer `Transfer from 5e31Yy...fse6AF to 4VG8vs...g8Gpuf for 0.00203928 SOL`. **However** when I query the node on this transaction I can see that `5e31Yy...fse6AF`  `pre/post Balance` has not changed and that the `2039280` cames from `JASHW5LUNKzrpZzUVJJuNYT5TbNHXKKWDSUmVojyVEdk` . **How** to figure this out without reading the `pre/post Balance` ???
Or is there a way to just Approve an N number of transactions at once?
There's no way around that?
<@!814228493302497301> I see. But for each tx that **does** require a signature, a user needs to click Approve in the wallet, right?
Both Rust and web3.js clients send 1 transaction at a time to a cluster. A transaction may or may not require a signature... there is no inherit 'batch' send of transactions.
The PDA account is capped at have a size allocation of up to 10 K: https://solanacookbook.com/core-concepts/accounts.html
ah
I think I misunderstood your question, sorry. I'm  not sure how to handle having the user sign once for multiple transactions
wait really? so if i invoke system_instruction::allocate(my_pda_key, ...) from within a program i can only allocate 10K?
I see only adding multiple instructions in a single tx
<@!756724525269254155> Where in that code does this happen?
Yeah, client side
you mean from a client standpoint? javascript client? Theres an example here in this sample code I just read through:
https://github.com/paul-schaaf/solana-escrow/blob/master/scripts/src/alice.ts
Hey. I heard it's possible to batch multiple instructions in multiple transactions while having to only approve them once with a wallet like phantom. Meaning, you don't have to click Approve for each of those transactions, but only a single approval is enough. Does anyone have any clue how to do this?
thanks !
Space is an issue for any unbounded variable length structure. Remember a program owned account can allocate up to 10 MB and a PDA up to 10 K. This is all prior to the `realloc` feature which allows dynamic growth/reduction to accounts from on chain programs. BUT... the execution units you consume to just read/write the structure to the account data state may be your limiting factor.
would space will be an issue for the list ?
Thats helpful, thanks!
oh cross program invocation, got it
Should be fine. Rust `queues` , I believe, wrap Vec. https://doc.rust-lang.org/src/alloc/collections/vec_deque/mod.rs.html#94-106
what is the CPI program?
For all 3 your are capped that what you send from a transaction standpoint, at this time, is limited to 1232 bytes. This includes instructions, data and needed accounts.
My opinion on 3 is the called CPI program is something reusable from a broader perspective (doesn't have to be, just my opinion) and there is an additional cost for invoking. Of course whatever it is you are invoking will require a subset or all of what you have in the instruction (data, accounts, etc.)
Creating a functionality where people can purchase ticket for a metaverse DJ event . So anyone can buy a ticket before the event starts. If the tickets get SOLD out then person can wait in waiting list if anyone backs out before the event kick offs the person who are in waiting list will get the ticket on the basis of FCFS so, I was thinking of implementing a queue based mechanism to do that. Is it possible ?
if i want to have a custom staking contract that would be used for staking NFTs and getting the SPL token in reward am i bound to build on Solana Staking Program or can i make my own custom one?
I'm thinking about how to design my program and i'm curious about the trade-offs between:
 1. having the client send multiple smaller transactions
 2. having the client send fewer transactions with multiple smaller instructions
 3. making transactions use cross program invocation to do lots of work, instead of breaking that work up across smaller instructions

I'm assuming that overall solana runtime / validators would prefer to work with transactions being as small as possible, and the client sending multiple small transactions when possible, using multiple instructions within single transactions when atomicity is required, and avoiding 3?
ok, thanks
Can you be more specific?
Not sure what you mean by 'wrap like Pack', could you be more specific?
Pack is a Rust Trait which , if you are not familiar, is generally like an interface in other languages. It encapsulates the reading (deserialization) and writing (serialization) of a programs account data. The actual serialization/deserialization may be `borsh`, `serde` or other... it is purely up to the program developer and therefore may not be consistent from one Solana program to the next.
Is your question about reading an account's data when using web3.js? Like after doing a `getAccountInfo`?
How can one Bridge a new utxo based coin(not evm token) to a wrapped solana token?
I see! Thank you for your response!
ahh interesting
heh that'd be nice.  But no.  This is possible for sysvars because they're always read-only and fully managed within the runtime.  Doing the same for normal accounts would be very difficult, if not impossible.  I do see the attraction though
Is there an analog for the system account info, so I can avoid passing that in as well?
yep
totally use `Rent::get()` if you can.  The only reason to use the rent sysvar in new code is if you need to CPI into another older program that expects the rent sysvar.
hey,im trynna install solana cli on windows and it says 100% installed but when i trynna check solana version i get error message that i didnt install any.Any solution?
Hi,

I'm trying to build GPU module with the following readme.
https://github.com/solana-labs/solana-perf-libs

In the readme, there is a path called SOLANA_ROOT, but what value should I set for this? Should I set it to the path where I cloned the solana project?
https://github.com/solana-labs/solana
Like is there any reason to use the rent sysvar account passed in as an argument? I see lots of the existing programs do use it, but i'm assuming that the newer way is to use the Rent::get()? so I can just ignore this rent sysvar thing?
Hi, i wonder how can i wrap data to a solana account using <@839088888449466409>/web3.js (just like solana_program::program_pack::Pack we use in rust) ?
right, just wondering if the whole "rent sysvar" being passed in is a legacy thing
or Rent::get()?.minimum_balance()   as needed
How can we implement queue mechanism ?
Upgrade contract to same address is asking the same amount with first deployment?
I'm reading this within the spl token program:
```
let rent = if rent_sysvar_account {
   Rent::from_account_info(next_account_info(account_info_iter)?)?
} else {
    Rent::get()?
};
``` 
Am I understanding right that this is a backwards compatibility thing, and new programs should just use `Rent::get()`?
ah, that make sense
why wuld i lie i didnt find this token creating error
don't lie
i have to give this to teacher in the morning üò≠üò≠
i searched whole google i didnt found nothing
<:heu:799643084089720862>
how?
did you try google
<@!788215642070581289> pls how do i modify network in ubuntu ?
it still say that ;((((
spl-token create-token
Creating token 8KTeyqnnXtscHb6ZBMgVCMh72N4v4PMaDjqp6EArYmnZ
error sending request for url (https://api.mainnet-beta.solana.com/): error trying to connect: dns error: failed to lookup address information: Temporary failure in name resolution
or you can try to reset your config by
`solana config set -um`
it will set your default connection to mainnet.

if you still got the same error, I can't help you more because it looks like a DNS error. you have to modify some network config from your side.
i followed this dude tutorial but it give me error when creating token
https://www.youtube.com/watch?v=befUVytFC80
i dont know what to do to fix it
seems you have some problem with DNS
you can take a look at https://discord.com/channels/428295358100013066/749059399875690557/890728600268079115
if you want to get an account's info, you need to pack it into instruction's account list.
no matter it is a PDA or a normal account.
<@!788215642070581289> please do you know how to fix this error?
you can take a look at `solana program deploy --help`
there is an attribute
```
--max-len <max_len>
            Maximum length of the upgradeable program [default: twice the length of the original deployed program]
```
almost 2 times
it says 7 SOL per 1mb but it seems it cost 14 SOL per 1mb in my experience.
this is my error

so this pubkey is a constant and is not passed by the user. That is why I am trying to get the account_info while in the contract, so I am not quite certain how to  get it.

I believe you are referecing sending the address as a parameter for the instructions creation,  and because this address is kind of a temporary vault(I know I should use a PDA), I am just not sure yet what the security implications of using a pda are, that Is why I was going with an account that is external of the program
you can follow the book https://solanacookbook.com/recipes/token.html#create-token
to create your token, mint and transfer ....
i want t create my own cyptocurency token but it show error here
hi can anyone help me with this
you need to pass the generated pubkey into your instruction and you can find the account in the accounts list.
like this https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L85-L99
official endpoints have rate limit. I think it is ok to use it if you won't reach the rate limit.
oh, I see. Thanks
you can use `solana rent <byte-size>` to estimate
if your account has signed the tx, the account will be treated as a `isSigned` account so it can use `invoke` to call system program for transferring SOL
the main idea between invoke and invoke_sign is that
if you need to signed a pda, use invoke_sign
if you don't need, use invoke.
can u clone this function

https://volatility.com/staking but for SOL and for BSC?
Hey all, I generated this pubkey, but I am trying to get the account info of the pubkey during the Solana_program runtime, how do I do it please:

```            let temp_key = Pubkey::from_str("G473EkeR5gowVn8CRwTSDop3zPwaNixwp62qi7nyVf4z").unwrap();

               let temp_key_accountinfo = Accountinfo::get(temp_key); //How do I get the account info here please Thanks much
```
Are you guys using api.mainnet.solana.com as your frontend node rpc or are you using your remote node url?
anybody can hit me up with a simple way to airdrop prints
Hi, How much is the gas fee for deploy the contract to mainnet? My .so file size is 383kb.
is there a generic / simple escrow program for listing a token for sale, and permitting another party to take that? sort of surprised there isn't one in the SPL
Hey all, What is the difference between `invoke` and `invoke_signed` 

I noticed with invoke you don't need to pass a signature, but how and why will the runtime let you execute a transfer from 1 account to another without a signature?
Thanks, will check it out
Is solana experiencing difficulties right now or is it just my node provider?
https://blog.chain.link/how-to-build-and-deploy-a-solana-smart-contract/ ü§î
Any good tutorials or resources on building a DAO with Anchor? Specifically, using the SPL governance lib with Anchor. Tips greatly appreciated!
Or do we need to create a new token from beginning?
Hello, is there a way we can change the token decimals?
Hello, does anyone know a way to find every NFT program on Solana (their addresses)?
could someone please link me to some solana basic app tutorial on windows, getting errors when validating, thanks
If someone asks me if the delegate for a token account has change, what exactly are they asking
tyvm
Try https://solanatools.xyz/faucet/devnet.html
cant seem to airdrop
Has devnet sol ran out?
That's all I can help with
Mango Market's has an implementation here https://github.com/blockworks-foundation/ido-pool
okay ty
For candy machine support, go to metaplex discord https://discord.gg/7EWdUHYZ
I'm trying to upload my pngs + json asset folder using candy machine cli but I keep getting this error. I tried deleting the cache folder and reuploading. The names of each png and json are 0-9 respectively

The command I am running is 
ts-node ~/metaplex/js/packages/cli/src/candy-machine-cli.ts upload ~\assets --env devnet --keypair ~/keypair.json -cp config.json
I am trying to do the same and had no luck. If i find solution will let you know
otherwise they'd be open source
they likely made this impossible to decode
and see if there is any data about the actual listing price contained in the input data
Basically what I'm trying to do is parse a Magic Eden listing transaction
I see, it will only try on native programs

You mean data? Generally you need to know the account's structure to decode it. The jsonParsed `getTransaction` method will try known structs to native programs, but not elsewhere
Maybe my library is out of date but I don't have an encoding option, for example...
that should do the trick
set jsonparsed param
https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
Trying to convert that buffer to the actual decoded instruction
In general though
https://github.com/samuelvanderwaal/metaboss/tree/main/docs
might want to check this out
if you're talking NFTs you'll have better luck in metaplex discord
I'm trying to parse a listing transaction to see if the listing price is contained anywhere
the "data" property
```
{
  accounts: [
    ...
  ],
  data: '2RD37fomjEhKyQRFKeDGU7nE',
  programId: PublicKey {
    ...
  }
}
```
anyone know how to parse the instruction data on a transaction in javascript?
any luck with creating code for buying on magic eden?
just scroll down to recipes
https://solanacookbook.com/ this has examples of doing most things in web3
Can anyone DM me and help me with a few issues I'm getting? Using Solana-web3.js
I see thanks!
There's a limit of 2 per command
trying to follow some tutorials testing on devnet, having some issues with airdroping sol.

```solana airdrop 1```
this works no problem and so does 2

```solana airdrop 3```
when I try 3 though I get this and nothing happens. 

```Requesting airdrop of 3 SOL

Signature: 2v2iUPfdj7NorgzHJB4dLS3MRwnN9kfzirqiDx31qRYa7YH3PfPiFvuzQhT9yfuFUjajPATZSXZCedZvczd4jSso

Balance unchanged
Run `solana confirm -v 2v2iUPfdj7NorgzHJB4dLS3MRwnN9kfzirqiDx31qRYa7YH3PfPiFvuzQhT9yfuFUjajPATZSXZCedZvczd4jSso` for more info```

does anyone know whats happening?
And the holders of a spl-token would be also great to know üôÇ
On solscan you can even see the past holders. So it should be possible i guess
the current holder of a NFT
like every person that holds "USDC" for example?
what do you mean?
How do i get the holder of a Token?
If a program exists in the ledger from a previous run of solana-test-validator (invoked programmatically), and I create a new version of the program and run test-validator again and indicate the new program (same PROG_ID)... will it ignore that or will it upgrade the new program in the ledger?
```rust
/// Setup the test validator with predefined properties
pub fn setup_validator() -> Result<(TestValidator, Keypair), Box<dyn error::Error>> {
    let vwallet = get_keypair(WALLET_ACCOUNT).unwrap();
    std::env::set_var("BPF_OUT_DIR", PROG_PATH);
    let mut test_validator = TestValidatorGenesis::default();
    test_validator.ledger_path(LEDGER_PATH);
    test_validator.add_program(PROG_NAME, PROG_KEY);
    load_stored(&mut test_validator);

    // solana_logger::setup_with_default("solana=error");
    let test_validator =
        test_validator.start_with_mint_address(vwallet.pubkey(), SocketAddrSpace::new(true))?;
    Ok((test_validator, vwallet))
}
```
Yeah I'll store the wallet address in the account! So it'd be easier to find when i need it!
Yes haven't been able to get my head around it!
Latter is _much_ cheaper, but more complex and may not fit all projects
Yeah you'll either need to tag the creator in the account's state, or deterministically create the account addresses via PDA and precalculate them client side
Oh no i was looking for programAccounts
Memcp filter is the one for win i think
that's actually not what you're looking for. sorry i misread
https://solanacookbook.com/recipes/token.html#get-token-account-by-owner
So I have a question, i can use the method getProgramAccounts to get all the accounts owned by my program! So is there a way to get an account that had been created by a specific wallet?
You are talking about parsing your account `data` field specifically, correct? If so, you should deserialize following your serialization. For example, it looks like, just guessing here, you may have used borsh. In which case you can use TS/JS borsh library to do so in the callback. But I know of no way that the connection object will know how to do that as it isn't configured for every possible data layout and serialization approach
thats what i was looking for
Thank you!
k.. do you know how to check why it's failing? like a log file or something
Looks like whatever it is doing it is failing
and its stuck there...
INFO  solana_local_cluster::cluster_tests] PARTITION_TEST waiting for 16 new roots.. observed: {5Tn2PpBgoEknvjJwSG9yq4pnVfmHXfe8ufGdTQs7ykDN: 1, 9k4daXSBtD6BRLVJqRQ5XDkbdkUhtUS3efukmxiJxNpo: 1, DnLAe3Ro61qZZvfCnw1sNXBz8UjstMQS9DeuVGVLJiST: 1}
[2022-01-04T18:49:45.155301762Z WARN  solana_core::replay_stage] cost_update_sender failed sending bank stats: "SendError(..)"
[2022-01-04T18:49:45.169650799Z WARN  solana_core::replay_stage] cost_update_sender failed sending bank stats: "SendError(..)"
[2022-01-04T18:49:45.170337954Z WARN  solana_core::replay_stage] bank_notification_sender failed: "SendError(..)"
Depending on what your running on and what your testing, can be a while
does anyone know?
how long does solana build's test usually take? it seems to be hanged for awhile
use this with filter by mint
https://solanacookbook.com/recipes/token.html#get-token-account-by-owner
is there an easy way to find out if someone holds a specific associated token account or do i really have to get all accounts held by someone and check if the ATA is one of them?
It's this address for a program I deployed to devnet 6za7BFdBpVEYBUn6dQRYKP6D8tZjhPAuVKyb4i4u9QTm
What account is it though?
is there anyway to have the connection emit the parsed version from that listener?
I got this from using the onAccountChange() listener on the web3 Connection object
you need to set the jsonparsed param
https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo
yeah
is this just from retrieving account info?
does anyone know how to go about doing this, or what the standard procedure for dealing with this is?
```{
  type: 'Buffer',
  data: [
      2,   0,   0,   0, 237,  2, 83,  66,  3,
     95, 105,  49, 225,  38, 64, 42,  64, 64,
    110,  18, 115,  87,  85, 77, 16, 253, 94,
    253, 115,  16, 198, 150, 79, 74, 115, 83
  ]
}```
I'm trying to decode the information in the data field field here from this Buffer to something more readable
tried...it just doesnt recognise solana there....the other terminal
the problem persists, tried testnet, mainnet everything
haha well thanks
Idfk man
because people more actively stake mainnet?
Nah
guess im lucky i met you <:xd:552575857886232576>
i have pulled the git repo, but i have also installed solana without building from source so im not sure if i should delte anything
thanks for the input
went through the same terrifying process twice üò¶
sometimes tx wouldnt process in over 60 seconds
yeah, ive encountered it but it is very rare
yes
can someone help me build from source on m1? I am not sure how to do it
does mainnet have the same problem?
Yes
is there an easy way to find out if someone holds a specific associated token account or do i really have to get all accounts held by someone and check if the ATA is one of them?
there seem to be periods of time during which devnet transactions are unlikely to succeed, is this anyone else's experience?
oh yeah you are right
is it possible to prevent the data stored in a PDA from being read?
But I guess client side would work
No
Uh
On client side?
How could I confirm that a specific wallet sent me a specific amount
Or simulate and see as well if you must on local
Depending on what you're using, you should be able to inspect through the message
how do i find out how many bytes an instruction takes up?
For example a transfer token instruction
I knew there was a limit for something with 1232kb. I thought that was the size of an instruction. I know sounds stupid but just got mixed up
Thanks and i will!
Also well documented.  Please try to search before asking in the future
1232b
Is there a limit to how many instructions a transaction can hold.
Can i put 5000 instructions into 1 transaction and send it.
What is the limit to transaction size if there is one?
Retry
Usually means that the node you're hitting doesn't know what blockhash it is
what is the cause for this when sending SOL

SendTransactionError: failed to send transaction: Transaction simulation failed: Blockhash not found
ok so afaik, `invoke` uses the signature of the account that signed the transaction, while `invoke_signed` uses pda seeds
I used mainnet-beta instead of devnet and it worked
Do you have `solana-test-validator` running when you invoked `solana account ....`? It is not some daemon that is automagically running when your config is set to local. Open up another terminal, start the test validator and from a command prompt (other terminal) run your commands.
Anyone know why phantom wallet is unable to fetch balance changes
the program requires around 2.6 sol at max and i have like 13 in my wallet
Is the testnet airdrop not working for people?


///////////////////////////////////////////////////////////////////////////////////////////////

You can ask a bunch of Anchor specific questions in their discord https://discord.gg/YGeHRAT4
Yeah, seems to simplify a lot of the gotchas in Solana Programs
idk are you using it
`use anchor_lang::prelude::*;` like that
it seems to simplify rust? right
Not exactly. It's like another framework
but solana
Is it basically hardhat?
Anchor seems to have a lot of users. Their docs aren't built out completely yet though
or no because the docs seem to mainly not use it
is everyone using anchor
ü§ù
The cookbook link I sent gives all the code you need. Please run it and see its output first
Yeah but i do not understand the way
I don't know if anyone hides the stuff today though
You can use what I sent
is someone has the answer ?
But i don"t find the same for Solana
Just saw this for Polygon and Eth NFT
https://www.youtube.com/watch?v=YlrKrmjd-Rw&ab_channel=HustleMillennial
i will check that thank you
Yep. Things like Serum, Tulip Protocol, and Mango Liquidators use this I believe
Thanks a lot! So basically I need to set up an off-chain javascript for example running on a server, calculating time differences and then trigger the on-chain program accordingly right?
If you're speaking of NFT metadata, https://solanacookbook.com/recipes/nfts.html#get-nft-metadata
And the `.jason`
What is polygonscan
Hey everyone, i really wish to know please how i can read a metadata for a Solana Adress as polygonscan gave me urlotken.jason. Is some knows please ?
Something has to trigger the program. You can set up a cron job and hit it when you need to. Lots of people do this to set up something cranking on their program
`solana program dump --help`
any hint on how to do it?
Hello all, I have a bit of a beginners question: How can I run programs cyclically, like multiple times a day, without triggering it by a front-end call. All the tutorials I did only trigger the program execution through the front-end. Many thanks
anyone using solang?
exactly, our project is a mix web2/web3. Thanks for the advice
Don't waste fees on users that don't withdraw
If you're managing wallets, you may as well have some web2 way of doing things and allow users to withdraw to a final wallet long term. Like how centralized exchanges do it
Try the Metaplex discord https://discord.gg/v4ZQSMVy
Ok, so what is the issue?
Is like a managed wallet
that's a great option but what we are looking for now is just the opposite, I know is against the economy idea but in our country (Per√∫) a lot of people do not know about creating a wallet but we are going to add this as an option, it's a good idea. What we were imaging is creating (and handling) their wallets, telling them they can get out their coins from there any time they want to their "final" wallet, we are just like the first step for them to join the blockchain economy.
yes
verified code is available at the site that you mentioned?
question .. why is it when minting though candy-machine  the primary sale already happened (primarySaleHappened is set to true) but when minting through metaplex the sale has not happened and NFTs show under the Live section?
also is there a way to automate through API to have NFTs generated so that the primarySaleHappened is set to false like in metaplex?
but the source for a program isn't available unless it's verified. most of that is happening on anchor.projectserum.com
you can easily retrieve the compiled bytecode with the CLI
hey, is it possible to know the program code that is deployed on solana?
yeah i know. just figured this might be the place since it's a general localnet + webwallet issue
havent had that issue before.
governance has a discord with a development channel though:
https://discord.gg/Nrt42PdG
does it know that the WS port is the RPC port +1?
I see in the Javascript console that it's trying to do websockets
has anyone experienced this?
problem is on all my machines, Mac and Linux
all my transactions are timing out, and there's nothing in the logs, despite the wallets showing the correct token balances for localnet
Hi all I'm running `solana-test-validator --rpc-port 8899` and trying to use a locally-served copy of Oyster Governance with Phantom and Sollet pointed to Localnet
Then you can run something like `which solana` to make sure it is being used in the right place
It loads on startup
You have to save it in the `.zshrc` file, then restart your terminal
When it tells me to update my path with the code below, I copy and paste it but it doesn't seem to do anything.
if you're ok doing outside cli, this is how you do it in js https://solanacookbook.com/recipes/token.html#associated-token-account-ata
Ah my bad.
`what is the equivalence of this command in anchor`
That has nothing to do with anchor?
?
Try Anchor discord for anchor commands https://discord.gg/YGeHRAT4
You should be able to update your `~/.zshrc` and add the path command there
my goal is to airdrop the token
what is the equivalence of this command in anchor? ``spl-token transfer --fund-recipient`` I understand transfer, but how do i fund the creation of the account?
Hi, this may be a basic question, I am on a Mac with Intel CPU, but whenever I download Solana CLI and then close the terminal, It says zsh: command not found. I know I need to update my path to make it permanent so the CLI tools are in it, but how do I do that?
I've tried them, still unable to solve this issue
Looks like this is a common problem for people on stackoverflow, I'd check there
I ran the same command
I just installed Win64OpenSSL-1_1_1m yet this ssl issue is there

now that it works, it gives this SSL error
Try again is my best guess
This is always the recommended way to install rust `curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
`
Looks like you had some connectivity issues

can someone help me with this error?
I'm trying to install rust in ubuntu to work on solana
Also a ton of docs here https://solang.readthedocs.io/en/latest/
Make sure you have all required versions of rust, solidity, etc
That should work as long as you have everything installed correctly
I tried to build and run solang but i get this error on the example solidity contract... my guess is somehow solang isn't working nicely with llvm... but i can't find anything online. 

‚ûú   solang --target solana flipper.sol                
'+solana' is not a recognized feature for this target (ignoring feature)
'+solana' is not a recognized feature for this target (ignoring feature)
'+solana' is not a recognized feature for this target (ignoring feature)
LLVM ERROR: unable to allocate function return #1
[1]    45282 abort      solang --target solana flipper.sol
I'll have a look there - I've been trawling through the stake.rs up until now ...
Not sure on the jsonRpc side, but looks like there is a bunch of helper functions that may get you what you need https://github.com/solana-labs/solana/blob/master/sdk/program/src/epoch_schedule.rs#L116
Problem is, that only returns the current epoch - I was hoping that there might be a program on-chain that kept all the epoch metadata - looks like there is one for staking (solana stake-history) but no dates in there ...
I believe you can use getEpochInfo https://docs.solana.com/developing/clients/jsonrpc-api#getepochinfo and then getBlock to get time
thanks heaps.
cheers i was looking through that
Governance kind of handles this. There's also https://github.com/GokiProtocol/goki
is there multisig implementaion for solana (the client and UI bit)?
Is there a way via JSON RPC to determine the datetime begin/endpoints for an epoch? Given an epoch, I can find date/times but say I want to find all epochs in a given datetime range ....?
Right, but it seems program B may need one of those programs writable that program A did not
I've seen some people pull all the marketIds through scripts, not sure how those are run though
I must miss something in the way i understand CPI - i am passing the same accounts when I am calling directly the program B and when I am using the program A - with what I believe is the same writable state.
You can have the users create their own wallets, make you as the payer, and send the partially signed transaction to your end to sign and pay. That way the users have more control while you pay
You forgot to set one of the accounts as writable
Hey guys
I am looking for a list with all the serum market ids -- does that exist?

I have found one but it is not updated since Sept 2021 üò¢

Can you send a screenshot.
solana-cli 1.9.3 (src:8578429c; feat:1294904204)
but I still get same error
Because wallets are just part of the project, based on our business model, we can‚Äôt make them pay, that‚Äôs why knowing the cost it‚Äôs important for us, we have to consider that on the commissions we are going to have
n
Hello,
I have a question regarding CPIs. I have a program A which calls a program B, the program B then makes a transfer instruction(&system_instruction::transfer)
But I got the following error msg: '[ACCOUNT] writable privilege escalated ",' - yet the"from" account is marked as signer.
When I call program B on its own, it just works. No sure what I must change or do to make it works with the CPI.
Thank you for your help!
<@279663707678834688> please try this.
after `cargo build-bpf` got:
https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe
You could get a sig on start and add that as part of the filters
Problem is, I have never used AccountSubscribe. Do you have any online example on any documentation on how it is used?
Get signaturesForAddress will get older signatures
thank you
We don't support candy machine here. Please ask in Metaplex discord https://discord.gg/v4ZQSMVy
I mean, do you think accountsubscribe is better than getSignaturesForAddress?
Will be deploying on vercel
It says they encrypt the environment variables
AccountSubscribe. You can test both for your usecase though
it's for the whiteliste ssettings in the candymachine v2
Yes, there's always a risk to having your secret anywhere connected to the internet. It's only as secure as where you run that code
Why do you think it is better?
With solana Web3
Is there a risk if I put my secret key in .env 
And use it with signAndConfirmTransaction
What about accountsSubscribe?
I mean I am just checking for new transactions in a certain wallet
You could do something like escrowing the money on a program, and have the program handle that logic
Shouldn't you be getting signatures on the account in stead? Those transactions should have timestamps
Do u know how to work out the order? There's no timestamps
I dont want to put any kind of risk to my secret key
Hey Guys 
I am building a casino game on solana Web3

What would be the most safe way to transfer money from treasury to user account ?
You should be able to use we sockets with something like signatureSubscribe
They don't currently come back in any specific order to my knowledge
All owners of different NFTs?
Hello guys, quick question:
I am using the solana/web3.js library
I am using the method "getSignaturesForAddress"
Is there any way that I can look for new signatures that appear ONLY when my javascript app is running? I dont want to get the details of old transactions! 
Thank you!
I'm trying to determine the order people owned an NFT. When I call the JSON RPC for getProgramAccounts it returns all the owners but the order is random - if I call it multiple times the order changes. Is there a way to get this in chronological order?
Your solana version is 1.7.12, please update that to 1.9.2.  The bpf compiler in the older 1.7.12 version doesn't know about rust edition2021
Then `cargo build-bpf`
Can you try `rustup default stable`
rustc 1.59.0-nightly (7d6f94817 2022-01-04) 
toolchain nightly-x86_64-unknown-linux-gnu (default)
cargo 1.59.0-nightly (fcef61230 2021-12-17)
Hmm which version of rust/cargo are you using?

Did you build with `cargo build-bpf`
Hi guys, need help. When I try deploy contract to dev net I got `error:Error: ELF error: ELF error: Incompatible ELF: wrong machine`. I deployed with this `solana program deploy ****.so`.
nice thank you, I'll take a look
You can generate them, but depends on how you want to handle security. https://solanacookbook.com/recipes/keypairs-and-wallets.html#generating-a-keypair
You're creating wallets for the users? Why not have a mint page and have users pay?
I am looking for developer who can build smart contract for NFT in solana.
I've read about paper wallet, but I'm not sure that is the solution
Hello guys, I'm building an platform and I want to give to the user after the signIn an address for a wallet on solana, is that possible? I mean, the user don't have yet an wallet like phanton, and I want to create an temporary address to him.
Thank you, I‚Äôll try this. It‚Äôs important for us since we are planning to launch a token and we are going to create Wallets for users, we want to know the token accounts will cost
It's done when making the transaction. Rent over time is decided by raising PRs and getting consensus
Is there a place to see the rent amount over time?
I see, and how the rent is added to the sender? Just automatically?
Candy machine is supported by Metaplex as it is their program
And sender pays rent fee at that point
wdym with support? You don't like it or don't help with candymachine problems?
Yes
I see, and once It receives some tokens pay the rent?
k thx
That's what chido meant by not init on chain. You can have a publickey that has no system account associated
Also, you can make a keypair without paying anything
Rent gets cheaper over time
I mean, is not competitive
I know is not too much but other blockchains do not cost anything
If it goes to 1,000 would be like 1 d√≥lar
It still would be very cheap, no? Also, the idea is that over time rent gets even cheaper
We don't support candy machine here. Please ask in Metaplex https://discord.gg/v4ZQSMVy
What you mean it hasn‚Äôt init? The account is going to be used to transfer custom tokens. For now the amount is something that can be handled but imagine Solana price goes to 5,000, creating an account would be very expensive
I got this code:
```ts
const [ candyMachine, setCandyMachine ] = ref<CandyMachineAccount>()
//     ^^^^^^^^^ Error Here ^^^^^^^^^
```
and I am getting this error:
```
Type 'Ref<CandyMachineAccount | undefined>' must have a '[Symbol.iterator]()' method that returns an iterator.
```
What am I doing wrong?
(using candymachine v2)

this is `CandyMachineAccount`
```ts
export interface CandyMachineAccount {
  id: anchor.web3.PublicKey;
  program: anchor.Program;
  state: CandyMachineState;
}
```
There's a way to import in settings
What is that from?
Thanks üôÇ This was my first guess, but I was wondering if there is a more efficient way than loading entire blocks
Hy, i' m developing a mint site. I create a wallet using CLI (of course i'm using devnet for now). It come to me public key and secret phrase, setting a password. My question is: how can i access to this wallet using for example phantom or others web wallets? Because i already have a phantom account but i can' t access to the wallet created by CLI
is it the addresses of the WL members ?
HI ! do you guys know what I have to enter in this field ?
Thanks
You can use `onLogs` and filter to what you need.
You could get the latest blocks and then calculate the amount of transaction per block. Using the timestamp per block, you can get a rough estimate of TPS
Not sure if rewrite, but the transaction should cost the same
hello everyone. updated my solana to 1.9.3 today and ran into this issue on my m1 mac when I call `anchor build`.  Wanted to share a solution:

```
BPF SDK: /Users/<name>/.local/share/solana/install/releases/1.9.3/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: rustup toolchain link bpf /Users/<name>/.local/share/solana/install/releases/1.9.3/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust
error: not a directory: '/Users/<name>/.local/share/solana/install/releases/1.9.3/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust/lib'
```
if you go to the /bpf-tools/ folder you'll notice there's a `tmp-solana-bpf-tools-osx.tar.bz2` file that fails to unzip. Go to this link:
https://github.com/solana-labs/bpf-tools/releases

Download. 1.22 (for solana 1.9.3) and unzip in that folder. After you fiddle around with mac osx security, it'll work.
Hi
Have question about writing data to the account
So for example I write the same data to the account as it stores already will node in such case rewrite it or it checks that data are the same and do nothing ?
Ty
https://discord.com/channels/428295358100013066/517163444747894795/928520508788588554
Hi, is there any way to update an existing token decimals? It was created with 9 by mistake.
Should I create a new token with the correct decimals or I can update the previous token? Thank  you in advance.
Hi guys, I am looking "best practice approach" of checking the throughput of the Solana network via RPC (similar to computing TPS, but with less overhead). Any suggestions or resources to read are welcome!
more like production proven tool, sending alerts
You could try using the command line `solana logs` and filter for your target program (https://docs.solana.com/cli)
new...thank everyone for this group
Im using Solana Node.
Im transfering Token's but this error sometimes happend.
```
Transaction simulation failed: Blockhash not found
```
Can i know why?
It happend 2022 Jan 05 10:36:34,  Jan 06:05:08, Jan 06 05:53:09. I think it's quite critical issue for our service.
How can i resolve it ?
Hi guys, I am looking "best practice approach" of checking the throughput of the Solana network via RPC (similar to TPS, but obtaining the latter has relatively large overhead, so I am wondering if there is some other metric that reflects the healthiness of the network in a given moment). Any suggestions or resources to read are welcome!
It's only visible to me. I see a message: "This information is community-sourced, and is not verified. "
How to submit a project to solana ecosystem? I submited but it doesn't show
https://solana.com/en/ecosystem/nagakingdom
is there any audited tool for program error monitoring on mainnet (simple log parser tracking errors for target programs)
https://solanacookbook.com/ingredients/serialization.html
This demonstrates reading/writing data using `borsh`
Hey folks! Is there a way to update details (website link etc.) in the spl-token-registry?
dividing throws off the base bby a large margin in my case
division?
using this same formula, how do i go about reducing the return value in proportion to x. basically, the higher x is, the lower the increment gets
<@!585868308419444749> could I pick your brain one more time?
thanks a lot for this
in my "calculations" this `n * (n-1) / 2` was the part i got wrong
You can do most of that with integers and save more compute
`n` is the number  of iterations your loop would do. Factor out `increment`, 'cause multiplication is distributive. then you're left with the sum of the first `n` integers which is `n * (n-1) / 2`
Hey man, great thanks! I assume that, so I already started with it üôÇ
yes. that's the only way to write smart contracts in solana.
Hey guys, one of topic question üôÇ   I am beginner in blockchain development üíª  TO present my self, I am Web Developer 5 yrs experience. Most of the time was working with Typescript & React. So what do you recommend should I learn Rust before I start with Solana development?
yes! thank you. Could you explain how u reversed it? I'm curious to understand how this works
Isn't it just something like `n = truncate(milli / 16.0); s = n * (n - 1) / 2; 16.0 * increment * s` ?
a loop causes the program to run out of compute units
hi guys! Please I need some help. This is more of a rust thing than solana. I have this function. Is there a way to rewrite it without any loops?

```rust
pub fn oyagbebody(mult: f32) -> f32 {
    let increment = 0.00005;
    let milli = mult * 1000.00;
    let mut result = 0.0;
    let mut n = 0.0;

    while n < milli {
        result += increment * n;
        n += 16.0;
    }

    result
}
```
suppose i have an account that is owned by my program and it has the data fields as the wallet address and token address.
Can i pass in the token and wallet address in the memcp filter for to get that specific account as their can be multiple accounts with the same wallet and different token addresses??
Hey, what is the difference between an address created with createAccountWithSeed and findProgramAddress? Why does the latter have a bump and the former doesn't?
Anyone use dapp-scaffold?  How do I fix the errors you get when `npm start`? 

Namely: ```
main.chunk.js:1560 Uncaught (in promise) Error: Not a valid Mint
    at deserializeMint (main.chunk.js:1560)
    at MintParser (main.chunk.js:1068)
    at Object.add (main.chunk.js:1148)
    at main.chunk.js:1679
    at Array.forEach (<anonymous>)
    at main.chunk.js:1672
```
is that the standard
should i be using anchor for rust
```
import { WalletNotConnectedError } from '@solana/wallet-adapter-base';
import { useConnection, useWallet } from '@solana/wallet-adapter-react';
import { Keypair, SystemProgram, Transaction } from '@solana/web3.js';
import { Token, TOKEN_PROGRAM_ID } from '@solana/spl-token';
import React, { FC, useCallback } from 'react';

export const SendSPLTokenToAddress: FC = (fromTokenAccount, toTokenAccount, fromWallet) => {
  const { connection } = useConnection();
  const { publicKey, sendTransaction } = useWallet();

  const onClick = useCallback(async () => {
    if (!publicKey) throw new WalletNotConnectedError();

    const transaction = new Transaction().add(
      Token.createTransferInstruction(
        TOKEN_PROGRAM_ID,
        fromTokenAccount.address,
        toTokenAccount.address,
        fromWallet.publicKey,
        [],
        1,
      )
    );

    const signature = await sendTransaction(transaction, connection);

    await connection.confirmTransaction(signature, 'processed');
  }, [publicKey, sendTransaction, connection]);

  return (
    <button onClick={onClick} disabled={!publicKey}>
      Send 1 lamport to a random address!
    </button>
  );
};
```

so this function returns a button that executes onclick, but where would these parameters (fromTokenAccount, toTokenAccount, fromWallet) come from?
hi all! questions about: https://solanacookbook.com/recipes/basic-transactions.html#sending-spl-tokens
does anyone know how to write staking smart contracts?
yep, i mean writing to an account's data using web3js
thanks
guy that just keeps typing without reading
so I suppose the number of maximum prints is in the metadata, but there's no documentation as to how to **create** them
this is on creation and I still get only one in my wallet

docs give absolutely nothing
https://docs.metaplex.com/community
https://discord.gg/mCTkqHtF
is it timing out and return 0?  does not make sense the same call would return 1000 or 0? did u try any other params? whats your query?
Anybody has an idea how to print from a master edition ?
Sometimes it returns 1000, sometimes a random amount, sometimes 0 on the same query.
Anyone else getting random results with getSignaturesForAddress?
not sure you want to do it in a program or in a tx.
if you do it in a tx, you don't need an account to hold these address, you can just compose transfer instruction into one tx.
if you do it in a program, you can also iterate accounts which you passed.
I think there are many ways to do a distribution just depends on how you design it.

an tx can't hold SOL. the flow will more like
1. users deposited some amount to an address.
2. the address distribute these SOL to the other address
I'm sorry but you may have to do a logarithm
Required base units being `total_supply * 10 ^ decimals`
`Mint::supply` is a `u64` so you only have `2^64-1` base units to work with
Create a new mint with appropriate decimals for your intended total supply
thanks! then, maybe I need create an Account to hold the addresses.
how about a tx hold an amount of SOL "deposited" by the users? Do I need an Account to hold that info too?
How can I fix that?
you can take a lok here https://discord.com/channels/428295358100013066/517163444747894795/922734041046847499
'cause you set decimals too  high
Why when I tried to mint 21bil of a coin it only minted 18bil and won‚Äôt let me mint anymore?
if your address is just want to hold SOL,  you can only create a keypair and keep it.
because when an account received SOL and it hasn't init, its owner will be hoisted to system program.

the rent charged is depending on how many size you used in your account
for token account, it need 165 bytes, you can use `solana rent 165` to know how many rent should be prepared.
solana's tx is composed by many instructions.
a SOL transfer is a kind of instruciotn.
you can compose many SOL transfer into one tx so that you can distribute SOL to other different address.
also there is a size limit in tx (1232 bytes) so you can't do it at once if you have too many address.
Also what will happen when Solana price will go up, it would be very expensive
Hi guys, I am reading docs and I understand every account should be created with some default rent to live forever. The rent amount is like ~0.002 SOL, how Phantom and other wallets do to create wallets (and accounts) when creating the wallets? Do they pay that when creating the accounts?
Hello! 
I'm a Rust developer but new to dApps. I have a project thats may fits nicely as a dApp.
Started studying Solana yesterday from the docs.

My question is (sorry I'm really new to dApps, Solana dev, etc):
Can a Transaction hold SOLs and a lot (hundreds) of addresses and then code an instruction to distribute the SOLs to the addresses?
Also, is it possible that the SOLs that the Transaction will distribute has been "deposited" by the address owners?

The point is: Users fill a "pot" with SOLs. Then when the Transaction's Instruction execute, distribute those SOLs to some addresses.
(it is not a bet app, just an app to distribute more SOLs to the users who contribute more about some subject)

Thanks!
Is the network running stable now?
stupid wsl
im using wsl so i guess it doesnt save on windows
omg
That's what your logs say
Did you check `/home/brandnamewater/solana/basic/target`?
Right then why no target folder
A few warnings, but it seems to be fine
There's no errors
No errors
do you see anything?
```
```
What about the ddos attack?
what did you do? just run from CLI? 
is there an error?  or what do you mean?
at least that i see
i did ` solana-test-validator` but no target directory created
hey guys
That field is likely how they group them
https://docs.metaplex.com/nft-standard#collections
What is that field? Not all too familiar. Also, just speculating on it since I am not a dev at phantom
You can with a python script and importing your keypair
So the collection metadata field is kinda just for ui
Are you able to automate it completely, including accepting the gas fees?
Get transaction signatures, get transaction info, write python script to refund
If I have to refund 1000 transactions, is it possible to automate it? If so, how difficult would it be?
I believe it is the associated candy machine
Does the way phantom group NFT collections depend on the name of the collection in the metadata? Or is it the mint address?
yeah, that makes sense
Check the discord. Pretty sure people all use the same minting page
they have a big store/market
gumdrop is the airdrop one. Fair Launch is a ticket based launch minting system.
I believe I've seen a mint page somewhere. Maybe gumdrop?
<@!489206164270350337> thanks... i was already looking all over metaplex's github and docs, and didn't find anything for a basic MINT page. that's why I think I'd just use their JS SDK?  I will check out their discord.
https://discord.gg/v4ZQSMVy
Likely something here https://github.com/metaplex-foundation/metaplex also check Metaplex discord
Shouldn't you do something like https://github.com/solana-labs/solana/blob/02bc4e3fc19736bc3f74183f3ceee21598f39139/transaction-status/src/parse_token.rs#L12 and call it as `TokenInstruction::InitializeMint`?
You can join their discord here for some help https://discord.gg/v4ZQSMVy
NFT standard today is Metaplex
This is my cargo.toml file:  and I am using ``use spl_token::instruction::initialize_mint;`` only to get the Error ``unresolved import, How is that possible?``
Got it. Thanks.
NFT in solana is simply SPL Token.
Does Solana have an NFT standard like Ethereum's ERC721? Or, what is the NFT standard. Where can I find the docs?
Seems like it would be a simple react/svelte-kit site using the Metaplex JS SDK? Is that what people do?
Hey, I have a Q --- I've successfully used Metaplex CMv2 to deploy and mint. I think Fair Launch is overkill for my project. I'd like to do a simple MINT page for users to mint to their wallets. Are there examples of that anywhere?
yes you are right
Unless I am mistaken, `^` is used for xor in rust too?
https://github.com/kamda-cyrial/Cyrial_Helloworld_Solana/blob/c405c18bdafc2be9506941ff1b91f08bd2b906ff/src/lib.rs#L71
```rust
            let price: u64 = (0.5 * (10^9) as f64) as u64;
```
I would recommend https://gitpod.io#https://github.com/kamda-cyrial/Cyrial_Helloworld_Solana/blob/master/src/lib.rs
I am trying to get myself setup on linux first, then I will continue
ok, thanks.
Then you have to compile with `cargo build-bpf`
This is a solana program?
yeah, sure: https://github.com/kamda-cyrial/Cyrial_Helloworld_Solana/blob/master/src/lib.rs
Can you link the repo?
No, unless I did it unknowingly
Yes, but did you run `"C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars64.bat"`
I am running powershell on visual studio code.
Hmm are you running a visual studio shell?
allright. had installed ubuntu on my laptop already, will get this code pushed to github and then switch to ubuntu to clone it.

Thanks much for everything so far
I haven't tried WSL with Sol/Anc. That is realy the genesis of my response. In order to get bootstrapped/have full support, your best best/best bang are to put yourself in the most supportable position (and that is running the latest Ubuntu LTS). That said, once you are on Ubuntu/have a dev surface on which to work, the more mature repos generally go together pretty smooth
thanks much, I already have windows subsystem for linux installed, do you think that will work?
you think the problem is with windows?
soooo.... step1:.. get virtualBox, vmWare, or other virtualization and get linux running. step2: get the examples running without modification (so git clone-> build). If you have dev experience, you'll learn mountains of info just from being able to intellisense (assuming you're going to be using VSCode üòâ )
I will be lying if I told you I understood what this meant.

so sorry. I am too newbie for this.

So what link are you talking about?
looks like you have an ootb helloworld being included in the link (so you're getting duped symbols when the linker attempts to 'sew' everything up)
hey guys, do you all have any idea what the issue might be, I ran `cargo build` and got this:  `fatal error LNK1169: one or more multiply defined symbols found`
So I tried following a few guides to setting up my terminal to code and access solana but ended up blue screening my pc. Does anyone have any resources they reccommend?
Okay, I think I understand thank you so much people
I use anchor, so I save data like this
```
    #[account(zero)]
    pub my_account: Account<'info, ProgramAccountInfo>,
```
```
#[account]
pub struct ProgramAccountInfo {
    pub level: u32,
    pub exp: u32,
    pub power: u32,
    pub last_calculated_at: u32,
    pub account_pubkey: String,
    pub character_pubkey: String,
    pub weapon_pubkey: String,
    pub boost: u32,
    pub stunned_at: u32,
    pub ability_used_at: u32,
    pub region: String
}
```
There are three (3) independent infrastructures running Solana: devnet, testnet and mainnet (a 4th if you want to include your local net). Each has it's own blockchain.
They are not connected to each other because there is no need for them to be as they each have specific semantics. BTW: SOL on local, dev and test are worthless so don't think your rich üôÇ
A local validator is an instance of the blockchain.
How does the program serialize it's data? Do you have a reference to source code for this?
no sorry, i actually have trouble understanding this
OK, Solana is technically the software for running a blockchain.
'cause it does seem like you're reading anyone writes
Are you just here to waste people's time?
How many blockchains are there?
plural
singular term
Its an idea??!?!??!?!
how is it a blockchain
if everything cant be combined
so Solana can be just abstracted, really, as a collection of blockchains
No they're independent.  Totally different validators, totally different state, totally different TX history
and mainnet B C E
The different clusters are meant for different purposes.
a devnet block can be A , and D
Nothing more nothing less.
That's it.
Blockchains are `A -> B -> C -> D -> E`
"cluster" is just Solana jargon for "network"
Solana is a blockchain.
No.
I feel dumb
Why the hell do youtubers say there is only chain in a blockchain netowrk
Is it possible to handle this?
I tried
```
const pp = borsh.deserialize(
  ProgramAccountInfoSchema,
  ProgramAccountInfo,
  kk!.account.data
)
``` And it emits this error: `Expected buffer length 1000 isn't within bounds: account_pubkey`
I thiknk what I mean is, sequentially, blocks can be placed from different clusters can be placed adjacent  right in your "one" Solana chain, but otherwise, they have no other relationship
it contains 
```
account:{data: Buffer(160), executable: false, lamports: 2004480, owner: PublicKey, rentEpoch: 244}
data:Buffer(160) [118, 195, 243, 217, 229, 128, 62, 121, 1, 0, 0, 0, 197, 61, 214, 2, 232, 3, 0, 0, 0, 0, 0, 0, 32, 0, 0, 0, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 32, 0, 0, 0, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 48, 32, 0, 0, 0, ‚Ä¶]
executable:false
lamports:2004480
owner:PublicKey {_bn: BN}
rentEpoch:244
__proto__:Object
pubkey:PublicKey {_bn: BN}
_bn:BN {negative: 0, words: Array(11), length: 10, red: null}
``` this structure, and I'd like to parse that data into class in ts.
Hello, I fetched data from data account using getProgramAccounts.
When people refer to the "Solana Chain", they _usually_ mean the mainnet cluster.
But otherwise there is no connection between clusters.
Most popular programs are deployed to all three clusters at the same addresses.
please elaborate thanks
Not directly.
<@!590982495923732511> how would the one SOlana chain operate then?
so the clusters arent connected at all?
yeah that works, thanks
wut
All clusters are completely independent.
No.
https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/
so can a block from devnet be the root of a mainnet block?
Mainnet is the one that matters.
What's the endpoint for that?
Again, I meant there is one quote unquote real cluster.
which is "Solana"
A lot of people call devnet, mainnet, local, testnet as "clusters", so why do you say that there is only one "cluster"
Can you try the genesysgo devnet endpoint?
Huh.
Testnet/mainnet are fine
When I run any CLI command, I get an error

`solana balance --url https://api.devnet.solana.com`
Error: RPC request error: cluster version query failed: HTTP status client error (403 Forbidden) for url (https://api.devnet.solana.com/)
Sorry, can you ask your question again?
What is the error exactly?
Historically, i don't think the term cluster was coined for technological development?
IS there a workaround for getting AWS security groups to work with the Solana devnet? Testnet and mainnet are working fine.
Devnet and testnet are for, well, development.
then why people refer to cluster"s"
(one "real" cluster)
i thought devnet, mainnet and local are considered clusters
There is only one cluster?
Which other clusters?
is there liek a page that you can show me please <@!590982495923732511>
Indeed looks pretty compact, cheers
my analogy is on point
and other clusters are tiny chians
so solana is just one big ass chain
The genesis block is the first block in the chain.
A chain has to begin _somewhere_
Solana is a chain.
No.
The metaplex discord already has an implementation.
what
solana isnt a tree, is it...
So you type `/docs <keyword>` and it searches the docs for keyword and puts the link in the chat.
Well, they're really different chains, but still Solana. Like different clusters
cool, I'll have a look there!
The cookbook linked is bare minimum I believe
so all blocks are on one chain, but they belong to different groups cuz they're on different clusters?
I'm use the basic spl-token js sd
I have all outbound traffic open. IS there a specific incoming port I should do too?
<@!455114989397868556> I was actually wondering whether I could get that working with the bare minimum code from the official solana packages üôÇ
That does what exactly?
Here's the exact code needed https://solanacookbook.com/recipes/nfts.html#mint-the-nft
<@!455114989397868556> can we please have a docs search bot?
See: `@metaplex-foundation/mpl-token-metadata`
if you're talking about NFTs you should be using the metaplex sdk for that
All one, but multiple clusters such as devnet, mainnet-beta, and testnet
Alright, cheers
That is correct.
I know that the rpcs are not too friendly with VPNs, so it depends on how you setup the network
is it correct that the `@solana/spl-token` js package  doesn't offer code to add metadata to tokens?
Yes, it's the first block, basically when someone said "Let there be sol!"
isnt a blockchain just one chain?
i thought clusters all pointed to the only one solana network
but i cant wrap my head around it
i seems to call from the cluster
yes i tried
You can figure out testnet vs devnet vs mainnet-beta with that hash
I believe that is the first hash that at the beginning of the network. The one everything forward relies on
<@!455114989397868556> Is Solana Devnet not working for AWS IPs? I consistently get an error across a week

Error: RPC request error: cluster version query failed: HTTP status client error (403 Forbidden) for url (https://api.devnet.solana.com/)
network
i thought everything gets chained to the solana block
I have a question. When you call the genesis hash, does that call the first block in the cluster?
Would love to hear all feedback you have. My main job is to make everything easier to navigate and start building
Here's a more in depth article on the call as well https://solanacookbook.com/ingredients/get-program-accounts.html#filters
Could you give more of the stacktrace? Looks like you're doing it correctly
By the way, frustrations aside, it's fucking awesome writing for Solana

Sure, it's a bit hard to get to grips with, but it runs beautifully

And if you need a salty old bastard for more thoughts about docs and stuff in the future hit me up
Thanks for the feedback. We'll try to update the Rust <-> program to make it more distinct + trying to get docs working better long term
It's the only way you'll get AccountInfo in your program
yeah, That is what I ended up doing, but I was just wondering if there was a better way to go about it.

Thanks much.
``` 
const ssc_key = new PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');
    const ssc_config = {
        encoding: 'jsonParsed',
        filters: [{
            'dataSize': 165,
        }, {
            'memcmp': {
                'offset': 32,
                'bytes': '46BtRifF7jVcMYaoPu9E6Mdh9ahyEr8TMkrxKFwJ3QDa',
            },
        },
        ],
    };
    return await connection.getProgramAccounts(ssc_key, ssc_config);
```
 Can any provide guidance, i'm executing getProgramAccounts with the inputs above but getting the following error:

StructError: At path: 0.account.data -- Expected a `Buffer` instance, but received: [object Object]
The thing which made me maddest was bouncing about between the RUST API docs, solana docs and web3 docs trying to figure out what functions X actually did if that makes sense, all the contextual stuff

Note as well, there are different ways to do things depending where you are, you will write difference rust in the client and in a smart contract and it's not always clear which is which
I'll tell you what would have saved me instantly - link the cookbook examples for relevant functions in the API docs
I wish I found it earlier üòÇ
Check the signature on explorer and see if it confirmed.
`Error: Timed out awaiting confirmation on transaction`
Been trying for past 5 minuts with different rpcs too
Depending on how it is timing out, recommended to just retry
You can also log compute units to see at which point it fails.
Is anyone else getting TImed out on their transactions right now?
Here's a pretty good breakdown on what each action costs https://github.com/solana-labs/solana/blob/bb3a1b6b3108ecb74259ad3d50d5ae1efa3e0054/sdk/src/compute_budget.rs#L106
Thanks üíõ
I exceeded instructions allowed compute units, but I don't know where I exceeded. Can somebody help with my logic?
TL;DR
Try using `TokenAccountsFilter.byProgramId` with `ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL` or `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`
As opposed to needing to implement a contract.
That program allows you to create spl-tokens on solana.
thx a lot will read through
https://spl.solana.com/associated-token-account
And the associated token account program
yeah
https://spl.solana.com/token
The spl-token program?
what is that?
<@!469920803467689984>
Or might be the spl_token program, one of the two.
Use the associated_token program.
`filter Either a mint or a programId`
https://pub.dev/documentation/solana/latest/solana/RpcClient/getTokenAccountsByOwner.html
https://pub.dev/packages/solana/install
Dart
Is it in rust?
it is required tho
I don't think you need the second argument.
Why doesn't yarn dev work on windows?
`PS C:\Users\morpheus\Documents\NFT_Website\Learn Solana\learn-web3-dapp> yarn dev
yarn run v1.22.17
$ next dev
Error: listen EACCES: permission denied 0.0.0.0:3000
    at Server.setupListenHandle [as _listen2] (node:net:1317:21)
    at listenInCluster (node:net:1382:12)
    at Server.listen (node:net:1469:7)
    at C:\Users\morpheus\Documents\NFT_Website\Learn Solana\learn-web3-dapp\node_modules\next\dist\server\lib\start-server.js:29:13
    at new Promise (<anonymous>)
    at Object.start [as default] (C:\Users\morpheus\Documents\NFT_Website\Learn Solana\learn-web3-dapp\node_modules\next\dist\server\lib\start-server.js:24:11)
    at nextDev (C:\Users\morpheus\Documents\NFT_Website\Learn Solana\learn-web3-dapp\node_modules\next\dist\cli\next-dev.js:115:30)
    at C:\Users\morpheus\Documents\NFT_Website\Learn Solana\learn-web3-dapp\node_modules\next\dist\bin\next:119:34 {
  code: 'EACCES',
  errno: -4092,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 3000
}
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this comma*nd.`
https://solanacookbook.com/ingredients/serialization.html#serializing-instruction-data
If you add the Pubkey to the instruction it will be in the array of `&[AccountInfo]` in your entrypoint
How do I pass struct data to the program? 

I'm doing this way:
```
const data = borsh.serialize(
    ProgramAccountInfoSchema,
    new ProgramAccountInfo({
    key: 0,
        key2: 100,
        key3: "key3"
    }),
 )
await program.rpc.setData(new anchor.BN(data),{
    accounts: {
    account: newDataAccount
    }
})
```
But it says I have encountered `deserializedError`.
Any Ideas?
this may be helpful
https://github.com/solana-labs/wallet-adapter
Does anyone know how to automate browser actions that include wallet integration something like dappeteer with the metamask wallet but for the phantom wallet?
What do you think about solana cookbook?
Fwiw picking up solana recently, the feeling I got was the documentation was a bit fragmented

The high level is covered in the website, but then it's straight to api documentation which would be my biggest bugbear there ... there's nothing in between. Also don't just run a docgen on an undocumented code base, dump it to the web and call it documentation, not sexy üòÅ the point of documentation is to explain what isn't apparent from the code

Most of the problems that really slowed me down were from struggling to understand context, and also I got confused with examples running on anchor too

Obvs, this is only my criticism here, I got up and running with the contract and web sides in less than a week so it's not all bad, if you're re looking for feedback though, there it is ü§ì
or is there a better way to get the Tokens someone owns ?
I am trying to use the solana rpc api rn and want to get all NFTs owned by someone.
As far as I understood I need to use the `getTokenAccountsByOwner` method (I am using a wrapper for dart/Flutter ) and this is my code:
```dart
RpcClient('https://api.devnet.solana.com').getTokenAccountsByOwner(
                'Wallet Adrress I Want To See The Tokens From',
                const TokenAccountsFilter.byMint(
                  'Pubkey Of my Candymachine',
                ),
              );
```
I entered the Pubkey of my candymachine in the filter but I get an error. What am I supposed to enter there?


///////////////////////////////////////////////////////////////////////////////////////////////

You can find a bunch more on that here https://solanacookbook.com/recipes/basic-transactions.html#sending-sol
No problem.
Much appreciated help
<@590982495923732511> 
Thanks for the reply
```js
let transaction = new Transaction().add(
  SystemProgram.transfer({
    fromPubkey: new PublicKey('xxxxxxxxxxxxxx'),
    toPubkey:  payer.publicKey,
    lamports:  1*LAMPORTS_PER_SOL,
  }),
  SystemProgram.transfer({
    fromPubkey: new PublicKey('yyyyyyyyyyyyyy'),
    toPubkey:  payer.publicKey,
    lamports:  2*LAMPORTS_PER_SOL,
  })
  // ...
);
```
Hi ! does anyone know how to list in coin gecko solana ecosystem? we have made it to the cg but i guess not the solana ecosystem in cg
let transaction = new Transaction().add(
          SystemProgram.transfer({
            fromPubkey: new PublicKey('xxxxxxxxxxxxxx'),
            toPubkey:  payer.publicKey,
            lamports:  1*LAMPORTS_PER_SOL,
          })
        ); 
Right now my txn looks like this
Yes, anchor handles a lot of the account parsing and serialization/deserialization for you.
will do. I wanted to start with the nitty gritty version of solana development so i can appreciate what frameworks do to make it easier.

Are you saying these kinds of things are handled/made easier by Anchor?
Look at anchor, it's an rpc framework for rust programs.
Hey all. I'm learning Solana and rust and have a question on type safety with Accounts passed into `process_instruction (program_id, accounts, data)` 

In the Paul X escrow tutorial, the program is expected to pass in 5 accounts in a specific order, each representing different things.

Is it typical to pass the knowledge of what account is meant for which purpose through comments in the code or is there a more structured way? I feel like it could be very easily error prone. At the moment, its all based on indexes. I know `account[0]`  is meant for the initializer of the escrow only because of the comment. 
Maybe an intermediate data structure? -- knowing how much speed matters and space is limited on the runtime, im not sure how to approach this.

```
pub enum EscrowInstruction {
    /// Starts the trade by creating and populating an escrow account and transferring ownership of the given temp token account to the PDA
    /// Accounts expected:
    ///
    /// 0. `[signer]` The account of the person initializing the escrow
    /// 1. `[writable]` Temporary token account that should be created prior to this instruction and owned by the initializer (Temp token X)
    /// 2. `[]` The initializer's token account for the token they will receive should the trade go through
    /// 3. `[writable]` The escrow account, it will hold all necessary info about the trade.
    /// 4. `[]` The rent sysvar
    /// 5. `[]` The token program
    InitEscrow {
        /// The amount party A expects to receive of token Y
        amount: u64
    }
}
```
Ah! Okay then.
Thanks.
Please don't summon me. However, if you have something that reproduces across RPC endpoints, feel free to open a new issue with data and examples. I'll take a look.
vs not having any signatures in the first place?
And how do you know that is an error?
Hmm.
"fails" in the sense it returns 0 records/signatures
that must be a slightly different issue, because this fails every time
In the meanwhile the workaround is to check if the output is null and retry the request.
I believe <@!213083996689661953> might be interested in this
I asked this exact question on genesysgo, they said it was a known issue and they are working on a fix.
Solana blockchain any problem there?ü§îü§î
guys any help with adding spl token ? 
it keeps crashing , because of the coingecko id
I can provide an rpc call that breaks against v 1.8.11
hi, quick question: is there a way to reproduce degraded solana performance using, say, solana test validator?
https://github.com/solana-labs/solana/issues/21442
I believe this bug, recently closed, is still an issue.
Hey how can we transfer into multiple wallets using solana web3 js
Here's how synthetify tests their stuff. May be helpful for you https://github.com/Synthetify/solana-template/blob/master/.github/workflows/test.yml
thats on solana core or? i'm asking for custom contracts, i have my own and want to setup automated testing, sry if im not being specific
I believe we use buildkite to run all that stuff since the build time takes forever
Not exactly how that works. The Program is a Program account, so I don't believe you can just transfer like you do everything else. You'd have to close the account to retrieve the SOL
are there any github actions for program testing (cargo test-bpf or smthn)
Maybe not.
See: https://explorer.solana.com/address/5SuUJp7o29MCq4hyu2pQGxRxqSejnbUBHBPGkHLzDYXH?cluster=devnet
It has some SOL.
I guess, If keys are exposed someone can simply move them away.
Yeah! Authority is my private key stored on a PC. 
If that's the case, this keypair is only used to get the public key for the program.
Is it?
Thank you ‚ù§Ô∏è did not knew that it lead to source haha
There you'll see
```
import { Connection } from '@metaplex/js'; 
import { Metadata } from '@metaplex-foundation/mpl-token-metadata';
import { PublicKey } from '@solana/web3.js';
```
It gives full source
Press this shiny button
Hello, I am sorry to bother you again, but I am trying to run this code: https://solanacookbook.com/recipes/nfts.html#get-the-owner-of-an-nft

I still have two issues:
- There is no documentation on how to get the "metadataAccounts"
- And also, from where is the "Metadata" there: https://solanacookbook.com/recipes/nfts.html#get-nft-metadata imported from?

I have downloaded metaplex and solana web3.js but it is not found üò¢
Thanks <@!489206164270350337> that's really helpful.
I probably wouldn't commit this to a public repository. However, you decide what keypair controls the authority to upgrade the program
You create something of a token program wrapper and add your custom stuff there. However, there's no guarantee that users won't just transfer using the normal spl token transfer
<@!241664191189090305> yes perhaps
Hello, I need some help regarding the keypair generated when building a Rust onchain program.
Here's the question is detail.
https://forums.solana.com/t/about-the-keypair-generated-for-solana-onchain-programs/4398
You mean royalties on a fungible token?
So if I have a spl token called "whatever", all transactions of that token would have the usual fee as well as a "whatever" fee?
Is there a way to have transaction fees for an spl token in that token as well?
Ah okay, I will join there
yeah that makes sense
Aaah nice
Anchor channel is here https://discord.gg/YGeHRAT4
For example, let's say you have a phantom wallet. You have 3 NFTs in your first account. For storage, you use the "add/connect wallet" button to add another wallet. You send those 3 NFTs from the first wallet to the second.

In the above scenario, there was never an account created for the main SOL balance, but it can still store NFTs. If the user wants to send those NFTs out, they'll have to first init the account and send SOL to it
Can someone ELI5 what <'info> is in Anchor? Very new to Rust so I'm trying to understand the basics
PublicKey doesn't change, so you can still receive tokens
You can have a keypair but no account associated with it
How can that happen? Because it holds 3 SPL tokens
Whether or not their UX is the best is for you to judge though
Raydium does this https://github.com/raydium-io/raydium-ui
Thanks man for the help. I really appreciate it üôÇ
So it is hard to understand what the account is
Looks like the account doesn't have any data in it
That's my best guess
You mean to implement the borsh serialize and deserialize for "AccountInfo<a'>" ?
Does anyone here have examples of a dapp making multiple transactions for an action due to transaction size limit constraints? I'm building something that requires multiple transactions and am trying to see the best way to optimize the user experience of having to approve 4-5 transactions in a row (for various swaps btw)
Lots of history here https://github.com/solana-labs/solana-program-library/commits/master/token-lending
yes, but not queryable via `solana account`
Looks to be someone's account
Anybody know who authored the lending program?
It looks like it belongs to DSYruF...qi1jEJ which is fine, but how can I verify that
https://solscan.io/account/BDi1oZsbKzRjEnpTPdQeEM9S61G2MkjrZDm2e9s4Cn1A
Link to account?
maybe based on the transactions? It looks like it consists of 3 ATAs`?
All code to reference is here https://github.com/solana-labs/solana/blob/master/sdk/program/src/stake/state.rs
Sounds like you need to do what it says
How can I find out about the nature of the left account? Is there some meta data I can query?
Looks like left is some random account, while the right is a system account
The account will be passed in the parameter, like in the instruction_data in case of StakeInstruction::Initialize, however if i place it in the enum to expect AccountInfo as parameter of Initialize, It complains about `expected named lifetime parameter`. And if place the lifetime parameter it says serialize and deserialize are not implemented for "AccountInfo<a'>"
Can someone tell me what the difference between those two accounts is? The right one can be queried via CLI  `solana account`, the left one returns `Error: AccountNotFound`
Probably a better question for https://discord.gg/v4ZQSMVy
You used to with v1. Not sure on v2
What account are you interested in?
Hey guys, I am trying to write a native program in solana similar to a Stake program. However, I would require to read data from account in that particular native program. I am not sure what exactly is a good approach for this.
You can get the config of the candy machine?
I might switch all my code to typescript so xd
I'll see if I can get Loris to contribute some of that code to the cookbook
You can grab all mints in the config
What, how does it know the collection that is not UP yet üòÆ
Also, if you run the js listed in the cookbook, that could help you
I didn't go deep enough into the candy machine part to be able to help unfortunately.
https://www.solaneyes.com/address/91YJafpJE2bDkWedf3e598hVEuUweCzrobHPa3UXpATF
manually
To create a way to compute the rarity of each token
Yes I would like to get the entire collection
wait this is not just 1 ngt right, you are trying to get the entire collection right?
What I got is this candy machine: https://solscan.io/account/91YJafpJE2bDkWedf3e598hVEuUweCzrobHPa3UXpATF
I know this exists https://github.com/metaplex-foundation/python-api but never have used it
Not entirely sure in python, but the full source is how you do it in ts
can you share the nft link on solscan please?
What I have is the candy machine address
the address of the token you created
The mint_id is the id of the smart contract?
do you have the mint_id?
I am sorry, I am getting lost there, with: https://solanacookbook.com/recipes/nfts.html#get-nft-mint-addresses

There is metadataAccounts that is already set, but how to get the "metadataAccounts" object in the first place from the address of an NFT? (in python üòÖ )
Thank you
to my knowledge yes
So lets say i want to send 1 token, i have to put 1.000.000.000 (1 billion) like the lamports in sol?
yes, the default spl token decimal places is 9
Im sending a token, not sol
sol is 10^9, so if you want 1 sol, you will have to put 1,000,000,000
Guys quick question, I am trying to send a token through     splToken.Token.createTransferInstruction     and when in the field "amount" i put 10000, i get 0.00001
Any idea?
Because you specify the clusted that you are connected to
I dont think so
Possibly a very stupid question incoming, but is it possible for a program to send the same transaction to more than one RPC endpoint at the same time?
Thank you very much, was searching it for 10 min already x)
https://github.com/metaplex-foundation/python-api/blob/main/metaplex/metadata.py#L180
that was extremely good of an explanation
Ok, so
```python
owner = owner if owner not None else accounts[n]
```
Thank you will look at that
visit: https://github.com/metaplex-foundation/python-api
so metaplex has a python api
mainly just python
I think you over-thinking this. What other programming languages are you familiar with?
<@!405398518019129347> Why the friend request?
Do you know how to get the "Metadata" object? And is there any way to get it in python?
sent an FR - would love to chat about this!
so owner is actually returned as an option<&Pubkey> and not &Pubkey?

Is that what you meant?
or could it be the fact that the `if let some(owner)` creates a scoped variable, whereby the the `some(owner)` returns an option to be used in {}?
Ok thanks
is it fine to use C? its obvious rust is the popular one but any drawbacks
yeah. so it brings back the previous question that I had, which was that how does owner hold a `&Pubkey` if it was originally defined as holding an `Option<&Pubkey>`
It either returns a valid Pubkey or an Error
That function does not return an `Option<&Pubkey>` instead you have to look at the  definitions , in this example: `from_str(s: &str) -> Result<Self, Self::Err>`
I will say do as per your needs.
Hey guys. I was wondering, is there a recommended ("most common") number of decimals for SPL tokens?
The default is 9, but I see a lot of tokens with 6 decimals as well.
is that what you meant?
I think I misunderstood you:
I get `Error: AccountNotFound`
With the Solana CLI
How can I interact with accounts that are not assigned to System Program?
Nice one:
No worries:
```rust
let x: Option<u32> = Some(2);
assert_eq!(x.is_none(), false);

let x: Option<u32> = None;
assert_eq!(x.is_none(), true);
```
oh. Nice.

Thanks alot.
I am sure I was a headache, but you were really helpful nonetheless. Thanks alot.
The formal `Option<T>` is an generic so it holds any type you tell it to
because owner is already defined as having the type `Option<&Pubkey>`right?
so how can the `&Pubkey` fit into `Option<&Pubkey>`
`let goober: &Pubkey = if let Some(geeber) = owner {geeber} else {\\get me the owner from the account array};`
No, it's the ***concrete*** type of the option `Option<T>` in your example is `Option<&Pubkey>`  so `goober` is of type `reference to Pubkey`
so what type is goober returned as, as an option too?
So, you have the stack variable `let owner`, the scoped variable `Some(owner)` and the argument passed into the function `owner` or in longspeak:
I will store in the stack variable `owner` the value of the function argument `owner` if I have a value  inside the function argument which I confusingly shall also call `Some(owner)`
Consider that the `if let Some(x)` is creating a scoped name variable
This construct `unwraps` what is contained in the Option<T>, it is not a 'third' as you state, I could have written:
```rust
let goober = if let Some(geeber) = owner {geeber} else {\\get me the owner from the account array};
```
In this case, if the `owner` wasn't existing in the entry point to the function, get it from the next account in the accounts array
so why do we need the third owner, i.e. 

let owner = if let some(owner) = `owner`
The `if let Some(_)` is just saying "Hey, if we have something here, give it to me, otherwise (`else`) take some action
what I am missing is the need for the statement to look theway it looks
I think I understand what <option> and some does
Boils down to a way to manage something that may or may not exist.
This is all too big for my skill at the moment

I will try to dissect it one after the other. Thanks.
Ok, the `if let Some(x) = y {}` construct is often used when something returns or is an `Option`. An Option is something that may (Some) or may not (None) exist (remember Rust has no notion of `null`. There are multiple ways to get the value of an option, using the `if let` construct or `match` or  `unwrap()` the value, the latter blowing a hole through the roof it it is `None` (or null for ease  conversation). There are tests that can be used to further safeguard processing. See: https://doc.rust-lang.org/std/option/
There are shades of `Monads` in its existence.


What was the code preceding this?
hello , i added our token to the SPL TOken List repo , but the merge request failed because of coingecko id , i double checked it and it's working fine , how can i restart verification ?
this is from the spl-token library, so I kind of expect it to work just fine.
I am just trying to understand what is going on, so that I can use it.
executed, sorry
and by resolved, you mean?
Not a Rust dev, but looks like the if expression would be resolved
no, owner is a &pubkey
Wouldn't `owner` be a boolean?
Hey guys, Sorry I am too newbie to rust.

What does this statement mean?

does it mean:  `owner = next_account_info(account_info_iter)?.key` if `owner != None` else `owner = None`?
So the two keypairs are isolated from each other. And unless one signs a transaction of the other, the blockchain has no chance to link them, right?
Yes, that's what I would have expected too
I don't see any reason for the keypairs to interact with each other. They more likely mean interact with the blockchain. I.e. to sign transactions
Hi guys, I'm fairly new to Solana trying to figure out the inner workings of wallets. According to the docs (https://docs.solana.com/wallet-guide#what-is-a-wallet) 
> A wallet contains a collection of one or more keypairs and provides some means to interact with them.
What does interact mean here? Let's assume Phantom Wallet. I have 2 keypairs in there, how can they interact with each other?
You should read the white papers links in the description <@!793009052879028254> provided to understand how swap works as a basis of the SPL Token-Swap program. You can interact with said program using JS/TS or Rust. The program itself is written in Rust: https://github.com/solana-labs/solana-program-library/tree/master/token-swap
Ty love you ‚ù§Ô∏è
for one, it'll return a program address for this func
```const getMetadata = async (
  mint: PublicKey
) => {
  return (
    await anchor.web3.PublicKey.findProgramAddress(
      [
        Buffer.from('metadata'),
        TOKEN_METADATA_PROGRAM_ID.toBuffer(),
        mint.toBuffer(),
      ],
      TOKEN_METADATA_PROGRAM_ID,
    )
  )[0];
};```
again just a question how can you differiantiate token vs nft on data level?
thanks any way.
Hello, Where can I find the general interest form for access to acquire the reserved computing hardware for RPC/Validator nodes. Need access to a dedicated rpc node for our dapp.
in eth you can use ABI but what in solana ?
i need to construct transaction, but where can i get interface or structure of magic eden smart contract ?
NFT related things that the JSON RPC API doesn't, see https://metaboss.rs/


to be honest, I'm not sure it'll help you now I've re-read your earlier message
what does this tool do?
okey thank you for the help.
hello, i am new in solana, please help me to understand how to program code that make buy nft from market magiceden
That will probably be a good start I think
not yet.
have you given a look at metaplex's javascript api?
maybe look at https://github.com/samuelvanderwaal/metaboss, if it doesn't have your functions you might be able to modify it's code
im using react js. im getting a response but, the response is useless üò¶ it doesnt give me any info

https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo
what language are you using with json rpc?
but can it be done via json rpc api? coz i tried using getAccountInfo, and it doesnt give me any info <a:kek:900024661969096744>
-)first you need to lookup the complete list of associated token accounts in the wallet in question.

-)Then for each account, check to see whether it is an nft:  decimal of zero, total supply of 1;

-)Then for each nft, get the mint id.

-)Then punch it in the getNFT metadata. code I just shared.

I haven't used solscan public api, so I can't tell if it is better or not.
thank you for this, but i really want something to create like an nfteyez. where you can see all his current nft on his wallet. 
im thinking of using solscan public api, or is there a better way? also thinking using json rpc api
not sure off-hand
I read that before. I tried to run it on my localhost but didn't work. I need to understand the swapping process first. How does it work? Which programming language can be used to implement that.
<@!489206164270350337> following up, `arweave.wallets.getWalletFromFile` seems to be deprecated - do you know an alternate solution?
see https://spl.solana.com/token-swap
Hi, I am a new developer on solana (actually in crypto) I have some questions please:
- Is it possible to create a swap dApp without relying on Raydium or Serum? If this is possible what's the programming language that can be used to implement that, Rust or JS?
- Can someone explain how swap dApps work (dev workflow)?

Thanks
does anyone know of any smart contracts that exchange SOL to stablecoin without having to go through an exchange?
https://solanacookbook.com/recipes/nfts.html#get-nft-mint-addresses
https://spl.solana.com/memo
https://solanacookbook.com/recipes/nfts.html#get-nft-metadata
hello question, i want to get all the info of an NFTs on a wallet once they connect. how can i do this? im trying to use json rpc web3. is it possible?
what is the memo program about and why would I use it?
would you like to help me to change wallet account owner?
hey all, What is the difference between these initialize accounts: ?
Hello, does someone know a way to get all the NFTs generated by a candy Machine ?
As I said before, you can use the Metadata.findDataByOwner function from the metaplex program library.
https://github.com/metaplex-foundation/metaplex/blob/master/js/packages/cli/src/candy-machine-v2-cli.ts
See how the v2 cli fetches mints
Hello, is there any ways I can know what mints are minted by a candy machine? Thanks
im getting spammer messaging me
anyone help
what im trying to do is to verify if someone is holding a NFT
for examply i just release a collection called happy plants
and i want to connect and verify someones wallet that states if they are holding my nft or not
do you know anything about that by any chance?
How can I do that
alright i got the part up till Edwards-curve, ` It is still valid in identifying the account-info` but what does it account look like? because i'm not creating any account for it! 
because when creating a normal account we have a struct on whose basis we know the structure of that account and use `Keypair.generate()` to assign it an address! then if we forward it to the program, then i know that it has an account associated to it!
But with the PDA i'm not creating any account then how is it possible to get any sort of account-info associated with that address?
The PDA you send belongs to the Program for which it was generated. If you print out the address you will see it has the same shape as a PublicKey it just happens to be 'off the Edwards-curve'. It is still valid in identifying the account-info which then contains the lamports, data, etc.
https://docs.solana.com/developing/programming-model/calling-between-programs#using-program-addresses
hello are there any github repo, that looks like NFTEyez? really want to learn about that
yes that's understandable!
but what i'm wanting to know is if i try to use a PDA, that doesn't belong to any account, i just got it using the `findProgramAddresses`method on the client side, it's just an address right?
An account has an address which is usually the 'key' be it a Program, Data Account, PDA, Wallet, etc.
but wouldn't it just be an address instead of an account? 
if i'm setting the PDA as an account owner, solana would fetch that exact account for that address?
PublicKeys are fundamentally synonymous as far as  account identification which is why on the client side, providing the PublicKey enables Solana to 'fetch' the account info details which is what is presented to the `entrypoint` of the on-chain program.
i'm hella confused with the PDAs concept!
even on the client side won't i be using the function `PublicKey.finProgramAddresses` and it will just provide a public Key and not an account?
or do i simply calculate the pda and pass it as the usual accounts?
On solana you must declare all accounts that a transaction will interact with.
You have to pass in the pda from the client.
but the pda is just an address not an account i can't use the method `pda.clone()`
The current authority will be the pda.
See: https://docs.solana.com/developing/programming-model/transactions#transaction-format
See `Metdata.findDataByOwner` from `@metaplex-foundation/mpl-token-metadata`
the pda_nft_token_account_address it the account whose authority was X wallet and was changed to my program pda! so when transferring back the authority to the X wallet, what would be the current authority on it the? would it be my program? or what
```rust
if let Err(error) = invoke_signed(
            &SPLIX::set_authority(
                token_program.key,//token program
                pda_nft_token_account_address.key,//the token account whose Account owner was changed to a PDA
                Some(payer_info.key),//new Account Owner Authority
                SPLIX::AuthorityType::AccountOwner,
                &pda,//current owner
                &[&pda],//current Signer
            )?,
            &[
                token_program.clone(),//account for set authority info
                pda_nft_token_account_address.clone(),//
                //CONFUSED HERE AS WHO WOULD BE THE CURRENT AUTHORITY ACCOUNT
            ],
            &["my signer seeds"],
        ) {
            return Err(error);
        }```
and can you guys let me know am i going the right about using the PDA
But yea just really needing help
I am learning solana internals. I am wondering how the RPC is generated for `sendTransaction` JSON RPC. 

For example
```
curl http://localhost:8899 -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "sendTransaction",
    "params": [
      "4hXTCkRzt9WyecNzV1XPgCDfGAZzQKNxLXgynz5QDuWWPSAZBZSHptvWRL3BjCvzUXRdKvHL2b7yGrRQcWyaqsaBCncVG7BFggS8w9snUts67BSh3EqKpXLUm5UMHfD7ZBe9GhARjbNQMLJ1QD3Spr6oMTBU6EhdB4RD8CP2xUxr2u3d6fos36PD98XS6oX8TQjLpsMwncs5DAMiD4nNnR8NBfyghGCWvCVifVwvA8B8TJxE1aiyiv2L429BCWfyzAme5sZW8rDb14NeCQHhZbtNqfXhcp2tAnaAT"
    ]
  }
'
```

Here, in params, what is the underlying data structure of the base58 encoded `params` field. Is it just serializing the `Transaction` from the solana_sdk and then encoding those bytes as a base58 format, then adding that to the `params` field?
Trying to figure that out with JavaScript
what im trying to do is to verify if someone is holding a NFT
for examply i just release a collection called happy plants
and i want to connect and verify someones wallet that states if they are holding my nft or not
do you know anything about that by any chance?
Hey all I really need some help
Hey guys, just wondering, is anybody coding in command prompt or is everyone using a 3rd party alternative? If so, which ones?
sorry ill bother you <a:kek:900024661969096744>
bud can i dm you for questions or not?
üé∏
thanks <@!785084693023424542>
<a:kek:900024661969096744>
i forgot to run anchor deploy
FCK ME IN THE ASS
you could then execute client tests,     my-test.js  / .ts, or run your local web app and point to the localvalidator network.
you can run the local validator, then run anchor deploy,  then the program will be on your local validator
anchor test spins it up for you, in most cases, generally unless u specify otherwise
yea
what happens if you are not running the validator
so i need to stop solana test validator then run anchor test and its working
anchor build = success
but wen i run anchor test and solana-test-validator is running, im getting an error
yeah ive done that.
you need to build, get your program id, and use that in the appropriate areas.  and in the front end, where any IDL is referenced, you would need to reference that program id as well.
search on that line.  `solana address -k target/deploy/mysolanaapp-keypair.json`
you may need to run through the build and program id steps again
so you need to deploy the program to that network, and the network has to be up and running, for a deploy and integration test..   if your running anchor test, it spins a test env up for you.
`solana config get` shows you the config, network info.
well yeah im on my local network
its in the getting started section with the CLI in that blog post you linked.
well for the network im not sure, how to know that im using the correct network
yeah
Are you using the right program id and/or network?
well, i succesfully connected the phantom wallet, the problem im encountering is when i click the increment button

and showing this on my console. <a:kek:900024661969096744>
Please, ask your question.
well im starting to dev on solana and following this instructed guide.

https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291

r you familiar with this? coz my question is regarding something in there
yes of course
may i ask a question guys üò¶ sorry its a noob question
hello
ugh, okay, thanks man
I can spoof the request to the backend bypassing the browser.
No.
you cant login to phantom without having your private key/seed phrase
but if user can connect with 3rd party browser extension wallet, does it prove that the user own the wallet already?
<@!153396545805352960> nice username
Yes, it can.
To verify that the owner of the public key is signing off on the request.
Hey guys, may I know can get_account_info able to retrieve the update Authority of a token? If not, how could I able to retrieve that? Thanks
Hi, Im curious about what the use of signing, like this one grape do
You can open an issue on the solana-labs/solana repo.
where can  Isubmit a ticket to solana?
it recomends doing all the stuff u said
Last I remember using bpf loader 1
Might be because this a bpf loader 2 program.
Sorry I have no idea then
Error: 3QcKZhx87sJvWfVs43ibfJvNzgnwv4BEAqfqUgadBDQw is not a Program or Buffer account
What is the output of `solana program close 3QcKZhx87sJvWfVs43ibfJvNzgnwv4BEAqfqUgadBDQw`
look at all transactions tho, that doesnt seem normal
yup
And the output of `solana address` is `DC6tuNT7QmAu3vdNyRUw2LJ1NYncTEr6DTEKfhc8PxJv`
it did the write thing like a million times
https://solscan.io/tx/554sDJ4WULrj9Q22vgbVzpAJAoJVLf3rZPM9Mrecxt8VHNxzrxsPciXYiT9M5n9VZnivWrbKBQsKozTW95cEtFib
Can you send me the solscan link?
and I am 100% using wallet that created it lol
nope
<@!751003610900332595> & <@!507460195836755969> are you guys working on a metamask integration?
is that still the case?
See if `solana program show --buffers -u m` returns anything.

it also doesn't function as a program  Icant run any functions in it

Also try `solana program close --buffers -u m`
Then you don't have any buffer accounts
that does nothing
Yes, no alternative to that.
rather than systemTransfer
Still would need to put my secret key on server 
Is there any other way to sign txns which is more safe
`solana program close --buffers`
So to call the backend u have to play the game
you put the casino game in the backend as well
and making calls to it
api*
like someone randomly figuring out my pai
And how can i be sure that backend calls are not bogus
Or make the transaction from the backend.
You can send the transaction to be serialized to a backend.
because its the fad lol
Why does everyone suddenly want to make casino games?
yeah
Do you want to close all intermediary buffer accounts?
also tried this solana program deploy --buffer buffer.json target/deploy/solana_escrow.so
https://docs.solana.com/developing/clients/javascript-api#creating-and-sending-transactions
I am building a casino game
when the user wins it 
I am doing systemtransfer into his pubkey
and signing with my secret key
solana program close <pubkey>
Which command are you running?
Can you explain what you are trying to do?
Hey Guys, 
I have been attempting to upload a program to the main net for past hour and it finally semi progressed but didnt finalize. I am attempting to redeem lamports and its saying that the recovered keypair is not a program or a buffer, any help?
Hey Guys 
Is there another way to sign a txn from treasury wallet to user wallet
Without uploading secret key on the internet
okay it worked before so i was confused but after setting network to mainnet-beta manually it works again, thanks guys
and your `solana balance` has funds right.  ?
Did you check balance?
i've tried 3 times now and i keep getting the same error
what network?
Creating token FjWwX9dZYXeaDcqyiPdjAk6QvUkP8VELCKf4q5YBBy9S
unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
can you copy and paste the text for relevant issue? images dont do so well in many cases
is solana having issues or something? i definitely do have enough funds
oh okay thanks guys for you timr, i will try and look into it
lookup `ConnectionConfig` option and `confirmTransactionInitialTimeout`
if it fails.  just call `confirmTransaction` again,  and you can check the status with `getSignatureStatus`
And how long is acceptable for the user to wait.
The question is how sure you want to be.
Even processed is usually fine.
so if i dont want to roll back the transaction i should go with finalized?
See: https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
sorry i am new to this, can you explain what does it mean, i just have to transfer token from one account to another
It depends on what you are trying to do.
so should i use finalized commitment?
Only the high finality transactions wait for 60s, the rest wait for 30s
Yes, the timeouts are hardcoded.
https://github.com/solana-labs/solana-web3.js/blob/168d5e088edd48f9f0c1a877e888592ca4cfdf38/src/connection.ts#L2660-L2674
```js
    let timeoutMs = this._confirmTransactionInitialTimeout || 60 * 1000;
    switch (subscriptionCommitment) {
      case 'processed':
      case 'recent':
      case 'single':
      case 'confirmed':
      case 'singleGossip': {
        timeoutMs = this._confirmTransactionInitialTimeout || 30 * 1000;
        break;
      }
      // exhaust enums to ensure full coverage
      case 'finalized':
      case 'max':
      case 'root':
    }
```
confirmed
hmm looks like it may have change to 30 for some reason.. not sure why
the timeout is supposed to be 60 seconds, so not sure why yours is saying 30.   there is not way I recall to increase the timeout..
but i retry the transaction than it will confirm twice and send double the amount as the last transaction will succeed after 30 secs
can i increase timeout?
if not, you try again -  and as much as 'lol' wants you to use max_retries, you cannot in web3 yet üôÇ
so it just means that the function returned before longer than it was willing to wait to confirm,  but its possible it still did.  if u check the signature, u can check the status
yes but in the error
did u get a transaction id back? check signature is asking u to check its status
i am using sendandconfirmtransaction function for that
thanks
yep
oh derp
Then query a token account instead of a token mint
looks like a token mint?
check signature may indicate that signature was not valid or could not get verified..  the not confirmed in 30 secs could be a time out,  is there no other log or error information?  what does the code look like thats sending a transaction?
im trying to grab the owner(?) of the token account
this is what comes back from getParsedAccountInfo.
```
{
  context: { slot: 106096866 },
  value: {
    data: {
      parsed: {
        info: {
          decimals: 0,
          freezeAuthority: '7xLK6qDjcPRCL1tmrJhQWigdLnHmgyGUg3wtY8oMaqtG',
          isInitialized: true,
          mintAuthority: '7xLK6qDjcPRCL1tmrJhQWigdLnHmgyGUg3wtY8oMaqtG',
          supply: '1'
        },
        type: 'mint'
      },
      program: 'spl-token',
      space: 82
    },
    executable: false,
    lamports: 1461600,
    owner: PublicKey {
      _bn: BN {
        negative: 0,
        words: [
          50266281, 54354271,
          58266536, 62225772,
           1881221, 62578283,
          12457068, 42356583,
          48355173,   112509,
                 0
        ],
        length: 10,
        red: null
      }
    },
    rentEpoch: 245
  }
}
```
using `toBase58()` on the owner shows the Token Program
yeah sorry, can you help how can i solve this error
this is the error
Error: Transaction was not confirmed in 30.01 seconds. It is unknown if it succeeded or failed. Check signature...
but a token account also has an owner account
the owner of a token account is the Token Program
I actually don't know the verbiage
this doesn't return the owner account of the token account
copy paste relevant text, try not to use images
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedAccountInfo
when I try getAccountInfo the only owner i see is the Token Program
hey guys, how do you get the owning account of a token account?
Thanks. It does work. I had an existing ```'processed' as Commitment``` that seemed to be causing the error I was running into. Not sure why though.
ill look further into that thank you
you can use parse all block and decode `instructions` and `inner instructions`
your goal is to find transfer instruction and transfer_checked instruction (also mint, mint_checked, burn, burn_checked)
and parse them to know how many tokens involves.
not sure which endpoint you are using but the code below works fine to me
```
import { Connection } from "@solana/web3.js";

(async () => {
  const connection = new Connection("https://api.mainnet-beta.solana.com");
  console.log(await connection.getRecentPerformanceSamples());
})();
```
im looking for a way to listen for new transactions on a token and get how many tokens were transacted. any idea where I would go to research a solution? I'm not sure where to start looking
I'm trying to fetch TPS  with the getRecentPerformanceSamples() function 
```
async function getPerfSamples() {
    console.log( await connection.getRecentPerformanceSamples())
  }
```
but keep running into the error below.  I'm confused why because it doesn't require a parameter. Sending 1 or 10 as parameters also doesn't work.

```Error: failed to get recent performance samples: Invalid parameters: Expected from 0 to 1 parameters.```
try
```
solana config set --keypair /Users/sebastian/documents/solana_projects/solanawallet
```
I don't think a path with `$` prefix is valid.
since Box gives u access to 32mb of heap
generally a mix of Box and normal accounts helps
are you using anchor?
prolly not soon if there are any plans <a:Hmmmm:695129200260153375>
<a:Hmmmm:695129200260153375>
are there plans to increase stack size? If so, when?
i'm trying to do analysis on the ledger, starting with basic stats like # of daily activate wallets. using the ledger tool (solana-ledger-tool -l /opt/sol/ledger json) is basically unreadable. can i get some pointers on how to parse the ledger? this (https://medium.com/@asmiller1989/solana-transactions-in-depth-1f7f7fe06ac2) was pretty helpful but would appreciate more.
btw it looks like arweave.wallets.getWalletFromFile is deprecated? i was trying to use the wallet json i saved, but i don't know how to do that now
ah okay that makes sense, thank you! yea it was a little confusing, it gave off the impression that you had to do the "Create an NFT" step before the "Mint an NFT" step
The issue is that the backwards compatibility is 0


If you add new account involvements at the end, it will be backwards compatible. 

But because you add new accounts in between existing ones, everything would break
```sebastian@Sebastians-MacBook-Air solanawallet % solana config set --keypair $/Users/sebastian/documents/solana_projects/solanawallet
Config File: /Users/sebastian/.config/solana/cli/config.yml
RPC URL: https://api.mainnet-beta.solana.com 
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: $/Users/sebastian/documents/solana_projects/solanawallet 
Commitment: confirmed 
sebastian@Sebastians-MacBook-Air solanawallet % spl-token create-token
error: No such file or directory (os error 2)```
Can someone please help. I keep getting this error when i try to create a token
are there plans to increase stack size? If so, when?
can't see your code, but I think you can just call sendTransaction. there must a function let your just send the tx without confirmation
like https://github.com/solana-labs/wallet-adapter#usage
Can I remove the timeout that way?
<@788215642070581289> I‚Äôm using phantom wallet
I guess you used `sendAndConfirmTransaction`. There is a timeout in it (https://github.com/solana-labs/solana-web3.js/blob/2cb7c1f04f336096c1fee9b058e8aab649e28cef/src/connection.ts#L2697)
to get rid of it, you can send your transaction directly by `connection.sendTransaction` and implement your own confirmation.
oh cool thanks everyone!
you can take a look at https://solanacookbook.com/recipes/basic-transactions.html#adding-a-memo
???? Wut is happening
It‚Äôs on the docs it‚Äôs called memo I think
hi all, anyone has any resources on how to send a message on solana blockchain? like a transaction with a message as an asset
thank you )
Metaplex is the only one that supports metaplex programs unfortunately
You probably won't get all the information. I would ask in their discord if they have any SDKs or source
I'm looking for Solana Explorer developer. Any help is appreciated.
and basically anytime I seek help people keep recommending another server
I'm merely trying to mint x prints from a master edition
maybe i can view it on transactions explorer for example?
We don't support Metaplex here. However, this may help you https://solanacookbook.com/recipes/nfts.html#mint-the-nft
no help whatsoever
Try Metaplex discord https://discord.gg/v4ZQSMVy
I am not sure where their source is
You have to know how to construct the transaction to interact with magiceden
if anybody could give a hand with this, I'm on the verge of jumping out the window
hello to all, can you please help me to understand what should i do to write simple program of buying nft from marketplace like magiceden
Heh, well thanks!
congratulations?
Thank you
üßê
I checked it yesterday  and it says its on the mainnet but someone was telling me its only on devnet. I guess I will just confirm with them about this.
They're in devnet last I checked. However, I believe governance also covers this
Not entirely sure
Hi jacob, in reference to the goki protocol for multi sig. Its in the mainnet yes?
I think we should probably remove the first example
However, create is creating a single token, no decimals
Mint uses metaplex
hi, for the nft examples here https://solanacookbook.com/recipes/nfts.html is there a difference between creating an nft and minting an nft?
awesoem thanks for all the resources guys
You could also check out the spl stake-pool implementation (I've only glanced at it myself though but hopefully it's helpful): https://github.com/solana-labs/solana-program-library/tree/master/stake-pool/program/src
Right and I'm telling you those are outdated.  There were written before I got my M1 MBP and fixed the remaining issues with M1 support üôÇ
Oh, then you should be able to just run the normal binary
üéâ 
```
$ solana -V
solana-cli 1.9.3 (src:8578429c; feat:1294904204)
$ file $(which solana)
/Users/mvines/.local/share/solana/install/active_release/bin/solana: Mach-O 64-bit executable arm64
```
Looks like it does
Like I said - I don't have an M1 - but seems like every Solana tutorial starts with M1 disclaimers.
i see thank you does this repo support custom spl tokens?
1.9.3 already does that
Binary soon? https://github.com/solana-labs/solana/pull/22261
This tutorial is outdated.  M1 is well supported natively now
The tutorial uses rosetta. I installed on m1 with 1.8.11 with just building from source
I've looked online, never seen this tutorial. Lemme check it iut
Think I am using this one
Gemworks has their stuff open sourced https://docs.gemworks.gg/
What version are you trying? Build from source should work for `1.8.11`+
I don't have an M1 - but see lots of references to problems. Several tutorials floating around specifically for this.  Here's one: https://dev.to/nickgarfield/how-to-install-solana-dev-tools-on-an-m1-mac-kfn
are there any tutorials or repos for staking on solana? like i deposit an nft; it generates 5 token a day
```
                _$LT$openssl..sign..Signer$u20$as$u20$core..ops..drop..Drop$GT$::drop::h7776918288696841 in libopenssl-e1baea03971e8282.rlib(openssl-e1baea03971e8282.openssl.6zh3x91u-cgu.3.rcgu.o)
          ld: symbol(s) not found for architecture arm64
          clang: error: linker command failed with exit code 1 (use -v to see invocation)
          

error: aborting due to previous error
```

```
          ld: symbol(s) not found for architecture arm64
          clang: error: linker command failed with exit code 1 (use -v to see invocation)
          

error: aborting due to previous error

error: could not compile `solana-validator`

To learn more, run the command again with --verbose.
warning: build failed, waiting for other jobs to finish...
error: linking with `cc` failed: exit code: 1
```

```
   _$LT$openssl..sign..Signer$u20$as$u20$core..ops..drop..Drop$GT$::drop::h7776918288696841 in libopenssl-e1baea03971e8282.rlib(openssl-e1baea03971e8282.openssl.6zh3x91u-cgu.3.rcgu.o)
          ld: symbol(s) not found for architecture arm64
          clang: error: linker command failed with exit code 1 (use -v to see invocation)
          

error: aborting due to previous error

error: build failed
```
can someone help me set up solana for mac m1? I am trying to build from source, but i get this error
you generally do not want to maintain or even open a socket unless you truly need it, for real time data or active connection, that is constantly used or while in use, or unless you have no other options.
depends what your doing, but if you want to have an active listener, and the host your connecting to allows you to stay as an active listener and has the resources and configuration, there shouldnt be an issue.   i would probe some of the RPCs and inquire on their socket support.  there are always hacks and work arounds that socket devs are familiar with as well.

for something you do not need an open line for, its generally better to poll or query as needed whatever information you want. if you really truly need more 'real time' stuff and seconds actually do matter, an active poll may be a last resort, or a socket connection that you can coordinate to stay open as long as possible with a scheduled reconnect, active retry, timer based ping, or other work around should give you better results.
or is using websockets, even with their own dedicated resource, still the wrong way to go about doing this do you think?
so in order to do this, do you think one would have to host their own Solana node and connect using websockets to that instead?
Thanks for the help!
Finally figured it out!
whatever your actually doing, there is likely an account which is native and not an SPL-Token which you are trying to perform some operation or function on, so you need to handle Native tokens with WSOL tokens or similar account, or your pointing to a Native account instead of an SPL Token account,  most likely..  `as indicated by the error your showing`   trace what you are doing, the accounts your using, and look that error up in the source code for reference, in the token program.
Please help me to fix it
Hello guys! I'd like to help from you
I am developing dex and need to initialize a pool(SOL/USDC) on mainnet
Because of the below error
`Program log: Error: Instruction does not support native tokens`,
i would hope so, but not certain. someone may know but you can also try here in the mean time:
https://docs.metaplex.com/community
https://discord.gg/mCTkqHtF
Hello guys GN!. hope you're doing just fine around here!.
Just wanna to ask about the process that involves create an NFT collection on solana.
I want to know if there is a way of creating a candy machine or deploy an smart contract without haven't fully created all of the PNGs or images.
**Like pull or deploy images to the smart contract after its creation.**
also, its possible some paid RPC nodes would have better or excellent sockets support?  but I have not investigated that.  likely public ones would not be able to support long standing connections anyway, for many reasons.
not sure on specifics, but in regards to web sockets, they generally are not to be meant to stay open forever, unless they have a dedicated resource,  if someone is hosting sockets and has 100s or 1000s of incoming and active connections, its possible and common they eventually close inactive connections.  the idea people have where they are using sockets to stay open that occasionally get triggered by events is generally not something that is done in practice in the wild, sockets were generally meant as active dedicated connections,  not used as an instant subscription messenger. this has been a referring complaint, but im not sure people understand how sockets in general work.
If not, is there a better way to maintain a connection and listen for logs besides the solana/web3.js library?
Does anyone know why this error might be occuring? Is there a way to maintain a long-running connection using the solana web3.js library
Hi everyone, I was wondering if someone could help me with a specific problem I'm having. I'm trying to keep a long running listener to the solana websockets using Connection.onLogs() and for some reason I have been running into "Connection Error: Connection ended unexpectedly"
Neither language is my forte too üò¶   I'm going to try to look at the source of metaplex and explorer in the hopes I can figure out how that's working.  Thanks for the suggestion
yea in the program they are defined and built, so they can be interpreted and in the client they are defined, built, so they can be passed in.
my bad, I was looking at an instruction vs a transaction.
have a link to the code? and what are u trying to do?
because from the codebase I am looking at, it seems as though the instruction for initialize mint, is returning `accounts` as an array of `AccountMeta`

but when you look at processor.rs, it seems to recieve `accounts` as an array of `AccountInfo`
passing accounts to a program from a client you pass the public keys.  it depends what your doing, and where.
when passing accounts, do you pass account info or account meta?
you might see terms like `unpack` `pack`   `.serialize`  `.deserialize`   and `from`  are common terms when getting the info/data from an account.   many times prefixed with a  `::` or `.`  like Mint::unpack
depends on the type of account data your trying to get..  generally in a program the authors will have methods to get and or deserialize the account info types in question, with examples.  you need to make sure that account is also passed in.
Nice, Found it:

also found a solution to my problems a couple of days ago, which was getting account metadata from public key while in the program.

Golden.
or you could adapt the btree for a different custom implementation.   üôÇ
https://solanacookbook.com/ingredients/serialization.html#deserialization-of-instruction-data
tries just a relationship map
for finding out what accounts are passed in,  you first need to know the program its being passed to, and then the instructions the program is expecting to process.  so look for the instrucitons.rs or where the instructions are create/packed/stored, and if the developer did a good job the accounts required are listed in the comments for the definition or methods of the instructions referenced.
hey all, what is the second accountinfo passed in accounts here:
üçª
üîé
https://github.com/metaplex-foundation/docs/blob/d811ed39ee2a61c62e9c79410ffca80b125c512b/docs/airdrops/create-gumdrop.md
wild, really? Ill take a look
gumdrop does this
has anybody explored the use of a trie for on-chain whitelisting keys within the 4kb stack frame limit? of course assuming you cut the trie down to a certain size & maybe masked some bits to help pack it in
I didn't install solana-cli tools
may need to update your packages in the ubuntu distro as well, and make sure libssl etc is there.  an apt-get update  may do it. for linux usualy update the distro packages before doing anything else. then solana cli tools after rust. update path as needed. should be good then.
I think the problem is I didn't install the cli.

I reinstalled my os forgetting to reinstall that
yea, and possible the cargo path isnt correct as well. make sure the path variable gets updated per linux instructions
I believe to have install both already, Let me try again
install rust?
Install the solana cli tools https://docs.solana.com/cli/install-solana-cli-tools
error: no such subcommand: `build-bpf`
whats the error? copy paste the text
How do I solve this guys: ?
probably,  has to do with account creation or some such. not sure if or where its documented, but if you look at the candy/metaplex code and search on `associated`  or `find_program` between the ts and the rs in reference to metadata and in ref to metadata creation and or mint instructions you should be able to find in without too much issue.  üòõ
`spl-token create-token <TOKEN_KEYPAIR>`
You can provide the keypair in the create call
Yep, is that address derived by using getAssociatedTokenAddress?
`7TvYL5sK7KfKo8yUuTTUL1gYPne7c3UnX9Zh4LTfYZiR` is the address used for the assigned token meta data program Id.
if I create a token with SPL token on devnet, is there a way to create that token on mainnet with the same mint address?
Interesting, many thanks, I'll give this a shot
Address is likely derived
https://solanacookbook.com/recipes/token.html#associated-token-account-ata
So I'm not sure how explorer knows to query the 7T address
Sorry, I've taken a look there and I don't see what might help, if I do a getAccountInfo on BHavohCDx75Nnrze4Mt3yVwskED5S4Ds6bGpxjWsrXhL, this address doesn't show up at all in the results: 7TvYL5sK7KfKo8yUuTTUL1gYPne7c3UnX9Zh4LTfYZiR
I shall take a look thank you
Any of this help out? https://solanacookbook.com/recipes/token.html#get-token-mint
Anyone familiar with how to query the solana API? I'm trying to figure out how to get the address of the mint token program but i have no idea how the explorer is getting a particular address.  If I look at this address on explorer, BHavohCDx75Nnrze4Mt3yVwskED5S4Ds6bGpxjWsrXhL, there is a subsequent getAccountInfo call to 7TvYL5sK7KfKo8yUuTTUL1gYPne7c3UnX9Zh4LTfYZiR, but I have no idea where it's getting this address from in any of the previous queries.  That latter account has the data that I need to parse out
thanks for help
ok, then I guess I will just not use it
I believe so
Is it correct that the WalletModalProvider just adds some nice UI? Like I can use the wallet features without using it?
This uses an older wallet-adapter version, so it shouldn't inherit any future issues
Odd. I wouldn't expect an older version to break that
unfortunately that is still broken when running ```import { WalletModalProvider } from "@solana/wallet-adapter-react-ui";``` it breaks `npm test`
Here's an easy one https://github.com/dvcrn/solana-react-quickstart
All I have was this information on the screen, nothing else.
it didn't work for me, I need a folder that is just a react project, that project depends on the parent package.json
Try with the starter project provided
but I'm using CRA 4 which people have said fixes the issue
`This issue is otherwise blocked until Craco fully supports CRA 5 / Webpack 5 and we can configure Webpack to build with ESM modules that don't use .mjs extensions.`
We don't support token-list here. If you read the PR you made, it should provide all info you need
Hello, I've created a token yesterday, created PR which got merged. But today I've found that I created under chainId 103 instead of 101. I've made another PR with changed chainId but it got rejected. How can I change the chainId of my Token?
Anyone able to resolve this?

https://github.com/solana-labs/wallet-adapter/issues/241

I tried using CRA version 4 and it did not fix my issue
Thanks <@!489206164270350337>
May want to try the anchor discord https://discord.gg/YGeHRAT4
Anyone worked with the chainlink price tables and Anchor? Their example doesn't use anchor and i'm having a mighty hard time trying to pass in an account that they provide to use. Anyone have any tips? I have the id of the account I just can't figure out how to annotate it in Anchor to deserailize it without writing owner or writable
Thanks very much, will investigate further
Many thanks, will go investigate that
Hey there! I'm a new solana dev looking for work on projects to build out my resume! Because I'm new and am portfolio building I'm willing to work at an extremely discounted rate and am flexible with pricing. I have experience and can do everything from art generation to mint launch! Feel free to reach out if you have any questions or want to see any of my work. I look forward to talking and helping to get your project up and running! DM me whenver, I'm always active! My services are:

üï∏ Web creation/design/hosting

üé®  NFT Art generation

üç¨  Candy Machine setup and deployment

‚òÅÔ∏è Gumdrop whitelist setup and deployment
I believe this is correct. Not much documentation on the site, but you can check in saber's discord on how to set it up if the tests don't tell you
Yeah, that makes sense - thanks a lot, I better understand now how it works üôÇ
Solnet, which was linked, is the way to go. Otherwise everything uses the JSON RPC under the hood https://docs.solana.com/developing/clients/jsonrpc-api
You could make sure the account owns them by requiring signing with the NFT account's key + verifying that amount >=1
Read pls my full message
I do not want, Its just security considerations.
Is the issue that it creates a bunch of transfers to swap token accounts? Or mainly because when the program changes, the instructions and how you read the data changes?
Why do you want to simulate a public key?
Guess I‚Äôm after an example of it in use
Maybe strange question, or I just don't understand something, but is it possible to "simulate" public key?
For example, I want to create a program, and users, who interact with this program, send their nfts and get something like reward. So, can I implement this by sending nfts' public keys from user's wallet? Because I'm afraid that in this case someone can cheat and just send keys, without actual owning them
How does it work? Do the users have to log onto a website to claim their tokens or something
Token is already in circulation
Need to airdrop to 50k addresses
Yea I‚Äôm trying to get my head around integrating it
There's this https://github.com/saber-hq/merkle-distributor
Maybe start with https://github.com/bmresearch/Solnet?
Are there any good examples of the merkle distributor being used to conduct an airdrop from an already minted/deployed quantity of tokens?
Hi all, I'm looking to understand what the steps are to query transactions on the solana blockchain? I'm a C# dev by trade so blockchain is a little new to me.. my use case is to follow the transactions of a single collection of NFTs sales, listings on secondaries etc to build a dashboard on the performance of that collection over time. More than happy to do my own research, but a nudge in the right direction for how I might go about this would be very welcome ü§û
Guys, who designed this? Just looking to check with him/her to understand how we can index without having to create multiple versions of native_swap indexing..

```
        // 24 October 2020
        let account_info_iter = &mut accounts.iter();
        let swap_info = next_account_info(account_info_iter)?;
        let authority_info = next_account_info(account_info_iter)?;
        let source_info = next_account_info(account_info_iter)?;
        let swap_source_info = next_account_info(account_info_iter)?;
        let swap_destination_info = next_account_info(account_info_iter)?;
        let destination_info = next_account_info(account_info_iter)?;
        let pool_mint_info = next_account_info(account_info_iter)?;
        let pool_fee_account_info = next_account_info(account_info_iter)?;
        let token_program_info = next_account_info(account_info_iter)?;

        // Today
        let account_info_iter = &mut accounts.iter();
        let swap_info = next_account_info(account_info_iter)?;
        let authority_info = next_account_info(account_info_iter)?;
        let user_transfer_authority_info = next_account_info(account_info_iter)?;
        let source_info = next_account_info(account_info_iter)?;
        let swap_source_info = next_account_info(account_info_iter)?;
        let swap_destination_info = next_account_info(account_info_iter)?;
        let destination_info = next_account_info(account_info_iter)?;
        let pool_mint_info = next_account_info(account_info_iter)?;
        let pool_fee_account_info = next_account_info(account_info_iter)?;
        let token_program_info = next_account_info(account_info_iter)?;```

This is the account instructions structure of the swap instruction for the native swap program. It's not backwards compatible for indexing data. Shouldn't we be including new indices from the back?

EDIT: Additional information that i sent to Serum's discord as well, since Serum initially shared the same base as native swap.

> Hi guys, we're indexing swaps from the instructional level.
> 
> We realised in the older versions of swap events, (i.e. SRM -> SOL
> 
> the 24 OCT 2020 version swap would: Produce a Swap instruction, token transfer (SRM from user -> swap's SRM account), token transfer (swap's SOL account -> user's SOL account), MintTo ownerfee, MintTo hostfee
> 
> the latest version would: Produce a Swap instruction, token transfer (SRM from user -> swap's SRM account),  MintTo ownerfee, MintTo hostfee, token transfer (swap's SOL account -> user's SOL account), 
> 
> How do you guys index? Since data morphs over time when serum upgrades its swap program, wouldn't indexing the data be almost impossible? (If we were to require indexing the entire swap instruction as a whole - including the inner instructions at the same time)
Not entirely sure, but looking at the source it does look like you may have to every time. I'm not super experienced with websockets though, so I may be wrong. https://github.com/solana-labs/solana/blob/master/web3.js/src/connection.ts
or is just killing the process sufficient to remove this subscription
for example, do I always have to Connection().removeOnLogsListener when killing an entire process that is using Connection().onLogs() listener
or do you always have to manually take care of removing that listener
I'm just wondering if the library takes care of killing that subscription when a process using it is killed?
I'm trying to use the websocket subscriptions on the solana/web3.js library through the Connection class


///////////////////////////////////////////////////////////////////////////////////////////////

Amazing thank you for the info
Thank you üôÇ
Cool logo.
`https://raw.githubusercontent.com/juansebsol/xarible_logo/main/xarible_logo.png`
https://raw.githubusercontent.com/juansebsol/xarible_logo/main/xarible_logo.png
You have to use a raw link to the file.
```{
      "chainId": 101,
      "address": "8oWxMbGkKQhrZHejQ9p1pobrc11Vu9wbUy8ByEC8EPt7",
      "symbol": "XAR",
      "name": "Xarible DAO",
      "decimals": 9,
      "logoURI": "https://github.com/juansebsol/xarible_logo/blob/main/xarible_logo.png",
      "tags": [
        "community-token",
        "social-token"
      ]
    },```
Ok quick question for the Solana gods
Made my spl token yesterday was able to change the name and abbreviation but the token logo looks broken
I made sure I used png which was one of the accepted formats
and in the url section I added the following
Yes.
how would i go about creating a community wallet would it just by a normal wallet with multi sig?
Hello guys, I'm new into crypto development, today i made a token and i was wondering if I can see it on my TrustWallet app on my phone?
All good. Think I had the same problem originally
you are 100% right and i dont want to admit how long i've been stuck on figuring this out lmao
I believe it is something like sendAndConfirmTransaction
i think so, i'm getting a lot of the same error s =/
is network congested? i keep getting unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds error when i have enough funds
is there a way that I can wait to receive the TXID until the TX is actually confirmed so that I could send another transaction that has to wait for the first one to be completed? if that doesn't make any sense I can explain a little more
if i send a transaction using `connection.sendRawTransaction()` it seems that no matter what commitment arg i pass in I always get the Transaction ID *before* the transaction is actually confirmed
hey guys i have a question regarding the committment of a solana transaction
Try the anchor discord https://discord.gg/YGeHRAT4
Cool, I'm still on 1.9.2 but I'll check it out, nice find!
I tried program_account: &AccountInfo
But I see the error
Hey can someone help on how should I pass an account as a parameter in a smart contract function? 
What should be after the colon for program_account and service_account?
`pub fn place_order<(ctx:Context<PlaceOrder>, amount: i64,  program_account:, service_account:) -> ProgramResult {
        let account_to_store = &mut ctx.accounts;
        **program_account.try_borrow_mut_lamports()? -= amount;
        **service_account.try_borrow_mut_lamports()? += amount;
        account_to_store.amount = amount;
        Ok(())
    `}
this one works on `1.9.3`
i was getting confused because a different filter `solana_program_runtime`  is mentioned elsewhere in this discord
`solana_runtime::message_processor=debug` this filter worked perfectly for me -- dug it up from this PR https://github.com/solana-labs/solana/pull/22133
Maybe someone knows what I am talking about
I posted this in wallet support and got nothing but spam dms
Help! For some reason my Ubuntu server will not download the cli tools for solana. It through back a curl 403 error and will not download and install. Had anyone had this issue or know anything to work around? I have tried almost everything. Thanks
How to know if recent blockchash is more than 150 blocks away from the head one or not?
hi, tried to upgrade a program using cli, but failed with `Failed to parse ELF file: bad magic: 0x....` , is there anything I did wrong?
I men I did lots of signing but no offline signing
nice, thanks. i looked at how anchor does it and it looks like it calls `solana logs PROGRAM_ID` and redirects into a file https://github.com/project-serum/anchor/blob/master/cli/src/lib.rs#L1925
No I have not. But will have to look into it.
Why?
So for unit testing, I use `solana-program-test` which just invoked your entry point but the output is just for your instructions and easier to get a feel during early testing
```rust
/// Sets up the Program test and initializes 'n' program_accounts
async fn setup(program_accounts: &[Pubkey]) -> (BanksClient, Keypair, Hash) {
    let mut program_test = ProgramTest::new(
        "solana_data_versioning", // Run the BPF version with `cargo test-bpf`
        PROGRAM_ID,
        processor!(process_instruction), // Run the native version with `cargo test`
    );
    solana_logger::setup_with("solana_program_test=debug");
    for account in program_accounts {
        program_test.add_account(
            *account,
            Account {
                lamports: 5,
                data: vec![0_u8; ACCOUNT_STATE_SPACE],
                owner: PROGRAM_ID,
                ..Account::default()
            },
        );
    }
    program_test.start().await
}
```
`rpc_client.send_and_confirm_transaction(&transaction)?;` like when this fails, this prints an `Err` struct that isn't well-formatted, but contains all the program logs
there must be a way to do log just the rpc client interactions
ok
no unfortunately it's everything
Does it skinny down the output to just your program?
yep, i just saw that in the solana repo, thanks! passing in just `"debug"` works too
There may be a better way but that works for me so far
You can try: `solana_logger::setup_with_default("solana=debug");` right after getting RpcClient but you have to search the results for your program specific messages
Hey guys have a quick question, we're building on devnet and we followed the guide from metaplex for candymachine v2 but we get a civic capthca. Any idea how we can get the normal captcha you would see on a mainnet mint
See what https://github.com/Soul-Dogs-City/candy-machine-v2-mint does
is there a way to print the `program-logs` when using `TestValidatorGenesis`?
anyone have code that accepts a mint's CM v2 ID, and returns the # minted and # total supply?
So either that token, which I presume is not the token in question, either used the link I originally gave you or: https://solanacookbook.com/references/nfts.html#mint-an-nft
<@!814228493302497301> Have no idea?
Thanks
https://github.com/solana-labs/token-list
i dont wanna transer, i wanna add it to token registry, unrecognized to My token name
Is it posible todev for Solana without learning Rust but use something like Solidity or Solang for example. How reliable are the options vs learning Rust?
It was perhaps pointing to `mainnet-beta` when you originally created it
if you do a `solana config set -ud`  which will point to devnet and then do `solana balance` if you get error or '0' then, yes, you originally created when pointing to mainnet-beta
So now this wallet is on the mainnet rigth?
Of course
solana balance 0 SOL
C:\Users\Francesco\Desktop\Mainnet-Beta>solana config set -um
Config File: C:\Users\Francesco\.config\solana\cli\config.yml
RPC URL: https://api.mainnet-beta.solana.com
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: ~/.config/solana/devnet.json
Commitment: confirmed
So, `solana config set -um` then. do a `solana balance` and what does it return?
I mean like this token : https://solscan.io/token/ammoK8AkX2wnebQb35cDAZtTkvsXQbi82cGeTnUvvfK#metadata
It create me by default a devnet wallet
Config File: C:\Users\Francesco\.config\solana\cli\config.yml
RPC URL: https://api.devnet.solana.com
WebSocket URL: wss://api.devnet.solana.com/ (computed)
Keypair Path: ~/.config/solana/devnet.json
Commitment: confirmed
https://github.com/solana-labs/token-list
Not for this
Are you using MetaPlex?
If the `Keypair Path` is the wallet you created then you can just change your config to point to mainnet-beta and use the functions in `solana --help`
What does your `solana config get` produce?
Hey guys, anyone knows how can I add metadata to newly created spl-token mint?
Pls
Don't feel obligated to but if you will then I'll happily accept :)
btw let me dm you the project
haha, i will send you some local currency if we end up using your suggestion
Feel free to send me 5% royalties üòâ
If you created your token using `spl` on testnet, you can not 'transfer'' it to any other net however you may be able to 'clone' it into a localnet. What is your intent, where do you want to transfer it to?
thank you <@!590982495923732511>
ill look into it
*web wallet
ahhh very smart
if create a mainnet-beta wallet using CLI how can i access to it using we wallet?
I think you should store the data encrypted with a passphrase that is the pbkdf2 hash of their password, and have the user enter the password every time.
we'll probably have enough funds to make a custom database
and if we see that its getting out of hand
i think for a while 3rd party database is gonna be good enough
Not necessarily.
only kinda works with tethered headsets
too much of a hassle
not good enough
Or implement a "bridge" website, where they can connect their wallet from a browser and the website communicates with the headset through WebVR or WebRTC
right, so thats why its a bit scary with 3rd party databae
<#763249718339567626>
So you need to find a secure way of storing that data.
A keypair is 32 bytes of data that represents a private key.
<#763249718339567626>
A wallet is nothing but a fancy way to store a keypair file.
No. I am not but it seems to be relatively new and without any official releases yet. I may be wrong but their gh shows otherwise. Just curious, are you a VR dev?
do you know anything about this solana-unity wallet? https://github.com/allartprotocol/unity-solana-wallet
okay its strting to become a little clearer. storing so much wealth is very scary, especially while using 3rd party database
You beat me to it but yes. That would be ideal.
and maybe other way around,too - funding their local game wallet with currency
preferrably in our website
right, and then i should provide them with a way to transfer their assets from wallet owned by us to their personal one
A great way to mitigate the inability to connect while in VR.
You have users create their account with your VR game  and automatically create a wallet on their behalf.
What you wrote made perfect sense <@!263967078346653697>.
can i create a wallet for a player that has logged in with they email/pass and store their wallet info in database?
let me rephrase
Exactly. The structure of a blockchain prevents such a tx to be made.<@!401712056543477761>. Anything added must be the last. Nothing can be added in between
Meaning if a transaction is signed more than 150 blocks ago it is rejected.
No that is _recent_ blockhash.
which we own
that players can make a regular account with email/pass and a wallet is created for them
is there any feature like what venly has?
hey guys, i want to build a Solana-based VR game, where there is no way to connect to a wallet
I wrote mine, but nothing worked
Hello, who can drop the contract deployment script?
<@!401712056543477761>helpü•∫
what means after 150 blocks? It is possible to put transaction into the block even if it is not last??
Do we have experts in this discord?
ok tnx anyways
I have no idea what you are asking. I'm new on Solana and block chain. I would defenetly help you if I had experience
It usually helps me when my TL or TA make questions about my implementation
i dont think so
<@!496606741228814337><@!268090589734633473>can you help
haha
Just ignore what I said, I'm just trying to be your rubber duck, I have no idea if it is possible
Can i add my testnet token to the spl-token registry? <@&439193425397415936>
i am not sure what you are saying, without transaction how should i just complete the req
To create some redundancy
Or do a retry with sync methods?
it waits for transcation to get over but it that time my heroku request timesout
Can't you convert to sync?
Yeah
thats why
async
Is you BE sync or async?
I'm still trying to create a simple smart contract but I can't find resources to learn
right
Solana.py or sol.py I think, but that is only to interact with already deployed programs AFAIK
yes and because of that i am facing problems in my backend
but i think there's a solana library
i'm not properly making a program on python, but rather sending an http request
Isn't that happening all over Solana? It feels that every transaction is taking ages
You can use python to create programs on Solana? ü§î
Hello guys, so is there a way to fasten the process of transaction, its taking like 30-60 secs sometimes to get a transaction to complete
hey guys, i'm trying to learn a bit about solana and how it works since i'm a newbie, but i'm having troubles decoding the base64 data that's in the response of a json-rcp request, i've tried both online tools and python library but i'm only getting  unreadable characters, any tips on this ? (i've tried also putting "encoding":"jsonParsed" in the payload when sending the request, but getting returned base64 anyway)
specifically talking about this https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo
thanks in advance <:prayge:827970344865890324>
Do you guys recommend any tutorial/course to learn about rust and Solana? I did a course of rust on udemy but it's not enough to learn how to create Solana programs. Any help?
it will get expanded on compile right ?
what's this proc macro thingy ?
Hey guys! I'm new here
the errors seems to be same both are serialize/deserialize errors
thx
And your custom errors if you made any
lemme try again as its a mess now and kinda harder to extract stuff
https://solanacookbook.com/references/anchor.html#error-codes
https://github.com/project-serum/anchor/blob/01ff03b09b30b974f2854dd0b0b9a958dd509622/lang/src/error.rs#L112
Others may see why, again... Anchor discord may be your more responsive resolution
I have to run, but if you can manage to put into a gist your program as well as how you invoke it (via Rust or TS/JS)
update data
Update data or actually re-deploying your program?
i'm trying to update it
no i'm not deadling with token's its just program account
etc
if you are invoking swap then look at token-swap in the SPL
which i think is 3004
coz now im getting 0xbbc
are there any other errors other than https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/error.rs ?
Open the `.zshrc` in your home directory and add the path recommended by Solana install. Save, exit terminal, reopen terminal: https://topslakr.com/2020/02/macos-catalina-and-beyond-updating-path-in-zsh-2020/
in your case every time you open your terminal the content inside ~`/.zshrc` is executed so instead of manually running `PATH="/Users/.../solana/install/active_release/bin:$PATH"` you just have to save it to your `~/.zshrc` so that you don't have to run it each time you open your terminal
Is that for the reason that you said? Not saving the new PATH in my /.zshrc?
Sorry Edward, you've lost me. I think you may have foreseen the issue - when I previously put in 'Solana --version' it came back with 'Solana cli 1.9.3', now that I have closed/reopen my terminal, if I type in solana --version, it says zsh: command not found: solana
also try `echo $PATH` to see what's in the `PATH` if you're curios
No not that...
i mean when you don't save the new `PATH` in your `~/.zshrc` it won't know where the **solana** binary is.So it will be an unrecognized command
Ah, does that mean that if I did come to create a token, etc, that I wouldn't be able to access/alter it at a later date?
just make sure you've added it in your `~/.zshrc` or else it won't work when you try again in new terminal
Think that I have finally gotten around it. Sorry for all the dumb questions, it just wasn't playing ball
Yeah I figured it out thanks tho
i could only find one result in this server when i search it
ya i'm in there but i was just trying to get the name for `0xa4` error from here..
There is a link to the Anchor discord if you look at the Anchor repo README.md at the bottom of the Contribution section
ya
If I input 'Solana --version' now, I get 'Solana-cli 1.9.3' which I think means it is finally registering that I have the Solana tools? Right?
Hello, I am trying to convert this code: https://solanacookbook.com/references/nfts.html#get-nft-mint-addresses

Into python, I have downloaded the metaplex python lib: https://github.com/metaplex-foundation/python-api

But I don't find the method: MetadataProgram.getProgramAccounts  equivalent in the python lib.

I know that there is Client.get_program_accounts in Solana python lib, but I have tried with it, and it was not working the same as the Metaplex one üò¶
just execute this command...
I'm very much a noob with this, I don't know
you might've to change that `...`
`ls /Users/.../solana/install/active_release/bin`
are you sure there is solana bin in that path ?
I have tried executing this in a variety of ways but it doesn't seem to do much.
i think its coming form my program...
i just have similar program https://github.com/project-serum/anchor/blob/master/examples/tutorial/basic-1/programs/basic-1/src/lib.rs its initializing but when i do update i get this error...
If the error isn't coming from your program, is your program invoking anything?
So, there is a .zshrc profile (in your home directory) that allows you to extend the $PATH
You will need to restart your terminal once you make the change
you might've to add the `PATH` to your `.zshrc`
didn't you try executing this `PATH="/Users/.../solana/install/active_release/bin:$PATH"` on your cli ?
i'm just doing a rpc call to my program...
zsh
Are you in a bash or zsh terminal?
Then it's not the token program giving you problems. What is the transaction/instruction you are sending?
Hey guys, when I'm trying to install the Solana tools on MAC using this command 
sh -c "$(curl -sSfL https://release.solana.com/v1.9.3/install)"
I get:  Please update your PATH environment variable to include the solana programs: PATH="/Users/.../solana/install/active_release/bin:$PATH"

Can't figure it out. If I input 'Solana --version' it doesn't recognise that it has been installed. Probably really easy but any help would be appreciated. Cheers
any grep that helps ?
and i tried `tail test-ledger/validator.log -f` which was too verbose and i couldn't find mine
164rd entry ? i could only find few errors in that file
Message.from() takes number array, Buffer or Uint8Array. I have Transaction object how do i pass it?
You'd have to do CPI to the systemprogram
We don't support BSC
Install either 1.8.11 or 1.9.3. Both are compatible with M1
`0xa4` is hexadecimal for the decimal value `164` which is the index into the error enum and it is zero (0) based so count from the top until the 163 rd entry. You could also run the program in solana-test-validator and watch the log
Oh, nice, ty)
The SDK won't stop you from sending the same transaction again but the cluster will reject it, yes.
Using this signed transaction can only be sent once?
And sendEncodedTransaction
There is a method called sendSignedTransaction
<@760117293689733160> have you made anything related to the offline signing?
Doesn‚Äôt work, mate. But I really need the same thing. I even tried to implement this from Solana docs.

But it still doesn‚Äôt work without passing sender keypair to the array in the connection.sendTransaction

Would appreciate any help
which one is it ? 
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/error.rs
`Custom program error: 0xa4` anyone know what this error means ?
I'm using M1 Mac which has problem with using command `solana-test-validator`.
should I install and use solana in Rosetta terminal?
I already googled about it but I can't solve the problem. anyone help?
I want to use the BSC chain. I ave found existing source code that we can copy from 3 other contracts to make work here.  The main source code is found here : 0x23CE9e926048273eF83be0A3A8Ba9Cb6D45cd978. Would like to add the functions found here : 0xb4c4E574c0762FBc4234d91c0739Ea0e615D0565  And add random NFT generator found here : 0xA9cB55D05D3351dcD02dd5DC4614e764ce3E1D6e  We will also wasnt to add function for max wallet size. I will provide a link for that code as well. before testnet we will need to collaborate a bit on the functions.
anyone know how to send lamports in rust contracT?
Hi. Im looking for solana dev that can develop coin flip smart contract for a coin flip betting game app. DM me
You can copy the text on id.json. And paste it on the import edit box of Phantom
How do I export solana wallet from cli to phantom wallet? I know id.json file is solana wallet's private key, so I want to convert it into base58 string.
Is there any function like "mapping" in ether?
maybe i'll have a go!
But yeah, it'd be wonderful to see somebody make protobuf work for solana programs!
yeah it's a great feature.  The program instruction/account ABI is usually pretty stable though after deployment, so I don't that aspect of protobuf would be all that useful in general.  We make use of protobuf in various parts of the core validator code though, for this very reason
I wonder if its better wire size than borsh actually
and the actual wire size is quite good despite this feature
I check code under createAmmAuthority function, which is calling createProgramAddress it required seed and programId, this through error invalid program argument over blockchain. any suggestion will be great help for me.
One nice thing about protobuf is that you can version them, maybe i'm over-estimating the utility of that, but it would be nice not to have to worry as much about handling accounts using a "V1" or "V2" format
I've been favouring bytemuck [1] myself recently. It's a little painful to work with but love the zero copy in the program.  Anchor uses it under the hood as well iirc

[1] https://docs.rs/bytemuck/latest/bytemuck/
Mostly just ease of integration, less new code to write.
Out of curiousity, why is borsh typically used instead of something like protobufs which support versioning? I'm guessing decoding protobuf is more expensive?
Hello All, I am calling createAmmAuthority and passing Dex program Id, which through error failed: invalid program argument. Anyone know which program id it accept? I am integrating Create Pool. uu2nVstfFtsnDmZBDABN88P7MdAQ69Xy6nUCSJ8b9BVJMVg2WmdVUmTQVmpaRP1WEh31NK8ULehVn8PqXg2tANT
does  `token_program` need to be explicitly passed in in CPI? a lot of code examples pass it as the last argument to `invoke` but it seems to work without it

edit: not `system`, `token`
why this transaction failed?
```4vLMbaBWdpGqoFxfMAF15ykDWZ1889V3PZhMEp963wdAWUELixq552rgK43rmPAcR71MiEJ9Xng1emoKyG1ue5p4```
ahh, gotchya, obvious now that you say it!
you can take a look here https://borsh.io/
a String will take 4 + string length, the 4 byte is u32 for string size
a Vec also take first 4 byte to store vec size.
1 byte is for option
Also it looks like borsh may not deserialize correctly if you have zero padding at the end?
yeah, was wondering about how exactly to determine the size https://discordapp.com/channels/428295358100013066/517163444747894795/929214489151279104
you can use the governance program, and metaplex as borsh examples for front end and program code for reference, try to make sure your setting up the model your deserializing correctly, and the map is correct, even 1 byte off can ruin everything, and some types end up adding an extra byte+ unexpectedly or work a little differently than you may initially think.
Hey do any Devs have any advice on debugging borsh deserialization? I have the schema and i think what i have should work, but i keep getting `InvalidInstructionData`
Heh all good.  It would have just been pretty funny if it actually was nefarious üòâ
got it?
virus is a nft content, not phishing virus or whatever xD
After merging my token info on github how long does my slp token name and symbol take to appear
`...-virus-solana.netlify.app`  üò¨ 
But sorry, I don't recognize that error
anyone familiar with this error?
What is this automerge error
How long do Pull requests for token names take to go through
for example, when looking through the metaplex token metadata source I find:
```
pub const MAX_DATA_SIZE: usize = 4
    + MAX_NAME_LENGTH
    + 4
    + MAX_SYMBOL_LENGTH
    + 4
    + MAX_URI_LENGTH
    + 2
    + 1
    + 4
    + MAX_CREATOR_LIMIT * MAX_CREATOR_LEN;
```
for 
```
pub struct Data {
    pub name: String,
    pub symbol: String,
    pub uri: String,
    pub seller_fee_basis_points: u16,
    pub creators: Option<Vec<Creator>>,
}
```
So it seems like there are 4 bytes of padding per field, but then for the u16 there is no padding? or a 1 byte suffix or something?
I'm curious how people come up with sizes for their borsh serialized state structs, how do I know how much additional space is used by borsh?
How do you use ra.githubsercontent do i just add my profile project link after the .com?
https://raw.githubusercontent.comjuansebsol/xarible_logo/blob/main/xarible_logo.png
Will this work for uploding my spl token image?
any idea how to serialize a message to send the data without verifying the signatures?
does anyone know of a resource that could guide me towards creating a token account and sending a token with one transaction with the web3/js library? the way I figured it out so far involves approving two transactions one for token account and one for sending token
you should be able to use the spl-governance program to execute functions of a program or address, yes
Does this governance program execute proposals to control the treasury
Thank you lisenmayben
Hey dev support, is there a DAO program ?
Anyone know when the SPL token registry will accept new tokens?
haha
classic
I reinstalled and restarted my ide now it works
should it be, `import { WalletName } from "@solana/wallet-adapter-base"; `  ?  wallets has the actual wallets..
(using vue)
at the top of my file in `<script setup>`
I literally copied the code from the previous project and i use the same version
how/where are you defining `WalletName'` ? ahh.  
doesnt make sense the same version would not work.. hmm
hm I am so confused <:thinkfused:795445143658430496>
this is my import
`import { WalletName } from '@solana/wallet-adapter-wallets'`
yes will reach out!
Someone with knowledge of web3 could help me with something very simple? I got stuck hours ago . I don't know how to move forward
wallet-adapter-wallets@0.11.3
yeah exact same version
`'import("myProjectName/node_modules/@solana/wallet-adapter-wallets/lib/types").WalletName'`   infers its being imported like that. thats not a typical use I see.
Is anyone else having trouble uploading programs?
Do you have a line to the author of this perchance?  
The "Prerequisites, 2. Solana Tool Suite" talks about Mac M1 hardships that have been all resolved, as of v1.9.3
sorry
maybe not
oh wait
the prebuilt components?
that is exactly what i have been doing
What usage are u familiar with?
the library may have been updated?
Gotta take a look...
download the code and follow the repo directions.
https://github.com/dabit3/complete-guide-to-full-stack-solana-development#prerequisites
it takes like 3 min
if u want u can test
and copied the code
ive installed everything they asked
not familiar with this usage.   is the lib the same version you were using?
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
the project is not setup correctly, not referencing correctly, and or not installing packages correctly.
could be a lot of things.  what are you doing?  what project or example are you using? etc
do you know why i might be getting this
nah completely different thing

look
hey i think i have similar error
I did the same thing in my previous project and it worked
Why do I get this error:
```ts
Argument of type 'import("myProjectName/node_modules/@solana/wallet-adapter-wallets/lib/types").WalletName' is not assignable to parameter of type 'WalletName'.
  Type 'import("myProjectName/node_modules/@solana/wallet-adapter-wallets/lib/types").WalletName' is not assignable to type '{ __brand__: "WalletName"; }'.Vetur(2345)
```
Error causing Code:
```ts
const wallet = useWallet()
....
wallet.select(WalletName.Phantom)
//            ^^^^^^^^^^^^^^^^^^
```
‚ô•Ô∏è
https://docs.solana.com/cli/usage
they are under command line, and solana:
`solana balance` `solana address`  `solana --help`
Could you direct me to where I can see the list of comands like see wallet balance and see my wallet pub key? Im reading the docuemntation under filesystem wallet and cant see any info on it.
Is it possible to invoke the SystemProgram's `CreateAccount` instruction on a PDA, or do you have to call `invoke_signed` from inside an instruction, like how Anchor does it?
Yes, and you needed to specify that your keypair was in a different location than the default.
You are a king! Was taht because I needed to specify that my keypair name was my-keypair?
You have to run `solana config set -k my-keypair.json`
sebastian@Sebastians-MacBook-Air solanawallet % spl-token create-token
error: could not read keypair file "/Users/sebastian/documents/solana_projects/solanawallet". Run "solana-keygen new" to create a keypair file: Is a directory (os error 21)
sebastian@Sebastians-MacBook-Air solanawallet % ls
my-keypair.json
sebastian@Sebastians-MacBook-Air solanawallet %
Ok so the file is in the directory im currently in and still wont run the command any ideas?
https://doc.rust-lang.org/cargo/getting-started/index.html
It means
1) Read the rust book sections on generics and lifetimes
2) Remove the 4 underlined characters that message is showing you
so sorry I am too newbie to rust.

What does that mean?
the call should always eventually come back or error out, and then you should be able to try again. how its managed would be up to you though, as it relates to any network call strategy.
Mostly not reading the compiler's recommendations

what could be the possible causes:

https://github.com/kamda-cyrial/Cyrial_Helloworld

Ran `Cargo build-bpf`
Followiung up on this - Thanks - I was able to get what I needed by hacking the request together using the private `_rpcRequest` function like this:

```  const res = await connection._rpcRequest('getAccountInfo', 
    [
      myAccountPubkey.toString(),
      {
        encoding: 'base64',
        commitment: 'processed',
        dataSlice: { offset: desiredByteOffset, length: desiredByteLength }
      }
    ]
  );  
  //note, no error handling for acct not found - blindly going after data
  const buf = Buffer.from(res.result.value.data[0], 'base64');
```
what do you mean with that?
sorry, did you get this figured out?  It's probably on a different derivation path
to make so many errors
what did i not include

my app
to npm start
im trying
hey umm i am following this guide and dont know where the errors are
essentially just looking to add a timeout to a transaction's `sendAndConfirmTransaction`
hey all, i have a script that distributes a token every night, and it keeps getting hung up on when a `sendAndConfirmTransaction` call times out / hangs for a while, which eventually leads to my GCP cron job exiting execution becuase it thinks there is no more activity anymore. Anyone have a good way to limit the time you can wait for the `sendAndConfirmTransaction` call to go through, and if it exceeds that time to just cancel the request?
to update the idl automatically
anyone knows i pass this script to which folder?

So it turns out, this was actually close after all. I tried the ```bytes: 'r'``` but that didn't work, presumably because the text value "1" encoded to base58 isn't how solana stores boolean.  I just needed to create a Uint8Array: ```bytes: bs58.encode(new Uint8Array([1]))``` which worked and the filter got what I was looking for.
true
Some people never connect their computers with the keypair to the internet
It is only as safe as your backend
If you don't have that, I don't think so
one more thing <@!489206164270350337>. I have a function that only works in the backend. It is not connected to anything and just runs every 24 hours once.
Would it be here be possible to just hardcode the keypair into the script. Would that be safe?
If i don't have seed phrase, is it impossible to recover?
Not enough info in the stacktrace
thanks man!
Will look into it
Only happens when I add the code
That's a react issue?
Good flow here https://solanacookbook.com/recipes/offline-transactions.html#sign-transaction

and I get these error
Any help?
Yes. Set yourself as the payer in the transaction, partial sign with user, send tx to backend, sign with your stuff and broadcast to network
Now I'm using these syntax...

```js
    const devnet = new Connection("my-rpc-cluster");
      const kypair = Keypair.fromSecretKey(
    Uint8Array.from([my-private-keypair])
  );
    let tx = new Transaction().add(instruction);

    (async () => {

      const sendConfirmTransaction = await sendAndConfirmTransaction(devnet, tx, kypair);

      console.log(sendConfirmTransaction);

    })();
```
how do i safely store private and fetch them safely when a user of my webpage does something that needs a keypair to sign which i hold. Would it maybe be possible to send the transaction that needs to be sign to the system which holds the keypair, sign it there and send the signed transaction back to the webapp. So that the keypair never leaves the system where it is safed at.
Would appreciate an answer ‚ô•Ô∏è
Mango markets open sourced their way https://github.com/blockworks-foundation/ido-pool Can't really give much more advice as it causes a bunch of legal issues
https://docs.solana.com/cli/deploy-a-program#resuming-a-failed-deploy
Hey guys, what is the best way to do a 'token sale' for a Solana/SPL token? Ethereum would just have pre-made things you could extend into your contract I think for example.
But all I found so far is setting up Liquidity Pools on DEXLabs (which setup a market for Serum... which then shows up on Raydium to trade... but you have to have a large liquidity pool i heard like $10k USD to maintain liquidity for serious token trading). Liquidity Pools seem a bit different than a pure direct to consumer token sale.
<@!489206164270350337> Would you like to help me for that?
the deployment is failed and also i can't make any transaction with my wallet anymore
yeah, right
i suppose it happened because of my fault while deployment
Sounds like you deployed a program
my wallet account owner has changed to bpf ungradable program
wallet account owner
On what? Are you authorized?
Hi, could you help me to change account owner?
Thanks very much.
Yes, the more bytes you want to compare then you'll need a base58 encode/decode lib
Ok - tracking now.  That makes sense. All new to me - was just following a pattern from code that was searching for a string.  So it's simply then, ```bytes: 'r'``` I try to overcomplicate!
'r' is the base58 representation of 0 (false)
No need for that, isn't bytes looking for a base58 string?
this was after running your code <@!99911938955309056>
So, to test for a "true" boolean value, the memcmp filter would be: ```bytes: bs58.encode(Buffer.from('r'))``` Is that correct?  Thanks!
what if the wrong pubkey is showing

Make sure you have set up your project correctly importing `@solana/web3.js`. I suspect you have other project issues
and I still get the error
I already do it
you're right
isnt it private key?

i dont think u should show those numbers
`import { Keypair } from "@solana/web3.js";`
Or that ‚òùÔ∏è
woah thanks
run `solana-keygen recover -o my-wallet.json` - that'll prompt for the seed phrase
I'm getting these error now...
<@!489206164270350337> <@!99911938955309056> <@!770650336725172267>
If you know the seed phrase, you can use the from base58 string to get the keypair, and log the keypair secret. https://solanacookbook.com/recipes/keypairs-and-wallets.html#getting-keypair-from-a-secret
yessir
do you know the seed phrase?
phantom
where does the existing wallet exist?
Awesome - thank you. I would have guessed around for years before figuring out the q & r!
with private key
ay guys anyone know how to create a json file of an already existing wallet
yeah, I saw it there. Thanks.
That's not the same file. Check the file I sent and you'll find it
It's not `solanawallet.json` (with that extension maybe?

If it is indeed just `solanawallet`, then `chmod` it so you have access perhaps

yeah, I was looking at the code directly in the library via `get definition` on visual studio code with rust analyzer, I guess it is different somehow from what is on github. can't explain why though
Config File: /Users/sebastian/.config/solana/cli/config.yml
RPC URL: https://api.mainnet-beta.solana.com 
WebSocket URL: wss://api.mainnet-beta.solana.com/ (computed)
Keypair Path: /Users/sebastian/documents/solana_projects/solanawallet 
Commitment: confirmed 
sebastian@Sebastians-MacBook-Air solanawallet %
Yeah i see the file in that folder
In your's? https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L153
nice, Thanks.

but I don't see it in mine here, What could be the cause?
Run:
`ls /Users/sebastian/documents/solana_projects/`
Do you see a file named `solanawallet`?

Run:
`solana config get`
see what the wallet file is configured to use
Hmm i think you might be right
Maybe where you are doesn't to have access to your keypair?
sebastian@Sebastians-MacBook-Air solanawallet % spl-token create-token
error: could not read keypair file "/Users/sebastian/documents/solana_projects/solanawallet". Run "solana-keygen new" to create a keypair file: Is a directory (os error 21)
sebastian@Sebastians-MacBook-Air solanawallet %
Just made a new one just to try it out and i get the same error message
I think you can provide your keypair location with the cli command
You may want to check that your keypair is what is expected in the call
Tells you what accounts to provide right above 
```
Accounts expected by this instruction:
    ///
    ///   * Single authority
    ///   0. `[writable]` The mint or account to change the authority of.
    ///   1. `[signer]` The current authority of the mint or account.
    ///
    ///   * Multisignature authority
    ///   0. `[writable]` The mint or account to change the authority of.
    ///   1. `[]` The mint's or account's current multisignature authority.
    ///   2. ..2+M `[signer]` M signer accounts
```
Kinda confused
I think that is where the code is from, this is the instruction.rs file

I just couldn't understand what it served
But why would I create a new one if I already created a wallet
Have you tried what it tells you to do?
Please check the instruction.rs file here https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L153
Can anyone help üò¶
```sebastian@Sebastians-MacBook-Air solanawallet % spl-token create-token
error: could not read keypair file "/Users/sebastian/documents/solana_projects/solanawallet". Run "solana-keygen new" to create a keypair file: Is a directory (os error 21)```
Hey all, what is `owned_pubkey`, `owner_pubkey`, and the `signers_pubkeys` needed for this instruction please:

```rust
/// Creates a `SetAuthority` instruction.
pub fn set_authority(
    token_program_id: &Pubkey,
    owned_pubkey: &Pubkey,
    new_authority_pubkey: Option<&Pubkey>,
    authority_type: AuthorityType,
    owner_pubkey: &Pubkey,
    signer_pubkeys: &[&Pubkey],
) -> Result<Instruction, ProgramError> {
    check_program_account(token_program_id)?;
    let new_authority = new_authority_pubkey.cloned().into();
    let data = TokenInstruction::SetAuthority {
        authority_type,
        new_authority,
    }
    .pack();

    let mut accounts = Vec::with_capacity(3 + signer_pubkeys.len());
    accounts.push(AccountMeta::new(*owned_pubkey, false));
    accounts.push(AccountMeta::new_readonly(
        *owner_pubkey,
        signer_pubkeys.is_empty(),
    ));
    for signer_pubkey in signer_pubkeys.iter() {
        accounts.push(AccountMeta::new_readonly(**signer_pubkey, true));
    }

    Ok(Instruction {
        program_id: *token_program_id,
        accounts,
        data,
    })
}```
ok ok it's right thanks!
<@!814228493302497301> is that what you asked for?
You're not going to get a keypair from a publicKey

but will works? I provide the public key not the pivate key that are in my json

it does if `anchor.toml` is pointed at `localnet`. unless you run with `--skip-deploy`
Does anchor test load your program into the test validator? If not you will need to deploy it as per test validator instructions
I used to do that when not all the functions were implemented months ago, but it isn't recommended. It may have been fixed too
u saying I can call `_buildArgs`, `_rpcRequest`, `create`, `jsonRpcResultAndContext` from my code?  I'm not a javascript hacking wiz.
Oh it's right!!
https://solanacookbook.com/recipes/keypairs-and-wallets.html#getting-keypair-from-a-secret Use `From Base58 String` for what you're doing
Doesn't look to be exposed. You could do do the custom rpc calls with one of the internal methods, but that is not recommended
wut? 

> JSON.parse("EEtBUV6kTXa5nGhAd7sgUGHYUFzL2UhiY7u8Q95fh5KE")
thats not json...

> Keypair.fromSecretKey(secretKey);
the byte[] of a public key is not the private key.

So no, those things are not the same.  The original example is reading the private key from a private key file.  Yours is just pasting in the publicKey.
but now i get this when trying to anchor test
this wasnt an error before

https://docs.solana.com/developing/test-validator
```js
   
 const secretKey = Uint8Array.from(JSON.parse("EEtBUV6kTXa5nGhAd7sgUGHYUFzL2UhiY7u8Q95fh5KE"));
    const owner = Keypair.fromSecretKey(secretKey);
    console.log(owner);
```
This is not the same?
genisis should give your default wallet a ton - but you can airdrop unlimited.
its unlimited sol right
It's local for testing. You are not rich... yet....
its huge
holy shit the balance works
Yeah.  Would need `getAccountInfoAndContext` to call `this._buildArgs` with an `extra` param with `dataSlice`.
In another terminal start it `solana-test-validator` (see `solana-test-validator --help` for more detail), then go to the terminal with balance request and try again
I do - and I just want a small byte range.  But I don't see that param of the rpc call exposed in the js library. https://github.com/solana-labs/solana-web3.js/blob/168d5e088edd48f9f0c1a877e888592ca4cfdf38/src/connection.ts#L2404
Wait, you just want to use it period
no, how do i do that
Do you have `solana-test-validator` running?
You have to understand the format of the account
also when i try to check balance on local net

<@!616045157925650453> have any other ideas?
You have to base58 encode it. For reference, a single byte with value 0 = 'q' and a value of 1 = 'r'
anyone know of an easy way to use the `dataSlice` parameter of the `getAccountInfo` RPC call over the js web3 library.  It looks like it isnt exposed, nor is there an obvious way to hack it in.
and still the same error
You could try and see what people in the anchor discord think https://discord.gg/YGeHRAT4
yes i changed everything to local host

you can see in your error message tho that its attempting to deploy to localhost:8889
yours is already pointed at devnet tho so not sure why anchor is trying to connect to a local cluster
yep
well i mean fake sol
will this be devnet?
I didn't write it, but I helped with some of the documentation
üòÇ  thanks for the guidance
You wrote the TS library
Ah, actually just recognized your name haha
checking it out now
The TS library separates this so that it is easier to getOrCreateAssociatedTokenAccount, but that is in beta at this time
cluster devnet
i have already written
https://github.com/solana-labs/solana-program-library/blob/0a98473f0a452fce8f8e0f2445779ef4cb624891/token/js/client/token.js#L536 This code runs through the process of getting the addresses. You can use this to do everything you need to
Thanks Jacob, i will give it a shot1
oh and if i want to do it on devnet
or, deploy your anchor program to devnet
yes your config is pointed at devnet run: solana config set --url localhost -k your_path_to_keypair
Use `Token.createAssociatedTokenAccountInstruction` and add it to a transaction with the correct addresses
You can do like the code here
<@!616045157925650453>
https://github.com/solana-labs/solana-program-library/blob/0a98473f0a452fce8f8e0f2445779ef4cb624891/token/js/client/token.js#L512
got it, so can't use the spl-token functions
How would I pass a boolean value in a memcmp filter? Would it just be ```bytes: bs58.encode([01])``` or something to that effect? Buffers and base58 are fairly new to me.
actually looks like anchor cant connect to your local cluster. run solana config get
That'll use the wallet's keypair
yes it is
No, you can created the ATA from a transaction, and send the transaction with the `sendTransaction` call to wallet-adapter
check that your program ID is up to date in lib.rs and anchor.toml
can anyone help me deal with this error

Do I create an ATA from a new set of keys and then transfer ownership to the wallet thats connected in the browser?
Desperate for some guidance if anyone can help. Trying to create an associated token account to receive an NFT that will be sent from a program but having trouble with the getOrCreateAssociatedTokenAccount method & solana-wallet-adapter. 

getOrCreateAssociatedTokenAccount requires a signer as one of the tx arguments but using the wallet-adapter I don't have access to the secret key of my users. 

Has anyone been able to solve this?

There's this thread: https://stackoverflow.com/questions/70224185/how-to-transfer-custom-spl-token-by-solana-web3-js-and-solana-sol-wallet-ad/

But i'm hoping there is a better way to do this by now
Can you use first `signTransaction` with the wallet adapter, send to auction house, sign with auction house and then send?
if you're doing websockets, I believe you have to do wss://
A typical call would be: (from a readfile call) 

const secretKeyString = await readFile("/Users/kirk/my-wallet/my-keypair.json", {
    encoding: "utf8",
  });
  const secretKey = Uint8Array.from(JSON.parse(secretKeyString));
  const owner = Keypair.fromSecretKey(secretKey);
Keypair should go there if you have a keypair. If you're using wallet-adapter, you just click the wallet-adapter tab for the info
I'm using static code, so I just put the keypair as a string there?
<@479295554292023299> if you are doing this static (with a key pair, you would use the key pair there) - if you are using a wallet-adapter please toggle the tab to see the respective code

I'm a little confused, what I should put here?
Is there a way to run the SystemProgram's `CreateAccount` function with a PDA, or do I have to create/allocate new accounts from within my program like how anchor does it? I don't think I can use `CreateAccountWithSeed`, since the hashing scheme is different
<@!814228493302497301> its still stuck showing this, but thanks for getting me closer
rpc url*
I see it... yes localhost is matching sol config gets websocket url
Hey all, what is `owned_pubkey`, `owner_pubkey`, and the `signers_pubkeys` needed for this instruction please:

```rust

/// Creates a `SetAuthority` instruction.
pub fn set_authority(
    token_program_id: &Pubkey,
    owned_pubkey: &Pubkey,
    new_authority_pubkey: Option<&Pubkey>,
    authority_type: AuthorityType,
    owner_pubkey: &Pubkey,
    signer_pubkeys: &[&Pubkey],
) -> Result<Instruction, ProgramError> {
    check_program_account(token_program_id)?;
    let new_authority = new_authority_pubkey.cloned().into();
    let data = TokenInstruction::SetAuthority {
        authority_type,
        new_authority,
    }
    .pack();

    let mut accounts = Vec::with_capacity(3 + signer_pubkeys.len());
    accounts.push(AccountMeta::new(*owned_pubkey, false));
    accounts.push(AccountMeta::new_readonly(
        *owner_pubkey,
        signer_pubkeys.is_empty(),
    ));
    for signer_pubkey in signer_pubkeys.iter() {
        accounts.push(AccountMeta::new_readonly(**signer_pubkey, true));
    }

    Ok(Instruction {
        program_id: *token_program_id,
        accounts,
        data,
    })
}
```
That is the default setup automagically and should have a healthy SOL balance for local
This looks promising, if you want... try importing: `/home/cyberena/.config/solana/id.json`
how do i check if this is set to same?
but, your config looks good and you saw the test validator running so....

No idea
i never configured wallet.... how do i config it via ui?
And the local host in that wallet is set to same?
cyberena@OMEN-SUPER-PC-3080:~$ solana config get
Config File: /home/cyberena/.config/solana/cli/config.yml
RPC URL: http://localhost:8899
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: /home/cyberena/.config/solana/id.json
Commitment: confirmed
hi there! please how do i calculate transaction fees with web3 client
What does `solana config get` show?
sorry how noob i am to sol üòõ
i was not running it... now i am and it now jus loops forever saying
<@!351580542665228289>can you post in here
<@!391726043117125642>  Is `solana-test-validator` running?
are you guys able to connect wallet to localhost?
i disabled most extentions and was able to remove that error from console!! very nice!!

however when my app tries to load the wallet, it still cant find it.

and when i open wallet myself, it stil says "your connect localhost, cant connect solana"
that console message error is generally something in your browser preventing a plugin from loading, or something in plugin code not compatible or working correctly with the particular browsers permissions/state,   you might see if your running any browser extensions or anything else preventing browser from talking to your localhost, whitelist it, or use a different browser.. and try
This compiled 

```rust
  pub fn transfer_tokens<'a>(
    spl_token_account: &AccountInfo<'a>,
    source_account: &AccountInfo<'a>,
    destination_account: &AccountInfo<'a>,
    authority_account: &AccountInfo<'a>,
    tokens_to_transfer: u64,
  ) -> ProgramResult {
...
```

thanks!
That is absolutely correct, I tried removing the auctionHouse from signing (not sure if it is a good solution to statically have it as the keypair resides on a file)
problem
actually both address same program
on my local machine, if I run solana address, I get an address... is it suppose to match that?  or the program id of deploying?
import Wallet from "@project-serum/sol-wallet-adapter";
import {
    Connection,
    SystemProgram,
    Transaction,
    PublicKey,
    TransactionInstruction
} from "@solana/web3.js";
import { deserialize, serialize } from "borsh";

const cluster = "https://api.devnet.solana.com";
const connection = new Connection(cluster, "confirmed");
const wallet = new Wallet("https://www.sollet.io", cluster);
const programId = new PublicKey(
    "6dT15WpwCbsqXMNEfjCiqDJ68PV7ixApCp2JZGQUWQ8D"
);


Yes, however I am not sure if my program id is right?  It was the program ID i got after deploying...
specify lifetime   try a `<'a>`     `&AccountInfo<'a>`
Are you trying to sign with two different keypairs, one the auction house internally, and the other the wallet-adapter?
We don't support phantom here, but try switching networks to mainnet-beta in settings if it is not there already
<@!391726043117125642> are you using the wallet adapter?
I also see this msg in console
When I try load Phanton wallet on localhost, it says "your connected to localhost" then always says "Unable connect to Solana".  

Any know what maybe wrong?
<@!751627776574095473> super! going to see what I can do, or if I actually need to partially sign
I legit just got this error today, I realized that I'd passed in multiple accounts as signers for the transaction. When I changed the accounts so there was only one signer, the transaction went through okay
Hey all, I'm attempting to write a rust function to transfer spl tokens, since its something I'm doing a lot in a program I'm writing. Here's the function I've got. The accounts I'm passing into the function are all coming from the results of calling `next_account_info` on an account iterator

```rust
pub fn transfer_tokens(
  spl_token_account: &AccountInfo,
  source_account: &AccountInfo,
  destination_account: &AccountInfo,
  authority_account: &AccountInfo,
  tokens_to_transfer: u64,
) -> ProgramResult {

  //create instruction
  let transfer_token_instruction = transfer(
    spl_token_account.key,
    source_account.key,
    destination_account.key,
    authority_account.key,
    &[],
    tokens_to_transfer,
  )?;

  //transfer the tokens
  invoke(
    &transfer_token_instruction,
    &[
      spl_token_account.clone(),
      source_account.clone(),
      destination_account.clone(),
      authority_account.clone(),
    ],
  )?;
  Ok(())
}
```

I'm getting this error I don't understand when I compile. 

error[E0623]: lifetime mismatch
  --> src/processor.rs:88:9
   |
66 |     source_account: &AccountInfo,
   |                     ----------- these two types are declared with different lifetimes...
67 |     destination_account: &AccountInfo,
   |                          -----------
...
88 |         destination_account.clone(),
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ ...but data from `source_account` flows into `destination_account` here

Anyone know why this can't work?
phantom gives me this error: 
Phantom - RPC Error: Transaction creation failed. {code: -32003, message: 'Transaction creation failed.'}
I dont think I need to partially sign something (might be quite wrong)
I will ask in their discord thanks
I'm not an Anchor head, I know that to get account data you only need the PublicKey whether using Rust or JS/TS.... sorry
oh I guess the provider is optional
yeah I am using anchor, it would be nice to get a provider without a wallet so I can use the anchor functionality
If that is Anchor?
so from an idl would that be `idl.metadata.address`?
Nope, just the pubkey of the account
```typescript
async function getAccountData(
    connection: Connection,
    account: PublicKey): Promise<Result<AccoundData, Error>> {
    let nameAccount = await connection.getAccountInfo(
        account,
        'processed'
    );
```
<@!336344254584586244> yes (account/mint/etc)
so I just need the pubkey of the program?
would that translate as I have it to simply sending it 
const transaction = new Transaction();
                    transaction
                    .add(
                        ...instructions
                    );
const signedTransaction = await sendTransaction(transaction, connection)
 connection.confirmTransaction(signedTransaction, 'processed');
the following function runs fine (cli)

await sendTransactionWithRetryWithKeypair(
                        anchorProgram.provider.connection,
                        walletKeyPair,
                        instructions,
                        signers,
                        'max',
                    );
Don't you need to if you have to partial sign with auction house?
I need to sendTransaction
<@!489206164270350337> that is signing a message
Ok, you only need the accounts PublicKey and look at the ref that <@770650336725172267> posted
Can you do something like this? https://github.com/solana-labs/wallet-adapter/blob/master/FAQ.md#how-can-i-sign-and-verify-messages
data from accounts created from my app.  data on the blockchain, but doesn't need to be signed
you would make an rpc call to fetch data - https://docs.solana.com/developing/clients/jsonrpc-api
Can't you just use the rpc connection?
What data?
How can I instantiate a provider without a wallet?  I want to be able to fetch data without my user connecting their wallet
my bad I am clouted nope auctionhouse
I was talking about amel's stuff. Was yours anchor too?
thx
<@!489206164270350337> thanks! joining and will bother them with this
Anchor discord may have some more info https://discord.gg/YGeHRAT4
Not sure how they do this
yes
That is anchor, right?
Can you not pull out the transaction object from the anchor stuff?
how do i pass my example as new transaction
with sendTransaction i have to pass connection and transaction
https://discord.com/channels/428295358100013066/517163444747894795/929090928096997436
yes but look at my example it's custom method in smart contract
sendTransaction will sign and send with the wallet
wallet handles it <@!397190811239841802>
<@!770650336725172267> so i ignore signers bit?
https://github.com/Grape-Labs/submit-offer/blob/main/submit-offer.tsx
So are you partial signing and sending and signing elsewhere?
thank you
Go ahead
You're trying to do partial sign?
may I put the function on github <@!489206164270350337> ?
the cli version of this code works like a charm
Hmm, phantom was one of the working ones..
Phantom: Error: {"code":-32003,"message":"Transaction creation failed."}
sendTransaction should do both sign and send in the wallet iirc
Only like coin98, phantom, and solflare
Slope: Error: {"error":{},"name":"WalletSendTransactionError"}
I think not all wallets allow the separate sign today
Depending on the wallet? Any examples on what breaks?
the error I am getting is different depending on the wallet, I am not sure if I need to sign this prior to sendTransaction
any ideas would be much appreciated (& <@!489206164270350337> thank you for your continuous support you are non-stop!)
I do have an issue of my own and hoping someone could shed some light got some trouble converting this to using the wallet-adapter: 
await sendTransactionWithRetryWithKeypair(
                        anchorProgram.provider.connection,
                        walletKeyPair,
                        instructions,
                        signers,
                        'max',
                    );

My converted code to send this transaction is:
const transaction = new Transaction();
                    transaction
                    .add(
                        ...instructions
                    );
                    //transaction.partialSign(...signers);
                    
                    const signedTransaction = await sendTransaction(transaction, connection)
                    await connection.confirmTransaction(signedTransaction, 'processed');
Wallet adapter is starting to show up throughout https://solanacookbook.com/recipes/basic-transactions.html
I had the same issue this should answer the questions on using the wallet-adapter (cookbook uses the keypair which throws people off on implementation in actual projects)
go ahead
now
<@!770650336725172267> will check
this is my code, and i only have anchorWallet.pubkey
`let tx = await program.rpc.someCustomMethodInSmartContract(
    new anchor.BN(amountInLamports),
    userAccountBump,
    {
      accounts: {
        user: anchorWallet.publicKey,
        userProgramAccount,
        systemProgram: anchor.web3.SystemProgram.programId,
        serviceAcc1p: serviceAccount1p,
        serviceAcc25p: serviceAccount25p,
      },
      signers: [userKeypair],
    }
  );`
<@!397190811239841802> here you go I wrote this out and posted it here a while ago using the wallet-adapter.. https://github.com/Grape-Labs/send-token
`sendTransaction` sends it to the wallet to sign and send
https://github.com/solana-labs/wallet-adapter
That's be design. You let the wallet handle it
you only have publickey exposed
<@!489206164270350337>
i know but with solana wallet adapter you cannot send keypair
Example of wallet adapter sending it here https://solanacookbook.com/recipes/basic-transactions.html#sending-spl-tokens
`sendTransaction` has `options`. `options` looks something like 
```
{
  signers: []
}```
You can add them on the transations, as well as add them in the sendTransactionOptions
anyone knows how to pass signers for transaction with solana-wallet-adapter?
ohh let me see
This has runnable code
https://solanacookbook.com/recipes/basic-transactions.html#sending-sol
Hi!!
Someone knows how I can make a transaction with web3?
I¬°m making something like these and don't works

```js
  const devnet = new Connection("my-rpc-cluster");

    let tx = new Transaction().add(instruction);

    (async () => {

      const signature = await devnet.sendTransaction(tx, devnet);
      
      await devnet.confirmTransaction(signature, 'processed');

    })();
  })
```

This is the correct way? 
It gives me an error
Ah gotcha, thanks vm!
Oh, hang on. Sorry for the confusion, but that fix actually hasn't been released for v1.8 yet. It's coming in v1.8.12!
That's why you're still seeing the issue from mainnet-beta rpc nodes
The example i posted in the original bug report is still valid.  Not sure it's possible to re-open it, should i open another issue?


///////////////////////////////////////////////////////////////////////////////////////////////

Because there is no check if I am receiving solana or a spl token
When I use phantom connection for  system transfer in my web app 
Can the user also send spl tokens instead of solana ?
any idea why when i sometimes use ``await connection.sendRawTransaction(signedTx)``, the transaction doesn't go through even though it's valid?
Guy who eats the whole chat with pasted code instead of linking to a gist
I'm using next.js any help?
Hi to everyone, I have these code where I made a transaction....
```js
import Head from "next/head";
import styles from "../styles/Home.module.css";
import { useConnection, useWallet } from '@solana/wallet-adapter-react';
import * as utils from '../lib/utils.js'
import { PublicKey, Transaction } from '@solana/web3.js'
import { useEffect } from "react";

export default function Home() {

  const { connection } = useConnection();
  
  const { publicKey, sendTransaction } = useWallet();

  const token = new PublicKey("2J94tAwTK1Mc7PJCsj93V7sXbN7cZYbUEzUjixQ5n7Ye");

  // const candyMachine = new PublicKey("8pL4Sc6AA3gCiyzbdU4yRtRwyNdyS3e1aG9udwZK3jmf");

  useEffect(() => {
    (async () => {
      if(!publicKey) return;
      
      const instruction = await utils.createSellTokenInstruction(connection, publicKey, token, 2);

      const tx = new Transaction().add(instruction);

      tx.feePayer = publicKey;
      tx.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
      
      const signature = await sendTransaction(tx, connection);
      console.log(signature);
      
      await connection.confirmTransaction(signature, "processed");
    })();
  }, [publicKey, sendTransaction, connection]);

  return (
    <div className={styles.container}>
      <Head>
        <title>Aiko.art</title>
        <meta name="description" content="Aiko.art" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <h1 className={styles.title}>
          <a href="https://aiko.io">Aiko.art</a> Coming Soon
        </h1>
      </main>
    </div>
  );
}
```

`utils.createSellTokenInstruction(connection, publicKey, token, 2);`
Is a function to list a token in a custom marketplace...
But I get these error...
https://i.imgur.com/kOxaCGN.png
Thanks so much
Yea i got a link to a calculator. https://www.feecalc.live/
Hey did anyone reply to you ?
Found a comment in `web3.js/src/connection.ts`
```
// Ping server every 5s to prevent idle timeouts
```
so I guess that's best practice
if yes, could someone tell me the interval please?
before the connection is closed
I'm not getting any pings from the ~~network~~ validator
do Solana validators expect ping messages to keep rpc/ws connection alive?
Perhaps it's time for me to turn my focus to Tokens and become annoyingly informed and vociferous üòé
aye, I tend to believe something called `create_token` as the birthplace üôÇ
Yes, that's what I meant. Or something like this for example: https://explorer.solana.com/address/j43HkvzkoggdTCa5N1zVUK2XxvQZDCCKpoANaXTcHLe
i assumed they meant the associated token account that actually holds the tokens
seems like there's some confusing terminology here
hmmmm
that's the mint account
https://github.com/solana-labs/solana-program-library/blob/7393f1de43e0f6a960e1367c0e5757570071c5e2/token/cli/src/main.rs#L280
<https://github.com/solana-labs/solana-program-library/blob/f4e0cae1442f3165eedf7020b8eedb0f24017c9d/token/js/client/token.js#L2277> the token accounts are PDAs (off the curve). the owner of the token account can be on or off the curve
Looking at the source it appears they create a standard (on the curve) pubkey
Really? I tested a few that I found with the web3js PublicKey.IsOnCurve method and they came back true. I wasn't sure if this would always be the case though
they're off the curve
Are token account addresses always on curve?
okk thanks will take a look at it <:prayge:827970344865890324>
You will have to look at the rust struct to decode the data.
Each program can store data in any form it wishes, but in this case the data is encoded with borsh.
hey guys, I have built a small app that lets validators integrate in-app staking.
in other words, any validator can help their users delegate without leaving validator website context
https://github.com/avaulto/solana-staking-lib

i hope you find it usefull üôÇ 
enjoy

(you are welcome to suggest any improvements offer)
guys, how do i decode the base64 data i get as a response when using a getAccountInfo with the jsonrpc api ? (passing as a parameter a candy machine id), it gets only partially decoded using normal tools
Does this mean that Raspberry Pi should also be fine? The one I'm getting also has an ARM chip.
Looks like its working fine now, thanks üôÇ
https://github.com/solana-labs/solana/pull/22279
Ok, gonna try both now.
Sure, also... you could build from the repo ~~in rosetta terminal~~
It was only about 2-3 weeks ago on whatever the latest version was then. Should I try update and see if it works?
What version did you try on the M1? I believe the latest versions are better
Not that I am aware of. Meaning... it may be possible but I am just not aware of (other than the Solana Cli code) it being done
Hi everyone, will it be possible to use the Solana dev tools on an ARM device? I was unable to install the cli tools on my M1 device so I just rented out a cloud linux server and have used that so far. Right now I want to buy a Raspberry Pi that will be dedicated mainly to offline signing token mints but that also uses an ARM chip and I haven't found a good x86/x64 alternative. I've heard that emulation might be very slow and impractical especially considering that it won't be such running on strong hardware so someone suggested that I can compile the source code for an ARM device which can be fairly straight forward in some cases. Does anyone have any insight/suggestions for my situation here?
Hello guys. How can I access my project on solana ecosystem? I want to change some information
its working now ummm..
testnet down?
suddenly it says that access is denied..
https://release.solana.com/v1.7.10/install)
hi. before this link used ot work
hey did you ever resolve this?
Hi, did you have manage to resolve this?
Okay, thanks üëç
Ping me there if you have issues.
If you need more help, the metaplex discord is the best place to ask.
I suggest you read up on how the contracts work.
No.
Hmm let's say you had the elf file in an account, can't you call the bpf loader with cpi?
But don't I need to deploy it?
Yeah I've read about it
https://docs.metaplex.com/nft-standard#token-metadata-program
It's called the token metadata program.
Metaplex is the de-facto NFT standard for solana and they use a common contract for all nfts.
what do you mean by this?
But very interesting idea.
FYI on solana you don't need a contract for an NFT collection.
It was shared to me by a friend, enjoy :)
Startonsolana.com/#quest-section
can you share the link to the resource of the quest from where you are learning and following
Ok great
Thank you though

I fixed it!!
can you share the link with me of the startsolana quests(v.1.30.2)
Right, the problem right off the bat is that the 'programs' you want to deploy are sitting somewhere else and you can't do I/O on chain as it will result in non-deterministic (side effects) behavior which is a big no-no
Okay, thanks. Initially I was indeed thinking of programs, thus simplifying the deployment for me down the line - just a single big transaction which deploys everything. I guess I'll have to rethink my approach on the architecture.
There is no way to 'deploy' a program from an on-chain program that I am aware of
Do you really mean programs? or ***accounts*** to hold NFT?
Hey guys! Is it possible for a Solana program to create and deploy new programs (the code for them is known)? Kind of a like a program factory. I want to have an "nft manager" program that autodeploys multiple nft programs on initialisation.
I will not argue with you It's ok, try to be more polite with newbies next time
It's not for help with token-list repo/PR issues
Doesn't matter anyway
Well, I literally did not pigend anyboday, just posted on a discord chat for help, that is what I think this channel is for
As per your Pull Request, in the conversation screen in bold print: "I agree to not ping anybody on Discord/Twitter/email about this pull request. Instead I will inquire by posting a new comment in the pull request if needed."
Maybe if I do not delete the file and upload a new one and change the reference...
Yes I did, and I though I follow the specifications, but when i Edit it it throws me "found modified asset file assets/mainnet/9BmPGtFvmm57QgaUEdUhe6DE726XMKM1vh7DpYtV7jiE/logo.png - only new assets are allowed"
Did you open a PR to push your token info? It is in that screen of your PR
https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L581
Where can I check that info?
Follow the advice and agreement on the PR to open an issue on the repo.
Hello! Nice to join in this community!
I am trying to edit a token  i've already updated, when I do so it just throw me an error
https://github.com/solana-labs/token-list/pull/13021/checks?check_run_id=4749754215
What can i do? Thank in advance !
yes I was just looking here to wrap SOL with a command, I used `spl-token wrap 1`, but where does the wrapped SOL go? Stupid question, but I'm new to solana. The command result I got: `Wrapping 0.0001 SOL into some-address`, but what is this address for?
Also: https://spl.solana.com/token
I will try that, thanks.
https://solanacookbook.com/references/token.html#wrapped-sol
https://solscan.io/token/AGi8C53fx6Wh6zMjjW9SmKv8atpWQaQW262GHPzbbP7z
I created in on VPS and added it to Solana registry. By real value I'm thinking about giving it money value, such as 0.001 SOL or something lower. I'm thinking about doing it just for fun.
Where did you create it and what do you mean by 'real value'?
Validators on Testnet are going through changes to address recent issues I believe: https://discord.com/channels/428295358100013066/594138785558691840/929524324224880731
Can you try in devnet and do you get the same results there?
Hi, yesterday I created my Solana SPL token, and is there any way I can give it real value?
and its random, so I am not sure why it occur
testnet
Are you running against mainnet-beta? This is not an 'index.js' issue but the RpcClient is telling you it' can't find the blockhash you provided in your transaction.
Hi guys, I created a solana token and added it to the token list. On solscan my token has a name and logo but in my phantom wallet it is still a unrecognized token. How can I fix this?
hey guys, what can cause multiple failure of "index.js:1 Transaction simulation failed: Blockhash not found " ?
where is that? mainnet-beta? devnet? And how did you create it?
yes its created its token id is 5iipcUAdVoX6tyJBRinkhoen4jctGsv4HvdE23VA9QJ1
Is the token already created? If so, where? And how did you create it, if it exists?
and is there way to check if an account is currently rent exempt?
Hey all, I read somewhere that Multisig accounts have to be rent exempt. 
Do Multisigs created with `solana create-multisig ...` automatically receive enough balance to be rent exempt?
i am not asking why bot denied, i am asking can i add **TESTNET TOKEN** to spl-registry <@!814228493302497301>
is it possible for an account to send 2 independent transaction on the same slot?
Does anyone know why I can't see balance when connecting to a locally running solana-test-validator?
This is my phantom wallet, pointed at localhost, i just see a spinner.
Heed the message on your PR: "I agree to not ping anybody on Discord/Twitter/email about this pull request. Instead I will inquire by posting a new comment in the pull request if needed." as it is not something you'll find support for here.
how to encode a Transaction to use it in connection.sendEncodedTransaction
this is where i'm stuck



hey guys I'm new to learning solana, I'm currently working thru startonsolana quests(v.1.30.2) , I've created an airdrop function, wallet, etc. I have now encountered this error and not sure how to fix it, I was wondering if someone more experience could give me a hand? Thanks :)
Does anyone know how to get solana SC ABI key?
I created an issue about my problem: https://github.com/solana-labs/solana/issues/22391 . If somebody have any ideas how to workaround this - please let me know)
and my setup is basically the same as this:
https://github.com/solana-labs/wallet-adapter/tree/master/packages/starter/react-ui-starter
followed by a bunch of these:
```
ERROR in ./node_modules/@solana/wallet-adapter-base/lib/esm/index.js 1:0-26
Module not found: Error: Can't resolve './adapter' in '/home/bizzle/solproj/soltapestry/app/node_modules/@solana/wallet-adapter-base/lib/esm'
Did you mean 'adapter.js'?
BREAKING CHANGE: The request './adapter' failed to resolve only because it was resolved as fully specified
(probably because the origin is strict EcmaScript Module, e. g. a module with javascript mimetype, a '*.mjs' file, or a '*.js' file where the package.json contains '"type": "module"').
The extension in the request is mandatory for it to be fully specified.
Add the extension to the request.
 @ ./src/App.tsx 9:0-67 86:18-45
 @ ./src/index.tsx 7:0-27 11:33-39
```
there are basically a bunch of these:
```
ERROR in ./src/App.tsx 86:18-45

export 'WalletAdapterNetwork' (imported as 'WalletAdapterNetwork') was not found in '@solana/wallet-adapter-base' (module has no exports)
```
Ah! I thought it was a compilation error
The imports are coming from the solana wallet adapter, not my code
If that‚Äôs a TypeScript or Webpack you might try:
- adding .JS to import statement, like ‚Äú./adapter.js‚Äù or ‚Äú./adapter.ts‚Äù
- deleting type: module from your package.json file ‚Äì this might cause other issues
- making sure your include folders are correct in tsconfig.json (if it‚Äôs typescript) ‚Äì typescript might not know where the file is and throw an error
- making sure your webpack config isn‚Äôt excluding the folder where adapter is located
Is there any remix like ide for solana ?
^ any chance you recognize the error I posted above? just saw you are also working with the wallet adapter...
It seems like its some sort of web pack thing? I haven't done much react, but seems like some sort of obvious configuration issue?
Kind of stuck on this, i'm trying to replicate this react / wallet UI example: https://github.com/solana-labs/wallet-adapter/tree/master/packages/starter/react-ui-starter

But i'm getting a bunch of errors of the form:
```
ERROR in ./node_modules/@solana/wallet-adapter-wallets/lib/esm/index.js 17:0-27
Module not found: Error: Can't resolve './adapters' in '/home/bizzle/solproj/soltapestry/app/node_modules/@solana/wallet-adapter-wallets/lib/esm'
Did you mean 'adapters.js'?
BREAKING CHANGE: The request './adapters' failed to resolve only because it was resolved as fully specified
(probably because the origin is strict EcmaScript Module, e. g. a module with javascript mimetype, a '*.mjs' file, or a '*.js' file where the package.json contains '"type": "module"').
The extension in the request is mandatory for it to be fully specified.
Add the extension to the request.
```
Did you find a solution to this? i have the same issue
i create a pull request already and auto merge bot denied it, <@!814228493302497301>
I'm `logsSubscribe` on a given pubkey. It currently notifies me twice per transaction. Can I rely on this to be there in the future?
Has anyone done a public sale for their spl-token
I'm having a bit of trouble on applying some simple custom styles to the wallet connect button in `@solana/wallet-adapter-react-ui` I'm wondering if anyone has successfully passed in style props like this:
`<WalletMultiButton style={{backgroundColor: '#15171b', color: '#01B688'}}/>`

It seems like we should be able to override according to comments in the examples, but I can't get this style to pass through to the button component.
let account = Keypair::new();
    println!("{:?}", account.pubkey());
    let mut file = OpenOptions::new()
                .read(true)
                .truncate(true)
                .create(true)
                .write(true)
                .open("SOL/accounts.csv").unwrap();
                let mut file_inputs  = account.pubkey().to_string();
                file.write_all(&mut file_inputs);
please this is the exact area
dont continue to post images. they dont translate well. link to code or copy paste small portions of relevant lines.
they also have a candy machine channel and other things.  the costs are variable.  the best way is to usually test, and then do a sample deploy on main to see the cost of a few. then you can estimate total cost more accurately, at the given time and current prices.  not sure if there is a calculator yet anywhere, but im sure there are some tools available, they may know. would be nice.

not sure..   but yea its important to try to get it right the first time.
Thank you, i will try it there
Line 32, I want to read the each wallet address created into a accounts.csv but continuously see that am doing the wrong thing

please I ned a help
Not sure if I should just make another
Created a token but spelled the name incorrectly now correcting it take forever.
best way is to use the open channel
the auto merge used to be 2 weeks, with errors uncertain, they are also back logged, and researching better approaches. No eta, but you can file issues to try and get follow up on the github, as its not supported directly here.
may have some better answers, tools, and resources here:
https://discord.gg/mCTkqHtF
https://docs.metaplex.com/community
If you search on NFT cost and Mint cost in the channels you may be able to get some answers as well. Atm its probably cheaper for many reasons.
How long does the solana token github take to pull all the automerge error oush requests?
i would get very familiar with the metaplex code base and docs. end to end implementation with NFTs and types. I believe there are some social and discord apps to reference but not sure on the source. https://github.com/metaplex-foundation/metaplex  https://docs.metaplex.com/
is there anybody I can talk to to help me with a smart contract? Ideally it would be DM
I've seen with erc20 tokens you can use open zeppelin but I haven't found a platform or repository for spl tokens
Has anyone been able to create a crowdsale or public sale for their spl token without Liquidity?
Gotcha, I kinda understood what you said. I really really appreciate the help, I'll take a look at the book üôÇ
My friend made a website called candycane.store and it basically makes a smart contract for you on sol and the developer said it cost around 4k but i cant find it anywhere online for some reason.
I wrote in about 5 minutes ago. Let's wait and see, maybe someone will help us. I can't find anything on the Internet either.
im looking for the same thing no one has answered
hi guys does anyone know around how much it cost to deploy my own smart contract on solana including minting it would be really helpful.
Hello everyone

I am just looking for a calculator or something similar. How much SOL is needed on the mainnet to launch 10000 NFT Collection. Can anyone help me with this?

I would be very happy to get an answer.
üëã I'm working on a project and am looking for advice/feedback on approach. I'm new to Web3 but have been in engineering for a decade. This is focused on Rust + Solana specifically because I have a pretty good handle on the front-end app. I might have some terms might be wrong!

**The project:**
Imagine a Discord channel where messages immediately become an NFT owned by the sender. Anyone can read all the messages, but you can only _send_ once you've connected your wallet (to pay for the transaction and NFT). It's not actually a Discord channel, but close enough.

At a **high-level**, I think I need to:
- Create a mutable "Account" for the project to initialize. Should have a `Vec<MessageStruct>`
- Create a function that adds the message to the Account -- `channel.messages.push(message)`
- That function should also trigger another function to mint the NFT -- there's a gap for me here

**NFT high-level**:
- NFT minting is done by Token Program
- The NFT has some royalty split, maybe 2.5% project pool, 2.5% original sender
- NFTs aren't pre-made -- they are created when a new message is sent, but should be part of the broader project. ie. it's clear the NFT is _from_ the Discord channel

It's mostly around the NFT minting that I'm hazy. I did a an NFT project in ETH with Solidity, but I'm not drawing strong connections at the moment.

Appreciate any help and feedback!
```
Type 'Blob' is not assignable to type 'Layout<number | PublicKey | u64 | number[]>'.
  The types returned by 'decode(...)' are incompatible between these types.
    Type 'Uint8Array' is not assignable to type 'number | PublicKey | u64 | number[]'.
      Type 'Uint8Array' is missing the following properties from type 'number[]': pop, push, concat, shift, and 5 more.ts(2322)
```
```
Type 'UInt' is not assignable to type 'Layout<never>'.
  The types returned by 'decode(...)' are incompatible between these types.
    Type 'number' is not assignable to type 'never'.
```
Hi I am trying to deserialize a program account
If it still feels kind of strange I'd recommend grabbing the Rust Book (its free online!) and going over chapter 4: https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html

If you're still somewhat new to Rust it can help speed up dealing with the learning curve a lot
You can use multiple values its just because you end up mixing mut and immutable to the same data at the same time.

Basically, the println! macro wants to take references not real objects. Since y is already defined as `&mut x`, when it goes to convert the arguments it sees it as a reference already so leaves it alone, but when it sees `x` which is `String` it first converts it to a reference. The type system has automatic conversions for things like `String` -> `&String` and so it uses that out of the box for you.

The problem with that is you now have x (`&String`) and `y` (`&mut String`) back to the same object at the same time and the compiler throws an error because it cant prove at compile time that you will not have memory issues like race conditions/etc with that data.

The reason seperate println! macro calls works is because the macro converts your line into something like this:

```println!("Some message here")``` becomes ```{
   println("Some message here");
}
```

Its sort of an implementation detail, but basically since the macro expands to something in curly braces the compiler can use the fact that its nested inside that to help prove you cant end up with memory issues because the first variable gets dropped from memory before the second one is allocated.
hey Rikisaaaan  welcome back üôÇ
Gotcha gotcha, what I still don't get why is there an error when I call x and y in the same println statement it gives an error but not when I do in different lines? Can I only access one variable at a time (x or y) since it is &mut
they should show up in any wallet that is not filtering based on a custom list or token list, if you created a devnet token or localhost token, and put it in your wallet like phantom, as long as your connected to localhost/dev in the network settings in phantom, it should show up - although with an address and or other garble based on your version.
<@!340049624347836417> lets chat here so we dont spam general. In Rust, when you pass objects into functions and most macros they pass by reference instead of copying the values over (this is because Rust tries to make sure that only one area owns a variable/data at any given time, and references are often cheaper to do than copying the data back and forth).

In Rust you can have immutable / read-only references (i.e `&x`) and mutable / read-write references (i.e `&mut x`). In general, you can *either* have one mutable reference, or any number of immutable reference. The println! macro takes references like this, and since you passed X in as a String, rust converted it to a reference to that string for you so it could successfully call the macro
And what is the explicit error you are getting?
From 1.9.2:
```rust
/// # Errors
    ///
    /// If preflight checks are enabled, if the transaction is not signed
    /// then an error with kind [`RpcError`] is returned, containing an
    /// [`RpcResponseError`] with `code` set to
    /// [`JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE`].
    ///
    /// If preflight checks are enabled, if the preflight transaction simulation
    /// fails then an error with kind [`RpcError`] is returned, containing an
    /// [`RpcResponseError`] with `code` set to
    /// [`JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE`].
    ///
    /// If the receiving node is unhealthy, e.g. it is not fully synced to
    /// the cluster, then an error with kind [`RpcError`] is returned,
    /// containing an [`RpcResponseError`] with `code` set to
    /// [`JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY`].
    ///
    /// [`RpcResponseError`]: RpcError::RpcResponseError
    /// [`JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE`]: crate::rpc_custom_error::JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE
    /// [`JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE`]: crate::rpc_custom_error::JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE
    /// [`JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY`]: crate::rpc_custom_error::JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY
```
Hi, in which wallets can I see my custom solana tokens?
a very, very old version of the sdk, 1.7.5 in this part i think
You have to encode the bytes as base 58
right, but that doesn't explain why it works elsewhere and not here. if its mainnet rpc issue it should be happening **everywhere**
`'SÔøΩ\x19ÔøΩ—æsdÔøΩ2ÔøΩÔøΩ6\x17ÔøΩ\\ÔøΩÔøΩG\x01ÔøΩ*\x0E_H\\ÔøΩÔøΩrjÔøΩR'`
What version solana are you on
Mainnet is having issues at the moment.
not exactly sure why this is happening, since i use this pattern pretty much everywhere in multiple codebases, but for some reason its failing here, and no where else in this codebase or any other codebase <a:aPES_Think:493353113332219924>
when i decode in js using `TextDecoder` i get weird characters
mainnet, this seems to happen on any rpc node i've tried hitting on mainnet
i saved state converting pub key to bytes as `<pub_key>.to_bytes()`
And what cluster are you hitting? devnet? local? ??
can solana pub key be decoded by utf8?
Ok)
`rpc` is type `Arc<RpcClient>`
i mean technically yes im doing back-to-back txns in rapid succession, but its the first of several txns that fail so im not sure that would cause the issue.

each time i fire off these instructions i do this:

```rust
            let mut tx = Transaction::new_with_payer(&[ix], Some(&self.liquidator.payer.pubkey()));
            tx.sign(&vec![&self.liquidator.payer], self.liquidator.rpc.get_recent_blockhash()?.0);
            match self.liquidator.rpc.send_transaction_with_config(&tx, RpcSendTransactionConfig {
                skip_preflight,
                preflight_commitment: None,
                encoding: None,
            }) {
                Ok(sig) => sig,
                Err(err) => return Err(anyhow!("failed to send tx {:#?}", err)),
            }
```
Maybe a stupid question: Are you doing back to back txns in rapid succession? However you get the blockhash (in the failing case) is it the same one between 2 txns?
im running into an issue that im not sure how to debug. essentially whenever i go to send a transaction from the rust `RpcClient` it appears that when attempting to send a tx, the simulation fails with `Transaction simulation failed: Blockhash not found`, but if i skip preflight the transaction gets processed
Can you search for it in the issues?
Oh then it's definitely tha bug.
No mainnet is having issues so that might be it.
hm, i dont know what to pass in there. Because i dont have Signer object, im building offline signing: https://solanacookbook.com/references/offline-transactions.html#sign-transaction
found it             Pubkey::find_program_address(seeds, program_id)
can this occur in the mainnet?
Use transaction.partialSign
Does the web3 function findProgramAddress exist in Rust as well? https://github.com/solana-labs/solana-program-library/blob/d4dd97b3b1f6c53d471daf2c56e183a3c252458f/token/js/flow-typed/npm/%40solana/web3.js_vx.x.x.js#L88
Oh that's a bug in the library.
devnet
Huh are you on mainnet?
i have a very strange situation. I am signing and sending the transaction. Sometimes it goes OK, sometimes it throws "Error: Signing Failed". But Im not changing anything, just running the same code at different time. Why is this happening?
TY
Sure.
It's a bit long, can I share on dm?
Then you have to show your code.
on verifysignatures()
the only thing I got is 'False'
Which error?
I b58decode the signature before adding to the tx and the lenght is ok
i'm sending a post request to a server with my completed tx. The server reply with the pubkey + signature of the signer that must sign the tx (I don't have the private key/seeds). But when I add the pubkey + signature to the tx, I get error on verify signatures
I will do in private if anyone can help
As I mentioned before, you have to share some more details.
someone can help me to add a external signature to a tx? I was doing that all today but nothing works.. keep getting me error signature.. I'll share my code with whoever can help me to resolve this or I'll pay in SOL
Well the only other thing I can think of is double check you are using the right keypair.
yep
Is your program id correct?
shouldnt be wrong
yep i copy pasted the code from the tutorial
Metaplex has a metaplex program library package for the token metadata program if you are writing in node.js.
Note that nft metadata is stored on Arweave, so you will need a backend server to update the data.
Also check all the other keys involved in the transaction.
It depends on what kind of initialisation, the accounts data is all 0s when it is created, so it might mean initialised with valid data for the program.
Hey I‚Äôm looking for to have a nft I‚Äôm make change based on users interaction. Can anyone point me to a project that does this, or an article or something about the tech behind it
idk
ah doesnt make a difference
https://github.com/figment-networks/learn-web3-dapp
im following this tutorial if u know it
im on devnet and have 8sol
Hmm check mainnet/devnet.
You have to wait for the transaction to confirm before getting the account data.
See connection.confirmTransaction
huh, strange because im following this tutorial and i only have the account that has the sol
Of course, sent a request.
Sounds good, let me know if you need anything.
One of the accounts has 0 balance.
^ Sorry don't mean to push your message up. Wanted to ask what is the point of `is_initialized`. I see it in many examples, but aren't account initialized automatically when they're created?
hey, im trying to create durable nonce, but it is returning me null, anybody knows what im doing wrong? https://solanacookbook.com/references/offline-transactions.html#durable-nonce
You should add me as a friend, I'll definetly let know if i've made any progress with multi-sigs and personal wallets. Thank you for talking with me!
The metadata thing is kind of summed up in that article: "The whole idea of the Token Metadata program is to be a decorator to a Token Mint." Which means that it's probably not optimal to use these alternative solutions as important ownership data. I'm happy with the multi-sig concepts, so that's what I'll start working on.

anyone knows what is wrong here?

Do let me know if you find a way, could be great for nft staking too.
I am not aware of one unfortunately.
You could also add a decorator struct to the nft to store the original owner.
See: https://docs.metaplex.com/architecture/deep_dive/overview#decoration-as-pda-extensions
Is there a way to let people see multi-sig tokens in their regular wallets?
Can you check how metaboss does it:
https://github.com/samuelvanderwaal/metaboss
I do see other cases where PDAs would be useful, such as if I'm transfering an NFT to a user based on some condition (just based on what I know about them). But I feel like it's kind of a hackey solution to use them as a records keeping system; 
I feel making a centralized system decentralized. Also people just like to own NFTs. I do think it would be an interesting concept to explore if the NFT thing doesn't work out though.
The Cookbook has only examples for signing with Typescript? https://solanacookbook.com/references/keypairs-and-wallets.html#sign-and-verify-a-message Any ideas how to do that with Rust?
Right. That worked ```let keypair = Keypair::from_bytes(&secret_key).unwrap();
    let pubkey = keypair.pubkey().to_string();
```
To get the public key you have to use a library or the cli.
That is a private key.
Hi! I exported my Wallet Private Key from Phantom and converted it back to a public key with `to_base58_string` as described in the Cookbook. I ended up with a public key that is twice as long as my expected one
You can create a new one for each user.
But wouldn't the PDA accounts be capped at 10mb too, or is a new account created for every user?
The pda seeds are what is used to generate that account address.
So you could store the data on arweave and put the link in that account.
A pda is an account that is wholly owned by your program, and no one except your program can write to it.
<@!590982495923732511>
I think the only alternative to NFTs would be some kind of ledger stored on a program, but that wouldn't be feasible on a blockchain, especially for solana because it's capped at 10mb. Alternatively, it could be centralized or sub-centralized (like on arwave) but that destroys the whole system because it needs to be decentralized, to maintain its integrity. I read about PDAs (I understand the acronym now) on Solana Docs. But I'm not really sure what the "addresses" refer to.
Why not a pda with seeds of  `["data type", wallet address]`
Hmm then why do you need them to be nfts?
It would invalidate the whole system
These NFTs are a means of storing specific, verifiable data about a person. Transferring them would defeat the whole purpose of that.
Like why don't you want them to transfer the nfts.
Again, it fully depends on what is the goal here.
thanks I'll check it out!
I think there was a repo called ghetto-air-drop or something.
for multi sig, https://github.com/GokiProtocol/goki and spl-governance has multi sig capabilities as well, and for daos.
Ok, so I see that you wouldn't even need a wallet. I was worried I would maybe need to use chainlink (or something) similar to interact with an actual multi-sig wallet implementation which would then go to a regular, but separate account. A dedicated multi-sig account seems like a great contender! This page looks very useful and I'm happy that it's an official solana doc. Do you think this would be better than just storing the wallet address (from my original solution)?
Ok yeah that's what I figured, so now I have a bunch in my wallet but I need to distribute them to a lot of wallets. Do you have a recommended repo for this? üôÇ
Yes but the easiest is to mint to yourself then transfer.
Ok thanks, but I can mint new ones into other wallets using this command correct? With the --from parameter being the token address?
No in-built command but there are some repos to do that.
Hello, is it possible to distribute SPL tokens using "solana-tokens distribute-spl-tokens", if I have say 1000 of these tokens in my wallet, and I want to send them out to other wallets?
And if you are writing a program then you don't need a multisig wallet, the nft can be in an account controlled by the program itself.
The solana program library has an implementation of a multisig wallet: https://spl.solana.com/token
<@!590982495923732511>
A multisig wallet would be an interesting idea! I didn't know that Solana had those but I found an implementation from Project Serum after a google search. The real purpose of the NFTs are mainly for verification, so they don't *need* to see it in their wallets, but it would still be nice. The only thing is that this implementation of a multi sig wallet is not user friendly so I couldn't expect people to actually use it. From your knowledge of multisig wallets, do you think the user could send a request to a solana program which would then perform actions for them in the multisig wallet/account?
then I add the signature but getting false on verify
I'm sending the message of the tx on a server and the server reply me with the publickey and the signature
i'm getting false on verifysignature
Well what is the error?
someone can help me to add a external signature to a tx? I was doing that all today but nothing works.. keep getting me error signature.. I'll share my code with whoever can help me to resolve this (the tool i'm making is very helpful)
Which means the user can only move the token if both you and them sign the transaction.
Or you could also put it in a multisig wallet.
Basically an address that only your program controls.
No a program derived address.
do you mean like arweave
thanks
Try https://solanacookbook.com/
yes but the pr will need to be approved manually.
If not then just store it in a pda.
Hmm do you need the nft to be visible in the user's wallet?
Can I change my solana token address in solana-labs/token-list? I created one on one VPs and now I want to have it on another one. Is that possible?
How can I sign a transaction in a Rust app?
Alright. So since nobody responded to my question of how I could make non-transferable NFTs, I did myself. The NFT will be minted just like any other, but with a key difference: the metadata will store an immutable value which is the user's wallet address. Therefore the person *could* send their NFT to someone else, but anybody who checked would know that it's not at the original account, making it invalid. What are your guys' thoughts on that?
whats the best way to go about a staking dapp where holders can stake their nfts to receive a certain amount of tokens per day?
i was looking at gem farm and serum's staking program but wanna hear some more experienced opinions
Hi! Is there a Rust crate for managing a Solana wallet (specifically for signing transactions)?
Thank you!
Two things:
1. Storing data requires space on the account, more space means higher rent. Use `solana rent <SIZE-IN-BYTES>` to see what that will cost
2. Transaction size is currently limited to 1232 bytes, so to get an data of size into the account you'll need a chunking strategy to collect all the data to an account
sure whats the doubt?
every address has a program owner/id/address
when your creating a seed, your just using values to derive a unique address
and you can use these values, like program Id (address), which is unique to the owner program of an address, for association, lookup, and or signing where necessary.
an owner, is also an id, address, or public key, pubkey basically all different terms for the same thing in these cases.
I'm wondering if there's anyway to mint an nft that's not transferable. If nobody know right now, is there a stack overflow kind of website for solana?
Thanks, to be honest I don‚Äôt completely understand the explanation, i‚Äôll have to experiment a bit
Hmm interesting, thanks for the explanation.
if you want to use create_with_seed, or any other related seed, you are generally always better off referencing a program_id. in many cases its a supplement.
the good practice with seeds is to reference the program Id for the intended address owner, as when deriving that is also how the program itself can be verified as the actual owner and or signer in case of pdas as well. every address is based on a program, so whether you or the program itself is verifying or looking this up, its part of a derivation/lookup process. it can also make verification easier, as you can verify what the expected seed is without an additional owner lookup - because your assuming it exists for the program your querying for, or the program itself.
Hi guys! I'm just learning Rust I was wondering if someone can help me in a doubt I have
oh ok, thanks
The solana network seems to be having issues at the moment.
Help! I tried to transfer my token from one wallet address to another with: `spl-token transfer --fund-recipient --allow-unfunded-recipient token-address 100 recieve-address` and first couple of times it worked, now I get `unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds.` I have SOL tokens on my sender address (about 0.04 SOL) and I can't send my token to Phantom wallet.
Or is it arbitrary?
Is there a good reason for including the token program id?
Yes, but the seeds of `[token mint, owner wallet]` would have been sufficient, no?
the seeds are used to generate and retrieve addresses, so whatever seeds are used to generate, based on program Id in many cases, would be used to retrieve. in case of token program, the program id is used to generate, and retrieve, as its part of the seeds used.
To be honest I too am not sure what are the implications of either.
Some pdas include the program id in the seeds, some dont.
Yep, sorry if I wasn‚Äôt clear enough
I think the question is why is it included as one of the seeds.
because the program id is used as part of the seed to generate the associated address?
is it possible for a program to know which cluster it's running on?
why the token program uses the TOKEN_PROGRAM_ID as one of the seeds when finding the associated token account? https://docs.rs/spl-associated-token-account/latest/src/spl_associated_token_account/lib.rs.html#49
Doesn't seem much but a 100 of those are about `2.24` sol
FYI 3kb of data is `0.0224256` sol.
It was changed after solana config set -k my-keypair.json?
I have doubled check the path shown in solana config get and it was correct
solana config get
also make sure you have the correct folder path
Had the same issue speciying the .json name fixed it
solana config set -k my-keypair.json
but spl-token creat-token is not working
spl-token is working fine
hi I m facing issue related to spl-token creat-token
command spl-token
could it be because the other keypairs have no SOL? hmm
After more investigation, only the keypair that lives at `/home/user/.config/solana/id.json` works
https://github.com/solana-labs/solana/issues/22386#issuecomment-1008097749
I'm experiencing tpu client transaction failures for multiple transactions.
I see a lot of pushing for usage of Arweave for persistent data storage. For simple things like storing meta, maybe 20KB of Json on the top end, most likely data sitting between 3 and 5KB, is it recommended to store that in Accounts? I've gotten some mixed messaging from folks on forums about this, and i'm curious the thoughts here.
Not sure about the python equivalent but in js it's `Token.getAssociatedTokenAddress`
Ok thank you!
Not without another pr.
The destination must also be a token account, not a normal address.
Is there a way to kill my exiting token so the contracts disapears? Seems like it would be just easier to make a new one with the correct info.
Thanks for the info! Much love
But you have to open a pr just correcting that one line.
Yes.
How long do those take? But the process is the same but just need to wait for PRs aproval?
Which is a little slow.
You will have to wait for manual approval.
The auto-merge bot won't merge PRs with changes.
Damn I imagined.
Ah it's not as simple as that.
Can i just update the info and do the same process as yesterday just change the link then open a pull request?


///////////////////////////////////////////////////////////////////////////////////////////////

