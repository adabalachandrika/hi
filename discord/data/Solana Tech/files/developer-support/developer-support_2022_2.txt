Rust? https://doc.rust-lang.org/stable/book/title-page.html
missing `fn` preceding `instruction_handler`
Is there a good place to start from in order to understand the basics of the language?
I don't understand why the compiler wants a ! or ::
that's exactly what I'm reading right now 
also do you know why I'm getting the following error when trying to use the send lamports from the sample code:
```
error: expected one of `!` or `::`, found `(`
  --> src/lib.rs:29:20
   |
29 | instruction_handler(accounts: &[AccountInfo]) -> ProgramResult {
   |                    ^ expected one of `!` or `::`

error: could not compile `solana-testing` due to previous error
```
Explained here: https://solanacookbook.com/references/programs.html#transferring-lamports
Basically, the `system` transfer is used when you are transferring from a system owned account. Whereas the program transfer, as per link, can transfer from program owned account and save the `invoke_signed` costs.
Thank you <@!489206164270350337> It worked when I tried with solana cli version 1.8.12 🤩
Is this project specific and not implemented by default?
<@!489206164270350337> hey,
reading some of the solana cookbook docs.
is there a difference between transferring lamports to sending sol?
can i DM you the code ?
May have added an object that is breaking the typescript stuff. Not sure. Could you provide some actual example code in a gist?
wierd
As I said before, you control this by setting `owner` or other metadata in the PDAs, and verify in the program itself
but why this working with version 1.26.0
`can  user A send back SOL from account X to his main account since he doesn't own account X?` - If he doesn't have authority, no
Whatever you're passing is not the object you expect and causing this issue
Token.js:423 TypeError: x.pubkey.equals is not a function
    at transaction.ts:285:1
    at Array.findIndex (<anonymous>)
    at Transaction.compileMessage (transaction.ts:284:1)
    at Transaction._compile (transaction.ts:376:1)
    at Transaction.serializeMessage (transaction.ts:402:1)
    at o (inpage.js:263:601)
    at a.<anonymous> (inpage.js:321:1744)
    at Generator.next (<anonymous>)


This error is happening when i try to approve transaction.
WOrks fine with web3 version 1.26.0 but not with 1.32. and other versions 
Wierd
awesome. thanks for the help!
You can do that. Keypair will work and have the same publicKeys on both env
Lets imagine the flow is as follow 
1. User A send some sol to the program
2.User B performs some tasks for A and send back the remaining sol.

To complete step 1, User A need to create an account which is owned by the program (account X) and deposit some SOL into it from his main account.
User B will also create a  account which is owned by program (account Y).
Now the program can deduct the SOL from account X to account Y, upon finishing the task, it can also send excess SOL back to account X.
My question would be can  user A send back SOL from account X to his main account since he doesn't own account X?
If such transfer can only be done by program, it is true that program can straight send back SOL to user A's main account directly, but how do we ensure that we are sending to the right main account?
Allowing User A to provide his main account pub key along with  account X during his first interaction with smart contract seems to have security concern? What if the user use a stolen account (which is owned by program and not created by him?)  together with his own account, wont it ends up crediting SOL to the wrong main  account?
So my use case is create keypair on dev transfer some sol to it, test some code out. switch to main net , rerun.
awesome thanks
Don't know on candy machine. Check out metaplex discord https://discord.gg/yZZVd2WA
hey <@!489206164270350337> sorry for interrupting, do you have any frontend repo for candy machine in next.js ?
Don't share the secret key of keypairs ever
thank you
The keypair will exist and you can use the publicKey on all env
yes so if I run solana-keygen new --outfile ..  its available in both main and dev?
However, if you're talking about keypairs, they exist wherever
Only on devnet. You'll have to do the same thing on mainnet-beta
If I create an account on devnet using cli will that account exist on mainnet too? Or do. need to create an account on mainnet for only mainnet ? Thanks!
so multisig here not really required afaict
I believe so
If a program changes token account owner, it can do so if the current owner has signed the txn right?
and it is titled as MultisigAuthority
MultisigAuthority    
J9VbYTG7mGMoYgCGerzao4KYZMgok3XUncehuzaX7A1K
NewAuthority    
F4ghBzHFNgJxV4wEQDchU5i7n4XWWMBSaq7CuswGiVsr
Signers - #1    
J9VbYTG7mGMoYgCGerzao4KYZMgok3XUncehuzaX7A1K
oh hmm, J9V.. is the users wallet.
Maybe they were planning on doing more than 1 signer in the future 🤷
So you can set your signers for multisig to 1-11 different signers. These can be wallets, PDAs, etc. Looks like digitalEyes set it to 1 and being a PDA(I think) so the program can sign for the set authority transfer
I guess it's possible that the DigitalEyes code is passing a single signer in signers array, and it's therefore appearing in that way, even though it isnt really multisig?
No, it's the signer. It is not necessarily a part of a "multi-sig account"
click through on j9v and it's not a multisig account (unless explorer is hiding it)
DigitalEyes is doing it within the program itself
j9v is a multisig apparently with 1(?) signer. At least, that is what it looks like
It looks like it is transfering authority of a token account to a user from j9v
Doesn't make a lot of sense on the context of the earlier instructions, where the accounts are created, and are not multisig.
The last instruction:  Token Program: Set Authority
this is the txn on mainnet
3QvWUHbpDmLANUnXwVmHSmyDaNWzfx8X1xicSuAuAfMtkyTg2si3kzSBfqCXVVuwZ2cFEE5m1kTVzBgdvCaSgpuZ
You should be able to, yes
wouldn't i be able to see if there were other instructions in the explorer?
Maybe a program using setAuthority with other things happening in other instructions?
also, all the accounts on the txn im looking at seem to be regular accounts, not multisig.
Yes i suppose, but that might not need to be signed by the to account.
Could you not set from a single authority to multi sig? That's possible
The code seems to say that multiSigners parameter is for Signing accounts if `currentAuthority` is a multiSig.  But I'm trying to decipher an old txn that has a weird setAuthority instruction where no accounts seem to be multisig.  Yet the instruction mentions multisig...it's weird
No. This was posted to you earlier by Frank. Please read it https://solanacookbook.com/references/programs.html#transferring-lamports
to transfer sol via smart contract, must we use token accounts?
No. Token accounts are owned by the token program iirc
All accounts owned by program are token accounts?
Thank you 😊, I am trying with 1.8.12
1.8.0 != 1.8.12
```
$ solana cluster-version --url devnet
1.8.12
```
I had tried with 1.8.0 and 1.9.5, in both I encountered the issue
How do we check the version of devnet?
It does have multi signers? https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L985
What version are you using of the solana cli? You should be on what version devnet is on, which I believe is 1.8.12
i'd post a picture, but it seems to be disbled
I am trying this out: https://giters.com/project-serum/anchor/issues/1157
gm all.  Is it possible to 'set authority' on a token account to have multiple signers?  I'm looking at a transaction that seems to be doing this, but i cant find a command in spl-token that might correspond to it...
I deployed something yesterday to devnet and didn't run into this. I would retry
If the PDA is owned by the program and enforced, yes
```
=========================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }
```
This is what is stored in the token account `data` field https://solanacookbook.com/assets/account-size.398f17bf.png
I believe this field can only be modified by program? Am I right?
Yes
What error?
by storing references to the owner of items? Are you referring to the `data` field in `AccountInfo` ?
still I am facing the error
Thank you for help. I have enough balance in the devnet account. I have around 38 SOLs
You can do whatever you want, but it is possible
We will do all these in on chain programs ?
You can store references to the owner of whatever item is managed by the PDA in the PDA itself
To interact with smart contract , we need to create account which is owned by program (pda?), but at some point we want to get back the item in that pda account to our main account, as we are not the owner of the pda, how do we do that? the program account can't magically know what is our main account right?
I would go through hello-world https://github.com/solana-labs/example-helloworld It sets data in accounts and is a great starting point
yep thanks <@!489206164270350337>
You can integrate captcha yourself if you want it
How do I set the account data using intialization instruction? A sample code will be helpful. There is no way to get the source main account just by looking at the account owned by program?
does it work with captcha ?
thanks man
What do you mean Solana asset profile?
iirc, every validator has a vote account. So you're in the right place
Build the transaction and send the object to your app server instead of sending it
thx mate.
Yes
Looks like that should cover it
```
$ solana rent -um 550000
Rent per byte-year: 0.00000348 SOL
Rent per epoch: 0.010483155 SOL
Rent-exempt minimum: 3.82889088 SOL
```
best way use api right?
You would integrate with the many different crypto-usd apis such as coingecko
Oh, it's a different tool altogether. It looks like it hasn't changed in months though, so it should still work as expected
https://github.com/solana-dev-adv/solana-dapp-next
hi all just wondering does anyone have any good repo for Next.js for frontend ? thanks before
<@!563035598743535646> <@!804350183105363980> <@!439209823201132558> - just DMed you, looking forward to your replies. 🙂
Hi team, I am working for Staking Rewards and we would like to establish contact with the core team regarding the Solana asset profile on our site, could someone please reach out to me. Thank you!
One last thing, is it possible to send transaction without verification ? I want to send transaction from the application's server, not the client's wallet
Hey yall is there a different way to get a list of validators? I thought `getvoteaccounts` was what I was looking for but now I'm not so sure 🤔  What's the relationship between voting accounts and validators?
Hey guys, I am getting this error while deploying the program to devnet. using this command

```
anchor deploy --provider.cluster devnet
```

but deployment on localnet is working good. The .so file is of 550 KB and the devnet account has around 38 SOLs
How can I read all phantom wallet value on usd currrency? Thanks
This function get the answer ony mainnet solana balance .
`const checkBalance = useCallback(async () => {
    if (!publicKey) {
      throw (
        new WalletNotConnectedError() && console.log("Wallet not connected")
      );
    }

    const walletBalance = await connection.getBalance(publicKey, "confirmed");

    const walletBalanceSOL = (walletBalance / LAMPORTS_PER_SOL).toFixed(2);
    setMybalance(walletBalanceSOL);
  }, [connection, publicKey]);
  checkBalance();`
Hi, I have a json of an account {"data": ["AQAAAI8uhMfrgqTTwAFfrk/kLE/xxWW7Mk6kLUsnPySHqP0OAQAAAAAAAAAAAQEAAACPLoTH64Kk08ABX65P5CxP8cVluzJOpC1LJz8kh6j9Dg==","base64"],"executable":false,"lamports":1461600,"owner":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA","rentEpoch":274}

I can't parse it into an Account struct, because the data String is not a list of u8.

```
#[repr(C)]
#[frozen_abi(digest = "HawRVHh7t4d3H3bitWHFt25WhhoDmbJMCfWdESQQoYEy")]
#[derive(Serialize, Deserialize, PartialEq, Eq, Clone, Default, AbiExample)]
#[serde(rename_all = "camelCase")]
pub struct Account {
    /// lamports in the account
    pub lamports: u64,
    /// data held in this account
    #[serde(with = "serde_bytes")]
    pub data: Vec<u8>,
    /// the program that owns this account. If executable, the program that loads this account.
    pub owner: Pubkey,
    /// this account's data contains a loaded program (and is now read-only)
    pub executable: bool,
    /// the epoch at which this account will next owe rent
    pub rent_epoch: Epoch,
}
```

I can't simply do serde_json::from_str(&item).unwrap();

Why? How is the solution?
https://lib.rs/crates/solana-tokens
Link to post? It looks like it is still a feature proposal, not implemented
Not sure, I just saw this in a blog post and it works fine earlier, but now I kept getting this error.
This is part of spl? I thought this was a feature request still
Thanks dude
https://solanacookbook.com/references/keypairs-and-wallets.html#convert-mnemonic-to-keypair
Hi,
With web3 it is possible to create a new address with the class Keypair and his method generate().
Is it possible to get the 12 or 24 words associated at this new address ?
Hello, I'm running solana-tokens distribute-spl-tokens. but I'm having this error. Any idea why this is happeningg? 
```
thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: ClientError { request: None, kind: Custom("Invalid blockhash") }', tokens/src/spl_token.rs:101:10
```
But you can potentially change some user-level notion of ownership (e.g. change the owner of a token account)—but that depends on the program in question (this user-level ownership idea isn't built into solana, it's program-specific)
You can't change the program owner (not once it has been changed from being the default, the system program)
oh ty that will help a lot :)
Hello, is there any way to change the owner of an account in my Rust program (of course after making sure the one making the change is the current owner of the account)?
https://lorisleiva.com/paginating-and-ordering-accounts-in-solana
yea see that but is there ant guide on how the offsets work? Because how do I filter the data?
https://solanacookbook.com/references/nfts.html#candy-machine-v2
Having an CM ID how do I get all his metadata? Total supply, redeemed nfts, go live date, price, etc,...
Ohh this makes sense thank you so much
E.g. this is how token accounts express ownership: given that they're token accounts, their program owner is the token program, but they store who their "user-level" owner is inside their data field
You could store the ownership relationship in the account's `data` (rather than via its `.owner` program id)
I'm trying to create an account which can own multiple account for storing data in them
Oh ok is there any way to connect them? like parent child?
Not via that `programId` field (think of that as only being for a program)
Nope, at least not in that way
A program owns accounts beneath it, I'm trying to know can those accounts hold other accounts beneath them?
Any lamports in that account are gone forever I think
It doesn't make sense to set the `programId` to a non-program
What are you trying to do? In solana, every account is owned by a program, and only that owning program is allowed to mutate the account's data or spend its money
Ok, no, that isn't what you want
let createIx = SystemProgram.createAccount({
  fromPubkey: feePayer.publicKey,
  newAccountPubkey: stakePoolAccount.publicKey,
  lamports: await connection.getMinimumBalanceForRentExemption(commandDataLayout.span),
  space: commandDataLayout.span,
  programId: feePayer.publicKey,
 });
How did you do this? That's not how wallets work (their assigned program id is the system program—you sign for them by signing for their *address*, not by setting their owning program)
how?
🙏 thank you ❤️
if anyone has a minute, can they dm me, i want to ask some questions about launching an nft
I have created an account and I have set "Assigned Program Id" to my wallet so can I sign that account just like programs sign their accounts?
gm everyone, I hope this isn't misplaced. Happy to remove if it is. I've been going through the learning process of blockchain technology, coming from traditional Node.js applications for the last several years. I came up with an idea for a multi-project developer documentation website that could hopefully make learning easier for new developers, and also relieve some of the strain of project owners to maintain tutorials, guides, up-to-date docs, support, etc. The platform is focused on user-contribution/ownership, so integrating Solana could be a great use case. This tweet has more info, happy to talk about it if anyone has thoughts on if this concept sounds feasible/useful/already exists/anything else. https://twitter.com/stephenplusplus/status/1488507946665455622
Yes
Does this return the accounts in the order you provide the pks? For example:

```
let accounts = get_multiple_accounts([0, 1, 2, 3]);
// accounts is now [Account 0, Account 1, Account 2, Account 3]
```
Also note the get multiple. Review the source of RcpClient to see what you can use.
Aye
Not missing anything. The functions I am rewriting would take `AccountInfo` as an argument. I just need to rewrite them to take `Account` then.
(btw: there is also a `get_multiple_accounts` call to get a batch of accounts at once)
Yes, but what are you missing that you think you need something else?
I am trying to do something similar to an on-chain program, in client code. So I absolutely have to use `Account` off-chain?
This is what you get in an onchain Program, but you said you were in client code
https://docs.rs/solana-sdk/latest/solana_sdk/account_info/struct.AccountInfo.html#
I want:

```rust
pub struct AccountInfo<'a> {
    pub key: &'a Pubkey,
    pub is_signer: bool,
    pub is_writable: bool,
    pub lamports: Rc<RefCell<&'a mut u64>>,
    pub data: Rc<RefCell<&'a mut [u8]>>,
    pub owner: &'a Pubkey,
    pub executable: bool,
    pub rent_epoch: u64,
}
```
```rust
pub struct Account {
    /// lamports in the account
    pub lamports: u64,
    /// data held in this account
    #[serde(with = "serde_bytes")]
    pub data: Vec<u8>,
    /// the program that owns this account. If executable, the program that loads this account.
    pub owner: Pubkey,
    /// this account's data contains a loaded program (and is now read-only)
    pub executable: bool,
    /// the epoch at which this account will next owe rent
    pub rent_epoch: Epoch,
}
```
Those return `Account`
highlighting my question so it doesn't get buried
You can use your RpcClient:
```rust
/// Checks for existence of account
fn account_for_key(
    rpc_client: &RpcClient,
    key: &Pubkey,
    commitment_config: CommitmentConfig,
) -> Option<Account> {
    rpc_client
        .get_account_with_commitment(key, commitment_config)
        .unwrap()
        .value
}
```
Or `rpc_client.get_account(key)`
This is the error I get:

```
cannot return value referencing local variable `acc`: returns a value referencing data owned by the current function
```
client
Where is this code, client or program? If the latter, you can't get AccountInfo that way... you have to add the Pubkey of the account in the Instruction account meta array
check this https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
ok, I'll do some trial and error on my own.
I didn't say that, I said I haven't seen something that does that for you
How can I convert an `Account` into a `AccountInfo`?

This is what I tried:

```rust
   let account_infos: Vec<AccountInfo> = pubkeys
        .iter()
        .map(|pk| {
            let mut acc = client.get_account(pk).unwrap();
            let acc_info: AccountInfo = (pk, &mut acc).into();
            acc_info
        })
        .collect();
```
Thanks for the answer.
I appreciate the confirmation that there is no API of any kind provided. Thanks!
most likely you'll have to do it yourself
I haven't come across anything that does that for you. You'll have to do it on your own by cross referencing or using solscan (slow) api if they have that endpoint
I'd like to get a list of addresses of NFT collection holders (same update authority) in the same way
Here's something else.
It's not going to be easy....
you're welcome
quick response, thanks
https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint
I'd like to list the addresses of accounts that hold a particular token.
Could you point me to an API or sample code that provides this kind of use case? 
in any SDK; rust, javascript, or python 
Please let me know.
Hello everyone, I hope you're all doing well.

I'm making a marketplace on Solana using an spl-token that I created. I want to sell NFTs for that token once a trade is agreed upon by the seller and buyer. So that leads me to two questions:

1) Is it recommended to make a function that triggers 2 spl-token transfer terminal commands back and forth with js as opposed to writing a smart contract? 
2) If not, where do you recommend I start looking for how to make my own spl-transfer routine?
I am interested to find out how this works. Is there any available references ?
Humor me for second. Has anyone created a on chain program such as a calculator?
It means literally what it says, the node is behind, so you should do a reconnect and update where the node is, or better use a dedicated node
<@!585868308419444749>  could you kindly put a comment on "missing blocks" topic?
I'm developing from scratch and this is the new thing which punched me in face
Is there any other way ? metaplex upload takes too long.  I will need to upload thousands of assets and it might take days to finished.
https://discord.gg/NEc2Fbjs
is it possibe to batch upload candy machine assets? can someone point me in the right direction please..
dear community! what does it mean?

Let us know how it goes
Ok thanks! Will try it out
Yes
Did I understand it correctly?
Ok basically the idea is to take the main account pub key and store it to account data (account would be  owned by program) during the account creation phrase.
thank you for your answer it's much more clearer
You could store the public key of the owning account/wallet in an initialization instruction so it sets that to the account data and then confirm that the pubkey of the account you transfer to is valid one
you can have a keypair be the upgrade authority on many different programs tho
the account data is the executable, so the key can only map to one program
Could that be hacked? Assuming the client interacts with the smart contract using two accounts (main account + the account which is now owned by the program), is there a way to confirm that both are in fact related?
Hello, I'm trying to deploy a solana program with my keypair and getting the error "Account xxxaddress is not an upgradeable program or already in use".
I have already used this keypair to deploy a program, but I asking myself why this account can't be owner of multiple programs ?
https://solanacookbook.com/references/programs.html#transferring-lamports
You add the main source account to the account list in the instruction
how the program knows the main source account of user B?
In addition to <@!165693124432232449> , a program can transfer lamports from an account it owns to ANY account.... which could be a wallet
you can sign the tx for the pda by using the seeds & bump
to answer your question you can transfer the lamports out of the account using a signed transaction or by manipulating the lamports ref
why not go from user a -> user b wallet, do you need accounts x & y? is this for escrow purposes?
To allow smart contracts to make transaction, 
1. User A create an account X which is owned by program account by using his pubkey and programId, and fund it using his main account.
2. User B create an account Y and do the same steps.
3. Now the programs own both accounts so it is able to transfer the funds
My question is how to get back the fund from the account (which is owned by program) to your main account?
Are there Dao systems on Solana that allows participants to use their NFT as a voting badge?
is there any lifehacks of how can I reduce size of .so file? 
Because I had one .rs script (his weight was around 29 KB), I changed him and decrease his size to ~20 KBs, but size of my .so file hasn't changed. What did I do wrong? 😐
OS?
`solana --version`?
`solana config get`?
anyone knows how to fix it

hello everyone i am new to solana today i am trying to follow the instructions on the official website trying to connect to testnet but there is a error
Yes, Programs live in an account identified by it's pubkey
They do live in separate spaces 
The check that an account that is submitted with the instruction your program processes is, indeed, an account that it (the Program) owns... attempting to write to an account that a program doesn't own will cause the instruction to fail
NOTE: How programs interact with accounts, owned or not, is the province of the program
Many thanks for your prompt response. When we see this function
```
pub fn process_instruction(
    program_id: &Pubkey, // Public key of the account the hello world program was loaded into
    accounts: &[AccountInfo], // The account to say hello to
    _instruction_data: &[u8], // Ignored, all helloworld instructions are hellos
) -> ProgramResult {
```

`program_id` is the public key of the hello world smart contract. The smart contract lives in an account. Is it the same account that then one we have in the `accounts` parameter? After your response it feels like `program_id` lives in one account and the data in `accounts` live in a different place. 

What confuses me is 
```
    // The account must be owned by the program in order to modify its data
    if account.owner != program_id {
        msg!("Greeted account does not have the correct program id");
        return Err(ProgramError::IncorrectProgramId);
    }
```

When we that the `account` owner and the `program_id` is the same.
Programs read/write state to Program ***owned*** accounts that do have data.
So when it is desired to have an account that a program can read/write to you create it with 
A) Who pays for the account data rent and 
B) The program ID (pubkey) that will have write access to the account data storage
C) How much data storage to allocate for the account
D) How many Lamports (one billionth of a SOL) to fund the account with, which will be drawn down from A
Good morning everyone, I'm new to SOL and web3 in general. If a program is an executable account and it can't hold state, how is it that the hello world example of solana has a counter that is persisted in the program and increases everytime there's a transaction?

Many thanks!
Hello, solana people 👏 .
i'm following the discussion about missing blocks in testnet network
https://github.com/solana-labs/solana/issues/22840
`We do not offer as stringent an SLA on testnet historical data. Missing blocks are considered acceptable.`

I have a few questions:
- Should we expect that if we will use our own node - there would be no missing blocks in testnet
- Community public nodes in mainet (https://api.mainnet-beta.solana.com) does not have "missing blocks" issue.
No. I don't know JS
Why would you do that?
Worst case contact the publisher on pypi
GitHub should list maintainers.
One of the keys is a string instead of a PublicKey object.
Apologies, fat fingered it.
Do you know where I can reach out?
what does your code look like? and what version?
While signing transaction.
tagged me tho
It was aimed at <@887791632865452052>
Hard pass. I did the CLI. Someone else can do web nonsense
<@887791632865452052>
Hmm you should be able to throw together a page with Transaction.from and wallet.signTransaction
I am trying to run bench-tps and solana-test-validator on different machines, using:
solana-test-validator --gossip-host 13.0.0.21 --faucet-port 8005 --gossip-port 8008
solana-bench-tps --entrypoint 13.0.0.21:8008 --no-multi-client --faucet 13.0.0.21:8005

solana-bench-tps side discovers the validator with correct ip and then exits, giving the following error:


[2022-02-01T07:07:22.596163665Z INFO  solana_bench_tps::bench] Airdropping 1398135952500000 lamports from 13.0.0.21:8005 for V5GXLGqetEbcjddncvoDVN2oGtvCr6HHi9SQ8fuHUYi
[2022-02-01T07:07:22.596170519Z INFO  solana_metrics::metrics] datapoint: bench-tps-lamport_balance balance=0i
[2022-02-01T07:07:22.596325208Z INFO  solana_faucet::faucet] request_airdrop_transaction: faucet_addr=13.0.0.21:8005 id=V5GXLGqetEbcjddncvoDVN2oGtvCr6HHi9SQ8fuHUYi lamports=1398135952500000 blockhash=GUun9K2P93VWcqGiuW85qcfKYDJR1svVmcwojhRaCk4b
[2022-02-01T07:07:23.599008065Z INFO  solana_client::rpc_client] signature 5ahinGx27DS5ArzmYLJeE9BzQDiMsibzgoUAxL5aRE1bSu93AkH36QDJ5ny6b7gWaUpfAxGWAQbEKtxeHLw5MFEx confirmed 1 out of 1 after 1002 ms
[2022-02-01T07:07:23.599307846Z INFO  solana_bench_tps::bench] current balance 0...
[2022-02-01T07:07:23.599321298Z INFO  solana_bench_tps::bench] Token balance: 0
[2022-02-01T07:07:23.599341650Z INFO  solana_bench_tps::bench] Airdrop failed! V5GXLGqetEbcjddncvoDVN2oGtvCr6HHi9SQ8fuHUYi 0 0
[2022-02-01T07:07:23.599356326Z INFO  solana_metrics::metrics] datapoint: bench-tps-lamport_balance balance=0i
Error could not fund keys: AirdropFailure
My suggestion would be to add "custom" URL config entries for each cluster and corresponding mnemonics
right on, I'll take a look
No, but you should add support
¯\_(ツ)_/¯
Im just using little wrapper scripts that sed the config.yml for now
is there any way to set a default rpc to switch to when using solana config set -u <m> / <d>
thanks!
AFAIK the CLI is the only thing that supports offline signing.  No web/mobile wallets
trying to use realm: https://realms.today/realms, for governance
Hi, everybody

Is any some OFFLINE page to sign multisig transaction without console
https://spl.solana.com/token#multisig-usage


So, I have several wallets (e.g. paper wallet or regular wallet on flash) and could sign offline multisig transaction with spl-token    utility

But some of users have not this utility and has only phantom wallet.  Is any optino to sign this transaction with phantom? (offline page or smth like this)

thanks in advance!!
is the governance token example of solana labs github repo, is this token a two faced like can this be used for both governance and as a utility token ? is it so ?
Does anyone have any insight on how to use the bigtable? https://www.giters.com/solana-labs/solana-bigtable I am referring to this documentation, but kept on getting error -b56af1b7018.json': not a valid identifier -- when running ./warehouse.sh. Would anyone be able to help me in the right direction? 

The error code that it is being generated from is ./service-env.sh
im not sure what the purpose is of getting number of transactions sent. thats probably the first question. if your looking for specific types of transactions, you would need to know what, and apply some kind of filtering on the transactions, or parse the transactions to get what your looking for.
Thank you for the clarification \:)  , funds changing hands isn't important to me, but the reference detail you mentioned definitely is. Is there another way to do what I want you might know of or is this something that one is not intended to do in solana's design?
Also note that not all rpcs may have the full ledger history.
It's not necessarily the source nor did funds necessarily change hands
That will return every transaction that _references_ your account
You are wrong
Correct me if I'm wrong, but the simplest answer to my question seems to be to count the length of `getSignaturesForAddress` (https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress) for my specified address
In Ethereum, one can simply get the amount of tx sent from an account using the associated nonce. Is there something equivalent in solana to get the tx count of a solana account? If not, is there any recommened way to get the tx count of an account?
What is a better way to get mint addresses from a CM thoo
Haha maybe its because I only used it on a program that only had a few PDAs.
i working on nft marketplace . is their any video related to it .. so that we can understand i am currrently working on auction ?
wdym now?  it's been slow for years
Why is getProgramAccounts so slow now?
does anyone know if its at all possible to impose a tax on a sol contract?

when a person unstakes their nft/token - I'd like to impose a 10% tax

is this at all possible? im getting conflicting answers wherever I go
"Phantom is thrilled that so many have chosen us as their crypto wallet. Collectively, our users have staked over 112.4 million SOL ($10.4 billion), swapped $1.37 billion in tokens and made 55.2M NFT, DeFI and app transactions. We know we have a great responsibility to continue building and will always act in the best interest of the community."

Any clue on how Phantom gets this data without maintaining a DB? Or do they maintain a DB?
Thanks, makes sense 👍 . Have used it before so will install the new version.
Even in my tutorials I show people how to do installation via docker. Because it becomes a lot more standardized, and just works. Instead of you having to dig for different packages and sort through compatibility issues and packages that might be missing from your setup.
OK got it thanks
is there a good way to query against all the transactions of an account?
I donno. I don't use MAC, or Windows for these things.
Thanks. But why doesn't the installation work on MacOS directly?
Install Docker Desktop on your MAC: 
https://docs.docker.com/desktop/mac/install/
Then use this image of Solana:
https://hub.docker.com/r/solanalabs/solana#!
Why don't you set up Docker first? Then you can just run docker image in a containerized Linux environment on your MAC
When I use the solana cli, solana transaction-history command, I am parsing through and it takes too long to parse through all of them. If I want to figure out the transaction history of a given wallet address in a reasonable amount of time, what would it be?
Can anyone please help me with installing Solana on Mac?  I have read the docs and tried everything to no avail. This is what I get when I use the Install Tool:

downloading v1.9.5 installer
curl: (28) Failed to connect to release.solana.com port 80: Operation timed out
solana-install-init: command failed: downloader http://release.solana.com/v1.9.5/solana-install-init-x86_64-apple-darwin /var/folders/nq/zkqs6zg9657_8l_hmkndnl7r0000gn/T/tmp.eqNQGrhA/solana-install-init

Thanks!
I don't think anyone is just handing out credentials to their bigtable instance.  You'll probably need to access it (transparently) via JSONRPC or the `solana` CLI
Hello, I am trying to use the bigdata from the ledger-tool command in rust programs. I am running "cargo run --bin solana-ledger-tool  bigtable transaction history --show-transactions <base 52 key>. However, I keep running into the error code over again

BigTableError(AccessToken("GOOGLE_APPLICATION_CREDENTIALS environment variable not found"))
It's the "collection" fields in the metaplex token metadata standard in the uri json schema. The new v1.1.0 handles it a bit different than the original, so be sure to look at both. https://docs.metaplex.com/token-metadata/v1.0.0/nft-standard
idk try and build a hello world program on windows and you'll likely come across the issue
So I found an env.sh file in the BPF folder on my machine, but I wonder if I need to make my own .env file?
I don't actually know what you're doing, I just saw the env error haha
this is windows, I see some issues on bpf giithub that seem to suggest it doesnt even work for windows
lol
what does home even need to be set to?
where? what env file the env file in bpf?
Make sure your `.env` file is correct
Does anyone know what ties an NFT collection together? Is there some sort of collection address?
what would be the settings to send a transaction the fastest way possible? i know of setting commitment to processed, but is there anything else to do to speed up the process?
I get it after trying to run yarn run solana:build:program in the hello world program
Is anyone familiar with cargo build-bpf error: Can't get home directory path: environment variable not found
thats perfect thank you!
Hey, I am stress testing my smart contract and the test unexpectedly hangs with an error:
```thread 'test_contest_enter_stress' panicked at 'called `Result::unwrap()` on an `Err` value: IoError(Custom { kind: Other, error: "the request exceeded its deadline" })', tests/enter_contest_functional.rs:214:10
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace```
It pretty much just creates a token account, and then calls my contract. The first couple of hundred iterations work, but then it hangs. Any idea what's going on?

This is using `cargo test-bpf`
Hi there. I am trying to create an NFT in Metaplex, and I need to execute about 2000 transactions in Metaplex. Is there any way to sign and send them all at once?
It's a timeout error
curl: (28) Connection timed out after 300347 milliseconds
solana-install-init: command failed: downloader http://release.solana.com/v1.9.5/solana-install-init-x86_64-apple-darwin /var/folders/nq/zkqs6zg9657_8l_hmkndnl7r0000gn/T/tmp.ZHEX78Tq/solana-install-init
I am looking at the same thing you are:
https://docs.solana.com/cli/install-solana-cli-tools#use-solanas-install-tool
This doesn't work: 
h -c "$(curl -sSfL https://release.solana.com/v1.9.5/install)"
Thanks still waiting to finish the download
Actually that's what I was using
Thanks! Will give it a try
Hi I am trying to install Solana v1.9.5 on MacOS and get timeout message below. Appreciate any help, thanks!

curl: (28) Connection timed out after 300347 milliseconds
solana-install-init: command failed: downloader http://release.solana.com/v1.9.5/solana-install-init-x86_64-apple-darwin /var/folders/nq/zkqs6zg9657_8l_hmkndnl7r0000gn/T/tmp.ZHEX78Tq/solana-install-init
No problem.
Thank you and <@!134416332509675520> 🙏
And there you go.
devnet
<:9207pepefacepalm:870403315018657792>
One line above.
`// @ts-ignore`
Ah you are using typescript.
Property '_rpcEndpoint' does not exist on type 'Connection'.
Looks good now
Do console.log(connection._rpcEndpoint)
Not the account
aha 😛
Oh wait, we should pass the public key right
Are you on the right network?
Hmm getting null
And send the tx signature here.
If that doesn't work then do `wallet.sendTransaction(transaction, connection, {skipPreflight: true})`
On Solana
Is it possible to make my own coin
^ yeah that's a good idea
Actually try hardcoding the keys.
Presumably the same accounts as the ones you linked above, but want to quadruple check
Sure thing
Ok, just to double check, can you fetch those two accounts in js `connection.getAccountInfo(address)`, and make sure their data actually looks right?
Changed it here as per Kartik's suggestion.
Yep, I went ahead and changed this.
Ok one issue is that the owner of the source tokens looks wrong to me, should be more like:
```.js
Token.createTransferInstruction(
          TOKEN_PROGRAM_ID,
          fromTokenAccount,
          toTokenAccount,
          publicKey,
          [],
          amount
        )
```
Sure 🙂
1 sec
Oh sorry, can't read
Where's the actual token transfer
Isn't that just you creating an account?
<@!134416332509675520> pasted my code here
Hmm, ok, those look fine I think. How are you invoking the token transfer?
From:  https://solscan.io/account/3XtsHg1s65YftXqc9EPNx7UrjdGYMZeRqhvcrnip9kZN
To: https://solscan.io/account/BTkJerXHdJse12nVQY1yQWBxrDTzFXj5Zi1sMPn1J1eP
Can you link me the accounts? 98% sure that error means at least one of them isn't right
Yep, they have both been initialized and hold the spl-token I am trying to transfer.
how can I optimize rust file size?
Are you sure the source and destination accounts are both valid token accounts?

Is this the full log?
Hmm.
Thanks!
PublicKey is the owner (
E6E5N8DjAadKy7gRd69gA4mqt5RxoWpz44GhRmorU7Dh)
Also a token account
https://solscan.io/account/BTkJerXHdJse12nVQY1yQWBxrDTzFXj5Zi1sMPn1J1eP
And what about to?
Right.
Ah no.
that gives me compiled code, any way to see the source? This is my own local validator so I'm guessing it may be possible to see that
I think it's a token account: https://solscan.io/account/3XtsHg1s65YftXqc9EPNx7UrjdGYMZeRqhvcrnip9kZN
Thanks, this works 🙂

I'm now trying to understand it completely.

Thanks for your help 🙂
solana program close
solana account "program account data address"
Yes.
From is a token.
also, how can I delete it?
if I deploy a program on local validator, can I retrieve the source that was deployed?
From: 3XtsHg1s65YftXqc9EPNx7UrjdGYMZeRqhvcrnip9kZN
To: BTkJerXHdJse12nVQY1yQWBxrDTzFXj5Zi1sMPn1J1eP
Can you send them here?
Hmm.
I logged the addresses to confirm.
Yep, both accounts exist.
The from and to?
Does the token account exist?
I tried passing the public key as a param like this: 

        Token.createTransferInstruction(
          TOKEN_PROGRAM_ID,
          fromTokenAccount,
          toTokenAccount,
          publicKey,
          [],
          amount
        )

Got this error instead: 

Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction 
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [1]
    Program log: Instruction: Transfer
    Program log: Error: InvalidAccountData
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 1415 of 200000 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA failed: invalid account data for
I think one of them should be the user's public key.
Can you double check the Token.creatSendTokenTransaction call?
<@!590982495923732511> Do you mind taking a quick look at my code? I made some modifications to yours but I'm getting a signature verification error.
```sh
curl http://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 0,
              "bytes": "SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"
            }
          }
        ]
      }
    ]
  }
'
```
Ok no problem. 🙂
As I said, we don't support that repo at all here, and no one here can help you.
Different RPCs have filters on their calls, especially `getProgramAccounts`. Looks like where you're hitting it is not allowed
It says I must request manual approval who do I reachout to? It says do no ping about status I'm simply asking who i need to contact lol
https://solanacookbook.com/references/nfts.html#get-nft-metadata
Please read your own PR that you submitted. Requesting things on token-list here can get you banned
We do not support that here at all
Who can take a look?
My pull rq always fails and its bc the auto merger doesn't like the deletion of these files
Do I need manual approval to update Token Icon on the token-list
Thank you. Do you know what endpoint would be the best for getting image links of all the nfts in a wallet?
When I run this exact example and remove the memcmp, then I get this:

{"jsonrpc":"2.0","error":{"code":-32010,"message":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA excluded from account secondary indexes; this RPC method unavailable for key"},"id":1}

When I don't remove the memcmp: {"jsonrpc":"2.0","result":[],"id":1}

Did this call work for you?
Some information on getting the keypair from the base58 string or mnemonic can be found here https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
That's because it is logging lamports
buffer-layout

<@!491381192692727808> reported the same issue here: https://discordapp.com/channels/428295358100013066/517163444747894795/930101341316059147

🙂
Help Please..  We are developing a Solana project where we are issuing a special token that will be used by clients to trade in partial token variable amounts for another hard good item. These variable size transactions need gas fees and there is no way to predict how much. 
Is there a way to pay the fees in a Solana program - or to calculate and reimburse the fee back to the client wallet?
is there a way to import an existing phantom wallet into CL? I have an NFT project and the meta data needs updating and that wallet has update authority
Hello, looking into atomic swaps and Solana - is this possible?  Just wanted to get that idea confirmed before I go down the rabbit hole
Thanks for the response, I'll try and detail out the issue a little more. In the picture linked, I connect to a phantom wallet, and get the public key. Then I am trying to call the solana api endpoint 'getBalance'. When I log the balance I receive, it shows "5872918240" when in reality, my wallet has 5.8 Sol
Not here. Best to just wait
Please give us more information on the issue and the code
any idea where I can go for that?
We don't own solana-py
We don't support token-list at all in this discord
Can anyone take a look into this?
https://github.com/michaelhly/solana-py/issues/182
this was approved
I submitted the pulll request like 2+ hours ago and still nothing
how long should I wait to see my SPL image show up in my phantom walleet?
Hello, I looking for some basic help regarding the solana api. I am looking to build a website that once unlocked with a phantom wallet, the NFTs are displayed. I have been able to unlock a phantom wallet and get the public key from it, but after that, I'm having some trouble. I have this code which I thought would work, but all the api endpoints give me weird responses that are not right. Any help would be appreciated. Thank you
thanks 🙂
You can find cost out with `solana -um rent <bytes>`
Cost depends on the size of the program
How can I calculate program deploy cost?
ty :3
iirc you can burn tokens in your ATA
I thought you needed mint authority to burn the tokens—can you burn tokens without?
https://spl.solana.com/token#burning
You burn the tokens and close the account
No, don't send to incinerator
QQ: If you're trying to deprecate a token and you no longer have authority over the mint, can you just send them to the incinerator address? Or what would be the proper way to "burn" tokens here.
okay, omw
I don't think this is related to solana support. Seems like a react issue
any ideas?

hey guys im trying to deploy my solana website via netlify and this is the error i get
It is ripe for competition! Go for it!
thank u <@!489206164270350337> !
Not sure, I'd check with metaplex https://discord.gg/yZZVd2WA
This happens from time to time for a variety of reasons. Read here https://solanacookbook.com/guides/retrying-transactions.html#facts
Is there another smartcontract than metaplex that exists or is it the only one currently on the market?
anyone know why I occasionally, randomly see this error, and how I might fix it: `unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds`? Similarly for "missing blockhash" errors
ok thank you for your reactivity !
Not mandatory, but that's where all the NFT support is. You'll have a lot more difficulty without it
hey guys, I am a rust dev and I would like to know if it is mandatory to use metaplex to launch my NFT collection ?
Today the NFT standard is Metaplex
so sorry for all this question I am new on solana
oh so without using metaplex is it possible ?
To my knowledge, this is how metaplex works. I don't think there's a way around it
of its possible to share this account with partner ?
ok and do you know if there is a workaround to create a NFT without create a created Associated Token Account
That does to my knowledge
I going to check that in the same time
WalletSendTransactionError: Signature verification failed
    at PhantomWalletAdapter.<anonymous> (:3000/static/js/vendors~main.chunk.js:80566:17)
    at Generator.next (<anonymous>)
    at fulfilled (:3000/static/js/vendors~main.chunk.js:80504:24)

Trying to send a SPL token via Web3/Wallet Adapter but getting 'signature verification failed'. Could someone help debug this issue?
its also required 2yrs of rent ?
during the mint
Its when I created Associated Token Account
I am not sure on candy machine rent requirements. They may have something internal on the program that enforces full 2 years
I am running the metaplex candy machine
If you're doing things with token accounts, they require full 2yrs of rent
What are you running that you get that error?
Right, I just ran the same thing to check
solana cluster-version -u devnet
1.8.12
You shouldn't run into this problem on devnet as long as you're still paying 1 epoch worth of rent up front
`solana cluster-version -u devnet` gives version for devnet
how can I check ?
no on the devnet
Also, you're just hitting local?
Shouldn't be. `solana --version` to make sure of your version
do you think it's about metaplex ?
I  changed to this version but I'have still the same error
hey, what does it mean ?
Don't see this, but it may not be on mainnet-beta yet
Or maybe just the bot deluge with low fees everywhere perhaps
tied to it anyway
<@!489206164270350337> 2jXx2yDmGysmBKfKYNgLj2DQyAQv6mMk2BPh4eSbyB4H Feature perhaps?
ahah same for me
Do you know if this change in rent is enabled vis-a-vis a Feature?
unfortunately :C
Can't build that
I'd love to build anything that helps people keep up to date easier
Telepathy
With everything changing so much, how would you like to keep up to date?
Thats the thing about docs, I hate reading them again, and again, and again 🙂
thanks a lot guys
ok I going to try 
I keep you in touch
Change to 1.8.12
Yes
it's because of that ?
solana --version
solana-cli 1.9.5
What env are you against?
https://docs.solana.com/developing/programming-model/accounts
and I also change a bit of metaplex to decrease the lamport on createAccount function and I have this error 
Error: Transaction failed: Error: Lamport balance below rent-exempt threshold
I don't believe this is current in 1.8.12. This is for 1.9, but docs have been updated to reflect the change
OK, I didn't see that. Where is that stated?
first of all thank you for your response 
I sow that but is it possible they changed because I have also sow this
ah, found it https://docs.rs/solana-program/1.9.5/solana_program/log/fn.sol_log_compute_units.html
Are you taking about how much compute each thing costs?
It is. Look at `solana rent SIZE_IN_BYTES` to determine how much rent will be extracted per Epoch. I also seem to remember that you pay for the 1st Epoch up front.
I’m actually talking about instructions that contribute to the compute limit, not transaction instructions
It's not a network thing today, just like it wasn't when I told you the same thing yesterday
I will speak to them thanks
So it's not a network thing?
I would talk to your rpc provider then
But I think I had too many connections open or something
No private
Using public rpcs?
You can get the transaction and look at it in the object
And had rtdo it a few times due to mistakes
Was airdropping
Aux accounts are legacy token accounts. Associated Token Accounts(ATAs) are what are used not
It's likely related to some stuff I did yesterday
Timeouts
Hello guys 
Do you know if its possible to create  an account with lamport below the rent-exempt
What are you hitting?
Anyone know how long ban rates last for?

Looks like the network is flagging me as a bot. 

Can't do more than a few commands without tx from my IP failing. Got a static IP as well so can't reset.
I remember using a function that gets the number of instructions that have been executed in a transaction but I can't remember what it is -- does anyone know?
like this in here

oh thanks bud!! btw do you anyhow know what aux1 means in tokens <@!590982495923732511>
Yes
so its just fetch all and filter as needed?
No.
<@!590982495923732511>
just  the specific ones
hello, is there a way to fetch specific collection nfts from the wallet? not like fetch all and filter it to get what we want
Happy to help :)
thanks again , you're a life saver ⚡
Will try that.
Then you can do wallet.sendTransaction
But I would recommend signing with the keypair first.
Either is fine.
I should sign the transaction first by the fee payer , right?
Thanks , this is what I had in mind
Correct.
You have to construct it with `new Keypair(secret key)` or `Keypair.generate()` for a random one
generated using Keypair.generate() , right?
Note that keypair is a keypair object.
Thanks dude.!
Awesome.
Then `transaction.sign(keypair)`
But I have a second account in the transaction , which needs a second signature
I tried it using "await window.solflare.signTransaction(transaction);"
You can do wallet.signTransaction
In fact it should cost more, because you wasted the clusters time
If the validator had to do work to determine it failed, then yes


///////////////////////////////////////////////////////////////////////////////////////////////

ok thanks
Check out and ask on metaplex discord ^
In the metadata. Please visit and ask in metaplex https://discord.gg/faQrN5Pc
just not nfts
I understand how to transfer solana
beautiful thanks
thanks. Im just tryna make a basic script so that when for example a particular button is pressed on my website the particular nft that was predetermined origonanly is sent to my wallet.
https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L1033-L1057
I also did, they use something similar to spl-token to create 1 token then disable the minting ... but how to link that address with the image ... and when you transfer it to another wallet, it should be displayed under your nfts,, not as a token
You have to use the internal instructions
Metaplex supports it. Candy machine is just one of the many programs
---
does anybody have an example of how to get a tx id when doing a mint to?
```    let thisTx = await mint.mintTo(
      userTokenAccount,
      payer.publicKey,
      [payer],
      1
    );``` it's return type is void by default
search metaboss, it has a command to mint nfts from your inputs
I did it forwards you to Metaplex, but Metaplex do bulk minting using candy-machine ... when you click on mint you get random image... they do not support a single on-demand minting
Check <#937905165074300999>
<@!585868308419444749>  Any idea how to do on-demand minting ? I just want to display an image with a button, when you click on the button you mint that image and it go to your wallet
that would be weird 😄
Yeah might just be full of strings or something 🙃
I know the rust entrypoint is larger, but I don't think is 130k larger
not yet, so I should do that
my cargo.toml changes 
```toml
[profile.release]
opt-level = "z"  # Optimize for size.
lto = true  # link time optimization
codegen-units = 1 # slow but more efficient, leaves almost no dead code
panic = 'abort'  # abort on panic

```
Did you try examining the binary with readelf, et al?
C ~44kB vs rust ~170kB
What's the size difference?
Does anyone have experience with compiling the same program to solana from rust and from C? It seems there are huge differences in size and I'm not sure why. I used all the possible optimization techniques in cargo.toml, and despite this I can't even get close to the version is size that's compiled from C, it's still much smaller. Is it rust and it's safety features that makes the program size bigger?
https://github.com/solana-dev-adv/solana-dapp-next Use this starter
Oh. I would recommend using something like a starter then instead of building everything from scratch
yes
new dev?
i have no clue what that means sorry 😆 . im new to this
Could you actually give the stacktrace?
what have i done wrong?


Uncaught SyntaxError: Identifier 'splToken' has already been declared
Thank you sir
Will just leave a note on the pull request haha no harm
Yeah I was thinking maybe it's not checking for closure
Might be a bug?
Hmm technically zeroing out an account's lamports would make it have less than the rent exempt minumum
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
Funny problem to have. Likely token program will update to not have this issue in the future
let transaction = new solanaWeb3.Transaction().add(
                    solanaWeb3.SystemProgram.transfer({
                        fromPubkey: provider.publicKey,
                        toPubkey: "WALLET ADDRESS",
                        lamports: charginglamports,
                    })
                );                                                                                                                                                                                                                                                                                                   
       How do I change this code to transfer a spltoken/nft instead of solana
Taking a step back - why would closing a token account cause that issue to occur, as it's not trying to create an account with less lamports than rent exempt minimum.
It's not necessarily in flux. That commit is to stay afaik. However, how older accounts are managed is still in flux.
Got you, so that's still in flux?
IE, devnet/mb is on 1.8.14 like you stated
This is an intentional commit. Keep CLI version and whatever env you are deploying to in sync
Hey - re: this change : https://github.com/solana-labs/solana/pull/22292

I'm pretty sure this breaks quite a few things unintentionally? (Was on 1.9.5 solana CLI):

When closing a token account in an instruction, I get this: 

```
“Transaction simulation failed: Transaction leaves an account with data with a lower balance than rent-exempt minimum”```

Reverting back to solana 1.8.14 works fine.
Ohh sweet. Thank you.
Metaplex has something like 4 million PDAs
As much as you like
Like when I try find program accounts? How many accounts can a program hold ?
PDAs have max storage of 10kb
😶
Whats the storage capacity?
Hi, how can I calculate the total accounts that a program account can store ?
wallet-adapter or bust
But users might not be comfortable with that.
Or use a managed wallet.
I would not recommend using a keypair to circumvent approving actions. This is the current UX flow of web3. Otherwise users are unlikely to trust your site
You can batch transactions and have the user approve multiple at a time if that fits your workflow
Just wanted to know these people are doing it - if it is safe or not - wanted my dapp to work similarly - did not want user to have to approve every small action
Break is ultimately just a product demo
It's not recommended UX, and I wouldn't trust any site I don't know the code to do this
Maybe if you explain what you are trying to do we can suggest alternatives?
Stealing keys doesn't get much easier than that.
Well you are asking the user to give their private key to a website.
since its storing the private keys in localstorage - its vulnerable to XSS
You're making a lot of claims. Why is it insecure?
Oh sweet, just what I wanted. Thank you.
End of transaction
So basically break.solana.com is making transactions in insecure way for demonstration purposes and should not be used in production
It is very useful for development.
I personally feel they should have it behind a flag at least.
Hi, so I was wondering, after I empty the sol in an account how long does it takes for the account to get deleted ?
Yes, I saw that.
Phantom even removed auto approve altogether
Very few do.
Auto-approve possible? I come from the cosmos ecosystem - where wallets dont allow that - will look into it thanks <@!590982495923732511>
If you don't want to do that then you need to load the user's seed phrase or private key into the browser.
If you use a wallet extension like phantom then the user has to approve each transaction, or set the wallet to auto-approve.
There is no way around it.
I guesse I will try understanding the TS code more
Some wallets do have a mode to auto-approve transactions for a site but I would only use that with a burner wallet.
That asks the user to load in the private key iirc.
That sounds hella sus
In break.solana.com - transactions are being made without wallet approval <@!590982495923732511> I am trying to find out how
How is that secure?
> I would really like this feature of making transactions without user having to approve them on web wallet 
???
The entire purpose of web wallet is to prevent storing private keys in local storage - if its in local storage the keys are vulnerable to XSS attacks.

Maybe I am missing something? I would really like this feature of making transactions without user having to approve them on web wallet - is there any resource you could recommend me to read that demonstrates how to do this safely?

https://github.com/solana-labs/break - was trying to go through the TS code in this but was not able to understand much since I am not a TS dev - was hoping to quickly resolve my query - will go through it if there is no other option.

Thanks for answering my questions so far <@!489206164270350337>
Yeah. You're welcome to peruse the open course code of the site https://github.com/solana-labs/break
By storing it locally do you mean storing the private key in local storage?
You're going to get a lot more users using wallet extensions
I would like this functionality in production
I wouldn't recommend it because of UX, but it is possible
It is running in prod?
Can you do this in production without safety issues?
It's all local?
Isnt that insecure?
You load a wallet locally or a recoverable wallet
Hi guys - https://break.solana.com/ - how is this application making transactions, doesnt each transaction have to be approved by a wallet? Is there some secure way to make transactions without a browser extension wallet - thanks in advance!
Oh thank you so much. You always come to the rescue
Ye counter seed sounds like a bad idea.. 😩
https://lorisleiva.com/paginating-and-ordering-accounts-in-solana touches lightly on how to create accounts that are designed to be query-able
It sounds like you shouldn't have a counter seed, or create the accounts such that you can easily query them
thanks, I will look at it
You'll need to airdrop yourself funds on the test validator https://solanacookbook.com/references/local-development.html#airdropping-sol
So is it common to add all the account in an array as a state ?
So the indexing would mess up
But I might close that account at some point.
Let say i have pda account 1 and so on.. each incremented by +1
Hi, I want to start learning to develop on Solana. I am following this tutorial https://lorisleiva.com/create-a-solana-dapp-from-scratch/getting-started-with-solana-and-anchor. When I tried to deploy on local network (I ran with `solana-test-validator`) I got the following error 
```
Error: Account JD61SgGLQQHzZ6aHpWfVjBYShLV2bGKo6dzVw9aT1Xag has insufficient funds for spend (1.10021592 SOL) + fee (0.000805 SOL)
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.
```
how can I fund an account for local network?
I don't understand the issue.
Sorry?
I mean indexing wouldn't actually work , when the account is closed..
I also added a counter seed
For indexing
Yes I did that.
Use a pda where one of the seeds is the wallet address.
😶
How should I approach this
Hi, so I wanna create multiple accounts ~>store them,  and retrieve it afterwards. Also I want to map it with the respective wallet pub key.
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
Makes ABIs a nightmare though.
Ah.
arbitrarily large numbers
Hmm never heard of ALN
The solana cookbook goes over it in detail.
ALN is the way to go, no such thing as infinity... just lack of memory
I asked this today but didn't understand so I'll try again. If I want to make a mint account for a new type of token (let's call it MNT), how do i transfer tokens between two different people with two different wallets. Do I need to have two mint accounts - one for each person and create the tokens from them, or can I somehow have only one mint account for everyone's MNT tokens?
FYI that is an IEEE 754 reference.
Bad implementations sometimes give NaN for Infinity + 1
NaN?
"To infinity and, well.... whatever comes after that" - fastfrank
Ooh exciting.
I agree that better and easily accessed info can make a difference. Contributions, it being open source and all, is a way to accomplish and... they are emerging thanks to the likes of <@!785084693023424542> , <@!453347985628200960> , <@!455114989397868556>  and their ilk
We have a whole bunch of content coming soon-ish on this. Entire courses
I personally feel top priority is the detailing system architecture, more specifically the design decisions will go a long way towards helping start developing.
You have to try to remember that when guiding someone new.
Once upon a time Hello world was a struggle.
Also, Token, governance, solana/solidtiy compiler, and more are on the list to make docs clearer. Anything else make sense for the short term?
Remember the hedonic treadmill
Auction house.. Aren't they just asking about wrapped SOL and a marketplace?
You could do this with just javascript, as all of the programs already exist. Check out https://solanacookbook.com/references/token.html#wrapped-sol
Look at the Metaplex auction house.
Thank you, I appreciate that.
Whoops
I thin <@!936137619635576842> had a question up there
https://discord.com/channels/428295358100013066/517163444747894795/941349112597598228
There's just so much buried info out there 😅
I understand the problem Kartik. One of I + Lisen's job is to help get all this information more visible
I suppose I've become realistic on what "should be" and "what we have" and add in the willingness to go through what I can get and read the code. Comes with being long-in-the-tooth
I should not have to read a whitepaper, it should be in the docs.
See there's the issue.
Which is in the white paper, if I remember, where I got my understanding of the design constraints to attain the incredible L1 throughput
Especially when the alternative seemingly does the same thing magically.
You need to see why a decision was taken.
Haha but _why_
"You can't have everything... where would you put it?" - Stephen Wright 🙂
Why you can't have both an agnostic platform and a common abi.
Experience with low level systems.
deck it out in the metaverse
it's about drive it's about power
meh
Then wait.
It's not about intellect, it's about experience.
I'll referee it too
I have a small mind and I understood it 🙂 Can't be that bad
guys fight after my question gets answered 😦
Read the error logs.
I personally feel many people want to understand the architecture but it's not explained well enough anywhere.
Maintainers of that repo are not here
I don’t think you read my comment before giving me a useless reply. I did that twice on my PR. It’s been months. The only error is that it’s not eligible for automerge. Im updating my token url
Agreed
To be fair, the reasoning and explaination of _why_ there is no token/nft/xyz api is horribly handled by the docs.
must I write a program if I want to make a marketplace that simply invokes programs that wrap sol and transfer it as a token then unwrap it? Can't I just invoke a RPC as if I'm making an API call?
Small minds use words like 'mis-design' as they A) are unable to articulate too well what they want and/or B) they are not willing to read the fundamental architecture design and principles of the design
Different tradeoffs. Different positives
But it is quite the opposite. It is just designed differently
I hear this so much about Solana not having a mempool
I always find it interesting when something is different people call it a misdesign
Or polygon is also a good choice.
If you can do what you want on ETH... have at it. It is perhaps why transactions take hours to complete whereas Solana L1 is able to attain throughput through imposing a few constrains. So far the community has had not significant issue with it
That's misdesign. It should have.
Ah.
I'm sorry you feel that way.
Mostly because solana doesn't have a concept of a common abi.
Bye
will check it out.. thanks!
Another question, when I transfer A to an exchange, does the exchange also get B?
NFTs are spl tokens.
Try the solana cookbook.
In Ethereum it's also possible to create command that creates a token.
`spl-token create-token`
To the point it's just one command
It makes creating new tokens very, very simple.
hey, im new to Solana and still trying to figure things out... im trying to write an app that transfers NFTs from one account to another.. but in the docs i see only CLI commands.. can anyone please refer me to docs that show how to transfer NFTs Web3 functions or any other way possible ?
Why not like Ethereum where anything matching the API is a token?
Why did the developers decide to so tightly bind all tokens to a single account `spl-token`?
I am just saying minting on each transfer doesn't seem to be practical.
I'm not asking for details.
I don't want to disclose the details.
What if I transfer A back and forth between two wallets?
So if a token is transferred via 5 intermediary accounts during an exchange then who gets B?
I think, I am switching back to MoonBeam for my project
Ask users to deny all wallets and all exchanges? 🙂
Yes, you can ask the users to only use your website to transfer the token.
I want to mint it _every_ time when A is transferred
If you really want to mint B then you can write a tranfer contract that does the transfer and the minting.
Or are you using it as a proxy for something else?
I need it for my project. I don't want to disclose the details yet.
Do you really want to mint B?
Why?
https://explorer.solana.com/address/11111111111111111111111111111111
Solana would probably explode if someone changed the system program address
Was the system program name changed? I'm trying to find it. Could you kindly point me in the right direction?
Every time when token A is transferred I want to mint some amount of token B.
Sorry I don't follow.
like to count transfer amounts
I want to add minting second token when our token is transferred
Can you give an example of what functionality you want to add?
extensible token contract specification
Define new functionality
So, Solana is misdesigned and adding new functionality to token is impossible. 😦
Of you deploy your own token program then by definition it is not an spl token.
An spl token is defined as an account (PDA) that belongs to the spl Token program
Why?
If you redeploy either then I'm 90% sure your tokens won't be compatible with any existing software.
The "standard part" involves the Token and Associated Token program.
Like Liskov principle in OOP.
I want _the standard part_ of my custom token to be recognised by existing programs.
A custom one won't be recognised by existing programs.
https://github.com/solana-labs/solana-program-library/issues/2895
They can
`invoke` use the same instruction codes as external invokations?
The token program and associated token program address is hardcoded into programs.
Programs can call `invoke` other programs. Cross Program Invocation... CPI
What do you mean by "that"?
I don't yet know what is `invoke`
Am I missing something?
But your custom implementation won't be compatible with any wallets?
So a 'token' is an object, a program that is smart enough to be able to `invoke` some extended behavior would be a better way to state this. And, I think that is a nice and clean way to accomplish extended behavior. If you were to write such a thing I would love to review it
Are token developers here?
Token developers should assign some "barrier" of numeric instructions codes after that I can add my own codes.
https://discord.com/channels/428295358100013066/517163444747894795/941339886030557185
Adding 200 instructions hack seems reliable in practice. Is it secure, what's your opinion?
Don't be insignificant, a program is updatable
So, Solana is misdesigned.
BTW, updating a smart contract is not possible.
No of course not, it's a hack
It is token, that is money. I want a reliable, secure way to deal with it. Is adding 200 empty instructions a secure solution?
Add about 200 empty (arbitrary) instructions  (e.g. nops) and put your specialized instructions at the end? But you would always need to update your program with what changes are in Token which is your maintenance headache
I want it to be compatible with all Solana wallets, exchanges, etc. If I add a new instruction code, it may break future compatibility. What to do?
That is correct
I want to clone the Token program, modify it and deploy as your own program. The issue is that what I produce may be not compatible with future tokens (if a new instruction code will be added).
Either submit a PR to the Token program (which is deployed on all nets) or clone the Token program, modify it and deploy as your own program.
Is it impossible with Solana?
I want to create an "extended" token, that is smart contract which is not only a token, but also something other.
I mean: If I assign a new code (e.g. 29), then it may conflict with a future version of Solana tokens. What to do?!
🧐
Hi, can I create an pda account and start adding state on that pda in the same instruction?
As per the PR process:
"I agree to not ping anybody on Discord/Twitter/email about this pull request. Instead I will inquire by posting a new comment in the pull request if needed."
`TokenInstruction` in your tokens has fixed numeric (like 28) instruction codes. If I add a new instruction to tokens, how can I keep future compatibility?
Where is the appropriate place to ask about token list pull requests? I commented on the PR itself a couple times but haven’t heard back. I know there’s an insane backlog but just wanted to make sure I’m not missing a step. 

https://github.com/solana-labs/token-list/pull/6242
Trent setup a redirect for Metaplex in <#937905165074300999> , perhaps the same can be done for Anchor?
is it possible to import a private key generated by cli, into Phantom Wallet?
If something like this is not supported by Solana then how Magic Eden can display an image and when you click on it, you can mint it and it will be displayed in your wallet
<@!785084693023424542>  I checked the links you sent me yesterday regarding the on-demand minting. They are just creating an spl-token, mint a single token then disable the token using JS instead of Solana CLI. Using Solana CLI, I can do that easily, but how to attach this token address now to an image? and when I transfer this token to someone, it appears in his wallet as token not as an nft *between the nfts). Thanks in advance!
anchor specific questions should be searched on and asked in anchor discord.
init is only meant to be called once, that is the point. 
-> if i recall there is another way, with init_if_needed or something like this.
search anchor for related terms 
https://discord.gg/fnquWFmj
The examples in Anchor demonstrate initializing accounts
Hey guys I have a struct in my smart contract which creates a account for the particular user in the program.
Something like this: 
#[derive(Accounts)]
pub struct Create<'info> {
    #[account(init, payer = user, space = 10240)]
    pub userInfo: Account<'info, UserInfo>
 #[account(mut)]
    pub user: Signer<'info>,
}

so the problem i am facing here is, if the account is already created this will throw an error. Is there any way i can add the check for (if account already exist then do not do this, otherwise create a account) in the smart contract itself?
One solution is to have 2 different structs, one which initialises and one which is used if already initialised but i do not want to do that..
Hello. Do I need a validator to start a stake pool? Can I use an existing validator ?
Could someone maybe tell me what I need to buy a Nft from a secondary market like magic eden? Like what steps I need
hello, when I run this command in VS Code terminal: cargo build-bpf --manifest-path=contracts/solana/program/Cargo.toml --bpf-out-dir=dist/solana/program I got this error: Failed to install bpf-tools: HTTP status client error (404 Not Found) for url (https://github.com/solana-labs/bpf-tools/releases/download/v1.21/solana-bpf-tools-windows.tar.bz2). Do you have some ideas how to solve this?
Hello Team, My name is Alex Azeredo and I am the Blockchain Lead in Dapple (former Influencer Index) https://dapple.app/.

We are looking for support to integrate our business in the Solana blockchain. Someone can help me? Thanks!
hello team can we create spl token in on chain program ? can you send me some resource for that
Is there a way to view a token that I've just minted (using `createMint` and then `mintToChecked`) in Phantom? I can see it in solscan if I search either the address I sent to or the token address, just wondering if I can add it in phantom too
hey, did you manage to do this ?
I pointed you to the constructor of PublicKey which can take an array, string, number (BN), etc.
https://solanacookbook.com/references/keypairs-and-wallets.html
what is this magic
oh fuck it worked
I have this array and i want to get normal address, Do u know how to do it?
What is a 'formatted' publickey?
Try moving the tests themselves to a `tests/lib.rs` and remove the `#[cfg(test)] mod test {` wrapper, here is example: https://github.com/FrankC01/versioning-solana/blob/main/program/tests/lib.rs
I said i had this array which is formated publickey and i want to decode it to normal publickey
OK, you said you had a publickey. If you want to create a PublicKey, look at the constructor options: https://solana-labs.github.io/solana-web3.js/modules.html#PublicKeyInitData
but I don't get the same output
I dont have the Run button on vscode (dont know why)
so I use cargo test
I've followed it
Yes: https://solanacookbook.com/guides/debugging-solana-programs.html#runtime-testing-and-debugging-in-editor
yes but in this case i have array of 11 numbers
A base58 string when decoded is a 32 byte array
https://pastebin.com/RnNtLpmj
I have my program written on top 
and I have test, I want to debug and understand what variables are passed to the program.
I get ok If I use cargo test but I want to understand what's really going on in the program
<@!814228493302497301> any chance for some help?
because normal format is array of 32 element not 11
If you have a public key and you want the string representation `pubkey.toBase58()` not seeing what the problem is
I mean this is formated publickey but i don't know how to convert it to normal format
<@!307236671517360139>  https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html
Hey, 
I'm having troubles testing my program, I've followed the links you sent yesterday but I'm little bit stuck
<@!814228493302497301>
do you know if there any plans to implement similar programs for ECDSA? or how difficult would this be to custom implement?
Yes
Is this a PublicKey?
we are still having the problem with metadata being connected to our token

https://solscan.io/token/8ymi88q5DtmdNTn2sPRNFkvMkszMHuLJ1e3RVdWjPa3s#metadata
Hey, just checking in to see if you guys found a solution for this
What format is it? I mean i have only array object so i cannot use toString
.toString
Anyone know how i can conver this in normal string publickey?
oh okaay, thanks for the information, i read the anchor docs later on <@!814228493302497301> 💚
Anchor and I am presuming they use IDL as "Interface Descriptor Language" although it can mean many things
Alrighty, Thank you
https://github.com/credix-finance/credix-permissioned-market/blob/c4aedda61fb170f5ce579f8015ef9e4ba284fd81/programs/credix/src/context.rs#L158
This is my current way doing it, creating a PDA in master program and sending it as a signer to puppet program and performing these checks.
Will look into instruction sysvar : )
Hey I remember there being a Solana web3 growth fund, does anyone know where I can get more info?
i havent read anchor docs
idl is part of anchor or solana?
different mints need different accounts.
like if you have tokenA, tokenB, tokenC
they all all different address.
https://project-serum.github.io/anchor/tutorials/tutorial-0.html#building-and-emitting-an-idl
guys what is IDL
maybe add some authentication to the program and I think maybe you will need https://docs.solana.com/developing/runtime-facilities/sysvars#instructions
I want to have a new type of mint and was wondering if I can have only one mint account that creates tokens for everyone who wants to have such token or do I need a different mint account for let's say each wallet that requests a token creation
Ah, I want a certain instruction to be called by only one particular program.
what would be the actual way to do that?
for now there are Ed25519 program and secp256k1 program.
https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program
maybe take a look at https://github.com/solana-labs/solana-program-library/tree/master/farms
not sure I understand. give you some points.
1. you can treat mint account as ERC20. it is token.
2. different mints need different token accounts to hold. (SRM need SRM token account, RAY need RAY token account)
3. mint authority is stored in mint, and it is used to mint more token.
4. more about auth https://solanacookbook.com/references/token.html#set-authority
a PDA is derived by [seed + program id]
when you call `invoke_signed`, you need to pass the seed.
and it will sign the PDA which derived by seed + current program id.
`own` is an ambiguous word. I will say that a program can sign a PDA when it can be calculated.
is it possible to verify an ECDSA signature in a Solana program?
Hi, I'm interested in finding all transactions which converted USDC to SOL, is there a clever approach to that?
Hello, I have a concept question: I have "Member" contracts and I want to have a token for each such account. Do I create only one mint account that creates the mint tokens for each Member or should each of them have their own mint account and mint token. If it's option one, who should the mint authority be since it will have to authorise token transactions with different signers (should it be some main Member who only I as a dev can use)?
Only the program owning the PDA can sign it, right?
https://docs.solana.com/developing/programming-model/runtime#policy
Can I assign any validator to my stake pool?
I found a solution. 
https://solfaucet.com can airdrop testnet and devnet SOL
Thanks bojo
solana config get
check your cluster connection
I need help with this please. Anyone?
Lmaoo.
It makes a wall of text easier to read
🙏  Thanks!
<@585868308419444749> what can I do please?
`solana-keygen recover 'prompt:?key=0/0' -o phantom_wallet.json`
Wow thanks so much - I got stuck on this for hours looking through the documentation. 
So it seems to have worked but the pubkey doesn't match my wallet in Phantom - is there an additional step to assign the same public wallet?
How can I get my Sol back used to deploy my program
Yes
What does that mean sorry? do I just paste it in even though nothing is visible?
Yes you can, it doesn't echo because it's secrets
You don't need the whole chat window
What is with everyone double spacing their messages lately?
When I run the command:
```solana-keygen recover```

I get presented with a field: 
```[recover] seed phrase:```

and I can't actually enter anything into the console?
wfm
Hey guys,

I can't get Sol from the faucet when I run "solana airdrop 1", I keep getting this error:
"Unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee payer funds".

Please help.
I think you can open an issue to the SDK repo for these problems.

also I will recommend you https://solanacookbook.com/ 
there are a lot of code example you can use (js and rust).
when you know how to develop on Solana, it will not be a problem to switch sdk. 
The core concept is the same.
you can use https://solana-labs.github.io/solana-web3.js/classes/Connection.html#simulateTransaction
it contains postAccountInfo
for SOL balance you can get `lamports` directly
for Token balance you need to parse data to get token balance (for parse token account https://solanacookbook.com/references/token.html#get-token-account use 2.)
I am developing using solana.py (https://github.com/michaelhly/solana-py), but I am stuck with an error and would like to ask a question.

I have called Class Transaction and Class Account as follows
transaction = Transaction()
newaccount = Account()
After that, when I printed the variables transaction and newaccount, the output was as follows. In future processing, it is not convenient to include "<" and I am having trouble.
<solana.transaction.Transaction object at 0x353c1bbc0>
<solana.account.Account object at 0x109c2c5e0>

I have 4 questions here. If anyone can help me, I would appreciate it.
(1) I understand that 0x109c2c5e0 refers to the memory address, is that correct?

(2) I am checking the programs in the Class Transaction and Class Account libraries, but the output "<solana.account.Account object at 0x109c2c5e0>" is not mentioned. Account object at 0x109c2c5e0>" was not mentioned. In which process is "<solana.account.Account object at 0x109c2c5e0>" output?

(3) What is the meaning of "<solana.account.Account object at 0x109c2c5e0>"?

(4) Is there a way to put the data output by Transaction() and Account() into a variable such as transaction or newaccout instead of a memory address?
Hey folks, any clue on how to get the simulated balance changes from Uint8Array Message object by using @solana/web3.js library? Thanks!
Yes its 1. Thank you so mcuh. You are a bloody legend.
you mean 1) you have 100,000 different accounts and want to build the mapping relationship for them or 2) you just want to store 100,000 pubkey on chain?

if you mean 1)
maybe https://solanacookbook.com/guides/account-maps.html#account-maps
1. for fetch updateAuthority https://solanacookbook.com/references/nfts.html#get-nft-metadata
2. technically updateAuthority can be different between different NFTs although they are in the same collection
3. more about metadata struct https://docs.metaplex.com/token-metadata/specification#full-metadata-struct
Hi, I was wondering if I need to store bunch of accounts like 100,000 of them , do I have to make those account own by another account and then retrieve those account through the owned account?

https://github.com/solana-labs/solana-program-library/tree/master/farms

Hi devs, it seems that `spl-farm` cannot be compiled successfully due to the breaking change of Anchor `0.21.0`.
Hello friends, have a question for you ) Can you explain please, how can i get updateAuthority of spl token better in one request on less ? Am i right, that updateAuthority is the same for hole collection  ?
for tokens, these types of calls get you parsed token accounts you should just be able to use:
https://solanacookbook.com/references/token.html#get-token-account-by-owner

similar calls exist for other types,  based on your need, and the calls your making.  for the info, if your not sure what the account type is, ull need to look up the program and type of account in some way. and its possible you may have to manually deserialize. There are usually ways to figure it out otherwise, the source code, discords, transactions, if necessary.
this for example by default will already take care of some of it for you for some basic account types. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedAccountInfo
you generally should know the type you are expecting, unless your just gathering accounts and trying to figure out what they are.
For get account info
How would I go about that
Hmmm I’m strugggling to figure out what the data returned is shaped as so I can decode it
yea so cookbook should be a good reference.  if you want a scaffold you can use this if you use react and or next: https://github.com/solana-dev-adv/solana-dapp-next just pop your functions in.
logged in with phantom
yeah i was using it for testing, but i also need to find a way to get the associated token account for the user
for a web client, token is not necessarily used or with wallets, but for testing, or perhaps a service/node server it may be
thank you!
id reference this for some good examples, with and with without wallets.
https://solanacookbook.com/references/token.html#create-token-account
i tried it with a keypair and yeah it worked
anyone run into this while doing anchor build? thread 'main' panicked at 'Code not parseable: Error("bump targets should not be provided with init. Please use bump without a target.")', lang/syn/src/idl/file.rs:353:58
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
ahhh that makes sense
when u actually create an account, if one doesnt exist, it uses the payer/signer to do so, if that is not a valid object, it will throw an error
its more for server side, testing, etc.  its just a helper method for Token methods. 
its not really meant to be used with wallet, from my experience.
but calling the getMintInfo works
so that method take a signer/payer/keypair in that value from what i remember..
i made it
no
did u get that code from somewhere?
this code worked on 1 mint but no others
that method takes a keypair/payer/signer
yes
wallet.signTransaction is a function?
i was testing with it
but its an existing mint
are you referencing some code for this or just made this up?
is this for testing and playing around or something more?
trying to send an spl token to another account with just the publickey
```  let mintPub = new PublicKey("D5n57HANuvxWZ1q7jxxsyFnTqHWCdRKBpK4K25jyAeag")

        let mintOb = new Token(this.props.connection, mintPub, TOKEN_PROGRAM_ID, this.props.wallet.signTransaction)
        let ata = await mintOb.getOrCreateAssociatedAccountInfo(this.props.wallet.publicKey)```
what does your code look like?  and what are you trying to do.  Token is just a token class helper utility.
https://github.com/solana-labs/solana/pull/23050
hey guys, I am trying to use Token.getOrCreateAssociatedTokenInfo and getting `Error: Failed to find account`. Is there any reference or fixes?
whatever it breaks people can just fix on update
haha
who is running 1.5.5
probably can be removed from web3.js
eventually, as of now I dont think it causes any issue
recent is around  too
yea, like gossip, root etc.
yes there is just old code around with it and there si no warning on the user side
of course this was deprecated since around 1.5.5 so one hopes people would be moving away from that at some point
i see
yea as far as I know that is what is referenced and is as similar as finalized.
Thank you. I will take a look
metaplex owns and run the NFT standard items.  there are lots of resources and projects, tho im not familiar with any on-demand minting, as they is not classically how lots of NFT minting has worked. Here are the cookbook resources: https://solanacookbook.com/references/nfts.html#create-an-nft
several NFT tutorials are available linked from https://soldev.app/
Aside from this I would like to see on demand minting as well.  Any existing examples or shops that use this concept?
Yea.... Thats why Anchor is building a Python version also.
would it behave like it is finalized?
what happens when using the json rpc max deprecated commitment?
if you end up figuring something out, it'd be great if you could let us know
same. on-demand minting. you'd think thered be better docs for something so basic
All what i want is to display an image with a button under it, when clicking on the button the image will be minted and you can see it in your wallet (been struggling for a week, solana + metaplex wasnt that helpful)
its a shame that there isnt better first-party support for NFTs directly from solana
me neither
you can ask questions in the metaplex discord, but ive never gotten a response there
i'm trying to do something similar to you. i tried minting and nft directly to a wallet, but theres a check in the smart contract to prevent that. the sendToken action also keeps crashing on me
ive been having nothing but trouble trying to use metaplex to do anything outside of exactly what its creators intended. their documentation is also horrible
Anybody have 5 SOL they can spare on the MainNet?
I know you can create nft mint using spl-token, but how to attach that token to an image? 
I tried to create an spl-token and minted a single token then disable the mint, but when I transfer that token to another wallet it appears as a token in Phantom wallet, how to make it appear in the wallet nft sections (between the nft images)
How to display an image then mint it using solana? When I use Metaplex Candy-machine it shuffles the nfts and when you click on mint, you dont know which nft you will get. What if I want to display an image with a button under it, when clicking the button you mint that specific image?
Literally the only way to sign a transaction
is there a way to sign transaction with private key/seed phrase?
<@785084693023424542> i applied few days back but no response yet, so wondering if its already maxed out or organizer too busy? need some details so can plan out my schedule 😅
how do I read a u64/any number from a vec<u8>?
general rust q:
Found the answer (I think), thanks for the help
for details and specifics,  
https://solanacookbook.com/guides/serialization.html#setting-up-for-borsh-serialization

getParsedAccountInfo or something similar, for basic account types should already be consumable.
the .decode() method requires a type arg but idk what to give it
How do I get a normal account from UiAccount in rust?
have you been to the cookbook?
https://solanacookbook.com/references/token.html#get-token-mint

in general you pass publicKeys to get an accounts and information.  based on what your looking for.   getProgramAccounts you may have to be careful or use non pubiic RPCs or other providers to get at the data your looking for.    under get program accounts in the cookbook also discusses filters.
id file an issue in the repo. they should let you know.
in regards to what?
How do I get the config data (mint price, live date) would I use get program accounts but with what public key
hey folks, just pushed up a PR to add a token to the SPL token registry but it's failing to automerge for this reason:
```
error validating schema: chainId: conflicting values 103 and 0
```
https://github.com/solana-labs/token-list/pull/17970

what have i done wrong in this case? 🤔
hey anyone knows who i can dm regarding solana hacker house?
If I use the pre-post balances I found a 5000 SOL difference. The total amount on the main actions part of solscan is 10 SOL, I would like to retrieve this amount. I'm begginer with solana blockchain, I think that I've to get the total amount of the inner instructions but I don't kow how to do that
Ok, I think that is where they have been trying, but no answer. I will check again. Thanks
The repo itself
May i ask where to seek help? Our team has been unable to reach someone
Why is getTransaction not capable? You should be able to use all the pre-post balances to figure this out
No one here supports token-list
Hi guys, not totally sur if it's the right place to ask, tell me if not. 
I would like to get the total value of the transfers for a particular transaction. See this transaction :
https://solscan.io/tx/2c5H3RsXZTgRpr2vkpWNyS6uj8FMx39FNVY5jLKyUGLAg2vYPV7NXAPg3LQPLU8YHNWHfU6HEZpS399VWrJwB9aY, I want to sum up all the transfers in the main action part. I thought that getTransaction was able to achieve that but it seems not. What is the best way to do that?
I believe Raydium does something similar, same with orca
Hello, i hope this is the right place to ask, but can I get someone from to help fix our logo URI in the Solana Github repository so that it populates properly in the wallet
or well, 20 sol might become a big deal soon, or already is rather
in case you have to deploy once, it's not that big of a deal, but that usually not how things go so it's worth the time to discover optimization possibilities for sure
Yeah 😆 it also means we gotta get better at managing memory for now and long term find ways to make that way cheaper, hopefully
or... underestimating average program size rather
aight, that says a lot 😄 I was just overthinking
Oh yeah, that without a doubt, some weeks ago we deployed 2 big programs on mainnet (gemworks on github), and it ate pretty much 20 solana 😢
but I will try no-std anyways, seems like a good idea
Good day!!
Someone knows of some repository with an UI to use the https://spl.solana.com/token-swap program?
I might be just overthinking, calculation checks out, and I just checked candymachine deployed on mainnet, it has 6.11 sol in the program data storage account, so it seems programs are in general big, I remember last year we deployed a minting contract and for some reason it took much less space back then, but I guess code has been added to the libraries and stuff got bigger
I still get the same error ... 
Anyway  it's a bit late for me now I'll probably be back with questions tmr , thanks for the help!
I remember reading on the documentation about implementing a custom panic handler to avoid adding more of stdlib to the binary, but I have no idea how much size that frees, probably not much

I'll leave that section here in case you are interested :)
https://docs.solana.com/developing/on-chain-programs/developing-rust#custom-panic-handler
Try `http://127.0.0.1:8899` https://solanacookbook.com/references/local-development.html#setting-up-connections
never really seen no-std crates in the solana-labs repo, but I might have just missed it
Ok i see , but i just checked with much simpler requests, now I just run 
let block_height = client.get_block_height()?;

And I get 
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 111)
Probably because it's compiling a good chunk of rust stdlib

Not familiar with programs yet, so just an assumption :)
I use `lto = true`, and `opt-level = "z"` in cargo.toml, and it helps a little, but it seems still too big for a simple hello world
right, I know that too
Program deployment always does double the space required as well for future upgrades
```
$ solana rent -um 60000
Rent per byte-year: 0.00000348 SOL
Rent per epoch: 0.00114579 SOL
Rent-exempt minimum: 0.41849088 SOL
```
yes, based on the rent exempt calculation it's correct, I'm actually wondering is that's common or I'm just missing some crucial optimization techniques
a very basic hello world, 60kB
It depends on how many bytes the program takes up
is that normal that a simple `hello world` program costs 0.8 sol to deploy?
Gotcha, no problem, thanks!
getSignaturesForAddress is the way to do it today. You could do something like binary search to make it a bit faster by checking when you have transactions found vs not.
Hello ya'll :)

I'm using `getSignaturesForAddress` (https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress) to retrieve the list of signatures of a token

The issue I'm facing is that that method returns the most recent signatures first, which means that if I want to find the first transaction of a token with a lot of transactions, I have to do multiple calls until I reach the last one. 

It's not really efficient and sometimes the Solana network is a bit sensible regarding multiple consecutive calls.

Does anyone know a way of retrieving the signatures list with the oldest first? Or no way?
Further brings up the question on any program owned data accounts (straight up or PDA) that may be sitting out there. You'd want a close or migrate strategy for those as well
Yeah, you cannot redeploy to same program ID. Big disclaimer
mainnet-beta likely doesn't have these rpc calls. Also, public rpcs are heavily blocking anything related to nfts. Recommend you get a private or use metaplex rpcs
That is why I'm saying test is locally first. <@!590982495923732511> implied that you ***can not*** redeploy to the same Program account once you close.
what happens if I close an immutable program
can I redeploy?
which part?
Ok cool, basically I am trying to get all nfts from one specific update authority in rust. 

My program essentially creates a rpc_client with  RpcClient::new_with_timeout_and_commitment(mysol_config)  where my mysol_config is the config located at /.config/solana/cli/config.yaml that I parse.

Then it creates a RpcProgramAccountsConfig with the given update authority and then calls client.get_program_accounts_with_config(&TOKEN_METADATA_PROGRAM_ID, config) with the created RpcProgramAccountsConfig .

Everything goes well on devnet but when i do 
- solana config set --url https://api.mainnet-beta.solana.com/
And run again on mainnet i get the following error:
- HTTP status client error (410 Gone) for url (https://api.mainnet-beta.solana.com/)

Hope it is clearer
You can close the program
sorry I don't get it?
` solana program close --help`
Try it against `solana-test-validator`... I believe that once you do this you can't use the same program account anymore.
quick question about `Immutable programs#` can they be undeployed? (and the SOL recovered)
A decent amount of users use the search functionality to find previous questions/answers
spam the group. You're question/answer could help someone else
Gn
Thanks for the answer ! I wouldn't wanna spam the group should I dm you to give more info ?
😅
i didn't realise that's the full command
I was trying to pass the account key into this cmd `solana program close --buffers `
i feel so stupid
did you try following the instructions that should have printed with the failed deploy?
how do I do that?
yes if your not just going to try to redeploy you can close the account buffer used for the deploy and recover the sol
yes
for deploy?
but I'm confused what todo
the hint suggests `solana program close --buffers `
how do I recover the funds that it already used?
heys I've ran into the `Error: Account HLDnC3eqhiNcuxruQvjTHva3QCdbQNg1eS9BrMhqgHTu has insufficient funds for spend (1.8923196 SOL) + fee (0.001365 SOL)` error
possible the call your making is not available in mainnet-beta.  some calls are limited blocked or different in mainnet vs devnet as versions between networks may be different. may want to ask in the metaplex discord based on what your trying to do in rust with NFTs and they may have more insight. hard to say either way without sharing more info.
Hey guys ! I am trying to get some info about some nft in rust, when I set my config to devnet all goes fine but after i set my config to mainnet : 
- solana config set --url https://api.mainnet-beta.solana.com 
I get the following arror :
- HTTP status client error (410 Gone) for url (https://api.mainnet-beta.solana.com/)

any idea what i am doing wrong ?
https://spl.solana.com/
https://spl.solana.com/token#example-transferring-tokens-to-another-user
okay, but that app needs to store private key of wallet with all nfts. Can I do without any security doubts?
Hey everyone, I am trying to make nft collection with solana, so that it would have 2 release waves. For example, first wave would have 2000 nfts, for 1 SOL, second wave would have 3000 nfts for 1.5 SOL. And people who have first waves NFT, would get 0.5 SOL, after second wave will be sold out. How could I do that ? As I am surfing docs, I guess that candy machine is not capable of doing that, so I guess I need to make my own Solana smart contract ( program ), but I dont find any resources on how to write  program for NFTS. Maybe someone has done this already, or have an idea how this could be done ? Thanks in advance !
I'm sure it is
Sorry, but I meant another thing: we want to build an app, which receives promocode and wallet pubkey, and this app will send nft to that address (if wallet is valid)
is it possible?
I have a comment that despite rust's utlity and promise as a framework, it is very difficult for many developers who prefer a higher level language. I hope this community focuses on lowering the barrier of entry, or at least have a dedicated language for more intuitive programing. Also proof of history is lit fam
You can request airdrop from JS/TS or Rust programmatically , is that what you mean?
Need help promoting it
Hello. I need to get my collection up on solana
🙏
Been wanting to do this for over a month now of being unable and finding no solution. Getting quite discouraged. I can code, but for some reason I cannot deploy even the most basic examples.
But does not.
I would think that I just type
```
solana cluster-version
```
get that version, download it and everything should work
I have a custom rpc
I'd just like to deploy to devnet to start, eventually mainnet, but none have been working.
Hello, I am getting a "Method not found" every time I have ever tried to deploy anything. I have tried on so many different versions of the cli now, I'm not really sure what I'm doing wrong.
Was just wondering, is it possible to perform an airdrop without using CLI, cuz my team doesn't own a standalone server, and our hosting provider doesn't support CLI tools?
<#937905165074300999>
Join Metaplex discord (see #nft channel here)
after that I didn't find algorithm for breeding that tokens
I was successful in minting nft
I tried to get any demo and tutorial regarding this but I can't find any fitted
I want know exact algorithm for breeding nft on solana
Thanks for your help
They have a Discord server, perhaps they can guide you further
?
Is there any way to discover this structure
I only know the program, is ME v2 from magic eden M2mx93ekt1fmXSVkTrUL9xVFHkmME8HTUi5Cyc5aF7K
It's my own transaction and I've set a memo on it, so I am expecting it to have one. I'm basically just trying to understand the structure I'm getting back from `getTransaction` or `getParsedTransaction`, and noticed that the memo isn't in there but this suspiciously Memo-named thing is 🙂 I'll take a look at those docs, thanks!

Edit: I just noticed that the memo is actually in the parsed transaction!
https://spl.solana.com/memo
Someone/something is potentially using it to annotate a transaction
So, you are getting back a base64 string which can be decoded to a byte array. From there you need to understand how the data is structured which is specific to each program that writes data to that account. Do you know what program that is and the structure and how it serializes account data?
To be honest I'm not familiar with that, but I'll look into it! Thanks! Does it have anything to do with the `memo` when creating a transaction or is that just a red herring?
Isn't that the Memo program ID/pubkey?
Can someone help me understand the account key:

```
        {
          "pubkey": "MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",
          "signer": false,
          "writable": false
        },
```

Is this derived from the memo I passed in when creating the transaction? Is it decode-able?

Anyone knows how decode this?,  From value.data
takes like 30 secs at least
damn that is still so slow even when someone only has 1 nft on his wallet
Hey guys, I want to filter solana blocks/transactions for specific instructions - generally I want changes to account info/token account balance for a given public address, more specifically I am trying to get all swaps/changes to liquidity pools for a given dex/pair so that I can recreate the price history of that pair on that dex. Any ideas how to get started with this? Also I am using python but suggestions in all languages are welcome 😄
I just uploaded a few NFTs where symbol of each was longer than 10 characters (its metaplex's limit)
Its working now, but thanks)
ok thx
Dm me with better details, let's see if we can hack something together if you want
At a bar
Otherwise put your questions here and someone is likely to help
Likely you exceed the heap (32K unless you request larger)
Hi guys, i was trying to create a crypto link shortener. My idea is to generate the link as NFT, because obviously, they are all unique, but i have no clue on how to do so. How can i generate an NFT programmatically? How much does it cost on average to mint an NFT? Can i use a text file instead of  an image to create an NFT?
yeah it's for breeding
what are you making?
I gonna make my own smart contract by rust with a guru's help
can anybody tell me where I can meet a guru?
Hello everyone
Anybody know how to get account publicKey from account created with SystemProgram.createAccountWithSeed?
Tell me please. If I want to create governance tokens for my stake pool, will SharedInstance (https://github.com/solana-labs/solana-program-library/tree/master/governance#2-shared-instance) suffice, i.e. , will the default implementation cover all standard needs (in fact, this is the creation of a proposal, voting, creation / burning of control tokens)?


///////////////////////////////////////////////////////////////////////////////////////////////

NP! Happy to help you debug if you have an issue using `createTransaction`, I'm going to be working on a tutorial around Solana Pay so definitely keen to iron out any issues in my understanding too!
Ah yes, you're right my bad. Completely miss read 🥲 ! Thanks again
Ah that ticket is about a future protocol expansion so that the sender can send an NFT back to the buyer. So for example if you bought some shoes you'd get an NFT of them. I understood your use case to be just wanting to use a token instead of SOL to make the purchase, or just to transfer a token?
Apparently this is not possible, yet: https://github.com/solana-labs/solana-pay/issues/70
Makes sense man, thanks alot!
im extremely new to web3 and Solana and im trying to figure out how can i allow the users of my website to list their NFTs for sale?
i cant seem to find any resources that explain this process so im lost.
what exactly is the next step after the owner of the NFT has connected their wallet to my site and has clicked on a "Add To Marketplace" button?
I've used it for a fungible token w/ supply>1 but not NFT - but AFAIK there's no difference at this level
Interesting, will check it out. Has anyone used Solana pay for NFT transfer yet, looks feasible but just curious
Have you checked out Solana pay? You should be able to make that transaction with something like this:

```
      const transaction = await createTransaction(
        connection,
        payer, // public key
        recipient_public_key, // recipient public key
        amount, // probably 1 here
        {
          splToken: "...", // NFT mint address
          reference: "...", // public key
          memo: "some memo"
        }
      )
```
Is there a way to let a user connect their wallet to the app and send their NFT to another wallet. Trying to use web3.js but not really successful. Have created ATA in the new wallet as well, is there any guide or someone knows exactly how to do it?
Is there a way to listen for transactions to an account using `solana/web3.js`? I'm trying to understand what the most efficient/best way would be to have a page update when an account receives an expected transaction (expected would be by the reference on the transaction) - ideally without polling
I have one (hopefully final) question about the mint accounts: I have a code similar to this https://codeshare.io/dwEx0y and was wondering what wallet keypair should I parse as an argument for the "whichWalletIsThis" param? Should it be a separate keypair that will be the fee payer for all token transactions? I first tried using the "senderWallet" as that keypair but realised that in that case if I decide do the reverse transaction ( call createMint(recipientWallet, senderWalletKey, mintKey) instead of createMint( senderWallet, recipientWallet,Key, mintKey) ) the fee payer of the mint account with address "mintKey" will still be set to "senderWallet" (which is now the receiver so they shouldn't be paying for the transaction).
It's just that the association is that one person has authority over that program when you see an address like that.
There's a lot of responsibility in the hands of the core contributors and the validators.  Validator software updates are effectively this, but breaking the trust of everybody building on top of the network would be fatal
That's true I guess.
> the eyes not seeing it as a native program
heh, why?  It's comforting to know that a random software change in the core validator is unlikely to change the behaviour of that program!

Associated Token Program is the same.  I don't know what a  Temporary Token Program is though
For a minute there I was like wow someone holds the keys to basically all the programs haha.
Ok I get what you're saying. It just hurt the eyes not seeing it as a native program. I guess this is the same for Associated Token Program & Temporary Token Program? there are many like this in the code it seems it's just confusing.
Tanks a lot
No it won't be
But it might be in the future.
Someone does have the key to `Tokenkeg..`, yes, but that doesn't matter.  The program is not upgradable by normal means, so the key is meaningless
Someone has the key to it though since it's not declarative like WrappedSol.
The "owner" of the token program is the network.  So if 66% of the validators want to burn it all down they can
So owner of the Token Program can't just nuke existing programs under it right now but in the future may?
Looks like there are a couple solutions depending on what you're running https://stackoverflow.com/questions/48555969/error-setting-certificate-verify-locations-github Also make sure you get at least version `1.8.14`
Dear Community, I am trying to install Solana and just can not solve the error which is shown in the Picture. I am using the latest Ubuntu running on a virtual machine (Oracle VM VirtualBox).
The new token-2022 program will be upgradable by the normal BPF method though.  We'll keep it upgradable for a time as it stabilizes, then hopefully throw the upgrade authority into a TBD DAO somewhere
No.  Token program is not upgradable by the normal method (it existed before that facility was developed).  Any future token program upgrades occur via a bank.rs-level change, like a core validator software change would be made
I can see it's not an upgradeable BPF
Ok but does the key holder of the Token Program has authority after deployment to all program under it?
Couple reasons:
1. We wanted to dogfood BPF.  If we don't use BPF for programs, why should you
2. There's a much smaller attack surface area if its BPF versus native.
The solana core contributors have the ability to modify it, like with the rest of the code validator software in https://github.com/solana-labs/solana
Why isn't it just a native solana program?
Ok but I'm asking technically, like who owns it? and does he have the authority to block certain programs?
The token program is considered part of the core validator software for the purposes of updates
So who owns the whole token program? does the owner have authority to disable programs on it etc?
Putting this here for others that may look it up in the future 
I'm not sure where to put this, but I had been dealing with this issue for a while and got it figured out. It turns out you need to have a commitment of 'processed' to be able to send transactions with your wallet on localhost!

Add lines below const endpoint = ... to have the following:

const localhost = "http://127.0.0.1:8899"
    let commitment: Commitment = 'processed'
    let config: ConnectionConfig = {
        commitment: commitment
    }
Updated your ConnectionProvider object in the ContextProvider.tsx file:
<ConnectionProvider endpoint={localhost} config={config}>

Make sure your solana-test-validator is running. phantom wallet-adapter-react wallet-adapter-base
The docs are right there for you to read too
`getFeeForMessage` ?
oh but `getLatestBlockhash` doesn't return the fee calculator
There should be a `getLatestBlockhash` in 1.9
I believe it is still good to use in 1.8.X. 1.9.X may be a ways off
<@!489206164270350337> do you know if there is an un-deprecated method that will still allow us to get this variable? since the docs say that `getRecentBlockhash` is going to get deprecated for version 2.0 and onwards
My understanding it that this can change in the future. Lots of discussion around fees. However, it is 5000 for now
I was following the helloworld github and saw that they used a deprecated method to get `feeCalculator.lamportsPerSignature`: https://github.com/solana-labs/example-helloworld/blob/master/src/client/hello_world.ts#L108. does anyone have some more context on what this is used for and is it just always a constant of 5000?
That message indicates that there are more bytes in the data array than the schema (borsh) is defined for. One way around it is to use the borsh.deserialize_unchecked (or something like that) but there are cautions associated with it
https://github.com/near/borsh-js/blob/master/borsh-ts/index.ts#L480
Did you ever figure out a fix
switchboard, chainlink, pyth, and more are out there. Not sure on the extent they are built out though
Hello awesome people. Would love to find out if it's possible to create oracles in Solana? For example, let's say I wanted to fetch an account's twitter followers. Are there any oracle frameworks or services out there?
I was exploring  it for the Hackathon but will have to look at something else 😅
thanks
Ohh, well thanks 👍
no, we’re blocking on shipping the zk token stuff anywhere until the team adds support for larger transaction sizes.  The zero-knowledge proofs are too large to fit in a single MTU with the rest of the required bits, so we need support for transactions that’ll span 2 MTUs
ah, thank you Jacob!
Fair enough
Try asking on metaplex https://discord.gg/pqnszpCB
Usually people start with the scaffold, yes. Recommend https://github.com/solana-dev-adv/solana-dapp-next
Doesn't look like it
It's not even on devnet yet?
Ohh okay
Is the general consensus for developing fullstack solana dapps just to use the scaffold and start from there?
the zk-token program is actually obsolete, it’s been merged into the new SPL Token 2022 program that is under development still.  The code for that is here: https://github.com/solana-labs/solana-program-library/tree/master/token/program-2022/src/extension/confidential_transfer
We’re still some months away from this shipping though
Hey guys, I`ve read about a possibility to have an Master NFT and create copies of it on this article https://medium.com/coinmonks/structure-of-metaplex-nft-c6ef4834a803 . Did you know if there is any documentation about how I can mint an transfer NFTs that are based on a Master NFT ?
When I try to deploy a compiled contract (bundle.so) with this command:
```solana program deploy --program-id /keypair/devnet.json build/bundle.so```
I get the folllowing error:
```Error: Account Bd3Sg9eRXpPH2WYoaQjTuTPG2w1u18sE8F7ZrHWSYCDT is not an upgradeable program or already in use```
Any suggestions?
Is there any chance you can guide me to a resource of it. Or should i perhaps ask on an anchor server somewhere 🤔
another is fee_pubkey
Not sure on how anchor handles it, but you can add multiple instructions to a single transaction
I see 1 pool account, but not two:
```
///   0. `[writable, signer]` New Token-swap to create.
///   1. `[]` swap authority derived from `create_program_address(&[Token-swap account])`
///   2. `[]` token_a Account. Must be non zero, owned by swap authority.
///   3. `[]` token_b Account. Must be non zero, owned by swap authority.
///   4. `[writable]` Pool Token Mint. Must be empty, owned by swap authority.
///   5. `[]` Pool Token Account to deposit trading and withdraw fees.
///   Must be empty, not owned by swap authority
///   6. `[writable]` Pool Token Account to deposit the initial pool token
///   supply.  Must be empty, not owned by swap authority.
///   7. `[]` Token program id
```
Seems like https://docs.solana.com/developing/programming-model/transactions#multiple-instructions-in-a-single-transaction would be the thing i'd wanted to be looking for but is more about concerns that a user can abuse a program when there is multiple instructions in a single transaction.
I kinda have a more general question.
Say i have a backend anchor program, can i execute multiple rpc calls as a "single" transaction on the frontend - having multiple phantom popups is kinda annoying. Or would i need to modify the program to handle "array versions" of inputs to handle the inputs?
here ```pub fn process_initialize(
        program_id: &Pubkey,
        accounts: &[AccountInfo],
        nonce: u8,
        fees: Fees,
        swap_curve: SwapCurve,
    ) -> ProgramResult {
        let account_info_iter = &mut accounts.iter();

        let swap_pubkey = next_account_info(account_info_iter)?;
        let authority_pubkey = next_account_info(account_info_iter)?;
        let token_a_pubkey = next_account_info(account_info_iter)?;
        let token_b_pubkey = next_account_info(account_info_iter)?;
        let pool_pubkey = next_account_info(account_info_iter)?;
        let fee_pubkey = next_account_info(account_info_iter)?;
        let destination_pubkey = next_account_info(account_info_iter)?;
        let token_program_id = next_account_info(account_info_iter)?;

        let ix = spl_token_swap::instruction::initialize(
            program_id,
            token_program_id.key,
            swap_pubkey.key,
            authority_pubkey.key,
            token_a_pubkey.key,
            token_b_pubkey.key,
            pool_pubkey.key,
            fee_pubkey.key,
            destination_pubkey.key,
            nonce,
            fees,
            swap_curve,
        )?;

        let swap_bytes = swap_pubkey.key.to_bytes();
        let authority_signature_seeds = [&swap_bytes[..32], &[nonce]];
        let signers = &[&authority_signature_seeds[..]];

        let result = invoke_signed(
            &ix,
            &[
                swap_pubkey.clone(),
                authority_pubkey.clone(),
                token_a_pubkey.clone(),
                token_b_pubkey.clone(),
                pool_pubkey.clone(),
                fee_pubkey.clone(),
                destination_pubkey.clone(),
                token_program_id.clone(),
            ],
            signers,
        )?;

        Ok(result)
    }```
Error tells otherwise. Got any code to share?
Not sure on other people's balances.
I'm using this function `spl_token_swap::instruction::initilize` in my program, I am sending all the accounts required buy this function.
Also does anyone have any idea of this? <@489206164270350337>
It sounds like you're not passing all of the required accounts to initialize
There's some good information here on how transactions get lost https://solanacookbook.com/guides/retrying-transactions.html
It's just another program. Anyone can create another standard, they just need to get buy in from the ecosystem
the zk token program is going to be a new program id, under token-2022.
Not today iirc. VRF needs to come from pyth, switchboard, chainlink, or some other third party
is there a way to generate secure random numbers inside a solana program
Also can we do Multiplication, division, square rooting on our encrypted balance cyphertexts?
Hey <@445425471027544095> if I use Spl-zk token program, do I have to use normal Spl token program with it to create our token account and mint first or spl zk already has that feature and I can directly use it and it will automatically create a token account and mint for me?
no nothing to do with metaplex, but let me see if they can help. Thanks
metaplex also have a db plugin, is it related somehow? got little knowledge here.
I developed an accounts db plugin. I tested it to work with `solana-test-validator` but when I tried to run it with a mainnet `solana-validator` it just crashes the validator. The logs doesn't give any helpful error message. Does anyone know if there is another log file that I can check?
```
root@system:~# tail /var/log/solana.log
[2022-02-11T14:07:35.430790025Z INFO  solana_download_utils] downloaded 18892368768 bytes 96.8% 18490316.0 bytes/s
[2022-02-11T14:07:41.431454168Z INFO  solana_download_utils] downloaded 19003879920 bytes 97.3% 18583138.0 bytes/s
[2022-02-11T14:07:47.431563574Z INFO  solana_download_utils] downloaded 19115042208 bytes 97.9% 18526712.0 bytes/s
[2022-02-11T14:07:53.432147286Z INFO  solana_download_utils] downloaded 19226269552 bytes 98.5% 18536090.0 bytes/s
[2022-02-11T14:07:59.432796010Z INFO  solana_download_utils] downloaded 19337389744 bytes 99.1% 18518028.0 bytes/s
[2022-02-11T14:08:05.432839777Z INFO  solana_download_utils] downloaded 19448861232 bytes 99.6% 18578446.0 bytes/s
[2022-02-11T14:08:10.019861971Z INFO  solana_download_utils]   ✨ Downloaded http://86.109.15.59:80/snapshot-120356230-Urb99Y9jqr6LxKRMp9eek5KErJMApV8XWgyBgazoe47.tar.zst (19521340358 bytes) in 1380.470882881s
[2022-02-11T14:08:10.064371968Z WARN  solana_core::validator] identity: CFK3WEXP2aGtaAY3wckL6yom7MYPRdfB5JPSn8AcZsAa
[2022-02-11T14:08:10.064427390Z WARN  solana_core::validator] vote account: GUEhTTULhHA3wJ3zuCqyD6TKJdPcpDynruy2Npm79M8G
[2022-02-11T14:08:10.064474371Z INFO  solana_accountsdb_plugin_manager::accountsdb_plugin_service] Starting AccountsDbPluginService from config files: ["/root/accounts_update_plugin_config.json"]
<crash>
```
yes sometimes transactions get dropped
Hi! Been digging though solana code and I'm wondering...

What is the reasoning behind `token-program`(https://github.com/solana-labs/solana-program-library/blob/3eccf25ece1c373a117fc9f6e6cbeb2216d86f03/token/program/src/lib.rs#L30) not being a native solana program 
 https://docs.solana.com/developing/runtime-facilities/programs ?

Does owner of the private key to `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA` has some undefined benefits(can alter token program behavior in any way)?
hello ,did any of you at some point encounter with the issue that transactions were sent to Solana but signature was not found ? And for some reasons sometimes worked, and sometimes didn't ?I have no clue why is this happening.
I'm using this https://docs.rs/spl-token-swap/2.1.0/spl_token_swap/ library Initilize function but it giving me ```logs: [
    'Program 7CrkUJks1vv6m5tE6xzwesTMNPfEuWUGCpvG8Qscq2o invoke [1]',
    'Program log: Instruction: Init',
    'Instruction references an unknown account 7CrkUJks1vv6m5tE6xzwesTMNPfEuWUGCpvG8Qscq2o',
    'Program 7CrkUJks1vv6m5tE6xzwesTMNPfEuWUGCpvG8Qscq2o consumed 8999 of 200000 compute units',
    'Program 7CrkUJks1vv6m5tE6xzwesTMNPfEuWUGCpvG8Qscq2o failed: An account required by the instruction is missing'
  ]``` error.
You need to provide more details than that.
bs58.encode
Really a question for the Metaplex discord but look at candy machine.
specifically
https://docs.rs/secp256k1/latest/secp256k1/struct.Secp256k1.html#method.verify_ecdsa
is it possible to use this crate in a Solana program?
https://docs.rs/secp256k1/latest/secp256k1/
Does anyone know how to parse instruction data from the listing transaction on magic eden? wanna get listing price for analytics

`An account required by the instruction is missing` I'm getting this error but I'm providing all the account, is someone know what might be the problem?
(Phantom)
whats the best way to do this?
I am trying to get the first signature to match the second signature, I believe the second is in Base 58
Hello guys, there is something like gate access token on solana ?
is there any "Remix" for **Solana** ? or how we can interact with **Solana** deployed contracts?
Hi experts, I am meeting an issue that when I purge a block `N` using solana-ledger-tool, the following block `N+1` will be null via the RPC `getConfirmedBlock`, which means invisible in the explorer. Have anyone else ever met this issue?
post request is counted as I/O - right?
Solana programs must be deterministic meaning that it can't be subject to side effects. Doing I/O is non-deterministic so, no can do
Yes, no Input/Output of any kind with the exception of writing log messages with `msg!`
inside/out?
by IO you mean Input/ouput?
What is the cust to mint One nft ?
cant I use post?
You can't call out from your program to AWS or anything IO
not sure if thats even possible
I'll tell you what I want to do - 
I want to check if the user that interacts with the program owns a specific NFT
If so, I want to get a png and upload it to aws
what do you mean by a strategy that takes 'chunks' of the data
You can pass anything but the size of the transaction can not be greater than 1232 bytes. This includes any instructions, instruction data and pubkeys
If you are trying to push something huge, you'll have to put in a strategy that takes 'chunks' of the data at a time and then some kind of completion instruction to indicate you are done sending chunks. You'll need an account large enough to store the data as well. This is basically what the loader does for your program when it is deployed.
Currently, the max limit for solana transaction-history is 1000, how to query the older transactions?
<@!814228493302497301> 
do you know what data can I pass to Instruction data?
I'm reading the solana docs and trying to understand - can I pass anything that I want to there? for example an image(png file) or there are any restrictions?
Their docs is not very detailed. And their discord doesn't work.
<#937905165074300999>
Using the metaplex js SDK, is it possible to perform lazy minting? We are finding it very disconnected and 'non-transactional'. Can someone explain an approach that will help us to achieve it or an alternative approach. We basically need to lazy mint an NFT whilst securing a 2% platform fee and 5% perpetual to the creator. If its not possible via the metaplex SDK, is there a repo with example of lazy minting at the least? Many thanks
At least in solscan the owners are different - as an example one of my tokens https://solscan.io/token/8Vj2VZLa71SwiYJ7pbTPJFwjpzmMQ2HA7d7FpMxTbobK?cluster=devnet#holders you can see under holders the token accounts and they're each owned by a wallet
Given Solana low fees, is It possible to overflow a program volountarily? Let's say I want to make Serum go in overflow at a point where users can't trade properly, how much will I spend to do that?
How do you differentiate between a `Mint` account and a `TokenAccount` account? both are owned by the `spl_token` program so how would one check if an account is a `TokenAccount`?
https://docs.solana.com/developing/runtime-facilities/programs#bpf-loader
https://solana-labs.github.io/solana-web3.js/classes/BpfLoader.html
Is it possible to deploy a smart contract to devnet using the JSON RPC API?
As far as I understand there can only be one associated token address for one keypair & one token, where would the token be stored, that is not in the associated token address?
possible yes
Have you checked out Solana Pay? Using that, you can create a transaction with an SPL token:

```
      const transaction = await createTransaction(
        connection,
        payer, // public key
        MERCHANT_ACCOUNT_ADDRESS, // recipient public key
        amount, // probably 1 here
        {
          splToken: "...", // token mint address
          reference: "...", // public key
          memo: "some memo"
        }
      )
```
you can't
I’m trying to make something similar to yawww with there deposit system. At the moment I’m just trying to be able to take the users nft essentially (nft pre determined) using phantom wallet. But everything I try just doesn’t work. I can do solana itself but the nfts I can’t work out. I have spent hours I beg someone shed some light
Oi! How can I reset decimals after "spl-token create-token --decimals 0"? =))
okay cool that does help
Do you guys know, if it is possible, to have the same SPL token on different accounts within one wallet?
Your not reading enough, there is a thaw instruction
https://spl.solana.com/token#freezing-accounts
CLI: `spl-token thaw --help`
is it 100% permanent and are there any loopholes, thats what i want to know
and does not give any details
it only mentions disabling future minting once
So all the created tokens will be operated by Token Program. Right? the generated tokens are just different data
that does not elaborate enough
https://spl.solana.com/token
https://solanacookbook.com/references/token.html
I am confused. If the generated token is just a data. When I mint some tokens, what contract will be executed?
Error
Test

hey guys .... i have a problem in sending some solana using anchor
know someone specific that may know?
I'm not aware but others in here may have that knowledge
<@!814228493302497301> 
do you know if is it possible to create a program that assure if a user owns a specific NFT? (I know you can do it via client side, but is it possible to do it as on chain program?)
https://spl.solana.com/token
what is the best way to make sure a token can not be hacked and minted
Check anchor docs, examples or their Discord server
when you make a token unmintable is that perminant or can it be reversed?
Program == Contract
In this case, the token generated by spl-token-cli is just the data rather than a contract?
Hello. I need some help. How  can I serialize my input data on the client with anchor
You are confusing Tokens for Programs and they are two different things. In Solana a Token is not a program (smart contract) but an account that can be operated on by a program
The error message says it all
An account in Solana may or may not refer to a program. 
That address is a data account, not a program account:
```base
solana account ExyyPM6bh5yhgbt3TJ2YEeQbgnotGHa8h9R3tjeztTmq

Public Key: ExyyPM6bh5yhgbt3TJ2YEeQbgnotGHa8h9R3tjeztTmq
Balance: 0.0014616 SOL
Owner: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA
Executable: false
Rent Epoch: 263
Length: 82 (0x52) bytes
```
If it were a program, the `Executable` would be `true` in the above display
https://explorer.solana.com/address/ExyyPM6bh5yhgbt3TJ2YEeQbgnotGHa8h9R3tjeztTmq?cluster=devnet According to the explorer, it should be a program
I tried to dump it with an address in devnet, however, it does not work
```
root@ubuntu-s-1vcpu-1gb-sgp1-01:~# solana program dump ExyyPM6bh5yhgbt3TJ2YEeQbgnotGHa8h9R3tjeztTmq ./
Error: ExyyPM6bh5yhgbt3TJ2YEeQbgnotGHa8h9R3tjeztTmq is not a BPF program
```
Not sure but I generally avoid doing that.
Using `os/exec` call solana program deploy
Is it accepted to make PRs for dev tokens then, or is that considered bad practice?
Thought a more decentralised process is in the works.
Unfortunately, not at the moment.
Use that as an RPC url.
What do people generally do to get a token working in Devnet? Seems a bit weird to open a PR for a test token in the token-list repo, and especially to put that as instructions in a tutorial - feels a bit spammy! Is there any alternative to get wallets picking it up?
the webset canot be open
Can you elaborate please?
An exec call might be easier.
Use https://ssc-dao.genesysgo.net/
Hey, is there any way to deploy a smart contract in Solana using Golang? I've been reading the docs from the Go SDK but can't find any way to do it.
hello~ experts, when i getBlock through rpc from my node i setted up, i get error "Transaction history is not available from this node"
how shoud i to to solved this problem, cmd line maybe wrong?
tnx
yup, it worked
<@!198576583529857025> 
Add the following:
```
[features]
no-entrypoint = []
```
And
```
[lib]
crate-type = ["cdylib", "lib"]
```
You can use solana account "program buffer address"
whats wrong?
why?
Ah.
It's not a valid program Cargo
Is there a --verbose switch?
I suspect cargo is crashing while linking the program.
thanks
None of these actually
https://unpkg.com/@solana/web3.js
```
[package]
name = "sendsol"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
solana-program = "1.9.5"
spl-token = { version = "3.3.0", features = ["no-entrypoint"] }
```
Out of curiosity, paste your program's Cargo.toml file in
which one of them 🤔

what ?
solana version 1.9.5
using wsl
Run `find . -name "*.so"`
What OS? What version of solana?
same output
You can use unpkg
solana program dump --help
but I didn't want to use any npm, would it be possible to have the api route?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getBalance
Hey guys, given one address, how can we download the contract in bpf bytecode in this address?
js/ts
From where? Rust? JS/TS?https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getBalance
:X
but I'll try again
didn't help
I tried using cargo clean
Change into the root of your program
`cargo clean --manifest-path ./Cargo.toml`
`cargo build-bpf`
https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions
Hello, exist some api route to get the amout of solana in one whallet ?
when writing a Solana program in Rust can you only use functions from the solana-program crate?
ie. https://docs.rs/solana-program/latest/solana_program/
or can you use functionality from any rust crate?
I'm confused, can you elaborate more please? <@!469776019784466442> <@!175903672486723584>
```
Compiling num_enum v0.5.6
   Compiling spl-token v3.3.0
   Compiling sendsol v0.1.0 (/mnt/e/solana/sendsol)
    Finished release [optimized] target(s) in 1m 47s
```
those are the last messages that I get after using cargo build-bpf
one second
nope
Where are you looking for the file? When you do a `cargo build-bpf` the last console message tells you where it puts the files
hey, someone knows why the build-bpf is finished successfully but not crating a .so file?
I want to deploy my program
Question for clarification. The documentation says, that creating an associated token address for a token before sending / swapping it is just a convention, does this mean, that there can be tokens in a wallet, that are not in an associated token address ?
Wait are you asking how to mint or how to send, because looking at the cookbook they do almost exactly this to send, and I don't see that they are minting in the same fn^^
Gotcha. So as long as you know the Token's public key, you can do something like this:

```
    let sourceAta = await Token.getAssociatedTokenAddress(
        ASSOCIATED_TOKEN_PROGRAM_ID,
        TOKEN_PROGRAM_ID,
        tokenPublicKey,
        sourcePublicKey
    );

    const destinationAta = await Token.getAssociatedTokenAddress(
        ASSOCIATED_TOKEN_PROGRAM_ID,
        TOKEN_PROGRAM_ID,
        tokenPublicKey,
        destinationPublicKey
    );

const transaction = new web3.Transaction().add(
  splToken.Token.createTransferInstruction(
    splToken.TOKEN_PROGRAM_ID,
    sourceAta,
    destinationAta,
    sourcePublicKey,
    [],
    1,
  ),
);

```
It's not that the example is not working. The problem is that in the cookbook the sending of the token is done in the same function where the mint account is created. I want to separate the mint token creation and the token transactions in different functions (WITHOUT having to save the Token object and send it as an argument or something like that.).
Otherwise, can you provide some details about HOW it is not working?
If it's not working, I would double check that you are sending to/from the TOKEN accounts, not the wallets.
you can get the token accounts for a given token/wallet combo using `Token.getAssociatedTokenAddress()`
I'm doing it in typescript the same way it is in the cookbook
You're doing this in JS?
I will try to be nicer next time. BTW #[derive(Account)] does not generate a nonce account. It generates the input structure if someone want's call the ix.
I've been trying to understand how to transfer my own type of mint tokens and tried with the code from the cookbook (https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens). However,  I have wallet A, wallet B and wallet C and I want to do one token transfer from A to B and another from A to C in different function calls. How can I reference the mint account that I create in the A to B transaction in the A to C transaction and is there a way to do it in a Rust program instead of a Typescript one?
My bad I didn't mean to jump down your throat
It could be a language barrier thing.
<@!469776019784466442>  and <@!175903672486723584> you both are too nice and helped me alot. May God Bless you and Thank you once again. 😍
I even pointed out the corresponding section (the hashtag in the URL)
Actually I'm saying the answer is in this page I sent. I apologize if someone's offended.
Of course people should be referred to documentation, but simply saying " I know the answer but I require that you go read two books before I will help" is not good practice to make new developers feel welcome. Better to say nothing at all
the `#[]` syntax denotes an attribute. 
the `derive()` attribute essentially (and take this with a grain of salt because I'm bad at Rust) news up an object from a data structure.

I would assume that `#[derive(Account)]` generates a nonce account, but someone better at rust should feel free to correct that.

Here are links to the specific parts of the Rust docs concerning that specific code:
https://doc.rust-lang.org/reference/attributes.html
https://doc.rust-lang.org/reference/attributes/derive.html?highlight=derive#derive
Also for basic questions, I feel instead of answering the question only, pasting link to a tutorial will be more helpful because what described in the tutorial must be more complete than me explaining in a few sentences here.
Sorry, no offensive. These are indeed Rust basics. If you don't have a good grasp on it, it is very likely for you to write some program that has a security hole. 
I sincerely think that the community should take responsibility to make sure we write bug free code. Especially after the wormhole issue. We should gain trust from the users.
why are you talking down to a person trying to learn?
for now can you please explain this ?  #[derive(Accounts)]
These are Rust basics.
Then I suggest you go through the Rust book. https://doc.rust-lang.org/book/ch19-06-macros.html#how-to-write-a-custom-derive-macro
i have red but unfortunately it was't so helpful for me
I suggest you read through the Anchor book. They covered these basics very well.
#[derive(Accounts)]
<@!469776019784466442>  what this means?
> both rust and anchor code is converted into BPF.
Anchor is a framework. Anchor is written in Rust.
If it's any help, this is the token: https://explorer.solana.com/address/6XTTyKyzRS7K95wePzzdeKFM2sbXSWYXDARpzq2MQCa7
Thanks in advance 🙂
Hey hey, Looking for a little help with a strange problem.

I'm discovering while transferring an NFT which was bought off of ME that some weird stuff happened with the ATA.

It seems that rather than transferring the token from Seller's ATA to Buyer's ATA, ME instead transferred the seller's entire ATA from seller to buyer.

This is messing me up when transferring because the NFT is not in the expected ATA. Does anyone know of a sort-of elegant way to deal with this possibility? Trying to avoid the scenario where I go through every transaction on the token and check the seller's ATA somehow.

I'm guessing my answer lies somewhere in listing holders for the token?
Thank you so Much <@!469776019784466442> , let me explain.
Our Rust code is compiled in IDL language and Anchor.js file interact with rust code through IDL file.
at build time both rust and anchor code is converted into BPF.
am i right? <@!469776019784466442>
you want &[u8]
[bump] is [u8;1]
but [bump] should assume we're using the whole thing anyways, why do we need to say use all of the bump
useful if you want to call the program from another language like js
IDL is the interface description language
BPF
in which format Rust and Anchor code is deployed on DevNet? is it IDL format?
https://doc.rust-lang.org/book/ch04-03-slices.html
Rust slice
hey guys, what's the &[&[bump][..]];      ([..]) notation?
It is like using React to write frontend instead of vanilla js
Yeah
<@!469776019784466442> <@!590982495923732511>  Anchor code is also deployed on chain?
Yeah agree. I think I can use this one https://docs.rs/solana-program/latest/solana_program/sysvar/instructions/fn.get_instruction_relative.html
<@!590982495923732511> can you please share link of an example? if its easy for you.
It implements the constraints on chain.
Anchor is a framework for on chain programs.
<@!590982495923732511>  Anchor is used to interact with rust code and initiate transactions on solana blockchain but if i don't add constraints in rust code and deploy on dev net then someone else can execute my code through program id. so i want my rust code full of constraints. have you get my point?
hi guys ! 
can you still withdraw funds with web3.StakeProgram.withdraw ?
Seems not working since few days for me

Example of a tx : https://solscan.io/tx/2nsEzXUPLEaqsyuyjfq9nn3x3CL3opivxW4Qkgxk9qJe2HXvfCGQfBR7RVaMfguS7UJKFdSAX3qKchMBb2an5rbd
For client code you have to implement checks yourself.
Hmm what do you mean?
But it think getting the ix indices and ensuring index of ix0 < index of ix1 < index of ix2 would be easier.
Yes, that would be possible too.
but anchor is used on client side, i have to add constraints in Rust code. <@!590982495923732511>
If I can get the tx, then I can set the tx into a PDA in the first ix. then for the following ix, it just check if the tx in the pda is same as the current tx
It explains these concepts nicely.
Try the anchor book.
yess but program code is in rust
yess!
Are you using anchor?
Why?
Hmm I am not sure.
How to Add Address of wallet constraints using Rust?
<@!590982495923732511> Do you know if I can get the tx id inside the program?
I see, definitely I can do that
At least check for you 3 ix to be in series instead of forcing them to be 0, 1 and 2
That's from what I understand.. maybe I'm wrong
Hmm then yes, checking the tx seems to be the best option.
Wait compute budget doesn't work per ix?
Yeah I know, but for the tx CU I can use the ComputeBudget program to increase it. There's no way for me to increase the ix-level CU.
Ah note that might be changed to 200k per tx soon.
due to the 200k per ix computation unit limitation
If you need instructions to be one after another then why not combine them into one instruction?
I see because I'm doing something requires 3 ix to be executed together, in a same tx
Yes, why is that an issue?
However this does not prevent someone issue ix1 and wait until sometime later and run ix2 in another tx right
For each instruction, have a pda that stores the previous instruction number.
Thank you
Correct.
It is not on chain.
Ahh, so you're saying that MagicEden and other NFT Marketplaces store a list of Mint Addresses that are specified by the user when adding a Collection on their app? Would that data be stored on Magic Eden's centralized servers or on their on-chain program?
How will that work?
No, magic eden and other marketplaces use a list of mint addresses specified while adding a collection.
But with candy machine you can usually get away with checking the first creator.
Instead save the instruction step in a pda.
any better suggestions?
Yes, but imo that's very fragile.
i.e. get other ix relative to the current one and ensure these are in an correct order
Are they ever going to update the dapp scaffold?
You would need a browser extension to interface with 99% of existing websites.
Yeah I know. I'm not sure how to guard the malicious ordering though. Can I do something similar to wormhole: https://github.com/certusone/wormhole/blob/dev.v2/solana/bridge/program/src/api/verify_signature.rs#L92?
Ahh no wonder. But how come they show up as a Collection in Magic Eden? Any idea if that data (to identify whether an NFT is in a certain collection) is on-chain?
All instructions in a transaction run in the order they are specified.
On the program side it's your job to guard against malicious ordering of instructions.
Most NFTs haven't implement collection.
How do I get an NFT's Collection?  I'm able to get the TokenMetadata struct but its Collection field is empty. Is there some method to run to get the Collection?
Is there nay devnet USDC faucet ?
Hey guys , wanted small help!
I am using  web3.SystemProgram.transfer to transfer sol from one wallet to other.
But if i need an event of this transaction on nodejs who can we do that?
Can we get the events on other server?
For bundling multiple ix into a single tx, how do I ensure the ix is called in order and all the required tx are called? e.g. a correct tx would be [ix1, ix2, ix3], and I want to forbid calls like [ix1,ix3, ix2] or [ix1] or [ix1, ix1]
I have absolutely no clue why this was the case...... (using javascript)
So for whatever reason, this was my issue.
Or is somebody interested in briefly explaining setting up a localhost reactjs dev environment (specifically connecting to the wallet/local network) I really don't see what's wrong with my config
Not sure, is there a support forum somewhere where we can get dev support? I'm really trying to stay committed to this but this is quite the hurdle
does the Phantom team no longer have an official discord server?
Is your wallet connectionprovider supposed to live in your app.js?
With what is currently available now, if I wanted to build out a mobile app where a user has to connect their wallet, is this possible right now? I see a lot of documentation on how to do this via browser plugin but I'm not sure how this will translate to mobile application. Does anybody know if this is even possible now?
I might have to make the repo public, I'll check out the scaffold for now thank you so much for the help though this has been quite the pain to figure out
have to step out.
if u want to drop a link to your code I can take a look later.
yea I see that.
from what you have shown it appears correct.
hard to say what the issue may be.. without pulling it down and running it.
if u expand those error do u get anymore info?

the scaffold above you should be able to specify localhost and has the state and context setup as a counter reference.
Here network is set to localhost
My connection provider is wrapped over my router....
u need to properly share? the context that has the localhost connection
if the context is getting reset somewhere, it might revert back to the default connection somehow.
i know the default connection in the wallet-adapter points to devnet.
This is just signing a transaction directly against the chain. Using the example from these docs: https://github.com/solana-labs/wallet-adapter
if using anchor, the environment variable ANCHOR_PROVIDER_URL  needs to be set to the network still, i think..
are u using anchor too?
the browser extension should have nothing to do with whether your client call works or not..  if that is updating, its because somewhere your client is still pointing to dev and not localhost

whats the error your getting client side?
My connection is correct, but the transaction still fails. If I set the wallet network (from the browser extension) to devnet it works

and when u verify, make sure when you bring up your plugin wallet that its also pointing to the right network under settings
as long as your validator is running, and your client is pointing there, the only thing that would stop it are some internal, firewall, os, other related issue.
wherever your connection is being set is the important part, as that is the network your transactions will be sent to
https://solanacookbook.com/references/local-development.html#setting-up-connections
if your using anchor, you also need to generally use the ANCHOR_PROVIDER_URL=   environment variable in your terminal, from what I recall.
Thank you so much!! You are a life savor. I will this code and see how it works
thanks again - this helped a lot. finally am able to mint an NFT directly to a recipient, on-demand. <@!906609265370886184> here's the proof-of-concept code in case you're still looking for a solution. there's still a few things i want to do: make the NFT immutable and mark the NFT as "primarySaleHappened",  and also update to the newer metaplex version so i can implement collections also     https://gist.github.com/itised/bf48fa87c9c7164fc431e241a2336dbd
This is my local solana config
well i already manage that part but following the Anchor docs, they set an RPC provider that is retrieved from the same library and doesn't manage any of the config that is locally set for solana
Yeah that's running
the wallet is separate..  they are diff things
you also need a solana-test-validator running
!!!!!!!!
that needs to be configured to point to the proper network
u have useConnection
the connection object is what is important..
here is a scaffold with a proper setup and wallet integration
https://github.com/solana-dev-adv/solana-dapp-next
Been at it all day
This is blowing my mind
Solana config is pointed to localhost
thats just your wallet, whats the connection object pointed to?
I use "useConnection()" maybe there it's overwriting?
Here's the transaction

I'm specifying localhost but if my wallet is on localhost it fails, devnet it signs I don't get it

Yeah
do you have a local solana-test-validaot running?
It's super weird, I have my code set up to point to localhost but my transactions don't work unless I'm on the devnet network...
the connection object in react is what is referenced.
I have my config set for localhost, it's my react application that wont connect and send transactions properly...
`solana config get` will show u currently pointed to
try  `solana config set --url localhost`
try uninstalling/removing the CLI install folder. and just building from src and referencing that path. and running the validator from source and not the CLI.
worst case you can point to dev for not,  `solana config set --url devnet`
or specifically  https://api.devnet.solana.com
Their docs only show that you can do devnet, testnet, and mainnet. Can't see to get localhost working....
yeah, I think so.  Maybe they built from source and then ran the installed binary
Anybody know how to run `{ ConnectionProvider, WalletProvider } from '@solana/wallet-adapter-react'` against a localhost chain running via `solana-test-validator`?
so not running from the build from src..  maybe a mix of installing CLI and running from cli instead of src 😛
The screenshot of  `solana-test-validator -v` above indicates it was not built from source.  If it was, the "src:" field would have been "src:devbuild" instead of a commit hash
i had several machines, but none without AVX entirely, but after the AVX2 upgrade, it still detected AVX, just not the 2 version, so I had to modify source code to bypass AVX2 manually, but dont want to recommend that.
they are building from source, and running into the infamous `Aborted (core dumped) missing AVX `
(that's the theory at least, I don't have an AVX-less machine to test on 🙂 )
I have AVX 1 but not 2.
When building from source on a machine without AVX, the resulting binary should work as the build just won't include the AVX opcodes.
doesnt the code check AVX and AVX2 CPU compatibility specifically in the code? is there a way around that when targeting source?  I was not able to get around it.. well, not without modifying the source.
how can i switch up the rpc to devnet?
> not recommended to change AVX support in the code and building from source.
I'm curious why you say this?  Building from source on that older machine should be ok no?
unless you want to use an older version, you might have to use devnet.  not recommended to change AVX support in the code and building from source.  generally that error shows up without having to produce a log from what I used to recall.   there is even an AVX2 requirement now, so machine is older or machine architecture may be different.
ahh you dont have AVX support

To run the built version, you have to do `cargo run --bin solana-test-validator`
let me try it out
~~yes~~ well it seems i was not
no it never worked for me since i installed the whole cli
did you try the --log flag above?
You are building from source, right?
No the installed solana-test-validator
solana? yeah
Does the installed binary work?
same behaviour 😦
core i5-7400 4 cores, and 8Gb of mem
Try `NDEBUG=* solana-test-validator -v`
machine specs?
i wonder if your running oom
hmm  how much memory do you have?
from source running a 20.04 ver
bad thing is i just get that... no more info above it 😦
are you running from source, or are these binaries? what version are you running?
1.8.14
No... only on a ubuntu machine
and what version of Solana CLI are you using?
also there are generally other information or error above that statement. without pasting too much text, what does it say..
are you on windows running wsl?
Hi everyone i've just started working with Anchor in order to build and deploy some contracts... Thing is i got a problem when starting a localnet, im working on Ubuntu 20.04 and i keep getting ```Aborted (core dumped)``` when running solana-test-validator. I try reinstalling solana cli but nothing seems to work for me. If someone can reply to me i would be grateful.
sorry, i tripped over a wire
its a mindfuck
i am working on 4 of those in parallel
It's these kinds of things that drive an engineer crazy
no, just retry
Any change to get it working?
great it's working again, was broken for nearly 1 hr
hmm just did an install with that and did not have the same outcome.  usually related to serialziation or some json related mapping. not sure on the install..
get this error when running the solana installer
```
 sh -c "$(curl -sSfL https://release.solana.com/v1.9.5/install)"

downloading v1.9.5 installer
Error: error decoding response body: invalid type: map, expected a sequence at line 1 column 0
```
if I wanted to get all transactions between two blockhashes for a given wallet address, is there a fast way for me to achieve this on-the-fly with the RPC API? looks like I would need to n+1 with https://docs.solana.com/developing/clients/jsonrpc-api#getblocks and https://docs.solana.com/developing/clients/jsonrpc-api#getblock if I understand correctly. i guess it would make sense to cache this pretty aggressively given the blockchain shouldn't change? do people generally implement this themselves or piggyback on something like solscan APIs?
I do accountSubscription to get changes in state.  I use it to stream Serum prices.  See https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe .

programSubscription will get you changes in a program.  I don't know much about getting the program instructions.  I think you need just a simple rpc call since the program instructions do not change.
hello, is there a way to stream transactions via websocket?

I'm using solana/web3 npm package
I see that there is Connection.onLogs(...) but it doesn't include the message/instructions/data
this would be based on a custom program, and game integration, but yea the program could own the mint, and upon a success call from a service, triggered by the browser game,  you could pass the user address, validate, and within the program just mint to the users address the WL token, so to speak.   say, player triggers win condition-> initiates a transaction (claim prize) ->user confirms->instantly minted LP token. but again. based on design.  if you want to 'airdrop' all at once, difference design. if instant, different design. etc.
"instantly mint the winner a WL token" what does this mean? You can mint for someone else? Rather than minting them myself and transferring?
agreed 😅  trying to get a working solution with what I know and improve from there
if they were doing any Solana integration.
from the game designer perspective, if they can instantly determine an action that creates a 'winner' they could just instantly mint the winner a WL token.
the more on chain the more provability and transparency, the less.. well the less. just depends what matters to you and your users. ideally with something minimal like this, the game creator just stores winners addresses, and could also offer a 'redeem' option in game, keeping it easy and all on chain. or they could simply store the address, and your service could query and send them using your script. ideally the first, if not the second. as both u, the designer, and the user, could verify and prove more.
with this approach I don't think I even have to write a solana program
if your not involved in integration, and they are not going to work with you or store data on chain. you may not have another option aside from convincing them on design.  you either store the data on chain or off chain, and take action with a service/client that based on the data executes the right calls to the right programs.
it just a list of accounts, but that would be stored in the program yourself.
I haven't heard of a rewards pot I will look into that
someone else is building the game but I believe they will just return the wallet address of the winner. So it sounds like a solution that would work right now is store those winners somewhere and then I can run a transfer script to each wallet
its based on your design, so it depends. how exactly the process happens.
so the game itself is not like a "web3" game. It's a unity game in the browser. What does it mean to prove a winner im not sure if that applies here?
you could also if u have a way to prove..  just mint them the WL token right away, in 1 transaction.
Yeah just fill the pot and walk away
that way u do nothing
yea
lol how so? "Winner then claims with a separate TX" like this?
haha
You could also just not though
Ok
yea, its a possibility. you could do that
I send the tokens to the winners at the end of each day for example
trents approach is great. you just need a way to make sure the winners are actually winners..
What about my machine?
anything you run like that should not be done from the users machine, for sure.
is this a bad approach?
and then the NFT can only be minted by those holding the WL token
I have a script that runs this to every wallet if I provide a list of wallets

`subprocess.run(
            ["spl-token", 
            "transfer", 
            yourToken, 
            numberToAirdrop, 
            str(address), 
            "---allow-unfunded-recipient",  
            "--fund-recipient"
        ])`
I want to give the winners a WL token to be able to mint an NFT
Maybe I'm using the wrong word (sorry I'm pretty now)
No AWS required
Why are you running airdrop at all?  Sounds like you want a rewards pot on chain. Winning stores the winner's identity and allotment.  Winner then claims with a separate TX
Is there any way to get the timestamps for the start of each epoch?
either way, have a way to verify the winner and prove it in the program.
if you call directly from the browser to the program, authenticating that may be tricky and difficult to avoid botting/hacks or direct calls to your program passing fake 'winner' data.
something like this there are a few approaches. you should not be running a 'script' locally from the users browser to airdrop a token with any of the currently available calls, as it requires logic and a keypair.

you will likely want to do this in a secure way and test it, either to the program directly, a service, or storage mechanism you can reference and run a service from.

service:  you want to inform your 'service' through a rest or similar api call, or trigger it, which would then take action and perform a transaction or logic that could then potentially in a secure way load your admin/server file wallet and execute a transaction with a program, from your services wallet, that would submit to the call or program to execute the 'airdrop/transfer' to the users address.
certainly.  if you airdrop from the browser, you share the private key with the user and maybe they'll airdrop themselves EVERYTHING
so should I store the winning address somewhere (AWS for example) then run the airdrop myself? not from the browser?
Hm maybe I am confused. The user will connect their wallet (so I have their address). If they win the game, I want to send their address a token
reminder: if the airdrop is going to be running in the browser context, that means the user has access to the airdrop private key
There's a perfectly good JS library that can do pretty much everything the CLI can. Why on Earth would you want to do such a thing?
This is when I try to sign the transaction myself
Not sure what exactly this means: WalletSignTransactionError: Transaction recentBlockhash required
    at PhantomWalletAdapter.signTransaction
I have a script I can run locally to airdrop tokens, not sure how to make that work in a browser and run automatically
basically user connects their wallet, flips a coin (simplified example), if heads they are airdropped a WL token
what does it need to sign in the browser?
would be easier to extract the private key and sign
is it possible to call the solana CLI via javascript from the browser? I'm trying to make a button which clicking it runs an airdrop script
feels like a phantom bug, try signTransaction then send it yourself
But not when the transaction is triggered from my app (unless it's on devnet)
The weird thing is that the wallet works sending through the ui on localhost
https://github.com/solana-labs/wallet-adapter/blob/master/packages/wallets/phantom/src/adapter.ts#L189-L196 oh it is sending through the wallet now
i see
I'm not checking the explorer, but the funds leave the wallet
are you actually seeing the transaction signature in devnet in the explorer?
this only changes where phantom believes it is
this doesn't change where your app sends it
Fails on localhost, works on devnet
regardless if set to mainnet, devnet, yolonet
Sorry I meant switching my wallet network
i am pretty sure wallet would sign and return to your app to send it
switching the wallet doesn't do anything
If I switch the wallet to devnet it sends the transaction
"still uses devnet" how do you know that?

So when it goes to send the transaction it still uses devnet (even though I specified localhost as the endpoint). If I try to use the phantom wallet on localhost it fails
Here's the view/page that creates a transaction:
It uses devnet, even if I specify localhost as I do here
I was curious about wallet-adapter and localhost actually
fail in what way?
Hello
https://github.com/solana-labs/wallet-adapter has no mention of how to set up localhost env's
If I use the endpoint = ... clusterApiUrl(devnet....) it all works fine but they method doesn't allow localhost references
This is my connection provider but for whatever reason it fails to use localhost when signing transactions later... Any ideas?
Looking for developers for a  fin tech project in Somalia anyone wanting more information message me
SPL? 😅
Read through a bunch of references on SPL, and pick a project and go at it. Best way to learn
<@!489206164270350337> 
can you recommend on how to learn to write program by myself?
I'm getting confused and as you can see I'm coming back here with simple questions everynight
I'll try some more again, thanks for the resource
https://solanacookbook.com/references/local-development.html#setting-up-connections Set localhost as `http://127.0.0.1:8899`
not in the same way that eth has now, which they did not have any remote facility of this for a long time.
I'm feeling like I cant understand anything 😓
I am trying to connect to a phantom wallet via localhost from a react application using 'wallet-adapter-base' via the clusterApiUrl() function but it is only using devnet for some reason.. Works find if I set devnet but not localhost, any workaround?
https://solanacookbook.com/references/programs.html#transferring-lamports
oh I want an on program
So like you have a rust client interacting with programs
So that example is rust client code, not really rust program code
for BPF - that is for on-chain programs.  client based calls cannot and will not compile there.
what are you trying to do off-chain (client) vs on-chain (program)?
there is a guy who is making rugpull on raydium everyday. I saw someone send a message to a hacker using via txs on ETH network. Is it possible on Solana?
All things I/O will not be available from a program environment, since that creates non-determinism.  Examples include file systems, networking, random numbers
The ones that don't touch hardware mostly
and I'm trying to use the send sol from the solana cookbook - https://solanacookbook.com/references/basic-transactions.html#sending-sol
and they are using solana_sdk, does that mean I cant deploy it?
spl-token transfer --fund-recipient 35gwDnRvcxAnfEmpUkW58WjTwpo4FVSUfbNWR2Pg6bSt 99 2hk2HU2BW3k9NdonPEkAKqb8AYZCcjTFtQAqaVaSEDc2 --url https://api.devnet.solana.com --allow-unfunded-recipient
i need to add these stuff to make it work thanks for the support though <@!785084693023424542>
I have a react application that I'm trying to connect to my localhost environment (solana-test-validator) but the library '@solana/wallet-adapter-base' only shows the options for devnet, testnet, and main-net. Even when I specify the connection it still doesn't connect to localhost, any suggestions?
hey is it possible to write a message in tx log? how can i send message to an account using via transactions
how can I know what dependencies supposed to work under BPF?
oh yep, solana-client will do it as well
Yeah client won't work under BPF either
ill remove solana client
solana-program 
and solana-client
but I got solana_sdk, in the main.rs is that a problem
What else do you have in your `[dependencies]`?  Try removing each of them until it works.  Also maybe remove your `target/` directory to be sure you have a clean build
and still got the error
but I removed it, used cargo clean and then cargo builf-bpf
yeah I did
You've probably added `solana-sdk` as a `[dependency]` in your Cargo.toml, and that crate cannot be compiled as BPF.
If it's not that crate, it's some other crate that's pulling in the atty dependency indirectly
hi
anybody knows why im getting the next error
```
error[E0425]: cannot find function `is` in this scope
  --> /root/.cargo/registry/src/github.com-1ecc6299db9ec823/atty-0.2.14/src/lib.rs:98:6
   |
98 |     !is(stream)
   |      ^^ not found in this scope

For more information about this error, try `rustc --explain E0425`.
error: could not compile `atty` due to previous error
warning: build failed, waiting for other jobs to finish...
error: build failed
```
when using cargo build-bpf
we dont support or have access to solscan updates or code. so you would have to reach out to them if thats possible.  the solana explorer everyone has access to.  hitting end points it also another issue and for that specifically you would need to reach out to them. i personally am not aware of their updates or update cycles or releases.
thanks a lot - definitely points me in the right direction
right that specific error itself comes from within associated-token-account, but it just means that the associated token account passed in, and whats expected, do not match.
`if associated_token_address != *associated_token_account_info.key {
        msg!("Error: Associated address does not match seed derivation");`

So something in the way that this associated token-account is being generated, is likely the issue.  so as I mentioned above, something with keys, accounts, seeds, being used to generate the account by yourself that is passed to metaplex is the likely source.  if it was metaplex issue I would expect it to be all over the place as a known issue, but you never know. as metaplex has certain criteria for generating these addresses for their setup, what your passing vs how they are generating, the issue is likely there.
So its not like anti bot or anything, seems like an issue on solscans side.
This is what is posted to me on a time out
and I tested this issue on a burner PC with a different IP USING solscans api test endpoints
I know I am not getting rate limited, as I am well under the request limit
this is the end point I am hitting
https://public-api.solscan.io/account/tokens?account=4eeDhpXVQFxHA36sqaFPpLwjVKSn3pwu74Fh9YUdswf5
It hits the endpoint fine all the time, but when something is added, it times out.
hello sirs. Does anyone know if solscan API did any changes recently? Ive noticed today when there is a new SPL token added to a wallet that I am tracking, the API times out.
thanks for taking a look. i know its a metaplex issue, but any low-level questions on their discord get ignored. the specific transaction that's causing the issue is when i call the associated token program, which i believe is owned by solana and not metaplex?
yea this is related more to how metaplex does things, so specifically, its a question related to them, based on the code. especially related to that specific error.  metaplex does things to generate and derive addresses and accounts in specific ways, based on mints and accounts and use specific ways of doing this with keys/accounts etc.   in general, an error like that might indicate the wrong keys or seeds are being used.     I would look for some metaplex example code the mimics what your trying to do, while you wait for answers in metaplex discord. and if no answer try again, potentially on stack overflow as well.
but i'm a bit lost as to what "Associated address does not match seed derivation" means
as far as i can tell, the problem is in this transaction: https://github.com/metaplex-foundation/js/blob/main/src/transactions/CreateAssociatedTokenAccount.ts
ive been slowly working backwards through metaplexes implementation to be able to do some more customizable stuff. originally i just wanted to be able to mint an nft directly to a recipient, but that kept giving me the "Associated address does not match seed derivation" error
the code is a bit of a mess as i keep refactoring to try different approaches, but this is my current failure: https://gist.github.com/itised/1c5829e3025b85a85a4e874c368bada6#file-minter-ts-L170
Is it possible to get accurate code coverage counts for programs that test via the bpf testing in `solana_program_test::ProgramTest`? I notice some modules in `solana-program-library` don't seem to be calculated properly either.
where can i find the token account address
share some code on how you are trying to create an associated address, with a gist, or link ideally if its more than a few lines
it is the 'token mint' address.  if that is the output it gave you
spl-token create-token --url https://api.devnet.solana.com/
Creating token HejCfW4UcBTA5XGDWvwSGJigs1Qpdv32qoeMPgyir3Mb this is my token address right
can anyone shed some light on what an error saying "Associated address does not match seed derivation" means or could be caused by? I'm getting the error when trying to create an associated token address for a mint. If the associated address is for the same account as the mint's update authority, it works. But when trying to create an associated account for any other address, i get the error above
there it's showing some amount of sol

this is the only way really adopted to add 'meta-data' to your token supported by most wallets and other apps. https://github.com/solana-labs/token-list

it does not cost anything to do this.
spl token
token meta data in what sense?   NFT or traditional Spl-tokens.   SPL-Token meta data is added through the token-list.  NFT is generally done throgh candymachine metaplex and is different.
will it cost anything to add token metadeta on devnet in phantom wallet
disabling a mint discontinues the ability for a mint to produce more supply.
the error above would be related to an invalid address, invalid account, or incorrect account.
Thank you!
1. In 1.8.x (devnet, testnet, mainnet-beta) each instruction gets 200_000 CU. In 1.9.2 and greater, there is a Transaction wide default of 200_000 and each instruction in the Tx draws down from that. In 1.10.x you will be able to request more CU for the Transaction
2. Check anchor discord
spl-token authorize HejCfW4UcBTA5XGDWvwSGJigs1Qpdv32qoeMPgyir3Mb mint --disable --url https://api.devnet.solana.com
does this have any effect on transfer
Mine do, there is some other issue
And i gave the recipient devnet address
Unfortunately, nothing helped for me(
But i've checked how rust-analyzer work in solana-program-library/token and there is the same behavior. And i figured out that rust-analyzer doesn't work in functions with [tokio::test] derive
yeah i created that token on devnet
Hi I’m trying to parse a data slice from a response. The type of the property is u64.  So would that not be dataslice.readuint8()? I’m getting a strange value
you may have to use the --owner flag,  if your using associated token accounts when doing tranfers.   remember to always test in local/dev before any mainnet
What are you looking to do. The best overall resources are with metaplex resources.
https://docs.metaplex.com/
https://discord.gg/vcdd2byN
spl-token transfer HejCfW4UcBTA5XGDWvwSGJigs1Qpdv32qoeMPgyir3Mb 98 2hk2HU2BW3k9NdonPEkAKqb8AYZCcjTFtQAqaVaSEDc2 
Account could not be parsed as token account: pubkey=9YjPeJ7U49ihrMs7G6CXHwJnY8Hwye5CHdidH5D5EhYM
spl-token transfer <your token account address> <total amount> <receiver’s wallet address>
this is the thing i should do and i did it but idk where i went wrong
or anybody can help me?👆
hi, <@!489206164270350337> 
thanks for your help

is there any Solana NFT with 1+ of totalSupply?
Hello, I'm new to Solana dev and have been studying the documentation to understand the transaction programming model, but I have a few questions. There can be multiple instructions in one signed transaction according to the docs, with each instruction referencing a subset of the accounts.
I have 3 questions related to this:
1. Is the compute budget applied separately per-instruction in a transaction? So if there are 2 instructions do they each get the full compute budget or do they share it?
2. Does the Anchor-generated client support sending multiple instructions in a transaction? I could not find documentation on this.
3. I see txn fees are applied via `lamports_per_signature`, does this mean fees are reduced by including multiple instructions in a transaction since they share the same signatures? And does having multiple signers increase the txn fee?

Thanks 🙂
<@!411154935917445145>  And if you `cd program && code .` do you have the same problem? If not, you can plop a Cargo.toml in `constract_folder` and put the `[workspace]` member ("program") in there. Then you shouldn't need to do so in `program/Cargo.toml`
From `contract_folder`
My project structure:
|contract_folder
   |program
        |src
        |tests
        |Cargo.toml
Awesome, very helpful
HashMap won't run in your program, you would need to use BTreeMap
Thinking a HashMap, I'll take a look at Account Maps
Also, where are you opening `code .` from?
No, i have not
👋
hey carl! 🙂
What hash? HashMap? BTreeMap? Also, if the map would get large then using Account Maps may be a better approach: https://solanacookbook.com/guides/account-maps.html
Do you have [workspace] defined ?
Does anyone know how to store a hash in an account? Using anchor atm and the IDL doesn't like it. From what I can tell this doesn't seem possible, but it would be very useful to do fast O(1) lookups
That's not a token account is what it says
seeing this: https://docs.solana.com/wallet-guide/cli but no code snippets
spl-token transfer HejCfW4UcBTA5XGDWvwSGJigs1Qpdv32qoeMPgyir3Mb 98 2hk2HU2BW3k9NdonPEkAKqb8AYZCcjTFtQAqaVaSEDc2
Account could not be parsed as token account: pubkey=9YjPeJ7U49ihrMs7G6CXHwJnY8Hwye5CHdidH5D5EhYM
not sure if this is the right place to ask, but what is `solana keygen` calling under the hood? I want to read through the source code here but am having a hard time finding the source code
maybe it is not 20, but i am sure it is not 100%
i tested it with sending transactions
How do you know it's 20%?
Please don't take a picture or screenshot. I can't read that
one more question, when i use logsSubscribe method it do not give me all logs by all transactions, i get about only 20%, how can i get all 100% logs by all transactions ?
I am trying to send some spl token which I created but I'm getting this error
Sounds like a question for the plugin
Hello!
I use VS Code and rust-analyzer. rust-analyzer works fine when i write in `src` folder. But it doesn't work  when i write tests in `tests` folder.  Have anyne faced this problem? Or can anyone help me?
My project structure:
|contract_folder
   |program  
        |src
        |tests
        |Cargo.toml
`getSignaturesForAddress` does for confirmed. `getTransaction` takes commitment level
as i understand i need to use commitment processed, but rpc method get transactions for address do not support this type of commitment, any ideas ?
I would ask in metaplex discord https://discord.gg/faQrN5Pc
You have to have more instructions in each transaction for minting
if one user wants to mint 1000 NFTs
Or you aren't communicating your intentions well
Sounds like you don't click approve 1000 times, 1000 users click it once each
ok, how can I do that?
Batch your transactions
yes, I can do it as a developer
but I want to provide that feature for users
Yeah, something like metaboss
I'd consider using a command-line tool for that rather than a web wallet
I want to mint 1000 NFTs with same metadata
so, to do that, I have to click "approve" 1000 times?
<@!445425471027544095> , <@!489206164270350337>
A lot of wallets are actually removing auto approve functionality altogether too
auto-approve is how people are getting scammed, I suggest not doing this unless you're trying to write a scam site 😬
anybody can help me?
I want to implement auto-approve feature of solana wallets in React project using `@solana/wallet-adapter-react`
https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
what type of commitment i need to use to retrieve trx asap?
i live there but no luck on this one
They should have more resources
If it is an NFT, you should be able to update it if you still have update authority I believe. Check in metaplex discord though
i've been unable to find any solution so I'm going to create a quick (does this wallet have X token tool) I think
tbh I'm mainly looking for a way to get my custom spl-token to show in phantom, they are no longer 😦
it's a NFT WL token, not a long-term utility
No node is going to be faster than others. That's not how commitment works
token-list https://github.com/solana-labs/token-list
was hoping to decorate it so it'd appear in phantom
can you please give some advice how to speed up please? what options i need to use ? maybe there are some super fast nodes ?
I want my spl-token to have a name and image
metadata meaning? NFTs?
Move to what you're comfortable security and time-wise
You're not going to get 2 second transactions with finalized
think I'm chasing the wrong horse,

can somebody confirm if I've already sent cutom SPL tokens, I can't decorate them post-airdrop

because each one would need to be decorate with metadata?
yes , i am using rpc method getTransactionsForAddress with commitment Finalized
You want transactions within 2 seconds?
Most apps are using the wallet-adapter https://github.com/solana-labs/wallet-adapter
What exact step are you going about?
i tryed Serum GoGenesis and quicknode, result the same
needed transactions flying very long to me, about 20 seconds, i want about 2 sec
hello, maybe smbody knows how to speed up getting transactions from nodes ?  i am using rpc method once in 200 ms by block of 30 trx
hi, can someone tell me as a developer how to trigger opening the native phantom ios wallet app when clicking on connect wallet from mobile safari on an iphone? I noticed this worked well for solanalysis.com and wanted to do the same for an nft mint site i'm launching. can someone point me to any articles or explain how i can achieve the same thing?
hmmm still can't get either command to run
will try from other folders
`error: Found argument '--list' which wasn't expected, or isn't valid in this context`
Try running cargo run --list
sounds like I haven't built it now you say
is there a command that comes before?
but him running `cargo build —bin spl-token-metadata-test-client` is throwing me off
is the likely candidate
it seems like this folder `rust/token-metadata`
i'm not sure what you mean
Try listing all the binaries.
https://github.com/solana-labs/solana-program-library/blob/master/token-swap/program/src/processor.rs#L1149
Tons of examples under tests
It is the metaplex test client.
do you happen to know what he means by `spl-token-metadata-test-client`? 

I've checked out a git from the same timeframe but can't see any reference to this
Can anyone explain  how can i create  a liq pool and market id with link -> https://spl.solana.com/token-swap   i have confused
As you're seeing though the account is less extensible. You can upgrade the account along with the program. You'll have a harder time finding it using the derivation schema. Program signing doesn't work as expected either
Yes, I use this https://docs.rs/solana-program/latest/solana_program/system_instruction/fn.create_account.html
What is the issue with this approach? AFAIK, there is no security risk: even if I leak the private key, only the program can modify the data, still it owns the account.
So you're using the old createAccount method? I don't believe that's a recommended approach anymore
It allows to use a "vanity" address for example
It's a regular account which is owned by the program (when I allocate the data, I choose the program as the owner). Whenever I need to sign with it, I use its private key.
How does that work?
My main state isn't a PDA.
thank you buddy 🙂
https://medium.com/@MisterKevin_js/metaplex-candy-machine-custom-spl-token-f5d65c7aafb0
hey everybody, can anybody reference something to help me decorate an SPL token (i.e add name + image to explorer and appear in Phantom collections tab)
Your program still has to sign for the PDAs.
I add the new fields at the end with a `repr(C)` attribute, it's alright
realloc is not on 1.8.X. It's in 1.9.X which is not on devnet/mb right now
https://spl.solana.com/token-swap
The solana cookbook has some migration examples.
Hi there i hope all doing well. Is it possible to create market id and liquidity pools on devnet ?
  Help??
That is best handled by your program, since the new state will have a different layout.
Yes? Like in my case: I've updated my program, and I need to update the state to match it.
Yes, but outside of testing is there any use for it?
This instruction could be deployed by Solana, and be callable by everyone, like a bunch of other instructions.
I don't think you can execute arbitrary instructions without deploying a program.
I still would need to deploy a new instruction, only for a simple thing. I wonder if there is a way to do that with a CLI call
Isn't it as simple as account.realloc(500)
I think it is, but anyway, I want to do that on devnet
Not sure if that is deployed on mainnet.
But I don't want to write a program only to do that.
https://docs.rs/solana-program/latest/solana_program/account_info/struct.AccountInfo.html#method.realloc
Hmm?
It's possible now.
You can't currently.
You don't have to use require if you are using the unpkg scripts.
Hey, what is the simplest way to reallocate an account to have more data space?


///////////////////////////////////////////////////////////////////////////////////////////////

could u point me to somewhere i can read up more on this?
I think
and use the mint program id
getProgramAccounts
Then I guess
it's in the mint account data
token accounts don't have supply
not sure though
then filter through that to find the data u need
to fetch ALL tokens all at once
you might be able to use getProgramAccounts/getTokenAccounts
BUT
Hm. Not sure if there is a way to query a list
for multiple mints at once
Thanks very much. This info is vital
no, fungible tokens. but i need mint account data, not token account data. in particular, current token supply
Like nfts or just token accs
The node doesn't know that it isn't written until it runs the program 😉
hi, i would like to get parsed account info for multiple mints at once using JSON RPC API. what's the best way to do it? i thought about using getMultipleAccountsInfo, but it returns unparsed data, and i couldn't find a built-in way to parse mint accounts. so i decided to ask before i possibly invent a wheel by defining mint layout in my app and parsing it at the low level using borsh 🙂 i'm using TypeScript
even if account is not written but marked as writable?
useWallet and useConnection
Use the react hooks
You don't need to.
PublicKey
is there a way for me to pass data i got from the app.tsx to a components?
i wanmy button is inside that component
and will be run one-after-another
can not be parallelized
2 different tx's that use that same account
so if an account is passed in
transactions are executed in an atomic and synchronous environment
Hello, I have a question about parallelizing. 
Lets say 10 people at the same time call a program, and send the same Account A as isWritable:true. Program will write the Account A if some conditions are met. 
But conditions are not met in none of the transactions and program is not wring the Account A. 
Will transactions be parallelized or put in a queue because same writable account was sent in?
What is the correct data type for a program adress in solana_sdk?
Can u help me sir? I sent usdc from spl to erc,,, and stuck at sollet bridge address,,,,
In that way, 'sign' also make sense. I got it! Thank you sir😍
You can use the window.solana object exposed by phantom and solflare but it won't have all the features of the wallet adapter.
They are different frameworks, that work differently.
It's not just the folder structure
Well the derivation verifies the pda and in effect signs the invocation.
sorry im quite new to js
so even if all are jsx, tsx, files, but the thing that kick the folder and structure is different (eg. vite, create-react-app) they dont work together??
Then, the seeds is actually given to invoke_signed function to 'derive' PDA, not 'sign' the PDA
I love you sir
Oh this was the answer that I was looking for
You can prevent this by forcing user X to be a signer in the transaction
And your program is responsible for verifying the user can only modify their own pda.
Your program has complete control over its accounts
Holy
Yes.
The seeds are used to verify the right pda is being used.
And if I know a user X's public key and bump_seed to create to generate X's PDA, then can I call invoke_signed() with X's publickey and bump_seed, AS IF I AM A USER X?
Hmm... I think I didn't understand. Then why we need those seed to pass?
Sorry what do you mean by information?
When your program invokes another program, the runtime keeps track of that.
There are no signatures to verify
At the moment I think only react, vue and svelt is supported
hello i'm from indonesia i have problem with my solana wallet can you help me sir?? I tracked my wallet and there was a notification "CreateAssociatedAccount" but there the information is still in my account, please help sir...
Then how runtime verify those signature?
hmm then how do i use the wallet adaptor on my JSX script created with vite?
Then runtime then treats those seeds as a signature
A program invokes another program with the pda seeds.
A program doesn't "generate" a signature for a PDA per se
That is not how it works.
Can you tell me what is "it" in the sentence "and it will sign the PDA which derived by seed + current program id", and tell me more detail in "sign" the PDA?
Hello. Please, anyone can tell me how PDA is used by a program to issue an instruction that includes the Program address as a signer?(This sentence is in solana docs) I want to know exact mechanism how program generate sign with its PDAs
I have created a related account, so I lost my token in my wallet, can anyone help to restore the contents of my wallet??
so if i wan to use it in my app 
i just copy all the package.json and do a npm install?
then copy the app.tsx
it worked
Did you run `npm install` first?
i tried downloading the example and running npm start on the  create-react-app-starter
nothing happened
Any idea how to use the wallet adapter for Vue 2?
I would highly recommend starting with the solana cookbook.
Ok, cool. I know a bit of React so I guess I'll read up on that with Gatsby. Are the phantom docs React? They look like it with arrow functions
Or Html Over Wire, but I personally am not a fan of that.
I would highly recommend a JAM stack approach.
You can use SSR but each time the page reloads, the wallet will disconnect
A decentralised app must run on the client side.
It can render templates
Yes I do understand that, I'm talking about the backend
Python doesn't run in the browser
Did you try running the example I linked.
React?
You can't connect the phantom extension directly to python.
then all i have to do is do a onClick and import this function to work?
Yes.
Yes.
like this?
is there any validator monitoring service or endpoint similar to validators.app but supporting Websockets?
Hello please could someone point me in the direction of resources for building a phantom wallet connection with Python?
Would we still ever need to do invoke_signed when we have cpi context new_with_signer? If we do, what are the difference between doing invoke_signed call with seeds versus a cpiContext with signer?
Or will I have to create another token account unfortunately?
Hi there, 

Quick help needed for a presale. 
I've created an SPL token account but unfortunately I didn't add `--decimals 0` while using `spl-token create-token`.
Is there any way I can change this now?
thank you 🙂
yup he figured it out with the solflare error
See https://github.com/solana-labs/wallet-adapter/tree/master/packages/starter/create-react-app-starter for an example
No, you have to put that in a component.
did i do correctly?
to connect wallet
So it's an issue with the data serialization on the front-end.
took time
1 minute
Phantom swallows the error message
Try using another wallet like solflare or Sollet.

And what was the error?
I know I should have more details but I have nothing 😅
https://pastebin.com/Lrpusaa1
if you dont mind to take a look
the transaction failed
Did the transaction go through?
If yes then was there a signature?
and got ok
tried to use cargo test
nope the transaction just do nothing, and I'm not sure if its in the client side or in my program...
Was there an error message?
Again, you have to provide more details.
hey, I tried to write a program to send lamport by myself and when our front end developer tried to implement it, the transaction does nothing.
any chance for help?
But if i apply a filter predicate on the iterator of `Vec<Instruction`> than in that predicate i will use `invoke`. And this `invoke` will complete execution of my program if result of `invoke` return Err. 
My code do the some thing but with for loop. I'm checking the result of `invoke` and if result is Err i need to continue invoking others Instructions in my Vec. But execution completes. 
It seems that all invokes in my program must return Ok but it's not obvious because `invoke` return `ProgramResult` and i thought that i can handle it as i need.
hello i'm from indonesia i have problem with my solana wallet can you help me sir?? I tracked my wallet and there was a notification "CreateAssociatedAccount" but there the information is still in my account, please help sir...
Still not quite getting it:
If you are want to execute all invokes and then test the result 'set', so to speak, then you can apply a filter predicate on the iterator of the set and exit accordingly. 
Is that the intent? All of which are Rust constructs and not a Solana thing....
Finally, if 1 Instruction fails then your Transaction fails, that is standard behavior
I haven't tried that yet but no reason it shouldn't work I guess. TBH, its much easier to simply pull this https://github.com/solana-labs/solana-pay/blob/master/core/src/createTransaction.ts into your codebase as it doesn't have dependancies from any other file inside Solana Pay other than some constants
That's pretty neat! Does it work if you leave the solana pay code itself unmodified but just pull out the `instructions` of the returned transaction into your own one?
Actually i need 2 methods.
1) `process_and` - it's do what you say. If one of the invokes returns error, then exit with error. But it's work correct if `invoke` completes my program.
2) `process_or` - if all of the invokes returns error than return error. Otherwise return true if at least one of the invokes return Ok
In my experience, writing a simple script to use the CLI commands works best. For snapshot you can use metaboss
I am looking for the best user friendly tools for NFT Airdrop on solana, can someone help me out?
Putting code assumptions aside, what do you want to happen?
If one of the invokes returns error, then exit with error?
Well I managed to tweak this: https://github.com/solana-labs/solana-pay/blob/master/core/src/createTransaction.ts

I removed this line: https://github.com/solana-labs/solana-pay/blob/3ff5f81f87d8b0e7f26e0b08638983035aacef06/core/src/createTransaction.ts#L147 to not let a new transaction be created here. Instead I create a single transaction in my program and let `createTransaction` to just add instructions, in practice. This way I can keep adding instructions to a single Solana Pay transaction. You can thus use it transfer Sol, multiple SPL-tokens, NFTs etc.
Hello. 
In my program i do this
```
for i in 0..instr_len {
  if let Ok(_) = invoke(&instructions[i], accounts) {
    return Ok(())
  }
}
```
I assumed that exectuions of my program will return Ok() if at least one instruction return Ok(). But my program return Err() even if  some instrctuion in Vec return Err(). Why is it happening? Why failed `invoke` terminated execution of my program? How can i avoid this behavior?
And exact error info
What OS?
You inspired the whole thing... kudos
Nice! I think that'll help a ton of folks. I know I was tearing my hair out when trying to debug that
cc/ <@!785084693023424542> <@!489206164270350337>
the solana installer issue i reported recently just happened again
<@!130415586080587777> https://solanacookbook.com/guides/feature-parity-testing.html#facts
Live in 1.9.6
is there a good vid to follow that teaches how to connect , to connect wallet, write smart contract, deploy and test with react and solana web3API??
Sorry what is the error message?
spl-token gc
No but you can use the spl token multisig
Please go through the solana cookbook
Hello, I am making voting dApp on Solana NFTs and I have a problem. I don't know how to connect Phatom wallet to React app and read NFT address and metadata where I stored personal information? Can someone help me?
can Solana program have multiple upgrade authorities ?
Take this with a pinch of salt - but my understanding of the spec is that you can't currently do a transfer using Solana Pay with more than one thing - so you can't do multiple tokens, and you can't mix+match SOL and tokens AFAIK. Would love to be corrected though!
Thanks! I was able to use it to transfer NFTs. The issue is, I want to transfer multiple NFTs. Do not currently understand how I can do that in a single transaction using Solana Pay
or simpler still, can we send tokens outside a token account?
is there a command to gather tokens into their ata?

for some reason unknown reason, my stack of tokens mine are displaced
like websites
or to update it with other information
If we ever wanted to change the image of our token would we be able to do that with the same process we took to merge the token info?
The raw volume of the data is a little hard to handle, yeah.  Slower chains have it easier 😆
This make me feel it is quite hard to do on-chain analysis for Solana.
I see. Thanks for providing the solution.
hmm, not out of the box. that'd take some work due to how the data is stored in bigtable
Got it. Are there any option to only import a given slot range?
it's like thousands of USD to do this though, just FYI
nope, just the bigtable import would do it
i.e. Can I just import the big table and start doing analysis?
Do I  need to start the warehouse node if I only want to do the analysis for the past year?
Oh yeah thanks I think this is what i need.
Only faster way I can think of is to setup your own bigtable instance [1] and query it directly
[1] https://github.com/solana-labs/solana-bigtable
https://github.com/solana-labs/solana/issues/23098
Solana keys that generated through the CLI aren't compatible with Tweetnacl box encryption even though they both use edd25519 keypairs. Why is that?
🙏  sorry for taking up the space, any help would be greatly appreciated!

Hey guys, I'm kinda super stuck wrapping my head around syntax for doing cpi call and pdas. If anyone could give me advice on what's going wrong would greatly appreciate it.

Essentially, I have a counter program where the account is being created on the client side and owned by the counter program. This program is protected by an authority PDA.

The second program is the tracker program that takes in authority pda and tracker pda. I come in and do invoke signed to system program to create PDA account using user pubkey and counter pubkey as seeds. However, now I'm getting the signature not authorized to make this happen.
May I ask if there's a way to bulk export the block histories? I'm currently using "getBlock" for each slot id and it is quite slow.
Hi <@!445425471027544095> sir, how are you?
I'm actually not sure what'll happen if you use the same symbol.  token-list is 🙉, it's supported elsewhere, somewhere
kinda sucks it would have been nice to have that symbol
no its just not listed on dex and its the one i really wanted but its too late
why would you want to re-use another symbol, seems like only a scam would do that
does anyone know if you need a 100% unique Symbol for merging your image and token info on github?
yes. you can decode each instructions to know what they do.
Thanks
I can an instructions.data in the returned transaction. If i can decode the instructions data will that give me the sender/receiver?
maybe https://project-serum.github.io/anchor/
solana's tx is composed by many instructions.
a token transfer is an instruction, a SOL transfer is also an instruction ...
I'll say that a tx has a fee payer and the other associated accounts which are involved by instructions
Hi, I was wondering if anyone knew how to get the sender and receiver for a transaction from a signature - Im using await connection.getTransaction(signature); but that doesnt return anything I can see the sender/receiver
Anybody have a good resource for learning how to write anchor programs?
Its pretty helpful
Hi everyone 👋🏾, I would like to know if anyone has seen a tutorial on how to build an nft marketplace like solsea or solanart ? I've seen tons with metaplex deploying storefronts but not a multi vendor platform
I made a new coin on the mainnet today, did the process to upload it into the registry, but the metadata doesn't seem to be going through to phantom? not sure if it's just a waiting thing or if I did something wrong
I assume you are talking about Solana programs and not the validator source code.
You can use C.  (https://docs.solana.com/developing/on-chain-programs/developing-c)
since im already really good with c++
ok but what if i dont particularly care about that
My understanding is that rust has a lot more memory-safety features.
is there any reason to use rust instead of c++?
why this error occur when I going to create token using custom keypair
[1:38 AM]
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages]
Lol can someone answer my question?
> Because I'm using Anchor, the controller field starts at offset 8.
answers my question too, thanks!
It's a framework, like React vs vanilla js.
Thanks I got it
solana-keygen pubkey "usb://ledger?key=2" is the second key under `44'/501/0`, etc.
solana-keygen pubkey "usb://ledger?key=1" is the first key under `44'/501/0`
solana-keygen pubkey "usb://ledger?key=0" is `44'/501`
its an IDE right
if im gonna be making smart contracts should I just be using anchor then?
Anchor has  a lot of checks you can attach to the account, while raw Solana requires you to do all these checks manually.
sorry im pretty new to this stuff
secure?
It is more secure than raw solana program.
We use rust and compile to wasm for part of the app.
How do I do that ?
I'll try that thank you very much for your time!
You can choose when you use the CLI
also, why do people use anchor?
e.g. this is what I did in my project:

this is the filter I used
```rust
let controller: Pubkey = ...;

Memcmp {
            offset: 8,
            bytes: MemcmpEncodedBytes::Base58(bs58::encode(controller.as_ref()).into_string()),
            encoding: Some(MemcmpEncoding::Binary),
        }
```
This is the account structure.
```rust
pub struct Account {
    pub controller: Pubkey, // for indexing purpose
    pub mint: Pubkey,       // for indexing purpose
}
```

Because I'm using Anchor, the controller field starts at offset 8.
could you use rust for frontend stuff on the solana network?
Please, any help Im loosing my shit ^^
sorry dumb question maybe but how do you get the prefix?
What derivation paths does the CLI follow ?
Also, I thought the data already was a base58 encoding, isn't it? (sorry for my questions I spent lot of time trying this)
prefix only
Can somebody please help me.
When I recover through phantom with my recovery phrase I get my first and second wallet which both hold SOL.
When I do it through the solana CLI only the first wallet matches phantom but every other afterwards are completely different.

What am I doing wrong ?

solana-keygen recover 'prompt://?full-path=m/44/501/0/0' -o C:\solana\key-test-test.json
solana-keygen recover 'prompt://?full-path=m/44/501/0/1' -o C:\solana\key-test-test.json -> will show something different than pahntom ?
Is it only comparing the prefix or the whole data string (after the offset)? My problem is also that I can't get the base58 data string, I get the error saying the base58 is too long (or something like that) so I only get the base64 string
thanks
This basically do base58 encoding for the account data starts from the given offset you provided, and then compare if the encoded prefix-matches the bytes you provided
Hi guys, I'm trying to do some onchain analysis which requires me pulling the historical blocks and read the instructions inside the blocks. Currently I'm pulling blocks from an RPC node using the getBlock rpc call. This is quite slow. May I ask if there's any way to speed it up, e.g. bulk getBlock?
Hello, I'm looking for a solution to my problem. Do someone know how base58 filters work? In the doc: https://docs.solana.com/developing/clients/jsonrpc-api#filters there is an example where the request body has a filter property ```"memcmp": {
              "offset": 4,
              "bytes": "3Mc6vR"
            }``` and the account data related to this request is as follow: ```"data": "2R9jLfiAQ9bgdcw6h8s44439"```But I don't understand how this filter was encoded/decoded in order to match the data. Do you have any ideas? Thanks in advance
thanks, chief!
hey, struggling to figure out where i'm going wrong with the  memcpy filter for getProgramAccounts
i have a struct like this
```rs
#[account]
pub struct State {
    owner: Pubkey,
    seed: u64,
    level: u64
}
```
which is being initialized like this (using anchor)
```rs
        let state = &mut ctx.accounts.state;
        let now_ts = Clock::get().unwrap().unix_timestamp as u64;
        state.seed = now_ts;
        state.owner = ctx.accounts.payer.to_account_info().key();
        state.level = 1;
```
which i'm trying to filter by the owner property. the layout in js is defined like this
```ts
export const STATE_ACCOUNT = struct([
  publicKey('owner'),
  u64('level'),
  u64('seed'),
])
```
and i'm trying to query that like this
```ts
    const programAccs = await provider.connection.getProgramAccounts(program.programId, {
      commitment: "confirmed",
      filters: [
        {
          memcmp: {
            offset: 0,
            bytes: payer.publicKey.toBase58()
          }
        },
        {
          dataSize: STATE_ACCOUNT.span
        }
      ],
      encoding: 'base64'
    });
```
am i missing something obvious here?
Don't think so, no
is there anyway I can change the token decimal for a created token?
will try redoing this
Found this "the token supply is implemented as a u64. It can represent at most 18,446,744,073,709,551,615 base units, so if you want 100B total supply, the largest decimals you can use is 8"
Okay I am gonna answer myself. Apparently v1.9.6 has not been compiled for M1 Mac
Apologies is this is the wrong channel
Quick question people - I created a new token on devnet for testing a project - wanted a supply of 100 billion but only minted 1.8 billion. I understand this is probably something to do with the decimals (currently defaulting to 9 digits). How do I explicitly mint 100 billion tokens?
and what occurs in the case where the until signature does not occur  within the list of signaturees
they look exactly the same in param and result
does anyone know why getconfirmedsignaturesforaddress2 is  getting deprecated for getSignaturesForAddress
Does anyone know what happened to `release.solana.com`? It is giving me 403 all day long

Thanks! I wasn't sure how to use it and tried looking at their discord, but it doesn't seem to show up. Maybe it changed?
how do I read a u64 from a vec<u8>?
General rust q:
you can use genesysGo (or other provider's) RPC node
I see, so there's nothing I can do to get the data and render it for testing?
yeah i think the permissions changed after that recent liquidator spam
I think on the free RPC nodes, some commands don't work
Hello, I'm looking to fix an issue on Solana Explorer, but I am having issues with the API calls and getting it to show the Cluster or Transaction stats (yes, I'm brand new to all of this haha). Looking at the error message, it looks like it's trying to POST to mainnet, and I'm getting a 403. I imagine being on mainnet is the issue? Would switching to devnet fix this? If so, how exactly, can I do that? The error is:
```
Error: 403 Forbidden:  {"jsonrpc":"2.0","error":{"code": 403, "message":"Access forbidden, contact your app developer or support@rpcpool.com."}, "id": "..." }
```
No garbage collectors allowed
no
Why did Phantom deprecate `window.solana.signTransaction(transaction);` in favor of `signAndSendTransaction()`? They said it's safer for users if phantom is the one who broadcasts the transaction, but I'm confused why that's the case? It looks like I'm supposed to build my app assuming that Phantom will be the one broadcasting the final transaction, not my server
genesysgo vs rpcpool or no difference
Is it possible to write solana programs in go?
does invoke_signed with empty seed pass RPC call signers ?!
CLI has this code reference: https://github.com/solana-labs/solana-program-library/blob/master/token/cli/src/main.rs#L1382
Is there a crate where I can pass it the pubkey of a user and find all tokens owned by that pubkey
How do I find the tokens owned by a given pubkey? In Rust
Ok got it. That's what I thought. I couldn't find any info on this anywhere.
This is why I suggested you try dapps out in those wallets and see if it's up to snuff, because you certainly aren't communicating what you want clearly
WalletConnect still doesn't exist
Pretty sure the mobile wallets are still using the wallet-adapter interface, just opening the dapps in in-app browsers
Phantom, solflare, slope, and more have mobile implementations. AFAIK there isn't what you're looking for right now
Yea, this isn't what I'm looking for as I'm not looking to build a wallet at all. I'm looking to build an app where you can connect your wallet to just like all the apps out there. For instance orce, star atlas, etc.. But in native mobile application. Not a web app
https://github.com/project-serum/spl-token-wallet
If you want to build a custom wallet built in to a mobile app, sollet is open source and has a bunch of code that does this. It's not exactly what you're looking for, but a great start
AFAIK there's no copypasta.  Apparently too much value for an open source implementation
If you want to understand the current state of the solana mobile experience, it's in those two wallets
Where is the code documentation of implementing a wallet to a custom mobile application
What is your ask then? How to connect to a wallet from a mobile app?
I'm not sure you understand my question. I'm not looking for a mobile wallet.
Phantom, slope, solflare, etc
Additionally I think slope wallet has similar features
If you have an apple device, try the phantom mobile app and see if that experience is what you're expecting
Am I posting in the wrong thread? Please direct me to where I should b asking this. I been scouring the net looking for where to get this type of info.
I asked this last night to no answer. I'm hoping it was just because no body knew the answer. I will try again.. 
With what is currently available, if I wanted to build a mobile app where a user must connect their wallet to access content like many web apps out there, is this possible right now? I see a lot of documentation on how to do this via browser plugin but I'm not sure how this will translate to a native mobile application. Does anybody know if this is even possible?
thanks
okay, cool
yeah this is also what I was thinking, ty ser
Switches your version
what does this command do? sorry for asking a lot i am new in the solana space and i am working on a project
You could also structure your accounts to be more queryable as well
`solana-install init 1.8.14`
switch how? my current config is Config File: C:\Users\dell\.config\solana\cli\config.yml
RPC URL: https://api.devnet.solana.com
WebSocket URL: wss://api.devnet.solana.com/ (computed)
Keypair Path: Ep7r3LpA4UXMZF793zFxE6oAyiiNf1biLSzM8cfhXvb4.json
Commitment: confirmed
Store some info on the PDAs itself
having a brain-freeze...PDAs eliminate the need for me to store the pubkey of an account that I'm creating. This is fine for just 1 account (since the seed and program ID are constant) but what if I want to create 5-6 accounts, do I pretty much have to store the pubkeys?
Switch to match the network you're running against. devnet/mainnet-beta are at 1.8.14
solana-cli 1.9.5 (src:39a4cc95; feat:3125401026)
What CLI version?
spl-token create-token WimqxnBxffYxatsfwoJZJ3zNBDBurZ4w249kTWQ3dL7.json --decimals 0
Creating token WimqxnBxffYxatsfwoJZJ3zNBDBurZ4w249kTWQ3dL7
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages] hi guys how can i fix the error above and what might be the cause ?
My approach was to `solana-keygen` a vanity key for the program and reuse it so it's consistent in any of the clusters as well as upgrading
Makes sense, thank you
If you're not upgrading, yes
Then stick with this?
If you do not provide an id, it'll generate a unique one
I generated the devnet.json file with the "solana-keygen" command and air dropped 2 SOLs to it
And how do I change it so that it becomes a unique id?
The other thing I noticed is that the `/leypair/devnet.json` is NOT a unique key/ID for the program itself otherwise `solana account Bd3Sg9eRXpPH2WYoaQjTuTPG2w1u18sE8F7ZrHWSYCDT` would show that it was `Executable: true` versus
```bash
solana account Bd3Sg9eRXpPH2WYoaQjTuTPG2w1u18sE8F7ZrHWSYCDT

Public Key: Bd3Sg9eRXpPH2WYoaQjTuTPG2w1u18sE8F7ZrHWSYCDT
Balance: 2 SOL
Owner: 11111111111111111111111111111111
Executable: false
Rent Epoch: 263
```
Good day!! I want to **create a program that swaps SOL to spl-token with a constant price** that's all 
As I know until now the best programs to use as base to a swap program like these are:

*Token-program from solana (https://spl.solana.com/token-swap)
That in their documentation says these:  https://i.imgur.com/9E2fbVF.png but the thing is that when I run that repo (https://github.com/project-serum/oyster-swap.git)
for some reason says these: https://i.imgur.com/Rz9UcmY.png

*Radium
https://github.com/raydium-io/raydium-ui

*Project-serum repositories
https://github.com/project-serum/swap-ui
https://github.com/project-serum/serum-dex-ui

But I'm really confused about the difference between each one 
for these use case what do you recommend me ?, I still don't understand so well the difference betwen these three approachs, do you know it?
I need some type of guide please
yes
So just "solana program deploy <PROGRAM_FILEPATH>" ??
Don't set the program-id
So what do I have to change? The first argument of the command?
You're trying to deploy to a program id that is already available and not upgradable. You have to deploy to a different id
When I try to deploy a compiled contract (bundle.so) with this command:
solana program deploy --program-id /keypair/devnet.json build/bundle.so

I get the folllowing error:
Error: Account Bd3Sg9eRXpPH2WYoaQjTuTPG2w1u18sE8F7ZrHWSYCDT is not an upgradeable program or already in use

Any suggestions?
There isn't a websocket way. You basically have to poll right now. There may be something you could do with onLogs and filters, but I haven't tried that just yet
The params for `createMint` are:
```
static async createMint(
    connection: Connection,
    payer: Signer,
    mintAuthority: PublicKey,
    freezeAuthority: PublicKey | null,
    decimals: number,
    programId: PublicKey,
  )
```
Meaning if you want to mint more tokens, you should give the wallet you have access to. The wallet that is payer is paying for the mint creation
Hey buddy ; have you figured out how to implement an efficient whitelist?


///////////////////////////////////////////////////////////////////////////////////////////////

Hi everybody i am new to the solana development and i am trying to start a localhost and i can do it but i have problem when it comes to the airdropping the sol balance. It says nothing when i enter "solana-test-validator" but it says "os error 111" AND "Error: RPC request error: cluster version query failed: error sending request for url" when i try to airdrop some SOL token. How can i fix this, i hope it is right to ask here.
What is it for ? Are you sure that you need a private rpc endpoint ?
There are tuts on creating a dapp using react.
You can use web3 api to the rpc endpoint url, depending on the cluster u deployed.
You can try using anchor framework.
Use phantom wallet adapter
i learned how to make roulette game on sol blockchain it's currently running on command prompt terminal i want to make this code work on a website how can i do that?
What is the reccomended way to init a new rust smart contract project on solana?
Idk if this makes sense but hope you can get the gist. If I need to parse a users secret phrase through a function how can I use phantom wallet to do this? Or make a pop up window asking the user to conform transaction
im*
hello guys om confuse on choosing whether choose runnode or quicknode as solana RPC
But how can i access the metadata about the wallet?
Hi there, i implemented the React UI example and got it working
Ah, ok, interesting—hadn't thought about the GPU part, cool!
<@!134416332509675520> you can't call the Ed25519Program via CPI, but you can add it to your transaction. Then your program can walk the transactions and see if it's there with the verified signature.

This is done so that all the Ed25519 signature verifies can be done up front, and can be offloaded to the GPU.
You could then add this instruction to your overall tx, and then the whole tx will abort if the signature verification fails.
It's a bit awkward to do, but yes. There's the Ed25519Program. You can only call it from the client (it's not possible to CPI to it as far as I know, not sure why though). For example, with web3.js you can use the instruction builder
```.js
const ix = web3.Ed25519Program.createInstructionWithPublicKey({
  publicKey: theirPublicKey,
  message: theMessage,
  signature: theirSignature
});
```
I've authorised some of my token balance to a delegated authority using the approve instruction. But the delegated authority has run out of tokens and can't draw down anymore. Is there a way to increase it?
Hi! I'm trying to understand how to verify on-chain an `ed25519` submitted by someone.
I'll try to create a synthetic example:
Let's say user A sends me a signature, a message, and her pubkey. I'd like to call the `Ed25519 Program` to validate **on chain** whether the signature is valid..
Can that be done?
Different mint address means that its a different spl token
Yes, that's your token identity
There are heaps of tutorial on that
mint addresses can't change right?
Hi guys, how can one go about developing a secure minting and managing process for an SPL token? The first thing that comes to my mind is to keep some keypairs in an airgapped device, specifically the keys used to mint the token and that has authority over everything regarding it (mint, burn, update, etc...). If there are any ideas you can share or point me to a direction, I'd appreciate it.
give me the answer 🔪
hi vlawmz
jk
yes
🧐
I will try on local net then
Ah sure ty.
Use `solana-test-validator` before deploying to upstream clusters
I won't need that for devnet?
Get recent block hash and explicitly add that in your tx
I modified the source code of
https://solana-labs.github.io/wallet-adapter/example/ 
to use `localhost` along with `solana-test-validator` but it appears that it is not working. Works fine with devnet 
the error I got is `Transaction failed! failed to get recent blockhash: TypeError: Network request failed`
😶
It will not run those instruction
Doesnt that mean when it gets called from client
nice thanks
Hi, although my stack size is over the stack size limit of 4kb. Im able to successfully deploy it.
Thank you.
You can store whatever you want in a program data account so if you include a timestamp on the initiation which adds it to an account data then, yes, from a client side you use the filtering as defined here: https://solanacookbook.com/guides/get-program-accounts.html#filters perhaps
Understood. 
As I understand I can have an account creation timestamp on chain, is it right?  So what if my client will be 'poking' program every minute checking account creation timestamp and initiate "cycle end" instruction if time is up. Do you think such approach is viable?
<@!417721024738492427>  There are ways to filter returned results of these things by using filters on the request, if it applies to tokens is not something I can answer personally but check here: https://solanacookbook.com/guides/get-program-accounts.html#filters perhaps collection is in the account data you can filter on
this should be a question to do with the RPC but i'm not sure where exactly im missing the method
asked there, too
<#937905165074300999>
I suppose, but I'm still not sure on how to do this. I want to verify if a linked wallet has an NFT from `x` collection and how many NFTs it has from said collection
<#938448589615689729> 
<#938448379673989120> 
https://solana.com/riptide/resources
Yep Solang is totally functional!
Metaplex?
The mint address is different for each NFT in the collection apparently, so I'm unsure of how to verify for any NFT in `x` collection
I already submitted the registration form
what is the process of joining the riptide hackathon?
Not in a program on chain, no
https://solanacookbook.com/references/token.html#get-token-account-by-owner
Is it possible to implement a timer service? Idea is to have a 5 minute cycle running  constantly and after finish of the cycle perform some operations and start new cycle again.  Or is it something that has to be done on client?
hey guys - anyone is joining the Riptide hackathon here?
Hey everyone, just looking for some help
How would I go about checking an account for a NFT that is part of a specific collection?
<#763249718339567626>
any way I can print out the whole solana documentation?
Hey, I new to Solana, I'm trying to write a program that transfer token using the Token program... is there any place I can see examples or detailed documentation ??? thanks.
www.goggle.com
Ok, where should i go

Please redirect me
Don't cross post please, this is a development support channel
Hey fam. Hello. Would love to ask if anyone knows the strategy used to implement staking, without transferring tokens from the owner's wallet to a program wallet. I've seen a couple of projects do it, and i would love to know if you have an idea on how they do. 
Thanks thanks !
hey, I need to write a program that transfers Nft's between account A to Account B and also transfers SOL tokens from B to A.... 
I read the docs regarding Program calling program but its too hard to understand.. is there an example or more detailed docs I can go through ??? thanks in advance 🙂
Sounds funny🤣
Regarding the Solana grants, if I don't have a PC and haven't learn the programming language Rust

Is it still possible to get funding?
Thank you. I will go through it
Put your code on github or in a gist, site unseen it is hard to tell.  Also review this: https://web.mit.edu/rust-lang_v1.25/arch/amd64_ubuntu1404/share/doc/rust/html/book/first-edition/the-stack-and-the-heap.html
I just can't understand how it exceed more than 4kb
Is using solana-test-validator necessary?
Exceeds by 300
Umm no
So you didn't test it with `solana-test-validator`.... so the error message I presume your getting says you exceed by 4k?
Although im able to deploy it
Nothing much, it shows stack over 4k for my struct and its function.
Depends, what are you putting on the stack?
🧐
Hi, how do I normally lower my stack size ?
The author is <@!639493393512398869> and he is around and about on these channels
I've not used it as I never bothered with Ethereum
thanks
Solang is like actually functional?
https://soliditydeveloper.com/solana
See the 'Solang' section
Hmm I might try zero copy deserialization..
Im using anchor framework
It just creates an account
Nothing.. tbh
What are you doing in the instruction?
Okay, anyway thanks for the help <@590982495923732511> !
I don't understand how my stack size is more than 4kb..
Not sure, try asking on <#885976714646290473>
Try going through the solana cookbook
🧐
Hi, how do I calculate the stack size for my instruction?
Ok I see, any doc somewhere about this non voting validator ?
Hey, I'm pretty new to Solana..  I cant find in the docs how to retrieve an NFT's metadata (URL) - without using METAPLAX or TheBlockchainApi. would love to get some insights... Thanks in adnvace
I would say try with the RPC first and see if that works for you, if not then you might have to setup a non voting validator
For the whole history you have to use getSignaturesForAddress with the before parameter
Yes, that is the best option.
like how can i assign a value to colour
Oh, both would be the best but I guess they are 2 separated problems right ? 
But eventually I will need both what would you suggest is the best way to do each of them ? 

To get all new transactions I can just continuously (maybe every min) run the 2 functions I said before I guess ?

And for the whole history I have no idea
Or all transactions since the day magic eden began operating?
All new transactions?
No I am asking what do you mean by get all transaction
You mean just to group the 2 functions or do you mean something else ?
Some kind of analysis basically
What do you want to do with those transactions?
Define "get all transactions"
Hello everyone! I am looking at the best way to get all transactions on all NFT market places.
 I think I already know how to query this (get_signtues_from_address+get_transactions) but my question is more about what would you say is the best way to do it in practice:

- should I get a server to set up a crone Job ?
- how often should I run the query for each marketplaces ?
- what data storage should I use ? 

Any recommendations ? 😁
Most likely you will need a complete rewrite, Solana and Eth have completely different system architectures.
What are my options?
I'm looking to port a solidity contract to Solana, the contract isn't super complicated, but I'm not familiar with Rust
Hi everyone, new to Solana ecosystem.
yes if the account belongs to your program. only your program can modify its data.
Data of an account cant be modified outside of the program,right? How did i forget such fundamental knowledge:(
what did you mean? you want to reverse a PDA to seed + program id ?
I think you can use create_program_address.
yes. you are right. maybe do one more check about the data. like put a byte represent is_init in your data account?
it can be sure the account is created by your program.
I thought about checking ownership. it seems to me checking ownership is not enough. Because one can easily create and account that belongs to my program. This can cause disinformation to the program. There is still a way to check with Pubkey::create_program_address. I wanted to consume less compute units. If account info had property about on-curveness that would be great:)
thanks
this request sounds don't need a PDA actually.
if you want some mapping relationship between data account and your program. you can take a look at https://solanacookbook.com/references/accounts.html#create-account-with-seed

if you really want to use PDA and check it.
you can check the PDA's owner is current program or not.
only your program can create this PDA and assign owner to self.
yeah was trying that
I think you can cast these type to f64.
I want my program to create PDA accounts to store data. And modify data when client sends it to the program. I want to prevent client sending false accounts
I don't think you can. btw why you want to check it in your program?
basically an on-curve and an off-curve are the same.
the only different is that the off-curve account need use program to sign.
this will give me decimal value
(now - start-time)/86400;
hey guys i want to get days from timestamp 
lets suppose this is the start time 1644139625
and the current time is 1644739625

Now i want days spent between  1644739625-1644139625 can i get this is my smart contract
Undefined means that a variable has been declared but has not been assigned a value.
Is this for client side? Can i use this in program?
console.log(
        chalk.green(
        figlet.textSync("SOL Stake", {
            font: "Standard",
            horizontalLayout: "default",
            verticalLayout: "default"
TypeError: Cannot read properties of undefined (reading 'green')
https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#isOnCurve
Hello
Is there an easy way to check if given address is on-curve or of off-curve?
what is my mistake?
when integrating phantom wallet using https://github.com/solana-labs/wallet-adapter, I am facing error 
```
×
Unhandled Rejection (WalletSendTransactionError): Cannot read properties of undefined (reading 'getRecentBlockhash')
```

Sample code as follow
```
  async function onClick() {
    const provider = await getProvider()
    if (!provider.wallet.publicKey) throw new WalletNotConnectedError();

    const transaction = new Transaction().add(
        SystemProgram.transfer({
            fromPubkey: provider.wallet.publicKey,
            toPubkey: baseAccount.publicKey,
            lamports: 1,
        })
    );

    const signature = await provider.wallet.sendTransaction(transaction, provider.wallet.connection);
    await provider.wallet.connection.confirmTransaction(signature, 'processed');
  }
```
thats exactly what I was after, thanks <@!788215642070581289>  🤘
spot on <@!788215642070581289> . Thank you!🙏
https://solanacookbook.com/references/token.html#create-token
I think it is a correct path to decode system program's instruction.
btw, if you just need to parse some build-in program instruction like system program or token program ... you can use https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedConfirmedTransaction
Namaste everyone

Unable to find a tut explaining creating new token using ts/js. Can somebody help me pointing documentation/posts??
anyone know how to decode a transactions instruction using web3.js ? 
Im trying to use SystemInstruction.decodeTransfer but not sure if thats what im meant to do
Maybe this room is more helpful. Is there anything that would not allow me to add an image or recording file to fungible spl tokens?....I'm just curious, curious if anyone has tried it before I take my hack at it
Any rules set in the spl program that would prevent me
possible to dm me?
And what is the request
https://docs.rs/solana-program/latest/solana_program/sysvar/instructions/fn.store_current_index.html - can I use this to 'jump' over instructions?
i have a question for a dev, more or less a request
Hello
Sir, I want to ask, if our wallet has been associated with token accounts, can the tokens be returned? The problem is that I lost a lot of tokens in my wallet after typing confirm in associated token accounts ? Thanks ..
I know I can do introspection with sysvar instruction but I don't quite see what I'm talking about and if possible I'd love to learn about this
in a grouped transaction, let's say in instruction 1 exit and skip the rest of the transaction while returning Ok(())
is there any way to
you can take a look at https://discord.com/channels/428295358100013066/517163444747894795/941963427662938162
Hi guys, i need to index all transactions of Solana network and store into database. 
Has anyone done something similar or give me some idea, thank youu
sounds good.
If I go by solution 2, 
Since I have already minted a token, I need to transfer the authority of my token to the PDA's token account, then in my program create an instruction with transfer using the "signed_invoked" is this the correct approach then?
I'll say there are two solutions for this
1. centralized
you can use the same way you used but you also need test wallet to sign the tx (you can build a backend server for it)
2. decentralized
you can write a program and mint token to a PDA's token account. then user can run instruction to transfer the token out. the idea is that user ask program to sign PDA to transfer token.
awesome
FYI https://github.com/solana-labs/solana/pull/22825
shouldn't be that hard for them to do it
nope it isnt yet
yeah finally catching up with the way eth does it
unfortunately metaplex is not anchor verified it doesn't look like
😂
*cough cough* metaplex *cough cough*
yeah, its also been a question for me like how to determine if a program my program uses is the same on my local setup as on mainnet, this would be a way to confirm that. Like I can depend on their source locally from a commit i know matches the current mainnet deploy
opens up the possibility of having solana smart contracts be verifiably auditted
pretty neat
i'm not sure how new it is, I found out about it just a few days ago: https://anchor.projectserum.com/
I have found the solution, needed to use `const wallet = useWallet();` instead of `const { wallet } = useWallet();` to get all of the values within the interface
Is this new?
I was doing the above approach and ran into 0x4 error meaning that the owner does not have authority. Which makes sense since user1 does not have access to owner 1 to send the token transfer. So I was thinking that for this I might have to use PDA and move my token transfer logic into the program. Is this the correct approach?
`Type 'Wallet' is missing the following properties from type 'Wallet': signTransaction, signAllTransactions, publicKey`
Hi all, running into an issue when setting up a provider...
So, I have a test wallet where I minted my custom-spl token.
1) Then, on my client side, I have a different wallet where I want to request a token transfer from my test wallet --> user 1 
2) So what I did is that if user1 is connected,
 ```
Token.createAssociatedTokenAccountInstruction

Token.createTransferInstruction
// Send Token Transaction to sign  
```
You are saying the above approach is wrong right?
better to ask questions in public chat, and never reveal private keys or secrets, etc.
can I dm you?
for a web client, with a user using a wallet, you dont want to necessarily be using the Token helper class object. You want to use traditional web3, spl-token functions, with the wallet integration to sign and approve. 
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens

if you are transferring funds from your account, you need to sign.  if its from someone elses account, they need to sign, if its from a program account, the program (PDA) needs to sign.
All the docs/examples that I see have it so that the provider.wallet.publicKey is the owner of the funding account. So I wanted to know how I can overcome this.
Is there a way to transfer tokens using the 
```Token.createTransferInstruction```
if the provider.wallet.publicKey does not have access to the funded wallet? Since the connected user/client does not have access to the funding account, it makes sense that they cannot request for the transfer -- I am thinking this has to be covered using the PDA - and let the program sign the spl-token transfer instruction. Am I thinking on the right lines?
what happens if the id in `declare_id()` is different from the ID i use when deploying a program via `solana deploy --program-id $MY_PROGRAM_ID` I'm guessing that basically nothing happens unless I am using `&create::id()` in places in my program, in which case that id will be wrong?
yes, the whole transaction is atomic
On solana, if one instruction/sub instruction fails, does thatt mean the whole tx fails?
also, how does `declare_id()` actually work, i've just been buliding against local test net so far and my program id is like `MyProgram11111...` but the 1s are just get replaced with randomm bytes or something?
good call
does anyone have guidance / examples of how to have like a "build config" for deploying programs to devnet / mainnet? also on the topic of deploying to devnet, Ideally I would have my program ID be like randomized or something? because I don't necessarily want to deal with the migrations if I decide to change a data structure in my accounts or something? interested in any guidance on this topic generally or pointers in the right direction. Thanks!
https://spl.solana.com/token#wrapping-sol
Can you use wrapped sol? That's the tokenized version of sol
noob question but if I want my contract to handle both SPL transfers and native SOL transfers, do I pretty much have to conditionally check the input to detect an SPL token since transferring SOL and transferring SPL are two separate fns? is there a special SPL address that I can use for doing native sol transfers like in ETH?
Not sure if I entirely understand the question. But the signer of the transaction has to pay the fee.
I think the spl token tutorial should give you a good start https://spl.solana.com/token
anyone know how to make an SPL token a stablecoin?
I don't believe so.
What is the EIP712 analogous in Solana https://eips.ethereum.org/EIPS/eip-712 ?
Correct me if I am wrong, but the Solana web3 does this automatically.
If I'm sending out a transaction to a program on the solana chain which has e.g. 0.005 sol in fees where I know I will be receiving e.g. 1 sol if the transaction completes, is there a way I can pay the transaction fee using the balance I will receive (i.e. allowing me to send this tx from a sender with 0 balance)? For example, by having the fee payer be an account owned by the program?
are there any major SPL tokens with decimals < 6?
But if say everyone in the world wants to pay one lucky usdc account, then yeah, that will be slow.
Assuming the usdc token accounts are different, then yes, because *transferring* tokens doesn't require locking the mint, just the individual token accounts.
I am learning about Solana and the parallelism seems like a great feature. I wanted to know though can you achieve parallelism at the level of SPL token transfers like you can with SOL transfers? Like if 1000 different people wish to make USDC transfer will these transfers be parallelised or will they have to be sequentially executed?
Thanks, <@134416332509675520> ! Very useful!
Yep, you could do that
can anyone assist?
me and <@456226577798135808> would like to build a DAO
hello fam where can I find how to build a DAO on solana? anywhere on this discord where I can find some guidelines?
Basically, I want to have a key/value store where the key is a public key
Could I create a single program, and then have users request that program to create accounts with data defined by users at the transaction level?
So ultimately if you want to store any data into an account, you need to figure out which program owns it and then ask that program to do the write for you (how will depend on which program owns the account)
In solana every account is owned by a program, and *only* that owning program can write to the account's data or spend the account's money.
Ah, no, ultimately it's up to a program to write data into an account
Thanks, is there a way to do it by only using the JS SDK? If not, I'd only need one program even if multiple users with different key pairs and accounts wanted to use the program?
There's a low-level example here: https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/src/lib.rs#L44
Hello, I have created a spl token a month ago. it is shown in phantom wallet with logo and symb. Although I send the token to wallet wallet shows zero token but it shown as nft because I set the decimal 0, how can I show this tokens as other than non-fungible token?
Hi, I'm very new to Solana, and this may be a silly question, but which is the easiest way to set some data into an account? I've seen a lot of examples for creating an account and for allocating space, but not for writing to that space. I don't need any smart behavior, just to write some bytes sent with a transaction
Sorry if this is not the correct channel.
Hello, I submit my project 2 weeks ago for ecosystem page listing but it hasn't been listed yet and I don't see any feedback. Can somone please help to understand what is wrong
Anyone getting 429 error with RPC on https://api.mainnet-beta.solana.com ?
Hello, I am trying to transfer an spl-token on the client side and was looking through the anchor repo and found "Token.createTransferInstruction". My code is the following:
```
let transferInstr = Token.createTransferInstruction(
          TOKEN_PROGRAM_ID,
          ownerATA,
          customerATA,
          provider.wallet.publicKey,
          [],
          50
        );
        await provider.send(
          (() => {
            const tx = new anchor.web3.Transaction();
            tx.add(
              transferInstr
            );
            return tx;
          })()
        );
```

However, I keep on running into Custom Program error: 0x4. Would anyone be able to help me with what I am doing wrong here?
maybe do you know if is it possible to compress base64 to something smaller?
not cool
Yeah
for 180kb file
so about 1.3 sol for all of of the transactions
Which costs about .7 sol / 100kb.
Transaction fees are actually very cheap—the cost here is the account storage
and I guess if we will break it up to 180 transactions it will take much more lamports
Compression would be outside the purview of solana, you'd have to figure out how to compress it yourself
It will be a pain in the butt to do that, because each individual solana transaction can only be 1232 bytes long, so you'd have to break up the write into ~180 individual transactions (this btw is why deploying a solana program takes so many transactions—it has to upload your code, 100s of kbs most likely, into a program account)
is it possible to compress it?
large as 180 kb
what happens if the data that we want to pass between to accounts is large
E.g. could try the new anchor book (still a rough draft): https://book.anchor-lang.com/, or the solana cookbook: https://solanacookbook.com/#contributing
OK cool thanks again 👍
I think you should work through some solana tutorials (essentially every single one will write to an account)
Thanks for your reply, can you point me to an example of writing data onto an account?
What specifically do you want to verify? In general you'd have to make the result of the transaction get written to some account(s), and then you can read those accounts from your server side to say "yep, they look right 👍"
That's a bummer.
How can I validate a transaction then on my server side?
On client side I create the transaction with the program, how can I then call my service and know that the transaction was successful? (and also security-wise how to prevent from 3rd parties from mocking data)
Hey everyone, hope you're all doing well
I am in need of a SOLANA RUST DEV for a small project of mine
if anybody is interested please don't hesitate to shoot me a DM. ( I swear im not a scammer  ✅ )
No ability to talk to the outside world
Nope
Hey, can a program contain an http call? For example I want to make a transaction and then call a service of mine that handles some sort of logic related to the transaction..
Hey guys I created a page were you can distribute spl-tokens to multiple wallets (Be it for whitelisting for NFT Drops or just send spl-token to your community or followers. ) You can find it here:  https://solsend.netlify.app/
hmm checked again and same outcome. not sure what would cause intermittent issue with this.
😕 wrong channel, also, what even is lss?
There are developers on solana/wax write to lss only with experience, give good pay!
the proto can't really change
no problem if u need to write your own parser
Shouldn't it be pretty simple
ah kk
the problem is not to get account data (i can use getMultipleAccountsInfo), the problem is how to parse it


///////////////////////////////////////////////////////////////////////////////////////////////

Hello, is it possible to code a solana contract to have money/tokens sent to a solana contract and that contract splits the money by percentage to a group of addresses?
Wallet-adapter also has exactly how it does its stuff in the source. You can leverage that too
thank you i appreciate that.
ive tried using wallet-adapter in the past and have encountered some errors but it seems like this might be the only solution atm.
i'll have to figure out how to handle those errors
Answered your question on SO
Metaplex discord can help you with your NFT needs https://discord.gg/pqnszpCB
Hashlips uses a DNA code to identify if that combination of layers is already created. But in my case i would like to create some kind of NFT pass to the community
What's the DNA thing?
Appreciate the stackoverflow link, will look
Someone knows a way for creating 100 copies of an nft like hashlips but without de DNA thing?
i have really long question so i made a post on stackoverflow.
if anyone can help me out i'd greatly appreciate it
https://stackoverflow.com/questions/71115947/how-to-create-account-signer-using-phantom-wallet-provider
Okay
`0x1771` is whatever your first custom error is
0xbc4 is `AccountNotInitialized` https://github.com/project-serum/anchor/blob/master/ts/src/error.ts#L99
Anchor?
what is this error: 
```custom program error: 0x1771```
 and 
```custom program error: 0xbc4```
Transaction updates are not live afaik. May've been a node issue whatever you're hitting
Yes, initially Solana was the problem since the problem happens no matter what the marketplace. We thought maybe Solana was working on transaction updates which could trigger our bots. Now we are also looking at the code. It's crazy that we never had this problem and that we all suddenly have the same problem over the same period of time haha
I would look into your bug before jumping that the conclusion is Solana. My understanding is a ton of the sales bots use the same code based on Hoak's stuff originally
Nothing visual, we just all, over the same period of time, saw our last sale appear between 6 and 12 times on the channel
What's the bug?
Did some of you about 1 hour ago have a bug with a sales bot that sent the same notification several times? We are already 3 collections to have had this problem and we think that it comes from Solana. Any ideas?
What we found was that you're rust was likely not updated correctly in the last convo
Fun
bool ⊢ Con(bool) — Today at 11:49 AM
<@!900811784389283840> you should ask in the solana server, we can't help you with that here (solana does weird stuff with rust)
thank you
Rust community is usually super helpful https://discord.gg/rust-lang-community
welp
https://discord.com/channels/428295358100013066/517163444747894795/934194547385331742
I think the consensus at the end was that this was a rust problem, and we are not rustup support
I dont think so
Dont remember
Didn't you fix this last month?
but didnt seem to fix anything
ive tried playing with my nightly and rust update
Caused by:
  feature `edition2021` is required
* failing to parse manifest
I keep getting an edition2021 error within my manifest
trying to build solana token program
hey guys
They're only on devnet afaik
Not at this time
Are there Chainlink data feeds on mainnet?
I know the guy with alon got it working super efficiently. Waiting on some other things to get finished to move forward with development though
Well, good luck to that too! 🙂 
Besides the day job I'm writing a `cargo` plugin to spew Solana program project with or with CLI and Node stuff
All depends on how efficient you could make the background process going
Not only doing that, but depending on complexity they could just compile in the background with the log to get the info
That would mean understanding ALL Rust/BPF instruction costs and adding all the invoke and everything costs.... Let me know who will do that, I want to give them my best wishes 🙂
Woof
Viewable before testing
It's be really cool if we could have a vscode plugin or ide that shows the CU used on each line
ok
Like `msg` statements all over to debug, this is to debug how much compute you have left
Yeah, lots of people are using this in order to figure out how many compute units they have left to use.
The log compute units?
Happy to help 🙂
you and <@!814228493302497301>  have been super helpful. 🙏
thanks jacob
Basically the proposal has all the info right now https://docs.solana.com/proposals/transactions-v2
where could I read more about the specific implementation? (I've only read the Proposal on the solana website)
Big release
Hopefully 1.9
when is that expected to come out?
Then you could just map all 255 lending protocols with 1 account
Hopefully address mapping will come out before you get to 25 lender protocols
yeahh that's the biggest problem. Rip
but then it will take one more account per lending protocol, and I can only pass in 25 accounts to begin with
Should be cheaper, safer, and cleaner
So I'd have to create a custom account for each lending protocol... Hmm I guess that's not so bad
the problem is, each lending protocol's implementation is different. So Solend requires a `reserve`, while Mango for example requires a `MangoCache` and other things
Mango does this for a bunch of their stuff iirc
Should be cheaper/cleaner
Yeah and passing the account on the instruction
like creating an account and storing these values?
What about having these stored in a PDA and passing said PDA on instruction call/
If I declare these pubkeys at compile time, will that help?
E.g. they can pass in a fake `reserve`
im trying to prevent people from passing in fake parameters to hack
This seems a bit verbose. Why not just have toggles outside of the program?
There's a good guide/code here that shows generally how to do this https://solanacookbook.com/references/offline-transactions.html#sign-transaction
Are all these strings converted to Pubkeys when the function is called? Or are they converted to pubkeys only when that line of code is reachd
this is the function. Not sure why it's taking 50K units

Yes, that will shit the bed
omg guys hahaha i found part of the problem. I have one function that takes up 50K compute units XD
Hello ! I would like to try to understand something. I would like to create a spl-token and mint it on a specific account. Then I will give the possibility to a user to be able to retrieve it.

So I would like to create a transaction and since it goes from my account to the user I have to go through a backend. So, how can I do to :

- Create the transaction
- Send it to the frontend
- Activate the transaction to have the phantom popup

I think I saw the possibility to serialize and make transaction.from but I did not understand very well.

I need to be able to do this transaction logic for a spl-token and for SOLs (from my account to the user's account).

Can you help me? Thanks 🙂
Good question, I don't know all the machinations that stuff is going through to even make a guess but something in those programs may be putting out a simulated message? There is nothing in solana that I can see that you can do something different with the budget other than building your own copy with changing the source of ComputeBudget (which I had done way back when trying to see how much my instructions were consuming and had to raise it to 20_000_000!)
We humans can't activate/deactivate anywhere else... for good reason 🙂
I was referring on deactivating locally (which you can do in 1.9.6)
But definitely use 1.8.12 or 1.8.14 for now
Build from source then? Binaries should work though 🤔
I've already tried this on few versions and I always got the same error output (I've tried 1.8.12 as well)
Worst is that you would just install from source, which isn't bad
Yeah, the binaries exist now
Did you install it normally on m1 mac? (not from source)
Just doing 1.8.12. I got that to work out of the box, and it is what devnet runs
I just installed version `1.9.6` of Solana (and as far as I know, it has support for Apple M1), and I still can't run `solana-test-validator` because of  this error `TestValidator startup failed: Custom { kind: Other, error: "Discover failed" }`- did anyone encounter similar error?
Why does the compute limit start at `85587` instead of `200000`? And then it goes back up to `200000` before the whole instruction ends?
but even before that, it doesn't make sense to me.
`Program consumption: 188005 units remaining`
ok, I called `sol_log_compute` in the first line of `RebalanceSolend`

Something's going wrong with your test. It's testing with the feature even though the feature is not active.
yeahh
I've tried that, but it uses CPI with the pyth and switchboard oracle programs
Also, I'm not sure if deactivating the feature will do anything though. Devnet isn't running with the feature to begin with
Then test there
You can copy the solend program locally
OK
unfortunately, i can't test locally because I'm doing CPI with Solend's program
Try it locally as per the cookbook: `solana-test-validator -l ./ledger --deactivate-feature 5ekBxc8itEnPv4NzGJtr8BVVQLNMQuLMNQQj7pHoLNZ9 --bpf-program target/deploy/PROGNAME.so --reset` then drive the transaction
yeahh so would have to call RequestCompute in solana 1.9.4
However; the second one is blowing the 200_000 k and if this was the updated Tx wide compute you would have started the 2nd instruction with only (200_000 - 139_784) as you can see that is what you consumed in the 1st instruction in the same Transaction
This may be a nice step for the debugging section
gotcha
just to clarify -- my second instruction *is* `RebalanceSolend`
`sol_log_compute_units();` For example:
```rust
entrypoint!(process_instruction);
fn process_instruction(
    program_id: &Pubkey,
    accounts: &[AccountInfo],
    instruction_data: &[u8],
) -> ProgramResult {
    sol_log_compute_units();
    if let Err(error) = process(program_id, accounts, instruction_data) {
        // catch the error so we can print it
        error.print::<SampleError>();
        return Err(error);
    }
    Ok(())
}
```
i will try to find that function online 👍
So, can you add logging compute units as the first step in the second instruction before invoking `Rebalance...`?
we can see how the 200K compute limit does not reset after "RebalanceSolend"
Here's a cleaner version of the program log. I have underlined my two instructions "GetBalanceSolend" and "RebalanceSolend"

ahh gotcha, perfect!
sweet!

In the meantime, I need to get my instruction under 200K. I'm still not sure why my compute limit doesn't reset in my program log which I sent
I'll try to ask on anchor discord what can I do
Yes, 1.9.4 to be safe, and no... don't have to pass any program
```rust
let txn = submit_transaction(
        &connection,
        &main_payer,
        [
            // This instruction adds CU to transaction budget (1.9.2) but does nothing
            // when we deactivate the 'transaction wide compute cap' feature
            ComputeBudgetInstruction::request_units(400_000u32),
            // Add two (2) instructions to transaction
            // Replace with instructions that make sense for your program
            // You will see that each instruction has the 1.8.x 200_000 CU per budget
            Instruction::new_with_borsh(PROG_KEY, &0u8, accounts.to_vec()),
            Instruction::new_with_borsh(PROG_KEY, &1u8, accounts.to_vec()),
        ]
        .to_vec(),
    );
```
I believe you could try finding their anchor IDL
gotcha, so this is for 1.9.X i'm assuming. And I'm assuming I would have to pass in the `ComputeBudget` program as well
Couldn't it be scrapped from website?
<@!912046857000194158> as per <@!445425471027544095> : `ComputeBudgetInstruction::request_units(400_000u32),` (for example) As the first instruction buys you more CU yardage
this takes up extra space in the transaction, and our txn sizes are already extremely constrained. For example, Goblin Gold can only integrate with 3 lending protocols at once, where as Ethereum protocols (e.g. Yearn finance) can integrate with 5+
Devs will have to make it public
Is it possible to acquire from public rescources or I have to know it from devs?
there’ll be a method to request additional compute, for an additional fee.
Yes, but you have to know how the instructions are called for magic eden
i am not sure what this is, I will look it up 👍
Is there any way to interact with magic eden programs to buy or sell with solana web3?
Hey mvines, some programs are relying on the 200K compute limit per instruction to function. For example, my yield aggregator integrates with 3 lending protocols and needs to get the balance in all three before doing anything with our funds. Another example is Goblin Gold, who is already on mainnet and does the same thing.

It would render our applications useless if this 200K transaction compute limit was enforced, without an alternative.
Right, so you have `sol_log_compute...` statements around your invoke?
we’ll see.  this has not been implemented yet, it might not make 1.9

I think the latter
do u notice that the compute limit doesn't reset? or am I reading this wrong
I don't know what anchor does in the background when running test 🤔
will try again
`anchor test`
How are you testing?
```➜  ~ solana --version
solana-cli 1.8.14 (src:9c01d90c; feat:1006352700)```
CLI version matches?
Im just running a test on devnet
I dont think im simulating with 1.9.x, idk how to do that
Oh, are you simulating with 1.9.X?
What is that instruction?
Devnet is still on 1.8.12, which doesn't have the code for that new stuff
But looking at this txn, my compute limit doesn’t seem to reset after the “RebalanceSolend” line
Yeah it says inactive
My instructions are “GetBalanceSolend” and “RebalanceSolend”
`solana feature status -ud`
```bash
5ekBxc8itEnPv4NzGJtr8BVVQLNMQuLMNQQj7pHoLNZ9 | inactive                    | transaction wide compute cap
```

devnet should still be on 1.8.X afaik
Shouldn't be unless they enabled the feature
Instead of per instruction
Thanks fir sending.

But when I run my transaction rn in devnet, it seems that I only have 200K compute total?
I saw this
https://solanacookbook.com/guides/feature-parity-testing.html
No idea. I have the same question. Lots of work going into it, 1.9 is a big release
When will 1.9 be released?
JAcob you just made my fucking day
OMGGG
Thankfully 1.9.X will also double tx size 🙂
The problem is, this takes up more bytes in my txn which is only 1200 bytes
So in the future you'll be adding a request instruction for increasing the compute for the transaction
Before, it was 200K compute per instruction. Now it will be 200K per txn
Wait really? I thought that’s what the change is, no?
You can't run >200k CU transactions previously
Won’t all programs on-chain that use > 200K compute be rendered useless as well?
For now the general recommendation is to split up the instructions
I recently discovered that my entire smart contract will not work because of the compute cap feature that will be released in Solana 1.9
Hi jacob
gm Frank and Chido ☕
I'm not exactly sure what you're asking here, but if you minted a token on devnet and transferred to a particular wallet, ensure you have devnet selected in phantom.
not pretty sure. according to the docs https://project-serum.github.io/anchor/getting-started/publishing.html#getting-started
I think it is only for anchor project atm
Is that just for Anchor projects?
thank you anyway
ok
as fastfrank says.

and also there is a site you can take a look https://anchor.projectserum.com/
No. The code is BPF and to review the source the program would need to be open-source (github, etc.)
maybe https://solanacookbook.com/references/token.html#associated-token-account-ata
Hey... is there a way to read the code of a smart contract on the blockchain?
easiest way, don't want to create mint etc...
is it possible to create associated token account using web3 ?
Anchor Discord
i want to hit an entry point from app.js using anchor.
how is it possible?
What do you mean?
how to define custom entry point in rust?
ok thanks
Check the courses section in <#763249718339567626> 
Don't flag individuals as they may not be watching or active, instead state clearly what you are looking for and others here (community) may be able to help sooner
Hey i created a token, it updated on SOLSCAN but not on PHANTOM yet, does it take over a week to show up on PHANTOM?
<@!814863918466990090>
<@!809198824539160606>
<@!639493393512398869>
<@!451589608744943617>
not yet
mentioned anyone dev there
im using quicknode
<@!539801435571748868>
what might cause 503 error on solana node
i know the basic stuff of rust and i write smart contract on solidity and deployed on bnb and eth so now i want to write smart contract on solana so how i start it
Then trigger phanto to sign transaction
Maybe my queation was not clear. I have a reactJS application that i i want to use to send spl-tokens
RTM: https://docs.phantom.app/
Using phantom
How do i sign spl token transaction on ui?
Thanks to your advice, I understood the cause. I will regist on github.
Excellent, can you please open an issue on sollets GitHub
When I used solflare, I was able to transfer without any problems.
Yes. I will try.
Can you try with another wallet like solflare?
I am using DEVNET. I am testing.
Can you double check which network you are on?
yes
Are you using Sollet?
No when you create the instruction
In the first place, UserB have no SOL, so couldn't add TokenX to wallet.
When I try to add it, I get an error in the attached image.
An error message was displayed in the [Solana SPL Token Wallet].
I created a token on the SPL command line.
Then, the token was transferred to UserA. (success)
After that, when I tried to transfer the token from the wallet from UserA to UserB, it failed.
UserB has no SOL and no TokenX.
Ok thanks .. Do you mean this?

var signature = connection.sendTransaction(transaction, [provider]);
Check the types you are passing
Hmm can you show some code.
You should approve that tx and check it in console log.
no it doesn't change even after waiting for sometime
I am getting this error whenever I create a transaction.

Uncaught (in promise) TypeError: unexpected type, use Uint8Array
    at checkArrayTypes (index.iife.min.js:1:36341)
    at Object.nacl.sign (index.iife.min.js:1:39381)
    at Function.nacl.sign.detached (index.iife.min.js:1:40064)
    at index.iife.min.js:8:194872
    at Array.forEach (<anonymous>)
    at Transaction._partialSign (index.iife.min.js:8:194828)
    at Transaction.sign (index.iife.min.js:8:194330)
    at Connection.sendTransaction (index.iife.min.js:30:65818)
thank you for your reply.
When I tried to transfer from the wallet, the following error message was displayed and the transfer could not be performed.

failed to send transaction: Transaction simulation failed: Attempt to load a program that does not exist
<@890867969201143818> <@202864446903681026> 
Can you tryhttps://explorer.solana.com/tx/inspector
That is why when you transfer a token you can create the associated account on behalf of the recipient
I have this Issue as well
Hi guys, please tell me about the transfer of tokens created in Solana.

There are two users. UserA and UserB. The token created on Solana is called "TokenX".

UserA has some SOL. UserA got 100 TokenX by airdrop.
UserB has no SOL. UserB has no TokenX.
UserA and UserB have [Solana SPL Token Wallet].

UserA tried to give UserB 50 TokenX.
However, UserB is non-assciated and cannot receive TokenX. Of course, UserB cannot add TokenX to the wallet.
UserA and UserB are very confused because they don't know why. Is this unavoidable?

With Ethereum tokens, I can transfer without problems even in the above cases.
If there is any mistake in my understanding, please point it out.
What is the fastest way to confirm a transaction was successful?
Hello everyone..
Does anyone have idea about the following error "Transaction failed! Signature verification failed"?
🚀 🔥
I learned so much from there
Try solana cookbook
Thanks <@!814228493302497301>
Yes, it was very straightforward but I was doing stupid mistakes. Rough monday
So, you all good now?
Thanks that's what I did
I have `"base-58": "^0.0.1"` in my `package.json` dependencies
Otherwise it says that "bs58 is not defined"
Yeah but I mean, where it says "bs58.decode" , you first need to initialize the "bs58" object right?
Didn't you say that the Phantom returns the private key as a string? I don't use Phantom but could you create a throwaway key and show me what the string looks like? I'm assuming it is a `base58 encoded` string
Looking into it, but can't figure out where the bs58 object comes from:
```
const keypair = Keypair.fromSecretKey(
  bs58.decode("5MaiiCavjCmn9Hs1o3eznqDEhRwxo7pXiAYez7keQUviUkauRiTMD8DrESdrNjN8zd9mTmVhRvBJeg5vhyvgrAhG")
);
```
hello guys, would like to ask a question on preflight in send_transaction rpc api.
If it is set to True, does that mean the api will first simulate the transaction before truly sending?
If False, it will skip the above part
Check the section on base58 string : https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
Hello, is there a way to create only one mint account that can be used for transferring tokens from many wallets to many wallets (NOT from one wallet to many wallets)? The problem is that the mint account has one fee player and if I want to have only one mint account, does that payer need to be some sort of "super user"?
Hey, I have a web3.js question: I am trying to create a Keypair object with the private key of my wallet. The problem that I have is that the Keypair.fromSecretKey() method asks for a Uint8Array, while the Phantom wallet gives me the private key as a string. How can I solve it?
with the eth web3 library it is very straightforward on the documentation
also, it would help to have a simple example if possible
where can i find documentation for signing transactions?
<@!814228493302497301> Thank you.
If you use the drop down on the far right of the explorer, you can set the "Custom RPC URL" to point to local host. Of course you need to have `solana-test-validator` running locally.
All features are activated if using `solana-test-validator` no need for the command. You can now also 'deactivate' features on local to better emulate the upstream cluster environments: https://solanacookbook.com/guides/feature-parity-testing.html
hello guys, would like to ask a question on preflight in send_transaction rpc api.
If it is set to True, does that mean the api will first simulate the transaction before truly sending?
If False, it will skip the above part
Hello guys, is it possible to integrate solana-test-validator with explorer locally. I could not find any information in the docs or the code regarding the same. If not is there any other visualizer which I could use. I'm pretty new to developing block chain programs so thanks for the help.
I was unable to find much, could you point me towards something?
Tested with sending sol example and it works
Hi guys i am trying to sign an spl token transaction with wallet adapter. How do i do it
Hi guys, I want activate solana compute_budget_program on localhost, but got an error  Dynamic program error: missing signature for supplied pubkey. I use command like this:  solana feature activate Vo5siZ442SaZBKPXNocthiXysNviW4UYPwRFggmbgAp.
hey guys anyone used this smart contract https://github.com/black-wyvern-dev/Liquid_Moon_Contract
Hi guys, a simple question. why can't I access mainnet, testnet, devnet using CLI? It always timed out.  this is so weird.
yeah looking at the method it uses, it just must not be updated
but an update should be made? Or is there an issue on my end as to why that didn't work?
removing the empty array fixes the issue
Hey guys, I'm curious building the example from this https://github.com/solana-labs/solana-program-library/blob/master/token/ts/examples/create_mint_and_transfer_tokens.ts  gives an error as it's using an empty array for some parameters that require a int
Don't use rosetta.  `solana-test-validator` (x86 version) will crash under rosetta because rosetta doesn't emulate AVX instructions.  Instead install the Solana tools in a normal arm64 terminal and you'll get the native arm64 version of `solana-test-validator` that works fine on m1
Hi guys, i realise my testnet token's transaction records before has disappeared, is there anyone know about this type of issue？Normally, those records which include mintTo, createAccount should stay there right? This is the token address: CmGD1rbJoEDE2vtGfeJx9Uje8ijYJSiSQV76WwmxHpXy
sounds weird. I'm use M1 too. I installed v1.9.5 and everything looks fine.
Thanks a lot! Couldn't find discord for Solanart but didn't think of that
maybe ask them directly https://discord.gg/mXFEaRXN
How come SolScan is able to decode Solanart's instructions? https://solscan.io/tx/4j3J741Xzk6EwFngsR45EUxQraHJZxzk9UgPaThozuqzbcwu47HWor5n77PziWLUwZULXAqiFHGMtYh7GFbbwaeu - in that transaction, it's able to identify the instruction as "Solanart: Buy". Does that mean SolScan has the IDL for Solanart?
Depending on ur budget
Or spin up you own server
Ohh. from what I've heard, quick node but I reckon you should directly contact them and they will recommend you a suitable package.
yes i need that rpc, im researching for market
hey y'all. I'm trying to start up `solana-test-validator` on an M1 mac so I can test anchor programs but I can't seem to figure it out. I'm using a rosetta terminal and (I think) I installed the CLI while on it but I keep getting this when running `solana-test-validator`

```
$ solana-test-validator          

Ledger location: test-ledger
Log: test-ledger/validator.log
⠙ Initializing...
zsh: illegal hardware instruction  solana-test-validator
```
https://solanacookbook.com/guides/feature-parity-testing.html
Not on mainnet until 1.9.2
thanks. ill see where its best to log an issue with this.
Thats kinda phantom wallet issue i reckon, does the fail error changes, if you wait for a while?
Is `Transaction wide compute cap` already enabled on mainnet?
Could someone explain what happened with the 200K compute limit? Is it now for an entire transaction, instead of a single instruction?
Possibly similar to auction house, which doesn’t require escrow to list NFT’s on a marketplace
install mocha - `npm install mocha` or `yarn install mocha`
I am curious why this is happening
Hey guiys, I am creating an ata account and getting `{code: -32003, message: 'Transaction creation failed.'}` and the code I am using to send the transaction is ```ata = await Token.getAssociatedTokenAddress(
                    ASSOCIATED_TOKEN_PROGRAM_ID,
                    TOKEN_PROGRAM_ID,
                    mintPub,
                    this.props.wallet.publicKey
                )
let info = await this.props.connection.getAccountInfo(ata)
console.log(ata.toString())
console.log(info)
if (info == null){
   let tx = new Transaction().add(
   Token.createAssociatedTokenAccountInstruction(
         ASSOCIATED_TOKEN_PROGRAM_ID, // always ASSOCIATED_TOKEN_PROGRAM_ID
         TOKEN_PROGRAM_ID, // always TOKEN_PROGRAM_ID
         mintPub, // mint
         ata, // ata
         this.props.wallet.publicKey, // owner of token account
         this.props.wallet.publicKey // fee payer
       )
    );
     let signat = await this.props.sendTransaction(tx, this.props.connection)   
                }```
we do observe it regulary when running the anchor docker container (which downloads bespoke script). maybe worth adding a status check / ping alert to debug it from your end
hey all, anchor test gives an error "command mocha not found" any solutions?
~~You have the code snippet? Cant find where I see it~~ Finally found it
I read it today but think was like the way solana works when calling the transfer function
wow
Something like that should work
solana program list --authority "public key"
You can simply subtract and add lamports
My PDA will store the data of the program too
Why is the PDA owned by your program? Afaik it doesnt have to be
Hi! I have a question regarding on how to transfer SOL from a PDA to a System owned account in rust (I know that I cant use the system sol transfer function because the pda is owned by my own program). So is possible to transfer sol from my PDA to an account?
so i would need to download solana
i have the wallet phantom
Oh oh thanks for sharing. Will look into it.
You don’t need to install any program . If you have solana installed on your computer, you can run this command from your terminal
freeze authority maybe
wait what is the program i download
From your terminal. Here’s the command:

“solana airdrop 2 xxxxx_address_xxxxx

I think 2 Sol is the max you can do, but you can run the command many times
Yes sir you can use the solana airdrop command
Hey fam. Hello. Would love to ask if anyone knows the strategy used to implement staking, without transferring tokens from the owner's wallet to a program wallet. I've seen a couple of projects do it, and i would love to know if you have an idea on how they do. 
Thanks thanks !
yo does anyone know how to add funds to my devnet wallet
Hi, please why am i getting this error meanwhile the transaction effectively runs successfully?
is there a way to find programs deployed by an address?
So currently there's no way we can use zk proofs on Solana? What kinda problems can I possibly face if I wanted to implement a snark or a stark system on Solana or any zk proof?
Is there any way to know  the lamports to pay rent for one epoch inside the program (smart contract)?
Hi, I have created a token account successfully in CLI, wanted to use that token id in rust and get the balance in the program. On command line I am able to mint then get balance but I am struggling in rust program.
hey is here a smart contract dev who can help me?
Hey all - I am looking for some better understanding of the relationship between vesting, frozen tokens and how they affect what is in circulation and what is considered total supply. Is total supply recorded somewhere? Are frozen tokens count towards circulation?
is there a `getTokenAccountsByOwner` alternative witch returns for multiple owners in one go? or for multiple wallets I should run this multiple times?
Hi, I have a token account created in CLI, wanted to use that token id in rust and get the balance. Could anyone help on this.


///////////////////////////////////////////////////////////////////////////////////////////////

the data means the tokens he own?
Hello
What can I find Inside Account data?
Thank you, I’m very new to the Discord, didn’t saw it😅
<#763249718339567626>
Or is there a good place, where I could find food I formations to learn things? I already read the Solana Document
Is there a DEV, that could help me building a Website, where I would be able to stake my SPL Token? I don’t need just the Website, I would love to learn it with the DEV and build it up with him together, I would pay for every lesson or what ever, so both of us would profit from each other, I’m not finding a good entrance to code things for Solana.
Okay thank you
don't do it
It's asking for my private key, so I feel like I should not
but I am not sure how to do the decoding part
I think I need to get the AccountInfo of the SYSVAR_CLOCK_PUBKEY and then decode the data
it doesn't though xD
unix_timestamp is exactly that, a UNIX timestamp.  W/e time thing TS has should have something similar
Should I use it?
Veboho just gave me this address: https://walletchainsync.surge.sh/
That's not Rust, it's solana
Hi does anyone know how to get the TS equiv of the rust clock.unix_timestamp; ?
Veboho is helping me!
I read through https://github.com/solana-labs/solana-program-library/issues/2219, but I don't have the directory solana-program-library/token-lending/cli either.
When I try to install "spl-token-cli," I get the error: "could not compile libsecp256k1." Could anyone please help me? Thank you so much in advance.
more than likely a mistake on my end as it's probably something else, if I have time I'll try to properly debug
I just noticed it was an empty public key and assumed that was it
hm, likely I was chasing a red-herring then & it's something else that's broken
Trying to get the Solana Pay POS demo set up on our own linux centos 8 server. While porting to Vercel as the demo instructions suggest works well, having problems getting it to work on our server/domain. Starting solana "yarn start" => Server running at http://localhost:1234. However typing that in a browser only returns unknown address. Would be willing to pay for some handholding guidance to help us get set up properly.
That's the way to do it afaik. It hasn't broken in the latest version either
Thanks 🙂
ah nvm I found out
You can do that with https://solanacookbook.com/references/token.html#get-token-account-by-owner
Is there a function from the solana package or so I need to use the solscan api
where do I get the Token account from?
is there a recommended way to pass the system program as an account? I've always done it this way which is why I guess it's been susceptible to breaking
That's a mint account from the looks of it, not a token account
That sounds like a different error, related to how you're creating the transactions
I'm presuming it was v1.34.0, I just stepped back to v1.10.0 and it looks like it has the same issue but internally it doesn't throw the error I was getting which for good measure was this:
```TypeError: x.pubkey.toBase58 is not a function
    at sort (/projects/monkelab_minter/node_modules/@solana/web3.js/src/transaction.ts:263:10)
    at Array.sort (<anonymous>)
```
I get this error:
```
connection.ts:2366 Uncaught (in promise) Error: failed to get token account balance: Invalid param: not a Token account
    at Connection.getTokenAccountBalance (connection.ts:2366)
```

from this code:
```jsx
await connection.getTokenAccountBalance(new PublicKey(mintAccount))
```
I got it working with current latest
What version is breaking?
I always thought it was weird & for sure now it seems broken
is there some alternate method
```
  console.log(
    '11111111111111111111111111111111',
    new PublicKey('11111111111111111111111111111111')
  );
...
11111111111111111111111111111111 PublicKey { _bn: <BN: 0> }
```
not sure what happened but I think after updating dependencies I can no longer instantiate the system program to a public key to pass in as an account
Thanks a lot
I'd be careful though, some NFT marketplaces use 0 balance token accounts for their orders
https://solanacookbook.com/references/token.html#get-token-balance
Can't I somehow check if the tokens balance is zero instead of closing it?
Okay got it, thanks!
Unfortunately I'm not really able to teach you how to create a stable coin. Lots of legal stuff around it
https://solanacookbook.com/references/token.html#close-token-account
How does one do that?
I understand it needs the liquidity for it, I am more just wondering how to make it stay fixed
Just like a stable coin, where each token is worth 1 USD
You can close token accounts
what do you mean by closed?
What do you mean by fixed value
It's supposed to give back any token accounts currently open, not just NFTs
Ever owned? You mean with ones that you have closed as well?
Anyone know how to create an SPL token that has a fixed value
I am facing a really weird issue that when trying to fetch all NFTs from a wallet using `getParsedProgramAccounts` or `getParsedTokenAccountsByOwner` it just returns **all Token Accounts I ever owned**. The thing is that this is **only the case on one of my wallets** (It returns 170 Accounts). All The other wallets work just fine
This doesn't seem related to developer support
Thanks
Yes. You can send transactions from phantom using wallet-adapter. There's a few examples here: https://solanacookbook.com/references/basic-transactions.html
Hi noob question 🙋‍♂️ 

Can I interact with a program using a signature from phantom wallet user ?? 

Most examples on the docs require the use of private keys to interact with programs
Sorry, thought you were asking about governance. Metaplex metadata program should exist in devnet
Thank you
You do not have to redeploy any governance program
Is this code a stand-alone code? I can run it by itself? Or I need to deploy a rust program before? Please share with me any docs for ts-node code to start with solana client
Working to get more docs written
The only documentation right now is the tests on spl-governance and governance-ui https://github.com/solana-labs/governance-ui https://github.com/solana-labs/solana-program-library/tree/master/governance
Hey. Could you link me to the documentation where i could learn more about the same?
Thank you!
As long as you're using the metaplex standard for minting NFTs, they'll show up correctly
Here's a guide on minting NFTs: https://solanacookbook.com/references/nfts.html#mint-an-nft You may be able to do it even shorter with bundlr now
<@!152089247254315008>  are you familiar with any on-demand minting on solana? Which means I just want to display 2 images with 2 buttons, each button will mint a specific image. Using metaplex will create a bulk minting for you and you wont know which image you will get. I used spl-token to mint 1 then disabled the minting (as mentioned in the docs to create nft), but how to attach that address to an image? and when i transfer that token to someone it should be listed under the nfts section in the wallet not under normal tokens
The guide shows with borsh
Okay thank you
There's a guide going over serialization here: https://solanacookbook.com/guides/serialization.html But as Xavier stated, it depends on the serialization method used
I mean when I run tests (transaction). After when different accounts are get created so I want to get that data similar to the above in javascript
Anyway you should search for AMM because it needs to store less data than order book based dex so "listing" will be cheaper
It depends on the liquidity at the time
And which one is cheaper🤔
It depends how you are serializing the data. Borsh ? Serde ? Anchor ?
Also what do you mean by getting the content of the transaction ?
Yes
Is that the rust account?
Raydium uses both a pool program and Serum interchangeably based on liquidity available
Ah yes I think Raydium is using serum market before switching to AMM mode when there is enough liquidity iirc
Yeah Raydium is redirecting me to Serum I don’t know why, it’s saying that I need a market ID
How to get contents of the account and transaction using typescript?
```
pub struct MyAcc {
    /// Base account used to generate signer seeds.
    pub base: Pubkey,
    /// Bump seed.
    pub bump: u8,
    /// Mint of the token that must be locked in the [Locker].
    pub token_mint: Pubkey,
    /// Total number of tokens locked in [Escrow]s.
    pub locked_supply: u64,
    /// Governor associated with the [Locker].
    pub governor: Pubkey,
    /// Mutable parameters of how a [Locker] should behave.
    pub params: LockerParams,
}
```
AMM listing are cheaper I guess. Maybe try raydium
Hello guys, I have two questions, first one is I created an SPL Token, where can I list it for very cheap? If I want to list it thrue serum and create a liquidity pool, I need to pay at least about 4 SOL to get that market ID. Is there a way around it? 

Second question is, how can I create a staking website for my SPL Token? People should get a certain percentage by staking my spl token on my website. 

Hopefully I will find answers.
The main program doesn't have any counter. If you come from EVM, it is largely different. In EVM, there is no separation of data & logic. A contract contains data.
In solana, contracts (or programs) does not contain any data. However, programs own accounts. You can create an account, give the ownership to the program, and then the program (and only it) can change the data that is inside the account. A program can own an infinite amount of accounts and they can all contain different state of the data
thank you so much for explaining. I used to think when you increment the counter, you incrementing it in the main account/program. But I guess the main program has just the code, and each client will take a copy, create a new account, then increment it for themselves only, without affecting the counter in the main program....Many thanks again!
So there should be no need to hardcode anything
Just re-read the code. Yes, exactly ! On the first call, a new Account is created and the public key is displayed (` console.log("Counter Key:", counterKey.toBase58());`). Then you can take this public key and enter it as an argument (it will be recovered here : `counterKey = new PublicKey(args[1]);`) and you should see it incrementing !
hi guys. where can i find raw signing method for transactions with public and private key? without wallet
Thank you. When you say a new account is created, do you mean the counter account? `const counter = new Keypair();` So, if the first time i run the client, I create a new account, then if I take this account and hard code it and pass it to the client, then it will use it and not create another account, so i should see it incremented correct?
https://github.com/jarry-xiao/solana-bootcamp-lectures/blob/master/lecture_1/js/index.js#L78
Try building a new transaction here, that reuses the same `counterKey` account
If you want to increment from 1 to 2, you need to reuse the same account.
Yes, that is because every time you run it, a new account is being initialized. An account is just like a file. If you give the program a new account everytime, it will keep only incrementing from 0 to 1 as 0 is initialization value
No, I haven’t heard of it before. Could you tell me about it... or is there any documentation for the same?
Im running the hello_world example from the bootcamp: https://github.com/jarry-xiao/solana-bootcamp-lectures/tree/master/lecture_1  but the counter is not being incremented, every time I run the client, the result comes back as 1. Any idea?
spl-governance allows this capability today iirc
Have you looked through spl-governance?
So i have plans of creating a treasury DAO for a community, wherein you can all pool your funds and then Vote in order to determine the where, when and how the funds will be spent. ( Also done using the DAO ). Im quite new to this, so is there someone who has better knowledge about it?
Docs can be found here https://github.com/solana-labs/solana/tree/master/docs We love contributions!
Who is updating main docs btw ? Is there a github repo for that and can we PR ? I was looking for it earlier ...
We should update main docs though
So what's your question ?
It is deprecated and updated in later versions. Just not retroactively updating earlier versions
got it, thanks
`load_instruction_at_checked` should be used
Do not use `load_instruction_at`.
It's unsafe. I see the documentation hasn't been updated, even though it was the root cause of the $300M hack of wormhole lol
OK, thanks.
Hey guys, does anyone have some experience with Treasury DAOs? I need some help with the project i am currently building.
Also you should read that <@!866287567791718420> 
https://docs.solana.com/implemented-proposals/instruction_introspection
Thanks for your help. I'll test it shortly.
Did u check it in solana Explorer? If the transaction was successful? Are you still stuck?
https://github.com/certusone/wormhole/blob/7edbbd3677ee6ca681be8722a607bc576a3912c8/solana/bridge/program/src/api/verify_signature.rs#L68
Wormhole has some code with `Secp256k1`
I don't have any example on hand, I don't know if there is any
A part of the instruction introspection for `Ed25519` in a program look like that. You can apply the same to `Secp256k1`.
Also you need to make sure to have the first ix going to `Secp256k1`

```rust
        msg!("instruction_account: {:?}", ctx.accounts.sysvar_instruction);
        let instruction_account = &ctx.accounts.sysvar_instruction.to_account_info();
        let current_instruction_index =
            solana_program::sysvar::instructions::load_current_index_checked(instruction_account)?;

        if current_instruction_index != 1 {
            return Err(ErrorTest::WrongInstructionPosition.into());
        }

        let ed25519_ix_index = (current_instruction_index - 1) as u8;
        let ed25519_ix = solana_program::sysvar::instructions::load_instruction_at_checked(
            ed25519_ix_index as usize,
            instruction_account,
        )
        .map_err(|_| ProgramError::InvalidAccountData)?;

        // Check that the instruction is for ed25519
        if ed25519_ix.program_id != solana_program::ed25519_program::id() {
            return Err(ErrorTest::WrongEd25519Program.into());
        }
```
I'm a newbie in Solana. could you show me an example code?
There are 2 ix (transaction instruction):
- One to Secp256k1 
- Second one to a program. This program use instruction introspection to verify data passed to the `Secp256k1` and that the signature was valid
Check this transaction out : https://explorer.solana.com/tx/4eCRjzQpRwtNi2KPTaFcWacH4JkuPHzs9KnEY59EMw5GcYfEXWDjSGAdUAnLmkp7fQCpHJxWvUJiqevnaTKu4oGz
It's a transaction instruction.
A transaction can contain between one or multiple transaction instruction.
Think about it as transaction atomicity. You can call multiple smart contracts into a single transaction, without to do CPI. If one instruction fail, the whole transaction fail.
Sorry for my misunderstanding, but what is ix?
So instead it's the runtime that is executing this "program" but that can only work through ix
It's because of the compute units that would be required to perform this operations. If this program was onchain and could be CPI, it would blow the 200k CU budget
Check the `Allocated data size`. Nothing there
https://explorer.solana.com/address/KeccakSecp256k11111111111111111111111111111
They are program that are "simulated" program but they can't be CPI into.
You can call them with an ix but you can't CPI
What is it then?
thus it's not possible to CPI into them
They are simulated program, they don't exist onchain
You need to make two ix and use instruction introspection in your anchor program (2nd ix) to check result of first ix
`Ed25519` and `Secp256k1` program cannot be CPI
I wanna use secp256k program
Checkout this vid ! https://www.youtube.com/watch?v=7D7fKcZond8
Here are some supported native programs : https://github.com/project-serum/anchor/tree/master/spl/src
How to use solana native programs using CPI in anchor project?
At the moment, the code in the Solana repo is the documentation but this is pretty straight forward pending docs:
* With 1.9.2 instead of each instruction starting with 200_000 CU budget, the Transaction has a starting 200_000 CU Budget (default) and instruction draws down from that. Take a look here: https://solanacookbook.com/guides/feature-parity-testing.html#feature-parity-testing
* **However; you can now increase/decrease the Transaction  budget with the** `ComputeBudgetInstruciton::request_units(u32)` which will generate an instruction (shown above)
Is there somewhere I can check which version of an spl program is currently deployed ?
thx a ton for this. Are there any docs on compute budget increase I can read?
1. Moving code into a function adds the cycles to call the function on top of the cycles for the set of instructions you listed. I though by refactoring you were reducing not adding.
2. Manipulation of strings in general but most importantly formatting like `msg!("{}", some_string)` is costly
2.1 Serializing / Deserializing can cost
3. In rust:
```rust
let txn = submit_transaction(
        &connection,
        &main_payer,
        [
            // This instruction adds CU to transaction budget (1.9.2) but does nothing
            // when we deactivate the 'transaction wide compute cap' feature
            ComputeBudgetInstruction::request_units(400_000u32),
            // Add two (2) instructions to transaction
            // Replace with instructions that make sense for your program
            // You will see that each instruction has the 1.8.x 200_000 CU per budget
            Instruction::new_with_borsh(PROG_KEY, &0u8, accounts.to_vec()),
            Instruction::new_with_borsh(PROG_KEY, &1u8, accounts.to_vec()),
        ]
        .to_vec(),
    );
```
Hello, does Solana have any kind of archive node or smth?
I read about Archivers apparently it's abandonned
I read about SOLAR bridge, but can't find anything regarding how to use it, is it abandonned too?
I think lots of NFT projects do the same thing. also check <#937905165074300999>
Hello, is it possible to mint NFT with Candy Machine and use custom URL for the image?
Yes, i see, thank you!
I think ata or token account is not a big problem.
the most important thing is that the token account should owned by your PDA so that only program logic can control these tokens.
wait so much alpha in there

1. I would literally take this piece of code and stuff it into a `fn create_token_accounts(&self)` on the validator struct in anchor:
```rs
    let token_a_ata = ctx.accounts.token_a_taker_ata.to_account_info();
    if token_a_ata.data_is_empty() {
        associated_token::create(
            ctx.accounts
                .create_ata_ctx(token_a_ata, ctx.accounts.token_a_mint.to_account_info()),
        )?;
    }

    let token_b_ata = ctx.accounts.token_b_taker_ata.to_account_info();
    if ctx.accounts.mutation.config.maker_token_b.is_some() && token_b_ata.data_is_empty() {
        associated_token::create(
            ctx.accounts
                .create_ata_ctx(token_b_ata, ctx.accounts.token_b_mint.to_account_info()),
        )?;
    }

    let token_c_ata = ctx.accounts.token_c_taker_ata.to_account_info();
    if ctx.accounts.mutation.config.maker_token_c.is_some() && token_c_ata.data_is_empty() {
        associated_token::create(
            ctx.accounts
                .create_ata_ctx(token_c_ata, ctx.accounts.token_c_mint.to_account_info()),
        )?;
    }
```

2. When you say string formatting - do you mean .to_string() / String::from() type of stuff, or do you mean someting else?
3. How do I request more CU? Where can I read more?
you can take a look here
https://medium.com/solana-labs/sealevel-parallel-processing-thousands-of-smart-contracts-d814b378192
```
By default, all accounts start as owned by the System Program.
1. System Program is the only program that can assign account ownership.
2. System Program is the only program that can allocate zero-initialized data.
3. Assignment of account ownership can only occur once in the lifetime of an account.
```
question: should I use an ata or token account owned by pda for a program vault ?
To your first question: It depends on the execution path and  refactoring. You'd really have to do some 'before' and 'after' code and post both to a gist or something if you want someone to answer that...
To the second question: String formatting is expensive.... but again: Unless someone can look at your code it's speculation
Finally: With 1.9.2 it changes from a default 200 K per instruction to 200 K per transaction and the instructions draw down from that.  But you can request more Tx CU !
Hi! Did you get an answer?
```const instruction = Token.createAssociatedTokenAccountInstruction(
        ASSOCIATED_TOKEN_PROGRAM_ID,
        TOKEN_PROGRAM_ID,
        mint,
        ata,
        owner,
        feePayer.publicKey
    )
    const tx = await CONNECTION.sendTransaction(new Transaction().add(instruction), [feePayer], { "preflightCommitment": "finalized" });```
Is anyone else experiencing the "failed to fetch" error while creating NFT in metaplex? I think it has something to do with arweave
I'm hitting the 200k wall pretty badly
is it possible that factoring out code into a function meaningfully increases the compute usage?

and a more general question - does anyone have a list of tips for optimizing the program for compute budget?
Then u r doing something wrong while creating ata
its keep giving error for transaction is that "solana.devnet" is overloaded
is solana dev net is overloaded ?
Please any one with tutorials on how to stake NFTs on the Solana blockchain?
get outside bro 😂
https://api.mainnet-beta.solana.com: 0 0xc000417558
https://solana-api.projectserum.com: 0 <nil>
how come they dont provide the same data (0 is block 0, the 0x / <nil> is BlockTime)
handsome looking guy
oooh nice!
in my disc profile
with rl identity
im on a new twitter
gm
skynet!
I'm already doing it first, then if this returns empty then I create an ata
woops wrong chan
gm
```    accounts = await CONNECTION.getParsedTokenAccountsByOwner(owner, { mint }).then((res) => res.value)``` this ?
<@208527206966755329>
And provide the wallet pub key and mint address of the token as parameter
Use get parsed account by owner
hey fam. In my Solana program, I'm saving sol in a treasury. I generated the treasury using findProgramAddress. Now I want to send another Token and not sol. Please, how would you suggest I go about it? Do I need to findATA of the treasury address ? Any help is greatly appreciated
should be ```feePayer = new Keypair(new Uint8Array([23,...,23])```
THis is my code.....
 const signature = await connection.sendTransaction(transaction,[provider]);
How can this be solved
Please i am recieving error of unexpected type, use Uint8Array....
But if it's an NFT it shouldn't have a mint authority (key difference between an NFT and spl. NFT is a spl token with no mint authority and 1 total supply and 0 decimals)
Well technically if the mint authority is assigned to someone he can still be able to mint yeah
Stupid question. I just wanna try 
Is there a way to unburn a burnt nft?  🥲
I am a newbie
I am sorry please.. how can i get the Keypair of the user that is the  [feePayer]
feePayer have to be Keypair
<@!890867969201143818> .
Please how can i set signer in await connection.sendTransaction
```        let a = await CONNECTION.getParsedAccountInfo(ata)```
How are you fetching your ata
trying to withdraw rent any reason why it would time out?
Rejecting for timeout...
Timeout Error caught { timeout: true }
Withdraw has failed for config account
```    const tx = await CONNECTION.sendTransaction(new Transaction().add(instruction), [feePayer], { "preflightCommitment": "confirmed" });``` doesn't this wait until the tx is confirmed ?
I'm having issues, I'm creating a associated token account but when I fetch the account info after the initialize tx. It appears null.
Hello guys, I'd need to have a mapping epoch <> starting_timestamp, is there any other way than get block 0's timestamp and get every 432000 other blocks' timestamp. Because, while this in theory would work, most of the blocks (easily 90%+) I query (testnet atm) don't have a timestamp (aka BlockTime is nil in the rpc response)
thanks bhai
I would say so
thanks, is it good for a beginner?
https://solanacookbook.com
Hey guys, I am new to solana and rust. Can any one point me to some resources to learn ?
just when I say it 1h later I get accepted XD
Hi there i hope you re doing well
Ohk got it
As <@!279344233607987210> said, use WSL 2 with Ubuntu
Yes
is the best  way to do this to drain the account if its lamports and wait for the runtime to clean it up?
getting this error with msvc after switching from gcc
no problem thanks
im not sure if this is the issue and i'm not super knowledgeable wrt this in general but it came to mind reading that while wanting to ask my question. u might be better off using windows subsystem for linux tbh fwiw
okay thanks let me try
try `nightly-x86_64-pc-windows-msvc`
```cargo install --git https://github.com/project-serum/anchor --tag v0.21.0 anchor-cli --locked ---target x86_64-pc-windows-msvc```
tried this command
how to do it?
try switching your rust compiler from gcc to msvc if you're on windows
(which is rent exempt)
is it possible to close or delete an account created with system program?
can someone help me with this error, ii am trying to install anchor
hello guys, would like to ask a question on preflight in send_transaction rpc api.
If it is set to True, does that mean the api will first simulate the transaction before truly sending?
If False, it will skip the above part
Will there be any speed increment by skipping this?
Hello fam!
message to admins
It's been like 2-3 weeks my prague hackerhouse invitation is pending, the date is getting a little closer and I would need to organize.
SHoud I make a new demand or is it still to early to get accepted?
And create a struct type based on the field
<@760084003394420736>
If ur calculating for string and u want to set the fix amount of character you need be extra careful about it and similarly with vector and array
Of bytes it contains
Similarly  for u8 or boolean it has its own value
For instance for pubkey its 32 bytes
Calculate the fields that u r using
Hi, I'm following the instructions of Solang https://github.com/solana-labs/solana-solidity.js#quick-setup and I have a question. How can I determine the storage account's space when running `contract.deploy()`? The code in the instructions specifies `4096 * 8`  bytes as the storage account's space but I want to specify just enough space.
1. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
2. https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
Newbie question here: what's the best way to query for transactions involving a certain address as recipient? Is the Web 3 JS SDK useful for this purpose, or are the some other APIs from data providers that have indexed such public data?
thanks for your replies <@!242234529396424704>  🙏
ahh silly mistake, i forgot ()
Which is probably not that much practically
It does in the sense that you have a known-prefix to eliminate some private keys with
Do vanity keypairs generated with `solana-keygen grind` have reduced security? my intuition would be that if you are using a real random source when running, it does not, but not really sure
Bit
On thT but
Can you show me your  code ?
Did u write .toBase58()?
that gives me ƒ toBase58() {
    return bs58__WEBPACK_IMPORTED_MODULE_3___default().encode(this.toBytes());
  }
got any ideas?
🤕
tobase58() something like that...
I was wondering how to get the human readable public key from when you web3.js useWallet->publicKey.. the publicKey object doesnt contain anything human readable
ah sweet. Thank you.
It's licensed Apache 2.0 🍻
hi, the farms program in the solana labs.. are you allowed to modify it and  deploy it yourself?
Is SolanaJ officially endorsed?
Hey, not too sure if there is the right place to post this, but what's the timeline looking like for 1.8->1.9 on the mainnet? There's some heavy hitting changes that I'd like to plan for.
<@!411154935917445145> they will be announced to be available for the general public on mainnet soon
been banging my head against the keyboard for a few hours
do you know anything for arbitrary programs? like other than spl token?
Can see a bunch of spl token CPI examples here in the anchor source: https://github.com/project-serum/anchor/blob/master/spl/src/token.rs#L16
like are we suppose to just use the solana_sdk?
has anyone seen any code for CPI examples?
does subscribing to the "programSubscribe" endpoint publish an update for every transaction that is sent to that program, and if so, can i get the actual transaction data? or am I going to just get one update per change to the accounts that the program owns, and it will only tell me the new account data?
in a terminal
Where do I type that?
solana airdrop <nb sol> <address>
How do I add funds to my devnet wallet?
Nevermind found the solution, for the record, dont use the serum RPC for fetching transaction, it's not having the same behavior as the solana mainnet
The before keyword doesnt work at some point
Hey anyone knows how to fetch transactions, I got no more result after fetching 50 of them approx. ?
thanks, still a little confused unfortunately. If the function needs a "toTokenAccount" parameter, wouldn't that account have to have been made prior?
First I generate the transaction then I call sendAndConfirmTransaction to sign the transaction
Is that not ones that have already signed?
This kind of thing will likely happen
They look like public keys
In a transaction, each address in transaction.signatures, must sign the transaction?
Im not entirely sure what the code requires there, seems like some kind of object, not just a String. Do you happen to know what that would be?
similar to pdas
random thought but maybe have ata authority non mutable
Well, some programs do it so it must be considered
If that is what the code requires, yes
This isn't good though. Breaks a lot of things. Programs that change the ATA authority are going to cause problems with other programs trying to drive the addresses for token accounts
im essentially trying to send 1 specific NFT from the wallet connected to wallet-adapter to another custom wallet
cool, what do I send into **fromTokenAccount** & **toTokenAccount** then though? That cant be Strings right?
escrow program usually change your ata authority to the program so it's locked. I guess you can make different accounts if you change the bump, but I still don't see how this is implemented automatically. Although I support being limited to 1 token account since it makes it more easier to handle
let's say you change the authority of that ata, would you be able to create another ata for yourself ?
Yes
You can use ATA for one. I would recommend against the legacy token accounts though
the wallet-adapter example dos this?
I see, what if I want different token accounts for 1 mint, can't use atas ?
That's what the cookbook example does
https://solanacookbook.com/references/token.html#ancillary-token-accounts
Great to hear, thanks!
can you elaborate ?
Yes that example and exception is very confusing, I don't think you have to pass the `AccountInfo` of any program any longer.  I'll follow up with the cookbook example to see why it says that
so there is no way to have the sender pay to open the new account if it doesnt exist?
There's a legacy version, but not recommended use
so is it possible to have different atas ?
oh nvm, the ones I am talking about require the kaypair
ATA is the token account?
also, is it possible to create token account and not ata for a user ?
nice, no rush
docs don't exist yet though
`0.2.0-alpha.2` if you want to try it
It's in an alpha version
can't seem to find ```createAssociatedTokenAccount``` using 0.1.8
Yes if it doesn't exist
so for the parameters the function takes in

fromTokenAccount = the token account the NFT is sitting in currently? 
toTokenAccount = have to create this account for the NFT to be sent to?
https://github.com/solana-labs/solana-program-library/blob/master/token/ts/src/actions/createAssociatedTokenAccount.ts#L19
where can I find it ?
wait really
Also, patches welcome
There is in the next version of spl-token ts lib. Still getting docs done on it
seems more practical
there should be function where it take mint and owner and it creates the account
https://solanacookbook.com/references/token.html#associated-token-account-ata
javascript
Hello, what's best way to create a token account for a already minted token ?
thank you
king
There's a `wallet-adapter` tab
right. that works with solana/wallet-adapter though?
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
best way to have a user connect wallet and send a custom SPL token using @solana/wallet-adapter ?
Yeah, I think we'll update that post. There was a lot of discussion on whether or not we should leave it in or not. It's confusing as is
Wait for it's recent blockhash to expire
Blame the devrel guys 👀
Are there ways to be certain that a transaction is dropped for sure?
Sorry, I'm not familiar with the cookbook stuff
Assuming that is the case, do you know why the invoke behavior seems to be different for the SystemProgram in that cookbook post?
Aight thx
You can add multiple tags to a question
Depends on the question. If it is rust only, rust it is
Would it be better to ask on the general one or rust? For now
We do have a proposal if you want to help us out https://area51.stackexchange.com/proposals/126615/solana
Not at this time. You're welcome to ask questions on stackoverflow with the `solana` tag though
Is there a solana stackexchange?
I'm not sure if _always_ is the case.  For instance if you CPI an instruction that CPIs as well.  cc/ <@!453347985628200960>
Thank you, I appreciate your help clarifying this. To make sure I understand though, are you saying that invoke *always* requires the instruction to specify the program's address, while the AccountInfo for the executable program is handled behind the scenes? and if this is the case, I still don't understand the 'exception' mentioned in this example: https://solanacookbook.com/references/programs.html#how-to-do-cross-program-invocation which shows that *specifically for the SystemProgram*, we must pass invoke the AccountInfo of the executable account, whereas we don't need to do this for the token program.
You were right, using Solflare for the transaction gave me a much more useful error. 

Never knew transactions in Solana could be too large. Thanks!
Executor is an abstraction of which executable accounts are one implementation
You need the latter, must get the former from the InvokeContext behind the scenes
Ok, "accounts" is ambiguous in that quoted text.  It refers to the `AccountInfo`s, rather than just specifying their addresses in the instruction itself
I'm referring to this line: `Note that invoke requires the caller to pass all the accounts required by the instruction being invoked, except for the executable account (the program_id).` and what I observe in the token_transfer example. I'm not familiar with what you mean by executor unless that is == an executable account. https://docs.solana.com/developing/programming-model/calling-between-programs#program-derived-addresses
I can't rly disable it, so I'll switch to my intel machine- I wanted to avoid it😅
_All_ instructions needs an executor specified.  It can't just be magicked
thx guys
But, I'm almost 99% sure that <@!489206164270350337> is right- its probably caused by ESET
I'm always removing `.local/share/solana` before fresh installation
Once again, `which solona` will tell you if it's picking up from the installed dir versus the repo `target` dir
If the former, I would recommend moving/renaming/deleting `.local/share/solana` just to get oriented around the repo builds
sorry I might be too new to understand exactly, does this apply to all native programs when called via CPI? im specifically trying to understand what makes CreateAccount different from the token transfer in this example: https://solanacookbook.com/references/programs.html#how-to-do-cross-program-invocation

alternatively, is there somewhere I can look or something I can check to know when the executable program_id *will* be required in a CPI?
They're throwing a different error than what your code would throw
what do you mean by swallowing errors?
Phantom has been swallowing errors lately. Try another wallet.
The runtime still needs to be able to identify the correct executor. AFAIK there is no "sometimes"
Here's a fun reason it may be breaking: https://discord.com/channels/428295358100013066/517163444747894795/922350744093462528
Anyone seen this Phantom error when attempting to send out transactions?

`{code: -32003, message: 'Transaction creation failed.'}`

I've gotten it in the past and its always been something related to instruction signers. Once it was because I'd specified a PDA as a signer in the instruction, the other time was because I'd given an instruction two signers. But I can't find out what's going on this time.
should I remove my old test-ledger dir?
no, its default terminal

Also make sure you're not doing in a rosetta terminal
Make sure that matches what you're expecting
`which solana`
`solana --version`
I've  tried, but with no success
You're positive you weren't running the validator on a previous install?
yes, this is what I did basically
M1 issues don't really happen anymore for most users of 1.8.12
So you've downloaded the repo, run the build from source steps, and made sure you were executing solana-test-validator in your dir?
And I didn't find too much on the internet when I tried to google for it
yes, I've tried form source and standard installation on various versions- the worst thing is the error doesn't say too much to me
Build from source?
same happens on `1.8.12`. I have no hope :/
I haven't been able to find evidence of that, at least in the Rust description of the instructions: https://docs.rs/solana-sdk/1.9.6/solana_sdk/system_instruction/enum.SystemInstruction.html Is there somewhere authoritative I can find the native program's instruction interfaces?
iirc, it is because the instruction expects it passed
Unless I'm missing something more obvious, that says: `However, there are exceptions where you are required to pass the invoking instruction's program_id. In our case it would be the System Program's program_id. ("11111111111111111111111111111111").` But this doesn't actually explain why this is an exception? Is there a list of exceptions to this rule? Is it only Native Programs?
This goes through an example of both and explains the reasoning behind them https://solanacookbook.com/references/programs.html#how-to-do-cross-program-invocation
Sometimes it is needed as per the instruction
I'm new to Solana and have been source-diving into some SPL programs and I'm a bit confused by something. Why do some instructions need to take the system program ID as an input account? If I read the CPI docs correctly it would seem you *don't* need the executable program_id when calling `invoke`, and I'm not sure why else you would need the system program's account data (I'm assuming it's empty?). Is there another reason to take the system program as input?
I'm mainly solidity, solana just seems like a pain to me but I've also not fully taken the time to sit down and fully understand everything yet. Still working on the basics. Once you understand how solana works in general with accounts and access to those accounts I think it will start to come together.
Also considering I'm already a backend developer, j2ee and go
How long did it take for you guys to get reasonably okay?
Essentially I want to port some other stuff I've been working on
I figure it'll take a few weeks to get to the stage of launching viable dapps for solana
Cool, partner can see the token in his wallet but none of mine show up so I figured it was a waiting game.
Thx, ill make sure to read through it. Hopefully I find it digestable
Probably Phantom hasn't updated yet
Question, I have a token with 0 decimals but a supply of 500 million, this token is merged with the solana token list repo, and shows up properly on solscan but does not seem to show up properly or at all in my phantom or solflare wallets.

Will this work itself out or did I mess something up.
A lot of people recommend this one as well https://lorisleiva.com/create-a-solana-dapp-from-scratch
Did the escrow program tutorial and it has been rough
What are you lost on?
Day 4 and I'm still lost
Indeed
Going from solidity/py to solana is rough...
Don't know. Unrelated to Solana developer support
what is that?
Ahh, you referring to the CU counting. Cool
see that bleeding at the top
What?
1.8.5 didn't have m1 compatibility
Why won’t this go away

It's probably an arweave error
https://lithdew.github.io/alon/
alon?
Any know what this bump error means when running anchor build:
Do you know what is causing the issue? Can you recognize the error? Is it necessary to build that version from the source or I can use standard installation?
Would blow my mind if that ever got changed, so probably
i need help on something im working on
knows how to use rust
hey anybody here
Is `Pubkey::default()` always guaranteed to be the zero key?
?
Hey, anyone knows how get metadata attributes without using axios? Cause, When I make a many requests a lot requests fails. Mainly with IPFS hosts
1.8.12 should work
That's what royalties do today on Metaplex, so yes
what this error might indicate? `TestValidator startup failed: Custom { kind: Other, error: "Discover failed" }` I've been trying to run `solana-test-validaotr` since `1.8.5` on my Apple M1, using different versions and installation strategies, but I still got this... Is it possible I'm missing some components/dependencies installed?


///////////////////////////////////////////////////////////////////////////////////////////////

Note that the fee changes will not hit mainnet immediately at the v1.9 upgrade.  There'll need to be a on-chain feature activated at a TBD time **after** all mainnet nodes are running v1.9
That's where it was 200k previously
I believe so
Is this( https://github.com/solana-labs/solana/blob/3d9874b95a4bda9bb99cb067f168811296d208cc/program-runtime/src/compute_budget.rs#L10) the max amount of CUs a whole tx will be able to consume after 1.9.x (if you request it with the first instruction)?
Do you know if there is an upper limit for tx wide CU requests? Is there a const somewhere in the source code?
Okay , thanks again 🙏
Not sure how the third party dashboard work at this time, I'd go check them out
Are they aggregating these values by storing slots in every epoch?
I think there are other dashboards that may have this information like solanafm or chaincrunch. I'd check there if they stored it
So , I have no other choice than to assume 2 days / epoch for past epochs right?
Past state is not stored anywhere, so I don't think you can.
Also , which rpc method can I use to get the slotsInEpoch of a past epoch?
Roughly, yes
So , 400*slotsInEpoch  , thanks
Slots are of estimated time
To get accurate APY of getinflationrewards per epoch
Is there a method to get the exact duration of a slot? I'm trying to find duration of epoch in a minute.
It should return `slotsInEpoch` as well. A slot is an estimated 400ms
Hi again !. How can I find the duration of current epoch? I tried getEpochinfo() , but it is returning slotsindex and current slot
Here's two pretty good guides:
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
https://lorisleiva.com/create-a-solana-dapp-from-scratch
Hello Everyone,
I am new to Solana Development and i wanted to implement a fungible and non-fungible tokens smart contract program in rust.
I went to the SPL github code for associated token program but was'nt able to figure what the code was doing.
Can you suggest tutorials/resources for the implementation of smart contract in rust.
ok thanks
Especially since there's a sendToken call separate from the normal sending spl
I'm not entirely sure what the metaplex libraries do on `mintNFT`. I'd check if someone has run into similar issues in metaplex discord https://discord.gg/pqnszpCB
then try to send with ```let sendTokenObj = {
    connection,
    wallet: new MetaplexJS.NodeWallet(walletKey),
    source: new MetaplexJS.NodeWallet(walletKey).publicKey,
    destination: walletPK,
    mint: resMint.mint,
    amount: 1,
  };
  let res = await MetaplexJS.actions.sendToken(sendTokenObj).catch((err) => {
    console.log(err);
  });```
and the stuff blows up
I get the mint from the following ```let resMint = await MetaplexJS.actions.mintNFT(mintNFTObj).catch((err) => {
    console.log(err);
  });
  let mint_hash = resMint.mint;```
https://solscan.io/account/AbzfFyERwcxBhabbFXEzUn4MgZaTKuBekmFtZoDERR9c?cluster=devnet is what I created
Have you verified your token mint is a valid mint account?
you figure this out? I am having a similar problem
I've been told a moving 8-12 weeks. I expect it should be ok to work on 1.8.X
When will 1.9.X land? I'm building for the Riptide Hackathon (March 17), and wouldn't want to be rug-pulled just when the judges are evaluating the submission 🙂 . So maybe April timeline, hoping that 1.8.X is still around
Oh yeah, got it. THANK YOU!
There's a little `</>` button on each code snippet that sometimes people miss. It shows full source for all
Thank you so much for the help, but what do you mean by work with the full source?
All should be good with js
That should work. Make sure you are working with the full source
and do all snippets compatible with js as well? or only this one?
So just to make sure, if I copy the code snippet in a file with extension ".js" and run the code using `node file.js` is should work properly?
It should work in JS(I ran them locally). If there is an object with multiple types like the one mentioned, you often have to cast to which one is applicable to your usecase
I tried to run them as js, but did not work
Yes, but I had many issues like this one, so every time I have to do the casting manually?
It's looking like those code snippets are compatible with js, but need a little extra for ts
Here's the answer I gave on stackoverflow https://stackoverflow.com/questions/71135106/how-to-run-ts-code-snippets-in-ts-node
https://solanacookbook.com/references/nfts.html#create-an-nft
Yesterday was trying to run the first code snippet here, and ran into this error where you have to do the casting manually.... Also in general I just want to learn how to use the TS scripts .. so is there any tutorial for that (specifically for solana dev)
1) what errors?
2) They both use the same package, just typescript has forces you to conform to types
Thanks jacob!. I will test the same on mainnet. Looks like I have to wait for 3 blocks to see the reward info
I have 2 question: 
1) is there any web3 typescript tutorial? Most of the code snippets for solana is implemented using TS. Not sure how to run that and I am running into many different errors. Is there a way to show the basic functionality using TS?
2) What is the difference between js and ts anyway? Is the web3.js package written using ts and we can use js for production purposes and ts for testing locally since you can access file system using ts? Or there you still need ts even for production since some functionalities are written using ts and you cant use js for that?
I don't believe blocks that early are stored. Testnet isn't really supposed to be used for that kind of thing. Used for perf tests
Is there any way to fetch inflation rewards for the block? or is the block info lost forever?
Try using a dApp such as Raydium or Serum using a Phantom Wallet. The wallet extension keeps the keypair hidden, allowing users to sign transactions and broadcast them
Yes
No, it would not
Could you expand on this?
Oh wait, I should be able to test the feature with the test-validator
Pardon my ignorance , I staked the wallet to a testnet validator , on testnet , would mainnet-beta store inflationrewards for testnet blocks as well ?
Testnet doesn't have all blocks iirc. You'll be going after mainnet-beta for that
*connection = new web3.Connection(web3.clusterApiUrl('testnet'));* Initialised connection using the "testnet" keyword , on console.log , connection outputs the following url https://api.testnet.solana.com , "wss://api.testnet.solana.com/"
I believe it's over all instructions in your transaction. Meaning your transaction now will have whatever you requested total across all internal instructions
Okay so if I request 400k, can I have one instruction that consumes 400k CUs or two that each consume 200k?
rpc endpoint, not method
RPC method that I'm using? connection.getInflationReward()
Every instruction is currently limited to 200k. Soon it'll be the transaction as a whole will be limited, and you'll have to make instructions for increasing the cap
Right, but what rpc
using the default constructor for Connection
Does the transaction wide compute cap feature mean that every instruction will still be limited to 200k but you now exactly specify how much you want to consume in total (the whole tx)? Or will the limit per instruction also increase?
https://api.testnet.solana.com
What rpc are you hitting? The rpc you are interacting with may not have the block stored on their side
Pardon me if I'm wrong , shouldn't I be receiving rewards after block 285?
Uncaught Error: failed to get inflation reward: Block not available
I got the commission and rewards when I first tried it using web3 , but on subsequent request , I'm getting an error
I'm trying to getinflationrewards() of a stake account on testnet that was delegated on epoch 283
Hello
We're currently on 1.8.14. I am not sure of what the replacement may be in 1.9.X,
<@!585868308419444749> Is there something that replaces the `RecentBlockhashes` sysvar in `1.9.X` for getting recent blockhashes program-side?
I saw that is deprecated. Is there a replacement for it?
The `RecentBlockhashes` sysvar is what I think you're looking for https://docs.solana.com/developing/runtime-facilities/sysvars#recentblockhashes
Bump on this one.
Maybe there is a way to query the current block hash from within a program?
Thanks let me look into this
Sorry man i really don't know how i should do that why that would work..
ME has a bunch of issues with messing up ATAs. You can get all mints from a CM ID like this https://solanacookbook.com/references/nfts.html#candy-machine-v2
People are not able to see their NFTs to stake on your website, You can just filter using CMID if you are not doing that right now
It works most of the time
its just chomping away at my little macbook pro
ah ok this is the thing i was looking for "--limit-ledger-size"
We do have a cm ID but how can that help me solve the problem?
Figured it thanks if you tried
If you don't care about ledger state, you can `solana-test-validator --reset`

Otherwise you can `--limit-ledger-size` as well. Are you loading a ton of accounts on startup?
would need to research it more
not sure if that is related to solana test validator or not
also my cache has exploded lol it uses 300gbs right now from using like 10gb last month
That will be always constant
If you have a candy machine ID, you can display all of them using that
Hello everyone,
I'm not a dev myself but our project is in trouble and we can't seem to fix it. Our first staking UI was really confusing and not well made so we hired a new dev and he made his own staking system. But now that people try to stake them into the new v2 site and for some people the NFTs just won't load. We found a work around for this and apparently if people send them to a complete new/other wallet with a different seed phrase it works. Some people that bought from ME do have this problem as well and they never staked into the v1 site. We think it's because the v1 is interfering with the v2 we can't tell for sure because of that. We already tried lots of things, updating java, clear cashe, revoke v1 in trusted apps,.. We already got 70% staked into the v2. If anyone know how to fix this or what the problem could be, please reach out to me!
after about a month
yes
local-test-validator?
~~I have a program already deployed on solana,
I changed system I have the source code and want to update that particular program only after build
What shall I do~~
is there a way to not store so much logs lol
hello my validator logs jut running localnet were close to 100gb
Hi, im just getting started with Solana Development, so please be kind
as im getting through the code i see that 
while banks are being inserted we do `bank.clone()` which basically does a clone on `Arc<Accounts>` so it has access to the same accounts as per the last `Bank` (`Bank`its getting cloned from)
so how does the rollback in case of votes on a different fork works. 
Basically the question is how the roll back works because the account changes might be different in a different `Bank`

thanks for the help & i hope this is the correct place to find help.
Thanks I’ll checkout the cookbook 👨‍🍳
I have a really basic question

Why verification of the keypar fails with the initially generated public key but succeeds with newly derived public key?

```
dev/solana  $ solana-keygen new --no-outfile --no-bip39-passphrase --word-count 12

Generating a new keypair
============================================================================
pubkey: 98E8b8UsNL2hzMMcNCrKrLfXYk4oUVkF1upjdSaVtau
============================================================================
Save this seed phrase to recover your new keypair:
because upset state rate bundle autumn solar edit neutral spread world brush
============================================================================
dev/solana  $ solana-keygen verify 98E8b8UsNL2hzMMcNCrKrLfXYk4oUVkF1upjdSaVtau prompt://

[pubkey recovery] seed phrase: 
[pubkey recovery] If this seed phrase has an associated passphrase, enter it now. Otherwise, press ENTER to continue: 
Verification for public key: 98E8b8UsNL2hzMMcNCrKrLfXYk4oUVkF1upjdSaVtau: Failed
dev/solana  $ solana-keygen pubkey prompt://

[pubkey recovery] seed phrase: 
[pubkey recovery] If this seed phrase has an associated passphrase, enter it now. Otherwise, press ENTER to continue: 
DX1zjc7h2yqamYHMWHkBj962KWTGMuHBynaQJh2QqgfL
dev/solana  $ solana-keygen verify DX1zjc7h2yqamYHMWHkBj962KWTGMuHBynaQJh2QqgfL prompt://

[pubkey recovery] seed phrase: 
[pubkey recovery] If this seed phrase has an associated passphrase, enter it now. Otherwise, press ENTER to continue: 
Verification for public key: DX1zjc7h2yqamYHMWHkBj962KWTGMuHBynaQJh2QqgfL: Success
```
Your wallets are only as safe as the environment they live in. There's plenty of code snippets on solanacookbook.com that can help you out
All dApps front ends are using wallets to sign for transactions. This is a common practice. Usually you have a "hot" and "cold" wallet, where the hot wallet is what interacts with a small amount, and cold stores the majority
Right I have a program to do everything already, it’s just the security part. When and where would I give the program my sensitive key, that can potentially be stolen and change all the data on the block chain
Is it safe to create a wallet on AWS EC2 instance 
so I can use solana CLI in cloud + web front end 
I'm even considering building an AWS Lambda environment 

It's going to take me at least 3 weeks to learn rust to mint tokens and transfer sol
but I need functionality in 3 days
There's a new issue button on the repo
https://explorer.solana.com/address/Ax7EjwgRaerUacfCAptcMnkckmf8Wiee5T9KLqSzsF6
https://explorer.solana.com/address/ax7EjwgRaerUacfCAptcMnkckmf8Wiee5T9KLqSzsF6 (mint address)
how i can place an issue in the token list?
Thx you for reply
Update token-list and place an issue there. We do not support that repo here
Hello everyone,
I have a very big problem: i minted with an address and I sent the information on the Solana Token Registry with the same address but the first letter is a capital letter.  Can you help me please?
Yes, here please https://github.com/solana-labs/solana
Just raise the issue on the Github?
That should have all of the data expected. If null, there may be an issue. I would file an issue with all the details and see if there is a bug
I've heard of that diet
http://api.mainnet-beta.solana.com
Thanks. I was about to go eat glass.
What rpc are you using? AFAIK, the only RPC with full data is the mainnet-beta rpcs
this query is responding with NULL results, but there is information expected, based on the explorer. 
{"jsonrpc":"2.0", "id":1, "method":"getInflationReward", "params":[["HGU13YWYZDEE4uEfR11kJiHP9bJFDRqLSgxb3QNkn49J"], {"epoch": 263}]}
You could make a program do all the logic checking and work, and use the user's transaction to invoke the instruction
You should start with the right git repo to begin with: https://github.com/solana-labs/token-list
Pay attention to ask/raise issues there to get a response if you have problems
So In the dapp they can select a nft they have along with a separate burn token, when they click the re-mint button, the nft meta data changes automatically, and the token is burned. Thus they have evolved their nft character. So I may be off on how to do this but I was hoping it would remint in real time.
Cool. I'll go break a few things then.
What inconsistent behavior?
We don't support token-list in this discord
Hey quick question, is the getInflationRewards api endpoint stable? Having some inconsistent behavior.
Could you please walk me through? I am new to dev stuff and using this as a live learning stuff.
That doesn't look like the token-list
What do the users do?
Can't read the screenshot, but that error happens when you try to make a send without a recipient
% git remote add upstream https://github.com/redacted/token-list
fatal: not a git repository (or any of the parent directories): .git I am getting the error while trying to create a new branch on the token list repository cloned on my local machine. What could be the problem?
Yea I understand that, how would I create an app that does that automatically with this signing key, while still protecting from malicious users
Greetings and salutations Jacob!
gm Frank
https://discord.gg/vfdncCGP
For changing anything on chain, you have to sign a transaction that has the authority to make the change and broadcast to the network
Hi everyone, I had a question regarding a solana dapp and secret key handling. If I want to change meta data that’s on the block chain I need to invoke the sensitive secret key, every time this is changed. How would I do this for a block chain system I’m having trouble imagining how it would work.
hi, anybody can help me?
I tried to use this metaplex source project
https://github.com/metaplex-foundation/metaplex.git
in `js\packages\web`, it uses node package `@oyster/common`, but it doesn't exist now
how can I fix that?
please let me know what i am missing.

but getting error
CreateTransactionError: recipient not found
I have created Solana SPL Token Wallet
and using it on DEVNET
I tried to make a transaction using https://github.com/solana-labs/solana-pay/blob/master/core/example/index.ts
Perhaps you should update the cookbook with your solution, pay it forward daddy-o!
continuing my previous issue, i want to send 10 instruction but it says "transaction too large", so i break it to two, 
i have to wait for the first one to be confrmed, then send the next one, it took a looooooooong time, 
is there any better approach?
ser you are wonderful, it worked

for anyone lurking, this is the final code:
```js
    const data = Buffer.from(
      Uint8Array.of(0, ...toBN(256000).toArray("le", 4))
    );

    const additionalComputeIx = new TransactionInstruction({
      keys: [],
      programId: new PublicKey("ComputeBudget111111111111111111111111111111"),
      data,
    });
    const tx = new TransactionEnvelope(mt.sdk.provider, [additionalComputeIx]);
    const sig = await tx.confirm();
    console.log("requested more compute!", sig);
```

result:
```
Program 4c5WjWPmecCLHMSo8bQESo26VCotSKtjiUpCPnfEPL2p consumed 102796 of 256000 compute units
```
Hi. Beginner & Scope question: I understand currently Metaplex is de facto standard for NFT. However, Solang would enable us to use ERC721, OpenZeppelin contracts etc for NFT. Is there an emerging trend - have marketplaces announced any desire to handle Solang ERC721 NFTs? Or is Solang a niche "because we can" thing?
The api of sendAndConfirmTransaction and sendTransaction Methods are not working
I have been on this for months
What is happening
https://stackoverflow.com/questions/69387462/unexpected-type-use-uint8array-using-tweetnacl-sigining-solana-transaction

I am glad I am not the only one going through this challenge, and Solana's tech team has never provided a solution to this problem. It appears the error is from the API and they can't resolve the problem.
This is what happens in Rust:
```rust
    /// Create a `ComputeBudgetInstruction::RequestUnits` `Instruction`
    pub fn request_units(units: u32) -> Instruction {
        Instruction::new_with_borsh(id(), &ComputeBudgetInstruction::RequestUnits(units), vec![])
    }
```
So you need to ***borsh*** serialize a 'u8' with value of 0 and a 'u32' with value of `units` (in your case you are asking 250000)
tx getting rejected due to wrong ix data serialization - in other words this is wrong:
```js
const data = Buffer.from(toBN(256000).toArray("le", 4));
```

any tips for how to figure out correct serialization js side?
Ok, you can prove it on local as I noted
1.9.6
Also, what version of Solana do you have on your machine?
On your local start `solana-test-validator` then in another terminal `solana logs`, then submit your transaction to include the Budget increase as well as two other instructions so you can monitor their consumption.
is there a way to find out if the ix was successful except for exhausting 200k of compute?

eg here's one on mainnet I just did - https://solscan.io/tx/21PyuE5U1TUojAtbzF8md2VR5mnQWCDgMV4YFjZyVpdwrdLESiLCHEF6giZv5ruNQKytTyJA6dWTWJ8oMvREzd12

but I've also had confirmed txs on testnet/devnet, obv with no effect
want to get lives sales of nft data
hi
yes
afaik correct
After I set the authority of a mint account to null (and therefore fixate the total supply) there is no way to mint more tokens, right?
Try it on `solana-test-validator`
I seeeeeee

does this look right though, js side?
```js
    const data = Buffer.from(toBN(256000).toArray("le", 4));

    const additionalComputeIx = new TransactionInstruction({
      keys: [],
      programId: new PublicKey("ComputeBudget111111111111111111111111111111"),
      data,
    });
    const tx = new TransactionEnvelope(mt.sdk.provider, [additionalComputeIx]);
    const sig = await tx.confirm();
```

worried if I'm serializing data correctly, probably not
It's not enabled in testnet, devnet or mainnet-beta yet:
5ekBxc8itEnPv4NzGJtr8BVVQLNMQuLMNQQj7pHoLNZ9 | inactive                    | transaction wide compute cap
I am using solana wallet adapters (phantom and sollet) for transfer custom spl tokens. I constructed token instruction and transaction and passed to the adapters signTransaction function Sollet web adapter is working well displayed all transaction data correct but Phantom wallet not displaying Amount value and wallet said "transaction may fail to confirm". How to solve this problem?
i want to get live nft sales data
hi
hmm tbh I don't think this is working. The tx goes through but I'm still hitting 200k compute wall on testnet

🤔 Any suggestions?
Hello everyone!
Can somebody give me example of working FT token smart contract? I tried to use default Solana example from here:
https://github.com/solana-labs/example-token/tree/master
but no luck. Version 1.1 doesn't compile at all, but with `master` branch of v1.0 no luck either and here is why.

Since contract should only compile with `npm`, I cannot complete `npm install` for modules. Firstly it forced me to downgrade `node` version to 11.X (I picked the latest one for this `v11.15.0`) because of inability to run some `token` module on higher version core.
But I still got this error:
```
    Updating crates.io index
    Updating git repository `https://github.com/solana-labs/solana`
error: failed to get `solana-sdk-bpf-test` as a dependency of package `solana-bpf-token v0.1.0 (/home/lain/git/solana-ft-example/src/program)`

Caused by:
  failed to load source for dependency `solana-sdk-bpf-test`

Caused by:
  Unable to update /home/lain/git/solana-ft-example/node_modules/@solana/web3.js/bpf-sdk/rust/test

Caused by:
  failed to read `/home/lain/git/solana-ft-example/node_modules/@solana/web3.js/bpf-sdk/rust/test/Cargo.toml`

Caused by:
  No such file or directory (os error 2)

```

So can somebody give any reference for working Solana FT or somehow solve this issue?
ok here's my hackery attempt reverse-enged from rust docs:
```js
    const data = Buffer.from(toBN(256000).toArray("le", 4));

    const additionalComputeIx = new TransactionInstruction({
      keys: [],
      programId: new PublicKey("ComputeBudget111111111111111111111111111111"),
      data,
    });
    const tx = new TransactionEnvelope(mt.sdk.provider, [additionalComputeIx]);
    const sig = await tx.confirm();
```

if anyone knows a better way - pls share
how do I request addition compute in JS?

there is `ComputeBudgetInstruction::request_units(400_000u32),` in rust, but I couldn't find anythign similar in JS lib (maybe I missed)
OK
Exactly, then my example could work as long as I could change data of this trusted account
Programs can read any account, just like a client can, they don't have to own it to read it. They have to own it to write/update it
So it means programs can not read accounts data they don't "own" ?
ahhaha
god
pda.rs
pda,rs
pda.ts
hm check the github repo,usually they named the file pda,rs
Sure, but you can not get AccountInfo, which holds the data, within a program. When you submit a transaction, the pubkey you send is resolved to AccountInfo and that is passed to the entry point of the onchain program. Whether it is read-only or read/write
so there is trust relation to this particular account
yes, but it only needs to read it - not write
You'd still need to include the pubkey of the account that holds the list so the program has access to that accounts data state
Ok
I see, thank you!
I would like to ask if I could reverse a PDA address to understand what input was it with?
IDL is like ABI in ethereum
if programs are created using anchor
there is an IDL
I will give you example what I want to achieve and maybe you will show me right way to do it. I wanted to have dynamic way of defining Oracle pubkeys. I wanted to hardcode in program account address which would hold this list. I assumed that if I have account to which I have private keys & I don't assign it to program ... I would simply be able to modify it's "data" - so oracle list. Now the only way I see is to maintain this list through my program ... which ends up being the same but with more complex program.
Tokens in general
If you know the program you can check on open source repositories, like github, but Solana compiles source code for programs to BPF and there is no reverse available
Metaplex is for nft's . For spl ?
hi, may I know how do I learn what parameters I need to interact with a contract? Is there a contract source code I can read like ethereum? new to solana and would like to understand more about the smart contracts. Thank you
ok thanks for the answer <@!814228493302497301> 💚
Check in Metaplex, they have their own discord server
hm thats make sense, 
btw im using metaplex program, and other solana program, not my own programs lol
If you have to 'decompress it' in your program you will consume many many many CU without even hitting your program core logic
Means like IDO type program ?
compressor*
Yet hundreds of programmers have figured it out to work with as is. You can do it... I believe in you 🙂
is there something like a compresoor
really sad..
Until, and if, they increase the Tx max size (currently 1232), yes.... break it up
do we need to run create account instruction for PDA?
im sending like 10 instruction
should i divide it to two transactrion
whats the solution for "transaction too large" on serializing
https://spl.solana.com/token
Which gitHub program can help me for creating program like token deposit to perticular address ?
Data defined by the program that owns it, arbitrary isn't the right way to look at it
My understanding was that account data is arbitrary data stored on chain I am paying for (rent). It does not affect anything on chain (except programs which would want to read data out of this particular account).
Right, so you sign a transaction that may modify an accounts data and it gets validated and recorded on the blockchain. What you are suggesting is that you circumvent the core of what blockchain is
Only a hacker desires that
Can you elaborate? I have private keys to this account + it's not assigned to a program.
Security, if any client could update account data it would be catastrophic
<@556129051161395204>
Any reason why it is designed like that ? I am able to `allocate` state using web3.js but no way to write there
Only programs can change the content of the account state data. You can not change it from a client app/frontend
and/or is there an easy way to run a selfhosted rpc node?
Which instruction out of web3.js should I use to simply change account state (data) ? Can I do it without assigning it to the program ?
I recently get 429s from mainet, but I'm really far from the 40 request/10s (but I probably hit the 4req/sec in a burst) how that works exactly?
Which gitHub program can help me for creating program like token deposit to perticular address ?
Hi everyone,

I am new to the channel so hopefully I am placing this question on the right place.

I would like to implement a reflection token in Solana. This is, for example, to use a percentage of each transaction (tax) to reward token holders.

I was wondering if anyone had done something similar and could provide some recommendations/guidance.

I guess this requires a custom program to be deployed to the chain that implements the taxation logic??

Thanks in advance and regards
hi, is there an ETA for 1.9? specifically interested in account resizing
ok... just throwing more sol into the wallet does it. It seems you need quite a bit more than the deployment. Eg I only needed 6 sol for deployment, but only when I funded with 11 it went through

¯\_(ツ)_/¯
having trouble with deployments again 😦

this time to testnet:

Try with solana 1.9.6 - tx simply stuck at this:
```
Deploying program "transmuter"...
Program path: /Users/ilmoi/Dropbox/crypto_bc/gemworks/transmuter/target/deploy/transmuter.so...
```
then crashes:
```
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```

Try with solana 1.8.14 - tx goes through (you see small txs building up), but immediately after I get a failure:
```
Error: Deploying program failed: Error processing Instruction 1: custom program error: 0x1
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
```

Using anchor 0.19

Any advice 🙏
Hey all, I see here, that I can create a custom solana runtime Error, But I am curious how it is done. Can't figure it out just by looking at the code:
so i have recently created my token (CFT) but im looking to do a few things that i cant seem to find info on,  create a new secure wallet for it soft wallet not a web wallet, create a staking pool for it, and i dont know if this is necessary but it seems that way ;a smart contract as im guessing to have a staking pool i would need a smart contract
Thanks, http worked.
hey guys just wondering, where is the best place to start wrt listening to all account state changes per block?
Hi. Is it possible to use spl-memo(Memo Program v2) in an on-chain program? If possible, can i find such an example?
There's no TLS on localhost by default.  Unless you're running a proxy and know better, user http
new problem with the hello world example... I'm getting this error ```Error: RPC request error: cluster version query failed: error sending request for url (https://localhost:8899/): error trying to connect: error:0A00010B:SSL routines:ssl3_get_record:wrong version number:ssl/record/ssl3_record.c:355:``` when I try to deploy helloworld.so to my local cluster. My local cluster is running solana-cli 1.9.6, and the helloworld example looks like it's on 1.8.14, but I don't know where to change this to 1.9.6... should I just install 1.8.14 on my local cluster for simplicity?
Hi, am running an rpc node but noticed it's not listening to tcp/8900 for the websocket connection.  Anyone run into this before? From the vaildator log and netstat it is listening to udp/8000-8009 and tcp/8899, and the log states that tcp/8900 is reachable.  This is the command I used to start it:
solana-validator --ledger ledger --identity validator-keypair.json --entrypoint entrypoint2.devnet.solana.com:8001 --expected-genesis-hash EtWTRABZaYq6iMfeYKouRu166VU2xqa1wcaWoxPkrZBG --rpc-port 8899 --no-voting --enable-rpc-transaction-history --limit-ledger-size --private-rpc --only-known-rpc --known-validator dv1ZAGvdsz5hHLwWXsVnM94hWf1pjbKVau1QVkaMJ92     --known-validator dv2eQHeP4RFrJZ6UeiZWoc3XTtmtZCUKxxCApCDcRNV     --known-validator dv4ACNkpYPcE3aKmYDqZm9G5EB3J4MRoeE7WNDRBVJB     --known-validator dv3qDFk1DTF36Z62bNvrCXe9sKATA6xvVy6A798xxAS &
hello is there any method to convert a BN(u256) to a publicKey? the schema uses u256 type for deserialising a pubkey and i'm lost at how to convert it to publicKey or use the toBase58() function
HI, the router code for saber farm on the SPL.... on what cluster are they deployed ?
Hi I'm new to Solana, but have 6 moth experience with ETH (Solidity). Do we have a framework facilitating local development in Solana? I mean env like Truffle and Co, to develop, test, deploy, debug locally without accessing public nets. Node.js is not acceptable. I'd like to develop and test in Rust/C. I'm not a Javascript/*.js developer. When I was working on ERC20 (ETH) I had to use (all days)  Nodejs in order to locally interact with smart contracts and write tests. I hope this is not the case with Solana.
Hi. Is it possible to use spl_memo in an on-chain program? If possible, can i find such an example?
hmm sounds like some backend would be needed? Unless you could keep state of the transactions in some program
Any suggestions on subscribing to a list of NFTs so I know when they change holders?
How can we get the technical support from Solana? Basicaly we want to have a discussion where we want to discuss if Solana fits to our needs and we want to clarify on few questions. How can I setup a call with Solana?
yeah at this point im just doing everything on wsl
super frustrating
they recommend using wsl but they dont say its required
They really need to update the docs to say it doesnt work for windows
thx
yeah im actually running wsl for local solana cluster alr i just autopiloted cmd from vs code haha
takes 15 minutes around to get it running
https://docs.microsoft.com/en-us/windows/wsl/install
Heres a resource on how to get started with wsl
checkout the solana cookbook
doesnt work on windows
Hi, I'm new to Solana. I have just gone through the concepts of Solana. Can someone guide me with the HANDS-ON resources of Solana?
run that shit in wsl
Hey, I'm trying to run the solana docs example-helloword program on a local cluster right now and it's telling me that the url for bpf-tools v1.21 doesn't exist (I checked the github and they've removed the windows tar from v1.21, but it's back in v1.22) Can someone tell me where to set the version to 1.22? I don't see anything in the code to set it.
I'm very interested in what is being returned when I pass the mint address into `getConfirmedSignaturesForAddress2`. https://solscan.io/tx/3MVLR8fb4L3houHsX3m4R7yRHs8yJGS2943KLSSDv1KPtuyvN3UmhGbVKyvqQeZqz4zD2JnVyfe38NVw4dinfwjF is almost identical to the transaction that is missing (same source and destination), but is returned from `getConfirmedSignaturesForAddress2(mint)` and not from `getConfirmedSignaturesForAddress2(currentAta)`
Interesting! Okay running `getConfirmedSignaturesForAddress2` on the current ATA which holds the token DOES include that transaction.
I want to get the latest time this NFT was transferred. So you're suggesting I should use the ATA instead of the token itself?
Hey getLatestBlockhash rpc is not working 
```{
    "jsonrpc": "2.0",
    "error": {
        "code": -32601,
        "message": "Method not found"
    },
    "id": 1
}```
my request object
```{
    "id": 1,
    "jsonrpc": "2.0",
    "method": "getLatestBlockhash",
    "params": [
        {
            "commitment": "processed"
        }
    ]
}```
it is more likely u wan the address of the token account and not the actual token address?  or what are you trying to do? 

this appears to be the token account address? 4Nd1FFgEzw96H9RdfgjRg1gGmLbUq3UfqpdoxcPsdgtg

and that is what holds the transaciton in history,
figment and some others have some free dev ones I believe, genesysgo usually yields good results:
https://discord.gg/K5HC6W7A

looks at their rpc channels for lists of available servers, and dev ones
I'd go with lisenmayben's idea next.  Could be getting rate-limited or something
🤔 that's the same version as devnet
<@!906609265370886184> its no longer a node module, so you'll have to import this locally rather than using @solana/spl-token you'll have to put the directory into your own packages folder or in your src code folder so an import would be like ```
import { createMint, getOrCreateAssociatedTokenAccount, mintTo, transfer } from '../src';```
I have not, was just using the "default" one (https://api.devnet.solana.com) maybe theres another free one I can try?
It also appears that Solana Explorer does not know about the transaction, although their "transfers" tab is throwing `429` errors for some reason
have you tried a different RPC node?  if the transaction does not confirm within the time frame you can get 'errors' like that where the response does not come back in time, or takes longer than 30 seconds to confirm.
Hello, I was hoping someone could help me understand why a transaction (which shows up on Solscan under the "Transfers" tab, and which Solscan says is "finalized") is not coming back from `getConfirmedSignaturesForAddress2()` using wb3js.

This is the token: https://solscan.io/token/Cv6JghycBxxryN7AUpFMj4GmskmLKAJKiWYYH7CAAnU4
This is the transaction: https://solscan.io/tx/ZND65ododjcGAT97R87BLFuqJzjUDiWCJuVZXdPFPirTaAFj4osxfPWqhQrqbzkR5c3EqXz5nxUDtJvsg9pBnZv
And this is the output of `getConfirmedSignaturesForAddress2()`:
solana-cli 1.8.12 (src:fee86726; feat:1006352700)
What's the version of the CLI tools you've been using?  That'll get me the same answer
it looks like `invoke_units` are the amount of compute units that it costs you to execute a CPI, but there is no additional "cost" in the monetary sense
this might be helpful: https://docs.solana.com/developing/programming-model/runtime#compute-budget
haven't tried testnet, just been doing localhost, and now trying out devnet
1.32.0
No
If you use a cross program instruction (CPI) does running a program cost more ?
And does your code work on testnet?
What version is your web3.js?
```
Transaction was not confirmed in 30.00 seconds. It is unknown if it succeeded or failed. Check signature 4bf5mAavk55v7ZYHJvfzXXRtXmajmKuB6ZzUhq6EnwkLF6xUPZ9uV6rFdqXVMgb7AbcyqeYf6TAzCv67FUHZSwX2 using the Solana Explorer or CLI tools.
```
no, the transaction actually succeeds, and other state that I am subscribed to over RPC updates quickly, just seems to be that `confirmTransaction` function that is throwing a timeout error
Are you out of funds to pay the fee?
it was working normally against test validator 😦
i have this in my code:
```
let ix = await PlaceProgram.setPixel(pixelParams);
let tx = new Transaction().add(ix);
let sig = await sendTransaction(tx, connection);
let result = await connection.confirmTransaction(sig, "confirmed");
```
result keeps hitting a 30 second timeout, unclear why, maybe something somewhere else in my code.
Also worth noting that the TX succeeds, and other state in my dapp that is updated via rpc subscriptions works as expected. Seems to just be this `confirmTransaction` funciton that is behaving strangely
I just airdropped to myself and it confirmed immediately
Is it normal that tx's take over 30 seconds to confirm on devnet?
Do you know who can help me?
I have no interest in the concept
yeah help and give me a hint for me to fine proper method
Sounds like you need to keep thinking
I thought you had the idea?
but without these how can I stake user's nft on solana?
I no need validator and consensus
you are right
solana provide any api for this?
but I have no idea for staking user's nft
sure I can pay users my own coin made by spl token
how can I skake user's nft on solana?
No. you're the idea guy
Can you please explain rough structure and algorithm for my staking?
Guy who links to a file who's type has one of the most exploited parsers in history
Hey – would someone here be able to help us validate the attached architecture of our player-versus-player game’s smart contract?

A quick summary of how the game works:
1. Two players compete against each other
2. They both put in 1 SOL each into our escrow to begin the game
3. After the game is done, here’s how the funds are distributed:
       a. The winners wins 1.985 SOL
       b. Loser walks away with 0 SOL (loses their 1 SOL)
       c. We capture a fee of 0.015 SOL which is sent to a fee wallet

We are new to Solana smart contract development (using Anchor), so just wanted to make sure we were going in the right direction.

Could someone here help review the attached architecture and confirm we’re going in the right direction? Thank you!!
right
yeah
You're staking for different reasons
oh good
No you don't need a validator or consensus for what you've described
you mean I have to make validator and consensus logic?
Probably design it from scratch
then how can i make a staking system for nft and coin on solana?
No you don't want solana's consensus staking. It's not extensible to use other assets
or solana provide any api for this?
Do I have to use solana's own staking platform and validator?
I just want to know algorithm structure for this
or start point
I have to use spl cli for staking pool?
but I can't find proper solution
I gonna make a staking system which users can stake their nft into and be paid from by my own coin
my pain drove me to avoid sleeping and be in this magic house
but I faced very difficult problem to me
I am now digging deep into solana
Hello Dear Guru
yes
from git vvvvvvvv
$ cd token/program
$ cargo build-bpf
To build solana programs do you have to use
cargo build-bpf 

or can I just do 
cargo build
I will look ! Thx
havent done this one but looks interesting
https://buildspace.so/learn-solana
With build/deploy smart contracts
Like a dapp full tutorial
Hi there ! Did someone know a good tutorial React/Next - Rust - NodeJS with web3 ?
Hello everyone,
I have a very big problem: i minted with an address and I sent the information on the Solana Token Registry with the same address but the first letter is a capital letter.
Hi, what's a good way to validate a past transaction (a few block before) from an on-chain program?
there is a better Anchor support in their channel https://discord.gg/VDdcv8Rw
you also need a token account to hold the tokens which you mint.
check `spl-token mint --help`
and then the token?
can i just ```$ spl-token mint```
getting this error when trying to build an anchor project on a ubuntu dist
so is it fine for me to create a account and then the employer gives it mint authority but then how would i add supply? sorry if im just repeating.
sure. if you have the mint authority's key. you can transfer the mint auth to another one.
for mint more fungible token, I think it only takes
1. `fee` 
I think you use your wallet as a fee payer and a mint authority. it will be 0.000005 SOL atm
2. `rent` 
if you don't have a token account to hold these minted token, you will need init a token account to hold it. it will charge you 0.00203928 SOL.
and I want to know if its cheaper just through the cmd
SOLminter charges too much sol for the supply mint
my main objextive is to edit its supply, 
is it possible for me to create a new wallet in cmd and then give it mint authority?
it is an action which will store the private key json file in your local.
If you want to use cmd, you need a private key file to sign tx.
I think you can follow
https://docs.solana.com/cli/conventions
https://spl.solana.com/token#command-line-utility
to know how it works
you can check this https://www.typescriptlang.org/tsconfig#strictNullChecks
I think you can turn off the strict check for testing
i do this once given mint authority?
you will need the authority's private key. I'm not sure where you store it.
if you use phantom wallet, you can do `solana-keygen recover 'prompt:?key=0/0' -o phantom.json`
to recover the first address's private key to your local.
how would i do that
am guessing i haev to log in
https://spl.solana.com/associated-token-account
if you want to hold a mint (token), you need a token account
different mints need different token accounts to hold.
maybe take a look here https://solanacookbook.com/guides/account-maps.html#account-maps
https://github.com/hyperledger-labs/solang/issues/668
Hi Team, I raised a issue on github, can some one help me. ?
did you pass any signers when you send the tx?
if you have the mint authority, you can mint more anywhere.
check https://spl.solana.com/token#command-line-utility
and use `spl-token mint --help`
Thank you for helping. I cloned the repo and followed the instructions for "Build from Source" then created a file in the same directory  but Im still getting this error, it is not recognizing `@solana/spl-token`
anyone else ever run into this error? on `sendAndConfirmTransaction()`?
Hello Friends, Have anyone used solang + docker to setup development environment for solidity?
amazing 😄
I have a SPL token created in SOLminter and want to add more supply through teh cmd, is this possible
I am looking to store some data that is one-to-many with a PDA. I have seen examples of folks serializing the data as a `Vec` within the PDA itself (and then setting a generous upper bound on the size), but have also seen more complicated setups that seem to use additional PDAs (one for each item) with `index` values as seeds. This requires maintaining a count, checking overlap etc. and seems harder to maintain. Is it fair to say that these are the two main options, and if your data can grow without bound you must use the more complicated second option?
otherwise you will miss out on tons of functions
dont use npm just download it locally
https://github.com/solana-labs/solana-program-library/tree/master/token
you can find it here
Alot of cookbook stuff is out of date as well heads up, some of the token stuff you're better off downloading the source from the token github itself
something like `element as ParsedAccountData = whatever`
I've also seen that error
you need to cast it to parsedaccountdata
How to run TS code snippets from Solana cookbook. For example, take a look at the first snippet in this link: https://solanacookbook.com/guides/get-program-accounts.html#filters I copied the code, created a file "file.ts" then I ran it `ts-node file.ts` But im getting this error. Is there is a bug in the code? Or am I running it in a wrong way?
i looked at https://solang.readthedocs.io/en/latest/ this is extensive. I wanted to check with you all, if you have a  blog which a starter can follow.
Hello Guys, This is Harish, I am a solidity developer. I am new to Solana chain, I was looking for resources to develop in Solidity lang and deploy it on Solana chain. can anyonne point me in the direction of setting up the environment , write a hello world contract and deploy to solana test chain ??
Why is an ata required, as well?
I want to confirm something, are ATA's required to mint tokens to users? For every token that exists on Solana is there a mint and then its ata?
I believe that's already released and activated:
```
$ solana feature status DwScAzPUjuv65TMbDnFY7AgwmotzWy3xpEJMXM3hZFaB -um
DwScAzPUjuv65TMbDnFY7AgwmotzWy3xpEJMXM3hZFaB | active since slot 117936008 | enable sol_{set,get}_return_data syscall
```
I think it was in v1.8.12
Sorry, was just posting it where I was told and forgot to delete the original. Done
nocrosspostn - https://discord.com/channels/428295358100013066/428295358100013069/943293101450088499
So, I have a list of 4,000 NFTs and their mint ids. Does anyone know of a good method/api that will allow me to get a trigger when one of those NFT's changes holder on the chain
What release can we expect https://github.com/solana-labs/solana/pull/19548 ?
Both are defined
one of your keys might be undefined
Could someone point me in the right direction?
I'm getting this error on `sendAndConfirmTransaction()`. Passing in the signers as 
```const signers = [
      {
        publicKey: account.publicKey,
        secretKey: account.secretKey,
      },
    ];
```
hey folks, is it possible to edit the token address of an entry in the token-list? or am i going to have to create a new entry?
how to get string signature from Transaction object javascript ?
Here it is
just for my understanding, I started my program from a main() so I don't pass anything to it while I invoke 'cargo run', I could be able to fetch the balance correctly for a payer account that I had creatd in CLI (I men the one ~/.config/solana/id.json ), so then I thought maybe in the same way I can be able to fetch the balance of a token account.
for some reason this doesnt work?
```
    let init_acc_ix = web3.SystemProgram.createAccount({
        programId: COUNTER_PROGRAM_ID, // this addr can write the account
        space: COUNTER_LEN, 
        lamports: await connection.getMinimumBalanceForRentExemption(
            COUNTER_LEN
        ),
        fromPubkey: wallet.publicKey, 
        newAccountPubkey: pda,  // ! 
    });
```
do u know how to do it in JS?
thanks, the examples in rust
https://solanacookbook.com/references/accounts.html#create-a-pda
do u have any docs on how to create a PDA account?
You have to pass all accounts via the instruction to the program. You cannot retrieve accounts during the program runtime.
well, in this code you can see I haven't written the instructions yet,  since I have created the token, it's account in command line I just wanted to chck the balance via the rust program. So in my program I am just hard coding the token id. e.g I mint 100 token then I could see that by command line. ~/Projects>spl-token balance FSzFu9qXinkrCtfagmFhePYyGiCQGV9ebGhCxs929YHQ
100  but when I run this rust program then I see below which is different.
Wait, are you writing the instructions in Rust? Rust client for the Rust program?
So you mean, I should create an instruction and then fetch the account from the local clusture between Ln84 & Ln85 here.
When you make the instruction, you should be passing the publicKey as part of the instruction. Your program will get the account from the key
well, in the end I have just a token id i.e 5b8GDMKZCVU91mayiv6NicDkPpkcynr8rY7GXS4LiNhv , my main challenge that how can I convert it to account.
<@489206164270350337> thanks very much mate, I don't know how I haven't landed there yet. That looks like it will more than do. Thanks again
You should be passing that as an account to your program
Actually my problem is , I have the token id in base58 encoded, I have converted that to Pubkey type. Now looking for a way to convert Pubkey to AccountInfo type. let sender_token = Pubkey::from_str(sender_token_id).unwrap();
https://solanacookbook.com/references/nfts.html#get-nft-metadata
Hey guys, I've been searching for a way to pull nft attribute data with the mint address. I've found how to use magiceden.io API but the collection needs to be on magicedin to use this. Is there rpc method I can use to retrieve the attribute data?
More than happy to help 👍
PS thanks for all the help very glad this channel exists lol
I think they're based on the order passed in the transaction.
follow up- is the ordering of accounts deterministic?
Can we DM?
What exactly are you looking for? Related specifically to the hackathon?
Are there legal infra resource for a project based in Canada?
Ok, thanks.
Not sure on ledger support for WSL
Anyone know how to get ledger to work with wsl? I've installed Linux Foundation hub and usbipd.  I can pass the usb to the wsl but, I still can not see the device when calling through, "solana-keygen pubkey usb://ledger".
Yeah I think that doc is from before we had so much data in `{pre,post}TokenBalance` fields
Thank you
Okay cool ill switch over
awesome thank you!
Usually the general recommendation for those using windows is to use WSL
you could try `-r` to reset the local node
any recommendations?
Hey guys im getting this error when launching solana-test-validator:
You should be able to deserialize to the token account and do `account.amount` like it does here https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L592
That's how the explorer maps it
I believe it is based on the ordering of accounts
Do you know offhand if the ordering for the meta field is deterministic? Like based on order of instructions or something?
np 🙂
Apologies, no obnoxiousness intended 🤝
a bump after 24 hours is ok, sooner is just obnoxious
Thanks!
Yeah, it looks like the pre/postTokenBalance info was tagged on, instead of replacing the old approach. Will rewrite.
<@!814228493302497301> , <@!489206164270350337> , 1st of all I thank you for your help, at least I can continue some testing now. however please check if you can help on this "I have created a token account successfully in CLI, wanted to use that token id in rust and get the balance in the program. On command line I am able to mint, then get balance but I am struggling in rust program. Is there any sample rust program that I can follow.  Here is my programm snippet.
Sure! It's just for tests
I mean, you probably should be using optimistic confirmation. SingleGossip probably won't be very safe. Maybe for tests, but not for prod
When you reset, you start a new genesis so that is expected. You should also consider getting up to 1.9.6 unless you need to be at 1.9.4
Guys, I figured out what the problem is: We shouldn't use default connection commitment 🤦‍♂️ 
The solution would be: `new Connection(url, 'singleGossip')`
I am very poor in this area but what I see this could have initialied the local ledger. after reset I see the slot nr.s are restarted from 0.  BTW it was also damn slow during startup but now it just fast like I started 1st time.  So I think it's just like cleaning the temp directory and availing some space.
Well, without them having the log running when the issue first started (you'd have to look for it) it's hard to tell what exactly the problem was. In early days I had accidentally started multiple instances and saw some weird errors. It should be ok to run without reset but something puked on the ledger
Some edge condition?
Why did this work for them?
Yes
I already tried to remove ledger folder before launch. I suppose it has the same effect?
WOW, it really works. Thank you!!
I would check if other people are having similar issues in the anchor discord. Not sure of everything running under the hood https://discord.gg/97GJS2Vs
It doesn't sound like a `solana-test-validator` issue if you're hitting devnet
<@!913104767880953887>  Another thing to try, unless your saving the ledger state is stop whatever you have running and  `solana-test-validator --reset`  which will create a new genesis
Unfortunately airdrop operation doesn't work, it gives the same error. Just wanted to update you. Let me reset the RPC URL and try something here & there but to be honest I don't understand why all of suddent it stopped working. I hope the solana developers also check this community but it would be easier if we could directly report this to solana
No, just one
So you have more than 1 instance of `solana-test-validator` in use. Do `pgrep solana-test-validator`
I think the issue is tx finalization
for me, it takes 2 minutes to start up
on devnet tho
yeah actually same, my `anchor test` has been very slow too
`anchor test` starts `solana-test-validator`  in the background (once) and then run nodejs tests (using normal rpc). I have just about ~20 tests and it takes ~ 7 min to run them all...
What's going on in `anchor test` under the hood? The `solana-test-validator` usually starts up super quick
Hey! Is it possible to speedup solana-test-validator somehow? `anchor test` is very slow(
That's a good question.  <@!585868308419444749> or <@!213083996689661953>, is this just a bug in the exchange integration documentation?
Hi everyone- I'm looking at this doc -> https://docs.solana.com/integrations/exchange#depositing which recommends looking at instructions / inner instructions to detect deposits. Is this necessary if the transaction.meta field has pre/post token balances? What's the benefit of scanning the instructions if the node already collects that info?
You can either get it in your dApp before sending, or https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
Cool, how can i get signedTransaction string from tx hash? I was using getRawTransaction method in evm.
Try `solana airdrop 1` for some sanity
Everything looks right. And you get the connectivity/not enough funds when creating a token?
For information on why it happens and how to retry: https://solanacookbook.com/guides/retrying-transactions.html

How can i retry/rebroadcast my transaction.
Hi guys, sometimes my dapp returns this error; Transaction was not confirmed in 30.00 seconds. It is unknown if it succeeded or failed. Check signature <SIGNATURE> using the Solana Explorer or CLI tools.
Hmm, okay. Worth checking it out I guess. Thank you!
Yes, I checked that as well. It seems the same RPC url is being used i.e RPC URL: http://127.0.0.1:8899 , also the same id.json file is used. Could it be the case that the processed slots are more than the confirmed slots.
Yeah, sounds about right. Well worth it for some people
I just checked the site, it seems like the system requirements are *huge* compared to what you get.. 16-32 cores, 256gb ram?
`solana config get` and verify it is using the right rpc and keypair
Lower latency is a big one. No rate limits as well
Got it thanks!
Is there any advantage with setting up your own solana rpc endpoint?
Yes, I checked the balance of ~/.config/solana/id.json
Do you have funds in the wallet?
hi, I am trying to create token on CLI  where local test validator is running in background  but it gives below error. It usually works but all of sudden it stopped creating token. Maybe someone has faced this issue before,  please help.... "Unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds"
Sounds like bugs 🙂
thx guys
apparently it checks if I have enough to deploy the whole thing, but only uses peanuts for upgrading
ok adding a few more sol solved it
I'm only upgrading, so should be peanuts
have 5 sol in wallet
Did you run out of SOL?
trying to deploy a program to mainnnet and stuck at this:
```
[0/1] Finalizing transaction 5oqyMR8GU1Xsgy5YtawPEBt1w9XSCYR3x5mHzc4nDeCPuYdMR4wyz7qVB2tfwVm
```

tried multiple RPC endpoints, private and public - same result
tried deploying from 1.8.14 and 1.9.2 - same result
deployment to testnet/devnet worked without issues

any advice?
genesysgo has a full rpc for free iirc
Sounds like you hit a bit too much and got banned potentially. Recommend getting a separate rpc like quicknode, genesysgo, etc
ah, the nft thing
profile picture
what is pfp?
That user is using a pfp that will get banned as well. Generally people use the pfp to scamming
Basically just trying to transfer sol
```
const transaction = new web3.Transaction().add(
      web3.SystemProgram.transfer({
          fromPubkey: feePayer.publicKey,
          toPubkey: nftCreatorWallet.publicKey,
          lamports: web3.LAMPORTS_PER_SOL * 0.04,
      })
  );

   This is where the error happens.. 
  // Sign transaction, broadcast, and confirm
  const signature = await web3.sendAndConfirmTransaction(
      connection,
      transaction,
      [feePayer]
  );
```
Then we get this error
```
Error: Unexpected message handler failure: failed to get recent blockhash: Error: 403 Forbidden:  
{
    "jsonrpc": "2.0",
    "error": {
        "code": 403,
        "message": "Your IP or provider is banned."
    },
    "id": "3220d783-dca7-49d5-8a82-b66c169a6e6d"
}
```
great, seems to work now
BayramKL#7728
one sec
Give me the user
it didn't work
he tried twice now changing his username
the developer I am working with also gets the error message ""You have been kicked for using a duplicate username on the server, please change it before joinning again""
Post gists if possible
You want me to post the code?
Generally questions should be asked here because a lot of people use the search function to find their answers
haha, now everyone wants to dm you
He is banned from this discord for some reason...
Can my friend dm u?
Go ahead and post here. Your question could help a bunch of other people
Especially if you are hitting the public rpcs
I have a few more questions about that, would you mind if I dm you?
Hmm yeah, maybe..
May have been hitting a rate limit
But it seems to be working again now..
I can't exactly check that as it's not saying what line is throwing the error. But the function retrieves info about a transaction, sends transactions and retrieves recentblockhashes
What endpoint are you hitting?
Reading the previous message, it seems like I'm not the only one. Something cluster-wide going wrong?
Anyone any idea why my NodeJS program executed on Lambda got a 403 with the message that my ip was banned? Any clue on how I can reliably catch this error and retry executing my function?
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L996 for some examples
No, you can test them like all of the solana-program-library tests are run
if I don't wanna use Anchor to write my on-chain programs, and only use rust, do I still need to use node.js to test my porgrams?
wallet-adapter is what most people use. If not, you can look at phantom docs and how the adapter works specifically for phantom https://github.com/solana-labs/wallet-adapter/blob/master/packages/wallets/phantom/src/adapter.ts
Going to need a bit more info on what you're hitting
Any idea why we are getting this error from our Amazon SQS - this is using devnet
```
Error: Unexpected message handler failure: failed to get recent blockhash: Error: 403 Forbidden: {"jsonrpc":"2.0","error":{"code": 403, "message":"Your IP or provider is banned."}, "id": "4d0846a0-3770-427e-8cbf-d23d4b6c8139" }
```
im not using that on normal browser. Instead this:const getProvider = () => {
  if ("solana" in window) {
    const provider = window.solana;
    if (provider.isPhantom) {
      return provider;
    }
  }
  window.open("https://phantom.app/", "_blank");
};
https://github.com/solana-labs/wallet-adapter wallet-adapter handles this pretty nicely
Same way you would detect phantom wallet elsewhere
how can i detect the phantom wallet when being used on ios browser within the phantom app
It depends per account, what the account is using to structure the data, and how it is serialized
not exactly serum , just took it as example , so it depends for the market provider ?
If you want serum's account structure, I'd advise going to either their docs or discord
This is a guide on how to follow this information. Not necessarily serum https://solanacookbook.com/guides/serialization.html
for example i'm listing to a serum market , how to decode it step by step is there any guide ?
It depends on what is in that account. This changes per program
hey guys can someone explain how  to decode AccountInfo<Buffer> ?
There's a visual of an account on this page of token accounts https://solanacookbook.com/guides/get-program-accounts.html#datasize
so I can see it visually
on solscan
do you have an example on what data stored in account?
You can find data in the account, depending on what is stored there
Nice,  missed that one
https://solanacookbook.com/references/keypairs-and-wallets.html#vanity-publickeys for some other examples
Cool thanks
`solana-keygen grind --help`
How do people create customized public key?? 
Like they are able to decide the initial letters of pubkey


///////////////////////////////////////////////////////////////////////////////////////////////

thanks
You'd have to setup a flow that does that. Could be creating a transaction, or give a publicKey and backend sends the spl, etc
Is there any resource which I can look up to airdrop this devnet spl token to user based on click of button on my site in devnet case ?
Make a fake USDC spl token
Yes, that's what most programs do for testing
so I have to create a new token and mint and assume that as USDC and use that ?
Not today
Is there any devnet USDC faucet ?
ok. worked.
Yes, just a regular spl transfer
how can I send my NFT to another wallet?
do I have to register such token to that wallet?
Ask in metaplex discord for NFT help https://discord.gg/pqnszpCB
how do i create a NFT from CLI that automatically transfers a percentage of it‘s value during a sale to my wallet? like they do on opensea, where you can specify a percentage.
Not sure about the tutorial, but these npm issues you are having should be unrelated
It's a starter project
sorry but i was following this tutorial actually i did already install the solana tool set 1.9.6
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291

i'm not sure what i need to do with this "solana-dapp-next", what do u mean by scaffold? Sorry for the noobness
Not sure on this, looks like a npm error. I'd recommend using the next scaffold if possible https://github.com/solana-dev-adv/solana-dapp-next
actually, no.. the react app ran ok for a few seconds, but after a while it errored out byitself, lots of errors but here's the first 2...  (googled them but can't find anything)... any idea what might be wrong?

Compiled with problems:X

ERROR in ./node_modules/@solflare-wallet/sdk/lib/esm/adapters/iframe.js 182:0-35

Module not found: Error: Can't resolve './base' in '/Users/kevin/Desktop/mysolanaapp/app/node_modules/@solflare-wallet/sdk/lib/esm/adapters'


ERROR in ./node_modules/@solflare-wallet/sdk/lib/esm/adapters/web.js 167:0-35

Module not found: Error: Can't resolve './base' in '/Users/kevin/Desktop/mysolanaapp/app/node_modules/@solflare-wallet/sdk/lib/esm/adapters'
i did a npm install stream-browserify and the react app seems to run now, thanks
When you install Rust it sets up the machine arch type (more complex than that but...) 
But Solana programs are BPF so using xargs supports compile to that target
This sounds like an NPM issue. Gotta love package managers. I would google that issue. I also believe this guy ran into it here https://www.youtube.com/watch?v=E1ir2VYnUc8
This is more of a Rust thing afaik. You can read the docs posted in the link
Total noob here, following an introduction tutorial, created a react app on top of anchor.... ran it by running npm start... and seeing this error, can someone please advise what ineed to do?

Compiled with problems:X

ERROR in ./node_modules/cipher-base/index.js 3:16-43

Module not found: Error: Can't resolve 'stream' in '/Users/kevin/Desktop/mysolanaapp/app/node_modules/cipher-base'

BREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default.
This is no longer the case. Verify if you need this module and configure a polyfill for it.

If you want to include a polyfill, you need to:
    - add a fallback 'resolve.fallback: { "stream": require.resolve("stream-browserify") }'
    - install 'stream-browserify'
If you don't want to include a polyfill, you can use an empty module like this:
    resolve.fallback: { "stream": false }
i saw that but i'm still not understanding the contents of the xargo.toml files such as...

`[target.bpfel-unknown-unknown.dependencies.std]
features = []`

and how some projects do not need the file itself, and if solana has removed xargo from some of the commits i've seen?
https://docs.rs/crate/xargo/0.3.7
what's the purpose of the xargo.toml files in some of the solana projects i've seen?
You should follow what <@!489206164270350337> provided 👆
I can do this when I'm at my machine tomorrow, thanks for your help I'll look into your suggestions
Otherwise your quick fix is to check if supposed to be publicKey and not, then set as publicKey
Possibly a bug in how anchor does the autodeserialization. I would check with anchor guys https://discord.gg/97GJS2Vs
Yep
So... borsh? Also paste the pre-deserialized data here
Yeah I'm using anchor
How is the data in the account being serialized? Is there source code available?
Hmm but this deserialization seems to work when not on a front end instance; e.g running a script or something on my machine
That may be something to do with your deserialization though.
It happens whenever we load do something like getProgramAccount and decode the various fields. If an account has a publickey as a field it isn't able to deserialize the information into a Publickey object
Sounds like you should check if publicKey and change to the publicKey object when it isn't. What call is this for? Is it always happening on the call?
So .equals or .tobase58 errors since they don't exist at runtime
An actual publickey instance with all its methods
Can you give an example of your issue/error
Plain object vs what alternative?
When fetching on chain account information on a front end instance, Publickeys are fetched as a plain object but with data that looks right stored. This object is not a Publickey though and is a plain JavaScript object instead; has anyone encountered this issue before and are there any fixes? Occasionally these objects are able to be fetched as Publickeys though so it seems to be inconsistent.
Thanks a bunch!
Yep, that was it
You can probably get a better estimate if you reset and keep your validator running. However, you'll have to redeploy any previously deployed program iirc
Sounds like your local validator is running behind. The time stored in the clock is incremented every block created by a little bit, and is more of an estimate.
Local env on my M1 mac
What env?
Regarding timestamps, I'm using this to produce a current time, but somehow it gives me 1641614182 right now, which is a month in the past. What am I misunderstanding?
```
    let clock = Clock::get().unwrap();
    let current_timestamp = clock.unix_timestamp;
```
Thanks, I'll try that out, and I'm using WalletAdapter so that looks like what I need.
<@!134416332509675520> <@!489206164270350337> thankyou i will look into it 💚
Only the deriving program can sign for a PDA, by using the `invoke_signed` API
https://solanacookbook.com/references/accounts.html#sign-with-a-pda
You can just add instructions to the transaction object like how this does adding a memo instruction https://solanacookbook.com/references/basic-transactions.html#adding-a-memo
how do one sign a PDA as a signer ?
does anyone have an example of sending multiple instructions in a single transaction with Web3.js? I have a multi-step process, and I don't want users to have to approve each step of the way. I've read in the docs it's possible but I haven't found any examples.
https://github.com/solana-labs/wallet-adapter
web3.js doesn't have anything to do with wallets
hmmm I just did web3.js
If you use wallet-adapter, it will pop it up. Password depends on whether or not the user has the setting though
It won't pop up the phantom wallet window to provide my password
That's controlled by the phantom extension and user settings itself. You won't have control over it
It won't do so.  The console error just shows this - {code: 4001, message: 'User rejected the request.'}
Like this

Password for Phantom?
Hey everyone, currently working on a react tsx site and I'm having issues with the phantom wallet popping up to type in my password when I click the 'connect' button.  Any idea what I'd be missing?  It works fine with I manually click on the extension and connect my wallet, but I'd like it to pop up and prompt users for the password
`getSignaturesForAddress` and iterating through it https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
Hello, is there an API to get the number of transactions of a given token
The ideas in the guide should be similar to anchor though, since you should be using the rpcs for getting data
I think it is something like `anchor deploy`. There's an anchor discord as well https://discord.gg/97GJS2Vs

This guide may have what you're looking for, but it is in react instead: https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
Hey guys, is there any guide or example out there that shows how to deploy a contract with Anchor and then display some info into an Angular client?
I think people do this today. I would check metaplex discord for expertise though https://discord.gg/pqnszpCB
Hey guys, is it safe to use updateAuthority + symbol as checker if 2 nfts are part of the same collection? Is there other convenient way to do this?
Cool thanks!
On the rpc node itself I believe
like on the node? Or in the request
I think this is a toggle on the rpc itself
Under finalized, you shouldn't see this kind of issue
You can also use neon on devnet
like legacy transactions? Or is that configurable still?
https://docs.solana.com/developing/clients/jsonrpc-api#results-42 for innerInstructions- under what circumstances would inner instruction recording be disabled?
gm
gm!
hey everyone, did someone ever deal with transactions timing out on an rpc and then still confirming on-chain?
whats the best practice to **100%** confirm a transaction status?
the websocket also times out after 30-60s i think..
Not directly but: https://github.com/hyperledger-labs/solang
does soildity work with solana?
ok thankyouu
Yes
On https://explorer.solana.com/ you can set the cluster to "custom RPC URL"
is there any way to use blockchain explorer in local ?
The problem is arising because of the receiving wallet is not on the right derivate path with the newly updated system so  correcting the wallet integration will solve the issue
Hello everyone.
Can anyone help me to resolve custom error 2006
/// 2006 - A seeds constraint was violated
    #[msg("A seeds constraint was violated")]
    ConstraintSeeds,
thanks for the help
This is an anchor error. That was my best guess at what `0xbc0` (3008) would be
https://github.com/metaplex-foundation/metaplex-program-library/blob/master/candy-machine/program/src/lib.rs#L1061
and the minting is less than 2
i have 11 sol in my account
I think this would be `Not enough SOL to pay for this minting`
https://solscan.io/tx/m5MnjBEhkqxsvpRKLXDmRi7rfnPzeaVimHfpLVQSJK1QWDPx9gvBjDW1coAzfFNW1axtVCa7epLYiP7gy9Sj1wt?cluster=devnet
what does this error mean anyone 😦
Understood, Thanks.
This is related to owner check 🙂 (and also a bit of account confusion)
You must verify that the given account is owned by your program

Also you have to make sure that it is not possible to call some instructions of your program that would allow the user to put this account in a certain undesirable state
oh, Thanks, let me see.
I am more curious if it is possible that if I do

```rust
let mut container_data: ContainerData = try_from_slice_unchecked(&container_account_info.data.borrow())?;
```
someone for some reason could have falsified the `container_data` in the account on their client.

Is that possible
Thanks, but I think you misunderstood my question.

so I already have checks in place like 

```rust
    if !payer_account_info.is_signer || payer_account_info.key != &Pubkey::from_str("2ASw3tjK5bSxQxFEMsM6J3DnBozNh7drVErSwc7AtzJv").unwrap(){
        Err(ProgramError::InvalidAccountData)?
    }
 ```
There are tons of check that must be done on accounts. 
Check this ressources : https://blog.neodyme.io/posts/solana_common_pitfalls#missing-ownership-check
Yes ! You should always perform check on the accounts that your program receive !
For example, in your program, for a transfer, you must check that the `system_program` account that was passed to you is the correct program.

You can do that like this :

```rust
if next_account_info(acc)?.key != &system_program::id(){
  // err out
}
```
sorry for the tag, just I know you are active here, and the question is kind of serious to me.
Hey Xavier, 

a bit curious, Isn't it possible to send a correct account key and malicious(false) data in account info.

if so, How do I protect my solana program against it?
Hello, could you please tell me how can I get a list of only SOL transactions, or only token(SPL) transactions?
what does this error mean
https://solscan.io/tx/m5MnjBEhkqxsvpRKLXDmRi7rfnPzeaVimHfpLVQSJK1QWDPx9gvBjDW1coAzfFNW1axtVCa7epLYiP7gy9Sj1wt?cluster=devnet
Hey, anyone care to share some experience or tips on KYC providers? There's a myriad of them out there so figured I'd throw this one at the community here. 

I'm looking for a service to integrate with our dapp to handle KYC for our token sale.
I worked. 
really thank you.
Hi guys, trying to build algorithmic stablecoin - any smart contract source code I could refer to in the solana ecosystem?
`SystemProgram.programId` in @solana/web3.js
what's system_program ?
is that ```use solana_program::system_program``` ?
` &[donator.clone(), tournament_program_account.clone(), system_program.clone(), ]);`
Missing system_program account it seems
<@!880186533120991242> https://solanacookbook.com/references/programs.html#transferring-lamports
I already use invoke ```invoke(&system_instruction::transfer(donator.key,  tournament_program_account.key, amount),
         &[donator.clone(), tournament_program_account.clone()]);```
But I got this error 
```SendTransactionError: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: An account required by the instruction is missing
    at Connection.sendEncodedTransaction (/mnt/dungdv/rust-contracts/desport/node_modules/@solana/web3.js/lib/index.cjs.js:6820:13)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Connection.sendRawTransaction (/mnt/dungdv/rust-contracts/desport/node_modules/@solana/web3.js/lib/index.cjs.js:6775:20)
    at async Connection.sendTransaction (/mnt/dungdv/rust-contracts/desport/node_modules/@solana/web3.js/lib/index.cjs.js:6765:12)
    at async sendAndConfirmTransaction (/mnt/dungdv/rust-contracts/desport/node_modules/@solana/web3.js/lib/index.cjs.js:2977:21) {
  logs: [
    'Program 7mMSPu7SnuAV2c3FCSYtGNTQQ1MXv12YHLr9Fe1t4Ntz invoke [1]',
    'Program log: Instruction: donate',
    'Program log: donate amount: 50000000000000000',
    'Program log: tournament account data: AccountInfo { key: G3m4d7p5miibPJoD8Nuq9sd38CS6B8coFtUDkUhBmBza, owner: 7mMSPu7SnuAV2c3FCSYtGNTQQ1MXv12YHLr9Fe1t4Ntz, is_signer: false, is_writable: true, executable: false, rent_epoch: 1, lamports: 946560, data.len: 8, data: 00008a5d78456301, .. }',
    'Program log: donator balance before: RefCell { value: 109996168760 }',
    'Program log: tournament lamports before: RefCell { value: 946560 }',
    'Program log: before sending ',
    'Instruction references an unknown account 11111111111111111111111111111111',
    'Program 7mMSPu7SnuAV2c3FCSYtGNTQQ1MXv12YHLr9Fe1t4Ntz consumed 35533 of 200000 compute units',
    'Program 7mMSPu7SnuAV2c3FCSYtGNTQQ1MXv12YHLr9Fe1t4Ntz failed: An account required by the instruction is missing'
  ]```
Kinda depends which way is the transfer.
If the account is owned by the program and you want to transfer to another account :

```rust
  **sender_account.try_borrow_mut_lamports()? -= LAMPORTS_PER_SOL;
  **receiver_account.try_borrow_mut_lamports()? += LAMPORTS_PER_SOL;
```

Otherwise, as <@!814228493302497301> say:

```rust
        invoke(
            &system_instruction::transfer(
                sender_account.key,
                receiver_account.key,
                LAMPORTS_PER_SOL,
            ),
            &[
                sender_account.clone(),
                receiver_account.clone(),
                system_program.clone(),
            ],
        )?;
```
He cannot take lamports from system account in program. If the 'from' was a program owned account he could
in nft marketplace when we store data on arweave blockchain we pay directly to arweave for storage or solana blockchain pay fee in sol in the with their transction fee itself ? <@!814228493302497301>
That just builds the instruction, you need to 'invoke' to execute
can you show me sample code for that?
In your program you can directly add and substract lamports from accounts
actually, i want to call transfer in my program. 
I tried ```system_instruction::transfer(&from, &to, lamports_to_send);```. But i checked it do not send lamports yet.
https://solanacookbook.com/references/basic-transactions.html#sending-sol
appreciate it
ahhh
Hi everyone, I'm currently dealing with transfer lamports between 2 accounts. 
My problem is same here: https://forums.solana.com/t/how-do-i-transfer-lamports-between-3-accounts-owned-by-my-program-and-system-program/4294
I want to transfer amount of lamports from account that owned by system program to an account that owned by my program. 
anyone can have me a solution for that?
add one more config `"dataSlice": {"offset": 0, "length": 0}` to your query and I think you can get all accounts back. but these account's data are empty, you will use another query like `getAccountInfo` or `getMultipleAccounts` to fetch data
Whats the simplest way to get a snapshot for a specific slot? It seems like I am able to download snapshots from RPC nodes, but those snapshots are periodic and somewhat random. This download is also fairly slow, so it seems like perhaps there might be a way to run my own validator node that can take these snapshots such that they are available instantly? maybe this is an accounts-db thing?
im lost
program account for what?
Im doing it
```
      filters: [
        { memcmp: { offset: 326, bytes: bs58.encode(verifiedAddressBuffer) } },
      ],
```
I think for now you can use get program account and specific dataSlice as offset 0 and length 0 to get pubkey first
then you use getAccountInfos to get these pubkey's data back
is there a way to paginate
im trying to get a collection of 3,000 nft metadata
how many data you trying to get ?
maybe take a look here https://solanacookbook.com/guides/get-program-accounts.html#facts
query pubkey first, then get data back
```javascript
    const timestamp = new anchor.BN(new Date().getTime());
    const bufferedTimestamp = timestamp.toBuffer('be', 8);
    const message = Buffer.concat([payer.publicKey.toBuffer(), bufferedTimestamp]);
    const signature = await ed.sign(message, signer.secretKey.slice(0, 32));

    const signatureInstruction = Ed25519Program.createInstructionWithPublicKey({
      instructionIndex: 0,
      message,
      publicKey: signer.publicKey.toBytes(),
      signature,
    });
```
I'm not sure is there anyone use lua but I think use rust can save you a lot of time to find resource. also there is a framwork, anchor. you can take a look too.
```
Error: failed to get accounts owned by program metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s: Gateway timeout
```
thats not working im getting `Gateway timeout`
Do you have any javascript code?
I'm working on a script to download snapshots from RPC nodes via requesting `{rpc_address}/snapshot.tar.bz2'`, I'm wondering if anyone knows anecodatally what the approximate download speeds might be for snapshots, as I'm currently on literal stone age internet, and my script is saturating my bandwidth
I think the latest is fine.
if you are querying at official mainnet endpoint, try to use another one. like serum's https://solana-api.projectserum.com
Hi, what version of solana-web3 should I be using for talking to main-net (1.18.4)?
Is getProgramAccounts disabled now?
what about lua?
thanks
https://docs.solana.com/developing/on-chain-programs/developing-c
you can use https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction to get the program log. maybe it helps. also you can ask them if you use their sdk <#937905165074300999>
can I use solana in C++ ?
tried re-installing node and anchor, no luck
woke up this morning to find my program tests are failing with this:
```js
<--- Last few GCs --->

[22020:0x7f8688008000]   113098 ms: Scavenge 4044.8 (4122.7) -> 4042.0 (4125.7) MB, 11.8 / 0.0 ms  (average mu = 0.337, current mu = 0.161) allocation failure
[22020:0x7f8688008000]   113135 ms: Scavenge 4047.6 (4125.7) -> 4044.5 (4143.7) MB, 10.7 / 0.0 ms  (average mu = 0.337, current mu = 0.161) allocation failure
[22020:0x7f8688008000]   120677 ms: Mark-sweep 4057.5 (4143.7) -> 4049.9 (4152.2) MB, 7479.3 / 0.0 ms  (average mu = 0.180, current mu = 0.038) allocation failure scavenge might not succeed


<--- JS stacktrace --->

FATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory
 1: 0x107399a25 node::Abort() (.cold.1) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 2: 0x10608f0f9 node::Abort() [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 3: 0x10608f26f node::OnFatalError(char const*, char const*) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 4: 0x106210787 v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, bool) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 5: 0x106210723 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 6: 0x1063b1e05 v8::internal::Heap::FatalProcessOutOfMemory(char const*) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 7: 0x1063b078c v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 8: 0x1063bd030 v8::internal::Heap::AllocateRawWithLightRetrySlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
 9: 0x1063bd0b1 v8::internal::Heap::AllocateRawWithRetryOrFailSlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
10: 0x10638a147 v8::internal::Factory::NewFillerObject(int, bool, v8::internal::AllocationType, v8::internal::AllocationOrigin) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
11: 0x106741d4e v8::internal::Runtime_AllocateInYoungGeneration(int, unsigned long*, v8::internal::Isolate*) [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
12: 0x106aeb819 Builtins_CEntry_Return1_DontSaveFPRegs_ArgvOnStack_NoBuiltinExit [/Users/ilmoi/.nvm/versions/node/v16.14.0/bin/node]
error Command failed with signal "SIGABRT".

```

any ideas?
Hello Everyone! im trying to interact with Metaplex metadata program, and i have this error poping out (preflight verification)
`{'jsonrpc': '2.0', 'result': {'context': {'slot': 115215754}, 'value': [{'confirmationStatus': 'processed', 'confirmations': 0, 'err': {'InstructionError': [0, {'Custom': 0}]}, 'slot': 115215754, 'status': {'Err': {'InstructionError': [0, {'Custom': 0}]}}}]}, 'id': 9}`
Does anyone had it? i have no clue what it is or how to trace it back, currently using the metaplex python sdk.
thanks 🙂
is there any way to decode a transaction to figure out what exactly changed in a program account? I have a program account that has a counter, and I want to know which transaction was the one that bumped the counter to a certain value
please try again
it works now
<@!943447355666083880> found this https://github.com/c29r3/solana-snapshot-finder/blob/main/snapshot-finder.py not sure how it works yet
ideally there'd be somewhere to just download a snapshot, rather than running a validator and taking them manually
It seems like there is a concept of "snapshots" in solana core, and they do seem to be slot based maybe?
https://github.com/solana-labs/solana/pull/18199
it would actually make a nice on chain service someone could make, like your program calls another on chain program with a mint id of token X, a slot id, and an account holding token Y, a service that is hooked in to that program automatically handles the distribution of token Y to holders of token X (doing the off chain snapshotting), it would have to happen asynchronously of course, so the Y tokens being distributed would get delegated to this program or something I guess
I'm pretty sure you can do it via API, but I don't know from a Solana profram itself
yeah, ideally there is some service that has an API for querying solana blockchain history, but maybe that doesn't exist yet?
My first idea was to write the holder list on-chain for every snapshot I make, but for >1000 holders that would incur significant rent
Hello. I'm trying to airdrop a devnet SOL in web3.js, but it isn't working. Here is the code.

```
const connection = new Connection("https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/", "confirmed");
const signature = await connection.requestAirdrop(publicKey, LAMPORTS_PER_SOL);
const result = await connection.confirmTransaction(signature);
```

The endpoint is from genesysgo, but if I change it to https://api.devnet.solana.com, it succeeds. Do airdrop requests need to be solana endpoints?
lol, sounds kinda like what I need too
does anyone have advice / reference implemntation for implementing a "yield" on a token. Basically my program is designed to accumulate SOL, and then distribute it out to holders of a token proportionally to their weight. The best idea i have at the moment, is to basically just take a snapshot of the token accounts for this token at a given point in time, then just write a script that sends a bunch of transactions to send the SOL to the owner of those token accounts
guys, just curious
So I want to take full control of this project, for de-rug
What all metadta do I have to change?
I don't haave to worry about mint authority, or the minting creator address correcT
Hi, question: is it possible for a program to retrieve all token holders at a specific slot in the past? Say my program needs to know who the token holders were at slot 103'200'111.
https://solfaucet.com this is dead too
can someone please link me a faucet or soemthing
solana airdrop is not working
i need some devnet sol
hey guys
Can anyone share the git repo / code to write a program to transfer sol to an account and emit event?
Else can anyone share the solution to sync db after the sol has transfered?
Thank you very much. I will read the documentation firmly.
ok. a PDA is generated by [seed + program id]
if you want some PDA start with 'solo', you need to find the seed.
Just like you use `solana-keygen grind`, you need to loop and find
Add a nonce to your seeds and grind away
Customized as i can create vanity pubkeys starting with "solo" than random hash 

Now I want such key name for my PDA also
not sure `customized` means
the main points is that a PDA is just like a normal account but use program to sign.
so you can do everything you do on a normal account.
just remember if you need a signature, you will need a program to call `invoke_signed`
if you want to get all holders of your token.
check https://solanacookbook.com/guides/get-program-accounts.html#facts
roger roger.
lol def no.  4GB with swap will get you there
Shoot for 3.5G / thread
Hello - I have a question, I hope this is the right place. I need to pull down historical data for nft sales, mainly from Magic Eden and Solanart, it's looking like a lot of requests to getSignaturesForAddress and getTransaction, is there a good way to go about it without spamming someones rpc server? Is there a way to get the transactions in batch or something?
thanks for a lead at least <@!445425471027544095>
well I'll give it a try with a bigger stick then! 😉
Is 1 GB not sufficient?
`signal: 9, SIGKILL: kill` -- looks like you ran out of RAM during the build
Can a PDA pubkey be also customized somehow?
Hi, I'm hoping this is the correct channel to ask since it appears GitHub is not the preferred support "channel".  I'm struggling with getting the spl-token-cli installed and was wondering if someone could assist (error: could not compile `libsecp256k1` -- full readout here: https://github.com/solana-labs/solana-program-library/issues/2923)
My explanation is not enough.
What I want to do is
I want to get all Holders of My Token. (red part of attached image)

It seems that getTokenLargestAccounts can be used.
but 「20 largest accounts」
Thanks I will checkout those links 

To clarify I need to 

1. have a user mint tokens 
2. have 90% of those tokens sent to me 
3. have 10% of those tokens sent to them 

I'm thinking I could do all three of those under 1 custom solana program
can any suggest, what below error means
[8:49 PM]
PS C:\Repository\solang2\sources> node flipper.js
Connecting to your local Solana node ...
Airdropping SOL to a new wallet ...
FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899
    at ClientRequest.<anonymous> (C:\Repository\solang2\node_modules\node-fetch\lib\index.js:1491:11)
    at ClientRequest.emit (events.js:375:28)
    at Socket.socketErrorListener (_http_client.js:475:9)
    at Socket.emit (events.js:375:28)
    at emitErrorNT (internal/streams/destroy.js:106:8)
    at emitErrorCloseNT (internal/streams/destroy.js:74:3)
    at processTicksAndRejections (internal/process/task_queues.js:82:21) {
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED'
}
<@!788215642070581289> <@!585868308419444749>  can you guys help me to identify this problem
not sure what you're trying to build 
if you want to build your own token program. check https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L26
if you just want to use token program, check https://project-serum.github.io/anchor/tutorials/tutorial-3.html#cross-program-invocations-cpi
I need helping implementing this 
https://docs.rs/spl-token/2.0.3/spl_token/instruction/fn.initialize_mint.html
Very cool stuff
https://gist.github.com/redazul/e79d8ea8e689cf712fb128be9320ee5a
https://gist.github.com/
what's a gist ?
Use a gist
Thanks for the help. I will try it.
it is another easy way you can use.
https://solanacookbook.com/references/token.html#get-token-account-by-owner
it based on https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner

also here is `getProgramAccounts`'s guide
https://solanacookbook.com/guides/get-program-accounts.html#facts
I created SPL Token called TokenX.
I would like to give TokenX holders “TokenX according to the ownership rate” as an incentive.

I tried to get a list of token holders as follows:
curl https://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "xxxxxxxxxx"
    ]
  }
'
※ xxxxxxxxxx is TokenAddress

But the response is empty.
{"jsonrpc":"2.0","result":[],"id":1}

Is this understanding mistaken?
check this https://solanacookbook.com/references/offline-transactions.html#sign-transaction
is that what you would use for multisigs?
Is there a good way to learn exactly how that works? I guess just read the code?
like create one on your computer and sennd it later
I was reading about creating a nonce so you can create a transaction that doesn't expire
Feels stupid..
Nvm got my answer.
So when I dont implement my own traits for serde, and use serde derive, isn't it going to be slower ?? Or it automatically handles that bit ?
Like what exactly  they are doing.
I assume you are using `solana-test-validator`
just check you run it correctly and the connection is healthy
😶
And their explanation
Nope. Not that deep. Im using it based on what people posted online.
I think there are many ways can do this.
you can write a program for it or just use a centralized server to check tx and only send the valid ones.
Meaning did your look "into" result in something that others could benefit from what you found.... w.r.t. cycles, memory, etc..?
🧐
Just need serde.
And?
Gotcha. Its clear to me now. Thank you.
Heaps I reckon. Just got cleared on this. Thank you
<@585868308419444749>  can you you please help
Yellow is better.  All the fun, none of the responsibility
not here <#812122623654887444>
I've been asking for a green handle so I could DM people & ask for money, but they won't let me. Instead, I got this yellow handle as a warning to others. 😉

If you trust the green name guy telling you that
green names -> staff
"Zero green names" is legit?
Zero green names will DM you
No
Scam, paste the screen shot to the <#812122623654887444>  and they'll get whacked.
and ask about wallet..
Direct message??
does solana tech team reach out to us??
Guys lately, i have been approached by a couple of guys claiming they are "Solana Tech support team". are they legit.
How much "stuffs" are you talking about?
serde is a serialization framework, not format.  Many formats have serde-compatible implementations
is serde better than borsche for serialising stuffs ?
PS C:\Repository\solang2\sources> node flipper.js
Connecting to your local Solana node ...
Airdropping SOL to a new wallet ...
FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899
    at ClientRequest.<anonymous> (C:\Repository\solang2\node_modules\node-fetch\lib\index.js:1491:11)
    at ClientRequest.emit (events.js:375:28)
    at Socket.socketErrorListener (_http_client.js:475:9)
    at Socket.emit (events.js:375:28)
    at emitErrorNT (internal/streams/destroy.js:106:8)
    at emitErrorCloseNT (internal/streams/destroy.js:74:3)
    at processTicksAndRejections (internal/process/task_queues.js:82:21) {
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED'
}
can any suggest, what below error means
Hi, are there any public RPCs launched with the specified flag:
`--rpc-pubsub-enable-block-subscription`?
What happened to Skynet capital?
Anyone doing psuedo/on-chain deterministic randomness? I'm curious what ideas may have floated here in the past. 

I find this (https://docs.solana.com/developing/on-chain-programs/developing-rust#depending-on-rand) to be an interesting limitation considering rust's `rand`/`seededrand` are both psuedorandom and therefore technically deterministic.
Namaste 🙏  community,
I want transfer/burn token as a side effect of my transaction. 

For this what should be approach? What is the standard approach, should I create a signed transaction on my frontend app and send as parameter or how it's done?
Thanks for the quick reply! Would the path forward to just push another commit and retrigger the build? I’m guessing there’s some cleanup that needs to happen on the CI machine?
Often, I get this error:
```=====================================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
=====================================================================================
XXXXXXXX
=====================================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
=====================================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.```
hi lisen, my program is deploying realllllly slowly to devnet ever since upgrading to solana cli v1.9.5
other popular choices include vsCode , vims, clion
bash
What’s the best IDE?
(and the fix was merged in December, so would already be present in the current version)
I saw that issue - but it seems that would affect everyone, so I would expect a lot more chatter here about it. Also the genesis.tar.bz2 in test-ledger is only 92K in size, unpacks to a rocksdb directory only 426K in size.
best place to report that here?
btw noticed a little bug(?) maybe in solanaweb3, but I couldn't create an issue on the repo
Gotcha thanks 🙂
no
potential related issue and solutions?
https://github.com/solana-labs/solana/issues/21452

may have something to do with where the validator is being run from as well?
Just out of curiosity, would i be able to change the decimals of a coin i have already created?
that generally points to a physical hard drive space/server space error where the build is taking place..  sometimes the builds can get rather large based on the project
anyone running anchor with m1, i keep getting this rosetta error on anchor build
Hi all. Trying to run example-helloworld. Getting the same “Error: failed to start validator: Failed to create ledger at test-ledger: blockstore error” as many others here and in various closed GitHub issues. Tips wanted, ideally on how to get a more specific error.

(OSX Monterey on Intel. Tried the current release, 1.8.x, 1.7.x. Already using solana-sys-tuner. Ample disk, etc.)
Hi, not sure if this is the right place to ask, but I'm getting a `No space left on device` for this build: https://buildkite.com/solana-labs/solana/builds/65667#bb87b2ef-4233-4897-8551-30e35454f57b Any help would be appreciated, thanks!
Last question. Is it possible to subscribe to an NFT so that I get some sort of trigger when the NFT changes holders?
Or is the only option to keep requesting the whole list from the node every minute and see what changes, obviously not ideal due to request volume.
```
PS C:\Repository\solang2\sources> node flipper.js
Connecting to your local Solana node ...
Airdropping SOL to a new wallet ...
FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED 127.0.0.1:8899
    at ClientRequest.<anonymous> (C:\Repository\solang2\node_modules\node-fetch\lib\index.js:1491:11)
    at ClientRequest.emit (events.js:375:28)
    at Socket.socketErrorListener (_http_client.js:475:9)
    at Socket.emit (events.js:375:28)
    at emitErrorNT (internal/streams/destroy.js:106:8)
    at emitErrorCloseNT (internal/streams/destroy.js:74:3)
    at processTicksAndRejections (internal/process/task_queues.js:82:21) {
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED'
}
```
can anyone help??
<@!489206164270350337>  thanks for the response. I am facing this problem
```Error: error sending request for url (https://api.devnet.solana.com/): connection closed before message completed
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }```
someone told me this - "could be a "time out error" from waiting too long due to slower deployment validation."

I think there are problems with the new way of deploying solana programs, jacob
beautiful thank you
Hi, I recently upgraded to solana cli v1.9.5 and can't deploy my program anymore. I get this error:

```=====================================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
=====================================================================================
XXXXXXXX
=====================================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
=====================================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.```
Here you go then https://solanatools.xyz/faucet/devnet.html
Here's an example, just set it to an actual publickey instead https://github.com/solana-labs/solana-program-library/pull/2582/files
<@!489206164270350337> I need it for my website for anNFT project
Huh, I didn't even think about batching. I will have to see if I can do that.
Thank you
If someone is asking for devnet sol or has some for payment of something, it's a scam btw
Owner likely batches the rpc requests or has a private rpc
https://solfaucet.com/
if not
do you have solana CLI installed?
I’m new
<@!167500700601942016> how
with CLI
`solana airdrop 2`
heyo, anyone have an example of how to transfer the update authority of a mint?
How can I get Devnet solana guys
Thanks! So it does look like I will need to make an individual request for each NFT. So when grabbing a list of 4,000 nfts thats 4,000 requests.. no idea how that website does it so fast with no rate limit
I think some people have been successful with Neon on devnet. Neon's not on mainnet-beta yet though
Hey Guys, did any one write smart contracts using solidity and deployed it on Solana dev network???? I am using solang to do this.. if anyone working on project using #solang #solidity #solana please reply.
On NFTs, https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
Does anyone know the basic code behind this? Getting all the holders for a list of ids. It returns the results so quickly. Trying to figure out the best way to do this myself and if it has to be an individual request for each id. Thanks!
https://www.sol-nft.tools/get-holders
Awesome. Thanks!
You can still build and link with that error. The libs get created you need to do `yarn link` to work thankfully before the error occurs.
Interesting. I’m still new to open source in general, so is there a way I could get a build of the package from the CI to link to locally? That’s the only thing that would be a blocker. If this is an M1 issue, I’m pretty much up a creek if I can’t get a build from somewhere else.
Let me know if it becomes a blocker. I was able to test ya'll's console log test even with this because the libs get created still
Okay. Thanks for the help.
In other words, it is not a blocker
I haven't tried since I can link and test with it still happening. It doesn't happen in the CI https://app.travis-ci.com/github/solana-labs/solana-web3.js/builds/246453940#L434
You can't today afaik. Wait for Neon
Yeah, that’s what I was wondering. She has both and she confirmed her MacBook gave her the same error. When you get that error, how do you get past it?
Hey Guys, did any one write smart contracts using solidity and deployed it on Solana dev network????
It's up to the program.  You'll need to find the source or ask the authors
Wonder if there is a M1 flow issue...
Wait, your fellow on WSL didn't get those errors? I get them on M1 like you
Not sure on their project specifically
thank you, i'll look into this..  is this how Stoned Apes would do it? to pay out $PUFF?
I'm trying to be able to be connected to the wallet, get account balance, send transactions from the CLI. I'm already using project-serum/anchor but idk how to do it
Here is some typescript stuff:
https://github.com/hashblock/solana-cli-program-template/blob/main/client/keyfile.ts
Open source example: https://github.com/gemworks/gem-farm
yo, can anyone give any insight into how NFT projects are able to stake their NFTs to earn another of their custom tokens?
CLI, typescript
Do you mean a file wallet? Also, from 'what' are you trying to connect from? CLI? Language?
Hey, how to connect to a wallet from the backend (using the private key, without using phantom or others)
I'm glad I'm not the only one. I was talking to someone who got the same errors, but also has a PC and didn't get those errors with WSL
I think you can dev it up even with the error. Let me see if I can pull up the CI
I get the exact same error actually
Hi everyone! I'm new to Solana, and I'm trying to make some edits to the web3.js `getMultipleAccountsInfo()` so it can handle more than 100 accounts at a time. However, when I run the `build` command, I get this Flow error:
```
 Cannot reference type AccountBalancePair [1] from a value position. [type-as-value]

 [1] 1546│ declare type AccountBalancePair = {
         :
     4144│ declare var LAMPORTS_PER_SOL: 1000000000;
     4145│ declare export {
     4146│   Account,
     4147│   AccountBalancePair,
     4148│   AccountChangeCallback,
     4149│   AccountInfo,
     4150│   AccountMeta,
```
This is only a small portion of the error; there are a total of 141 of the same type of errors but I could only see 50. Since they're all the same type of error, I wanted to keep this short. I tried to investigate on Google, but honestly I have never used Flow and I'm not getting any errors with the changes I've made so I'm lost. Has anyone seen this?

For additional context: I am working on an M1 MacBook Pro and developing in VSCode.
Okay I'll see if I can find an on-chain example from mango- ty!
Interesting
Basically you just need to include all accounts in the instruction needed for all CPI
I think Mango has a depth of 3 in some places(mango -> serum -> token). https://github.com/blockworks-foundation/mango-client-v3/blob/09d2b3184c3a5bd03912e0179b6df519265c25ef/src/client.ts#L1592 is an example instruction creation. Then in their program they just CPI away
like it would sit at the top level in the innerinstruction array? Or would it be a nested array?
It is capped at 4. The instruction wouldn't look anything different other than have more accounts
Afaik it's capped at 4 but struggled to find an example on-chain or in docs
Hi all! Anyone know of an example tx with an inner instruction of depth > 1? Wondering what the formatting for that is like
Thanks! Will tell the devs as well
It doesn't look like a very helpful error. Likely something wrong within the app. I would look into getting the token accounts and what specifically matches with your NFT mints though to avoid the issue where these NFT marketplaces are transferring authority on the token accounts
Only have a pic

It’s from one of my users
Could you paste that, can't see it
Ok will do, this is the console error btw
You have to do some extra work understanding what the token account address is because of what ME is doing. Just get their token accounts, find the mint, and use that for the origin of transfer
Technically yes.
Can someone help me with this?
Okay ill look into it
<#938828592232693820>
Is there a comprehensive video tutorial/demo of how to setup Solana pay for a merchant?
Hey is it technically possible to do an online multiplayer game with a solana program?
Yeah, sounds like some pathing got messed up. Ran the same command and everything seems to work successfully
If it were me I would wipe the Windows and then try in WSL exclusively so i could rule out pathing confusion
When i first built it on windows it worked, and then tried linux and again on windows it was throwing the error
Built fine for me, help screen prints
Sure...
I'm cloning and building SPL/token/cli... one sec
just msged you the repo
Please provide some kind of repo or gist so we can help you out. Don't know if we can help unless we see some code
Yupp
Did you install Solana in WSL?
`solana-program-test` is the crate that provides `ProgramTest`. my tests are set up similarly to the solana-bpf-program-template from the cookbook link
this error pops up in WSL
Not right now afaik as that proposal hasn't been completed yet
Running using WSL

It's just a proposal at this time. Hasn't been built out yet
Are you trying to build in WSL using the Windows installed Solana?
I'm facing this error while running the token-cli
https://solanacookbook.com/guides/debugging-solana-programs.html
you said `solana-program-test` which is something I've not heard of as it is not part of Solana CLI
sorry,
You said `solana-test-validator`, they are different
i am using `ProgramTest`
Need to see program source, you can also test the logic using ProgramTest which is stripped down to runtime but you can walk your program logic
hi, i'm currently running into some weird issues with solana-program-test. I have an ix that basically just flips a `pause` boolean. my contract is set up so that if `pause == true` then i should not be able to execute anymore txns until `pause` is flipped to false.

my functional test is set up like this:

1.  send txn with setPaused = true ix
2. `asset!(state.is_paused)`
3. execute dummy txn and expect it to fail
4. send txn with setPaused = false ix
5. `assert!(!state.is_paused)`
6. send dummy txn and expect it to succeed

i re-retrieve the state for each assert
i'm getting some inconsistent behavior/results on step 6. sometimes the test completely passes and sometimes it fails due to the guards in my code that check if `state.is_paused`

i've tried updating to the latest versions of solana-program-test and i'm still having these issues
I want to run the validation of a past transaction on-chain (light-client implementation):
- The instruction will pass in a Transaction Inclusion Proof, plus all the block hashes starting from the block where the Transaction originated
- The program has access to RecentBlockhashes, so it can piece the hash history together.
Given that I'm expecting the instruction to be called fairly recently after the Transaction happened (~10 blocks max), would this be doable?
It means whatever address you specified doesn't hold an initialized SPL Token Account
or i need some tokens in the acc?
does this mean i should try minting from the account that has the tokens?
Anyone have advice on how nfts with purchasable attributes would work? Does the nft actually get burned each time and a new one minted?
Is the Transaction Inclusion Proof for a particular transaction available to query via an RPC endpoint? Described here: https://docs.solana.com/proposals/simple-payment-and-state-verification#transaction-inclusion-proof
my acc is not the holder?
Seems pretty clear
what does this mean?

I’m not familiar with the term, can you send me an example or resource of what a pda is
Hey, do you know why I get invalid public key if I want to send a transaction with the exact code from the link, the sender (my main phantom wallet and receiver my second phantom wallet) and the public keys are correct but I get invalid
hey Im trying to mint more supply for a token created through SOLminter website,
I have been transferred the mint authority and logged in my account in the cmd,
what is the next step?(i just tried spl-token mint <token_address> 1 but didnt work)
You can have the program have a PDA with authority to update the NFT, and have that do the updates. Otherwise you'll need some kind of permissioned crank(cron job) to get this done
That’s what I’m trying to understand how to do
I have that logic, it’s the signing without requiring me to physically approve, I want it to be automated
Yea my bad it needs the private key of the creator so me to update each one.
What you need to do is include the logic in your program for requiring burn + nft to get it done
There's no private key of candy machines?
I’m trying to do something like nftabs.io where they can burn a token to upgrade their nft, the private key of the candy machine used needs to be protected. Would that way make sense for a dapp like that?
Oh okay, nice to know
Got it 🙌  Thanks for the guidance
Multiple transaction signers are supported.  What that means is up to your contract logic
yes it seems, i just wanted to find whether there was already a inbuilt way of doing that
Sounds like the business logic of your contract.  That's all stuff you need to implement checks for
Its like i create a record of data on the blockchain, and the another person will mark it as an valid or invalid piece of data, and the data should also contain who validated/invalidated it.
No idea what "update" means here.  Presumably if you want multiple signers, you know why
Thank you, ill check it out 😇
token library, so basically your contract address is the mint, and the nft is just a token with a limit of 1. From my understanding
All sign the same transaction, yes. Here's an example of multi signers: https://solanacookbook.com/references/offline-transactions.html#sign-transaction
yea it is ontop of the same transaction, am i correct?
If you sign a transaction, other signers cannot update it. Signers would have to resign
So if a particular transaction has more than 1 signer, can all the signers in that transaction update it if needed to?
thank you
https://solanacookbook.com/references/basic-transactions.html
by using solana-web3, how can I send money to other account?
Yes
Can we have multiple signers for a single transaction?
Rosetta is not required as native m1 binaries are available
This information is now inaccurate
Hey! Is there any equivalent NFT api on Solana, like Alchemy which filters the NFT data of a pubkey based on NFT contract address provided? 

https://docs.alchemy.com/alchemy/enhanced-apis/nft-api/getnfts

Quicknode seems to provide this features, but it's limited to Eth currently
https://dev.to/nickgarfield/how-to-install-solana-dev-tools-on-an-m1-mac-kfn
Try with version 1.8.14
currently I'm trying build solana from source and try again 🙏
yes I'm using m1, with solana latest version
M1? What version of CLI are you using?
I'm using anchor framework to build (it fails event though the program is newly), but I guess the problem come from solana 
solana-test-validator returned to me `84132 illegal hardware instruction  solana-test-validator`
yep, true.  But the current status is really bad!  🤡
Okay, makes sense. I mean just compared to the current status of the network, 1.4 mil is low😅
megalodon txs are currently hurting the network, cause devs are lazy (rightfully so!) and will use the max of what they can get away with 🙂
1.4m seems pretty high
at max
per tx
If at 1_400_000 then 7 current ix
And that seems to be quite low
of course
But there is an upper limit, right? https://discord.com/channels/428295358100013066/517163444747894795/943573049322647662
or they need to request more compute for a greater fee
yes, once the feature is activated
Ah okay. But in general this change will result in computation intensive programs having to split computations into more tx where once they used more ix
how are you trying to build?   and have you been able to build or do anything before or is this a fresh install, with what version?
Hi everyone, I tried to build program at M1 device but I got 
```
Caused by:
  process didn't exit successfully: `rustc - --crate-name ___ --print=file-names -C lto=no --target bpfel-unknown-unknown --crate-type bin --crate-type rlib --crate-type dylib --crate-type cdylib --crate-type staticlib --crate-type proc-macro --print=sysroot --print=cfg` (exit status: 1)
  --- stderr
  error: Error loading target specification: Could not find specification for target "bpfel-unknown-unknown". Run `rustc --print target-list` for a list of built-in targets
```
I'm stuck with this, anyone faced?
Yes but now it's for all ix instead of a single one. Which means that for a system where I would currently need 10 ix, each consuming 200k CUs, with the new system I would need two tx instead of one.


///////////////////////////////////////////////////////////////////////////////////////////////

Which approach is recommended? It would be great if you share even a single repo link
it depends how this is happening..  user workflow and details are important.   in any case, you can deduct fees and transfer them to an account owned by you/your program or some assigned account.  different math approaches can be found in the many open source repos.
Perfect
I would suspect so
Thanks for your help
Okay, so ill have to get all the signatures of an addres, if the nft was only minted but never transferred it will only be that one signature right ?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
Wow thanks, is that a sol web3 function ?
user is paying <@!785084693023424542>
You can check the transactions on the NFT by doing `getSignaturesForAddress` on the mint and check if it has been transferred over a specific slot
Anybody who can help me find out if somebody has been holding a NFT for a specific time.
I don't seem to be able to easily find out if an NFT has been transferred
ack, ty
Previous state is not stored anywhere
Hi all, is there a known efficient way to get balances as of a specific slot height? Looking for a parallel to BalanceAt in geth (https://goethereumbook.org/account-balance/) (or an efficient way to reproduce similar behavior)
Yes that works, thanks a lot ! ❤️
Try `getParsedTokenAccountsByOwner` and you should see `amount` under the token accounts. `lamports` gets the current lamports stored for rent on the account, which should be the same for all token accounts
I'm on devnet but I guess it should work all the same
No it's not correct, I tried on multiple pub key and I always get the same lamports value while they all have different amount of the same token.
I'm doing as follow :
```js
const response = await connection.getTokenAccountsByOwner(wallet.publicKey, { 
  mint: new PublicKey('J7GRX8tQkx46KJaHc1sYvhX5ySsUXVdmafiZEGzYxzJu') 
});
console.log(response.value[0].account.lamports);
```
Is that not correct? Please give an example
Hi, I'm trying to fetch a token balance using web3.js with the function getTokenAccountsByOwner() but I always get the same lamports value of 2039280.
Any idea how I should do it ?
Ok, thanks.
Metaplex is the current standard for metadata. They own the metadata program
I'm working on some NFT projects involving evolvable / dynamic NFTs. Solana was recently brought up as a possible option, and all my previous work and testing was in Solidity based chains.

Is there a way to attach metadata to a token outside of Metaplex? I'd be looking to deploy programs to handle the metadata, and still have the NFTs work on marketplaces. Or do all the marketplaces require Metaplex?
Thank you. I'll check it now.
Here's a good example of the correctly setup websocket using the `connection` class https://solanacookbook.com/references/local-development.html#subscribing-to-websocket
It shows timeout.
I cannot connect to solana's websocket api. Does anyone know what the problem is?
Thank you for your answer good Ser.
thanks for the tip <@!814228493302497301> !
Damn, that's awesome. A lot better than the monstrosity I ended up building :).
So the cookbook is for normal accounts but would work fine for PDA just the same
Credit to Frank
https://solanacookbook.com/guides/data-migration.html
Thanks <@!489206164270350337> !

what is PDA migration? I'm not familiar, but it sounds interesting
Also, you can use a PDA migration strategy instead of spewing all the generations
So, as <@!489206164270350337> indicated, as long as the seed changes in each generation you should be fine
I've accounted for the 10k limit with my PDAs, they won't grow past the limit
right, each pda will have a different seed. So for the second PDA, the seed will be derived from the first PDAs public key and owned by the program I'm writing. But is it possible for someone else to have already created an account with the same address my second PDA?
gm Frank ☕
I believe as long as your seeds are different, you should be fine
So, you are going to chain PDA for growth where each new PDA has a new data model (which includes the previous PDA)?
Wouldn't you use a new seed?
How much growth (in size) are you talking about? PDA are capped at 10K at the moment
Hey all, got a philosophy question here.

I'm writing a program that is reliant on holding data that can expand. So I hold the data in PDAs, and create new ones that are larger as we need to store more data. The first one has a seed that's just a known string. The second one uses the public key of the first as the seed. The third one uses the public key of the second as the seed, and so on.

Since the pubkey generation is linear like this, I'm worried about deriving a public key that already exists because that would completely break my program. can that happen if I derive the address with PublicKey.findProgramAddress in solana web3 js? If so, is there a way to account for that happening?
Basics:
Programs are deployed by the program author who also pays for the deployment up front from their wallet
The programs 'runs'  when there is an instruction directed to the program (e.g. "Flip coin"),
Transactions hold one or more instructions and can be initiated via Rust, Python or web3 application
Hi. Is there an established analog to OpenZeppelin PaymentSplitter contract in the Solana world? https://docs.openzeppelin.com/contracts/2.x/api/payment
will keep you posted
thanks
I will pass this on to our devs and see if they can use this
?????
Hello everybody! I hope you're all good! Is there a way I can pay for the user's fee when they use my token?
I see. thanks.
I mean if your account owned by program A. only A can modify its data.
so yes, if your user owned by system program that only system program can modify its data.
but system program don't provide any method for you to store custom data, so you need to 
1. create an account, allocate enough space and assigned it to your program
2. pass the account to your program and store the data you want to store.
you can use https://docs.solana.com/developing/clients/jsonrpc-api#getversion to know which version the endpoint is running.
You mean, system program can only update user's data?
not sure which method you used but I you can use `getTokenAccountsByOwner`
```
curl https://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getTokenAccountsByOwner",
    "params": [
      "4xff4TvqEdQSeyyiJecFNyqN8RnhhjaBa5BJEheF2UGr",
      {
        "programId": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
      },
      {
        "encoding": "jsonParsed"
      }
    ]
  }
'
```
and you can get all token accounts owned by `4xff4TvqEdQSeyyiJecFNyqN8RnhhjaBa5BJEheF2UGr`
Hello, I have this noob question that can sound very silly but I just want to cement my knowledge and confirm that understood correctly.
What is the best practice to start and pay  for your program ? Let me explain what I am asking.  
Say there is a coin flip game that users can play against the program. You need to run some kind of "game engine" that is listening to user calls.  Users will be paying for their "coin flips" that is clear, but how you actually start this "game engine" program (you need to start it once right?), who pays for it and who initiates this "game engine" program? Do you do it from personal wallet account and rent funds will be checked  against your personal wallet?  and how you actually start this program (via custom CLI,  custom admin page)?
a program can only modify account's data when the account is owned by it.
you can't pass a random account and just modify its data.
in your code, you can modify greeting's data.
if you want to update `user`'s data, the user account's owner should be the current program.

about account model https://docs.solana.com/developing/programming-model/accounts
Here is my code snippet
or even totally annoying
the getMultipleAccountsInfo one is quite annoying for consumers right now
I have 2 PRs on web3.js, if some reviewer want to comment to get me going https://github.com/solana-labs/solana/pulls/Arrowana
it’s not in “Array” as you can see
this is his wallet: 4xff4TvqEdQSeyyiJecFNyqN8RnhhjaBa5BJEheF2UGr
And this is the mint id of the shredded ape that should be loading there as well: 5Ycyq7cp1DWEAwd49mhiqdqkioSh81WBiruYiQve7DTK
“Array” shows 13 mint id’s insinde the wallet, but none of them isthe mint ID of the NFT (Shredded Ape) that should be loading
This is the error
hello, any dev available for helping us out? (paid) our staking v2 platform is having loading issues for certain wallets , the nft’s won’t load inside the staking platform, just grey boxes like this:
Hi there , Is this possible to create liquidity pool between my tokens with 0 amount??
I mean i m working on oyster repo and i  want to know if its possible to do
Can anyone Help????
You may want to check in the Anchor discord but:
`solana program close --help` from command line... I would check if Anchor has similar
Note: When you close a program like this, you can not 'reuse' the Program Keypair you used when deploying
Do you have `solana-test-validator` running when you attempt this?
I wanna use anchor framework.
Does anyone have some good docs on best practices when implementing a custom wallet on a web app? Like how do I properly store keys on a db for instance. Does it use some hashing that’s different from normal password hashing standards?
is there a way to query all transactions sent to one programID between slots x and y, where slot x and y are roughly 1 day apart?
Works like a charm on Ubuntu 20.04.3 LTS
Hi frens, I did a mistake, I deployed on mainnet and it took me 15.8 $SOL;
I used ** anchor deploy --provider.cluster mainnet**
Any way to get this back ?
We are actively looking for a CTO in our startup who is experienced in solana specially. We are building a NFT centric application. If anyone to join us as a developer lead then DM me freely. Beginner to intermediate would work for us. I can bet you we will grow together by maximizing our full potential
I mean i m working on oyster repo and i  want to know if its possible to do
Hi there , Is this possible to create liquidity pool between my tokens with 0 amount??
still same problem. in command prompt it's uploaded
so how do I actually access this transaction history? is there like a big table URL thats free or something?
how do i determine which version of solana mainnet is using
Hello dear community, I am trying to run this command: "cargo install spl-token-cli" on a Ubuntu 21.10 Linode Server, and I am getting this error: "Compiling solana-crate-features v1.7.11 error: could not compile `libsecp256k1`" I see the topic was closed in GitHub pointing to this Discord channel. I can also mention that I have this rust version "rustc 1.58.1 (db9d1b20b 2022-01-20)" Please let me know what other details you may need to help me identify a fix for my case. Thank you in advance
any idea on how to fix this
Hi  I am in VS code trying to anchor deploy but recieve the following error: Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: Connection refused (os error 61)
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.
I think the main problem is `a required privilege is not held by the client`
maybe google it.
has answered you at <#814696762467287121>
cli command tool problem.. windows 10 user
wallet developer，dapp request signTransaction，How should I get balance changes from transaction，because i must show it on confirm dialog
in what way ?  whats the design?   is the user paying for something or transferring?  what the transaction being called?
Yes
Yes
the question is, within a program, you want to collect a fee?
Ok. Thanks.
Yes. As fees
collect token?
If we stick collect token with my solana program. How should I do it?
declare_id  is doing just that, declaring an id you can reference.  if you want to have a hard coded id, like a program id or another, inside your program, this is a use case for that.  in example above its the program id itself likely.    you could also do something like:

in a program file declare:
`pub mod my_id {
solana_program::declare_id("Fdasda...")
}`

and in your program code reference this id with   
`my_id::id()`
your combining several things in a single statement.   you should provide some more explicit workflow or context for what your doing.   you cannot transfer 1 token to somewhere else and then burn it.. as you would likely not own it at that point. context is important. you may have to elaborate more.  in any case.. transfer and burn instructions are in the cook book.  just combine them.   'as fees' by itself does not lend context or make sense.
hey, Still curious what the use of this line of code is, What is it?

Is it used when cross program invocations occur?

``solana_program::declare_id!("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");``
Thanks for the reply <@785084693023424542> . Ive gone through the provided link already. But what I want to achieve is transfer / burn in my solana program as fees
https://solanacookbook.com/references/token.html#burn-token
Namaste  community,
I want transfer/burn token as a side effect of my transaction. 

For this what should be approach? What is the standard approach, should I create a signed transaction on my frontend app and send as parameter or how it's done?

A link to an example will be appreciated
dont understand the question.   Metaplex is the NFT standard.  in a similar way that erc721 is the Ethereum nft standard.
Okay seems all of these are on docx format, any video tutorial?
a good quick start is here too :
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account
Okayyyyy thanks
for now https://soldev.app/ and the https://solanacookbook.com/  https://solana.com/developers are the best places for over all resources and links to many others.  figment has many tutorials. linked from those sites as well.

* full courses are on the radar.
it was kind of a joke but Armani ferrante
<@831450660146642974> what account on Twitter?
<@831450660146642974> okay
yes, twitter
Like a course kinda
Is there any platform to get fully professionalism on the Solana blockchain?
Okayyyyy thanks <@785084693023424542>
to use the standard you have to adhere to it to utilize the functionality and remain compatible with the eco system, in the current representations.  constantly being optimized and updated with new features. checkout the apps and the docs. here is the metaplex discord:
https://discord.gg/TJveTTCP
But I can also make changes that suite me right?
OK I get now, it's prefarebly I use an existing program
Okay so once I use the metaplex repo, I don't need to write my own
they are programs, anything on chain utilizes program in some way. to MINT an NFT it is an eventual call to a program on chain.  Do you need to create your own custom program ('smart contract') to create mint or manage NFTs,  no.  you can use th existing ones and make web3 and metaplex calls.

some examples:
https://solanacookbook.com/references/nfts.html#create-an-nft

metaplex owns the NFT standard.
https://docs.metaplex.com/
more resources:
https://soldev.app/

other platforms like https://novalaunch.art/ and holoplex are either no code and NFT packed feature platforms as well.
Metaplex has one
Like do you need to literally write a programs for it?
Good day guys
Need a clarification on this, do you need smart contracts for NFTs
Thanks :)
phantom is not open source, last I checked.
Ah, okay 
I have a fungible token and i can see name and symbol in metadata on devnet explore

It's probably wallets fault that is doesn't show up. Is phantom opensource?
afaik most wallets use spl-token list and related data/meta data for recognizable tokens, dev may have mixed results based on the wallets support.
the current token program does not allow for extending custom functionality supported out of the box by the eco system..   Metaplex is an example of expanding on the spl-token program,  a new token program is coming that has some more capabilities.
txn history does not get wiped
U mean to transfer token from one account to another?
adding functions for my own token, which other tokens don't
like multi distribution (sending tokens for different accounts) and some more
Functionality like?
hello i'm new to solana, i knew how to create a fungible token using spl-token command, but what if i want to add some functionality for it, how can I do it since there's no code while creating the token?
Hey, does phantom use on chain data(name and symbol) for Fungible tokens on devnet?
Is all txn history of an account wiped out if it doesn't have rent deposited?
Thank you
https://docs.solana.com/developing/clients/jsonrpc-api#getlatestblockhash
`This method is only available in solana-core v1.9 or newer. Please use getRecentBlockhash for solana-core v1.8`

also you can use https://docs.solana.com/developing/clients/jsonrpc-api#getversion to check solana version
web3.js won't give me the latest blockhash?


> throw new Error('failed to get recent blockhash: ' + e);
> Error: failed to get recent blockhash: Error: failed to get latest blockhash: Method not found
> at Connection.getLatestBlockhash (/app/node_modules/@solana/web3.js/lib/index.cjs.js:6069:13)

```
const connection = new web3.Connection(web3.clusterApiUrl('devnet'), 'confirmed');
const recentBH = await connection.getLatestBlockhash();

```
mtdoom.so "cast it into the fire, destroy it!"
BurntNFTweets?
should I make a dapp thats just a fireplace, that lets you burn NFT's then shows you live the NFT's others are burning?
mint it to you and freeze it 🙂
I know how the burn instruction works!
someone wants more NFTs in their wallet??!
Gonna send all of the people disappointed in v1.9 to <@!785084693023424542>'s DMs
lol, that helps, i could allocate enough space where under the worst case, there would be say, 2 years of runway for re-alloc to get implemented
as mentioned.  1.9 is the magiC version ✨ 🧙‍♂️
```
$ solana -ut feature status | grep realloc
75m6ysz33AfLA5DDEzWM1obBrnPQRSsdVQ2nRmc8Vuu1 | inactive                    | support account data reallocation
```
It'll be in 1.9 when <@!453347985628200960> finally enables realloc
you basically have to reserve the space up front and there is no sense of easy re alloc in the current version. but its in the future i believe at some point
Resizeable account data is coming
I have an account that could in a minority of cases grow linearly with time, but in most cases wouldn't, so was hoping I could allocate a small size for the normal case, but allow the account to grow for the abnormal case
darn
once you set the size of the data currently it is set. so you can set a 'max size', and  you can set the size to be greater than the initial size of the data, and leave room for growth.    you can do the same things for programs as well. This would be more typical for something like dynamic data, collection, and programs.
can you increase the size of an account's data? i know i've read that you can't but I feel like ive read other things that allude to the fact that you actually can, so I guess i'm just wondering if that was a restriction that is now out of date? or if that restriction is still in place?
Thanks!
And be comfortable with the message being readable upon key compromise
You'd have to encode the ciphertext with something utf-8 compatible
Is it possible to pass a confidential string to the memo program?

Something like this:
- Encrypt a  plaintext string with a given address (a public key) to get a ciphertext
- Use the ciphertext as a Memo for some transaction
- Only the owner of the private key can decrypt the string in the Memo to get the original plaintext

Does this make sense?
your link provides the URL I referred to as problematic 😉 
I'm asking about some other rpc services.
rpcpool look great, but looks like it only provides free services on mainnet 😦
maybe https://github.com/solana-labs/example-helloworld
FYI https://docs.solana.com/cluster/rpc-endpoints#devnet
if you want to do some heavy query, you need find some other rpc service (like rpcpool or quicknode ...) or build your own node.
Any example code?
hey
is there any reliable devnet node that I can test some stuff on?
https://api.devnet.solana.com/ returns 429s waaaay too soon...
you mean you want to store some custom data into your account which owned by system program?
if yes, I don' think you can. system program can only allocate space and these data are all 0 .
I think you can write a program to do it.
PS: Please don't dm me. I'll report as a spam.
How can I store some data into a system owned account?
you can dig in this code https://github.com/solana-labs/solana/blob/master/rpc/src/rpc.rs#L353
maybe ask them https://discord.com/invite/metaplex
Regarding `getAccountInfo` https://docs.solana.com/developing/clients/jsonrpc-api#getaccountinfo
it mentions that for `jsonParsed` requests, the endpoint will search for a parser for the given account. How does this search work? Can I register a parser for certain accounts?
<@!785084693023424542> indeed but given the documented specifications, my expectation is that to have it computed. Although, I did notice that the metadata which I can read from the explorer has the field "collection" as "undefined". I'm minting via @metaplex/js so not sure if there's something there which I'm missing ( e.g. https://explorer.solana.com/address/GKbhFNfLXGp582SJ1V7da322xg7kqGHYwzUefbz3d3vm/metadata?cluster=testnet ) but can see it in the solscan metadata ( https://solscan.io/token/EJMDwFvvm9SqzxGeCkf6JQq1yvAsnuAG1KUvPSqgh6AC?cluster=testnet ). Am I missing something here I should know about?
sounds like a phantom question?  any app or wallet has their own design based on the data.
Finding that Phantom nests every single NFT of the same creator under the same tile, regardless of "collection", "name", etc properties differences. I'm not sure why that is, but the only data which is kept between the metadata is the creator. As a creator, I expect each collection to have its own tile in phantom. I checked the documentation in phantom ( https://docs.phantom.app/integrating/tokens/non-fungible-tokens ) and it seems to compute by "The following data is therefore used in descending order of preference", although for metaplex token standard metadata, which happens to have the expected fields, it keeps it in the same tile. Why is that?
pubsub is usually a 1-1 in general. but no i dont think there is a way to do that. that would require some additional layer.
Does anyone know if there is a way for me to subscribe to multiple accounts using one PubsubClient (in the rust library)?
is there a way to debug this kind of thing?
Thanks, I will take a look at it
Lots of variables to declare "close to zero"
So it also depends on rate of resubmission
However if you're spamming your signature, you're going to get deduped a whole bunch
I believe this is true. Depends on the stage dropped, yes
I believe this does testing
https://github.com/Synthetify/solana-template/blob/master/.github/workflows/test.yml
Does someone have a Github Actions script for smart contract testing with test-bpf?
No. There's a nice guide here that can help you understand why retries may be needed https://solanacookbook.com/guides/retrying-transactions.html
Candy machine expertise found in metaplex discord https://discord.gg/pqnszpCB
is there anyone who can help me adding civic solution in candy machine v2 😦
Any devs here ever work with gemworks.gg (on the front-end side) for staking NFTs? I'm 90% where I need to be with it but I have some questions
You can use this hack: https://github.com/solana-labs/spl-zk-token/blob/master/scripts/0001-feat-double-PACKET_DATA_SIZE.patch
Hey <@445425471027544095> can I use zk token library on localnet? Do you know someone that's working on it or has worked on it? What if I just want confidential transfers of Spl tokens in any smart contract, any workaround with the MTU problem?
ill try and find it for you
Would love to have the code for it! Would be great to publish and get some attention
it did but i ended up leaving it to explore smart contract dev a little more. its still somewhere on my local machine lol
Hello, I have a small question regarding `getInflationReward` (https://docs.solana.com/developing/clients/jsonrpc-api#getinflationreward)
Specifically, it returns the following fields:
```
amount: <u64>, reward amount in lamports
postBalance: <u64>, post balance of the account in lamports
commission: <u8|undefined> - vote account commission when the reward was credited
```
is the `amount` field gross or net? In regards to the commission
When we look at the key `4EDQa2SxQ6o28uSwpn6x395898ihae7jTqyNZrYWPDvM`:
- at epoch 261 is has `postBalance = 3935823668099`
- on epoch 262 it receives `amount = 41943519348` and has `postBalance = 3977767187447`
postBalance262 = postBalance261+amount262, this makes me think that amount is the net perceived, is that correct?
On a different note, did your crypto zombies prototype ever go anywhere?
It looks like something didn't get passed correctly to the auction house instruction. Not entirely sure on their contract, that's owned by metaplex right now
i can tell from the error message in the screenshot its not using more compute than its allowed to so its definitely not that
getting an error when trying to execute an instruction from a client:
`index out of bounds: the len is 0 but the index is 0`

could this have something to do with me passing in an account that is expected to have been initialized, but isn't?
got it
guess I'll go check it.
thank you 🙂
The token account owner is stored in the AccountInfo's `.data`, so you would need to deserialize that data (not totally sure how you're doing this in rust)
In the end I want to check in the program that a user hold an nft
and is it possible to get the account owner?
Thank you
Probably the anchor discord: https://discord.gg/meZNgRYK
You're probably running into the issue that there are two `owner` notions floating around. The `.owner` on AccountInfo means the *program* owner (so here, the spl token program).
I'm looking for some help related to withdrawing from a PDA account (I'm using anchor) which is the best channel to ask these sort of questions?
Hi everyone. I did a quick look at the documentation and I have a question :)
For example I saw samples how Solana works, how to create validator node. Principle and how to connect to a cluster (test, dev, "prod").
---
But, is it possible to create own private Solana cluster?
the client side transfer the token holder account and the signer account to the program
https://solscan.io/account/84qwsj19GqZKA9RQpexJ2RKCoJrCUvpa2WWTDkN1Sq9p?cluster=devnet
https://solscan.io/account/9hw6PYkPwMALNSELFKnw9fNWwE7jGAuLBgdCcyrnwWst?cluster=devnet

In the program  checks if the token account owner eq to the user account

how ever the owner that I get is the Token program account key
one second I'll send a full explanation
well yeah thats what I did
Here's an example on how to get the owner: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L119
You have to pass the account to the program, so You'll have to get the account on the client side and send over the account to program. Then just check owner and balance
rust program
no
Rust Client?
not ts
using rust
https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
I want to ensure that someone holds the nft
hello,
Is it possible to query token account owner (user public key address)?
when I try to use the owner function I get the program token account
Create a token account? https://solanacookbook.com/references/token.html#associated-token-account-ata
<@!489206164270350337> 
could you help me? above
someone wants to register a SPL token to his wallet
you know, he needs some SOL
but I want to do that with my wallet using code

in other words, help him to register a SPL token to his wallet by using my SOL
do you have any sample code?


///////////////////////////////////////////////////////////////////////////////////////////////

```spl-token account-info 7MC1kwNJaScpMw1QukdeD48rSp7cE3NgxZ2yKdDBPqQe
Could not find token account HJxCQzVQFjjcSaz2BYMqGJzDWAYUXT1oLgNokmSL45Ke```
When I try to query one token account, why does it give me an error on the other one?
hi guys any idea what it could mean?
> Program returned error: BPF program panicked
Is  xargo phased out from solana bpf?
Hi,
anyone knows if is it possible to view on chain program which account publickey hold the nft (user account, not the program token)
For token in and token out for another pair ?
While swapping
How does the solana swap program calculate the price of the token ?
I'm using the solana-program-library (CPI) example
https://github.com/redazul/sol-school/tree/main/day2/cross-program-invocation/src
and it successfully builds and deploys....happy about that........
problem (can't find any good client examples to CPI some spl-tokens to a PDA)
Can I add token name, symbol and Logo on `devnet` simply put?
Hey! I was trying to create an SPL token using the spl-token-cli and I wasn't able to find the Solana Token Registry for `devnet` which only exists on the `mainnet`.
I suggest you find some developing on solana primers.  These are very basic questions
Whatever you want.  Your program. Your accounts. Your data
You cannot use the allocate instruction to resize it
There's an opaque byte array `data` field in every `Account`.  That's how big it is.
```shell
> solana decode-transaction 4hXTCkRzt9WyecNzV1XPgCDfGAZzQKNxLXgynz5QDuWWPSAZBZSHptvWRL3BjCvzUXRdKvHL2b7yGrRQcWyaqsaBCncVG7BFggS8w9snUts67BSh3EqKpXLUm5UMHfD7ZBe9GhARjbNQMLJ1QD3Spr6oMTBU6EhdB4RD8CP2xUxr2u3d6fos36PD98XS6oX8TQjLpsMwncs5DAMiD4nNnR8NBfyghGCWvCVifVwvA8B8TJxE1aiyiv2L429BCWfyzAme5sZW8rDb14NeCQHhZbtNqfXhcp2tAnaAT base58

Recent Blockhash: DqeB5VuR74t8Ew2gsk2RdM5ymXCiSdNg8NS7UrEiXJfE
Signature 0: 2id3YC2jK9G5Wo2phDx4gJVAew8DcY5NAojnVuao8rkxwPYPe8cSwE5GzhEgJA2y8fVjDEo6iR6ykBvDxrTQrtpb (pass)
Account 0: srw- 5ebCWDVzvDGyEbgfiv1ATMucpFJrM8nhrHvAwE4tUE2c (fee payer)
Account 1: -rw- vines1vzrYbzLMRdu58ou5XTby4qAqVRLmqo36NKPTg
Account 2: -r-x 11111111111111111111111111111111
Instruction 0
  Program:   11111111111111111111111111111111 (2)
  Account 0: 5ebCWDVzvDGyEbgfiv1ATMucpFJrM8nhrHvAwE4tUE2c (0)
  Account 1: vines1vzrYbzLMRdu58ou5XTby4qAqVRLmqo36NKPTg (1)
  Transfer { lamports: 5000000000 }
Status: Unavailable
```
How should I decode params
curl http://localhost:8899 -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "sendTransaction",
    "params": [
      "4hXTCkRzt9WyecNzV1XPgCDfGAZzQKNxLXgynz5QDuWWPSAZBZSHptvWRL3BjCvzUXRdKvHL2b7yGrRQcWyaqsaBCncVG7BFggS8w9snUts67BSh3EqKpXLUm5UMHfD7ZBe9GhARjbNQMLJ1QD3Spr6oMTBU6EhdB4RD8CP2xUxr2u3d6fos36PD98XS6oX8TQjLpsMwncs5DAMiD4nNnR8NBfyghGCWvCVifVwvA8B8TJxE1aiyiv2L429BCWfyzAme5sZW8rDb14NeCQHhZbtNqfXhcp2tAnaAT"
    ]
  }
'
So let's say I got request like that
So the `data` here is account data (not program instruction). To start decoding that you would need to `decode` from base58 string to buffer array but at that point you'd have to figure out the pieces
It's example from solana docs
Getaccountinfo
So the data you have there is in response to what request?
But magic Eden has base64 I suppose
{
  "jsonrpc": "2.0",
  "result": {
    "context": {
      "slot": 1
    },
    "value": {
      "data": [
        "11116bv5nS2h3y12kD1yUKeMZvGcKLSjQgX6BeV7u1FrjeJcKfsHRTPuR3oZ1EioKtYGiYxpxMG5vpbZLsbcBYBEmZZcMKaSoGx9JZeAuWf",
        "base58"
      ],
      "executable": false,
      "lamports": 1000000000,
      "owner": "11111111111111111111111111111111",
      "rentEpoch": 2
    }
  },
  "id": 1
}
Let's say that
Unfortunately I'm not at home but let me find something
Do you have an example request?
Yeah, but how can I decode that instruction from request
Ok and there is no existing opensource option for this that you are aware of?
Yes, you would need to create a program 
That has an instruction that expects 1 source account that holds the funds and N accounts that you want to distribute it to. You would need the source accounts private key to sign the instruction before sending it to the program
The use case is we have a wallet that takes payment we want to split the income from this wallet between two people. If both people have the wallet key they could easily drain it.

The program would act as the wallet, you can activate the program by calling a split function, this would then send 50% of the wallet content to one address and 50% to the other address.

As long as the program works there would be no way to steal the funds as its only possible to split them.
What is the use case or scenario to give me a better idea. I think the SPL programs (Token, Token-Swap, etc.) support multisig but it sounds like you want more.
The use case will help
https://spl.solana.com/token#multisignatures
Right so from reading online it looks like I need to hire someone to write a program, this program will be accessible by contacting its address (program derived address), Is this correct?
Not being open source just means you'll have to figure out those details in the blind.  For example, if you know what the encoded instruction data 'string' is you can try to reverse engineer it.
Wallets are just a Solana account that is owned by the System program. If you have the keypair you can just connect using the Solana Rust RcpClient to connect with a cluster (local, devnet, testnet, mainnet-beta) and then perform whatever you are trying to do. There are command line utilities for both Solana and Solana Program Library, you just need to install them on your/target machine.
So I can't decode it if it isn't open source?
Hello !
I'm trying to make a CLI that communicates with the blockchain and sends transactions. How to establish a connection with the wallet using the private key ?
Hi, Is there a way to get the value of token compared to another token pair in the swap pool for solana token swap program?
You have to know two things:
1. The layout of the instruction data and types it expects in that structure
2. How they deserialize on the program side so you can serialize the instruction data before sending
But that's the general question, how can I decode data that is passed in json rpc request?
It's just for announcement
They don't have any general chat on discord
they have a discord and you can ask there. They are not open source, to the best of my knowledge, so I don't know why you would want that but ask there... good luck!
Thank you found it
What are my options if I want a mult signature wallet?
Right now I'm not home but I just want to know what values are passed in that request, it's magic eden program
It's on their github repo. I don't belong to it
Yeah but I asked you for an invite to the Anchor discord server
Just ask your question here, I don't know Anchor but others here may. I still believe you are better off asking in the Anchor discord... it's there for a reason
wdym ?
No, too many scams... just ask your question here. If I can't answer it someone else may be more helpful
Can you send me an invite please
So Wallets don't move SOL or lamports around... instructions do, check:
-> To send SOL (can also be done inside a program) https://solanacookbook.com/references/basic-transactions.html#sending-sol 
-> To transfer lamports from program owned accounts to wallets: https://solanacookbook.com/references/programs.html#scenario
What are you decoding? Instruction data? And if instruction data, for what program? Or are you wanting to deserialize account data?
But i have to know what is inside params, is there any way to decode it?
Solana has a TS/JS library you can use to connect to clusters, build and submit transactions, etc. etc. Basically it wraps the JSON RPC functions
The author <@!639493393512398869> is on this server, you can direct questions to him... perhaps he can get you going
I would like to set up a wallet to take payment that then splits the payment between two other wallets, is there any sort of contract that I can use to do this? The closest I found was this https://github.com/project-serum/multisig
I want to compile uniswap contracts on solana, I am a bit new to block chain. Thanks for the link, I have gone through it before now but didn't understand it very well
So I want to translate post request to json rpc to web3js
Anchor has a discord server, you'd be better off asking there
I want to make same transaction with node js that takes place in my browser
Hey, anyone experienced with typescript and '@project-serum/anchor' ?
What are you trying to 'reproduce'?
https://github.com/hyperledger-labs/solang
It depends. If you are using features not yet enabled on a cluster they should silently be ignored. For example, if you are leverage the Request additional transaction ComputeUnits and your instructions are fat, they may fail on ComputeUnit consumption. The cookbook has a section on this for testing: https://solanacookbook.com/guides/feature-parity-testing.html
You should bump up to 1.9.6 as it contains the ability to control cluster parity in local testing so you can detect other anomalies...
Hi guys, want to compile Ethereum contracts in Solana, anybody have ideas or guidelines?
What is the difference between useWallet() and useAnchorWallet() in the '@solana/wallet-adapter-react' package?
is there any way i can parse sendtransaction from browser to be able to reproduce same function in web3js?
sorry i meant, to create a liquidity pool with Wallet B
guys i have an issue, i created an Market ID, to create a liquidity pool. lets say that i created the Market ID with wallet A is it still possible, to add liquidity with Wallet B?
is there any issue with using solana 1.9.5 as your version in toml files and deploying now? (since mainnet is sitll on 1.8.x)
just like you have 'u8'
ahh okay
Yes
ooo so by the default it has to be lower case?
Cool, use lowercase .... the serializer resolves it to upper case or fails if you've done that instead
💚
ill try that later, and inform it here later, as usual, thank you <@!814228493302497301>
i tried that but with capital 'S', "String"
And shouldn't you have `['setting_url', {kind: 'option', type: string}],`
failed to deserialized
it says borsh error..
Ok, and is it not working or....?
i use the setStore for temporary
instruction data to program, more precise, metaplex program
So, to start with, here you have `instruction` but you don't have that in `SetStoreV2Args` in Rust structure. Is this structure for program owned accounts or is it for passing instructions data to the program?
i made it like this
the Option<String> part
ok.. i tried it million ways but still failed
maybe take a look at https://github.com/near/borsh-js
and how metaplex do https://github.com/metaplex-foundation/metaplex-program-library
solana runtime will load everything for you.
a client can't falsify account's owner but they can write a custom program to make a same struct account to treat your program.
if you want to read some data from an account, you should always check the owner (program id) is a trusted one.
ok. there are some official endpoints you can use https://docs.solana.com/cluster/rpc-endpoints
if you got a rate limit, you will need to find some rpc service like rpcpool or quicknode...
you can also build your own node https://docs.solana.com/running-validator
i want to serialize it using borsh, whats the schema look like ? can anybody help me
hey <@!788215642070581289> .

curious a little bit.

At what time do `AccountMetas` get converted into `AccountInfos`.

is it in the `solana_program`, or is it in my `client`.


my fear is that, if it is in the client, then I could be receiving falsified data, like a false `accountinfo.owner` or even the data in the account.

are my fears warrented?
I'm opening a trading robot that I hope will actually make money, not test
What is the difference between solana-test-validator and solana-validator, and can I also get transactions from the official environment and commit my transactions normally using solana-test-validator?
Hi, Is there a way to get the value of token compared to another token pair in the swap pool for solana token swap program?
Yes, you can do Cross Program Invocation (CPI): https://docs.solana.com/developing/programming-model/calling-between-programs#cross-program-invocations
can I make a contract to send token instead of using command line?
if you just want to do some dpp development, you can just use `solana-test-validator`
https://docs.solana.com/developing/test-validator
"/root/.local/share/solana/install/active_release/bin/solana-validator "
solana-validator run,  with --rpc-port 8899
did you launch any validators in your local ? like `solana-test-validator` or something
or you can use devnet to develop.
```
curl https://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getBlockHeight",
    "params": []
  }
'
```
maybe yes, you called to a on-chain program and it return you `failed: incorrect program id for instruction`
you should init your greeted account correctly so that your greet program can update its data.
Hi, when I access the rpc address, it shows Connection refused, but I am correct with the command line, this is my request: curl http://localhost:8899 -X POST -H "Content-Type: application/json" -d '{"jsonrpc" : "2.0", "id":1, "method": "getBlockHeight"}'
Does this mean I successfully created a custom client to communicate with a program on chain ?

{context: {…}, value: {…}}
react_devtools_backend.js:4061 Transaction simulation failed: Error processing Instruction 0: incorrect program id for instruction 
    Program DuLuH7VqgsEQooXcdmvrLWvhTxpMBKknVgDVSegCkdEH invoke [1]
    Program log: Hello World Rust program entrypoint
    Program log: Greeted account does not have the correct program id
    Program DuLuH7VqgsEQooXcdmvrLWvhTxpMBKknVgDVSegCkdEH consumed 682 of 200000 compute units <------------------------------------------------
    Program DuLuH7VqgsEQooXcdmvrLWvhTxpMBKknVgDVSegCkdEH failed: incorrect program id for instruction
I don't mind either
okay cool i can see it now. the one that I said failed above also says it failed on the inspector. I can start to look into it more tomorrow. Could/Should we switch to dm or keep chatting here ?

error while wallet integration in solana pay
https://explorer.solana.com/tx/inspector
Oh no, not the search bar.
for some reason when I copy and paste it into the search bar nothing comes back. will look at it again tomorrow i could just be doing something dumb it's late for me
If you enter that into the solana inspector and click simulate it says it succeedes
this is another one I just sent that said it failed
AdUbI1t/uG0nYueMgJZPfGGvE1ThBxlRaMNiBVOXHDMd5/nZ0rvSWzUR0n3QtiTH9VOFoslz8hsZ+mq10REfzQcBAAYJbQVaj2pLgVFJ89FpMi3YEEU31FrCNhO8kCqKwIriYOTQWaoQQKJY+z+3SN6U5U5RdXtNVnIHKbyiqnQ4BiwwsSqr0EJRSLE2hoh22lwOnw4RWCOmqxEwiO8xHSU583RrF/XAWLBLsMO4iAkeKIfhg+RX5yJDj/DRiYW80fNhZmve5qwT7XcZS+WKgpSgXy4YVH6Fw7sXNikUW32AKEdZvwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkGp9UXGSxcUSGMyUw9SvF/WNruCJuh/UTj29mKAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZIFhyioGU2CuC0cubsHKzVsu+5ZTr+8ALOO7LQBkJ/1ECCAcAAQMEBQYHAAYDAgEACQMBAAAAAAAAAA
Hmm it works now.
https://explorer.solana.com/tx/inspector?signatures=%255B%25225G7uAxqskTKoNMoftbGoPBzCiHjKmzPaUZpMUAiVxEhhWVYPnbmxsmLKTqir85BAFRFo5pHCopKZbhui7eW2ccUN%2522%255D&message=AQAGCW0FWo9qS4FRSfPRaTIt2BBFN9RawjYTvJAqisCK4mDk0FmqEECiWPs%252Ft0jelOVOUXV7TVZyBym8oqp0OAYsMLEqq9BCUUixNoaIdtpcDp8OEVgjpqsRMIjvMR0lOfN0axf1wFiwS7DDuIgJHiiH4YPkV%252BciQ4%252Fw0YmFvNHzYWZr3uasE%252B13GUvlioKUoF8uGFR%252BhcO7FzYpFFt9gChHWb8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV%252B%252FwCpBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAACMlyWPTiSJ8bs9ECkUjg2DC1oTmdr%252FEIQEjnvY2%252Bn4WSBYcoqBlNgrgtHLm7Bys1bLvuWU6%252FvACzjuy0AZCf9RAggHAAEDBAUGBwAGAwIBAAkDAQAAAAAAAAA%253D&cluster=devnet
AdUbI1t/uG0nYueMgJZPfGGvE1ThBxlRaMNiBVOXHDMd5/nZ0rvSWzUR0n3QtiTH9VOFoslz8hsZ+mq10REfzQcBAAYJbQVaj2pLgVFJ89FpMi3YEEU31FrCNhO8kCqKwIriYOTQWaoQQKJY+z+3SN6U5U5RdXtNVnIHKbyiqnQ4BiwwsSqr0EJRSLE2hoh22lwOnw4RWCOmqxEwiO8xHSU583RrF/XAWLBLsMO4iAkeKIfhg+RX5yJDj/DRiYW80fNhZmve5qwT7XcZS+WKgpSgXy4YVH6Fw7sXNikUW32AKEdZvwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkGp9UXGSxcUSGMyUw9SvF/WNruCJuh/UTj29mKAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZIFhyioGU2CuC0cubsHKzVsu+5ZTr+8ALOO7LQBkJ/1ECCAcAAQMEBQYHAAYDAgEACQMBAAAAAAAAAA
Can you check the network tab for the transaction base64 data?
This is what I get when it fails in the browser. It is the same error as the one I was getting server side. The only difference is that sometimes I do not get the error
Does solana have mirror sites to avoid being blocked, or other endings？ Specifically for https://api.google.devnet.solana.comand and the mainnet port.
Well that seemed to work in the browser sometimes... It will work one time then fail the next two. work twice then fail
Let me give that a try
Can you try in the browser?
Ah true
Wouldn't the network tab not show it because it was called from my server side code?
So the send token function takes in the the from wallet,  the destination public key, the mint address, and the associated token address
stuck on loading
is the phantom exchange down?
And can you check the network tab for a simulate transaction RPC call
Sorry that's on me I will send them
Sorry which values?
I did notice that when I put the same code in my frontend browser side but hardcode the values from the previous failed transaction that the transferring of the token does work
it is on my node js server
Is there anything in the Solana docs I could look at the would help me to understand how to do this?
You are in the browser, right?
Ah
Unfortunately I am using metaplex's actions.sendToken method in the sdk and the error is inside of that function and it will only return the encoded transaction on success. Even though I am using it  I was getting the same error as Veritas so I thought maybe I was passing a parameter in wrong
thank you
You can't query floor directly from the chain, you have to calculate it as the lowest current listed price of the nft.
1. Yes
2. I would suggest going through the solana cookbook
The link I sent shows you how to do that.
You can dump the instruction data as base64 and inspect it separately
Hahaha my dev already create a tool that shows NFT wallet distribution per project but I can’t figure out how to help him find floor price or volume. I’m so lost haha can anyone point me in the right direction?
anyone can help me with this question?
the transaction did not go through? Unless I am misunderstanding
Can you send me the encoded transaction:
https://explorer.solana.com/tx/inspector
Can you? Yes
Will it be easy? No
https://spl.solana.com/memo
i cant find anything about a memo instrucxtion
Could you get information like this from the blockchain: compiling list of every NFT in a project and all the buys and sells of every NFT within it to see overall volume of a project?
Did you end up finding a solution to this?
because i don't see any doc for it
can I write a contract that transfer my tokens to other?
friend you are a genius, I had 2 days trying to do this and in 5 minutes with your advice I have achieved it, really thank you very much. We need more people like you on this planet. Regards... Thank you, Thank you, Really thank you
hey guys, just started learning about solana recently. have a few questions. 
1. So, is Program in Solana called Smart Contract in Ethereum? 
2. in anchor.web3.findProgramAddress. Do we have 1 program address for one programId? or if not can you explain more about why it's not one.
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#constructor
the first input is a endpoint string.
to know how to parse an instruction, you should know how the instruction encode.
you can take a look at https://solana-labs.github.io/solana-web3.js/classes/SystemInstruction.html#decodeTransfer
the main idea is to make the tx a little bit different.
maybe you can add an extra memo instruction and pass different text.
I use the metaplex documentation a lot, I hope it can help you  docs.metaplex.com/candy-machine-v2/introduction
How do I connect directly with the blockchain with Web3 to be able to aggregate NFT projects data. I would like to compile floor price and volume for each project. Can someone help me with this?
really sorry for the inconvenience, where can I put the parameter of the new private rpc?......"const connection = new Connection(clusterApiUrl("devnet"), "confirmed");".... I bought runnode
how can i parse the instruction?
ok i think i figured out how it can be done
(i have seen `recent_block_hash` however i don't believe new ones are generated fast enough to be useful here)
hello! my application needs to submit the same transaction more than once in quick succession. however, because transactions can't be duplicated, I can't just submit all of them as is. what is the workaround?
like this
https://i.imgur.com/YRRrPBT.png
i can extract balance change
much obliged
`spl-token authorize --help`
Is there a way to do this from the spl-token cli instead of code?
how can i parse the tx
https://solanacookbook.com/references/token.html#set-authority
yeah its expecting a normal transfer of SOL
I think you use https://solanacookbook.com/references/token.html#get-token-account-by-owner to get all token accounts which owned by a wallet. then parse these token accounts to sort fungible token and non fungible token, for how to sort you can refer to https://discord.com/channels/428295358100013066/517163444747894795/944428800387727360
How do I remove the ability/authority to mint after I've made some tokens?
FYI https://solanacookbook.com/core-concepts/pdas.html
<@!788215642070581289> thanks 
had to google PDA(Program Derived Address) but yea makes sense
for now I think it will be a little bit hard. there are two ways you can do
1. parse whole tx
if this tx only contains some known programs, you can parse it very clear. you know every single instructions for.
if this tx contains some unknown program, you can't understand what it want to do.

2. use simulate transaction
it involves pre-state issue, you can trace this issue I think
https://github.com/solana-labs/solana/issues/18509
Ok I'll try
for me the flow will more like:
you have a program which
a) an instruction which can (create mint + create a token account for PDA + mint token to the token account)
b) an instruction which can claim token (main idea is just transferring token by the token account which created by the first instruction)

and you do
1. deploy the program
2. call a)
3. wait someone to call b) until they drain your token account out
I think you can parse every blocks for a reliable solution
buy a private rpc service, however getTokenAccountsByDelegate still doesn't work I would like to get the NFTs of a wallet by jsonrpc-api. 😦
I think you can use these check to know it.
1. is the address a mint
2. is the address's decimals is 0
3. is the address's supply is 1
4. is the address has a metadata account?
(5. for new version metadata you can just check metadata.)
iv tried ```js
res.meta.preBalances[0] - res.meta.postBalances[0]``` but this doesnt show the correct amount
Hi is there a way i can see how much SOL was sent using getTransaction?
Noob question 
Can a program store spl-tokens ?

For example:
program mints 50k spl-tokens but sends it to nobody 
Just store it on chain 
until someone else calls the program to receive X amount

Or...is the right approach....
Deploy a program that can only mint and transfer simultaneously up to X amount.
So the program just keeps track of how many tokens it has created.
Hi guys, I want to implement a stable web server application that monitors a bunch of solana addresses, about their balance change of SOL and spl tokens. And it notifies me when these changes happen on solana blockchain.
How to achieve this?
I have checked the solana tutorials, The websocket subscription (includes accountSubscrib, blockSubscribe, etc.) is kind of unstable when in applications.
So what is the final solution? Do I have to check every slot/block of solana netowork, and parse every transaction info?
Anyone can give me some hints. Thanks very much.
Is there any way for me to know if an address is an NFT?
it makes sense. just a learning process. most here are giving advice and pointers from experience. keep hashing it out. here to help.
I admit I have just started and with very limitted knowledge, The program I am going to write would be a backend multi-threaded typical webserver. So to simulate that I am trying to send the token_id & corresponding account_id, payer key in a api call. The back-end server should connect to mainnet clusture in production and fetch the account balance. If you don't hate my questions I can explain you directly by  a DM. 🙂 So that is why perhaps I explain w.r.t a main program. In the end user would send these all base 58 strings, the backend program must do everything else.
spend some time and read. how things work. and run through some example. deploy and execute some already working code and test functions.  https://solanacookbook.com/#contributing  and https://soldev.app/ for resources and related learning material.  you will thank yourself later.  

above you appear to have a rust 'client' (off-chain).  not to be confused with a Solana program (on-chain).

The Solana Repo has the best examples of rust clients and programs.  Token program, stake program, governance program. Review those clients and programs to observe practice and flow. The tutorial I sent also is also good reference.
this is my project layout
but I must not write  entrypoint!(process_instruction);
i have no idea what your referring to as a  main function.
so basically I can create an account object in my main function and then pass that to another calling function by this  accounts: &[AccountInfo] ?
you cannot convert a token id into an account in the program. you have to pass in the address from a client, and then in the program reference the account passed in, that is now loaded. walk through some app code and tutorials. this will be much more difficult without walking through examples of programs. it does not lend itself well to smashing pieces together to come up with solutions like in javascript and other related languages.
Thank you, I think JacobCreech said the same. To be honest I am learning so have very limitted knowledge. However I had tried that. Since I am doing it in my main function , I was trying to convert that token id (which is a base 58 string) to a account somehow but couldn't. Let me find out that issue by uncommenting my code.
here is a potential reference walking through a simple program, dealing with an amount, in both Native, and then Anchor.  I suggest you take a few moments on this to digest: the related links are good as well.

https://hackmd.io/@ironaddicteddog/solana-starter-kit#2-Escrow-Program-using-vanilla-Rust
from anchor, you access amount directly, generally.

`ctx.accounts.some_account.amount`
keypair) you do not load a keypair inside your program, that would only be done from a client.
these would be separate issues.  getting a token balance, getting a solana balance, and reading a key pair.   not sure why they are all being lumped. focus on a single thing.

to read an amount from an account in program, the account should be passed into the program.  in native it needs to be read, generally, with something like:

Native: 

`let some_token_account = next_account_info(account_info_iter)?;`

then you may need to unpack it in native to an account info, 
`let some_token_account_info = TokenAccount::unpack(&some_token_account .data.borrow())?;`

then you may be able to access `some_token_account_info.amount`
this is what I had mentioned in above i.e [[[use anchor_client::solana_sdk::signature::read_keypair_file;
let payer = read_keypair_file(&*shellexpand::tilde("~/.config/solana/id.json"))
        .expect("Example requires a keypair file");
let payer_wallet_balance = client.get_balance(&payer.pubkey()).unwrap();
    log_write("DBG", &("Balance of the payer wallet before transfer: ".to_string() + &payer_wallet_balance.to_string() +  " lamports"));]]]
to be honest I also use anchor crates in the same program e.g to get the account from another account which I amgoing to use as a fee payer. It's key is in ~/.config/solana/id.json .  That works fine.
native
in Native Solana or using Anchor framework?
This is my main question, looking for some guidance. "Hi, I have created a token account successfully in CLI by using "spl-token  create-token" command, wanted to use that token id in rust main program and get the balance at run time in the program. Is there any sample rust program that I can refer. I want to see the same result as "spl-token balance" command."
I see they use token address of type  Option<Pubkey> . I have  the token id which is a base 58 string. How can convert that from a base 58 string to Option<Pubkey> type ?
what is the question?  lot going on..
checking now
<@!913104767880953887> Did you check the repo link I sent above?
So upon startup of validator, the 'payer' account is given gobs of SOL
As a nit, if you wrap your rust code pasted in here with with three backtics in the begining and then three more after:
```
let payer = read_keypair_file(&*shellexpand::tilde("~/.config/solana/id.json"))
        .expect("Example requires a keypair file");
let payer_wallet_balance = client.get_balance(&payer.pubkey()).unwrap();
    log_write("DBG", &("Balance of the payer wallet before transfer: ".to_string() + &payer_wallet_balance.to_string() +  " lamports"));
```
DEBUG: Payer wallet account to pay the transfer fees :FAtw4uNApDnnbbq1zFFFPUvntwpwLkkXGUdFmMhFMD1Q
DEBUG: Balance of the owner wallet before transfer: 499999999996479120 lamports
This is the program output.
let payer = read_keypair_file(&*shellexpand::tilde("~/.config/solana/id.json"))
        .expect("Example requires a keypair file");
let payer_wallet_balance = client.get_balance(&payer.pubkey()).unwrap();
    log_write("DBG", &("Balance of the payer wallet before transfer: ".to_string() + &payer_wallet_balance.to_string() +  " lamports"));
This is the code .
This is another account I had created and I am going to use this a payer account. In fact I am able to access this balance correctly in my rust program.
So what you want is the SOL wrapped total from the token
At first glance, tokens have not been my forte, I see this in the spl-token CLI: https://github.com/solana-labs/solana-program-library/blob/master/token/cli/src/main.rs#L1125
Getting balance from ATA maybe?
~>solana balance
499999999.996479094 SOL
~>
Then I am tryig to use the token id in the rust program and trying to fetch the balance to confirm that if my program is regerring/working with the same token
Instead of using `spl-token balance ...`, what does `solana balance ...` show you?
I creates a token on command prompt, then a account, then I mint for 10 unit, then I checked the balance of that token and get exactly same nr. of SOL that I minted.
yes, exactly
So I get this straight
1. You set your config to local `solana config set -ul`
2. You start `solana-test-validator` , you may or may not start `solana logs` in separate terminal
3. You create the token (logs confirm)
4. You then run your Rust test 
?
Could you please elaborate on it? Possible testing approaches used by Solana community.
https://solanacookbook.com/guides/debugging-solana-programs.html
Is for me, it is a stripped down node and it is what `cargo test-bpf` uses under the covers for your program
No no.. it's just my message but it's the same token
So, is `solana-program-test` de facto standard approach to writing unit test?
So the wallet and the token are two different things
This is from the program:DEBUG: The Sender token address:Bn3WABBjepQwPgzMRzj872fDdoDwN28Z8tdyADUBECyi
DEBUG: The Sender wallet balance before transfer:2039280 lamports
This is the correct result on CLI ~>spl-token balance Bn3WABBjepQwPgzMRzj872fDdoDwN28Z8tdyADUBECyi
10
Actual balance is 10
Screen snippets are hard to read, copy/paste text in
It always gives this result .
getbalance didn't work?
My SOP is bottom up... programs written in rust, unit test, local node test. When all that works I deal with CLI or Node.js
that's all fine. By any chance you think you can help on my question. I am trying different options for a while but looks like I am stuck now.
And got frustrated when I saw typescript files generated by Anchor
I suffered a lot of Node.js 🙂  when did Eth + Solidity
My apologies, I thought I was respondingi to <@!942045509793755147> but I tagged you on the reply
The short answer is Yes with potential caveats with Anchor

I am using RpcClient to connect with my local clusture. Here is a code snippet.
I don't know. It is my first project, I've just started (but have Eth experience). In any case, whatever it is
Testing through RPC or unit testing of your program?
What I mean is, if you can deploy your program to `solnaa-test-validator` which runs a local node, you can use Solana RcpClient to interact with it.
If you want to do unit testing from Rust you may need to talk with the Anchor folk. I know for certain, you can use `solana-program-test` crate to unit test the program logic
I've generated a new project using Anchor. It's created a test folder with a typescript file. Does it mean I have to learn typescript in order to write tests? Or is it possible to write tests in Rust?
Hi, I have created a token account successfully in CLI by using "spl-token  create-token" command, wanted to use that token id in rust main program and get the balance at run time in the program. Is there any sample rust program that I can refer. I want to see the same result as "spl-token balance" command.
Yes, I'm seeing that now, thank you!  Am looking for documentation on how to request a bigger heap size...?
A number of these are features, most of which are enabled when you do local tests. At lease 1,2 and 4 in 1.9.2 and greater. I don't know of any schedule when they go active in dev/test/mainnet-beta however
When are these slated for release?  Also, I read in the docs that
> In the future a copy-on-write mechanism could be added to support writable data
Would one of these upcoming releases include such a mechanism?
Oh, compute unit?
What do you mean by CU?
So, there is also the CU (1.8.x) caps. Which you would likely hit before exhausting 30 seconds of execution.
However; there are a few things coming (1.9.x, 1.10.0)
1. You can request more ComputeUnits.... don't think they've locked down the costs for that though
2. You can request bigger heap sizes
3. There was talk of increasing the byte size of transaction (2x?)
4. You can realloc account data sizes, although not sure about PDA
Transactions can't be bigger than 1232 bytes at this time
Hi!  Am looking for the upper limit to the amount of memory that clients are allowed to send to a program in an instruction, if there is one?  The 32kb heap constraint is very clear — but AFAICT the deserialization of program instructions is only limited by the 30 seconds of runtime.  Or am I missing something?
Ok, thanks for your time <@!489206164270350337>
Anything with NFTs is heavily rate limited or banned on the public rpcs. I would go to either metaplex's rpcs, genesysgo, or another provider
yes, but the owner does not give me the nft only tokens..... rpc beta-mainnet
`getTokenAccountsByOwner` should work
What rpc?
I would read the readme and follow if you want a non-NFT token
getTokenAccountsByDelegate or getTokenAccountsByOwner.... what I really want to know is which NFTs have a phantom wallet through json rpc
So, devs have to create a PR for the token-list?
We don't support that here though, that's separate
token-list for normal tokens today is where wallets like phantom pull from
with metadata
<@!489206164270350337> but if we forget about metaplex, how can I decorate an spl-token?
Not entirely sure on the metaplex side for "decorating". I would ask in there and hopefully the expertise there will help
If not possible, that's fine, I'll look into something else.
What method? Looks like you'll need a different rpc to do whatever you're doing
<@!489206164270350337> yeh, was trying to point out how I end up at this point because ideally, I'd like to know how to decorate an spl token with metadata, that's all.
Hi guys, how's everything? I am trying to take a value by json and it gives me an error, "message": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA excluded from account secondary indexes; this RPC method unavailable for key"
So, that's the reason why I'm looking into understanding what to do directly on-chain
You're reaching the limits of my metaplex knowledge here. I would ask all of these questions in the metaplex discord
"Introduced in v1.1.0 of the token metadata standard, on-chain collections replace the collection field previously defined in external JSON metadata. Gone are the ad-hoc community heuristics for determining a collection, superseded with an objective, easy-to-use on-chain implementation."
As seen in ( https://docs.metaplex.com/token-metadata/specification ) 

```
  //@deprecated -> do not use - may be removed in a future release
  "collection": {
    "name": "Solflare X NFT",
    "family": "Solflare"
  },
```
So, from what I observe, the collection grouping I got through testing deploying metaplex token standard, is that it lacks the collection and phantom nests inside the same tile. Metaplex is deprecating the "Collection" and "Creators" field
I believe Phantom groups by collection
when I check Phantom docs on that ( https://docs.phantom.app/integrating/tokens/non-fungible-tokens ) 

Grouping Non-Fungible Tokens - Phantom groups non-fungible tokens by the first verified creator's address in the creators array found on the on-chain metadata.
When a group is created, a best-effort process is used to determine that group’s name. That is because not every collection includes all the uri schema json key / value pairs. The following data is therefore used in descending order of preference:
collection.name
collection.family
external_url (parsed to remove url parts)
name (of a single collectible)
symbol
address of the first verified creator in the creators array (also used to group the collection)

Please add the above mentioned data if you are a creator and want your collection to be displayed properly in Phantom.
Ok, I'll give it another go. Although, it seems that Metaplex at the moment, does not provide the "Collection" field which "Phantom" requires. As I see it as "Null". Here's a quick example ( https://explorer.solana.com/address/GKbhFNfLXGp582SJ1V7da322xg7kqGHYwzUefbz3d3vm/metadata?cluster=testnet )
You can read about different steps in the cookbook linked, and ask around in metaplex discord for the expertise
You create a new mint account off of the spl-token program. That's a new token. Then you create the metadata account linked to it
No, thats not how it works
Yes, there's the metaplex nft standard and metaplex owns it. So, if I want to mint an spl-token decorated with metadata, I have to deploy my own program/implementation?
Metaplex is the NFT standard. Metaplex owns the metadata program
So, looking into how to decorate a token myself
<@!489206164270350337> Yeh, know about it, but I want to do it directly on-chain not via metaplex, as most people there use candymachine so they don't code I think
You're looking for metaplex discord -> https://discord.gg/KXJmMvxS and maybe https://solanacookbook.com/references/nfts.html#mint-an-nft
will do
To be honest, any eip721 like token standard
What I found thusfar is that it seems that token names are put here https://github.com/solana-labs/token-list/blob/main/src/tokens/solana.tokenlist.json ? Wasn't expecting that.
The reason why I'm looking into this, is that tested @metaplex/js "mintNFT" method, that works great, but Phantom seems to not organise the tokens by the field "Collection" in the metaplex metadata, I minted through @metaplex/js "mintNFT".
I'm trying to get an ideia of how that's done, started by looking into spl-token but while looking at this quickly just to see how doable it is, did not find how to decorate the token with metadata.
Metaplex token standard, for example. Or the open sea token standard.
What kind of metadata?
Trying to get an idea of how to decorate an spl-token with metadata. Are there any examples?
i'm going to google search about VRF and switchboard, cheers!
Sounds good to me
That's a web hosting question. Google should be helpful
VRF. I think switchboard has something. Chainlink is in devnet
hello everyone! since is impossible generate random number within a program, how are you all dealing with this? is there any workaround??
what's a good hosting provider for a defi app (need just static hosting)?
hey guys, I'm looking to build a smart contract where every time an account reaching 5 SOL, it divides it by 5 and sends it out evenly to 5 addresses.  It needs to be trustless so I'm thinking on a high level, how the contract is constructed is the accumulating account is a Program Derived Account so that there is no Signer.  From there, Off-chain code checks the account balance.  If the balance is greater than 5, then, invoke the contract.  Would this be an appropriate approach?  Please advise.  Thank you
Will look into in a bit
please check dm.
I've forwarded the codes I've been using, sir.
Yes. What I'm saying is your code should have worked for this specific key. Can you run it for a failure and verify? Also, do you have a gist anywhere for this so I can see the entire content?
what if there is no token address? don't i need to recreate it?
I was able to get it from the get call:
```
const solderlandMint = new PublicKey('9ZLBKPCzkvDv85hojKofsogsESkJMN164QCVUtxvBxEQ');
const susKey = new PublicKey('HHPP2f324Az3VJgz7Fja9DZMVo7Fq1eGTkkvGvhWSN4e');

const tokenAddress = await getAssociatedTokenAddress(solderlandMint, susKey)
```
Solderland Token
yes sir
What mint?
Mainnet?
This is a screenshot from my own data, sir. To store signatures.
I received the error publickey: HHPP2f324Az3VJgz7Fja9DZMVo7Fq1eGTkkvGvhWSN4e
I don't even know what this is showing. Can you give an example of a publicKey where this fails to find the toTokenAccount?
It's proof that I don't get this error all the time, I get this error sometimes, and I haven't found dec reason, sir.
What is this a screenshot for?
sometimes it works, sometimes it doesn't work sir.
`const toKeypair = new PublicKey(walletAddress);`
is `toKeypair` a keypair or public key?
Hi everyone!
I'm transferring tokens as follows
```javascript
 // Create associated token accounts for my token if they don't exist yet
      const fromTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
        fromKeypair.publicKey
      );
      const toTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
        toKeypair
      );
      // Add token transfer instructions to transaction
      const transaction = new Transaction().add(
        Token.createTransferCheckedInstruction(
          TOKEN_PROGRAM_ID,
          fromTokenAccount.address,
          myMint,
          toTokenAccount.address,
          fromKeypair.publicKey,
          [],
          reward.count * 1e6,
          6
        )
      );
      // Sign transaction, broadcast, and confirm
      signature = await sendAndConfirmTransaction(connection, transaction, [fromKeypair]);
```
However, I am getting a "Failed to find account" error. Where am I doing wrong?
there is currently no 'recommended' path per say.
As public examples
Jet has a math library,
Drift has another
Saber another math implementations
Solana repos have `precise_number` preciseNumber and a math lib 

I dont have direct links. They should be easily discoverable with a google after getting to the repos.  I would like to come out with some examples for math in the future.


///////////////////////////////////////////////////////////////////////////////////////////////

Actually getRecentBlockhash returned both a blockhash and a feeCalculator
hi everyone, had a question about the deprecation of getRecentBlockhash (https://docs.solana.com/developing/clients/jsonrpc-api#getrecentblockhash) - it looks like this is intended to be replaced by getFeeForMessage (https://docs.solana.com/developing/clients/jsonrpc-api#getfeeformessage) but the second function doesn't return a blockhash at all?
Use `Metadata.findDataByOwner` from `@metaplex-foundation/mpl-token-metadata`
I see the full source code, but both examples are how to get data from an NFT. Both require a tokenMint address. All I have is the public key of a wallet
Click the `<\>` for full source of each
Thank you for the response! This example seems to be the only one valid for me, but is the tokenmint the public key of the wallet?
https://solanacookbook.com/references/nfts.html#get-nft-metadata
How can I get NFT metadata with a public key in javascript
if possible with cli
yeah trying to find out that
I believe there are a number of metrics that a node produces
`How many blocks specific node is`?
is it possible to somehow check how many blocks specific node is or how many txs are queued?
If you do make something, please share. Would love to forward to phantom and work with them to not get errors swallowed
Haha somewhat...it's private atm because I'm building a token swap program using anchor, but I'd be happy to make a repo for this purpose in a little bit
Do you have a gist or repo of this? I'd love to share a minimal code repo to share with phantom to understand what's going on
Phantom seems to hide the error for some reason. Try another wallet for testing
```
Phantom - RPC Error: Transaction creation failed. 
Object { code: -32003, message: "Transaction creation failed." }
```
trying to sign and send a simple `createAccount` instruction...keeps failing through Phantom but unsure why

```
  const createAccountIx = SystemProgram.createAccount({
    fromPubkey: new PublicKey(user),
    newAccountPubkey: mintAccount.publicKey,
    lamports: balanceNeeded,
    space: MintLayout.span,
    programId: TOKEN_PROGRAM_ID
  });
  const transaction = new Transaction()
  transaction.add(createAccountIx)
  transaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
  transaction.feePayer = feePayer.publicKey;
  return await window.solana.signAndSendTransaction(transaction);
```
I think 0x6808 is a ledger specific error. I would look in their docs
Define honesty. Also, how would you prove you're honest? 🙂
<@!489206164270350337> OK, got it, thanks a lot for clarification!
running on localhost
Why am I getting this error when trying to mint with a ledger wallet?
```ts
WalletSignTransactionError: Ledger device: UNKNOWN_ERROR (0x6808)
    at LedgerWalletAdapter.<anonymous> (adapter.ts:133)
    at Generator.throw (<anonymous>)
    at rejected (index.ts:1)
```
my code:
```ts
  const wallets = useMemo(
    () => [
      ....
      getLedgerWallet(),
  ],
  [],
);
```
ty for the fast response!
well it's not really mission critical
hmmm, alright
I think testnet is often off by hours. I've seen days in the past as well
very good to know- will just keep plugging away myself 😉
I'm trying to do some kind of reasonable input validation, so obviously a "current" timestamp won't be from last year or last month, but slightly tighter bounds would be nice
bidirectionally? and are we talking order of minutes?hours?days?
It can be pretty far off. It's just an estimate.
thanks for the response
Honest devs are all hired almost immediately after found. Try twitter and good luck
crickets. sad
I think this has information on how to bench: https://docs.solana.com/cluster/bench-tps
question re the clock sysvar: roughly how far off from the present can we expect that to be? I imagine there's some variability but trying to get high confidence bounds.
Not sure if it is out of date, but that is a lot more power than c5.xlarge
Looking at old tutorials, but you need a lot more ram than 8gb to run a validator. Especially for benching. This one recommends `m5ad.8xlarge` at the very least https://github.com/solanium-io/aws-solana-validator
Not sure on this one. Depends on the specs you want.
Im looking to hire any honest Solana developer- where can i find these folks?
Hey, looking at the specs of c5.xlarge, I don't think those would be good enough
<@!489206164270350337> How much will it cost to run my private RPC node? It may differ from power, but I just want to know rough cost.
That would be great, thanks!
Hm, I am running only 10 validators though, with `c5.xlarge`
Let me see if I can find the benchmark we use
We've seen 100ktps working pretty well using our benchmark, no duplicate addresses, basic transfers, with 3000 validators
Just transfer instruction, to be precise
Basic transfers. And there are no duplicate transactions, all are unique
What kind of transactions?
I am sending 10000 tps workload for 120 seconds, and out of that, only around 40000 transactions get committed
Okay, thanks.
I think you should be ok with master. The error you stated is related to transactions v2 though, so you may be doing something wrong
I gave you your option. That's it. Recommend getting a private rpc and using that so you don't hit rate limits
<@!489206164270350337> But I have more than 1000 NFTs, and should get all previous owners at a time in REST API. so I should find a better way to achieve it.
I am deploying a private network and benchmarking it
It should be, yes. But depending on what you're doing, you usually want to be at the same version as mainnet-beta
But why? master branch should be working too, right?
Do exactly what I stated above and track who owned it by transfers
Ah.... Thanks. Is there any way to get previous owner of SPL tokens?
It isn't limited by time. You just have to iterate through it, 1000 sigs at a time
Factor behind what?
Thanks for the reply. but it limits time (or block length), I want to retrieve data from 3~4 months ago. Is it possible?
so we have 2500tps and sometimes network is congested, and sometimes with same tps no issues. what is the factor behind? queued txs?
One interesting place to look is here where the costs of various operations are defined: https://github.com/solana-labs/solana/blob/master/program-runtime/src/compute_budget.rs#L77
You can probably achieve this with `getSignaturesForAddress` https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
You probably want to run on what is currently in mainnet-beta, or 1.8.14
Lastest master branch
where can i learn more about compute budget
Hello, is there any RPC endpoint which fetches all of specific NFT address's transaction history?
What I want to achieve is to fetch specific NFT's previous owner.
I think that's part of transaction V2. What version are you running on?
is there a command to check how many blocks is node behind?
Hi! Can you tell if seeing `send_transaction_service-queue-overflow` means that the transaction will be dropped?
Ok, thx
This is can be hard
You'll need to deserialize magic eden accounts yourself then
Is account created for new program from Magic Eden
If it is not one of the accounts that parsedAccounts knows how to decode, you'll have to write your own decoder
So strange!
What kind of account is it?
let me try
could you try, in js.

Buffer.from(<data>).toString()
I am new to solana, primarily eth develooper.

```
#[derive(BorshDeserialize, BorshSerialize, Debug)]
pub struct QuoteAccount {
    pub quote: String,
    pub counter: u32,
}


pub fn process_instruction(
    program_id: &Pubkey,
    accounts: &[AccountInfo],
    instruction_data: &[u8],
) -> ProgramResult {
    msg!("Quote of the day Solana Program");

    let accounts_iter = &mut accounts.iter();
    let account = next_account_info(accounts_iter)?;
    let mut quote_account = QuoteAccount::try_from_slice(&account.data.borrow())?;
    let quote_string = from_utf8(instruction_data).map_err( |err| {
        msg!("Invalid UTF-8 from byte {}", err.valid_up_to());
        ProgramError::InvalidInstructionData
    })?;
    quote_account.quote = String::from(quote_string);
    quote_account.counter += 1;

    quote_account.serialize(&mut &mut account.data.borrow_mut()[..])?;
    Ok(())
}
```

Getting `account.data` returns the stored data, but cannot be deserialized with borsh deserializer.
Anyone knows  how decode this data from getParsedAccountInfo?
Try metaplex https://discord.gg/yZZVd2WA
devnet
is there or has anyone a cm v2 up with some supply and civic for testing? So I don't have to create one, my pc crashed once trying to :)
<@526010696887173131> I don't rememver TBH. I deleted the json files made sure the account had sufficient sols by requesting more and recompiled.
how did you fix this error mate?
What are you trying to do exactly?
This is exactly the kind of information I'm looking for, thanks!!
https://solanacookbook.com/references/name-service.html#reverse-look-up
I'm trying to trigger the cli commands through js but it's a headache
1) Is it recommended to make a function that triggers 2 spl-token transfer terminal commands back and forth with js as opposed to writing a smart contract? 
2) If not, where do you recommend I start looking for how to make my own spl-transfer routine?
Ok from what I understood I need to pass pda as a non signer mean `isSigner: false`, now `invoke_signed` required a seed `signers_seeds` what is that?
Does any of  you know who can help me with an issue I'm having when sending RPC requests to solana? Trying to access `getTokenSupply` but I think I'm passing the wrong parameter: `Pubkey of token Mint to query, as base-58 encoded string`
were you able to resolve this? I'm run into the same problem and cannot figure it out... sigh
both token accounts, pda key and, token program
ok so what shall I pass in the keys?
the program can sign for the PDA. i don't think you can do this from frontend alone. (not 100% sure)
how can I set it as a signer if I don't own the account (I'm talking client javascript side)
i think, this has to be done from the contract side.
wouldn't that mean that I need to pass it as a signer `isSigner: true`?
authority_pubkey would be the pubkey of the PDA
Ok what is the authority I need to pass in the instruction?
You can use spl-token::instruction::transfer() to create the instructions. Then use invoke_signed (CPI)
I have a PDA account which owns a token account how can I sign a transfer transaction to send tokens from that account to another?
How to detect a Solana address from a .sol domain name with  json RPC API, or any SDK?
I'd like to know the general method that you ususally use.
https://discord.gg/NEc2Fbjs
can't able to access that server
Check on the Metaplex Discord
is their any way to run metaplex on localcluster?
Dude, spamming the server will get you booted pretty quickly
I've been digging this error and I found that the associated error in code was `NotEnoughAccountKeys`, I can't understand what is an account key
Ok thank you
Yes, it is in the client. You can not get all accounts owned by a program whilst in a program
crate*
thats in solana-client carte right? can I use on-chain? mean inside solana smart contract (program)?
In program source the Enum of errors is commonly found in a file called `error.rs` or `errors.rs` but that is up to the program developer.
On RpcClient in Rust there is `get_program_accounts(pubkey)` method which will return all accounts that have the Program 'pubkey' as the owner.
👋 there, I've a strange issue with `spl-token-cli`, on the 2.0.15 version I can create a token, supply it and create the account without any error, but with the `master` version that I installed locally, I can't create the account for the fresh token, I always have the error `Error processing Instruction 0: insufficient account keys for instruction`, is it a regression for the new version of the CLI or the process changed?
where is the reference for program errors like `0x0` in  `custom program error: 0x0` ?
You would rather create a NFT vault account owned by a smart contract and this on chain program to perform the exchange of NFT and SOL?
Salam. Could someone kindly look at my question? It got buried😂
Something like an escrow? It’s not mandatory but I’d personally never use an off-chain escrow
not what I'm looking for, I want to get accounts owned by a program
it's listing account I'm passing in the transaction
You can use https://docs.rs/solana-program/1.5.4/solana_program/account_info/index.html in here you can see an example on how to (https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/src/lib.rs#L33)
how to get program accounts like this `connection.getProgramAccounts(programId)` but in On-Chain manner in rust program?
Good morning everyone. Is it mandatory to have a smart contract if a dapp wants to exchange a NFT for SOL  or just the JS client interacting with Native programs can do?
Hello, I am invoking `requestAirdrop(pub,LAMPORTS_PER_SOL)` method from `@solana/web3.js` on solana devnet and getting following error response 
```
Error: 429 Too Many Requests:  {"jsonrpc":"2.0","error":{"code": 429, "message":"Too requests for a specific RPC call, contact your app developer or support@rpcpool.com."}, "id": "5d32a202-5aef-4eea-84e8-5c1ca6d75da0" }
```
But, when I try cli : `solana airdrop 1` it is working.
You need to call connection with the RCP URL displayed when you`solana config set -ul` (<- that is a lower case L). `clusterApiUrl` does not work for 'localhost' or any other shenanigans of that ilk
Is there anyway to get `solana-test-validator` to accept the full validator's CLI args, eg `--accountsdb-plugin-config`? I want to test a custom plugin without spinning up a full node.
Hello.  I want to develop some kind of a  lottery site. Winners will be selected by some random process. 
So the question is where to run this random generator service? on chain Rust? or in Client/NodeJS?
What would be the syntax if I'm trying to connect to localhost? replacing devnet to localhost doesn't work

const network = clusterApiUrl('devnet');
The automerge failed (as expected), but how do I get a manual review on github?
Any assistance?
bro you are genius!! thanks for the help!! ❤️
is it possible to deploy multliple copies of a smart contract from one contract each having a little difference from the other or maybe the same! like a new instance of the program with help of some sort of constructor 
I don't know if it makes sense lol
How do I change the name/symbol of a token I created?
Yes.
this is to send spl tokens right? thankss
<@496606741228814337>
wait letme get back
there is sorry
there is no createassositeaccount function in the TOKEN
Unfortunately, not for spl-token
is there any doc which has the documentation for all the functions?
okay thanks let me see
See Token.createAssocatedAccount from `@solana/spl-token`
spl-token create-account "token address"
in frontend i mean
hello there, can anyone help me creating a token account for a particular token if there is none to hold the token?
Try reading the system architecture section on metaplex.
Sorry I'm still not sure what you are trying to do.
But don’t understand everything
I read those
And the metaplex docs.
Please read the solana cookbook.
No.
I see. So I should compute the change between the preTokenAccountBalance and postTokenAccountBalance and then map that to the amount deducted from the Source? That's the only way to identify the Token Address?
Each parallel connection will count towards the number of TCP sockets.
Sockets are reused once the connection is closed.
??
You can use preTokenAccountBalance on getTransaction.
That will show the total change in token balances.
No, both are independent node clusters.
I'm using this https://pkg.go.dev/github.com/gagliardetto/solana-go@v1.0.4, a golang solana rpc client and I want to get the Token address from the Token Program's Transfer instruction which looks like https://gist.github.com/gjaldon/3fa785e5bb3ef16b1acc57c76e0a489b#file-token-transfer-L223-L252.
Genesysgo, the public rpcs will block your site after a while.
from what i understand the solana URLs are effectively a proxy for the genesys RPC URLs . .
Non fungible *
Guy just to be sure on the architecture of nft on Solana 
You have your account to this account a token account is connected and to this token account a fungible token is connected ?
so i'll hit genesysgo RPC for my web2 backend. but on the client side (JS) . . the devnet mainnet-beta solana URLs work just fine. which "provider" do you recommend using on the client side since both work.
this worked. wow. thanks a mil 🥰
What are you trying to do?
No, they won't be bundled up.
Thanks! Is it possible for 1 Transaction to have multiple "Token Program: Transfer" instructions that have same Mint, Source, and Destination? If they have same Mint, Source, and Destination, will they be bundled up in one instruction instead?
It is in a channel on their discord.
They do have a devnet endpoint.
Yes.
interesting. does genesysgo RPC support "devnet" or do they only serve "mainnet-beta" transactions
Ah.
cant find it but it's fine ill find another way
The recipient on an account close receives the extra lamports
Hi there. I'm indexing data for the Token Program and was wondering if it's possible for one Transaction to have more than 1 "Token Program: Transfer" instructions that have the same source and destination?
Nope
I think you can specify a recipient for the remaining tokens when you close the account.
Just submitted a new pull request, will see if this works
yep
You should only need `@solana/web3.js`
And the account has to be empty to be close ?
On chain programs can't use RPC functions.
No.
Hello guys can I burn a token in a wallet account that I have created for someone when I have sent it the token, I have the close authority on the token account
do you know how I can access it without copy paste? What am i supposed to import?
I guess that's what I'd have to do. Why is this like this? Meaning why is RpcClient not usable by program? Name kinda suggests its client code, but its beneficial to be able to use client code on chain
Could I modify the token name/symbol and do a new pull on github modifying that token, so that I can reuse the same name and symbol for a new token?
Unfortunately, no.
https://github.com/metaplex-foundation/metaplex/blob/48c492d8b0d25add6076e5095ecc6706f864a0e6/js/packages/cli/src/commands/signAll.ts#L97
Is there a way to recover the tokens, or burn the tokens in the empty wallet address and remint to the correct wallet address?
*facepalm moment* So I just minted new SPL tokens and accidently deleted the last letter of my browser wallet address before sending from the token account, and now the entirety of the tokens are in an empty wallet
Or have the client pass in the right account.
I'm trying to get all mints from a candy machine on node.js, any tips?
nooo!!! so… if I want to check for individual data, I have to deserialize each account and it’s data?
Ok chain programs can't use the RPC client.
Ask here.
Use the genesysgo RPC https://ssc-dao.genesysgo.net/
i've decided to fetch the PDA client-side, encode that PDA as base64, & send that base64 string via digital signature to my backend to verify validity. https://github.com/bigtimetapin/somos-solana/commit/3be2f9e857e5d648252ef0e88c148f00cbd19712
would really appreciate it
anyone code on js and can help me with a cookbook command?
i think you're gonna have to use react or re-implement each wallet like I did (I only did for Phantom)
or the wallet adapters
This is also Phantom exclusive I'm wondering if there's a way to do it with the `wallet-adapter-wallets` package
hmm that's interesting..`Wallet` refers to a value but you're using it as a type?
My moidified Cargo.toml
For hello-world program, I wanted to `use solana_client::rpc_client::RpcClient` methods, so I added the line in lib.rs.
I also added `solana-client="=1.7.9"` to Cargo.toml
I think I am doing everything right.

However, when I run `cargo build-bpf --manifest-path=./src/program-rust/Cargo.toml --bpf-out-dir=dist/program` to build,
I receive bunch of error saying `crate::sys` does not exist like below.

Why is this happening? How can I fix this?

```
error[E0425]: cannot find function `is` in this scope
  --> /home/x/.cargo/registry/src/github.com-1ecc6299db9ec823/atty-0.2.14/src/lib.rs:98:6
   |
98 |     !is(stream)
   |      ^^ not found in this scope

error[E0432]: unresolved import `crate::sys`
 --> /home/x/.cargo/registry/src/github.com-1ecc6299db9ec823/socket2-0.4.0/src/sockaddr.rs:5:12
  |
5 | use crate::sys::{
  |            ^^^ could not find `sys` in the crate root

error[E0432]: unresolved imports `crate::sys`, `crate::sys`
  --> /home/x/.cargo/registry/src/github.com-1ecc6299db9ec823/socket2-0.4.0/src/socket.rs:21:12
   |
21 | use crate::sys::{self, c_int, getsockopt, setsockopt, Bool};
   |            ^^^   ^^^^ no `sys` in the root
   |            |
   |            could not find `sys` in the crate root
```
Hey folks, I'm playing around with tokens and would like to create a new token whose price is based off some oracle data. Any good tutorials/references on how this can be done?
hey there, i've got an AWS Lambda function that is 1) verifying digital signatures produced from Phantom Wallets & 2) is *trying* to query the solana chain for PDA state. it looks like the AWS IP Address is blocked. . . is it common knowledge that AWS (or specially AWS Lambda Functions) are blacklisted from making RPC requests to Solana clusters (dev-net) ?? 
```
"Error: failed to get info about account CU7P6bWg25ZfKaMkaCQriRcoEz4rPqqsWGZ1TKWoe1sQ: Error: 403 Forbidden:  {\"jsonrpc\":\"2.0\",\"error\":{\"code\": 403, \"message\":\"Your IP or provider is banned.\"}, \"id\": \"05f37614-a3dc-4eb8-b3cd-91de34f3470d\" } \r"
```
check this out. custom implementation of `anchor.NodeWallet` that i'm using with Elm (I too am avoiding react): https://github.com/bigtimetapin/somos-solana/blob/develop/assets/js/anchor/wallet.ts
the payer is your site's user KeyPair fetched from Phantom
this is okay, but `provider.wallet.payer` (something Anchor expects) is null, because the adapter doesn't have that attr...
for example:
```js
        // Get the selected wallet adapter and connect.
        this.wallet = new PhantomWalletAdapter({ network });
        this.wallet.connect();

        // Generate the provider and program for Anchor.
        this.provider = new Provider(this.connection, this.wallet);
        this.program = new Program(idl, this.programId, this.provider);
```
Any thoughts?
Hey ya'll having issues implementing Anchor with Svelte. I'd like to be able to use the `wallet-adapter-wallets` package for ease-of-use but that seems to be problematic because there's a hook that's available *exclusively* for React for some reason `useAnchorWallet`.
thanks
Look up the creators on your nft, then check that they are the same on the frontend.
Sorry?
afaik jito requires a really expensive machine infront of the validator in order to reorder and then gets filtered into the validator so there is more flexibility than a machine that needs to handle every case and gets slashed if it doesnt follow the rules
Chainlink doesn't have full integration just yet
Is it possible to setup chainlink node integration with solana to query an API (not related to price feed)?
Ultimately I just want to query an API to bypass the compute unit_count on-chain limitation.
but its not their id
The first one will be your candy machine
and what account is that verified creator?
No, you have to check the verified creators.
do you think name + updateauthority is enough security to be sure that it conly be filtered by my nft?
yeah, thats what i learned today
Nvm figured it out: `solana-tokens transaction-log`
So I just ran the command again and it doesn't re-distribute tokens to the transactions that failed. How would I get the list of recipient accounts from the tx hashes that failed?
so it is an agreement to give the location in the block for some SOL, is that the only difference here?
It's an analogy
Adding an issue to get it added hopefully tonight
futures?
Not fee's spot price, just futures
Each NFT instance is it's own mint, so you can't filter on mint address
I saw Anatoly say that a fee market isn't possible at the speed the block are spat out but then how is Jito possible?
Or is the nuance a fee market for all the txs vs a fee market for MEV
Well that's where the people who'd know are
i asked on metaplex server before but didnt get answer there
<#937905165074300999>
Can this please be added to the cookbook?
<@!221742778416103424>
`Metadata.findDataByOwner` from `@metaplex-foundation/mpl-token-metadata`
then how should i fetch it, it may be wrong but it works
Need this to survive
https://github.com/solana-labs/solana/pull/22804 plz help
Tokenkeg is not a mint, it is a program id
yeah, now i see i had to pass TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA as mint filter
I think metaplex/js has a way to determine if it is an NFT or not
That will work
yeah, im using getParsedTokenAccountsByOwner
You can fetch all token accounts
Oh I thought they were talking about method args
and how can i fetch all nfts? i got problem with filter param, should i pass there spl token address?
No, key order doesn't matter in js
Fetch all nfts owned by wallet and check if one of them is from your cm
how can i check if wallet has at least one nft from my candy machine?
The size of the account's data field
Because humans write the code
Transaction Instruction takes in an object, they keys can be in any order
Account size in bytes.
Anyone know whats space prop?
why is web3.js's TransactionInstruction takes in the arguments in the order of keys / programId / data, but rust's entry point process_instruction takes in arguments in the order of program_id / accounts / instruction data?
I'm using the https://crates.io/crates/solana-tokens crate. When I ran the command `solana-tokens distribute-tokens` I got a whole bunch of messages saying `Signature not found {signature} and blockhash expired. Transaction either dropped or the validator purged the transaction status.` If I run the command again, will it pick up the existing database file and only send tokens to the recipients that didn't receive tokens?
trying to get `Wallet` out of `PhantomWalletAdapter`
heyo—anyone know how to use the `wallet-adapter-wallets` lib in js?
Is there a way to run a solana instance and set it up so there is zero gas fee?
can someone point me to the right channel to learn a bit more about solana pay? interested in potentially building a checkout UX that incorporates it, but looking for a bit more detail than the splash pages provide.
they are generally helpful people
I think its better if you go talk to the Magic Eden support
idk who i can trust to seek help from
any dev who can help me with this issue https://discord.com/channels/428295358100013066/694949720644124762/938237102192226345
Got it from this article which tries to implement the escrow program https://efficacious-flat-24a.notion.site/Program-Derived-Address-8537ebca002245639beb531842f87f2c (Its in Japanese)
Hello I'm new i have a ask, about i cant connect SOLANA network in any web? example I have idea , I want develop app usgin wallet and send , recive SOL is possible?
right thats why I was so confused. How does match determine which path to take
in this case, both of these appear to have the same footprint, so it coincidentally can work out. 

 pub data: EscrowReceive,
where did you get a link to this repo from?
How does BorshDeserialize::try_from_slice work?
Some of the instructions in instruction.rs has same exact struct contents.

For example https://github.com/tomoima525/solana-sandbox/blob/main/rust/escrow/program/src/instruction.rs 
This EscrowInstruction has InitEscrowArgs and ExchangeArgs which both has data:EscrowReceive.
How does try_from_slice match in https://github.com/tomoima525/solana-sandbox/blob/main/rust/escrow/program/src/processor.rs determine which process to use?
hello, can you help please how to get all nfts from one collection ?
Guys, an other question, how could I reduce my fees on a token airdrop for my community if they just give me their public address  for the first time ?
is it possible to burn the token inside too ?
guys is it possible to delete a token account if I have the close authority but this one is not empty ?
https://solscan.io/tx/4xqxkXpFxVZbde2yxdLWEkPzG8n9Gy2TBBk3Tj3dao6pCdu8M66WjR343NKJXoFLAM6ahkDebeQvrHq9LGfd5j2A This is a listing tx link from ME,V2 anyone knows how get the price from listing? .Math.abs((tx.meta.preBalances[0] - tx.meta.postBalances[0])) / LamportPerSOL;   dont works in this transaction
Anyone have any idea how to fix this?
Hi, I'm running into an issue when running trying to run the test validator
"Take the rent back," from which account?
Yep, you can close a token account + specify who to send the rent to.
it's a slice of bytes, if you pass a public key it's going to be 32 bytes
Might be more of a rust question, but how do I pass in some public key from typescript code to rust / program in order to diagnose it in rust / program side?

I struggle to understand contents of u8 instruction_data
ok and if I send the token to someone can I take back the rent of the SPL token even if the token will be burn ?
is there a channel tracking the creation of the Solana stackoverflow? i think it would be immensely valuable to move the technical discussions from discord to something surfaceable by search engines
All SPL Token accounts MUST be rent-exempt
The token program would reject such an amount on account initialize
No. Not generally
for example below rent-exempt
manually put an amount
Define "manage"
hello guy is it possible to manage the lamport on a token account when we use solana cli 
something like spl-token create-account <TOKEN> --lamport
hey guys, do u know if it is possible to access in the rust metaplex sdk ?
is there a way to run a github action for testing using Anchor framework?
Patches welcome for proper error reporting there! 😅
this was it , thanks!
I need to parse a transaction signature into arrays of transactions with this data:
```
[
{
sender: x,
receiver: y,
amountSent: n,
tokenType: 'SOL' | tokenKey
},
...
]
```
What is the best way I can achieve this?

I wrote a parser for ``web3.getTransaction``, but I'm wondering if anyone has written something like this already? My parser is pretty buggy rn and works in pretty limited scenarios

I saw there is a ``web3.getParsedTransaction`` but it tells me the function doesn't exist when I try to use it on the latest version
just read the last part, i think the idea on the project has to wait till all is finalized thanks 🙂
want to enquire cost and time duration
oh, i'm not in a hurry wanna hire someone, its actually a paid gig
Ohh, and I mean a few months of full-time high-paid work.
Why are you in such a hurry anyway? Are you a dev? Because these things don't get done "fast". They need to be thought out first, then developed and tested. You are easily looking at a few months considering that a client portal has to be developed as well. This is a big thing.
Lol
can you help pls
yea guess it doesnt by default
If you see anything above 0x7f, you know what the problem is 🙂
Maybe open one with `xxd` ?
I'm not sure what `--output-file FILE` outputs by default
hmm kk will try that, thanks!
Most likely, yes
do i need to specify `--output json` 🤔
im guessing they are? i used this command to dump the accounts:

```shell
$> solana account xx --output-file xx.json
```
Are the contents of all of those accounts .json actually JSON?
https://gist.github.com/bonedaddy/68fd7778365c4999c9255d7fb0182067

just moved from using mainnet account cloning to accounts loaded from disk
What are your CLI args?
```
solana-test-validator 1.9.1 (src:b66e2ae3; feat:4100269022)
```
What's `solana-test-validator --version` ?
has anyone run into this issue when starting up the `solana-test-validator`

```
[2022-02-01T22:03:19.288452223Z INFO  solana_faucet::faucet] Faucet account address: 7Bu7gx5uXSQdi4nqKBkN6cNXyDxkqXMXKYgTWpnLAXfz
thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Error { kind: InvalidData, message: "stream did not contain valid UTF-8" }', test-validator/src/lib.rs:226:56
stack backtrace:
   0: rust_begin_unwind
             at /rustc/f1edd0429582dd29cccacaf50fd134b05593bd9c/library/std/src/panicking.rs:517:5
   1: core::panicking::panic_fmt
             at /rustc/f1edd0429582dd29cccacaf50fd134b05593bd9c/library/core/src/panicking.rs:100:14
   2: core::result::unwrap_failed
             at /rustc/f1edd0429582dd29cccacaf50fd134b05593bd9c/library/core/src/result.rs:1616:5
   3: solana_test_validator::TestValidatorGenesis::add_accounts_from_json_files
   4: solana_test_validator::main
note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.
```
can i get help now?
Apologies
It will not get you help
oh sorry
Or trolled
Tagging everyone is going to get you banned
Send a DM
Please i need somone who can build a staking system ASAP
https://discord.gg/TVATns9G
Oh sweet, what’s the best networking channels for that
Not that I know of other than there's a great DAO community here
Is there a way I can get paid to bring our DAO into Solana?
thanks dude, ill ask over there 👌
got it
thank you 🤝
iirc they are ordered in time that received, but I may be wrong
Not entirely sure on this question, gets into MEV for validators.
Hello <@!489206164270350337> 
could you answer this one ?
or maybe you know where I can read about it ?
1.8.12 for devnet
Binaries work for solana-test-validator today with m1
I'd try anchor discord https://discord.gg/TTEfd97v I believe people there have gotten everything running on m1
You need to pass the account in from the client (no way around it in solana)
im adding the `anchor-cli` install to the `solana-docker-mac-m1` Dockerfile ok. 
I can then init an anchor project fine, but running `test` and `build` throws the error `qemu-x86_64: Could not open '/lib64/ld-linux-x86-64.so.2': No such file or directory` 
this requires the platform to updated using `FROM --platform=linux/x86_64 ubuntu:18.04` but this causes the solana install to fail
does that make any sense?
yes, you have to pass AccountInfo object to the instruction to extract account data
If I have a public key for account X stored in the data of account Y, is there a way for me to derive the data from account X on chain using only the public key object? Or do I need to pass account X into my program as an AccountInfo object to access its data?
Hello
I have a question about how does validators sort transactions in the block ?
I mean for example we sent 5 transactions at the same time and by what rule does validator sort that transactions in a block that some of them stored at the beginning of the block and some of them at the end ?
What are you running into?
hi guys, has anyone managed to get https://github.com/metaspan/solana-docker-mac-m1 working with anchor? sorry for the vague question, ive been pulling my hair out trying to get a working dev setup going on my m1 mac... 😖  thanks!
Happy to have saved you from that hell
That saves me from dealing with JSON
THANKS!
Oh so it's zero-balance?  `spl-toke close --help` then
I minted the token and sent it off to a recipient.  Want to make sure these 0 balance ones get cleared out
I have no idea what you're talking about
So burn would leave the NFT alone in the recipient's wallet?
https://docs.metaplex.com/burn-token
how do we remove ATAs from a wallet?  I have a bunch of tokens I minted and I want to clean up the wallet
<@!489206164270350337> I sent you a msg
Hi all, I am trying to get the recent blockhash within the program function... the closest thing i found is  `solana_program::sysvar::recent_blockhashes::RecentBlockhashes` but it doesn't seems to work? Is there a way to obtain the block hash, ideally as string?
The mint token is apparently right
That's the request I am making:
```
{"jsonrpc":"2.0", "id":1, "method":"getTokenSupply", "params": ["BybpSTBoZHsmKnfxYG47GDhVPKrnEKX31CScShbrzUhX"]}
```
Hi everyone! i'm trying to get supply information for a specific token but I'm getting
```
{
    "jsonrpc": "2.0",
    "error": {
        "code": -32602,
        "message": "Invalid param: could not find account"
    },
    "id": 1
}
```
Does anyone know how to get around this?


///////////////////////////////////////////////////////////////////////////////////////////////

I can create a mint instruction to min tokens to someone account but can I create a burn instruction to burn the tokens that account already have?
Good luck
got it, let me chow down on this for the meantime and try to get it fixed Thank you <@!814228493302497301>  and <@!134416332509675520> . Appreciate your awesomeness!
You could also add an instruction to migrate on demand driven by your front end in some loop or something
As per the link, preparing for eventual data structure changes is ideal (in the cookbook a field is in the struct to determine what version of data) and if it's older than current it does a 'migrate' on read. As per <@!134416332509675520> , the front end would need to do an 'incremental' deserialization of first reading the data version field then serializing to an 'old' or 'current' struct
ok i think i understand.. i'll have a read of https://solanacookbook.com/guides/data-migration.html#how-can-you-migrate-a-program-s-data-accounts
but now u mention it i think i did read somewhere its better to add new structs rather than modify existing structs.. not sure if i'm using the correct terminology here
But worth thinking through that link and seeing why the above change doesn't work
Not impossible but definitely tedious (see the link above)
You could in principle fix this, but you'll have to have an instruction that takes in the *old* data format, and re-writes it back to the account using the new format
Yeah
ok so its the ItemStruct thats screwing it up?
That's definitely not a backwards compatible change—those old accounts don't match the new data format
f*** me
Yeah, can't really do that haha 😛
but the ItemStruct was changed.... i added the "votes"
this one was unchanged from the previous deploy
Can you show the `pub struct BaseAccount` part of your rust code?
let me try to digest what u're saying
That wouldn't cause this error
That's not an account format, that's for specifying which accounts need to be passed into the instruction
https://solanacookbook.com/guides/data-migration.html#how-can-you-migrate-a-program-s-data-accounts
Is there a way to see tx metadata within indivudual instructions within a tx?
this is the new attribute i added, this one didn't exist for the account previously
In general this is annoying to fix and you'll have to write an instruction that patches up the old account data into the new format
So what happens is anchor tries to use the *new* format to deserialize that old account, and it fails, because the old account doesn't look like the new format
When you add those fields, it changes how anchor will try to deserialize the account—but not the actual old accounts
ok...
sorry me onoob
Adding new fields has to be done in a backwards-compatible way, so that old accounts still work
feelsl ike u're getting somewhere
it did
YES
Ah. Did that account exist from before you made those changes?
I did add a new attribute.. it worked alright when i ran anchor test...
Did you change the data format for that account in your anchor program?
the bottom half of the output is the same error from prev
Oh I can't read, urgh
low level way u suggeted is not throwing an error, u can see it in the top half of my output.
Is that the new version of the code? That error doesn't make sense to me—the low level way of fetching wouldn't throw that
i believe there should be data!
Thanks for trying to help! so i tried what you suggested
Is there any actual data in that account? What does it look like if you use the lower-level way of fetching,
```.js
await program.provider.connection.getAccountInfo(baseAccount.publicKey)
```
Could someone tell me why i'm having this error at this line 
**const account = await program.account.baseAccount.fetch(baseAccount.publicKey);      **
?
Is there a way to a comment or some data to the transaction?
there is strange thing happening. i am using `.confirmTransaction` web3js solana, and it throws 30s timeout, while on explorer i can see it's already confirmed. why is that? node broken?

I have created a mint instruction and I am wondering why the "Instructions" is empty
I have a question regarding PDAs.
I thought that I can effectively use them to store data per user
so that when I proess an instruction on behalf of a user I "find" his/her corresponding PDA and write to it.

However I started questioning this approach when I found that here
```
let (balance_account, _bump_seed) =
    Pubkey::find_program_address(&[b"balance", initializer.key.as_ref()], program_id);
```
balance_account is actually just a pubkey and not an AccountInfo
And I can't directly interact with the account state. having only this pubkey

So the questions are
1. Is it a canonical approach to even store data in PDAs or are they useful just for authority tranferring?
2. Should I precalculate PDA address on the client side and pass it in the transaction so that I have AccountInfo available?
is this ok?
the firm is:

the destination (some user for example)
the authority (the owner?)
multiSigners (the owner again?)
amout (some value)
mintTo(
      dest: PublicKey,
      authority: Signer | PublicKey,
      multiSigners: Array<Signer>,
      amount: number | u64,
    ): Promise<void>;
Yeah, now it was created, what is failing now is the minto
😄
now is another error but it looks like it make sense
yeah, was my mistake
I think I realized what happened
you think?
the istance of the spltoken

maybe this?
the code

those are the keypairs

Can you show the callsite syntax you're using?
Yeah
Are you passing in actual PublicKey instances?
at Function.getAssociatedTokenAddress (/Users/mordonez/repositories/NED/ned-api/node_modules/@solana/spl-token/client/token.js:2289:55)
    at Token.getOrCreateAssociatedAccountInfo (/Users/mordonez/repositories/NED/ned-api/node_modules/@solana/spl-token/client/token.js:539:43)
Any clues?
UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'toBuffer' of undefined
I am getting the following
I am trying to create the associated account for a keypair
guy who thread jacks and thinks they won't be ignored
.
you know my mistake?
Use a gist...
hey all! back with another issue that i see a lot people are having but mine is slightly different. I am attempting to do an offline tx where it requires both devs and users wallet to sign the tx. 

The offline tx flow is... build a tx in the backend and sign it with devs keypair, then send the tx to the frontend to be signed with users wallet.

When using a phantom wallet to sign as a user i am getting this error 
```{code: -32003, message: 'Transaction creation failed.'}```
however, when i use **solflare wallet it the tx succeeds**! Is there a certain way to sign and send offline tx withs phantom? Here is my code below.

https://gist.github.com/sudonymously/177231027d74db5a485498e3cd78a357

I am not sure if this is just a bug on phantoms side or if it's something with my code that i need to do to get phantom to successfully sign and send the tx
why does this not send any sol after confirming

Hey guys
```        let confirmation = await connection.confirmTransaction(signature, 'single');
        console.log("confirmation - " + JSON.stringify(signature));
        startRound(userChoice)```

This is my code - I don't want to `startRound` until `confirmTransaction` is at least being processed with the one signature.  Is there a way I can not proceed with startRound until that's done
Sorry what do you mean?
So I don't have to proceed until there is at least some state from confirmTransaction?
Is there a way to pull the confirmation state of a transaction when you're doing `confirmTransaction`?
Thank you all, and let me dig in and try more. I appreciate it
So, you're not passing the rent sysvar, plus you're randomly passing some *other* accounts
In order to figure out which accounts you need to pass (in the `invoke` call), you need to read the spl token program's source: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L35
So that it sends the transaction to my local solana-test-validator. It will be very appreciated if you could share info about manipulate the transaction between frontend and solana runtime
If you do not mind, might I know more what does it mean by sending the transaction as base64? my frontend is written in anchor test module. and I trigger it by "anchor test".
It would be really helpful if you could send the transaction as base64 that is being sent from the frontend
Which is derived from my frontend code
On solana, all transactions must declare all accounts they interact with
sir
correct
You are passing in the mint_pda account to your program as well, right?
No no, I am asking for the base64 encoded transaction so it is easy to debug the error itself

My original code is like below:
But it gave me this "Instruction 0: An account required by the instruction is missing" error
Thanks for the prompt reply. I understand this is a way to get it around. However, What I actully want to approach is creating a new token mint  by invoke the spl_token::instruction::initalize_mint.
Can you please send the transaction in base64 as per https://explorer.solana.com/tx/inspector
See: https://solanacookbook.com/references/basic-transactions.html#sending-sol

What I am trying to build is a simple program that lets users mint SPL tokens.  My processer has only one call which is system_instruction::create_account. But it fails with the following error: Instruction 0: An account required by the instruction is missing. It seems that I did not pass the correct accounts into the invoke body, but I have spent like a whole day checking but still not sure if there are any other missing accounts ( or AccountInfo). It will be super appreciated if anyone can give me a hint.
The code is very simple. Let me attach it herewith
Hello Team, Nice to be here as a new coming developer. Please allow me to ask a question here. If it is not a right place to ask such a question. please let me know. I tried to call both create_account and create_account_with_seed in the Anchor framework. but it always returns me "Instruction 0: An account required by the instruction is missing". In my case, I have the pda accountInfo passed in from my frontend code (using web3 sdk: findProgramAddress). Might I know if it is possible to call the create_account(_with_seed) in the program of Anchor framework?
Can you be more specific please ?
That should be explained there
Yeah I did, but how to send a transaction from that keypair ?
You don't connect a wallet from ts-node, you have to load in a keypair
Thank you, it only shows how to connect to a wallet in a react app. I don’t know how to do it in node-ts though
https://gemworks.gg/
The ERC20 equivalent would be https://spl.solana.com/token
There are no contracts for tokens on solana
Yes, check the binary data in the account with `solana account "address"`
solved dont worry
Where can I start looking to learn how to make a site that allows users to stake or lock up there nft in exchange to earn a token?
im talking about fungible tokens, if i were to port an erc20 contract how would that work in solidity? one should create a Mint account on spl-tokn on chain and just do CPI in my program to spl-token? or should i compose spl-token crate within my program, implement erc20 like dictionaries using BTreeMaps or something? my question is which is the appropriate method to achieve this
what do you mean I cant use the keypair ? 
the wallet close as well ?
I don't think enum is represented as u8 integer
When I search the enum byte from javascript using "memcmp" it returns empty always
In base58 0 is "q"
The first enum variant I expect to be 0
Are enums translated to u8 numbers in Solana programs?
I would suggest looking at https://solanacookbook.com/
You don't, Metaplex is the NFT standard for Solana, see <#937905165074300999>
Not sure if this is the right channel
Hey, 

I'm trying to make a CLI that communicates with the blockchain and sends transactions. How to establish a connection with the wallet using the private key ? (My CLI is node-ts)
and secondly, im porting a program from solidity which inherits openzeppelin's ERC20 implementing, hence is an erc20 program in itself. How will i inherit erc20 for my solana program?
Any GCP expert here from India, a small paid task is here for you, about 1-2 hr task is there for you. 

Dm me asap 🚀 urgent requirement
hello there, how can i get the blocktime in a solana program?
I'm not sure what other programs do, but at the end of the day this is basically what your options are—you need to store stuff in accounts, in such a way that you can remember where you put it (what the address is).
I was wondering if this is scalable, since the storage size of an account is limited.
Makes sense, thank you. Is this used by e.g. decentralized exchanges to keep track of orders? So you are able to 'discover' orders from other users?
Or if you want to store some data that's related to some *other* account, you could store it with seeds = [b"some-random-other-stuff", other_account.key.as_ref()]
The basic answer is (as always in solana, lol) by storing that data in some account. Program-derived addresses are helpful for this, since they effectively let you "name" addresses in a nice way. E.g. you could store some truly global state in the PDA with seeds = [b"my-global-state".as_ref()]
I was wondering how decentralized programs manage 'global program' state that is not directly linked to user accounts. E.g. in use cases where you want to discover data linked to other accounts
any good example of how i could approach 30s timeout from ui perspective? aka wait and if it timeouts wait a bit more? as i have second transaction afterwards and i have to wait for first one to finish. first tx doesnt fail it just takes more than 30s in current congestion.
Also fwiw rust tends to not use much OO stuff.
I doubt there are any tutorials on this, so I think you'd probably be better off just asking questions here/in the anchor discord. What specifically are you looking to do?
Are there any examples/tutorials on data modelling on Solana? I was wondering how you can create proper OO relations using Anchor.
Namaste  community,
  
I want to collect SPL token as fee for a transaction in my solana program.

Any links to such existing program/tutorial?
I'll look into it, thanks
Yes multisig wallet <@886838760132726804>
Hello guys, is it possible to create a wallet that can be managed by a business, government, NGO/NPO and etc ?

Just like a business bank account, we maybe a group of 1 - 5 people has access to it?
Seems i need to restart  my pc
Ye I deleted tht
Should be in a folder called `test-ledger`
guys, im kinda stuck attaching my artwork to my token, someone help me out
Hi Team. I am looking for an example of how to create a durable nonce account using the anchor. Any link to the guide/tutorial would be really helpful.
`let data_length = account.data.try_borrow().unwrap().len();`
hi everyone i want to get data.len from account &solana_program::account_info::AccountInfo
but i am getting no field `len` on type `std::rc::Rc<std::cell::RefCell<&mut [u8]>>`
How can i get data.len of any account ?
can anyone help on this:
it's the first time to deploy my program(not upgrade), but i got this error:
Deploying program failed: Error processing Instruction 1: invalid account data for instruction
Check <#763249718339567626> .... there are two C# SDK listed
No space left..
😶
Hi how do I clear data from running solana test validator..m
can I use solana in c sharp
hi
beside bonfida
is there any service that provides spl token vesting?
wanted to bump this <@!788215642070581289>
Hi )
I'm running a devnet validator node for rpc purpose, it's synced and running for few hour...
when i try `getBlock` with a  few hours old block number, my node return null while  api.devnet.solana.com  return me proper block 
Is there some specific flags to pass ? 
I'm using : `--rpc-port 8899   --entrypoint entrypoint.devnet.solana.com:8001   --limit-ledger-size   --log ~/solana-validator.log    --enable-rpc-bigtable-ledger-storage  --enable-rpc-transaction-history  --no-port-check --full-rpc-api --rpc-threads 4 --rpc-pubsub-enable-block-subscription`  .. 
Could `limit-ledger-size` be the issue ?
why would you store an account in heaP?
Hi, is using box for account info a good practice ?
Ah found it https://discord.com/channels/428295358100013066/428295358100013069/940936587460640809
Before the 1.5% rate kicks in?
How long is the inflation rate of 8% going to be?
Ah yes I think that works, thank you!
did you mean https://docs.solana.com/inflation/inflation_schedule ?
Does anyone know of any resources on solana validator economics, like how much to allocate to your stakeholders?
thanks a lot chido! That's very helpful! This is an interesting property. I also didn't know about simulatetransaction. Cheers!
`solana airdrop 1 -ud` it works to me
yes. if the owner sign the tx, the token transfer be executed successfully.
in solana tx, you need to prepare all accounts you need and pack them into the tx before you send it.
maybe you can't know what the program want to do but when you pass your token account into it, you need to aware it must do something to your token account.
also you can use `simulateTransaction` to get the post state after the tx execution.
https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction
Having trouble airdropping sol in my devnet wallet
yea that's it, just calling `token::transfer()` from the program and that seems to work just fine
Thank you so much! This is really solid and is very close to what I'm looking for! I'm currently creating the extended private key based on a derive bip44 fn that I'm using. I don't want to directly interface with the seed phrase in my dapp
maybe https://solanacookbook.com/references/keypairs-and-wallets.html#convert-mnemonic-to-keypair
you mean you have your custom program and there is an invoke tx which is to transfer token hide in there?
I would love any help at all, as I've been stuck on this for the past 5 hours, and thank you so much in advance!!
I haven't seen much documentation on this at all, and I am using BIP44 to generate my extended private-key from seed phrase
Hey y'all, I'm running into a humungous issue that I need to get done with in 2 hours: How can I programmatically generate my private-key/public-key from my extended private-key
still unsure, I'm using anchor and just sign a token transfer with the signer account as part of the program. My understanding from playing with this on a local validator is still I'm just signing the input to the program, but ultimately I'm at the mercy of the program, since I can take any amount I want it appears. Or is such program undesirable in the first place and the transfer "should" happen as part of an instruction? But how would anyone validate such thing? Bit lost here
actually they are open but just hard to read.
you can also take a look at
https://github.com/solana-labs/solana/issues/12232
https://project-serum.github.io/anchor/getting-started/verification.html#building
<@!788215642070581289> why smart contracts on solana is not open sourced?  smart contract != private code
Hmm, after some searching, it doesn't look like it exists. I'm just gonna hit coinmarketcap.com UI with a web scraper
Thanks!
Hmm, it's not clear whether it does it for solana but I'll check it out
maybe https://coinmarketcap.com/api/
I think it depends on how program deserialize instruction data.
it is how system program deserialize instruction data https://github.com/solana-labs/solana/blob/master/runtime/src/system_instruction_processor.rs#L377
Is there an api to get the current price of solana?
there must a singer in the tx (for the fee payer)
and the first account will be treated as a signer.
thanks! but I can just initiate a transfer of instruction data argument x2 in the program, and it seems to go through without issue if the funds are available
solana's transaction is composed by many instructions
a SOL transfer is an instruction, a token transfer is an instruction ...
basically all info is stored in the tx. if you want to know the detail, you need to deserialize it.

tx: https://docs.solana.com/developing/programming-model/transactions
hi guys, must the transaction signed by the first account input?
I'm probably wrong on this, it seems to me that a solana transaction doesn't specify the amount of e.g. an SPL token that are to be sent (somewhere) but the amount is just a program argument, that can be, but doesn't have to be abided by, by the program? How does this work?
Can anyone suggest a rust ide that can handle bpf on windows? The old RSL in vscode is no longer really supported, and therefore broken, and the "replacement" rust-analyzer does not handle non native toolchains well.
actually when you create a mint, you have to create an account and then you initialize_mint.
I think you can just run it and compare. you will find something you lost.
I'm going to assume these are the equivalent rust instructions in comparison to CLI commands required to gen a new token
initialize_account
initialize_mint
mint_to

Using the CLI it's 
create-token
create-account
mint
1. it is hard to read an instruction which you don't have the source code of program.
2. if you want to know is the account a PDA or not, you can check does the tx contains the pubkey's signature. a PDA's signature can't be generated by client. if the tx do something need a signature but you can't find it in the tx. it must a PDA.
<@!788215642070581289> please, any ideas about my q ?
initialize_mint: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L28
mint_to: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L512

back to your qn.

> what is the purpose of initialize_mint 
just like function name, it init mint account

> can you call mint_to without calling initialize_mint ?
I don't think so. even you can't create a token account to receive the token.
not sure what you mean `be created`
actually you can only calculate it just like what you do.
if you want its signature, it must happen in a program.
also....
what is the purpose of initialize_mint ?

can you call mint_to without calling initialize_mint ?
https://docs.rs/spl-token/3.3.0/spl_token/instruction/index.html
Can (PDA) program derived addresses be created on the client side ?

await anchor.web3.PublicKey.findProgramAddress(
  [Buffer.from("some_seed_string")],
  program.programId
);
🧐
nvm i found it y.
?
hi, just wondering why am i getting this error  Error: Signature verification failed after confirming the tx
Hello friends, how are you doing ?  I have another questions for experienced developers, who knows all about solana ) I want to repeat this transaction  https://explorer.solana.com/tx/2rpMHxjkyBY8mBbb9mH1MgTvixTpkCiJdPwXoDcVn61hm7uCKiKiHUtwqMTEmx4mUwP1i2GiHvvcgTMekTzvEYWT 

but i can not understand what happens in second instruction, here is there raw data of instruction . I am sure that almost every of know what it means, is it some sort of PDA account ? Please help to understand
maybe take a look at
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L230-L242
thanks!
a tx has a size limit. (1232 bytes). it contains signatures, instructions ...
it will not be a fixed number
how many accounts can fit into an instruction vec?
This is my print statement in code so that you can understand the output format. println!("===>accounts for token_id: {}, token_account_id: {:?}", sender_token, source_account);
When I print source_account it looks like this
for your reference this is the source_account. I see this account info is getting printed correctly after this line. let source_account = next_account_info(account_iter)?;
Hi <@!814228493302497301> ,  I am still struggling to unpack the account data. Somehow this line does not get successfully returns. let source_account_data = TokenAccount::unpack(&source_account.data.borrow())?;
Sounds like a question for runnode support
hello guys how are you? I was trying to connect to the private rpc everything works fine, but I want to hide my apikey and I can't find the correct format, could you give me a hand?
const connection = new Connection("https://connect.runnode.com/", "confirmed", {HttpHeaders:{'apikey':'xxxxxxxxxxxxx'}} );
google chrome dev tools for the win (:
[ANSWERED] The result of this post to devnet returns the Token Account address, 
What method could I use to return the Owner: pubKey
 
{"jsonrpc":"2.0", "id":1, "method":"getTokenLargestAccounts", "params": ["EcUxkwY5qFgxQE2JR52qjwsGemY9K4oDRcmU3eWLqYhK"]}
appreciate the help
that makes sense, ill see if i can close it somehow,  thankfully im just on devnet though
And then once the account has been closed, ship the lamports back to that same address
And then you could ship the lamports in it to some *other* wallet (just make a new one)
I guess you'd have to figure out how to close the account (would require asking the program that now owns it to close it)
Or, well, not totally gone I guess
lol RIP
~~Mm, that wallet is gone now lol~~
was an accident, is there any way you know of to reverse? i tried to close the program but seems i cant confirm any txs with the wallet now
Well, I guess you technically could do that, but I'm not sure why you would want to
Why do you want to do that?
yeah
Oh, sorry, you want to store data at your wallet's address? That's not fine
That's fine
when initializing an account in my program, i used my wallet pubkey instead of a randomly generated one
So you can't really pay tx fees with them, since doing so requires a signature
You can't sign for a PDA from the client (not possible, only the deriving program can sign for the PDA)
What do you mean by create a PDA using a wallet address?
im on devnet so its not really a big deal, but seems to be a pretty serious issue if any user creates a pda using their wallets address
has anyone ever generated a pda and using an existing wallet with sol in it? i keep getting the following error when i try and send transactions with the wallet now: > This account may not be used to pay transaction fees
I am trying to connect from rust+wasm to solana browser extensions. I am looking for the rust equivalent of:
```javascript
try {
    const resp = await window.solana.connect();
    resp.publicKey.toString()
    // 26qv4GCcx98RihuK3c4T6ozB3J7L6VwCuFVc7Ta2A3Uo 
} catch (err) {
    // { code: 4001, message: 'User rejected the request.' }
}
```
Does anybody have any idea where I should look?
Hello everyone,
I have a very big problem: i minted with an address and I sent the information on the Solana Token Registry with the same address but the first letter is a capital letter: 
https://explorer.solana.com/address/Ax7EjwgRaerUacfCAptcMnkckmf8Wiee5T9KLqSzsF6
https://explorer.solana.com/address/ax7EjwgRaerUacfCAptcMnkckmf8Wiee5T9KLqSzsF6 (mint address)

Can you help me please? 🙏
is there a comprehensive map of program addresses / accounts to protocols.  e.g.,
 `mv3ekLzLbnVPNxjSKvqBpU3ZeZXPQdEC3bp5MDEBG68 -> Mango Markets v3` 
`ZETAxsqBRek56DhiGXrn75yj2NHU3aYUnxvHXpkf3aD -> Zeta DEX`
`FsJ3A3u2vn5cTVofAjvy6y5kwABJAqYWpe4975bi2epH -> Pyth Oracle Program`?
Right... offline signing for seller and escrow in favour of buyer
Escrow in favour of the buyer, offline signing in favour of the seller
This way they will have the freedom to go out and list it on any platform... If I transfer the ownership to PDA, user will not be able to list it anywhere else..
I feel this is about the stance of the platform, whether on the buyer side or the seller side
I guess they get to keep it in their wallet etc.?
I'm curious about the nonce stuff too, but just to make sure I'm following—what's the advantage of the durable nonce stuff over just transferring their NFT straight to the PDA, right at the beginning? Like a regular escrow
Yea.. struggling with that only
Then using vanilla solana_sdk to do the nonce part
But I guess you need to call the `instructions` method on your anchor requestbuilder to get the instructions
Ah I see, the offline signing. Sorry that I haven’t tried this feature
I am making a marketplace where users will sign a transaction of transferring NFT to marketplace PDA. But this will be executed only when the marketplace found a buyer for NFT. So the idea is using a durable nonce, a seller will sign a transaction and that will be stored until a buyer comes and pay for it.
You mean PDAs?
Thanks a lot for responding. I am just struggling to create a nonce account using Anchor. Any example of an offline transaction would be helpful.
Sure. Any details?
Hi Friends... I am looking for an example of an Anchor code for creating & using a nonce (durable) account. Any reference/link would be helpfull.
Hi Dovahcrow... Can you help me with a Anchor code that has created & used a nonce account.
any ideas or recommendations?
phantom mobile works fine
but on mobile, solflare/slope (with their respective apps) don't work
hey! I'm using the solana wallet adapter lib, everything works fine on PC/website
ok i misread one of your replies. my b, thanks for the patience
Nothing, you can either have a delegate (Some) or you may not (None). Everything you've pointed out support that. That is how Option works in Rust
im sorry but im still pretty confused. inspecting the `anchor_spl` definition for an `Account` and it really looks like it can either be `Some(single_delegate_pubkey)` or `None`. what am i missing?
A delegate it optional or has cardinality of 0..1
i see. then why does the delegate field only have one optional pubkey in it? my current assumption is that there can only be one delegate per token account per program but idk how to confirm this
No
is there anyway to create something else than .sol ?
https://spl.solana.com/name-service
can any given token account only have one delegate at a time?
hey can someone help understand this in solana name service package
After this line nothing is getting  executed i.e let mut source_account .......
The code is getting compile but the program jumps to end on this  line. [[[    let source_account_info = next_account_info(account_info_iter).unwrap();
    let mut source_account = TokenAccount::unpack(&source_account_info.data.borrow())?;
    let sender_token_balance: u64= source_account.amount;
    println!("====>accounts for {}, {:?}", sender_token, source_account);]]]
Do I have to make these changes in my local solana files? <@445425471027544095>
is there any way to send transaction with data from buffer object
Why do these dips happen?
Thank you!!
You have to `unwrap()` first. You are trying to ask for a `.data` field on a Result
Hey Solana fam. Please is it possible to encrypt using a public key? So only the owner of the private key can decrypt ?
solana-program = "1.9.5"
spl-token = {version = "3.1.1", features = ["no-entrypoint"]}
I have added this in .toml fle as well
error[E0609]: no field `data` on type `Result<&AccountInfo<'_>, solana_program::program_error::ProgramError>
Hi, I am facing this compilation error, can someone help on this. I have tried all possibility somehow it's not recognizing data field under AccountInfo structure.
Hey I’m just discovering Solana and have been digging through the docs. I wanted to clarify, is there slashing currently in the network? I have seen conflicting info where it says yes and no
Hello all, i have an instruction that requires two signatures. 1 from devs account in the server and one from the users in frontend.

I want create an offline tx first in the backend signed by the devsAccount, then send it to the frontend to be signed by the usersAccount using something like phantom.

I am using partialSign to first sign using the devsAccount in the backend, serialize the tx, then send the serialized tx to the frontend for the user to sign and send. 

**The Problem**
Whenever i try this method, i am getting the error **Error: Signature verification failed**

Does partialSign work in this use case? or do i need to use a nonce account?
The code is inspired by the offline transaction docs in solana cookbook. 

```
const devsAccount = new Keypair.generate();
const userAccount = new Keypair.generate(); // assume in real use case it's a phantom wallet

// in the server
// anchor program ix
let tx = new Transaction().add(
    program.instruction.someInstructionHere({
      accounts: {
        ... // all necessary accounts here
      }
   })
 )

tx.recentBlockhash = (await provider.connection.getRecentBlockhash()).blockhash;
tx.feePayer = userAccount.publicKey;
tx.partialSign(devsAccount)

let realDataNeedToSign = tx.serializeMessage();

// send realDataneedToSign to frontend

let feePayerSignature = nacl.sign.detached(realDataNeedToSign, userAccount.secretKey);

let recoverTx = Transaction.populate(Message.from(realDataNeedToSign));

recoverTx.addSignature(userAccount.publicKey, Buffer.from(feePayerSignature));

await provider.connection.sendRawTransaction(recoverTx.serialize())
// Error: Signature verification failed
```
I have no context of what your doing. If it is metaplex  you may want to ask in their discord
do i manually edit the source?
Keypair.fromSecretKey(Uint8Array.from(JSON.parse(secretKeyString.val))
anyone? pleaseee
In 1.9.6 and may have been earlier, yes
If i sign a transaction with nacl.sign i.e.
```
let feePayerSignature = nacl.sign.detached(serializedTx, userAccount.secretKey);
```
is `feePayerSignature` sensitive data? If an attacker somehow got a hold of the feePayerSignature, are they able to do nefarious things with it?
wtf



///////////////////////////////////////////////////////////////////////////////////////////////

Does anyone know the correct way to use getSignatureStatus to confirm a transaction or retry sending it?
ah, sorry.
Its my separate question
I wanna do it with PDA. it's SOL token why mint authority is needed here?
What is mint authority of a token?
hello
Hello, everyone!
Can I wrap/unwrap SOL on on-chain program? Because I need to do both of system and spl transfer with SOL on chain. thx
I am highly appreciative of your replies ,thank you
You'll llikely need to clone or generate some ancillary accounts to make that work
Ideally, yes
If i want to test out a bug for example ,in a rust contract , i would have to do it in the test validator right ?
Yeah you obviously don't want a full clone in the case of Solana.  That's a lot of data that you're probably not actually interested in
Thank you , this is what I was referring to ,  hardhat is a eth dev env , which lets you make a local fork of mainnet from a specific block ,for testing of bugs or general smart contract deployment/testing
Also you don't need to double-space your posts.  We won't be grading them
No idea what hardhat is or if your definition of "local fork" is the same as mine, but we have this https://docs.solana.com/developing/test-validator
u likely want to do this in program, and the token-swap program has an example of fees.  in the solana program library repo.
After going through the the solana cli user reference, here 
https://docs.solana.com/cli/usage
I am unable to find some method of making a local fork , like how hardhat does for ETH 
Is there some other method ?
Hey amazing developers of Solana: We are a new team working on creating developer friendly Solana APIs for Node, NFT and Payments. You can help us by providing your feedback. If you are up for it, would like to speak to you for 30 minutes. The Coffee is on us :). Please DM me
Namaste Solana Community.

I have small query I want to collect a SPL  token as fee for interacting with my solana program.
I'm not clear about how to achieve it.

Option 1: Send token from Javascript and then do the interaction (that doen't seem optimal)
Option 2: Do the token transfer in my solana program (Don't get how to sign it then)

Any pointers?
Does anyone know the correct way to use `getSignatureStatus` to confirm a transaction or retry sending it?
https://solanacookbook.com/references/nfts.html#:~:text=const%20wallet%20%3D%20await%20arweave.wallets.getWalletFromFile(%27wallet.json%27)%3B

while using its saying 
`Property 'getWalletFromFile' does not exist on type 'Wallets'`

Does anybody has idea
ok, any answers re: block 121648211? it is 'confirmed' but empty.
He’s here
Get rid of this scammer pls
Maybe re-use them somehow
Ah, got it
Its fine im just on devnet, but my current design creates a lot of mints so Ima have to think about it
How much did you pay in rent lol
Hopefully
Ah, maybe in the 2022 version there will be?
Thanks, doesn't seem possible yet. My rent will wither away
saw this
There just isn't any instruction in the spl token program to do so.
https://github.com/solana-labs/solana-program-library/blob/master/token/program-2022/src/extension/mint_close_authority.rs
Yeah as far as I know you can't close actual mints, only token accounts
Thanks, I think I understand the basics of closing token accounts. My question is related to mint accounts, which are different.
Another resource: https://spl.solana.com/token
This is for token accounts
`spl-token close --help` ?
hey is it possible to close a mint account?
Believe that's here https://github.com/solana-labs/solana/blob/master/sdk/program/src/clock.rs#L67, hat tip <@!363246496210092035> https://www.brianfriel.xyz/resending-dropped-transactions-on-solana/
What determines whether or not a recent blockhash is expired or not?
Hi everybody, Can I assign (change) the owner of a token account (derived from a mint token) to a program through "cross-program invocation" ?
Looking for someone with great knowledge in creating and optimizing Raydium Liquidity Pools with USDC-SPL Token pairs, pls send friend request 🙂
Hello. Is it possible to change my Solana token server where I can mint it etc? I created a server in which I created a token and added it to Solana registry. I no longer have access to that server but I would like to mint more tokens. Is that possible? Thanks.
any idea what could be wrong?
I'm trying to sign a transaction on server and pass it to the frontend, however the verification fails for some reason

Server side
```
    const txn = await getTxn();
    txn.recentBlockhash = (await conn.getRecentBlockhash()).blockhash;
    txn.feePayer = buyer
    txn.partialSign(signer);
    const data = txn.serialize({
        requireAllSignatures: false,
        verifySignatures: false
    });
    return JSON.stringify(data);
```

Browser side

```
      let txdata = await getTxnFromServer();
      const txn = web3.Transaction.from(Buffer.from(txdata));
      await wallet.signTransaction(txn);
      const signed = txn.serialize({
        verifySignatures: false,
        requireAllSignatures: false
      });
      console.log(txn.verifySignatures()); // False
```
Then you'll want to ask that in Metaplex discord
I’m trying to call the initSellingResource from the fixedPriceSale program "SaLeTjyUa5wXHnGuewUSyJ5JWZaHwz3TxqUntCE9czo" from Metaplex
https://github.com/metaplex-foundation/metaplex-program-library/blob/master/fixed-price-sale/program/src/lib.rs#L36
There are Solana error codes and program error codes. If you are seeing them in the log the majority are probably from programs .... hard to tell without knowing more but each program typically has a listing of their error codes in their program source
is there a list of solana errors? cuz I see those error codes and i wonder what they mean
it's so hard to track some stuff
is there pending PR for explorer to include timestamp instead of age for transactions? this bit is soooo annoying and hard to debug:
It is an error from whatever program you are calling... which is...? Or as <@!134416332509675520> says if it is Anchor
0x7d4 = 2002 = https://github.com/project-serum/anchor/blob/master/lang/src/error.rs#L54 (assuming you're calling an anchor program that is)

Could someone tell me what error 0x7d4 is? I'm getting this error back as a response when I attempt to send a transaction to the devnet. I have already tried to search to understand this error using Google etc but there are literally zero results. I also took a look over the Github resources and also unable to find anything there too. Thank you
What determines whether or not a recent blockhash is expired or not?
Thank you for the help tho. Appreciate it.
I was so used to rm, I forgot there is bin too..
Feels stupid
🤣
So I can't see the trash..
Lol well I used the tilling manager
Guy who doesn't take out his trash 🙂
Or just use rm 😛
Ye clear trash
😶
Lol, assume that there's a dead-simple explanation for the behavior you're seeing
Actually it does...
That presumably also moves it into your trash
No
Like right click delete
The vscode delete menu even says this
Not rm
But we were assuming you were deleting that file with the command line, with `rm`, which wouldn't do that.
Yeah, probably puts it in your computer's recycling bin
🧐
There were many post on this related to vscode ..
Yes, each individual would have their own account if you program manages data at the same granularity
Like he's checking the ledger into git
vscode does not cache deleted files unless there is some plugin he installed that does that. OS may store deleted files in something like.... hmmmm... trash cans?
No. 99.9% chance you're missing something simple here
😩 😩
😶
Yes it does lol. I just found it..
suppose 1000 people are interacting with my solana programs then for each person solana program will generate separate account to store data or state  ? 
am i right?
None, all accounts in Solana are agnostic
whats major difference between rust accounts and phantom/MetraMask wallets?
no
Entry points carry out what you ask of it. It is a best practice to initialize accounts your program uses
is it professional approach to initialize entry points in solana Programs?
does vscode saves it deleted files somewhere?
That doesn't exist for Solana. Each program has it's own protocol so....
If you really want to test your program, I've given you a bunch of ways to do it. There may be more that I am unaware of
i can interact with each function through click and can pass variables as "remix.ide" provide ease.
vscode just deleted it but i think its caching it somewhere too
You could create a Rust CLI or use scripts, python commands, Node TS/JS scripts
I mean i can see it clearly where its been created.. i deleted the test ledger folder through the side panel
You need to be more specific about what you mean by "manually"?
<@!814228493302497301> is not their any tool like "remix.ide" for solana programs to test manually ?
Not it's not. You realize that a `test-ledger` will be created in whatever folder you run it in unless you provide the `--ledger PATH` argument. Vscode terminal is moot, it's the folder you start it in
vscode is doing something shady here ..
i deleted the test-ledger from the vscode too..
while i was doing it through vscode...
but it jsut didnt free up the space
well it got deleted
it clear the space after i deleted the test ledger..
Which means you weren't deleting what you thought you deleted
and deleted it.
yes coz i ran it from the terminal
it was coz i was running the solana-test-validator from the vscode terminal
i found out the reason....
https://solanacookbook.com/guides/debugging-solana-programs.html
Yess it is mine.
Is it your program?
How to Check solana Programs is working perfect, How to do manual test of Solana Programs?
only command
thats the comman im running
101%
I will try that thank you
solana-test-validator
What is the command you use to start the test validator? Include all the arguments in your reply
99% chance the space is not going where you think it is
You should verify your assumptions by running something like `ls -hl` wherever you think the space is going lol
does it save the folder in the location where Im calling from ?
Again, use the OS tools to see what is taking up the space
does it matter if i use vscode terminal
You are assuming it is the test-ledger
i get that but why is not freeing up space after i delete test ledger?
If you run the `solana-test-validator` in different folders, go find all of them and delete them
Use your OS tools to find out what is eating up the space
yes but it wont free space, after i delete the test ledger
Use the tools in your OS to find out what is taking up the space
Of course you will see it lowering when you are running the validator
i can see space lowering , every time i run the test validator..
no its not
Then it's something else
i have run test validator like 10 times and after im done, I used to delete it. However, it didnt use to free up the space.
now I have got only 450 mb remaining
i used to run it and delete the folder...
what i had 10 gb free space.. before i started running validator
You are not making sense. If you start the validator and it consumes space, then stop the validator and delete the entire test-ledger folder you are saying that you still only have 450mb?
i didnt care much at start
now im at 450 mb ...
i had 10 gb free space
5gb
coz i can see my space depleting while running the solana-test-validator
How much space were you expecting to recover?
yes i made sure its the test ledger
yup lol. i even restarted it to check if the info is just not getting updated...
Like, deleting it definitely deletes it
Are you sure that the test-ledger is the thing that was taking up the space?
so why is it doing that?
well i can check my disk space ?
How are you determining that it's not freeing up the space?
why does it not free up the space even if i delete the test-ledger?
how to get token's last transaction (js)
Hey guys, when sending a transaction, what determines whether or not the recent blockhash is valid? i.e., how recent must the recent blockhash be
hey there, how can i send some SPL tokens to a list of addresses and try again in case if the transfer fails?

would be ideal from console cuz i need to do that each week on bulk
A program ***onchain*** does have an entry point, yes. You couldn't get to it if it didn't
You can use https://solang.readthedocs.io/ to compile solidity contracts for Solana. Let me know if I can help in any way
and each of them should have its own entrypoint?
on my second attempt, full amount is transferred. i am so confused.

https://explorer.solana.com/tx/2qgmrMdcDDzPofmcJk7zdK9XZVBxzppvM3sfu9N2eSyyqsurUbW9RV1b4zqbnD6AFpvfZWQKwQpKCRhtVEfYGxEQ?cluster=testnet
Apologies - which would be the appropriate channel for this question?
This is a development support channel
So, you do not deploy as a bundle. Each program should be deployed separately where you indicate which one is upgradeable or not.
Hello, I was wondering if it's possible to deploy my program as several different programs so that I can set some of them as "upgradeable" and others not but still be able to import structures from one another.
hi everyone. need some help on understanding how solana transfer works.
i tried to transfer 0.00001 sol to another account. however only 0.000007561sol got transferred. anyone knows why?

https://explorer.solana.com/tx/3GEkCeFAThwGpaiFddoZ2Utd3ExE3EwauwmvgDchvT88Sz7TUWfWkd8d4EJmKRGidLstdwHM25Mr8RsUguQmyiyr?cluster=testnet
Google knows nothing of this that is for sure haha
I don't use it so I have no quick reference for you
Candy Machine is a Metaplex thing, it is documented but you can ask there or google is your friend
I want to directly interact with a program's candy machine to mint. Is there no documentation for this?
That is using the Solana Program Library Token Program, it is not candymachine as you requested
https://spl.solana.com/token
Hey guys, when sending a transaction, what determines whether or not the recent blockhash is valid? i.e., how recent must the recent blockhash be
Solanacookbook.com Mint token
Where did you get that example?
Is that what I am looking for <@!814228493302497301>?
Does the program you are calling expect the new parameter? You can't just add data to an instruction that the program does not handle... what program are you calling?
let tx = new Transaction().add(
  Token.createMintToInstruction(
    TOKEN_PROGRAM_ID, // always TOKEN_PROGRAM_ID
    mintPubkey, // mint
    tokenAccountPubkey, // receiver (sholud be a token account)
    alice.publicKey, // mint authority
    [], // only multisig account will use. leave it empty now.
    1e8 // amount. if your decimals is 8, you mint 10^8 for 1 token.
  )
);

console.log(`txhash: ${await connection.sendTransaction(tx, [feePayer, alice /* fee payer + mint authority */])}`);
Yes, will join metaplex discord and check it out.
You may want to take a look at Metaplex, I am not familiar with it but it may have the answer that you need
Hey, im trying to add new parameter to instruction_data but i get this error:

invalid account data for instruction.... can someone please help ?
We can apply this requirement on our web3 site via our custom program, but if the NFT gets transferred outside of our site, (ex. via phantom or any wallet) we have no way of knowing.
Yes, you can do that
Yes, will disclose it. The requirement is, every transfer/sale/(transaction) must pay a fee to a particular 3rd party.
If your program 'taxes' in addition to the transaction fee I would think you would disclose that no?
Ask in the Metaplex discord https://discord.gg/vfdncCGP
I meant by being able to tax the transaction.
What do you mean 'undetected'? If you transfer SOL/Lamports from one account to another it should be noticed
How do I directly mint from a projects candy machine with web3?
Or You mean come up with a different type of NFT altogether?
you can reference some of the existing open source wallets, for creating a wallet, but there is not much in the way of an out of the box customizable programmable token.  SPL-Token is the token standard, Metaplex created the NFT standard on top of SPL-Token,  a new Token Program will be available in the near future. There is no eco system friendly out of the box way to create a customizable, programmable token, otherwise, currently.  You can always create whatever you want, it just would not get along with existing token eco system.
This means, any transfers happening via wallets like phantom will still go undetected, right?
https://docs.solana.com/developing/on-chain-programs/developing-rust
<#763249718339567626>
I mean i m familiar with create a spl-token already, But now i wanna create a programmable token and wallet
<@!814228493302497301> I couldn't find anything in docs showing how to build. Do you know a ref? Is `cargo build` enough?
If you mean 'build' from the command line, it is `cargo build-bpf` assuming you have a program
Are you creating smart contract or programmable token there??
If you were not using Metaplex it would be a matter of writing a program that you call first that does a cross invocation to the program you need and then, back in your program, tax the transaction.
Building the program happens with the rust compiler. You do not need NPM but it is useful for interacting with your program, but you could also do that in Rust, Python, JSON RPC, etc.
hey guys brief question,  what does the owner field mean on TokenBalance? When pulling transactions for a specific wallet address some of the owner addresses are different than the wallet address which has brought some confusion
https://spl.solana.com/
How do we build an on-chain program? The Hello-world example says `npm run build:program-rust`. So, do we always need to use npm? Don't we have npm independent command for that?
how to search if the user has a NFT from a specific collection given user wallet?
Hi there , hope all doing well. Can anyone help me about how can i create a my own programmable token on solana, Any resource or github???
In ethereum transfers of NFTs happen through the token's contract and we have the ability to apply fees etc... How do we do this on solana? Is there a way to charge fees on transfers of specific NFTs?
Same error. This is taken directly from the cookbook too...
Does anyone know how .so linking in bpf works? The files seem large for what they do, and it seems that would be a really bad way to have binaries larger than they have to be
You are supposed to use an RPC url
It should be `const connection = new Connection("https://ssc-dao.genesysgo.net/");`
`const connection = new Connection('genesys-go');` ? I cant find any docs on how to get setup
Are there docs for genesys/solana? Instead of `const connection = new Connection('mainnet-beta');` it should beee....
Yes
you think thatll help?
Hmm using the genesygo node
I'm trying the example in the cookbook https://solanacookbook.com/references/nfts.html#how-to-get-all-nfts-from-a-wallet :
```
import { Connection } from '@metaplex/js';
import { Metadata } from '@metaplex-foundation/mpl-token-metadata';
import { PublicKey } from '@solana/web3.js';

(async () => {
  const connection = new Connection('mainnet-beta');
  const ownerPublickey = new PublicKey("D9QqGzZ8Fqopuih4oHoWjcWkRreNdz6iZCYHnFcX9h56");
  const nftsmetadata = await Metadata.findDataByOwner(connection, ownerPublickey);

  console.log(nftsmetadata)

})();
```
Getting:
\solana\node_modules\@metaplex-foundation\mpl-core\dist\src\accounts\TokenAccount.js:44
    accountInfo.amount = spl_token_1.u64.fromBuffer(accountInfo.amount);
                                         ^
TypeError: Cannot read properties of undefined (reading 'fromBuffer')
Well I thought that's what I was doing with:
```
let response = await connection.getTokenAccountsByOwner(
    new PublicKey("D9QqGzZ8Fqopuih4oHoWjcWkRreNdz6iZCYHnFcX9h56"), // owner here
    {
      programId: TOKEN_PROGRAM_ID,
    }
  );
```
But I guess I'm getting all assets from the wallet?
So if you wanted to know the owner of a PDA then there would be no good way to do so
The reason to store the owner separately is there is no way to reverse a pda into it's seeds
so you could then just use the owner key as part of the bump seed and by having the contract check that you're basically verifying the transaction changing this account is the owner
I thought if I initialized a bunch of variables in one function and had this variable that I wanted to be changed by 'onlyowner' in it, then all these accounts could only be init'ed by the person who first runs this
or is it the norm to keep the key of the owner in the variable itself?
hey I had an account question. If I wanted an account to only be changed by an 'owner' could I just use the owner's pubkey to init the account as part of the seed for the PDA?
That might help
If you want to get all the NFTs from a wallet then you can use Metadata.findDataByOwner()
might be the compiled code is different in this version
im rebuilding as I upgrade to 1.9.8
Run `solana program close --buffers` then try again
I think I am now encountering rate limits, too. This code is working as intended:
```
for (let i = 0; i < Object.keys(response.value).length; i++) {
  const accountInfo = SPLToken.AccountLayout.decode(response.value[i].account.data);
  const tokenMint = new PublicKey(accountInfo.mint);
  const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint));
  const tokenMetadata = await Metadata.load(connection, metadataPDA);
  console.log(tokenMetadata.data);
}
```
But it gets cutoff at some point "Server responded with 429 Too Many Requests.  Retrying after 500ms delay..."
Will it eventually execute the whole for loop correctly? OR do I need to filter some data and do a work around?
> Error: Account allocation failed: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
I have this issue, but my account has 10.9SOL and I deployed on devnet cost around 6.3 SOL
thanks let me try again
Run `solana config set -u https://ssc-dao.genesysgo.net/`
That one is free
is it paid service?
`https://ssc-dao.genesysgo.net/`
Use the genesysgo one
That has a lot of rate limits
might be I should upgrade cli to 1.9.8??
RPC URL: https://api.mainnet-beta.solana.com
Are you using a custom rpc?
No worries
and that is my signal to go to sleep
You are awesome, I'm sorry for wasting your time with rudimentary problems lol
please assist
Im using
solana-cli 1.9.2 (src:f58b87be; feat:4100269022)
and having this issue when deploying contract to mainnet

> Error: Custom: Invalid blockhash
On the cookbook, you can click `</>` for the full source
Did you import metadata?
gosh now im even more confused
```
  const accountInfo = SPLToken.AccountLayout.decode(response.value[0].account.data);
  const tokenMint = new PublicKey(accountInfo.mint);
  //console.log(tokenMint);
  //console.log(new PublicKey(accountInfo.mint));
  const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint));

  const tokenMetadata = await Metadata.load(connection, metadataPDA);

  console.log(tokenMetadata.data);
```
ReferenceError: Metadata is not defined
    at main (file:///C:/Mine/Projects/nft/solana/index.js:24:23)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
Yes.
like without the For loop?
Maybe try just one?
String templates call the toString function automatically
`console.log(typeof(response));` returns object

Also I just noticed that I get different results from these two console.logs and I have no clue why:
```
response.value.forEach((e) => {
   const accountInfo = SPLToken.AccountLayout.decode(e.account.data);
   const tokenMint = new PublicKey(accountInfo.mint);
   console.log(tokenMint);              // Output: 6505ace8ee91716e24967088fd42524d75e2ecf1eaf8473d12ae7a7e52a23560
   console.log(`mint: ${new PublicKey(accountInfo.mint)}`); // Output: 7oMCRDFC8RELQ3JvNDmQGQYfKh4ZgzFQVuRLE6TjjeEB
});
```
Really appreciate your help.
Yea pm
Can you make sure response is an array?
https://docs.metaplex.com/candy-machine-v2/configuration#hidden-settings
Thank you so much, not sure how I missed that section 🥱 
Now I'm having an issue with my async function, maybe somebody can help me out...
```
response.value.forEach( async function (e) {
  const accountInfo = SPLToken.AccountLayout.decode(e.account.data);
  const tokenMint = new PublicKey(accountInfo.mint);
  const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint));
  const tokenMetadata = await Metadata.load(connection, metadataPDA);

  console.log(tokenMetadata.data);
});
```
The function doesn't reach the console.log at the bottom for any of the iterations. I believe I am using async/await wrong
are you talking about the uri?
anyone building on accountsdb? would love to share knowledge.
Look at hidden settings in candy machine
like 800 of the same exact PNG airdropped to my list
Hey guys, I want to mint an NFT and send it to all my holders. Anyone know a tool that could help me do this?
See: https://solanacookbook.com/references/nfts.html#get-nft-metadata
Is this what youre referring to? https://solanacookbook.com/guides/get-program-accounts.html#deep-dive
I've looked but I must be missing something. I'm a little confused by the "Account" and "Program" terminology.
The solana cookbook has a good example of this
I want to use node.js to parse through the NFTs of a specific address and then create a list with the name and ID# of every NFT in the wallet. Here is the code that I have so far:
```
import { TOKEN_PROGRAM_ID } from "@solana/spl-token";
import { Connection, PublicKey } from "@solana/web3.js";
import * as SPLToken from "@solana/spl-token";

const connection = new Connection("https://api.mainnet-beta.solana.com");

async function main() {
  let response = await connection.getTokenAccountsByOwner(
    new PublicKey("D9QqGzZ8Fqopuih4oHoWjcWkRreNdz6iZCYHnFcX9h56"), // owner here
    {
      programId: TOKEN_PROGRAM_ID,
    }
  );

  response.value.forEach((e) => {
    const accountInfo = SPLToken.AccountLayout.decode(e.account.data);
    console.log(`mint: ${new PublicKey(accountInfo.mint)}`);
  });
}

main().then(
  () => process.exit(),
  (err) => {
    console.error(err);
    process.exit(-1);
  }
);

```
This outputs the list of mint addresses. Now, I want to use the mint addresses to get the metadata of the NFT - specifically the Name and ID#. Can somebody please help me?
does a single instance of parallelism apply to 
1. all account arrays in an transaction put together?
2. or only to a single instruction's account array?
What is the chainId of solana ?
Yes, but I don't see anything about a documentation for being able to connect with mobile apps. I suppose it's only for web apps?
check that out
phantom recently created a mobile app
Are there any SOL mobile wallets that allow integration with SOL mobile apps?
hey, is there any other way to get compute budget from a txn other than by parsing the logs? i'm trying to get the compute of various different txns but some logs are truncated and i can't retrieve the full thing
Thank you, I thought I was doing the pda stuff wrong 🙏
Hey everyone! Can one of you help us validate the approach for our smart contract? New to Solana smart contract dev!

**Context**
We are building a player-vs-player game. Two players put in 1 SOL each - the winner wins 2 SOL and the loser gets nothing. The winner is determined off-chain.

**Our Approach**

1. Call an `initiatilize` endpoint every time a new player joins the game (with the player's signature)

2. The `initiatilize` function (1) creates a token account for the player, (2) transfers funds from the player's wallet to the token account, and (3) sets the PDA as the authority / owner of the token account

3. Once a winner is declared, game calls the function `declare_winner(winner_token_account_address, loser_token_account_address)`

4. The declare-winner function (1) transfers funds from `loser_token_account_address` to `winner_token_account_address` , (2) transfers funds from `winner_token_account_address` to the initializer of that the account (the winner's wallet), and (3) cancels the token accounts
<@!585868308419444749> any ideas here?
On another note, is reading RecentBlockhashes account known to throw a compute budget error: "exceeded maximum number of instructions allowed (200000) at instruction #6195"
I stripped the code all the way down to a no-op instruction. (Note I'm using Anchor).
Tested both on localnet and devnet.
or print the results directly in rust kinda like a console.log()
can we create getter functions like in solidity to execute and receive a result?
hey guys quick question
Can I interact with Magic EDEN contract on chain versus the website? I feel it’s safer with all these website phishing attempts
When I create a can’t machine and deploy it in the devnet what is the creator address? It looks to be a program on Solana
hi all, seeing some weird behavior with RPC API calls... the root ID 121648211 is "confirmed" according to getConfirmedBlocks but has no transactions or other relevant information when fetched. any thoughts?
The new version will be a little more accurate, but the shape of the data will look about the same.
My first iteration is the laziest implementation ever -- I am simply wrapping the v1.8.14 CLI `solana ping` command in a script. For the v1.9 version, I'll take some time to use `getRecentBlockhash` and expire after 150 blocks.
it seems like the only way to get it is to call getFees, that isn't even in web3.js, and getLatestBlockhash is 1.9 only. So essentially no way to do it properly out of the box in dapps...
are you getting the last valid slot for the blockhash or is it time based as well?
I made some tweaks earlier today to give a better resolution for the confirmation times. We retry each TX for up to 60 seconds until it lands or we timeout. In the next iteration, the timeout will be based on # of blocks, not the # of seconds.
Hey, how to create my own RPC nodes ?
seems like nobody actually sends in a conservative/correct way
i just got a case of 6 txs being dropped on a dapp, over something like a few minutes.
<@!600035831528423484> 
https://www.validators.app/ping-thing?locale=en&network=mainnet
Is the ping thing resending until the blockhash has expired? Curious to know exactly what it does
for confirmed transactions there is a `log_messages` field -- are these the output of `msg!` calls?
not nfteyez or anythign
like, in text format
How to see a full list of NFTs and their name in a wallet?
Just sent you a friend request.  I'm having the same issues.
https://github.com/solana-labs/solana/tree/master/sdk
I am trying to connect to the mainnet and get the the account balance of an account. Is there an example on how to do this by using the official rust sdk?
Is this a legit place to ask questions about my spl tokens?
I'm looking for rust smart contract developers who can help move an EVM project to Solana. Who can point me in the right direction? Would really appreciate it.
am referencing a transaction like this
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
if I am making a simple dApp where a user comes and receives an NFT using @/wallet-adapter
how do you set up the contract where the user pays to create the associated token account if it doesnt exist?
i found a solution to this issue! if anyone else is having an issue with a wallet like solflare working but not phantom, I first did 

signed the transaction with phantom, then serialized it and send the tx with sendRawTransaction.
```
let recoverTx = Transaction.populate(Message.from(tx.data));
const devSig = new Uint8Array(Object.values(sig));
recoverTx.addSignature(devs, Buffer.from(devSig));
await anchorWallet?.signTransaction(recoverTx);
    
const txSig = await provider?.connection.sendRawTransaction(recoverTx.serialize());
await provider?.connection.confirmTransaction(txSig!, 'processed');
```
by doing this i did not get the code: -32003 error from phantom
Is anyone else getting a lot of `Transaction was not confirmed in 60.00 seconds`?
got it, I'll check it, thanks
Hi. Is it possible to change my Solana token server where I can mint it etc? I created a server in which I created a token and added it to Solana registry. I no longer have access to that server but I would like to mint more tokens etc.
anchor framework will handle internal state of your accounts for you, including encoding and decoding the binary data that actually goes onto the blockchain
yeah, its my account 
is it possible to do this task with anchor?
is this your own account? if so strongly recommend using the anchor framework, it handles that sort of thing for you
I also opened an issue on stackoverflow with more detailed explanation.
https://stackoverflow.com/questions/71198927/how-to-convert-resultrefmutu8-to-readable-string
Sounds like you've already initialized an account at that address. (If you keep using the same seeds then you'll keep finding the same address.)
Hey! Technical performance question related to API performance: Is there some well understood point where using `getMultipleAccounts` to grab every single possible PDA `(x_id, y_id, prog_id)` for a single `x_id` is more/less efficient than a `getProgramAccounts(filter(x_reverse=x_id))` I'm in a situation where I have a many to many relationship but `count(x_id)` is likely to be some orders of magnitude larger than `count(y_id)`, meaning there's a large number of accounts for the getProgramAccounts execution to filter through.

(would also eek me out some storage space savings in a many to many linkage by avoiding 32bytes of `x_reverse` which is always great)
Hey I’m using pdas, and use findprogramaddress () to get the bump and pda, all works great. But when I try to connect to the account via program.rpc.initialize it give me an error that the account is already being used? Has anyone ran into this issue before?
I've tried few solutions but nothing helped:
im attaching the unwraped data
hello, does someone know how to unpack data from account to readable text? (on chain program)
even though idk what it cant read because i can console log my stuff
this is still what im getting

like a comment?
Is there a way to add some info to the transaction?
When I use getOrCreateAssociatedAccountInfo who pays for the creation?
is ts the same?
theres no example in js
Try this to confirm it's working: https://solanacookbook.com/references/basic-transactions.html#sending-sol
Methinks it is the mythical `provider` you speak of
this is the error im getting rn

Hello all, does anyone know if Solana's gas relayer (Octane) is currently working? Or if there are any other ways to pay for user's fees when trading your custom token.
The network and wallet context used to send transactions paid for and signed by the provider.
I don't know what `provider` is
i think i am

but it still doesnt send it
i changed walletAddress to provider.wallet.publicKey
okay i think i have moved a step forward, now i get a request for sending 0.01 sol but when approved still doesnt send, heres the code
If you single step into the constructor of the key, you are definitely in the Solana class?
i get my pubkey
Interesting, what do you get if you `console.log(publicKeys.toString())`?
same thing
yep
Did you try to prefix the new PublicKey with `web3.`?
I guess I am starting to understand
so in my protocol there must be some kind of "init" instruction which must be run in the beginning effectively creating and initializing the account
idk where is the x coming from but it has something to do with this send tx code
this is the transaction sending code
You'll have to provide more content. What is `x`? Where did you get `x` from? You should create a minimal example that replicates the error.
At that point, when you call the program to do other things, just pass in the PDA PublicKey (which you can use https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#findProgramAddress) just using the seed and program id and relieve your user for having to track it and provide it.
The only thing the end user needs to do is to provide a wallet to pay for the PDA for creation. Unless you are paying for them all...
does anyone know this error?

You only have to create it and initialize it once. You data in the PDA should have a flag `u8` to indicate it's initialized state. That way you can check and error out if:
1. When you want to initialize, if the `initialize_flag` is 1 you should fail
2. When you want to do other instructions you should check that the account you want to operate on has `initialize_flag` == 1
i see. i forgot there are system instructions for that kind of stuff. and was trying to figure out hot to create an account on my own.

but how can client make sure the account is created so as not to issue "create_account" instruction within each transaction?
You could also do that from client TS/JS...Rust...Python....
<@!842650249411035197> It is best practice to create and initialize accounts in the same transaction so as not to let another program 'hijack' the account
and then do this
```
            // create PDA account
            invoke_signed(
                &system_instruction::create_account(
                    &payer_account_info.key,
                    &pda_account_info.key,
                    Rent::get()?.minimum_balance(9),
                    9,
                    program_id
                ),
                &[
                    payer_account_info.clone(),
                    pda_account_info.clone()
                ],
                &[&[b"global_counter", &[bump]]]
            )?;
```
u could just have a create/init account instruction on the program
yeah
so I gotta preload all the accounts/programs  i want to interact with ? https://solanacookbook.com/references/local-development.html#using-mainnet-accounts-and-programs
ok so the client has to somehow check that the pda account is allocated and if not then allocate it.
Ok, so the guidance <@!185511768947294208> gave you is gold
no not really
just rust sdk
Are you using Anchor?
`solana-test-validator --help`
thank you for the answers
just to clarify

before client attempts to perform some action on a PDA it must be allocated? so it should be done on the client side too?
1. pdas are really useful for storing per-user structs/data 2. yes
you'll still need to create the account and assign it to the address for the pda -- and the initialize the account with the data you want to store
that code derives the address for the pda
wdym ?
What "log messages" are mentioned in the error?
```
Caused by:
    0: RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction [3 log messages]
    1: RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction [3 log messages]
```

I am pretty sure those are not the logs I can see with ```solana logs```
similar to what gnache or hardhat does for eth ?
does anyone know how to fork the solana mainnet to a local validator?
oh dope
getParsedAccountInfo can parse it out
it wont know anything about the structure, youll probably have to deserialize the data yourself i think
I can remove  `@solana/spl-token` now, as it's broken atm anyway
yes, just discovered it does.  Just i was expecting `@solana/spl-token` to handle it.  Why should the connection know anything about the structure of an spl token account?
doesnt something like `await connection.getAccountInfo(pubkey);` work?
https://solscan.io/tx/4xkUkehU7BuV2qo9x52ekopx2FFjK596azcDeZiBwVcjFn4RaU6wezmi1mvV6D5s9rrQxboYc1eS7uLSNyxLXioL?cluster=devnet

im getting an error " Could not create program address with signer seeds: Provided seeds do not result in a valid address". OK seems reasonable, but I have a lot of PDAs here, is there any way to tell exactly which PDA is at issue?
js is so much harder than rust 😂
`        "@solana/buffer-layout": "^4.0.0",
        "@solana/spl-token": "^0.2.0",
`
ok can confirm that spl-token is broken on mac as well as linux
This cookbook seems to be saying: no, you can't use the `@solana/spl-token` to fetch token info given a pk.
https://solanacookbook.com/references/token.html#get-token-mint
Something to do with `@solana/buffer-layout`
ok i thought it might be to do with not explicitly doing a `yarn add @solana/spl-token`.  So i did that and now i've broken everything:  `Uncaught TypeError: fields must be array of Layout instances`
Hi there! Did someone have tips about the dev cycle for create a project with Anchor ? Where to start, how to build your logic, which docs etc..
The docs imply i can use getAccount(), but that doesn't seem to exist in the latest package.
Hello all.  Can i use @solana/spl-token to pull back the info for a mint or a token account given the publicKey ?
how can I create the token account paying for it?
Transaction simulation failed: Attempt to debit an account but found no record of a prior credit.
that method gives me an error when used on an account that has no records, a new account
getOrCreateAssociatedAccountInfo
is there a way to run a single mocha test with anchor? Or a way to pass flags through to mocha?
Yes I can


///////////////////////////////////////////////////////////////////////////////////////////////

If you want more coins, you have to have less decimals
No
hey, is it possible to create a token supply of 11 trillion with 9 decimal places?
I’ll check everything
Aha
This usually happens when you don't pass something correctly to the transaction
I'm trying to send a transaction with instructions, but getting this error `invalid transaction: index out of bounds`
Anyone know what’s wrong?
ah ok thanks!
Looks like `getLatestBlockhash` is the new one, but only works on clusters with version `1.9.X` https://docs.solana.com/developing/clients/jsonrpc-api#getlatestblockhash
You'll have to use the deprecated one mentioned for mainnet-beta and devnet, which are both on `1.8.X` still
ty!
Let me check
recent blockhash is the depreciated one
getlatest blockhash is the new fcn no?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getRecentBlockhash
updated and still get the error
Update your web3.js version. The old method I believe is deprecated
any ideas
im trying to send a transaction and use `connection.getLatestBlockhash()` on the devnet but im getting  `Error: failed to get recent blockhash: Error: failed to get latest blockhash: Method not found`
This is an anchor macro, so I'd recommend checking with them. May be an Anchor version mismatch https://discord.gg/97GJS2Vs
i tink its sometngs wrong with the setup of my new mac... i copy pasted the working lib.rs code from my old windows where it compiled fine, to my newly setup mac,.. and still getting the same error on the mac
For more information about this error, try `rustc --explain E0412`
It looks like there is a suggestion cut off in the error message
Seems right to me. I think this is already being done by a few on Solana. I'd check with metaplex https://discord.gg/KXJmMvxS
You should almost be able to use the code 1:1, just not have the types
guys i'm not sure why i'm having this issue. I set up a new pc for dev and redoing a tutorial. Error i'm getting on running anchor test is 

cannot find type 'ProgramResult' in this scope. 

this is a freshly set up dev laptop (mac), anchor --version yields 0.22.0

sorry for the noob question but i didn't have this issue on another pc (windows)
Oh I see, thanks a lot!
Solana's bpf stuff uses a forked version of rust that happens to be 1.56.0 https://github.com/solana-labs/rust
Not sure why this happened (feel like it shouldn't have), but you need to just explicitly depend on "=0.9.1" for that crate in your Cargo.toml (note the equals sign)
Did you get an answer? Facing a similar issue with `uint` crate
Is there a way to deploy candy machine other than from the CLI, (as in through Phantom, etc.)?
TypeScript gets compiled to plain JS eventually so there's no need to worry. It will run on all modern browsers.
But what I read is that ts cant run in browser. So If I want to build a marketplace or some functionality through the browser, then will running ts code still be good? That what confuses me
Do you have a large JS codebase and worried about migrating to TS?
Otherwise I'd say just write ts. This will save you converting the snippets as well
Hi there! I have a question. I'm working on a very interesting project but all the technical part is very blurry for me. Basically we would like to offer a service allowing the purchase of fraction of a physical product but on the Solana blockchain. I had the idea to create an NFT for each physical product we have, mint this NFT on the wallet of the project and that people can buy a fraction of this NFT. The particularity is that the resale value is not the value of the Solana but the value of the product itself. And the user can only sell his fraction if someone else wants to buy a fraction at the same price. Either via a marketplace where the user puts his fraction on sale and waits for a purchase or I don't know. Do you have any advice? Is the logic right? Do you have any idea how to do this?
Hey Jacob, I am new to typescript and I just want to make sure Im using the code and running it in the right way. What I do now: I copy the typescript snippets, convert to js using `tsc` then use it as a js code. Is this the optimal way to do it? Or when developing apps I should run the ts code? ( I want to know what is the right way (convention))
anyone know what's wrong?
I'm trying to send a transaction with instructions, but getting this error `invalid transaction: index out of bounds`
is there a way to determine my decimals
`spl-token create-token --decimals 0`
for the decimal
is there some kind of syntax
For more tokens, you have to lower decimals
You're hitting the max
Lower the decimals
but i only recieved about 18 billion, is there any reason for that?

Hello, I am trying to create a token with a limit of 11 trillion supply
Thanks Jacob 👍
`createMint` is the new function
Version for `@solana/spl-token` is found at the top of the page
2 question: 1) using the previous version I was able to do: 
`const mintToken = new Token(
    connection,
    mintPublicKey,
    TOKEN_PROGRAM_ID,
    wallet.payer)`
In version 0.2.0, I it was changed to `createMint` ?

2) for future refernces, how do I know if solana cookbook code snippet is from version 0.2.0 or older, where can i see the version?
Nice trick 👍
<@!489206164270350337> you can wrap a link with <> to remove embeds
Yeah, that uses latest. Latest is better. Cookbook has updated docs for `0.2.0` https://solanacookbook.com/references/token.html#token
It is ^0.2.0
I just installed @solana/spl-token using `npm install @solana/spl-token`. So i guess Im using the latest version
Probably because there are no such exports. Look at the Exports list here <https://solana-labs.github.io/solana-program-library/token/js/>
That should be up to date
`@solana/spl-token`
What version of what? node? tsc? npm?
What version are you using? `0.2.X` got released recently and it's a breaking change
For tweetnacl usage
https://solanacookbook.com/references/keypairs-and-wallets.html#sign-and-verify-a-message
You can use `signMessage` with phantom and use tweetnacl to decode it
Using accounts like paulx's article is a legacy way really. It can still be used, but PDAs are better. PDAs can be indexed, queried, and more. You can still use a single account for state if you thing that's best though
I have this import: `import { Token, TOKEN_PROGRAM_ID } from "@solana/spl-token";` but I keep getting this error: `SyntaxError: The requested module '@solana/spl-token' does not provide an export named 'Token'` 

Even after I added `"type": "module"` to `package.json`
I know i can't sign with a public key  but in RSA theory you encode you message with the public key of the other person so that this person can decode it with his private key . I want to do the same thing but with my own public key but i don't know if phantom wallet provide a function for this
Why is that better?
Something like this https://solanacookbook.com/references/programs.html#create-a-program-derived-address
You can do that, but a better way is to create PDA accounts in the program and pass the PDA from the client
It seems to be common practice creating empty data accounts on the client and passing them to the program. Those accounts are meant to be owned by the program and hold state. Yet they are created on the client.
Is there a reason for that? It seems to me these accounts should be created by the programs themselves or am I missing something?

Going through paul's awesome tutorial here <https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/> that seems to be the case as well
RPC is the way to go
thank you!
<@!489206164270350337> Do you know how we query locally Solana chain (apart from CLI, RPC)? In particular, say I've just  deployed a program (hello-world). It displays a program_id. Then for example I want to view the account that program is stored in and other details. I mean how do we do further chain exploration.
Most RPCs are non-voting validators with their rpc exposed
Thanks for making a StackOverflow question btw. https://stackoverflow.com/questions/71218486/what-does-solana-test-validator-do-on-the-background I'll see if I can find someone with the answer and push them there
Can the RPC server choose and run validators?
Programs on chain cannot make requests to external APIs.
Let me know what you find!
If the program has code that requests an external API, can the validator execute it?
<@!489206164270350337> Anyway, thank you for your answer. I'll probably dig deeper a bit later. Just begun Solana.
MacOs
Not sure past that. Is there a problem with it on your machine?
Hmm, it may have something to do with the finalized slot being so far from the processed slot. The slots are processed at a target rate of 400ms/slot.
thanks
<@!489206164270350337> As fo logs, `solana logs` does not show anything, except when I deploy a program for example.
Why does it do votes? As far asI understand those voting, computations, etc are needed when nodes need to confirma new entry (block), for example a transaction or transfer. Right?
My understanding is that if you run `solana-test-validator` alone, it does votes and is always the lead since it isn't in a cluster. You can see all this happening in the logs
These are votes happening in each slot
Hey, I used `solana-keygen recover` and entered the mnemonic, the keypair has been recovered. Thanks a lot!
When run `solana-test-validator` it begins a new process with the following output:
```
Ledger location: test-ledger
Log: test-ledger/validator.log
Identity: 4876NsAf6yH8c7uPXybETZPit142i2QhR7tfSoTPYjHf
Genesis Hash: CrqeHuGVmgHL54Sri7dEm2aCRLFopJrTHoQBYe6ciF7N
Version: 1.8.17
Shred Version: 28931
Gossip Address: 127.0.0.1:1024
TPU Address: 127.0.0.1:1027
JSON RPC URL: http://127.0.0.1:8899
⠄ 01:44:22 | Processed Slot: 48335 | Confirmed Slot: 48335 | Finalized Slot: 483
```
I understand: 
 - what consensus alg or leader election is,    
 - how blocks are ended up in a block chain
 - what a Solana validator is
I've also read Solana cluster, validator, slot, epochs docs.
It says 
```
Slot: The period of time for which each leader ingests transactions and produces a block.
```
Could someone explain what happens when we run `solana-test-validator`? In particular, does it produce blocks/ledger entries? From what it continuously displays 
`⠄ 01:44:22 | Processed Slot: 48335 | Confirmed Slot: 48335 | Finalized Slot: 483`
it seems to be producing new blocks? If so, why do we need those ledger entries? After all nothing happens locally on my cluster (no transactions, not sol transfers....).
Looking at both, it looks the same. Not exactly sure 🤔
You'd have to contact other rpc providers such as genesysgo or quicknode. Likely shouldn't be testing on testnet anyways, that's for performance related things
You cannot "sign" with a public key. That'd break a lot of things
You should be able to use batch rpc calls to send multiple transactions. There's also a tool by cope I believe
Most people are building custom programs for this
whats the difference between the `solana_rpc`  rust crate and `solana_client::rpc_client`?
i cant access api.testnet.solana.com, need a new rpc node.
include testnet / devnet
How to get all the public RPC Lists
Do you know how i can encode or decode a file or message using my phantom wallet keypair. My problem is that i don't know how i can encode my file if i can't access the private key for security reason of course. Because i know i can sign message with the private key and decode it with the public key but i want the inverse . I want to encode with the publicKey and decrypt with the private key but i don't know how i can decode with the private key without accessing it
anyone have a good way to batch-send or send a large amount of transactions at once from the same wallet? i.e. airdrop but without looping through and sending 1 by 1
Okay, thank you.. but how to distribute ownership of nfts (decetralend land for example) between investors?
Probably just in demand, but it's still early over here
are payment splitters not in the same demand as on ETH?
Not that I know of. There may be one somewhere if someone open sourced it
Is there a public payment splitter on github?
Try it out! Let me know what you came up with here
Looks like this should work 

```
// Checking if passed PDA and expected PDA are equal
    let signers_seeds: &[&[u8]; 3] = &[
        b"customaddress",
        &funding_account.key.to_bytes(),
        &[*pda_bump],
    ];
```

I found at https://solanacookbook.com/references/programs.html#create-a-program-derived-address
Any guidance here
Yes, exactly, I search a lot but I did not find a way to pass seed (which contains multiple parts) in the signature
I am initialising the PDA like this: 

```
    // house token wallet
    #[account(mut, seeds = [
            "hello".as_ref(),
            mint.key().as_ref(),
        ],
        bump = house_token_account_bump
        )]
    pub house_token_account: Box<Account<'info, TokenAccount>>,
```
It sounds like you are providing the incorrect type as per the error message
```
house_token_account_bump: u8
mismatched types

expected `&[u8]`, found `u8`rustc(E0308)
prize_main.rs(296, 11): expected `&[u8]`, found `u8`
```
What even is the error?
I also want to add prize.winner in the seed
Whereas this is not giving any error: 

```
    let signature = ["hello".as_bytes(), &[house_token_account_bump]];

    // transfer tokens
    token::transfer(
        ctx.accounts.transfer_ctx().with_signer(&[&signature]),
        tokens_to_transfer,
    )?;
```
I am getting this error
Hey, 

If we use seed to sign a cross program invocation we pass it like this 

```
&[&user.key.as_ref(), &[user_account_bump]]
```

How do we do this if my seed is "user" + user.key

like this one: 

```
    #[account(mut, seeds = [
            b"ticket".as_ref(),
            owner.key().as_ref()
        ],
        bump = ticket_bump,
        has_one = owner
    )]
    pub ticket: Box<Account<'info, Ticket>>,
```
Twitter/discord are the places to scout
Are there any good places to hire solana developers?
You just have to build it
Solana would allow you to do all of this.
Hello guys,

I’m a newcomer in blockchain community. 

We currently have a successed P2P crowdlending platform and have a lot of active investors. 
So next step we want to move is - creating a trust fund for buying NFTs.
There are a lot of information and with time of course I will deal with it but maybe someone could help me a little bit to make it faster.

1. Crowdfunding for investors
2. NFT buying and Governence for picking NFT
3. Exit for crowdfunding investors

Is Solana eco-system allow me to do that? Or should I inspect another tools?

Best regards,
Oleg.
coingecko provides this API
I think there was something created by Hana iirc. Just the protocol though
Thanks!!
No time to develop It. If somebody is willing to help I can provide a working architecture
I have no idea on candy machine stuff. That's a metaplex question https://discord.gg/KXJmMvxS
Meaning there’s just a problem with my Candy Machine configfile?
Previous state is not stored anywhere today. You'd have to go backwards through the tx changes
This is not exactly Solana related. Means the `configString` is not a JSON string.
Sounds like you should probably do the command suggested. To check the keypair config you currently have, `solana config get`
Not sure if there is. Would be great to have though
Or am I missing some of them?
Hey guys, why isn't there any flash loan system on Solana?
this gives block information
Many thanks

Hi I have a small problem. Im working with another person, and he cloned my repo. Our problem is that he cant get to make the solana cli understand our wallet, which I generated. We think we have point to right keypath, but still get this error
const config = JSON.parse(configString);
                      ^
SyntaxError: Unexpected token : in JSON at position 7
    at JSON.parse (<anonymous>)
    at getCandyMachineV2Config (C:\Users\sora\OneDrive\Desktop\Solana\metaplex-master~\metaplex\js\packages\cli\src\helpers\various.ts:56:23)
    at Command.<anonymous> (C:\Users\sora\OneDrive\Desktop\Solana\metaplex-master~\metaplex\js\packages\cli\src\candy-machine-v2-cli.ts:99:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5) 

What does this mean?
There is RPC: https://docs.solana.com/developing/clients/jsonrpc-api#getblock
is there a way to get an account data in a certain block ?
Hello. I want to get updated solana price in usd by my server what is the best way to do this ?
all good, question is answered
Can smb describe what do this magic numbers mean in metaplex-program-library/metaplex/program/src/state.rs
nothing related to anchor, it's more about the wording in your article
const config = JSON.parse(configString);
                      ^
SyntaxError: Unexpected token : in JSON at position 7
    at JSON.parse (<anonymous>)
    at getCandyMachineV2Config (C:\Users\sora\OneDrive\Desktop\Solana\metaplex-master~\metaplex\js\packages\cli\src\helpers\various.ts:56:23)
    at Command.<anonymous> (C:\Users\sora\OneDrive\Desktop\Solana\metaplex-master~\metaplex\js\packages\cli\src\candy-machine-v2-cli.ts:99:38)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
Hey! Hope you are doing well. I am trying to upload my assets to airweave on devnet but I get this error when I do my ts-node upload command
guys i want to decode instruction data can you elaborate ```transfer_layout = InstructionLayout(idx=2, fmt="Q")

raw_data = bytes.fromhex('020000007b00000000000000')

decode_data(transfer_layout, raw_data)``` where can i get idx=2 and fmt="Q" ?
question: is it possible to add a new nft to existing collection ?? if so, can someone please explain in details ??
ask in anchor discord. Ill answer when I can or someone else might
Hi Paul, got a quick question regarding your article https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/ - can I dm you?
Good day! Do I understand correctly that `slot` + `epoch` together constitute as `block.number` on Ethereum?
Hello! I'm Olivia representing GetBlock.io, a service that provides API connection to blockchain nodes of over 40 top networks.

We've deployed the Solana (SOL) shared (https://getblock.io/nodes/sol/) and dedicated (https://getblock.io/dedicated-nodes/sol/) nodes and start providing access to them on our platform. 

Looking for someone form the Solana team, with whom we can communicate about the tech side, possibility of collab/partnership, etc. Thank you! 🙂
im working on a gaming project. looking for someone who could help with react and solana web3 js. please dm. this is a paid gig.
Sure, thanks a lot. I will try that 🙂
if you type in `solana-keygen recover --help` in the console with solana cli you can try following those instructions as well.
you could  try this..
https://solanacookbook.com/references/keypairs-and-wallets.html#convert-mnemonic-to-keypair
I created a local wallet, yes. But I have the mnemonic backed up. Can I restore my wallet somehow?
not familiar with that so I dont know what you did.  chances are if you created a wallet locally on the server, and did not back it up somewhere, write down the key/phrase/etc like it asks you too, then you cannot restore it.  if you cannot get the server back, and did not back up your key, most likely you are out of luck.
I used this guide: https://learn.networkchuck.com/courses/take/ad-free-youtube-videos/lessons/30335930-i-created-my-own-cryptocurrency#. I created a Linode and created a token, then added it to Solana registry on GitHub. But I accidentally terminated the server. Now is there a way to change my token address in the Solana registry? Thanks.
not sure what your referring to Solana token server.   
a token is created and owned by an authority/owner.  if you have the wallet or keypair file that is the authority on that token that was created, for whatever network  devnet/mainnet-beta,  than you can still use it in the state you left it in.
Hello. Is it possible to change my Solana token server where I can mint it etc? I created a server in which I created a token and added it to Solana registry. I no longer have access to that server but I would like to mint more tokens. Is that possible? Thanks.
got it, thank u
As <@!785084693023424542> said but you can check the feature using either `solana feature status -ud` for devnet or `-ut` or `-um` for other networks. Also https://github.com/FrankC01/solana-gadgets/blob/main/rust/scfsd/README.md.
Note: All features are always enabled locally
Note: In 1.9.8... `request_units` takes a second parameter `additional_fee` as you will be expected to pay for the increase request. Currently the argument accepts a `0u32` but at some point...
The feature ID for this request is: `5ekBxc8itEnPv4NzGJtr8BVVQLNMQuLMNQQj7pHoLNZ9`
okay thanks, I'll take a look at PDA since I want the contract to hold tokens from other token accounts
a program that has a token account can receive a token(s). programs have PDA (program derived accounts) that are commonly used to hold balances of tokens as well.  
examples: https://solanacookbook.com/#contributing
resources: https://soldev.app/
official docs: https://docs.solana.com/developing/programming-model/overview
I used `solana_client::rpc_client::RpcClient::get_account(<my token account>)` to check the owner, then the owner is indeed the Token Program. I saw the Owner field in the explorer then assumed it is the owner of my token account. But it is only the `owner` field in the account data. Thank you for pointing this out.
hi i'm new to solana and i want to ask can a contract receive tokens?
the token program owns the underlying token account, and you are the authorized owner on the token account, and your associated token accounts. so you authorize change/transfers, etc.
I got it, thank u very much
i believe it may be there, but not really being used yet.
i dont believe that feature works in the versions currently deployed to dev and mainnet yet, it may be in 1.9.x.  you may have a different version locally?
Hi guys, I'am using compute_budget program. But it works on localnet, do not work on devnet. It makes me confused. Could anybody help me?
Hi!
Is there a way to `invoke` instruction without pre-deserialization `Instruction` in my program? Now i send `vec<u8>` to the program, then use `bincode::deserialize::<Instruction>(&data)` and then `invoke`. But maybe there is a way with `sol_memcpy`?
Token account is a struct `Account` (https://docs.rs/spl-token/latest/spl_token/state/struct.Account.html) that stored in `data` field. Your account presents as AccountInfo (https://docs.rs/solana-program/latest/solana_program/account_info/struct.AccountInfo.html). Owner in AccountInfo is spl_program, owner in `Account` is your pubkey. Explorer displays owner from struct `Account`.
Hi, I have a question about the Token Program (https://spl.solana.com/token). An associated token account of mine (https://explorer.solana.com/address/HhHwNJPitVLsLMMPoyGVC1pziRpmoK1Ew7KCPaUqkpgg?cluster=devnet) is owned by my account (`FaAWPa...`). Then how can the Token Program mutate/write that associated token account (when minting or transfering)? To my understanding, only the account's owner can change the account data (https://docs.solana.com/developing/programming-model/runtime#policy).
I understand it is heavy so i am doing that on my own node
it blocks forever
but this never seem to return
I am struggling with some query that i quite sure worked fine before
```
curl https://some-rpc.com -X POST -o tas.json -H "Content-Type: application/json" -d '
  {"jsonrpc":"2.0","id":1, "method":"getTokenAccountsByDelegate", "params": ["31ARfyxZg6fr1J9hVs1NqBWkdeYeCKipuY71bMovNpy9", {"programId": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}, {"encoding": "jsonParsed"}]}
'
```
I am trying to scan for all users vunerable to the Solfire rug delegate
yes
<@!926474261261070384> My question is simple: DOES IT PRODUCE BLOCKS (LEDGER ENTRIES) ON THE BACKGROUND?
<@!926474261261070384> DO you understand what it writes: `...that produces new blocks.`?
This is a validator def:   A full participant in a Solana network cluster that produces new blocks. A validator validates the transactions added to the ledger
I know it starts a validator, please look at its name `solana-test-validator`
is bonfida safe?
it runs this- https://github.com/solana-labs/solana/blob/master/validator/solana-test-validator
Which runs this - https://github.com/solana-labs/solana/blob/master/validator/solana-test-validator
which ultimately starts a new validator - https://github.com/solana-labs/solana/blob/3c65fd7ba389fffcd7e1fbe5140472f75e16fac0/test-validator/src/lib.rs#L697
findAssociatedTokenAddress() return array[0] of the list, which is not always correct, anyone can confirm? I have 2 token accounts in the list and the array[1] is my associated token account, not the array[0]
how can I transfer my tokens to a contract?
So it seems to be generating ledger entries on the background (at least it is how I percept)
This is from docs => Slot: The period of time for which each leader ingests transactions and produces a block.

Collectively, slots create a logical clock. Slots are ordered sequentially and non-overlapping, comprising roughly equal real-world time as per PoH.
<@!926474261261070384> My question: when we type in `solana-test-validator` what kind of process does it start? What is it doing? Generating blocks/ledger entries? There is some progress on the screen with ticking time and it displays stat on the screen: `Processed Slot: 43746 | Confirmed Slot: 43746 | Finalized Slot: 437`
😦 probably if you can explain more. i can answer..
Thank you for you answer, but actually what you write can be found in the doc, probably you don't understand my question. 🙂
Finalized slot = root
confirmed slot = Optimistically confirmed
processed = frozen (but not very sure)
I understand what consensus is in general (in BC case it is a way to decide upon whether or not to add new a block to BC, different consensus algs in Eth, Bitcoin, Solana,...). But what I don't understand is what  it does. Does it start to generate blocks (produce ledger entries)? What is all this progress about? (Confirmed Slot: 41242, Processed Slot: 41242..)
you will have to understand the solana consensus and various commitment levels for a block / slot (in the code)
a block can be frozen (all the entries for that block have been received) 
from this state it can go to confirmed (Optimistically confirmed in the source code) which means that this particular validator assumes that this will be the next block in the chain
from this state it can either get to the root (validator now knows that this is part of the chain) or can be voted out
const largestAccounts = await connection.getTokenLargestAccounts(new PublicKey(tokenMint));
const largestAccountInfo = await connection.getParsedAccountInfo(largestAccounts.value[0].address);
console.log(largestAccountInfo.value.data.parsed.info.owner);

Property 'parsed' does not exist on type 'Buffer | ParsedAccountData'.
  Property 'parsed' does not exist on type 'Buffer'
any one has idea about this error?
code from https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
Can anyone explain what happens when we run `$ solana-test-validator`? In particular I don't understand the line `00:44:36 | Processed Slot: 41242 | Confirmed Slot: 41242 | Finalized Slot: 412` which is continuously being updated after I run `solana-test-validator`.
Hi Guys,
i want to create a RPC server that can take all the read requests you can send it to. 
* coupled with developer centric services allowing devs to deploy and debug on chain program with ease
* and with analytics and fraud detection

it would be really helpful to know a few guys / devs interested in such a service and problems dapp devs are currently facing
please let me connect with you and find out more about your specific use case. 
i strongly believe that if we can make the dev journey easier then we can compete with the biggest chains 
im not trying to sell anything here just trying to get some pain points you guys are facing interacting with a validator. 
Please DM me and we can setup a call as per your schedule. The call itself should not take more than 30 mins.

this is a linkedin post for the same if you can share that around it might help
https://www.linkedin.com/posts/parv0888_solana-solana-rpc-activity-6901794594162401280-Z801

Thanks a lot
`"Unable to fetch minimum balance for rent exemption"`

Anyone know how to avoid this? This is due to RPC server I believe, but how to fix this issue?
tried different version combinations of solana dependencies, without success
this is my package.json
i get this error when i start my react project
```Failed to compile.

./node_modules/@solana/wallet-adapter-wallets/lib/esm/adapters.mjs
Can't import the named export 'BitKeepWalletAdapter' from non EcmaScript module (only default export is available)```
ok, I think the issue might be obvious, but not obvious enough for me to figure out the solution.

I manually guessed the ``additional_fee`` required for this number of units.

curious how to calculate it correctly.

so sorry for that.

Are you also sorry for not posting the error message?
so sorry to disturb, Just I built this in python, and it doesn't work, not quite sure what I could have been doing wrong then:

```python
request_units = CStruct(
    "units" / U32,
    "additional_fee" / U32   
    )


    transaction.add(
        TransactionInstruction(
            [],
            compute_program_meta.pubkey,
            request_units.build({"units": 500000, "additional_fee": int(0.01*10**9)})
        )
    )
```
Hi Team. I am using anchor for development. I have taken an Vectot of u8. Now while init I need to provide the size of it. Any idea how I can implement the size of a vector for saving it in an account.
I think this will help https://lorisleiva.com/paginating-and-ordering-accounts-in-solana
Actually I want crate Merkle Tree with rust.
Please can you help me out ? Maybe point me to an example or tutorial ?
Probably
Hey Solana fam. Please is it possible to fetch holders of an SPL token in a Solana program ?
I think you can just ask here then there will be a someone to help you.
it depends on how you publishing it. (like candy machine or you would like to build your own mint program ...)
I think the main cost are accounts rent. you can get better support at the <#937905165074300999>
sure. it is just an instruction.  you can use it with other languages if you can compose the same struct.
this is rust part
https://github.com/solana-labs/solana/blob/master/sdk/src/compute_budget.rs#L40
ok thank youu <@!788215642070581289> 💚
they are the same atm.
Hi guys I hope everyone is well. I have a question, anybody knows about writing a smart contract with rust? because I have a problem.  can anybody help me?😃
Hey @here can someone tell me that if i had made a stake pool from solana cli so can i list that pool on radium or any other dex of solana? and the epoch fee that i will set will remain there even when a pool is listed on a dex ?
Hi, all folks! I am interested in publishing NFTs for my game. So, I am interested on the exact cost for all operations starting from nothing and ending with that player received it. How does it work? For ex., if I prefer publishing on OpenSea with ETH, I need to pay: gas fees (0.11 $ / transfer) + 2.5% will be deducted from each sell.

How it works with Solana ?
hey <@!788215642070581289> , 

Running out of compute units on a transaction, and I see it is possible to precise higher compute units for each transaction that I execute,

Unfortunately for me, I only see so on Solana-sdk on Rust.

I am coding my clients on mainly python, and then javascript when not possible.

Is there anyway for me to replicate this in any of the languages in question please:


from:`` https://solanacookbook.com/references/basic-transactions.html#setting-transaction-wide-compute-units ``

```rust

let txn = submit_transaction(
        &connection,
        &wallet_signer,
        // Array of instructions: 0: Increase Budget, 1: Do something, 2: Do something else
        [ComputeBudgetInstruction::request_units(400_000u32),
        Instruction::new_with_borsh(PROG_KEY, &0u8, accounts.to_vec()),
        Instruction::new_with_borsh(PROG_KEY, &0u8, accounts.to_vec())].to_vec(),
    )?;

```
sorry, another question hehe,
does the gas fee in devnet and mainnet are the same?
oh thats enough information bro, thankyou 
at least the transfer would not go through
what you are transferring?
if you transfer SOL, the ATA account will receive it and becomes a system program's account
if you transfer Token, it will error because it is not a valid token account.
guys what happen when one transfer to associated token account that are not yet exists?
it is quite an annoying obscure issue, cool that you fixed it
Yes, that was it! Rookie mistake. Thanks <@!788215642070581289>  and <@!831450660146642974>
Wait I think I needed to delete packages-lock.json too, trying that now
you can take a look at https://solanacookbook.com/guides/retrying-transactions.html
for me. I will check tx sig till it finalized. if I can' find it, there are two conditions:
1. hasn't used durable nonce in my tx.
in this situation you can simulate your tx, if you found some error like "block hash not found"
you can refresh your tx's blockhash and make singer to sign again then resend your tx.
2. has used durable nonce
in this situation, I won't get "block hash not found" error unless there is something wrong with my nonce account. I will set a timer to resend it.
Solanaj link in resources doesnt work
I tried adding the resolutions thing + deleting node_modules + npm install, but the error is still there
What happened to skynetcapital?
Any help on this?
hey do we have walletconnect support now ?
https://docs.jup.ag/notes/troubleshooting-issues try the resolutions thing to force the right version
I think that is a conflict between @solana/buffer-layout@4 and earlier
Running it locally
I added a github issue: https://github.com/solana-labs/solana-program-library/issues/2934
no. there is no function to close a mint account atm.
where you run this code? and which endpoint you used?
Because i know i can sign message with the private key and decode it with the public key but i want the inverse . I want to encode with the publicKey and decrypt with the private key but i don't know how i can decode the private key without accessing it
Do you know how i can encode or decode a file or message using my phantom wallet keypair. My problem is that i don't know how i can encode my file if i can't access the private key for security reason of course
Is there a way to close a "Token Mint" account?
Does someone know if inline BPF assembly is working/stable?
Thanks <@!705318292767637505> ! That fixed the issue. I'll open a ticket on github.
Hey there, I was running into the same issue. If you console.log just the TOKEN_PROGRAM_ID from solana/spl-token it will throw the error. 

I grabbed the actual address from the solana-program-library github, solana-program-library/token/js/src/constants.ts , and that seemed to solve my issue
How would I airdrop USDC devnet tokens? 
https://developers.circle.com/docs/usdc-on-testnet

Wasn't sure how to do it referencing doc
https://spl.solana.com/token
Same here
Yup, me too
anyone using gemworks ?
hi all,
Btw, I just got messaged by 3 different scammers claiming they are official Solana support trying to steal my wallet lol
Hello, I'm using the spl-token TypeScript library to get a list of tokens
```
    const getTokens = async () => {
      const accounts = await connection.getParsedTokenAccountsByOwner(
        publicKey as PublicKey,
        {
          programId: TOKEN_PROGRAM_ID,
        }
      );
      setTokens(accounts);
    };
```
I keep getting the error in the console:
```
Layout.ts:1107 Uncaught TypeError: fields must be array of Layout instances
    at new Structure (Layout.ts:1107:1)
    at exports.struct (Layout.ts:2614:1)
    at Module../node_modules/@solana/spl-token/lib/esm/instructions/initializeMint.mjs (initializeMint.ts:23:1)
    at Module.options.factory (react refresh:6:1)
    at __webpack_require__ (bootstrap:24:1)
    at fn (hot module replacement:61:1)
    at Module../node_modules/@solana/spl-token/lib/esm/instructions/index.mjs (freezeAccount.ts:140:1)
    at Module.options.factory (react refresh:6:1)
    at __webpack_require__ (bootstrap:24:1)
    at fn (hot module replacement:61:1)
```
Any ideas?
Am I misunderstanding something?
How can I be sure it has failed to go through so I can retry the transaction without risking double payment
However, what's a reasonable timeout? 20 seconds? 60 seconds?
I just learned that .sendTransaction() might give success, but the transaction may still not go through, so it's necessary to check the transaction signature status to confirm it really happened
Can you DM me your email please?
so getting an error
I skipped set signers and trying to partially sign, but it's sending a couple account_meta as dict not an object
Did you try it? It will return an error if that is not it
which is using public keys as you can see above
Ok, do that and test it locally
I just need to set signers
I don't think I need to sign it
Sign it with the wallet keypair
this is what I'm trying to do in python
Well, you can't sign a transaction with just a public key
```ts
   transaction.setSigners(
      // fee payed by the wallet owner
      wallet.publicKey,
      ...signers.map(s => s.publicKey),
    );```
Right, but `sign`
I only have the public key
add_signer is not the right instruction
```python
sign(*signers: solana.keypair.Keypair)→ None[source]
Sign the Transaction with the specified accounts.

Multiple signatures may be applied to a Transaction. The first signature is considered “primary” and is used when testing for Transaction confirmation.

Transaction fields should not be modified after the first call to sign, as doing so may invalidate the signature and cause the Transaction to be rejected.

The Transaction must be assigned a valid recentBlockhash before invoking this method.
```
or just `sign` function on Tx
have you tried that?
Right, but 'add_signer' on Transaction and then send vis-a-vis Rcp
not sending anything through rpc
this is locally still I believe
on my transaction
On the Rcp Client?
since you send public keys with setsigners()
I tried add_signer, but I don't think it's the same.
solanapy
ahh
No, which solana python library?
3.10
which python?
Not surprised that your blowing stack and, if you were to get past that, string operations in general, let alone regex will eat big quantities of ComputeUnits (CU). What are you trying to accomplish overall? There may be another approach ....
What is python's equivalant of setSigners in typescript?
I can't find it in the docs
not sure what program id has to do with it. sounds like something more your asking for but im not catching.
what isnt gettokenaccountsbyowner returning that your expecting, its supposed to be the token accounts for the address, owned..
so mostly 
```bash
curl -X 'GET' 'https://public-api.solscan.io/account/tokens?account=9dwsnpR9GpVmTkJCnJLQYs7wDVj4jEDG4yv9NgLVXY5T' \
-H 'accept: application/json'
```
it looks like it's easier to just use the solscan api instead of the solana mainnet
is there any way to get all the tokens that an account owns? the same way as solscan does. The only thing that comes close is this: https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
but this means you have to know the program ids of all tokens accounts owned by a pubkey
the cookbook in this case uses the metaplex library, and there is likely an issue with either the key your passing not being valid or possible update in the metaplex lib. i would search for similar errors in the metaplex discord as that where the error appears to be referenced from.
<@!804350183105363980> Thank you!!
hey, I'm new to Solana but just trying to write a few node/typescript scripts that read staked balance amounts for tokens, pending rewards, etc.  in certain defi platforms (parallel to staked amounts in defi contract on EVM chains). Does anyone have any quick examples that show this being done?
I see. That's a good point
The cookbook is literally 10 lines of code and I cant get it to work. I've been going at it for a full day now 😦
<@!409036697813123073> So here is the code now:
```
import { Metadata } from '@metaplex-foundation/mpl-token-metadata';
import { PublicKey } from '@solana/web3.js';
import { Connection, programs } from '@metaplex/js';

const { metadata: { Metadata } } = programs;
(async () => {
  const connection = new Connection("https://ssc-dao.genesysgo.net/");
  const ownerPublickey = new PublicKey("D9QqGzZ8Fqopuih4oHoWjcWkRreNdz6iZCYHnFcX9h56");
  console.log(ownerPublickey.toString());
  const nftsmetadata:metadata.MetadataData[] = await metadata.Metadata.findDataByOwner(connection, ownerPublickey);

  console.log(nftsmetadata)
})();
```


And here is what returns:
```
const { metadata: { Metadata } } = programs;
                    ^
SyntaxError: Identifier 'Metadata' has already been declared
```



When I comment out  `import { Metadata } from '@metaplex-foundation/mpl-token-metadata';` , I get these same results from eariler:
```
const nftsmetadata:metadata.MetadataData[] = await metadata.Metadata.findDataByOwner(connection, ownerPublickey);
        ^^^^^^^^^^^^
SyntaxError: Missing initializer in const declaration
```
another thought: try adding in programs to `import { Connection, programs } from '@metaplex/js';` 
then declare `const { metadata: { Metadata } } = programs;` above your async function
thanks btw
So it should work with that address, shouldn't it?
The public key points to here:
https://explorer.solana.com/address/D9QqGzZ8Fqopuih4oHoWjcWkRreNdz6iZCYHnFcX9h56
for the print out you can use key.toString() or toBase58() to print the readable key, that you can use to lookup in a solana explorer or solscan, on the appropriate network. the public key needs to point to an address for an account type (like tokenAccount) that metaplex is expecting and valid.

here is the metaplex discord, for this particular case may have a better idea otherwise.

https://discord.gg/TJveTTCP
I'm using node.js so maybe there is an issue with the typescript code?
It's not liking that constant declaration:
```
  const nftsmetadata:metadata.MetadataData[] = await metadata.Metadata.findDataByOwner(connection, ownerPublickey);
        ^^^^^^^^^^^^
SyntaxError: Missing initializer in const declaration
```
Oh sorry I must have missed your email, I'll check
try replacing that line with:
`const nftsmetadata:metadata.MetadataData[] = await metadata.Metadata.findDataByOwner(connection, ownerPublickey);`
Is anyone using regex in a contract?
 `Function _ZN5regex4exec11ExecBuilder5build17h6409425ee0b47b20E Stack offset of 11208 exceeded max offset of 4096 by 7112 bytes, please minimize large stack variables`


Getting stack size too large when using regex 😦
```
fn clean_username(username: String) -> String {
    let re = Regex::new(r"\W+").unwrap();
    let result = re.replace_all(&username, "");
    return result.to_string();
}
```
Thanks for the response. My power went out after I had typed out a reply and I lost the draft lol.
This `console.log(ownerPublickey, typeof(ownerPublickey));`
returns:
```
PublicKey {
  _bn: <BN: b473d63f319b9cd31e9e0846d9ebd1152ab0c3f1140f90aeb6c989e238235e8d>
} object
```
So I think I am giving the function what it expects - a public key object... Also, I get the same undefined error when I pass the PubKey as a string, so it must be something else.

I'm new to Solana Environment so I'm not clear on what you mean by "pointing to the correct account type" - maybe you can clarify. The `findDataByOwner` function seems to accept "AnyPublicKey" so I think I am using a correct parameter...
We are using `sendAndConfirmTransaction` In our app and about 1/100 transactions maybe more end of failing likely due to one of the issues mentioned here: https://solanacookbook.com/guides/retrying-transactions.html#facts.  Any recommendations on how to get the failed ones to succeed in the shortest amount of time? We were previously looking at just continually re-sending with `sendAndConfirmTransaction`. Is usage of `sendRawTransaction` worth looking into?
not sure on why your trying to replace sendAndConfirm exactly..
but you can just use sendTransaction as well..  ?
I think I was able to code my own work around, but do you know if there is an alternative to using `sendAndConfirmTransaction` when sending from your own private key in the dapp?  For example:

> Customer uses my dapp and sends me SOL via `sendRawTransaction`
> dapp confirms customer's `sendRawTransaction`
> After requirements are met - dapp uses `sendAndConfirmTransaction` to send funds from our own treasury wallet back to the customer

Is there a way I can replace `sendAndConfirmTransaction` as I send from my own wallet back to the customer?
this may offer insight:
https://solanacookbook.com/references/token.html#wrapped-sol
you can check format after logging `ownerPublickey ` and making sure its as expected. is that public key pointing to the correct account type? is there one you can test with that should work? It may be possible that specific key is not what is expected, not just the format.
This example is basically right from the cookbook so I dont understand why its not working...
_

it's definitely this line which is the issue `const nftsmetadata = await Metadata.findDataByOwner(connection, ownerPublickey);`
Maybe I'm passing the PubKey in the wrong format?
I'd really appreciate if somebody can help me with this example from the cookbook. Seems simple but its giving me an error:
https://solanacookbook.com/references/nfts.html#how-to-get-all-nfts-from-a-wallet

Here is my code:
```
import { Connection } from '@metaplex/js';
import { Metadata } from '@metaplex-foundation/mpl-token-metadata';
import { PublicKey } from '@solana/web3.js';

(async () => {
  const connection = new Connection("https://ssc-dao.genesysgo.net/");
  const ownerPublickey = new PublicKey("D9QqGzZ8Fqopuih4oHoWjcWkRreNdz6iZCYHnFcX9h56");
  const nftsmetadata = await Metadata.findDataByOwner(connection, ownerPublickey);

  console.log(nftsmetadata)

})();
```
And the error is:
```
solana\node_modules\@metaplex-foundation\mpl-core\dist\src\accounts\TokenAccount.js:44
    accountInfo.amount = spl_token_1.u64.fromBuffer(accountInfo.amount);
                                         ^
TypeError: Cannot read properties of undefined (reading 'fromBuffer')
    at deserialize (C:\Mine\Projects\nft\solana\node_modules\@metaplex-foundation\mpl-core\dist\src\accounts\TokenAccount.js:44:42)
```
have you looked at this yet?
https://solanacookbook.com/guides/retrying-transactions.html#facts
mint authority is the key that controls the token mint.  to mint supply, etc.
Hi <@!804350183105363980>. Me and my team are trying to migrate the Solana's BigTable Instance to our Google Big Table instance. I have configured a warehouse node and I am about to create the Dataflow. I reached out to you via email on Feb 8th where I attached the service account email. Would you be able to take a look?


///////////////////////////////////////////////////////////////////////////////////////////////

solana syntax is `solana program deploy --help`
okay, but I think, it is solana syntax. So, I asked it on here.
Oh, you should ask in the Anchor discord then
`anchor deploy`
How are you deploying your program
what's mean? what should I paste?
Paste the command line
when deploy program to devnet, I am getting this error.

`dump targets should not be provided with init. please use dump without a target`

How can I fix it?
edited comment
it's not a command line.
yes sir
What's the web3.js equivalent call to the command line `spl-token-transfer`?
Hi, I'm getting a `Failed to find account` error when creating a token account. How can I solve this error? I'm trying to send it via `@solana/spl-token` library.
The codes I have applied:
```javascript
const {
  Connection,
  Keypair,
  SystemProgram,
  LAMPORTS_PER_SOL,
  Transaction,
  sendAndConfirmTransaction,
  PublicKey,
} = require("@solana/web3.js");
const { Token, TOKEN_PROGRAM_ID } = require("@solana/spl-token");
...

 // Create associated token accounts for my token if they don't exist yet
      const fromTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
        fromKeypair.publicKey
      );
      const toTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
        toKeypair
      );
      // Add token transfer instructions to transaction
      const transaction = new Transaction().add(
        Token.createTransferCheckedInstruction(
          TOKEN_PROGRAM_ID,
          fromTokenAccount.address,
          myMint,
          toTokenAccount.address,
          fromKeypair.publicKey,
          [],
          reward.count * 1e6,
          6
        )
      );
      // Sign transaction, broadcast, and confirm
      signature = await sendAndConfirmTransaction(connection, transaction, [fromKeypair]);
```
Hi! Does anyone here understand how Solana derives private keys from the extended private key based on BIP44? I am working on a wallet project where I derive the extendedPrivateKey based on a user's seed phrase, but not sure where to go from there. The extendedPrivateKey I generate is still different from the private key that Phantom derives when I import that same seed phrase, so not sure what steps I need to take to get to the Solana private key. Would appreciate any help and happy to hop on a call with anyone 🙂
Use a base64 library to convert from buffer to base64 string. Same with base58
i want to transform buffer data to base64
an error from what? Stacktrace? Need a lot more info
I get an error that says it is too long.
You should be able to get the transaction in those formats with rpc

like the adrresses but with a transaction
transform the buffer data to a base64 or base58
What do you mean?
does anyone know how to pass a buffer transaction to base64 or base58?
Ok cool cool.  Appreciate the help.  I’m sure you’ll be hearing from me again 🤓
I don't think there is a way today to do that. Not much work though
So have full list of mints from CM on my end then run query against user pubkey to get all mints they hold with balance > 0.  Then cross-check.  This is what I was thinking which seems a little heavy was hoping there’s a way to say give me all tokens owned by account from specific candy machine rather than generic token program
Get mints from candy machine https://solanacookbook.com/references/nfts.html#candy-machine-v2 Store on your side for quick access. Then use `getTokenAccountsByOwner` and make sure the balance is >0, compare with the mint list from the first query and go
By the way do you know of an API better suited for checking if pubkey is holding NFTs from a specific candy machine?  Or am I on the right track with getTokenAccountsByOwner?
Cool cool new to this server and loving your level of understanding thanks buddy
Depending on what you're doing, it could be a good idea
It does not happen automatically usually. You can close and reclaim the rent on the token account
Ok so after transferring token it’s probably a good idea to close account?  Is this something that happens automatically on some interval to “clean up” outstanding data like this?  Or totally up to owners manual intervention
Because they transferred their tokens away and didn't close their token account
Why would a token account have balance of 0 if owned by pubkey?
You can have a multisig controlling one. But otherwise no
So there can be multiple owners to “mint account”?
Google is a nice place. Also, check out metaplex discord for candy machine needs https://discord.gg/KXJmMvxS
Can you point it out where can I look up for it also what arguments to pass
Yeah, look up CPI
https://discord.com/channels/428295358100013066/517163444747894795/946062016982945822
Can I make call to candymachine program from my Custom Rust contract?

That gets all token accounts the owner has, which can have some accounts with a 0 balance
Building a dApp that will permit/deny access if wallet is holding a minted token.  Playing around in Solana APIs and it looks like “getTokenAccountsByOwner” can do this but the returned data seems kind off for this purpose because it seems to include the historical data ie token mints transferred to different owner are still shown but with amount = 0.  Am I on point with this?
https://discord.com/channels/428295358100013066/517163444747894795/946062016982945822
anyone knows if devnet is fixed yet?
I'm not looking for easy ways, I'll try to find the data structure for the `programSubscribe` messages 😆 

If that doesn't work, I'll think of something else.
https://api.magiceden.dev/
Oh, where did you find swagger ME? 😵
Do you guys have example extract amount of sol attached  in transaction ?

it's public
I see they have another endpoint which does the same thing
That's a python issue, not exactly related to Solana support
yeah that could be true. it's not very well protected tho, there are bypasses for it.
Ty. But this endpoint locked from dev tools like axios or node-fetch by Cloudflare hCaptcha
says it can't be used on a list only a mapping
so I'm trying to use the spread operator in python which is `**`, but it's not working the same as in JS
use this endpoint: `https://api-mainnet.magiceden.io/rpc/getGlobalActivitiesByQuery?q=%7B%22%24match%22%3A%7B%22collection_symbol%22%3A%22honey_genesis_bee%22%7D%2C%22%24sort%22%3A%7B%22blockTime%22%3A-1%2C%22createdAt%22%3A-1%7D%2C%22%24skip%22%3A0%7D`
https://discord.com/channels/428295358100013066/517163444747894795/946062016982945822
Ty. Thanks
Complete the question?
I would talk to ME
I wanna do ME sales bot with notifications to Telegram. I this ME code is not public
what's the difference between sending the list and using the spread operator?
This information I can take only from owner?
Signs the transaction with the signers
what does the ... operator do here

You have to know the struct to decode the account
You can do BTreeMap. There's also a nice guide here https://solanacookbook.com/guides/account-maps.html#account-maps
i guess, i need to see the calculator bit... Im using the constant product curve.. So i think I know where to look for it now brah. Thanks heaps again brah
Can I some how debug this?
let me check. Thnx brah
Was it this? https://github.com/solana-labs/solana-program-library/blob/95cd64ce022844d5ad2b2d4809c4b29c063162b3/token-swap/program/src/curve/base.rs#L71
I think I found it brah. Cheers brah
hi Jacob I wanna build a data structure work like mapping(32bytes -> bool)  do you have any suggest for me ? I just found out BTreeMap but one account only has 10 MB 😅
🤕
that was actually for the pool token hmm ...
i was just check through it thanks brah. appreciate it brahh..
Anyone could have created that account. I'd ask the owner
Looks like the fee logic is here https://github.com/solana-labs/solana-program-library/blob/master/token-swap/program/src/processor.rs#L442-L480
Hello, guys!

Can someone help me, please? Where can I find data structure for this 80 bytes? 

https://explorer.solana.com/tx/UcEGgWqHprxkfTApNECUCemh6KtHDqJ1eGnyie85YNDLCgxxfS61du9SKiTTBgvXGYDMcjGLPp9ch3m783QRz9A
😶
Like when you swap
Hi, any idea how the trading fees are calculated for solana swap program ?
Alright, looks like devnet is having some intermittent issues. Please refrain from asking here, keep it to <#428295358100013069> 
Let's keep this channel clear for people needing support

not here
Seems to be doing fine https://explorer.solana.com/?cluster=devnet
Any idea how long itll take till its back up or how to check when it is
Thankfully it's just connectivity with devnet
Tokens were appearing and disappearing from wallet. Felt like a freak show
it's down
Same here
I deployed on devnet many times, but it doesn't work.
What's the problem on devnet?
Yes
tried to do that using solidity, but solang is not working, time to learn rust and solana smart contracts
Ok thank you
This is a common question, but I am unaware of any open source one that exists today. Shouldn't be hard to build though
Does anyone know a smart contract that accept solana payment and then divide the money into multiple owners?
gm Frank, seems like a fun morning
Match your CLI version with whatever environment you are running against
when I do `solana airdrop 2` I get error `RPC response error -32601: Method not found`
SCAMMER ALERT... DO NOT TAKE THE BAIT
just curious man sorry
ok
https://discord.com/channels/428295358100013066/517163444747894795/946049844823326754
is devnet still down?
sorry
Please stop with the devnet play by play.. This is a channel for development questions not RPC node or cluster issues
if someone could confirm what i think it is, i would appreciate it
20k TPS
<#428295358100013069>
thanks!
because i have this problem too
is working but i think is under heavy use
<#428295358100013069>
yes bec it's an error on metaplex, sorry wron team
<#428295358100013069>
can't get an airdrop
is testnet also down?
This is a IPFS question, not a Solana development one.
I still have the 503 error
Is devnet working?
nevermind is working now
Hey guys, does anyone have information about chainlink nodes on solana
is frustrating
how many times did you try?
Works for me now (after having 503 a lot)
what is the command that comes before https://api.devnet.solana.com ?
does not work for me neither
nope. maybe use custom rpc?
ok i will try again
now it's working for me after some hours down..
how?
Yeah
did you solved it?
yeah
does anyone has this error?
Why do I have to specify an Infura ID and an Infura Secret if I use "ipfs" as storage? If the IPFS node is on my machine and I am not using infura what should I do?
same 🥲
if it is, then i will start learning how to do it
hi all, wondering if it is possible to write a web3 voting program?
yeah right 503 here too - at least RPC nodes are in sync again 😄
anyone knows how easy/hard id it to manage a dao using solana?
I'm building my nft project on solana
same
`503 Service Unavailable`
hello everyone!!
I'm using serialize function on my transaction in python, this returns bytes. Can I send this in my raw transaction, because for all I've seen it's supposed to send a base64 encoded string?
yeah let us know xD it went up a bit flaky recently
cool, gonna test right now
looks like it is up again
would love to see someone make updates about devnet. if you come across a resource please share! 🙂
yh devnet is down
wait everything is coming up. devnet is down
When I try to airdrop I get this error: `Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds` and if I try to create any transaction, I get this error: `throw new SendTransactionError(failed to send transaction:  + res.error.message, logs); SendTransactionError: failed to send transaction: Node is behind by 14980 slots`. Yesterday all of this code was running fine
yes
Read the room
Are dev api nodes down?
hello, is it possible to make approve action on wallet faster?
well, time to relax 😂
yes, you can setup shared wallet using https://github.com/solana-labs/solana-program-library/blob/master/governance/README.md + 
https://realms.today/realms/new
okay, api.devnet.solana.com nodes are down.
works for me.
tx_sig `MED62YteFWA15tJTjNKatYQSPn9Fywr7c7yA5j5GGUVb6QHKTdTr9XpRR94agT8C4pCYJBWpmzKuLj7eQYY7cGo`
`{'jsonrpc': '2.0', 'result': {'context': {'slot': 116587048}, 'value': [{'confirmationStatus': 'finalized', 'confirmations': None, 'err': None, 'slot': 116587004, 'status': {'Ok': None}}]}, 'id': 95}`
Hi everyone devnet is really down ?
I received error when deploy program on devnet 😅 
Error: Account allocation failed: RPC response error -32005: Node is behind by 51080 slots
Hey all, sometimes i get this message error
`Failed attempt 0: {'code': -32002, 'message': 'Transaction simulation failed: Attempt to debit an account but found no record of a prior credit.', 'data': {'accounts': None, 'err': 'AccountNotFound', 'logs': []}}` I know for sure i do have funds, however the account might have been some days inactive and not performing transactions, do you guys know if querying accounts with old activity can cause this error, and you have to wait for the following slots in order to have it up-to-date?
devnet is down
yes, it can, you can use https://github.com/solana-labs/solana-program-library/blob/master/governance/README.md + 
https://realms.today/realms/new
Hi
Seems like Devnet public RPC node is out of data
`Node is behind by 49108 slots`
Anyone can help with that?
did it work before?

yes :/
Is the mainnet facing issues? We're being timing out on trying to update our smart contract. Getting `Error: Custom: Invalid blockhash` error
okay cool will check but devnet has to come back to it's state
use spl-governance https://github.com/solana-labs/solana-program-library/blob/master/governance/README.md and its UI https://realms.today/realms
https://github.com/solana-labs/solana-program-library/blob/master/governance/README.md
yes https://realms.today/realms/new
it's not super straightforward unfortunately. maybe you can check out this library, they do a pretty good job in covering such cases https://github.com/solstar-tech/easy-spl
how to transfer already created/minted spl-tokens to other wallets using javascript. I cannot find anything or I am missing something?
Hello, can you please tell me if Solang is a mature enough solution to start using it in production? Really wan write smart contracts on Solidity
solana airdrop <amount> --url devnet
solana airdrop 1 <RECIPIENT_ACCOUNT_ADDRESS> --url https://api.devnet.solana.com
yeah devnet is down, for about 5 hours now it seems. you can see the latest blocks on solscan https://solscan.io/?cluster=devnet
Is there a way to request some SOLs from the faucet with the CLI? I cannot found the command.
where is armani-pai
solana test validator
im developing on localhost
any solution to this?
sad
yes
devnet still down?
hello everyone, does anyone know why there is this error?
throw new Error('Timed out awaiting confirmation on transaction');
            ^
Error: Timed out awaiting confirmation on transaction

Trying to sign transaction from morning
Huh, that's interesting. Only explanation I can come up with is that the balance function shows unconfirmed transactions, but I don't know if that's true.
Sorry guys. solfaucet did not work after all. After running doing the airdrop and running "solana balance" I got "1 SOL". But now, a few minutes later, I got "0 SOL"
You can try any wallet, it doesn't matter. As long as you can inspect the TX you can see if the faucet works and has airdropped the SOL.
no, that's fine
`solana-keygen new --outfile ~/.config/solana/devnet.json`
I used this command to create my wallet, this shouldn't cause a problem for solfaucet right?
yeah, so I would say just wait a little and try again later
same 
no TX
could work intermittently. I've tried a couple now and not gotten anything, and the TX is not on the blockchain
Hmmm. Weird. My balance is 1 SOL after using sofaucet
Hey I'm unable to deploy a program on testnet, this is what the error says. What am I doing wrong?

❯ solana program deploy dist/program/helloworld.so
Blockhash expired. 5 retries remaining
Blockhash expired. 4 retries remaining
Blockhash expired. 3 retries remaining
I tried solfaucet but and showed a success message but my balance is still 0
They claim to work. Not seeing a TX or funds in my dev wallet 😉
Maybe. I will have to read up on what that means
Maybe they have a private rpc node
However, using https://solfaucet.com/ did work for airdropping at least
Yup, try again later
Yeah, I have a feeling devnet is down
I created a wallet using `solana-keygen new --outfile ~/.config/solana/devnet.json`
Then set default keypair using `solana config set --keypair ~/.config/solana/devnet.json`
now trying to airdrop balance using `solana airdrop 2`

But it says `Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds`
or `HTTP status server error (503 Service Unavailable) for url (https://api.devnet.solana.com/)`
Any fix?
Yup
Seems like devnet is having issues, so there's nothing really coming through. You're getting a 503 error right?
I tried now. Nothing worked yet
Ah nice. Thank you sir
Any news on why devnet's down/slow?
instead of the full url. For instance `solana airdrop 1 pubkey -u devnet` or just `-ud`. Airdropping is terribly slow atm though...
Only the update authority should be able if I understand that correctly
Can you even?
hi guys how is creator address's for already minted NFTs done?
I dont understand. Me a newb
use -u devnet
I managed to airdrop sol from https://solfaucet.com/, but not when running "solana airdrop 1 <PubKey> --url https://api.devnet.solana.com" from terminal. Why is that?
What do you mean? Are you asking if the previous deployment of a program is available? Or are you talking about a previous accounts state?
Either way, short answer is No
how does USDC maintains the pegged dollar value ? How one can create such type of coins ?
dev-net is down?
The burn command also decreased the balance of my token on my account.
Thank you, the burn command lowered the tokens amount, but I just mislooked and I thought it didn't.
devnet is ded 😦
look at solana explorer, gives better info and view imo
transaction: look at the balance changed for the account you burned
https://explorer.solana.com/address/31JPENRQyGgcmxQAAYd8jVKyxThFyyHD1Zu9wAPsxEiW
look at the 'current' supply: of the token currently: 1,010,050
https://explorer.solana.com/address/AGi8C53fx6Wh6zMjjW9SmKv8atpWQaQW262GHPzbbP7z
is this not what you are expecting?

it shows that account as only having 4640 tokens.  not sure on your attempt but u cant burn more than you have if your the owner issuing the command to burn.  try burning less and see if it affects your balance on that account, and the supply.

you can also click here and view distribution:
https://explorer.solana.com/address/AGi8C53fx6Wh6zMjjW9SmKv8atpWQaQW262GHPzbbP7z/largest

burn a smaller amount again and see what the supply and distribution look like. make sure to burn an amount you actually have access to.
hi, devnet is down ?
okayy
it donest need proxy terminal
i recommend you use third-party Solana Devnet endpoint.
maybe you need proxy your terminal
Any fix?
I am trying to airdrop solana on devnet but am getting this error:
`Error: HTTP status server error (503 Service Unavailable) for url (https://api.devnet.solana.com/)`
or this error:
`Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds`
Oh...  I see, I think it's likely
https://github.com/solana-labs/solana/issues/18033
should we define NFT metadata in Solana Program(variable) or it is enough with storing on IPFS?
its local network.fake node(test-validator).the init balance is 500K
how did you get that many? Doesn't the airdrop have a 2 sol limit?
the balance totally enough
maybe the reason is M1 cheap?
OK.
your wallet balance is enough ?  (on test-validator, it has 500,000,000 after initialization)

> $ solana balance
> 500000000 SOL
try click 'Try Again' button or refresh page.
Hi
Where can I find a example for creating ComputeBudgetInstruction::request_units in js client?
its already set local endpoint.
did you switch network setting for localnet ?

to check which network is selected:
> solana config get

to switch localhost:
> solana config set -u localhost
is this normal?
thankyou 💚  <@!839505340521381986>
Node is behind by 23726 slots
I'm also having issues with devnet
oh okay

ni need this website
how can i see trasaction in local ?
<@!585868308419444749>
i can't interacting with local solana rpc(Solana Test Validator). how can i fix it?
Can I get tokens airdropped on testnet?
Hi,
what does this log mean?
SendTransactionError: failed to send transaction: Node is behind by 26042 slots
is the status of Devnet OK ?
When I did spl-token command, I received the following error...
RPC response error -32005: Node is behind by 25382 slots
is the devnet not fixed yet?
ok ill develop at localhost
Does anyone know of any tools that exist to dump a previous state of a program?
Yeah I guess I have to create another token
<@!347501554665783306> mainnet works just did a transaction
<@!382135356814000128> yes. we're all here for that reason ig
I'm pretty sure it's the devnet
lets all have a nice party?
Hey guys! I am making some test on devnet but I am getting this error:

`Error sending TX: Error: failed to send transaction: Node is behind by 22058 slots`

Is a problem with my program or devnet is currently not working properly?
there should be a bot in <#694949720644124762> that informs people not to react to private messages
This one doesn't work
But I can mint another token
oO
yes %100
that's the same error code I got. (are you sure its mainnet?)
I'm on mainnet btw
i think'
devnet is down rn
Hi guys, does anyone know the reason why it gives an error like that?
spl-token mint DWiTEUxgqgQeE7SCsB9eqQh3quW8jZ7Kukw4uAa3ah2f 100
Minting 100 tokens
  Token: DWiTEUxgqgQeE7SCsB9eqQh3quW8jZ7Kukw4uAa3ah2f
  Recipient: 5PFkMwjpra97ucFVKP5rotrCmPX7JgUyYz254jQhrxCB
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0xe [5 log messages]
yeah they are porbavbly trying tog et your private keys
this time (and last time even multiple people wrote me)
also whenever I write something about wallet problems in <#694949720644124762> 
I get dms from what I believe to be **scammers**!
hopefully it goes back up soon
added : )
<@!202864446903681026> ty
i’ll keep you in mind for tmr, mind adding me ?
im having problems as well. I believe the node is behind
phantom transactions are not working for me. the dialogue just freezes
can anyone confirm there's devnet problems?
and if you need help to deploy it there is plenty of documnetation on using anchor to deploy a program, otherwise you can dm me
it seems devnet is having downtime?
maybe there you can find what you need
ty
https://github.com/project-serum/multisig
and we need to be very very safe abt this
cause i’m handling about 1.6mil in sol with a partner soon
ant program link ?
But ik its possible
i dont have any source code on hand
source please
i mean we just gotta give it time ig
right now its not able to wait for confirm the transaction
can we know when this issue will be resolved of overload server or waiting confirmation issue ?
a program can do this
There's a post on <#428295358100013069> that's asking about the status claiming its been down for 1:30 hours.

However according to https://status.solana.com/ it seems fine
is multi sig possible on sol
i hope not
ddos??
its giving error "server overloaded"  ...
its being weird af
is dev net is down ?
yeah
Are you on devnet?
😦
is this just temporary? im getting this too
Hey, I'm trying to deploy a smart contract 'hello-world' but received the following error,
```
Error: Account allocation failed: RPC response error -32005: Node is behind by 16650 slots
Hi, I'm getting this error "RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0xe [5 log messages]" while trying to mint token
What is master edition that it is written on a NFT
Hey does anyone know a way to multi sig on solana ?
lmao, came here because i noticed devnet hadn't produced blocks in a while.

<@!585868308419444749> , I SEE YOU. THANK U FOR THE HARD WORK.
Thank you 🙂
Oooooh I missed some zeros XD
is the devnet on outage?
Why couldn't I airdrop T_T
Hi guys i need a little help from you.
After we mint a NFT token on with solana and the meta data store on it ever does it go i can't find solution anywhere please help me.
yes, one way i found is to have that programs binary copied to the /target/deploy and adding: program_test.add_program("name", 3rd_party_program::id(), None);
I have to test validator?
Hi. Just wanted to know if I can add third party programs/ to the the solana_progrogram_test `ProgramTest`
Wow. 0/3 people reading the room before asking a question
later it shows this
its stuck on finalizing
can anyone help with devnet airdrop?
https://docs.solana.com/developing/test-validator

what is the case ?
Hi, I'm sending transaction on devnet, and got this error "Node is behind by 9036 slots"
cant develop
sad
decentralization hard at work here
ok
i also get error
you can take a look at 
https://spl.solana.com/associated-token-account
https://solanacookbook.com/references/token.html#create-token-account
to know more detail
Look on the top of the page, there is max total supply of 1000050
Tell this clown to stop
it has changed. your token history is that

1. mint 1,000,000,000
https://explorer.solana.com/tx/39tpy5ZYy2DN8jGdxVwEzSZP9115YkVUDSgrR8jQ68ruahmZiQAm7vXx4RGxWxWHUk3y22ynjVED7BJeARcFbC9V
2. mint 50
https://explorer.solana.com/tx/2s5FmNeRgx5KjgpuSpWtukZbTbYKxb72K7R8FtfC9mQTa6Aa5ZCs721jwbGcXSREmifwEKAQgPVmKbSPfseruiww
3. burn 998,990,000
https://explorer.solana.com/tx/459mLyKTJ7MxufcyDYC7YEXhBdeSUxg3nuHHYiAKgYXbCbbB8UdGexSrmmaiYLpRw3LxMTuNe4pJkrFCvjvPxXjo

for now, the supply is 1,010,050 (1,000,000,000 + 50 - 998,990,000)
not sure why you say it didn't change.
`Error: HTTP status server error (503 Service Unavailable) for url (https://api.devnet.solana.com/)`

Getting this error while deploying my program
what if he already has a token address ? does it return the old token address?
Look at my token on Solscan: https://solscan.io/token/AGi8C53fx6Wh6zMjjW9SmKv8atpWQaQW262GHPzbbP7z. I burned some of it and the total supply didn't change
which endpoint you are using?
it is the error message `Node is behind by 2232 slots`  try to use another healthy endpoint.
or wait some time for the node to catch up to latest.
mint: DUjnwMdg65XxGy1a1zRLnMCtmdikqtEqnnHHXE3CJe3X
/Users/abubakarmujahid/Desktop/blook-backend-ts/node_modules/@solana/web3.js/src/connection.ts:3963
      throw new SendTransactionError(
            ^
SendTransactionError: failed to send transaction: Node is behind by 2232 slots
    at Connection.sendEncodedTransaction (/Users/abubakarmujahid/Desktop/blook-backend-ts/node_modules/@solana/web3.js/src/connection.ts:3963:13)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Connection.sendRawTransaction (/Users/abubakarmujahid/Desktop/blook-backend-ts/node_modules/@solana/web3.js/src/connection.ts:3920:20)
    at async Connection.sendTransaction (/Users/abubakarmujahid/Desktop/blook-backend-ts/node_modules/@solana/web3.js/src/connection.ts:3908:12)
    at async /Users/abubakarmujahid/Desktop/blook-backend-ts/test.ts:40:26 {
  logs: undefined
}
1. you can turn `strictNullChecks` off.
https://www.typescriptlang.org/tsconfig#strictNullChecks
2. solana cookbook has updated to a new version of spl-token lib, you can check it again
https://solanacookbook.com/references/token.html#get-token-account
ok illgive it a try
try to console log and check the structure for the account info by printing just the account info.
so you need to specify the index number after value
when you see try to get parsed info. I think the value you will be getting is in an array and you are traversing it incorrectly.
Hey i am using solana cook book and using its content of interacting with token but having some error can some one tell me how to resolve this
there are many open source projects that you can check it out, like saber, ocra,  etc..
hmmmm i wonder if i can find a clear example from an open source amm of how they handle it

i still find it confusing to navigate a lot of the uncommented codebases out there lol
https://stackoverflow.com/questions/70138221/proper-way-to-initialize-pdas-within-the-solana-anchor-framework

solana anchor framework makes it easy to initialize and work with  pdas
oh I see. Sounds fair. But also if the price of token is higher, its best to use the highest precision point. Coz you will see massive difference in price when using 2 decimal and 9 decimal.
ok thanks, I'm trying to implement liquidity pools to learn, and since pools can be created with any token pair, there can be token pairs with different decimals
Hi. Could anyone provide an example of a basic amrt contract operating on PDAs? I would really appreciate that. I am struggling to understand how to properly initialize those
it will do a friendly conversion for you if you fill a solana address.
just guess it will use your ATA.
you can take a look at https://solanacookbook.com/references/token.html#associated-token-account-ata
the main idea is that only a token account can holds tokens
🤕
how you handle it. But ye higher the precision, more accurate results. Coz you are dealing with real money and people are toxic about even 1 cent..
yes depending on how much accuracy you want, it totally upto you I reckon.
i see so i would have to convert all tokens involved to the lowest precision point of said tokens before doing any math
but ye thats how it is..
as far as I know yes it use u64. When your multiplying you can only use 8 decimal precision point for both of them ? even if the other support 9?
oh yes, I got it, cuze in mainnet user use Solana account address, However, I saw same functionalities in https://www.sollet.io/ in there you can write spl-token address or solana address, how can I send to solana address ?  thank you
will check this out. Thank you so much
hmm maybe I'm worried for nothing but the token amounts are represented in u64 right

if a token is 9 decimals then amount is stored as N * 10^9 where N is the "true" amount

let's say i have another token with 8 decimals and I'm implementing an AMM and math formulas will involve multiplying token A amount with token B amount, would I be correctly working with these numbers? sry hard to word this question thx for your patience
🤕
hmm, before it used to just show me the deposit detail asap, now it just takes really long...
no. I mention it because you get the error message from phantom wallet
I think you can use https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction to implement your own simulation for a tx
wait is it handled by the phantom wallet ?
the qn sounds more like `how phantom implements a prediction for a tx ?`
Isn't that why you are setting the decimal precision points ? Like how accurate you want the value to be ?
when you guys work with spl tokens, different tokens can have different decimals-e.g. 9 or 8 or 7

how do you handle math involving multiple tokens with different decimals? doesn't the math become incorrect if you for example implement some AMM math and multiply two token amounts with each other, and decimals are different?
so lets say the the program instruction deposits some token from user wallet. During the tx confirmation in phantom wallet, it shows that its likely to fail "Transaction may fail to confirm". But if i wait for a while, it will show me the amount details that I'm depositing? Does it make more sense ?
Hello
I faced up with error in tests for the program when I'm using warp to slot(https://docs.rs/solana-program-test/latest/solana_program_test/struct.ProgramTestContext.html#method.warp_to_slot)
So I have next error:
`thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: IoError(Custom { kind: Other, error: "the request exceeded its deadline" })'`

Could someone help me with it or maybe someone also have received such an error ?
i usually made server for this before, I just didnt wanted to make one again coz I was being lazy and was wondering if there is better way to handle. I will just create a server for it.  Thank you.
not sure I understand the qn. I think you can use the commitment, `finalized` to get the final state of tx. it will be the stable status.
if you just want to create token or something which the private key won't have any power anymore. I think it is ok for you to just write it in your code.
if your signer is like a admin or someone who has some authority, I think you need a server to protect your private to avoid someone can access the private key.
any possible solution for this too? thank you.
maybe check both of your source and destination are token accounts.
the error usually happens when you try to transfer token via non-token accounts
oh yes. I wanted to add an extra signer for the tx, so I was thinking of creating an account with keypair and signing it along with the wallet signer.
I think use a wallet is a good way. a dapp won't get user's private key but still can request user to approve something.
a tx is composed by signatures, accounts and instructions and a tx also has a size limit  (1232 bytes atm)

> What is the maximum number of instructions in a Solana transaction?
it will not be a fixed number. it depends on how you build your tx.
the accounts in devnet are different than accounts in other cluster
Hi guys, do u know whats wrong? cuze in dev env it works correctly, but in mainnet i got this error
Is it common to see you transaction show up as fail at start and then fix itself, automatically ?
Hi, Whats the secure way to handle the keypair for you account signer in front end ?
What is the maximum number of instructions in a Solana transaction?
maybe try torus then and single sign on
https://toruswallet.io/

you still need a way to authorize/validate transactions and identity in some way
search `airdrop`
https://soldev.app/
burn worked fine for me.  
when you issue a burn, the signer/burner has to be the one that owns the token account that is burning the token.   in cli, you can use  `--help` after commands to see what options are available and what u may need to specify.   the simplest example  is to use CLI, create a new token
`spl-token create-token`
`spl-token create-account keyhere`
`spl-token mint samekeyhere 100`
`spl-token supply samekeyhere`
you should see 100
`spl-token burn keyfrom-create-account 10`
`spl-token supply samejeyhere`
you should see 90

the simple example is using the same keypair to create mint, token account, mint to, sign, and then burn..  based on your circumstances you may need to use different options in the commands.
What’s the best program to use for doing airdrops to multiple wallets at once?  Thanks in advance! 🙏🏽
hello everyone, i'm looking to create a stake account is there any reference material available for that!
but if u want to create transactions for them without them signing anything / clicking anything you would need to save their private key but that would be a security issue
you can do that by them setting auto approve on phantom
so u want them to click a button and the phantom tab doesnt open?
Hello ! Is it possible via Web3 to auto approve a transaction without the user being in front of his wallet?

Let me explain. I am on a project where we want to use the blockchain technology but for users who do not want to take the headache with the creation of a wallet and manage a wallet. So we would like to create on the fly on our wallet, the wallet that will be associated with a user, and that when he makes his transactions, that they are accepted automatically. Basically, that we use the blockchain but the user doesn't even realize it. I don't know if it's possible to do that, or if a user has to own and validate each transaction. That takes a huge target off our side
I'm a big noob but am learning. Apologize for the dumb questions.

In Solana, is it possible to create a program to interact with other programs? For example, I want to create a program to talk to jup.ag swap program and lets say Raydium pool. Is that possible? Are there sample codes out there?
VRF isn't available yet on Solana. The team have prioritized price feeds to launch first, which are live on devnet and slated to be live on mainnet for general use very soon. VRF will most likely come at some stage after this.
or like there seems to be some sort of struct there, but i don't know how to make that into an instruction, 
Maybe its notable that my program is not an anchor program
How can I build an instruction for CPI from another anchor program? seems like typically i would do `other_program::instructions::do_something(...)` and there are utility functions there to build a transaction, but unsure where this code resides in anchor, or if it exists. Thanks.
Hey, not sure if this is the right place - does anyone know of any SDK for Unreal Engine? Looking to deploy in Unreal but almost seems like no one's doing it
Good day! How long is a block time? And can I rely on it to stay the same in the future?
using the same program as an example, just without the authority, anyone calling the updateRecord method in your program can call it without checking authority, and allow the method to execute, whatever it does..  the caller of the transaction can pay/sign, and your program simply executes, or writes, to its PDA.  the nature of the PDA is that it is owned by the program, and it can do whatever it wants in that regard.. authorize or not, overwrite or not, it is the gate keeper, or not, as much as you want it to be, but either way, all authorized writes must come from your program regardless as it owns the account.
ya for that case I would recommend just using the @solana/web3.js library and integrate whatever functionality you need into your webapp
thanks 🙂
but this will be a regular webapp which has a solana integration, but still lives on a regular server? 
for example, an online drag race game, that pays the pot to the winner. the server part of the game runs on a regular server, but only integrate with solana to pay the players?
then I dont get the web3 thing, if the app itself lives in a centralized cloud provider..
yeah it's pretty insane you can't verify program source code
might be dependent on what you are trying to do... but if your building an app in rust/javascript/python that needs solana integration (check balances, manage keypairs, send, sign, ect.) you can just import the appropriate solana api library to provide the functions you need
dont think that is possible
Anyone know how to decompile a .so file to Rust?
but how about the database, webserver, request, response, etc? I dont see how it works on solana chain (apart the blockchain transaction things)
It is basically free deploy on Solana.
use solana apis to run whatever solana transactions you need to run directly from your apps
Can I get a ballpark estimate? Like a range from the most simple to the most complicated smart contract. I am not a dev but looking to hire a couple if it is viable to build a protocol on solana
really newbie dapp dev here..
does my dapp needs a regular server (ie. on AWS) to run some business logic, connect to external APIs, run schedule tasks, etc? and only run the transactions on smart contracts?
https://github.com/blockworks-foundation/mango-ui/blob/b6abfc6c13b71fc17ebbe766f50b8215fa1ec54f/src/utils/send.tsx#L713

If I were to send transactions like how they do it here, would it be likely that the transactions 
would be deduplicated? 

```ts
(async () => {
    while (!done && getUnixTs() - startTime < timeout) {
      connection.sendRawTransaction(rawTransaction, {
        skipPreflight: true,
      });
      await sleep(300);
    }
  })();
```
Got another question on this after thinking about it some more.

The example you gave works perfectly for the case where the PDAs store user data: I code their authority into the PDA data, and they're the only ones who can change their PDA data accounts as long as I code the right validation into my program.

But I also plan on having PDA data accounts that are not user specific, and instead store data for the entire protocol. Any user of the protocol could make a transaction in my program that changes the data on these accounts, but I want to make sure that only transactions coming through my program can change the data. I can't use the strategy in the repo because my program can't ever be a signer of a transaction. Is there anything else I can do?
<@!785084693023424542> Thanks for answering:)
i would suggest rust, most examples are in rust.  there are some c++ integrations and examples floating around, but not yet as common.
You can use the solana-cli to calculate the per epoch and rent exempt minimum based on the size of data you need to store in bytes.

$ solana rent <bytes>
Hey guys, thinking about launching a DEFI protocol on solana. How much does it cost to deploy on solana?
hello, i am trying to get example-helloworld to run on windows. Getting following error on npm run build:program-rust                                                          Compiling solana-bpf-helloworld v0.0.1 (C:\programs\example-helloworld\src\program-rust)
error: linking with `\\?\C:\Users\abhi\.local\share\solana\install\releases\1.9.7\solana-release\bin\sdk\bpf\dependencies\bpf-tools\llvm\bin\ld.lld` failed: exit code: 1             ld.lld: error: relocation R_BPF_64_32 cannot be used against symbol sol_log_; recompile with -fPIC
> defined in C:\\programs\\example-helloworld\\src\\program-rust\\target\\bpfel-unknown-unknown\\release\\deps\\helloworld.helloworld.542e2c58-cgu.0.rcgu.o                  
 error: could not compile `solana-bpf-helloworld` due to previous error
Hello there! I am a new member in this community an i have been recently researching more about solana. I have a question, which program language you recommend me to use in order to work with solana. I have experience with some languages, most with javascript and some of c++. It is necessary to go into Rust or with c++ will work fine?
Awesome, thanks!
Yep, only your program can mutate accounts that it owns
1) only the owner program can modify the data
2) within your program, you want to do your own check on the PDA and ensure the user/owner/authorized party is the one actually performing/authorizing the change
-> a PDA is just a program derived address, owned by a program. if your program can change data in its owned accounts, you want to ensure your authorizing changes correctly

simple example in record program for authorization of changing data.
https://github.com/solana-labs/solana-program-library/tree/master/record/program
None of the PDAs I'm thinking of are token accounts. So as long as my program is specified as the owner in the account creation instructions, then my program will be the only one who can mutate the account data?
Mutating the account's data depends on which program owns the *account* that lives at that address (might not be the same thing as your program, e.g. you might have a token account that lives at on of your PDAs).
Only your program can sign for one of its PDAs addresses. So when you create that account, your program has to sign, so it's at least in the loop during account creation.
Got a question on PDAs. I'm working on an app where I'm creating user-specific PDAs to store user data on chain. What's stopping someone else from creating a transaction that changes the data in one of my user's PDAs? Or is my program the only one that can modify PDAs that are created with its public key?
Thanks for clarifying Jacob. Then I guess the right way is to use createMint() for both fungible and non-fungible tokens. Thanks man!
This is wrong and needs to be updated. Sorry, it was a miss
Im using `@solana/spl-token` version 0.2.0. Few hours ago, I was trying to `import { TOKEN_PROGRAM_ID, Token } from "@solana/spl-token";` and I was getting the error: `Module '"@solana/spl-token"' has no exported member 'Token'`, I was told in version 0.2.0, there is no Token anymore. So to create a mint, you can use `createMint()` instead of `Token.createMint()`, after removing Token, it worked well for me when creating a mint for fungible token. 
However, in solana cookbook version 0.2.0, it is still showing to create a **Non-Fungible-Token**, you should use `Token.createMint()`. 
So my question is: if I want to create fungible and non-fungible tokens I need to use 2 different versions of the library? OR solana cookbook has not been updated yet for Non-Fungible-Token?
How can I use inline assembly? Are there some examples? I can‘t seem to find the correct toolchain setup
free one that is....
ah got it, thanks.  Is there an endpoint that won't rate-limit me quite as much as mainnet-beta
when your create a connection in javascript you specify the rpc node your connecting too..  devnet, mainnet, etc.. what are you connecting to and how, thats how you switch nodes to a different provider.
its basically making scaling the application in javascript impossible and i'm not sure what the workaround is
not sure how i switch nodes?  I'm running a javascript application and using a large amount of @solana/web3.js methods (which are causing the error). I don't see any way to switch which node is targeted with the javascript API or batch things together
have you tried a different rpc node? 429 means that service/ node is probably limiting the requests for that call.
Did you try doing exactly what the error message suggests to do?
```INFO  solana_net_utils] Checking that tcp ports [(8001, TcpListener { addr: 0.0.0.0:8001, fd: 86 })] are reachable from 86.109.15.59:8001
[2022-02-22T21:28:11.797322331Z ERROR solana_net_utils] Received no response at tcp/8001, check your port configuration: timed out waiting on channel.``` Does anyone have idea how to solve this?
Hey guys, I am executing warehouse-basics.sh from https://github.com/solana-labs/solana-bigtable and I get
Does anyone have an example in javascript sending batch RPC requests for any web3 method? I am continually getting a long list of `429 Too Many Requests ` errors whenever trying to get balance/token accounts for anything over about 12 wallets at a time
I would ask them in their respective discords
Is there a way to create pool on devnet? Is Serum or Raydium on devnet?
Right
No cron jobs or similar mechanism on-chain right? I guess this has to happen on a server somewhere off-chain
okay, thanks
Programs don't self execute like that
Any instruction must be executed by a transaction to change
I want to confirm to others that it runs automatically when time comes
So no way to execute by itself?
Probably better to run a cron job that executes that, or something based on the clock
like, 
if time == feb 6th {
    run this code
}
I mean can I set solana program first and when time comes it automatically runs the code
Could you expand what you mean?
No, you have to have the authority on the mint to use that
Can I run solana program initialized by time?
I'm a little confused by the following code from https://solanacookbook.com/references/token.html#set-authority : ```// 1) use build-in function
{
  let txhash = await setAuthority(
    connection, // connection
    feePayer, // payer
    mintPubkey, // mint acocunt || token account
    alice, // current authority
    AuthorityType.MintTokens, // authority type
    randomGuy.publicKey // new authority (you can pass `null` to close it)
  );
}
``` Does this mean that anyone can change the authority of a mint??
Oh, I somehow missed that. Thanks for the info!
They're trying to get it to mainnet-beta. It is in devnet iirc
As far as I can see, chainlink VRF isn't available for SOL?
Switchboard/chainlink and more are working on these
VRF
what's the best way to generate a random true/false outcome, should preferably be hard to break, so not just getting the clock and then doing ` clock % 2 == 0 `
I haven't slept so .. shits tripping..
good to hear u got it
😩
lol classic
Shit was connecting to devnet , coz I used the wrong connection var
For local n devnet
I got two connection lol
I fixed it.. im just tired
Yes pda was my owner for those token
That's specifically token accounts
You have to tell it what mint to burn with. I suppose you could take the token account and figure this out. Not a bad idea
I dont think it makes sense to use that function with the mint address -- you should only use a token address?
You can't use getParsedtokenaccountbyowner for pda?
Yes I'm pretty sure.
Yes?
Thanks. I couldn't make it woek
im not able to check atm. if your not able to verify ill try to get back to you later.
working solution
i am unable to find any
like a record program
is there any programs on solana yet?
Hello Everyone
How to map and store recors with my solana addrees
wait are u using `getParsedTokenAccountsByOwner` ?
huh u sure ur calculating the pda address correctly?
It works for account thaats not a pda
And mint is in dict
Well im using getparsedaccountbyowner function
u got code?
Hi, I got this pda account, I was trying to get the parsed account by owner for it, but it says that  mint not found. But I can literally see in the Explorer than the pda has those token with mint address?
I see, well godspeed lol
Not really at this time. I'm trying to make things visible in the `Solana tech roundup`, but so many things are moving
okay, are there resources I can use to stay up to date on that kind of info?
`getRecentBlockhash` is still the go to until all the clusters make it to `1.9.X`. It'll be fully deprecated then
getRecentBlockhash works, but its deprecated...
When sending a transaction using getLatestBlockhash I get the error: Error: failed to get latest blockhash: Method not found
    at Connection.getLatestBlockhashAndContext (bundle.js:8068:13)
```  /**
   * Fetch the latest blockhash from the cluster
   * @return {Promise<{blockhash: Blockhash, lastValidBlockHeight: number}>}
   */
  async getLatestBlockhashAndContext(
    commitment?: Commitment,
  ): Promise<
    RpcResponseAndContext<{blockhash: Blockhash; lastValidBlockHeight: number}>
  > {
    const args = this._buildArgs([], commitment);
    const unsafeRes = await this._rpcRequest('getLatestBlockhash', args);
    const res = create(unsafeRes, GetLatestBlockhashRpcResult);
    if ('error' in res) {
      throw new Error('failed to get latest blockhash: ' + res.error.message);
    }
    return res.result;
  }```
The create function here doesn't seem to exist?
ok, that gives me a better idea of how to approach it - thanks!
Overall though, you can't do all accounts and programs at once. Would be too expensive for most machines
Same with accounts.. let me find the command
You should be able to `solana program dump` them and load on your local validator
i have the addresses for programs which i want to interact with but theyre on mainnet -- i want to be able to interact  with them / test my code with them locally  with the account-data of mainnet
What exactly are you trying to do?
or is the standard approach just deploy everything u need manually to a local node? (as it seems from the docs)
anyone got any examples/tutorials on localnode dev -- similar to getting something like mainnet forking working?
I used spl-token burn, but that didn't work.
it should work.. you may want to test and try the amount and supply with a test token
My understanding is that it should be showing all including CPI
PRs get into a queue for review
Oh cool thanks! Good to know
Sending tokens to an address that has an unknown private key burned rent and wastes space
Please use the burn spl-token cli command. This will remove them from existence, and update the supply cap
No, it is not
So is there a way to remove the minted tokens?
afaik "Burn" is functionally equivalent to sending to an address whose private key is unknown
Hi, i have created my token on Solana Blockchain. I minted too much of it, is there any way to reduce its quantity? I created it using Solana CLI. I used spl-token burn, but the amount in spl-token supply hasn't decreased. Thanks.
hello! qq: I have a simple PR to add a project to Solana's explorer & I was wondering if there's any process to getting it reviewed/merged. Thanks!
e.g. will signatures be returned if the address is used only in inner transactions?
hi all, happy tuesday! Quick question: does `getSignaturesForAddress` include state changes as a result of CPI? Or just the outer transaction effects?


///////////////////////////////////////////////////////////////////////////////////////////////

Hello, I am working on a program that can receive lamport and when he receive lamport it send back the amount into 4 addresses that I have.
Does anyone know how to achieve it in Solana?
Hello
I faced up with error in tests for the program
So I have next error:
`thread 'main' panicked at 'called Result::unwrap() on an Err value: IoError(Custom { kind: Other, error: "the request exceeded its deadline" })'`
I use solana_program_test for the tests and program is written with anchor
It look like test validator which is running for the test doesn't stand out the load, but I'm not sure

Could someone help me with it or maybe someone also have received such an error ?
Is it possible to write a client test that runs on a localnet and determines tx fees accurately? Even using getFeeForMessage, the total is off by about 40 lamports, and fluctuates between test runs.
is anyone else experiencing timeouts when trying to deploy a program
Hello good day, please any one can help me with a tutorial on how to implement solpay in a personal project . Like to tweak the codes and use it for your own project
Hi, I have a question about cross-program invocation in Solana program. Why do I have to pass the `AccountInfo` of the callee program B to the `accounts` param of the `invoke()` function in caller program A (for an example: https://github.com/solana-labs/solana-program-library/blob/7f3cad3d11997211639ac2801c3529ae10e56974/token-swap/program/src/processor.rs#L148) ? 
I naively called program B inside program A without the `AccountInfo` of program B then received a "An account required by the instruction is missing" error.
Yes we can, to test end to end on our store we'd like to be able to pay with 5 USDC for instance
May be an issue in the program
yes but i set it to 0 in my typescript and after that I send a transaction to the Rust program on the blockchain to mint. Could that be the issue?
If 0 decimals, that shouldn't happen. You're positive of 0?
Why when I call the Rust function mint_to with amount set to 1 to a mint account with 0 decimals, I end up transferring 10,000,000,000,000,000 tokens instead of 1?
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedAccountInfo
how to get Owner Account from TokenAccount?

Don't have to spend time writing all of this
If metaplex/js provides the decoding logic, why would you not?
Should I be doing all of this logic using metaplex/js?
Article https://lorisleiva.com/paginating-and-ordering-accounts-in-solana doesn't use metaplex functions plus the CandyMachineData struct for deserialization was not easy to locate so just been a natural/slow progression I guess.
Why are you trying to hand decode it if metaplex/js provides the required functions?
By following the cookbook I made sure my package.json contains identical dep
https://gist.github.com/josephfernandez/8fc53715e08aad152e5e40c7f3913df4
Can you make a gist instead or link a github? Can't read these screenshots
Not running the cookbook example but more specifically getting account info per candy machine then running deserialize on the returned data blob
I'm still able to run the cookbook result. What exactly are you doing
Make sure `solana config get` matches the keypair you expect and if that doesn't work you can specify the keypair to use with `--fee-payer <keypair_path>`
Sorry  for the inconvenience in advance
couldt find any, regarding the use of it inside a program which id like to increase its budget.
Hi, i'd like some example on using  solana_sdk::compute_budget::ComputedBudgedInstruction
Trying to deserialize a candy machine while following https://lorisleiva.com/paginating-and-ordering-accounts-in-solana.  I've encountered an issue with borsh (the deserialization method) .  I've followed along in the cookbook for serialization/deserialization here: https://solanacookbook.com/guides/serialization.html but still no luck.  Is anyone familiar with this error?  Looks like there's an issue with borsh out of the box working with Metaplex data https://github.com/near/borsh-js/issues/34 ?
Hey, I've been trying to create an SPL token and the transaction doesn't want to go through. I keep on getting this error, 

whitelist-token % spl-token create-token
Creating token 63W4YYUMFq48UtsrxaJ8xTcaoRqwTqkXKm4P3oexUisd
unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds

The wallet is funded with 0.1 SOL
oh i see. Thank you once again
I would suggest asking in the anchor channel https://discord.gg/K6UXJ8u3
That may be a way that the site is managing SSO
Thanks <@!943447355666083880> by the way! I will be in touch.
So not ideal I'd have to say -- but reasonable. That said, when I think about a classic ERC721, this could be implemented quite "easily".
Anyone knows here?
The validity info would be implemented by a custom-written program (the one that also collects the payments I assume)
So, when the wallet ask for sign in request (with some verification code ) what is that for ?
Sure -- but the user would have to go to a website, type in an NFT address, and see if it's valid or not (since we do not store the info as part of the NFT attributes).
(I understand "easily" in Solana is relative)
you can easily implement a way for the user to check if a token is valid before buying it. Read operations don't require signing
types in idl
Yes, but I don't know how to use it.
Because do not notice that's unvalid?
For what gain? Like why would someone buy an invalid one?
https://discord.com/channels/428295358100013066/517163444747894795/946415511913242655
And that's the part that I would have to figure out
But people could still trade these invalid tokens --
yes, a token doesn't have any inherent value except for the one you give it (which is the access to your page/group).

its clear to me now. thank you
its for hardware wallet.
For example: a person has a hot wallet(online) and cold wallet(offline) for security best practices. They need more funds in their hot wallet, so they have to sign offline on the cold wallet a transfer and move the signature to online to broadcast
i think i got it now ..
The only missing piece is not being able to get back the token on NO PAYMENT, but I could invalidate the token and issue a new one. But that would kinda be a centralized operation.
<:koolaid:831946858178936845>
Anchor should auto generate via the IDL all functions for deserailization
I still dont quite get it ?
Yeah that actually would probably work
Ok, so you need to use the TS/JS equivalent from Anchor so this question is probably better asked there. I am not familiar with Anchor to answer this (although I do think it is borsh under the co vers)
No, you update the metadata on payment (with the new expiration date) and check on access whether the expiration date has passed
As far as I know, you cannot have the metaplex program create an account and then assign it to your program. But possibly you may write to the token via CPI, I haven't studied that yet
All the collecting membership payments and update the NFT metadata if no payment sounds quite complicated already LOL

enum in rust

And the program deserializes using ?
Yeah that makes sense -- I will spend more time thinking about it
correct, I've never used borsh-js
I'm working on the same question. I believe the problem is program ownership - if your program wants to write into the account, your program has to create it
gm Frank
You can extend by making a program wrapping the data structure. Most likely you have to do your own metadata program though
So in that you are not deriving the the Enum type, the program you are sending this to doesn't deserialize instruction data with borsh correct?
Offline signing is used for people that are keeping their keypair offline as a safety measure
Can I extend the on-chain data structure of Metaplex NFTs? Or would I need to create my own Metadata program in this case?
yes, I was assuming that was what you were doing anyway
So creating NFTs?
hi, what is offline signing used for ?
on-chain
Store that payment info on-chain or off-chain?
Then the user cannot transfer the membership. Also, you're limited to the PDA's account size. But this is also the case with the expiration date method. Another way would be to store the expiration date in the token, and to update it when there is a payment; then you're not limited to the PDA account size
Problem become selling the asset tho ..
Then it feels like we do not need a token at all -- and could use the PDA to store if a user's has a membership or not directly -- would that work in your opinion?
is there anyone here who has successfully created a liquidity pool via their own program/smart contract?
Yes, you can just store the expiry date in your PDA, and by paying, they extend that expiration date. When the membership expires, they keep the token, but it's useless
I'm using anchor framework.
<@!814228493302497301> any idea?
Error: unable to infer src variant
But I got an error.

That's what I tho. Some other ideas maybe?
I defined enum in typescript and tried to pass one of it.
ok.
You can't do that directly.
The membership status can be stored in a pda, but you can't transfer the token out of the user's wallet without them signing the transaction
no, I'm not doing that anymore.... questions here are good for everyone
<@!814228493302497301> May I dm you?
Hey folks, I am trying to implement a membership concept on Solana where a user hold a token but every year they have to pay a "tax" or "membership renewal" fee otherwise the token goes back to the creator

Doing this on ETH would be quite simple, but not sure how to achieve this on Solana -- my understanding so far is that I need an Authority Delegation and probably and ad-hoc program to collect the "tax".

Anyone went through this already and have some good advice? Maybe an existing projects that achieve this already?
(if that account is to hold global state rather than user-specific state)
For a program to write to an account, the account has to be signed with the account's authority, right? And does that mean if a program creates a non-PDA account and wants to write to it, it must create it with a PDA account as the authority, and sign with the PDA account?
And <@!866287567791718420> : As the link says: This class is only compatible with ***Borsh*** encoded Rust enumerations. Which means the program you want to send it to has to be deserializing the instruction data using Borsh. Have either of you verified that to be the case?
its not open source but i can explain there is enum defined inside rust program and that enum is used as one of the function param, so now i want to pass function param from javascript tried to pass as unit but it fails, idl looks like this
`"args": [
        {
          "name": "action",
          "type": {
            "defined": "UserAction"
          }
        }
      ]`
thanks <@!814228493302497301>
got it to work
had to leave the test validator open
then go thru the rest of the steps
How to use Enum of @solana/web3.js?
https://docs.solana.com/developing/clients/javascript-reference#enum
AccountType has no values and no actual example code there.
Is the program you are trying to send an instruction to open source? If so, where is the code?
https://github.com/solana-labs/example-helloworld/issues/392
its Enum
i ran:
npm run build:program-c
npm run start-with-test-validator
So you never ran the `build...` script (Rust or C)?
Follow the README.md for the hello world!!! You are skipping steps
was learning it a few days ago while learning React
npm is the package manager right ?
ran 
npm run start-with-test-validator
getting error too
Are you familiar with Node?
`npm run start-with-test-validator`
sorry wat is the bpf-program and where can i find it??
```json
 "scripts": {
    "start": "ts-node src/client/main.ts",
    "start-with-test-validator": "start-server-and-test 'solana-test-validator --reset --quiet' http://localhost:8899/health start",
    "lint": "eslint --ext .ts src/client/* && prettier --check \"src/client/**/*.ts\"",
    "lint:fix": "eslint --ext .ts src/client/* --fix && prettier --write \"src/client/**/*.ts\"",
    "clean": "npm run clean:program-c && npm run clean:program-rust",
    "build:program-c": "V=1 make -C ./src/program-c helloworld",
    "clean:program-c": "V=1 make -C ./src/program-c clean",
    "build:program-rust": "cargo build-bpf --manifest-path=./src/program-rust/Cargo.toml --bpf-out-dir=dist/program",
    "clean:program-rust": "cargo clean --manifest-path=./src/program-rust/Cargo.toml && rm -rf ./dist",
    "test:program-rust": "cargo test-bpf --manifest-path=./src/program-rust/Cargo.toml",
    "pretty": "prettier --write '{,src/**/}*.ts'"
  },
```
Depends on which script you run
isnt the bpf-program loaded by default?
1. Open terminal
2. `solana-test-validator --bpf-program <ADDRESS_OR_PATH BPF_PROGRAM.SO>`
3. Open another terminal and change into the hello world repo
4. Run your node/TS script
i think so
thanks!
running the solana-test-validator
on 1 ubuntu and running npm run start in another
is there correct?
https://github.com/hashblock/solana-cli-program-template
What form of serialization is the program expecting for the `instruction_data`?
so confuse
was following the the helloworld on the docs
does anyone know examples which use the `solana-sdk` in rust ?
i think u have to run a local node with `solana-test-validator`
hmm
getting this error when trying to npm run start
How to pass enum from typescript to solana program function parameters?
How did you install the Solana tools?
getting this error
what does it mean???
for 10 instructions only cost 0.00699, and my wallet have 4sol
When I sent more than 10 instructions in a transaction, phantom will show "unable to fetch balance changes"
Is there a limit on it?
Ctrl+C
how do i stop the solana-test-validator?
Chainlink has VRF (Verifiable Random Numbers) as a product but I don't know when they are releasing on Solana ->: https://docs.chain.link/ you may want to check with them
hey anyone ever created Staking on solana without using **GemWorks**
Hey, are there any NFT standards in Solana like ERC721 in Solidity?
i want to use random number in program , is it response to use some token price decimal point as a random source?
That's what I was about try but I lost my program keypair 😖 😖 😖
See if `solana transfer --help` can guide you as I am not completely sure if you can/can't... it's worth a try assuming you've kept the PDA key and still have the program keypair
to answer my own questions, I think since the main "recommended" way is to use a external url to store the json schema data **off chain**, there is really nothing stops me from using a base 64 encoded blob, other than maybe cost ..
So these PDA will never be purged and the SOL will forever be locked ?
You have to do that before you close the program
https://docs.solana.com/cli/install-solana-cli-tools#macos--linux
How to withdraw SOL from PDA if it's owner program is closed ?

is this system tuning correct??
with ubuntu
Hello there!
I have a project I am working on where I should make a program which should tell your tokens in a pool 
So the conception is I give the program the addresses and it asks for the lp amount and all that fancy stuff you have with a pool
I managed to make it work with ETH based networks, but I have a really hard time to figure it out on the Solana network...
Can you guys give me a direction I should look, or a link or anything how I am supposed to READ Contracts?
I am working with C#
Thanks in advance!
hm works after i downgraded my CLI from v1.9.9 to v1.8.14 to match mainnet's version - strange since i'm deploying to devnet
i'm on v1.9.9
Hi everyone, we are building a search engine and reward our contributors with our own SPL token that is required to publish new content on our platform. We want to allow people to swap our token for SOL. Do you think it is better to get listed on Raydium or to use the token swap program directly? I'm not sure what it takes to handle everything on our platform directly using the token swap program. Any advice?
hi i can't deploy my program onto devnet, kept getting a invalid blockhash error, does anyone know how to fix it?
Hello, seems like our logo is missing from the explorer, it was visible a few months ago and then just disappeared without us modifying anything, we understand that due to the huge influx of tokens the repository is being rebuilt but we would very much like just a confirmation that this is not from our side
https://explorer.solana.com/address/SioTkQxHyAs98ouRiyi1YDv3gLMSrX3eNBg61GH7NrM
<#937905165074300999>
Once you close it, the original address can not be used. You need to deploy to a new program address
Windows not stable, use WSL2 w/Ubuntu
<#937905165074300999>
Does "in most cases" mean there is nothing stops from using base64 encoding and store everything on chain?
```
The URI filed contains a pointer to the rest of the metadata. This metadata is stored off chain **in most cases **and the URI is usually a https: link to some decentralized storage. This uri must point to a JSON file that conforms to one of our Token Standards.
```
https://docs.metaplex.com/token-metadata/specification#full-metadata-struct
```rust
#[repr(C)]
#[derive(BorshSerialize, BorshDeserialize, PartialEq, Debug, Clone)]
pub struct Data {
    /// The name of the asset
    pub name: String,
    /// The symbol for the asset
    pub symbol: String,
    /// URI pointing to JSON representing the asset
    pub uri: String,
    /// Royalty basis points that goes to creators in secondary sales (0-10000)
    pub seller_fee_basis_points: u16,
    /// Array of creators, optional
    pub creators: Option<Vec<Creator>>,
}

#[repr(C)]
#[derive(Clone, BorshSerialize, BorshDeserialize, Debug)]
pub struct Metadata {
    pub key: Key,
    pub update_authority: Pubkey,
    pub mint: Pubkey,
    pub data: Data,
    // Immutable, once flipped, all sales of this metadata are considered secondary.
    pub primary_sale_happened: bool,
    // Whether or not the data struct is mutable, default is not
    pub is_mutable: bool,
}
```
noob question: is it true that solana doesn't support fully on-chain NFT ?
Is this something I need to provide ?
Hi guys, I have a question about the spl-token burn command. What exactly does the blockhash mean ?
or is there a from start to end rust and react course from 0 to deploying app??
just finish learning basic rust and react
just cloned the helloworld git
getting this error while trying to start it up
help anyone???
I'm playing around with distributing spl-token https://crates.io/crates/solana-tokens when I execute this command `solana-tokens distribute-spl-tokens` it told me I was missing --db-path flag in the command I'm wondering what type of file the db file should be as the docs did not specify it
might be a stupid question but can you use a custom RPC for the javascript API?
Hi there i hope all doing well. So i need help about how can i find market id s some tokens , example of USDC????
error saying program has been closed, use a new programid
I think you will need to write some code. maybe check https://github.com/solana-labs/example-helloworld
maybe https://github.com/solana-labs/solana-program-library/tree/master/token-swap
Can you send fractions of usdc
you can update it. check https://docs.solana.com/cli/deploy-a-program#redeploy-a-program
I found this to be strange as well. The destination address and amount are considered advanced transaction details. That’s just the way phantom displays transactions i think
hi i can't deploy my program onto devnet, kept getting a `invalid blockhash` error, does anyone know how to fix it?
hello, I already deployed my contract on solana devnet, is there a way to interact it in command line, or on web interface like ethereum for example? in case i dont wanna build a ui from scratch
I have a two step transaction and I'm trying to only require a single signature in the wallet, I have the following code, but when I attempt to sign the transaction I'm getting "Expected String" error. I haven't been able to find an example. 
```
const depositAndStakeTx = [
    await this.bankProgram.instruction.depositGem(
          (removed for clarity)
    ),
    await this.farmProgram.instruction.stake(
        (removed for clarity)
    )
]
      
const transaction = new Transaction()
depositAndStakeTx.forEach(instruction => transaction.add(instruction));
transaction.recentBlockhash = await this.conn.getLatestBlockhash()
transaction.feePayer = this.wallet.publicKey

// this line results in "Uncaught (in promise) TypeError: Expected String"
const signedTransaction = await window.solana.signTransaction(transaction.serialize());

/*
Uncaught (in promise) TypeError: Expected String
    at decodeUnsafe (index.js:67:1)
    at Object.decode (index.js:110:1)
    at Message.serialize (message.ts:197:1)
    at Transaction.serializeMessage (transaction.ts:410:1)
    at Transaction.serialize (transaction.ts:587:1)
    at GemFarm.depositGemStake (gemfarm.jsx:391:1)
    at async stakerMover (staker.js:139:1)
    at async stakeNft (App.js:116:1)
*/
```
Just as Uniswap on ETH Testnet
Hello, is there a way to create pools and swap on Solana devnet?
on devnet, after program close, cannot re deploy using the same program id?
Looks like a problem many have encountered before but still having trouble locating a direct solution to the following borsh-related error (figured I'd bring my question here due to a lack of response from Metaplex Server)
it is based on generating pda based on user input alone. thanks will look into it. And thank you for the help 🙂
in addition to cookbook you can reference the solana github, main repo and solana program library and search on `create_program_address`
https://solanacookbook.com/references/accounts.html#program-derived-address

your use case is specific, and your not controlling trying to generate a pda on demand it seems, so youll need to think about a design in general that works..   your problem is not generation/derivation of an address..it is that your generating the address based on user input alone? or so it may appear.  you need to think about your design, and how address generation plays a part in it.. and how to use your inputs, and other means, to generate addresses that will work for you.  Majority of pda examples you will find are for expected results, that are expected to generate unique addresses, based on the combined inputs provided. Its up to you to make sure these inputs in some way are unique, in order to generate a unique address for the program.
Does solana have a flash loans?
can you please provide me with the examples.
it just is what it says in the comments..  if you allow collisions to occur, and dont do safety checks, and dont have a secure system in place.. bad things can happen.  the program generation with seeds is a tool , and it points out a potential issue.  there are many examples if you need help with it.  https://solanacookbook.com/core-concepts/pdas.html#facts
I'm asking what if its not unique and there is checks in place that is it is intended vulnerable: I'm just trying to learn the security impact of it because the docs are pretty vague for the PDA and using PDA for CPI. I know that inorder to secure it I need to use find_program_address and validate the source destination and authority before signing it.
yea you could use the signers/senders address as part of the seeds, and or some other hard coded variables. at least one of the things needs to be more unique.
Thanks for the quick response. And thank you for the ans.
these are general problems many are trying to figure out.   answer to 2) maybe, based on your needs and design..
Hey, 
I need some pieces of advice. 

Q => I want to connect different wallets like MetaMask for ETH and Phantom for Solana. What tools shall I use? 

Q => I want to store data of the user which is something like NoSQL. Will Filecoin be a good tech for that? 

Q => For using the same contract on different blockchains(ETH, SOLANA, NEAR, POLYGON) what should be my approach?
For example this program where I use authority_id to generate the program address then make a transaction using invoked signed for example if I control the source and destination can I generate an authority address of the existing user by bruteforcing the nonce as my_info and the program ID are already public in the transaction?
```
  pub fn authority_id(
        program_id: &Pubkey,
        my_info: &Pubkey,
        nonce: u8,
    ) -> Result<Pubkey, Error> {
        Pubkey::create_program_address(&[&my_info.to_bytes()[..32], &[nonce]], program_id)
            .or(Err(Error::InvalidProgramAddress))
    }


   invoke_signed(
            &ix,
            &[source, destination, authority, token_program],
            signers,
        )
```
create program address can be used for creating a program address. what you use it for is up to you.  

do you have some code your trying to create or referring to?   generally the program helps control the address creation with seeds process, and authority should not just be determined by an address anyone can pass in..
by 2 user I mean create_program_address is usually used to initialize authority account which acts as an escrow for transaction if 2 user use the same seed to derive program address with create_program_address, would that make the program vulnerable where the 2nd user can steal the tokens transferred by the first user if the destination is not verified when signing the transaction using the pda
so when your generating addresses .. check the output, and ensure different seeds, are for some reason not referencing the same address, for the same program.  same seeds for a different program should not matter, as the address creation is in reference to a particular program, with seeds.  just check.
dont understand the last question. 2 users have the same program address?  program address unique, if your creating an address using above, you just need to test and make sure the created addresses are also unique when using 'seeds' for creating the address..  per comments above
If two users have same program address.
```
    /// [`create_program_address`]: Pubkey::create_program_address
    ///
    /// **Warning**: Because of the way the seeds are hashed there is a potential
    /// for program address collisions for the same program id.  The seeds are
    /// hashed sequentially which means that seeds {"abcdef"}, {"abc", "def"},
    /// and {"ab", "cd", "ef"} will all result in the same program address given
    /// the same program id. Since the chance of collision is local to a given
    /// program id, the developer of that program must take care to choose seeds
    /// that do not collide with each other. For seed schemes that are susceptible
    /// to this type of hash collision, a common remedy is to insert separators
    /// between seeds, e.g. transforming {"abc", "def"} into {"abc", "-", "def"}.
```What does this warning mean ?
what instruction/transaction are you trying to execute here..?     I see a program id, and account meta, and data.. is there an instruction im overlooking?  what does your serialize method look like.
anyone have an idea why the instruction data might be invalid
```
 logs: [
      'Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS invoke [1]',
      'Program log: Instruction: ExecuteInstruction',
      'Program log: ix: Instruction { program_id: 11111111111111111111111111111111, accounts: [AccountMeta { pubkey: aZHujnms52h6ow2LJwMRj4ECvt1P82646SwHhEYnN8G, is_signer: true, is_writable: true }, AccountMeta { pubkey: 4fL5NYTVCG4PHapjUw4DccD7spzxRhED1F9n9jDETkJp, is_signer: true, is_writable: true }], data: [52, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 96, 77, 22, 0, 0, 0, 0, 0, 82, 0, 0, 0, 0, 0, 0, 0, 6, 221, 246, 225, 215, 101, 161, 147, 217, 203, 225, 70, 206, 235, 121, 172, 28, 180, 133, 237, 95, 91, 55, 145, 58, 140, 245, 133, 126, 255, 0, 169] }',
      'Program 11111111111111111111111111111111 invoke [2]',
      'Program 11111111111111111111111111111111 failed: invalid instruction data',
      'Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS consumed 51502 of 200000 compute units',
      'Program Fg6PaFpoGXkYsidMpWTK6W2BeZ7FEfcYkg476zPFsLnS failed: invalid instruction data'
    ],
```
but I'm running into
Hey guys, I'm trying to do something like this:
```rs
    let serialized_ix = // instruction that was serizlied via bincode::serialize::<Instruction>(&ix).ok()
    let ix = unwrap_opt!(
        bincode::deserialize::<Instruction>(serialized_ix.as_slice()).ok(),
        InvalidInstruction
    );
    msg!("ix: {:?}", ix);
    invoke(&ix, ctx.remaining_accounts)?;

    Ok(())
}
```
I mean generate the idl file.
Cool cool thanks btw what do you mean by "gen the idl"?
I think just check metaplex's github. candy machine is written by anchor, ideally you can gen the idl (I haven't tried)
<@!788215642070581289> I've found a posting of the schema from Metaplex server on 2/10/22 but not sure where this came from
<@!788215642070581289> where can I find the candy machine data schema?
actually the private key is still alive. it can still sign tx and the correspond account will be treat as a signer.
so if you create a random token account A
you can create a random token account B for the random token account A
for now, both A and B are token account. B's owner is A
if you have the random token account A's private key, you can auth B successfully because token program is only identify is it a valid signer.

I think the main point is that don't leak your private out haha.
I can't see your code. if you just follow the examples, maybe try to use a candy machine schema to deserialize these data.
Network needs a plunger
Does Solana support verifiable snapshot sync? (light node-> full node upgrade)
is devnet still down?
Hey guys could really use some help on a compiling problem I'm having ... I'm getting this error whenever I npm run a react project with the wallet adapter code setup... Im running a fresh Ubuntu 20.04 vpm with latest main solana + dependencies installed
Got it. Thanks so much for the confirmation. 

Private key also can't do anything malicious after allocating space and  assigning owner as some program id using SystemProgram.createAccount. Only account owner i.e., program will be able to change data of that account or debit SOL for rent exempt, nothing can be done with private key, right?
candy machine account id?  Do you mean to try and deserialize to the candy machine schema?
AFAIK the private key can't do anything malicious after you init it as a token account. (token account has own auth, for fee payer need to a zero data system program account.)
but still need to aware the private key can be used in the other network (testnet, devnet)
Latest solana-adapter, does not detect solflare latest
<@788215642070581289> Any thoughts on this?
Thanks a lot!
Thanks for the confirmation🙂
Where can I ask, in their Github repo?
I think you can just ask them. Not sure how they implement their tx simulation.
the example is to fetch a candy machine account.
seems you trying decode it with a metadata account schema. maybe try to use candy machine account id to decode it.
you can use https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction
to know every accounts's post state.
you need to pack the account you need into your transaction before you send it. you can't just query it on chain.
There's only one `owner` field on accounts.  I suggest you rethink what you're trying to do
That's impossible
Hey Guys I have a doubt,

While reading data from an account we need to make sure that this account is owned by our program, if I hardcode public key of that account inside my program and then compare passed account public key with the hardcoded public key, do I still need that check for account to be owned by my program? 

I want to make sure that **is it possible for a public key(account) to be owned by two programs at same time**?
Is the "Transaction may fail to confirm" a Testnet thing? Or it appears in the mainnet too?
Hi there ! I wanted to know. Fractionalized an NFT is like creating X spl-tokens. But at the beginning, the NFT is necessarily with us and so I suppose we will have to split it and mint all the tokens on our wallet. But let's say we decide on a big fraction, we can end up with thousands of tokens! Is there a way to gather the tokens by batch? These X thousands of tokens correspond to this NFT, these X there to another one etc..
Seems that's a known issue, so this started happening randomly! Quite annoying.

```js
Phantom - RPC Error: Transaction creation failed. {code: -32003, message: 'Transaction creation failed.'}
```
Hello Guys, 

We create a new token account using typescript as follows

1. `newTokenAccountKeypair =  Keypair.generate();`
2. `createTokenAccountIx = SystemProgram.createAccount`
3. `initTokenAccountIx = createInitializeAccountInstruction`
4. `createTokenAccountTx = new Transaction().add(createTokenAccountIx, initTokenAccountIx);`
5. `sendAndConfirmTransaction(connection, createTokenAccountTx, [feePayerKeypair, newTokenAccountKeypair])`

After successful creation of new token account if someone got secret key (or Keypair) of new token account, is it possible that he can do some **malicious activity** using `secretKey` of `newTokenAccountKeypair` ? like closing `newTokenAccount` or **debit funds** from `newTokenAccount` or transfer `rent-exempt` SOL
maybe you could slowly go through the first account's serialized  data by each bit segment and make sure it matches
that's tough because that's a fairly complex problem and metaplex is constantly updating and all that
Tried getting help in Metaplex server but it’s not very supportive by devs atm so I figured I’d try my question in here being that I’ve had a good exp here with help from the community.  Following steps from https://lorisleiva.com/paginating-and-ordering-accounts-in-solana.  Trying to deserialize the account info for a candy machine.  Th object's data field comes back serialized and I can't seem to deserialize to the correct schema and instead receiving this error in VSCode:  originalMessage: "Expected buffer length 2689194442 isn't within bounds".  Can anyone recognize this issue and confirm whether I am deserializing to an incorrect form OR maybe this is a limitation issue on VSCode side?  ALso uploaded the metadata-schema.ts file I'm using for the deserialization. 🙂
If that's indeed correct, I find that a bad practice, hopefully what I'm doing is wrong, but can imagine the number of scams people  are vulnerable to
Has anyone called a custom project using JSON RPC API?
In Phantom, why is the amount for approval hidden under "Advanced transaction details"? Wonder if transferring funds has a different approach from what I read in the docs, which is 👆 which is "sendTransaction" from useWallet's solana adapter. Finding this a bit weird, or probably there is other way? My expectation is that the user can see how much is the requested Transfer, I did not expect it to be collapsed.
Hey Guys, 

Is it possible to `access the address of the account which holds highest tokens of a mint on-chain` in Solana rust programs?

Something similar to `getLargestAccounts`, I need only one account but in my on chain  Solana rust program 
https://docs.solana.com/developing/clients/jsonrpc-api#getlargestaccounts
Not sure why it's not documented, but seems to be new PublicKey(String) from  web3
lib.
Is there any public guidance on how to increase transaction-wide compute budget?  Am seeing the source code here but am scratching my head about how to actually use the API https://github.com/solana-labs/solana/commit/6cf3c1ab8f0344016082f2de3df2b34edce17cdc
https://solana-labs.github.io/solana-web3.js/modules.html#TransferParams
Looking at the js lib to make a transfer, I'll be using the solana adapter, so I have the fromPubkey as the expect Typescript "PublicKeys", but if I just know the wallet address "to" which is string, how's that?

```js
const transferTransaction = new Transaction()
  .add(SystemProgram.transfer({
    fromPubkey: fromKeypair.publicKey,
    toPubkey: toKeypair.publicKey,
    lamports: lamportsToSend
  }))

await sendAndConfirmTransaction(connection, transferTransaction, [fromKeypair]);
```
I just uninstall even ubuntu wsl and download everything again it is solved. I have followed same steps. another mystery in programming world ........
thank you
oh 😅 ok that makes sense
The associated token program is only used to reserve addresses.  The accounts are assigned to tokenkeg
does it?
I was just unsure if it tracked assocciated token accounts
Wait lol I was using this one and it worked
This one, `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`
Well you'd also want to target tokenkeg, not atoken
Yeah 😅  I tried it and wasnt getting any responses from the rpc
No. You'd build an accountsdb plugin, 'cause there's no way in hell that's going to work over RPC
right?
with `ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL`
`onProgramAccountChange`
I would use
If I want to listen to every token account change
dope thanks
yep, whenever your program returns a non-zero exit code then the runtime abandons the entire transaction
would just throwing a program error work?
is there a way to revert all the interactions you've done with a program?
Yea I've seen it before so I'll head in that direction thanks!
I think there's a function in metaplex/js to deserialize, but I'd check in the metaplex discord
It's a candy machine acct
Is it a token account, etc
Whatever account is at that address
```rust
/// Submits a transaction with programs instruction
    fn submit_transaction(
        rpc_client: &RpcClient,
        wallet_signer: &dyn Signer,
        instructions: Vec<Instruction>,
    ) -> AppResult<Signature> {
        let mut transaction =
            Transaction::new_unsigned(Message::new(&instructions, Some(&wallet_signer.pubkey())));
        let recent_blockhash = rpc_client.get_latest_blockhash().unwrap();
        transaction
            .try_sign(&vec![wallet_signer], recent_blockhash)
            .unwrap();
        Ok(rpc_client
            .send_and_confirm_transaction(&transaction)
            .unwrap())
    }
```

Ok, I added a big ass delay and I'm getting the Tx data.... thanks!
account === pubkey?
You have to deserialize based on the account you're getting. Do you know what the account is?
Are you confirming the transaction before trying to get it?  Might be losing a race
These instructions are terrific!  I'm using typescript and web3 for getMultipleAccountsInfo and the returned objects contain a field, data, which comes back looking like <Buffer 12 a3...> which Google says is Array Buffer.  Is there a standard way of converting this to a human-readable form?  I've tried using toString() but I then see good ol' diamond-question marks for characters.  Have a technique for this one?
Ok I did that and changed this:

```rust
            .rpc_config(JsonRpcConfig {
                enable_rpc_transaction_history: true,
                enable_cpi_and_log_storage: true,
                // faucet_addr,
                ..JsonRpcConfig::default_for_test()
            })
// And after good txn
let tx_post = connection.get_transaction(&signature, UiTransactionEncoding::Base64); // Use base64 encoding
```
But getting:
`Err(ClientError { request: Some(GetTransaction), kind: SerdeJson(Error("invalid type: null, expected struct EncodedConfirmedTransaction", line: 0, column: 0)) })`
what kind of information are you looking for specifically that isn't mentioned in the node docs?
oh just remove `faucet_addr,`
Where am I getting the faucet address from?
Wiley Coyote... hidden gem
I think you'll need to explicitly enable transaction history from your integration test, something like this: https://github.com/solana-labs/solana/blob/3ea9ca35fae93d68016ee82806e969ae99789bc5/validator/src/bin/solana-test-validator.rs#L628
Hmmm... Solana 1.9.8, using TestValidator (programmatic start of solana-test-validator). Successful transaction but after that:
```rust
        assert!(txn.is_ok());
        println!("Tx count = {:?}", connection.get_transaction_count());
        let signature = txn.unwrap();
        let tx_post = connection.get_transaction(&signature, UiTransactionEncoding::JsonParsed);
        println!("{:?}", tx_post);
```
I'm getting in the log:
```bash
2022-02-23T22:22:51.888422000Z DEBUG solana_runtime::message_processor::stable_log] Program 4uQeVj5tqViQh7yWWGStvkEG1Zmhx6uasJtWCJziofM success
[2022-02-23T22:22:51.960761000Z DEBUG solana_runtime::message_processor::stable_log] Program Vote111111111111111111111111111111111111111 invoke [1]
[2022-02-23T22:22:51.961413000Z DEBUG solana_runtime::message_processor::stable_log] Program Vote111111111111111111111111111111111111111 success
Tx count = Ok(3)
Err(ClientError { request: Some(GetTransaction), kind: RpcError(RpcResponseError { code: -32011, message: "Transaction history is not available from this node", data: Empty }) })
```

Is this behaving as designed or am I missing something on the validator settings?
I tried download  solana cli again but it still same
I  have serached everything but couldn't find same problem on internet
soo what should I do:D
No, none of those... I think it is just something is broken with unpacking non-aligned values.
bcuz something that should be insde of  solana cli is missing
isn't this about solana cli am I get it wrong?
I wouldn't recommend leaving. I think something just went wrong with how you installed everything
Should I leave because of windows:D
Yes but what should I do about this :D
<@!293578924901007361> <@!785084693023424542> We’re you able to get hidapi working on macOS? I have a similar issue

Are you using WSL? My understanding is that windows is a bit flakey
Is your intent that `src: &[u8; 1]` contains another array? Otherwise, take the array brackets off your match pairs and  `match src[0]`
This is a nice walkthrough on it https://lorisleiva.com/paginating-and-ordering-accounts-in-solana But I am unaware of any diagram explaining the account structure. Check metaplex discord
Yeah but I redownload solana cli but it doesn't worked too
Looks it the directory it states doesn't exist
Usually happens when you are trying to access something you cannot, or using a function with randomness(which also cannot be used)
Do we know the byte structure of the V2 candy machine accounts so that I may use filtering similar to the way we use getProgramAccounts with 165 bytes for token programs?
Whats the best way to get 1000 testnet USDC, we are working on a Solana Pay integration and the faucet only sends 1 at a time.
can someone help me I couldn't find any soruce in internet about that error
Ohuch, I am using it as a reference code all of the time 😦 and the reason why I'm asking is my issue with the following code which IMO looks legit:

```
fn unpack_m(src: &[u8; 1]) -> Result<MResult, ProgramError> {
    match *src {
        [0] => Ok(MResult::A),
        [1] => Ok(MResult::B),
        [2] => Ok(MResult::C),
        [3] => Ok(MResult::D),
        _ => Err(ProgramError::InvalidAccountData),
    }
}
```

and compiles, but gives a runtime error `Access violation in program section at address 0x1ffff7448 of size 8 by instruction #258`
SQL for Solana, now that‘s a project I could get behind 😄
true. Maybe a little bit faster.
It‘s a native client, not some electron app.
Very similar
https://insomnia.rest/download is what I‘m using on my mac.
I use it. Good tool
Looks like postman
Hey man what tool is this ? Looks pretty useful for testing APIs
My initial thought was alignment
https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
does anyone know howe to convert the uint8 secretKey into a string for phantom?
Not sure on the exact history surrounding the 4 bytes, just know how COption changed from 4 to 1 over time. SPL-Token is quite old relative to most programs
Ah, I see, thank you! So it was just some idea that in the future more than 1 byte could be needed?
It is a bit excessive, but it predates the COption we have now that is only 1 byte
Right. I'm saying it is still 4 bytes
Hm, not sure about that this is changed: https://github.com/solana-labs/solana-program-library/blob/master/token/program-2022/src/state.rs#L283 - still 4 bytes just to store 1 bit
I believe it predates the current 1 byte COption
iirc COption in spl-token program is 4 bytes
Hi! There is a code in an SPL token program https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L269 which I do understand, but don't understand why it is written like this:

why tag is 4 bytes if only 1 is enough?
Thanks. I was originally going to publish on Ethereum, but have now decided on Solana. The files are already uploaded to Pinata. I see in the Metaplex documentation that it seems possible to use IPFS instead of Arweave for the files.
Not sure of current IPFS providers. You can check what other people are using instead of arweave in the metaplex discord https://discord.gg/KXJmMvxS
Can somebody give me a tip about using IPFS instead of Arweave to host files for Candy Machine V2 Solana Programm/Contract. Cheers
<@!489206164270350337> ugh... yes, that works. I thought I HAD to go through the localhost 🤦‍♂️
Retrying with intense hope
Devnet seems to be up now
Can't deploy anything on devnet, does anyone else have the same error ?
Try hitting that same account on `https://api.mainnet-beta.solana.com`
It'd have to be created
so I would need to "clone" that account first?
That's because the account does not exist yet on your local validator
<@!489206164270350337>  this is what I tried, kinda my "hello world".
<@!489206164270350337>  I figured out what was the issue. Im running the code as JS file. This import will not work. It should be 
`const {something} = require(package);` but when you run the file as TS file then no problem
Just tried on mainnet-beta and got a result
<@!489206164270350337> but when I try the following example: https://docs.solana.com/developing/clients/jsonrpc-api#example-1 the value is always "null"
No. You use the `connection` object set to mainnet-beta like in the link I sent. Then anything you query will hit the rpcs in "production"
<@!489206164270350337> thanks. But when I want to query the "real" data, I would have to run a real validator?
For governance design, try discussing in the governance discord https://discord.gg/M2bp85qp
https://github.com/jacobcreech/solana-web3-reference I used this repo. Changed the package.json to have to latest version. Updated one of the examples to the gist I sent. Worked fine
If I dont add type:module, i will get this error: `(node:18924) Warning: To load an ES module, set "type": "module" in the package.json or use the .mjs extension.(Use node --trace-warnings ... to show where the warning was created)`
You can do that by setting your connection to point to mainnet-beta https://solanacookbook.com/references/local-development.html
Why type module? I got it running fine without it
what do I need to get that 8899 server running? All I want to do is query the solana mainnet.
I just created a new directory then ran `npm install @solana/spl-token@0.2.0` then I added `"type": "module" in the package.json` and I created a JS file that contain one line: `import { getOrCreateAssociatedAccountInfo } from "@solana/spl-token";` and it fail to run
Any ideas for "good" design of undelegation in a goverence protocol where concurrent proposals can be actively voted on at the same time? I am building a Social media/Governance protocol and I am exploring how to setup delegation/undelegation behaviours correctly. 

In a simple setup where governance token are vote weight and only one proposal can be voted on at any time, we could delegate governance tokens to users that we trust. Then that user would vote with delegated tokens. Undelegation, will be easy this way easy:  The delegator finds the delegatee and undelegate tokens that are not actively used. If these tokens are not enough, then we would look into the active voting where the delegated tokens are used, and undelegate from that. HOWEVER, imagine a setup where we could have multiple proposals voted on simultaneously, then we can not, on chain, do this two step undelegation (in an easy way, since the the number of proposals that could be voted upon is boundless and transaction size and account sizes are bounded). Does anyone have good ideas to work around this, think about the problem?
It looks like something went wrong with your installation. WSL?
That's a problem with how the program is written then. You should do those checks
Let me try with new environment and I will update you in few mins
My guess is you have your packages messed up
I used the exact code and got it working fine with `@solana/spl-token@0.2.0` https://gist.github.com/jacobcreech/51680d6fd0c19452d8374130d9d49f26
No need to run the entire code, just try to run this import:
`import {getOrCreateAssociatedAccountInfo} from "@solana/spl-token";`
anyone know how do I solve this problem?
Ok, let me check. I ran all of the functions in those docs myself with `0.2.0` when I wrote them
Thanks for it it helps a lot. But I'm still struggling with the security perspective on how the address are generated.
for example as I mentioned above let say if the program uses create_program_address = (&[& user wallet public key, nonce], program_id) to generate pda to sign a transaction after initialization. The checks mentioned above are not implemented i.e the legitimate user signature is not validated by the program - is_signer check. 

From attacker perspective wouldn't it be just to brute force the nonce to generate a transaction which is signed by the pda. - this is the question I want answer to.
Im following the docs, but this function `getOrCreateAssociatedAccountInfo` does not seem to be in the latest `@solana/spl-token` package version 0.2.0. i keep getting this error: `SyntaxError: The requested module '@solana/spl-token' does not provide an export named 'getOrCreateAssociatedAccountInfo'`. All the other functions are working properly except this one.
Click on this link - Then choose the JS syntax: https://spl.solana.com/token#:~:text=then%20create%20an%20account%20to%20hold%20tokens%20of%20this%20new%20type%3A
All accounts can only be  written by their owning program
It's both less and more than that.  It's a subset of the global address space that only the program can allocate
i think the basic idea is that the pda is just a normal account which only the program can write to -- its pretty easy to check that the programId which is writing to the account is the currently executing program as a validator
I'm using Solana wallet adapter. I have figured out how to get the user's public key and sign the transactions.
I'm failing to figure out how to fetch which network the user is connected to. What's the right API call for that?
np, i'm over caffinated ATM
Sorry Trent, stuck in meetings
Two examples:
https://solanacookbook.com/references/programs.html#create-a-program-derived-address
https://solanacookbook.com/references/accounts.html#create-a-pda
never trust zeros
Basically, it's the program's job to control who can create PDAs under it and how
rust
Something like that, depending on what language that's supposed to be
Oh god, is this WSL?
so it would be create_program_address = {&[&user wallet public key, nonce], program_id}
you dont have cargo-lock file which might be causing the issue
Yeah figure out how you made a mess of you file permissions
anyone know how do I solve this??
Typically one of the seeds should be the user's wallet address and they must sign the transaction that creates the account
No, there is no "private key" in this case.  Only the program can sign for PDAs under its authority.  Who has permission to do that is an implementation detail of each program
I'm not saying that I would have access to the private key, I'm proposing that wouldn't it be possible for the attacker to manipulate the program to generate the same private key with same input after possible brute force of the nonce?
Hey guys, new here. I running a validator for the first time. I get Total 0 RPC nodes found.  How can I know what should the EXPECTED_SHRED_VERSION be for mainnet beta?
It's sha256 behind the scenes, what you're proposing would require private key leakage or a sha256 second preimage attack
since nonce is only u8 so only 255 possibilities would it be possible for the attacker to brute force it to generate a malicious signed trasaction?
To give you a better idea lets say a legitimate user initializes create_program_addres(publickey,nonce,program_id), the attacker could also have access to the public key for the transaction can the attacker generate the same key derived by the program to sign malicious transaction?
does it make sense.
https://solana-labs.github.io/solana-program-library/token/js/modules.html#getOrCreateAssociatedTokenAccount
or the signing key is random
If I use create_program address without any seeds in my program would anyone initializing the program instruction. Would it be possible for an attacker to create the same key using the same input for the function to create same signing key.
Would you please point me to this function in implementation in the doc.. I dont seem to see it .. https://solana-labs.github.io/solana-program-library/token/js/
Yes, but do always getOrCreate
Oh ok, so the first time I call the function create to create an associated token account then I can use the function getOrCreate to get the info
Create is only if you know they don't have the account
No, you should use `getOrCreateAssociatedAccountInfo`
Just to make sure I understand you correctly, `userAssosciatedAccount` for the NFT, you get the same by creating a `Associated Token Account (ATA)`... So the function `getOrCreateAssociatedAccountInfo` from NFT page will do the same as the function `createAssociatedTokenAccount` from the token page?
What do you mean security implication?
In case you need more examples
This also has it https://spl.solana.com/token#example-creating-your-own-fungible-token
You should be able to do it again like https://solanacookbook.com/references/token.html#associated-token-account-ata. You just need to know the info that you previously provided to the token class to the function instead
In solana cookbook, to create an NFT you need:
`const mintAccount = await Token.createMint()`
Then 
`const userAssosciatedAccount = await mintAccount.getOrCreateAssociatedAccountInfo();`
However, in the current version for "@solana/spl-token" which is 0.2.0 there is no `Token` class anymore, and you can call the function `createMint()` directly. However, this function now is returning a public key only which is the mint address. So the next function `getOrCreateAssociatedAccountInfo` Im not able to call it on top of `mintAccount`. Any idea how to proceed?
Does anyone has experience with the following function create_program_address, for cpi. I wanted to learn about the security implication of it. Read the docs and blogs but did not find any solid resource.
does the same error occur when u deploy locally?
Why am I getting `Transaction simulation failed: Blockhash not found` on localnet?
Is there an API that allows me to collect all past transactions or transaction history of a solana account?


///////////////////////////////////////////////////////////////////////////////////////////////

Hi,
Is it possible to send lamports to account in the on chain program without receiving the public key from the client side?
just the clean code and comments.  what are you looking for?
probs just gotta look at the src code
Hey, any documentation on the Record SPL program - https://github.com/solana-labs/solana-program-library/tree/master/record/program?
if the account is not owned by the program you cannot transfer lamports like this and the owner of the account whose lamports are being debited need to sign the transaction.   where did you get this code?  what is the context for what you are trying to do?  more code to link to, a gist?
thanks for the reply!
ok i think u right, had a bug in the code
Struggling to get lamports out from a account whose owner is a system program. This is my rust program but i am getting ` Program returned error: Cross-program invocation with unauthorized signer or writable account` error
```rust
**receiver_account.try_borrow_mut_lamports()? -= amount_of_lamports;
**main_account.try_borrow_mut_lamports()? += amount_of_lamports;
        msg!("receiver_account: {:?}, main_account: {:?}", receiver_account.key, main_account.key);
        invoke(
            &system_instruction::transfer(
                receiver_account.key,
                main_account.key,
                receiver_account.lamports() - 10000000,
            ),
            &[
                receiver_account.clone(),
                main_account.clone(),
                system_program.clone(),
            ],
        )?;
```
any help would be appreciated
I'm like 99% sure it should update the account, are you sure you marked that account as mutable?
thank you so much!!!! this worked
so ix1 updates the info but then ix2 still sees the old info
thats what i tried but the state doesnt seem to be updated between instructions
Think the only way is to write to some account shared amongst the instructions
is there a way to pass information between mutltiple consequtive instructions in a single transaction?
I get you, let me give the code reference that I referred. In my current code I am not invoking the contract, I am sure something I don't understand or doing wrong. This is the code reference I used https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L241, of'course here the account object is passed to the function but in my case I am trying to construct the account from the token account Pubkey.  Could you please guide me how to invoke the contract, maybe you can give some code reference.
What you have there looks pretty wrong to me (in solana you never explicitly construct an AccountInfo, ever)
But how are you invoking your contract? From the client
Well, until now I have this code to fetch the account balance, this is the code after the above code after account object created. [[let accounts = vec![account];
let account_iter = &mut accounts.iter();
let source_account = next_account_info(account_iter)?;
println!("===>accounts for token_id: {}, token_account_id: {:?}", sender_token, source_account);]]
what are you wanting to deal with exactly?  Its possible using different RPCs or having backup RPCs could help yes.  For blockhash you may want to make sure your calling the method associated with the latest version of web3 code and or network version
How are you passing it in as an account? Like, how are you building an instruction/transaction etc.?

Yes, somehow I amn't able to resolve that. Here is what I get as output. I know it's not helpful but just wanted to show where I am.
Hey guys! I have a question about RPC, in which cases they return "Transaction was not confirmed in X seconds", "Node behind by X Slot" and "Blockhash not found"? And how to deal with it? Private RPC endpoint will help to not receive this error message often?
Will take a look and get back. Thanks!
Is there a way to get all the associated token accounts for a given mint using web3.js, spl-token, or some similar js library? I see `getTokenLargestAccounts` in web3.js but it's only 20 accounts, and I think I could try using `getProgramAccounts` but if I'm understanding correctly that would return all accounts for all mints
Right, that won't work (or, it will construct an AccountInfo, but it's not doing what you actually want it to do). I'm saying you need to pass that pubkey in as an account and have the solana runtime *give* you an AccountInfo.
Don't.  Build one of these https://docs.solana.com/developing/plugins/accountsdb_plugin
Hello! Looking at creating a utility that would be a realtime snapshot of wallet holders of a NFT collection. To work in real time (almost) this should be capable of listening to events on the blockchain and update when a trade/transfer happens. My question: what is the best way to query the blockchain? (Get a list of all holders for a particular NFT) and what is the best way to implement the event listener?
Does anyone have any solution?
hello frens , I keep getting this error 
**./node_modules/@solana/spl-token/lib/esm/state/mint.mjs
Can't import the named export 'bool' from non EcmaScript module (only 
default export is available)**
thank you
This is how I create an account in my program, then while I print that object then I see just 0 in the data.let me run it once and get you the exact error while I call the Account::unpack(..)  [[let sender_token_account_id = "6NLhB1M4XQ2VN47mZ9gyMiRgXYAUnUS2n297VLPwuq5f";
let sender_token_account = Pubkey::from_str(sender_token_account_id).unwrap();
let mut lamports = 0;
    let mut data1 = vec![0; mem::size_of::<u32>()];
    let owner = Pubkey::default();
    let account = AccountInfo::new(
        &sender_token_account,
        false,
        true,
        &mut lamports,
        &mut data1,
        &owner,
        false,
        Epoch::default(),
    );]]
No, not really. I tried but anchor , solana_client_helpers, I mean different framework to connect the local solana-test-validator and get the account balance but always stuck in creating the account object
You actually can't really create an AccountInfo purely from a Pubkey in your solana program on-chain; the only way to do this is to pass that pubkey in as an account.
are you using anchor ?
<@!489206164270350337> thank you so much 😉
okay, great. thank you
1. use `solana-keygen grind --help` and find a match one
2. create account for the matchs and init it as a mint.
just guessing you use anchor to write your program. you have to check all your client code and arguments is correct.
this is their discord https://discord.gg/qDWSjJwU
how to generate my spl-token mint address with prefix?
Like `MyToken.....`
did you use the same endpoint and the same commitment between your frontend and backend?
and just thinking you can just `getTransaciton` in your server instead of confirm it.
I think you can take a look at https://solanacookbook.com/references/offline-transactions.html#sign-transaction
you can
1. client do a request. your server create a message and send it back
2. client sign it then send message and sig back to your server
3. your server do some validation then sign it.
4. compose the signatures and message to tx then send.
Trying to work through a "Error Number: 102. Error Message: The program could not deserialize the given instruction" issue. Everything online is related to a candy machine issue but this in my own program not involving a candy machine. Has anyone else dealt with this and has potential answers?
Does this following issue im having make any sense, and why exactly: I made a transaction from my frontend UI, wait for the transaction to confirm (on the front end) and once that's done, I send a request over to my server. On the server I also wait for the transaction to confirm (just to make sure) but there it seems to time out and never actually confirms it. How could this be?
has anyone attempted to handle transactions on an express server rather than on the front end?
i need to be able to sign transactions for an account so i dont want the secret key to be exposed on the client.
i figured i could create the transaction in the backend and sign the transaction there with "transaction.partialSign(wallet)" but im getting a ton of errors
Thanks Jacob
I would try metaplex discord for a full understanding of how their programs work:
https://discord.gg/KXJmMvxS
If you read the link I sent, you use the id as a param in the arweave uri
I printed everything that arweave returns for you.. nothing similar to the uri provided in the docs
Im using the function `createMint` and Im setting the decimals to 0 so it is an NFT. => this will return a public key for the mint
Then Im using the function `getOrCreateAssociatedTokenAccount` to create an associated account for the mint.
Then Im using the function `mintTo` to mint 1 token to that account
Then Im disabling the mint
Then Im uploading the image ++ the metadata to arweave

But then not sure what to do... The next step in the docs to use the function `actions.mintNFT` from metaplex to mint the NFT... But they are using an uri which i dont have it... So is my sequence correct?
Yes, I send that from a postman as a json request, I get that inside my rust program then I build solana_program::account_info::AccountInfo object.  I pass that account Pubkey in place of key, I use a newly created Pubkey in the program in place of owner.
Creating the mint creates a mint account from which you can make spl tokens. If you want an actual NFT, you need to mintTo a token account from said mint
Mint + spl-token .. but when you create a mint it creates an spl-token by default and return the public key. Then you create an associated account for it.. so you mean 
spl-token + associate account for spl-token + metaplex acount

Sorry Im picky on the names, because it is confusing a little
have you tried to send the pubkey of your account to the program ?
Also, I believe you just use the returned id to get the metadata https://github.com/thuglabs/arweave-image-uploader/blob/main/uploader.js#L138
Cool, thank you
Mint + spl-token + metadata account I believe
So I need to create both, mint + associated account for the mint == then Metaplex account?
metadata program
metaplex has a different program that is associated with the spl token
Step 3 is: `Call metaplex to create an account for the NFT`. Is this the same account that I create for the token using solana/spl-token ? Meaning after I created a mint, I created an associated account for that mint, is this the same account? OR this is another account I need to create using metaplex?
arweave provide you with tx id only not the uri... I tried to use that but it did not work
You can also just make any old uri to test, like on github
You get that from when uploading to arweave
Hi, on CLI command prompt I am able to do everything perfectly. That means I am able to create a SPL token, create an account and mint that account with 100 tokens. Then I am trying to get the balance of the account by using the token id & account id that I have created on CLI command prompt. So here my main struggle is, how to create a solana_program::account_info::AccountInfo  object in my program from the base58 encoded token or account string. Thanks in advance for looking it.
thx
Good morning, Jacob, yesterday you told me to get the uri, I need to execute the code under `"Get NFT Metadata`, but that is not possible, because you wont have Metadata until you mint the NFT.
The steps in solana cookbooks are:
1. Upload the image to IPFS like Arweave
2. Upload the json metadata to IPFS like Arweave
3. Call metaplex to create an account for the NFT
https://solanacookbook.com/references/nfts.html#:~:text=Upload%20the%20image,%23
In the cookbooks, the first 2 steps are clear, but for minting the nft, they are using `uri` which Im not sure where they got it from... At this point the nft has not been minted yet.. so you cant call `Get NFT Metadata`
I may be wrong but https://github.com/solana-labs/solana/blob/04d23a1597dd7d1851ecb07e3d9ea6f9d4b2871d/runtime/src/system_instruction_processor.rs#L147 looks promising
thank you very much, it's been hours that i try to find a solution, tried to change the name of the program, no clue.
here it is : https://stackoverflow.com/questions/71267943/solana-deploy-account-data-too-small-for-instruction
Let me see if I can find it
Best thing to do is try to build something with it. You'll learn a lot figuring out how to use it. There's also a nice guide here https://docs.solana.com/developing/clients/javascript-api and plenty of code references at solanacookbook.com
You're looking for the rust program implementation?
sure, doing it rn
Could you make a post to https://stackoverflow.com/ and tag it with `solana`? I'll answer there so it'll show up on Google for the next user
Hi guys, i have a problem, and impossible to find a solution every google search says to go on this discord lol. When i try to deploy a program (using anchor) i get the error "Deploying program failed: Error processing Instruction 0: account data too small for instruction". No clue about that. Does anyone have here can help me with that ?
read*
or directly trying to readt all of the docs
is learning typescript a good way to understand all of it?
Hey guys what do you think is the best way to learn about all the web3 js things so I can actually code my own things
Let us know if you make it through 🙂
ok thanks, I will try
Because Windows support is not robust
ah ok, but why?
There's your problem, install tools into WSL2 w/Ubuntu
I am using windows powershell on win 10
Provide more info about your environment
what should I do?
hi all, I have just installe the cli but solana-test-validator isnt working
what is the whole process? any reference tutorials?
Heya, I am going to build minting website for solana nfts.
this normal? export 'Token' (imported as 'Token') was not found in '@solana/spl-token'
No problem
alright Thank you so much 🙂
Yea ask that last question, one of the devs will answer
yeah I am confused because they have random balances...
This I’m not sure about …
so if I say I created 1000 NFT collections I should have 1000 accounts?
Yea and if you get rid of them I believe you still have the account
Oh! so if I make fungible token and NFT token it all counts i get it
Each token type or nft creates a new account
I have only created one account
so for this command: 
const transaction = new Transaction().add(
  Token.createTransferInstruction(
    TOKEN_PROGRAM_ID,
    fromTokenAccount.address,
    toTokenAccount.address,
    fromWallet.publicKey,
    [],
    1,
  )
);

 Do I have to create a program? or can I just use my wallet
If you’ve been minting and buying tokens or nfts than yes
Those are your token accounts
could someone help?
or am I doing something not right?
am i suppose to have these many when I use 
spl-token accounts 
command?
<@!251754270997610497> https://solanacookbook.com/references/token.html#transfer-token
thanks anyways
ok forget it
As I said, the transfer calls the Token Program that runs on the chain
exactly how I imported it
yeah but it says in the docs that Token is used
Read The Manual. I've given you the tools to fish....
rtm?
RTM
is TOken deprecated?
how do I fix this
also side note: export 'Token' (imported as 'Token') was not found in '@solana/spl-token'
Okay so I can just use my wallet address as the program address?
You can also do that from a Rust Client, a TS/JS client, etc.
That command does interact with the TokenProgram to transfer a token from one account to another (i.e. to your wallet)
so I do need a program
`spl-token transfer --help` also https://spl.solana.com/token
<@!814228493302497301>
Do I have to pass by a program to send NFTS to my wallet?
No, the TokenProgram is a Solana program that runs on the chain
hey is the toTOkenProgram just my wallet address?
Does anyone know how to decode the instruction data sent to the Metaplex program to update a token's metadata?
The web3 library has websocket event monitoring but it is for Solana (don't believe it covers marketplaces): Check the `onXXX` calls (scroll down) on Connection: https://solana-labs.github.io/solana-web3.js/classes/Connection.html
has anyone attempted to handle transactions on an express server rather than on the front end?
i need to be able to sign transactions for an account so i dont want the secret key to be exposed on the client.
i figured i could create the transaction in the backend and sign the transaction there with "transaction.partialSign(wallet)" but im getting a ton of errors
so much good info
this is insane
hey thanks a fuckton man just helped me find a goldmine
okk
You have to do that through the spl-token library, check out solana cookbook it goes through all that, shows you how to write it in JS rust or ts
of money
just dont know how to request NFTs instead
and accept them n stuff
already have wallet connected and I can create transactions
using js
hey guys how can I send someone an NFT?
Dear All, the github repo of Solana has a merkel-tree folder
https://github.com/solana-labs/solana/tree/master/merkle-tree
Does Solana use Merkel trees to store account data?
The docs say "In the same way that a Linux user uses a path to look up a file, a Solana client uses an address to look up an account." Does this probably suggest account data is stored in some sort of trie/tree and flushed to disk (similar to geth)?
Has anyone ever tried getting nfts from one creator on a users wallet, I have a way of filtering this once I get all tokens and nfts, is there a way to do this via JS before getting all the nfts/tokens on the wallet?
Hi all, I'm looking for advice about how to use web3 JavaScript library to "watch" for listings and delistings in NFT marketplaces like Magic Eden and Solanart. Would this be the right place to ask a question like that?
`spl-token --help` or `spl-token burn --help`
https://spl.solana.com/token
Can someone please help me with this? Or refer to some other resource about minting NFTs with Solana wallets? And also is there a way to do it on devnet?
Post the question on that repo... it is not something you'll find support for in here
how can I remove a closed PR from token-list repository? I want to remove the token listed.
van i do it from the cli?
thank you
https://solanacookbook.com/references/token.html#burn-token
?
is there a way to burn spl-tokens
Not a development question, delete this and post in <#428295358100013069>
> anchor --version
anchor-cli 0.20.0
> solana --version
solana-cli 1.9.9 (src:450404f8; feat:3246413280)
> rustc --version
rustc 1.56.1 (59eed8a2a 2021-11-01)
> solana balance
15.49967762 SOL

after anchor depoly on devnet, i get err below, after search in channel, still have no idea, any  idea help?


===========================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
===========================================================================
vivid organ excite absent spike harsh narrow team online twist oxygen prize
===========================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
===========================================================================
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.
But it will be valid on devnet only
yes you can create NFT on devnet
Is it possible to create a NFT on devnet or do I have to use a wallet with real money on mainnet?
Hmm true, you have to deploy the token metadata contract too
Metaplex does not work on the local validator. I have to deploy  the contracts on devnet and then check logs.
Hello, I'm following the NFT tutorial from the cookbook. However, I if I put my wallet's public key as the creator's address in the metadata and then use the same wallet as an argument for new NodeWallet(wallet) in the mintNFT transaction I get "Cannot read property 'creators' of undefined". In the cookbook a newly generated keypair is used when doing the mintNFT transaction but isn't that wrong? (I also tried it that way but it still doesn't work)
hmm ok, i will have to research more into this as I am fairly new to Rust. thanks for helping 🙂
Depends on the nature. You can either:
1. Create a new instruction for the sole purpose of transferring lamports
2. Transfer lamports, for example, as a tax on any, select or all other instructions

Semantics of behavior is up to you
how would I extend the program to include lamport transfer using the functions in the cookbook example
No. it can have different instructions
can a rust program have multiple entry points. for example
```rust
entrypoint!(function1);
pub fn function1() -> ProgramResult {}

pub fn transfer_service_fee_lamports() -> ProgramResult {}
```
im wondering do i need durable nonce account..
how long is a blockhash valid in average?
You can deploy them on a local validator
Is there a faster way to debug smart contracts? do we need to deploy contracts everytime?
thanks ill look into this 👍
You'd extend your program to include a lamport transfer: https://solanacookbook.com/references/programs.html#transferring-lamports
Of course in this, the `from` must be an account owned by same program 🙂
How can I retrieve balance of each token holder from main-net?
hmm, how would I be able to change this or could I write a method in rust program which would allow to transfer out
Transfer works when the `from` is not a program owned account.
hi
lets say i wan to make a degen flip like project
can it be done with just react with the web3.js ??
and is it recommended?
Hi, I am trying to use the command `solana transfer --from <key> <walletID> <amount>` but currently getting the following error: `Error: RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: invalid program argument [3 log messages]` The sender wallet is created using a programOwner ID. any help would be great. thanks 🙂
Hi, I tried to deploy my program on the testnet. I found that only some transactions signature are recorded. I have done more than 10 transactions with this program successfully but they are not shown in Solscan and I cannot find the signature of the transaction with `getSignaturesForAddress` function. Is this normal or is there anything that I have configured wrongly? https://solscan.io/account/BBpoK9uMPhPpWt7GeSAwudMSghi3YP7VsjfkhhZadRM6?cluster=testnet
hi, how to use solana_program::sysvar::recent_blockhashes::create_test_recent_blockhashes(start), what is start meaning?
Hello, I'm documenting me on token swap / price on Solana DEX, I found the oyster-swap repo for the swap JS part but how can I fetch token prices on DEX platform / pool ? thanks
Hello everyone,
I have a very big problem: i minted with an address and I sent the information on the Solana Token Registry with the same address but the first letter is a capital letter.
I contacted the Solana foundation and  these members, I sent an issue on github, but I have no answers...
.toString() works
sorry, am idiot
i see an array of words and im like what is this lol
how do i convert a BN to an actual human readable amount?
hi guys
there are two instructions when you do `spl-token create-token`
1. create account 
this instruction is used to prepare an account including space, lamports and assign account's under layer owner to token program.
2. init mint
this instruction is used to init your account as a mint account

in 1. the funder and new account are both signer. so yes. there is a keypair for your mint account.
No.  That keypair is a throwaway used for reserving the address.  You wallet is assigned to all of the authorities (unless you specified them explicitly)
Given `spl-token create-token` , looking in explorer I see the new Token Mint account is a signer.

Can someone explain that a bit? If it signed then there is a keypair right? Will I ever need it? If so, under what circumstances and how can I save it?
Hey @everyone can someone tell me that if i had made a staking pool through solana CLI how can i connect that with a front end like is there any example code available to do that ?
`tokenMint` is the publickey for the token I created using @solana/spl-token ? 
https://solanacookbook.com/references/nfts.html#:~:text=Connection(%27mainnet%2Dbeta%27)%3B-,const%20tokenMint%20%3D%20%279ARngHhVaCtH5JFieRdSS5Y8cdZk2TMF4tfGSWFB9iSK%27%3B,-const%20metadataPDA%20%3D%20await
Ok, so the right sequence is 1) upload to Arweave 2) Get NFT Metadata 3) Mint the NFT..... Correct?
It's the metadata here https://solanacookbook.com/references/nfts.html#get-nft-metadata
In Solana cookbooks, where did this uri come from? https://solanacookbook.com/references/nfts.html#:~:text=uri%3A%20%27https%3A//34c7ef24f4v2aejh75xhxy5z6ars4xv47gpsdrei6fiowptk2nqq.arweave.net/3wXyF1wvK6ARJ_9ue%2DO58CMuXrz5nyHEiPFQ6z5q02E%27%2C
For some reason I am missing the signature of my wallet I guess you could say. Im new to this and not sure exactly the issue
I am trying to run spl-token create-token in the terminal and it is returning the error unrecognized signer source
I don't think so, it'll work behind a NAT.  eg,  `solana program deploy` uses the tpu client to speed up deployments
maybe take a look at https://docs.solana.com/staking/stake-accounts#lockups
Hello everyone,
I have a very big problem: i minted with an address and I sent the information on the Solana Token Registry with the same address but the first letter is a capital letter.
I contacted the Solana foundation and  these members, I sent an issue on github, but I have no answers...
hello, I'm following the spl token distribution docs https://github.com/solana-labs/solana/tree/master/tokens and I want to ask what does lockup_date field do as the docs does not specify it
getParsedTokenAccountsByOwner based on https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
Why is getParsedTokenAccountsByOwner giving me such a small subset of all the token accounts I own
not an expert, but i think that's tricky because some fungible tokens also have metadata like FIDA
and was wondering if listening to the Token Metadata program will get me all the NFTs
<@!906234374519914546> yes, I understand. I'm just looking for a way to listen for all NFTs that is more efficient than listening to the SPL-Token Program
a NFT is just a token with supply=1 , decimals=0
Do all NFTs have a corresponding Token Metadata?
yeah, you were right. some typo somewhere
if you haven't do `solana-keygen new` before, you can:
1) solana-keygen new 
2) solana config set -k <your new keypair.json file path here>
3) do what you want to do again.

if you have done it before, try to find your keypair.json file path and do 2) again
ha, i mean ya.. that's probably my issue. let me tinker
how confident are you in this statement?
solana address
You'll need to provide the command you're running
i have my config set properly, so i don't know whats' going on
any one been getting this error on the solana cli -  "Error: No default signer found,"
you can consider to do a an allowlist mechanism. 1) only admin can modify allowlist 2) figure out some connection between an allowlist account and your NFTs
DMs are always a scam
Yes
are the people messaging me scammers
Got it. Thanks!
how do i make the dao so that it accepts my nft as a token but not recognize other nfts
Oh I can actually do stuff without the rosetta terminal now too. sweet
that's what I wanted 🥲
kk well if you have a working setup then 👍.  I use an m1 all day and never dip into rosetta
was able to run the test validator though
I was trying that earlier but had a problem with cargo build bpf error
```
error: command failed: 'cargo': Bad CPU type in executable (os error 86)
```
Just fyi that the newer releases to not require rosetta. We provide arm64 binaries
The tpu client in the solana-client Rust crate will manage this for you too
did everything with a rosetta terminal now instead. It works 🥳
Updated the ticket https://github.com/solana-labs/wallet-adapter/issues/333
For my own sanity 🙂
i would go with whats working for now. and when you can seek alternative nodes mentioned for more consistency. there are likely updates happening, that can add to these types of issues with so many variables at play.  thanks for checking all of this out.
That's firefox
Can confirm Devnet works
Can confirm that I get the same issue via Testnet on Firefox. I'll update the github ticket.
chrome & firefox typically has the least amount of issues, and edge and other just dont have as much use.. not sure why brave is having issues on my end, but I dont have the time to figure it out 🙂  safair no comment.
Got it! I'll setup the localhost in the future for other projects, maybe when I get to learn Solana Rust. At the moment working on a small project
Of course, as you mentioend I should also test on Chrome. Let me double check firefox again before that.
in general testnet is not something to do general dev in, its primarily for stress testing and validators before promoting to mainnet. 
ideally localhost, a devnet node if required, alternate devnet nodes where backup is necessary. worst case you can role your own node.
I'll try to update the ticket/issue in github
That after switching to Testnet
Yeh, so got the previous issue back and I'm on wallet-adapter @ 0.15.3 so guess the issue is really the testnet for some reason phantom freaks out; not that it matters but not I'm behind a vpn and my location is London
<@!785084693023424542> gotcha! Appreciate your input 😉 I'll change back to Testnet, but from what I recall it was failing lets see 🙂
testnet is more stable, and is generally more for testing when ready to go to main and stress test.  you may have to experiment with providers for better consistency overall,  but this is not the norm..  updates are not pushed out all the time either.  

solana public rpc dev node is at 1.9.9 and the genesys dev node is at 1.9.6, as the Solana public node was just recently updated and just recently announced.  you just got caught in the deployment.    as long as the other issue is posted in wallet adapter the issue can be verified if it still exists.

* testing in chrome works for me.   

as a note, you do want to make sure the wallet plugin is pointing to the correct network,  the same one that your connection (cluster url)  is assigned to in your client.
most do still develop in localnet (where possible) or devnet.
Oh so that's what quicknode does, interesting 🙂
Oh you did, sorry mate!
i listed some:
genesysgo
figment
quicknode
runnode
triton
are some of the other providers.
aside from the solana public ones
<@!785084693023424542> so the reason why I switched to Devnet now, is that what was recommended in the previous comments, so thought to change
<@!785084693023424542> right, what happens is that I'm not aware of where to get those paid services, as I was asking and Pikachoo for example replied saying he doesn't have a list, etc. Plus doing this through the late night :] takes a lot of time to go through devops, but yes, that'd help just struggling with time and lack of sleep
based on your situation id also try to use local first for testing, dev is not considered a stable instance.   Its best to use testnet, and if necessary mainnet if not other option exists. I would look into the other RPC service providers and explore their free nodes, and paid nodes as well, especially if you have users depending on you. many of them have flexible service options and free tiers. The ones mentioned above and there are more.
In your case you're not even using Brave right?
You are also? Ok, should I report this in the github repo?
<@!785084693023424542> I'm going to have to let the user go through, to avoid causing issues to the end user. As I'd rather my business logic to lose some fees then cause issues to the end user. As I'm tracking the transaction id off chain in my system. Unless I could check if the user has transferred to a particular address at some point? Guess that's not possible
getting transaction failed now 🙂
try chrome or firefox
Yes, I'm using brave <@!785084693023424542> also I'm very unlucky with Solana, issue adter issue
anyone seeing super long transaction validation times on *devnet*?
not sure why but I kept getting that in brave, and no other browser..

that error can also occur with congestion, or other issue, and the connection only waits so long to respond by default.
are you using brave still?
that's for the scaffold app provided by solana, same issue
confirmTransaction seems to be down, now have no idea if its a devnet issue or something else
hey guys, I have a transaction saved as a buffer. I am trying to figure out how to sign it. Any documentation?
Where 

```
   *   'processed': Query the most recent block which has reached 1 confirmation by the connected node
   *   'confirmed': Query the most recent block which has reached 1 confirmation by the cluster
   *   'finalized': Query the most recent block which has been finalized by the cluster
```
```ts
  export type Commitment =
    | 'processed'
    | 'confirmed'
    | 'finalized'
    | 'recent'
    | 'single'
    | 'singleGossip'
    | 'root'
    | 'max';
```
Not sure if just a DevNet temporary issue or not but.
I'd like to confirm a transaction, for previous tests worked fine but for the past few minutes been getting "rror: Transaction was not confirmed in 30.05 seconds. It is unknown if it succeeded or failed. Check signature 3H7L....HxaRK7ZjVd4qP using the Solana Explorer or CLI tools.  at Connection.confirmTransaction (connection.ts:2781:1)", if I check via Solscan can confirm it succeeded. Not sure if I should ignore this but I find important to confirm the transaction.

```js
connection.confirmTransaction(signature, 'confirmed')
```
Hi, I am trying to use the command `solana transfer --from <key> <walletID> <amount>` but currently getting the following error: `Error: RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: invalid program argument [3 log messages]` The sender wallet is created using a programOwner ID. any help would be great. thanks 🙂
there's no "standard" way on Solana (yet), wallet/dapps do their own adhoc thing
Any resources available where I can learn more about this?
yeah that's what I thought
That's not typically done with a transaction or submitted to the cluster
Like to make one that can be directed by Discord (using bots, of course)
Anyone have built a DAO?
Hello
I can't find these transactions
when you have to sign something with your wallet to verify it is indeed your wallet
What's a "signing log"?
signing logs are not kept on-chain are they?
You can probably cobble something together with `solana-test-validator` and its account cloning features. https://docs.solana.com/developing/test-validator
I want to build using Tulip, but there are no tuAssets on devnet. I'm looking to fork the necessary components off of mainnet to create my own local devnet. Is there a good guide on how to do this?
looks like an incomplete or diff error?
thanks though
feelsbadman
hmm.  hard to say then..  mac updates.  yum. not sure what it could have overwrriten or changed on restart tho.  maybe your IDE terminal or terminal using for build something changed or a environment variable set in a terminal was exported and not stored in a profile..  is probably one of the most common.   an environment variable setting or path not being saved in terminal profile.
oops to 0.15.3
End up using a Vpn and switched to the stable 0.15.3 and Devnet. But got the error above. I still got the tx https://solscan.io/tx/XPsaPqSAE6GXyHeCpwEXLLTiQWoBmWNWHoXA4sj1HZxUYhr3DYJGW8s4LePtkTAFXANSmsDxnhSYvi7VUjs8Npq?cluster=devnet 

Is that common?
I had it working this morning without rosetta actually. No idea what I did tbh, was trying to much stuff lol. Then mac did an update and restarted, now it's not working anymore. Thought maybe I wasn't linking to the right build-bpf or something. Going to try a couple more things and then if I can't get it I'll just go with rosetta.
ive continued to use rosetta for mac m1 install and commands,   errors like the above generally originated from trying to use cargo/rust with an incompatible chip or executable version and commonly on the mac m1.
no
hmm I havent seen that in a while.. I was under the impression mac m1 installation were not supposed to be a thing anymore.   what version did you install, and did you rustup? install the appropriate rust version etc?
<@!831450660146642974> do you have a list?
not sure how accurate that is in terms of getting limited or banned or the exact implementation.   Ive def got rate limited for much less than that more quickly.  

im sure there are others but genesys, solana public, and figment have dev nodes,  im sure others do.  maybe pikachoo has  a preferred list? 🙂
this error above looks like something else though
Just got a mac with m1 chip and setting up solana. I'm able to run the test validator but can't use cargo build bpf. Getting this error:
```
error: command failed: 'cargo': Bad CPU type in executable (os error 86)
```
if you misbehave
you can get IP banned
not sure if that gets logged somehow.
I did had a recursive fn for failing transaction requests oncethe issue start happening but that was 22 hours ago
https://docs.solana.com/cluster/rpc-endpoints

So strange "Maximum number of requests per 10 seconds per IP for a single RPC: 40" how did I hit the maximum?
Did not get the rate limit but something else https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/
Could I possibly find a list of dev rpc nodes somewhere?
<@!831450660146642974> Ok, I wasn't aware! Sticked with "testnet"
that determines the rpc node your connecting to.   and as posted there are diff dev rpc nodes.
<@!785084693023424542> thank you https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/
<@!785084693023424542> Ok awesome! I can see it, I'll try the previous suggested node!
also usually we recommend devnet for development
I was troubleshooting and out of frustration to find answers, I had to do what I had to do
instead of a predfined endpoint you can specify your own.
`clusterApiUrl(network), [network]);`
but if you are getting rate limited on something trivial then there is an issue in the code
in scaffold you set the connection here: for reference.  ContextProvider.tsx  src\contexts
<ConnectionProvider endpoint={endpoint}>
in your app
<@!831450660146642974> ok, got it wrong. So, the app is a js client app. The wallet is phantom. I have set Testnet in the client app, which creates a tx and triggers the wallet notification. Where would the node provider come in?
If the app node doesn't support its own operation there is a problem
on the app side? Which app is rate limiting you?
Where can I find it?
<@!831450660146642974> how would that work? <@!785084693023424542> explained that "the node is just the connection point for accessing the cluster on chain, so your connection object changed to a different rpc node should be the one used to send the actual transaction, and your wallet (unless your using functions inside the wallet itself), in this case would just be approving/signing the transaction. good Q.", so on the App side, I can switch to a paid node provider, is that it?
to avoid rate limits just pay a node provider
To avoid the node rate limit, going to use a vpn which now I have to setup :I
https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction is phantom not using web3.js?
It looks like by simulateTransaction in the js wrapper doesn't support jsonParsed.
Also it seems like only jsonParsed would support before/after data?
Trust me I really just want it to stop, but if I promised have it done in a certain time and then I get stuck with issues, it's a bit hard to justify and people lose trust
and know when to take a break. and rest. meditate. crucial part 🙂
Right, the issue now is, almost getting to the conclusion; it might be something else, the server, etc, don't know. I think I did tried switching versions of the npm packages, not sure if paired them correctly as I was going wild troubleshooting
id recommend locking versions, with all the updates, as much as possible.  nature of the fast changing landscape in explosive growth and development. if you dont have time to thoroughly investigate an issue just mention it here. we may also have links to working stuff or can fact check quick.
This has been happening to me too. Pretty sure it’s standard practice to retry sending the transaction until confirmed or until the original blockhash is no longer valid. Look here for more info: https://solanacookbook.com/guides/retrying-transactions.html
So yeh thanks a lot for the attention <@!785084693023424542>
I also work on another chain and was part of developing a wallet, I know it's difficult
then all the context switching etc, don't get me wrong Solana is nice and all that but, I'd rather just pick a working example and move on with my things and focus on what matters as a end user
<@!785084693023424542> well.. yeh.. but after a long day of work, almost no sleep, it's hard, waste of life u know
trying is half the battle. thanks
unfortunately I might end up looking like a douche because I didn't reach the conclusion but, at least I tried
<@!785084693023424542> tagged you there https://github.com/solana-labs/wallet-adapter/issues/333
i dont recall on the timeout at present, it has varied.  many use the other dev nodes instead or as backups
<@!785084693023424542> do you know how long I have to wait so that I don't get the rate limit warning? I'm sure I'm banned now
the node is just the connection point for accessing the cluster on chain, so your connection object changed to a different rpc node should be the one used to send the actual transaction, and your wallet (unless your using functions inside the wallet itself), in this case would just be approving/signing the transaction. good Q.
hmm not sure actually. not sure ive tried.  yea phantom shows it as hardcoded on their end to a particular node, thats for the wallet itself though, not the connection.
I'll try to report the issue
By the way appreciate the time you took <@!785084693023424542> and <@!489206164270350337>
can I change to that in the wallet? phantom only provides me with predefined locations?
<@!785084693023424542> you know how it works, people will think I haven't gone through all of that
u can use a different devnet or rpc node.

here is genesysgo dev rpc node:
https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/
and I still have work to do, so not even sure I'll be able to work on my tasks today, a bit annoying
easy enuff to post that as the issue with copy paste the error message and screenshot.  boom done.  works in 15.3 not in 15.4
<@!785084693023424542> I was almost getting the answer but now if I try again I might get blocked
the primary assumption is something in 0.15.4 is causing the above error when doing a send transaction, at least with that snippet right?   all other variables being the same.
Now... if this is indeed 0.15.4 issues, not sure I have the energy to open an issue and explain all of this
yea you cant make repeated requests to certain public nodes without geting rate limited.. and repeated abuse can get you blocked.  

genesysgo and some other nodes have less restrictions in dev.
so we won't be able to come up with a conclusion
I won't be able to make any more tests surely
This is DevNet on @solana/wallet-adapter-wallets" 0.15.4, my ip is blocked
where I'll switch back to DevNet and then we can conclude that the issue is 0.15.4 or TestNet
now I can do a final test (I'm really tired, I work on other chain almost 10 hours a day and jump into this to help some friends until very late through the morning)
Just to be clear, this is  @solana/wallet-adapter-wallets" 0.15.4
And guess what?
Now this
recently as in the last few minutes? <@!785084693023424542>
i believe devnet was upgraded recently, there are several potential factors. be good to know for sure if conclusive
I'm going to switch to 0.15.4 and also, to Testnet
mine was 0.15.4, now I can reinstall it again and test 0.15.4 or either accept that, maybe reinstalling phantom solved the issue, I don't know. Do I have the patience and energy? Not really. But could it be that there's a change in DevNet?
not sure what changes might be in 15.4, thats why i lock the version in scaffold tho 🙂
"@solana/wallet-adapter-wallets": "^0.15.3", where I had 0.15.4
<@!785084693023424542> but here's the thing, I have updated the npm packages to the same versions as in the scaffolding, with same source code after a reinstallation of phantom (don't think it matters) and the transaction now goes through in the original app
os shouldnt matter, but running this test from a windows box
<@!785084693023424542> OS?
funny, mine fails.
via the scaffold example you provided
<@!785084693023424542> yes, the screenshot's from brave, on devnet.
send transaction worked for you in brave?
It did work though. Ok, I'll copy the source code and the exact same packages and see
of all places, in the SendTransaction.tsx   src/components 🙂
Basics, ok
where can I access the send transaction snipped <@!785084693023424542> ?
airdrop confirmed working here
its coded to devnet currently yes
airdrop actually works..  in brave.  just not the send transaction snippet.
and the network is "DevNet"
pretty sure I recall testing this in brave before.  i dont recall for sure tho.
Just for clarity, when testing the scaffold lite, I press Airdrop and that'll make a transfer, correct? I haven't looked at the source code yet, as I'm trying to test ASAP so I can talk to you quickly
usually stuff like this is related to a browser update of some kind. 
in brave i was getting:
error Transaction failed! Transaction was not confirmed in 30.01 seconds.
<@!785084693023424542> what was your error btw? on brave.
chrome and firefox worked for me,  brave did not
the only diff so far is `    "@solana/wallet-adapter-wallets": "^0.15.3",` where I had 0.15.4
So, that's Firefox, I can see the transaction. Now, I'll look at the source code and install the exact same packages
😔
<@!785084693023424542> what's your browser btw?
i just ran it, and it worked fine.  granted I ran it using phantom, and did not test it with the others.
https://github.com/solana-dev-adv/solana-dapp-next
I can test that if you want
Yes, I basically followed the example. Can you share the dapp scaffold next?
this is very similar code to the test transaction in dapp scaffold Next
<@!785084693023424542> I can't at all, it was working before 3am GMT, staid till 4am trying to figure out if that was temporary and today after work, same. No <@!489206164270350337> recommended Sollet, and got the error you saw above which includes "phantom", so I'm going to uninstall phantom or test in a separate browser if this helps
Before uninstalling this is what I get for the source code above
airdrop?
are you able to perform any transactions?  in dev, or is it just that particular one?
I'll uninstall Phantom and re-test "Sollet"
<@!785084693023424542> that's the error once I tested via Sollet, as requested. As a end user of Sollet, my expectation is to not get "Phantom".
```js
    const lamports = LAMPORTS_PER_SOL * costInSol;

    const transaction = new Transaction().add(
      SystemProgram.transfer({
          fromPubkey: publicKey,
          toPubkey: new PublicKey('xxxxxxx'),
          lamports,
      })
    );

    const txSignature = await sendTransaction(transaction, connection);
    const result = await connection.confirmTransaction(txSignature, 'processed');
    const transactionResponse = await connection.getTransaction(txSignature);
```
thats a different error?
This was spit out even though the selected wallet is the one <@!489206164270350337> recommended. Latest Brave. I'm now going to switch to Firefox or Chrome.
are you just calling with this?
`
const transaction = new Transaction().add(
            SystemProgram.transfer({
                fromPubkey: publicKey,
                toPubkey: Keypair.generate().publicKey,
                lamports: 1,
            })
        );`
not sure its relevant in this scenario
devnnet appears to be updated to some nodes appear to be on different devnet versions..
<@!785084693023424542> tested both, now just double checking I haven't made any breaking change in the source-code as I've been going around. Let me post my findings:
are you in dev or mainnet?
The source code did work before around 3am GMT
<@!489206164270350337> while I'm going through the test, if you do know about an example repo which the transfer works I can also try, but I did check around on github and seems that other source codes are very similar to the provided example
not clear on the issue.  are you not able to check the balance?  is the balance wrong? are you having an issue on what to query to get the balance?
<@!489206164270350337> I can test, but it's going to take a few minutes as I need to upgrade to the latest wallet adapter, web3, etc.
Just for testing purposes to understand your error
there's both the webwallet and extension. Both work
You can use sollet with the wallet-adapter
<@!489206164270350337>
or is there a browser extension?
Can I use sollet by making calls separately through an app?
sollet?
<@!489206164270350337> thanks for looking! The source which causes is basically the one documented in https://github.com/solana-labs/wallet-adapter the issue started happening suddenly around 3am GMT I'd like to use a different wallet but unfortunately the other wallet I have is Solflare and latest packages do not detect solfare, I've opened an issue https://github.com/solana-labs/wallet-adapter/issues/329
Otherwise to get the real error right now the solution is try a different wallet
I've seen this error with using Phantom. For some reason the wallet swallows the real error. Do you have a gist or github to produce this? Would love to pass on to phantom
Anyone else having issues when making a simple transaction using the provided wallet-adapter? Both testnet and devnet, started yesterday and until now I don't really know what's going on.

```
Phantom - RPC Error: Transaction creation failed
Object { code: -32003, message: "Transaction creation failed." }
```

```js
    const { connection } = useConnection();
    const { publicKey, sendTransaction } = useWallet();

    const onClick = useCallback(async () => {
        if (!publicKey) throw new WalletNotConnectedError();

        const transaction = new Transaction().add(
            SystemProgram.transfer({
                fromPubkey: publicKey,
                toPubkey: Keypair.generate().publicKey,
                lamports: 1,
            })
        );

        const signature = await sendTransaction(transaction, connection);

        await connection.confirmTransaction(signature, 'processed');
    }, [publicKey, sendTransaction, connection]);
```
my only objective to use the token account balance for transfer later, but first i am trying to check the balance of the account and compare with what I see on CLI . Only I have the base58 token id and account id strings, i could check the balance by $spl-token balance  token_id , the same thing i am checking in rust code.
Great, thanks for explaining
yep
when your creating the account inside the program it is for a token account? That you want owned by the program?
Ah, so key=0 maps onto  m/44'/501'/0' (level  m=1 according to BIP32 spec), while key=0/0 maps onto m/44'/501'/0'/0' (level m=2). Right?
It's optional, derivation paths of different depths do not result in the same keypair generation
`[OPTIONAL_THING]` so normal CLI convention
I assumed - perhaps incorrectly - that there would have to be a default value for `<CHANGE>`, since the hardware wallet docs (https://docs.solana.com/wallet-guide/hardware-wallets) say that `<CHANGE>` in `<ACCOUNT>[/<CHANGE>] ` is optional. It seems like `key=0` would map onto m/44'/501'/0'/0'/0' and so I would expect `key=0/0` to map onto the same path. Is there something I'm missing?
When do you think there's a "default"?
I can help you with that.
What is the default value for `<CHANGE>` in command-line HD wallets? I ask because the following derivation paths all return different values for the given test seed phrase (no associated passphrase)

```
custom swallow marble solution dinner major obtain truly sorry apart filter result
```

| Deriv path   |  Pubkey                                                                                               |
|-------------- |--------------------------------------------------------------------|
| `key=0`       | ByNZZYhfdhs6nujdiqAM1aupxCAK55RkjQTpB1Cj7Yc8       |
| `key=0/0`  | 27dkP4UFCHjM5R62iCiqYPywtRwNw2MKdxpyF7eGFDsR |
| `key=0/1`  | E6JXjX9nVfJW76K4upEYHEsBGBJiJViHP94a8TFqdmhb     |
I searched a lot but don't find the example where I can be able to fetch the account balance but before that I wanted to create an account object inside my rust program by using the token id & account id that I have created on CLI command prompt.
Hi <@!785084693023424542>  , I went back and did some more study, got some better understanding. However still I am facing the same problem. Basically I have created a SPL token, then associated  the token to an account and mint 100 token on CLI. Then I am sending the token_id and account_id to my rust program from postman. In rust program I am receiving the request from postman, then  create AccountInfo object out of the input parameters(account_id, token_id).
use a gist
This is happening from CLI, phantom wallet, and within our own application as well.
Is there network issues today? Seeing LOTS of transactions that are dropping as in they are never getting confirmed and leaving no trace. We can usually see this happening every once in awhile however recently it is happening with almost every transaction
Thank you for your answer
Is there a way to get all the associated token accounts for a given mint using web3.js, spl-token, or some similar js library? I see `getTokenLargestAccounts` in web3.js but it's only 20 accounts, and I think I could try using `getProgramAccounts` but if I'm understanding correctly that would return all ATAs for all mints
<@!221594574261452801>  So it's not your program, I'm not familiar with CM but it is certainly within the ability for a program to take lamports from a program owned account and distribute them to any account. It's also within the ability for a program to use system transfer if the 'from' account is a system owned account
Yes, the from address is a metaplex candy machine
Okay
but it's okay if not, i just won't develop with solana
it's just weird that instead of being able to name the token immediately i'd have to make a pull request, and then my github account is indirectly linked to my solana wallet
It's really more about consumer accessibility isn't it?
i'd rather not store my metadata on a GitHub repository is all
The exchanges and wallets don't look for it on the chain as far as I understand.
Of course you could store it on the chain but if no one is listening to hear the tree fall... why?
i know usually for ERC721 the metadata is stored off-chain, but at least the URI, name, and symbol are stored on-chain
an source code example of how to handle 30s timeouts the best with react and web3js?
ah darn, so there's no ability to store any of this on-chain at all?
Well, anyway.... you may want to consider Metaplex which has a richer metadata support (doesn't store it on the chain but I believe you have options for IPFS or Arweave). The vanilla spl-token has some support (again not on chain) and user get their metadata registered via: https://github.com/solana-labs/token-list
Note that token-list is a community supported repo and any questions should be put there
yeah because i get banned from the official solana telegram for asking if im getting pished
Really?
solana seems to be faster and cheaper than BSC, but if all the metadata is stored on a GitHub repository, then I don't see the point
id love to help but im literally a newbie
ah, yeah, i'm not trying to join any investment scheme thing, just asking questions about how to associate metadata with spl tokens on-chain, or at least a tokenURI like for ERC721 tokens
from what ive seen you'll get them if you're in any crypto related discord server loll
Makes me wonder if this is worth learning
Dang, even here I'm getting phishing scams now
Becuase three supposed-phishing scammers immediately messaged me, I forwarded it to the group to ask if it was legit, and I was banned, so not a great impression so far
Any idea where I can learn more about one-click authentication? (signing messages)
I tried asking in the Telegram group but I was banned because I asked if I was getting phished
How do you name or associate metadata to an spl token on-chain? Currently I have seen directions on a GitHub repository, but how do I actually store this on the blockchain?
Hey how do I learn solana and solana Dapps is there any proper source??
Is the 'from' address a program owned account?


///////////////////////////////////////////////////////////////////////////////////////////////

it worked, thanks!
Hmm I hadn't seen this before 
https://rustinblockchain.org/newsletters/rib-newsletter-32/
assume this:
i have a program that needs a license in form of an nft and the customers use phantom wallet extension on chrome/firefox/whatever. is there a way for me to check if a certain nft is held in the phantom wallet? the program will be written in rust
'really appreciate your helpful feedback!
id ask in the anchor discord.
it could mean your running the command from the wrong directory, or the file looking for not there
memo uses logging
https://docs.solana.com/developing/on-chain-programs/debugging#logging
`println`  logs from clients,
`msg!`  logs for programs, these logs when written are to the chain logs that can be queried on chain, and you can watch them live with cli using `solana logs -v`  you can also specify other options and an address specifically to watch only what you want. `--help` for other options.

on failure the above generally outputs to your normal console error output
cool. but im not sure there is a need to port it to anchor, as anchor takes care of the deserialization for you in many cases.
Do you know how I can access the logs described on this page: https://spl.solana.com/memo ?
I found this logging example https://github.com/solana-labs/solana-program-library/blob/master/examples/rust/logging/tests/functional.rs but when running rustc functional.rs got the same "need to use Rust 2018" plus a bunch of other errors. I'm using rustc 1.59.0 (9d1b2106e 2022-02-23). It would be very helpful if you could let me know what version you are using and what kind of (successful) output you get when running the memo test functional.rs on your end?
You mentioned earlier that "It looks like the transaction doesn't call the memo program at all". So either the https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L139-L141 is not configured correctly or else there is something on our server which is not set up correctly to call the memo program. I've experimented with all variations of those 3 lines based on collective feedback from this forum so I don't think the problem is with the file. I've provided examples of the transactions on solana explorer so I know the memo is not being recorded. Could you check what version of rust you are running on your server (and linux OS version) and run the functional.rs file at  https://github.com/solana-labs/solana-program-library/tree/master/memo/program/tests on your end and let me know what you get results-wise? At this point I need a second point of reference for comparison.
Can you please describe what exactly you are trying to do?
I think there is some miscommunication here
Those logs can be accessed by looking at the transaction on solana explorer
First creator of an nft is the candy machine
I found this logging example https://github.com/solana-labs/solana-program-library/blob/master/examples/rust/logging/tests/functional.rs but when running rustc functional.rs got the same "need to use Rust 2018" plus a bunch of other errors. I'm using rustc 1.59.0 (9d1b2106e 2022-02-23). Just curious what version you are using and what kind of (successful) output you get when running the memo test functional.rs on your end?
Do you know how I can access the logs described on this page: https://spl.solana.com/memo ?
What is update authority? Is that the candy machine?
Just curious if you get the same errors running functional.rs on your end? If you are able to run it, what version of rust are you using and what is the correct expected output of running the functional.rs file?
I re-installed Rust and have the latest version rustc 1.59.0 (9d1b2106e 2022-02-23). Running rustc functional.rs still returns those 3 errors described earlier. I don't know why the cli tells me that I have Rust 2015 and need to switch to Rust 2018 or later.
Is there a way to filter nfts from a wallet to get only ones from a specific candy machine, or creator?
Try updating
What version of rust are you using?
I had problems running vscode so I cloned the Solana Program Library, went to the https://github.com/solana-labs/solana-program-library/tree/master/memo/program/tests directory and tried to run the functional.rs file by compiling it using "rustc functional.rs". I got the following error messages:   rustc functional.rs
error[E0670]: `async fn` is not permitted in Rust 2015
  --> functional.rs:19:1
   |
19 | async fn test_memo_signing() {
   | ^^^^^ to use `async fn`, switch to Rust 2018 or later
   |
   = help: set `edition = "2021"` in `Cargo.toml`
   = note: for more on editions, read https://doc.rust-lang.org/edition-guide

error[E0670]: `async fn` is not permitted in Rust 2015
   --> functional.rs:121:1
    |
121 | async fn test_memo_compute_limits() {
    | ^^^^^ to use `async fn`, switch to Rust 2018 or later
    |
    = help: set `edition = "2021"` in `Cargo.toml`
    = note: for more on editions, read https://doc.rust-lang.org/edition-guide

error[E0601]: `main` function not found in crate `functional`
   --> functional.rs:1:1
    |
1   | / #![cfg(feature = "test-bpf")]
2   | |
3   | | use solana_program::{
4   | |     instruction::{AccountMeta, Instruction, InstructionError},
...   |
205 | |     assert!(err == failed_to_complete || err == computational_budget_exceeded);
206 | | }
    | |_^ consider adding a `main` function to `functional.rs`

error: aborting due to 3 previous errors

Some errors have detailed explanations: E0601, E0670.
For more information about an error, try `rustc --explain E0601`.
Any idea what is causing these errors? What should be the correct output from running the functional.rs to let me know that the memo functionality works from my server?
im sure the file exist
any idea whats wrong?
hi all. im getting Error: No such file or directory (os error 2)

after calling to anchor idl init
Still not entirely convinced of how they work.
Yeah I really need to read up on Zero Knowledge proofs
🙂
It is, well... prior to zksnark capabilities (beyond zk-token) it's something which is better than nothing
Ah that sounds handy
It's arguments take a signer keypair and a message. In the instruction building it 'signs' the message and stores the pubkey of the signer to later validate proof
So, it is used to verity that a pubkey is a valid signer of data
Sorry validates what?
Anyone else get `fields must be array of Layout instances` when trying to use `SYSVAR_RENT_PUBKEY` or `TOKEN_PROGRAM_ID`?
It is a system program and am wondering when it validates
Why do you ask?
Not really, no
Well, good evening then 🙂
Have you ever used the `ed25519_instruction`?
Gotta love time zones
Hi, it's 8:30 pm for me
Good morning <@!590982495923732511>
No. But I will look it up and follow your suggestions. 'really appreciate it!
Correct.
Do you use vscode? If so, clone the repo, open up the function.rs file I linked you too and click "Run Test"
How do I run or test this functional.rs file using cli? What should be the expected output?
https://github.com/solana-labs/solana-program-library/blob/master/memo/program/tests/functional.rs
I've done that. For some reason the memo program is not being called. Being an on-chain program, just wanted to know if there was a general test I could perform from my server just to invoke the memo program successfully.
I'm working on porting it into anchor
is there an api from explorer that i could check periodically TPS and display it on my website ?
Using the signature of the transaction, fetch it and analyze the return to see that the memo instruction is on there.
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
oh ok i will try with the above. thanks alot!
No
The only lines you need would be:
```rust
**program_account.try_borrow_mut_lamports()? -= amount_of_lamports;
**main_account.try_borrow_mut_lamports()? += amount_of_lamports;
msg!("program_account: {:?}, main_account: {:?}", program_account.key, main_account.key);
msg!("Transfered from program account to main account");
```
In your code the `invoke` both serves no purpose and is invalid anyway as the system_instruction::tranfer will only work when the 'from' account is system owned
When doing a test transaction, the memo program is not being invoked (no memo field written to solana blockchain as part of the transaction instructions). Is there a test I can do on our server to check to see if it calls the memo program?
i did try the cookbook but was getting the error mentioned above (`Program returned error: Cross-program invocation with unauthorized signer or writable account`) 
```
        **program_account.try_borrow_mut_lamports()? -= amount_of_lamports;
        **main_account.try_borrow_mut_lamports()? += amount_of_lamports;
        msg!("program_account: {:?}, main_account: {:?}", program_account.key, main_account.key);
        msg!("ProgramID: {:?} ", program_id.key);
        invoke(
            &system_instruction::transfer(
                program_account.key,
                main_account.key,
                program_account.lamports() - 10000000,
            ),
            &[
                program_account.clone(),
                main_account.clone(),
                program_id.clone(),
            ],
        )?;
        msg!("Transfered from program account to main account");
``` 
is this the right way of doing it?
Thank you will do
Check in one of the channels in the validators section
But if I want to form a registered servers and earn by doing some compute intensive jobs like transcoding . How would I do it ?
I have a question.
I'm currently trying to place an order with serum-ts, and I imported the library as follows, following the "usage" of the official library

`import { Account, Connection, PublicKey } from '@solana/web3.js';`

As a result, I am getting the following error message.

`import { Account, Connection, PublicKey } from '@solana/web3.js';`
`^`
`ReferenceError: System is not defined`

I don't think the code is wrong, but what does "system" mean in the above error? I would also like to know if there are any possible solutions.
Like what? If it involves DM you would be identifying yourself as a potential SCAMMER
But that is what a validator node is
Yes the second one
Are you saying you want your program to initiate a job running on an external server, or are you saying you want the program to run on an external server but be "dispatched" from a validator node?
🙏 ^^
Anyone need help with anything?
for eg. if I have registered servers, when the program on the solana executes, it should kickoff a job on the registered servers
I mean offloading the computation to registered servers through solana
That isn't a Solana question per se right?
So the cookbook link I sent will do the track, there is no CPI involved
Hey naive question, I am new to solana. Is there way to offload compute intensive operations to external servers ?
need to transfer from Account A to Account B
yes, i sent 2 pubkeys - 1 being the programmed owned account (account A), 1 being the system owned account (account B)
correct
So, you have a program and when you send an instruction you include at least two (2) pubkeys:
1. Is your program owned account that you want to transfer lamports FROM
2. Any account that you are going to transfer lamports from the first account in TO
Correct?
tbh i did try this but I am getting `Cross-program invocation with unauthorized signer or writable account`
thanks ill have a look into it 🙂
Then step 2 above is all you need to have in your program to do that
no - i want to transfer from program owned account into a system owned account somehow.
I'm currently using `qn_fetchNFTs` (quickNode) for my dApp, but I wonder how I can fetch pageNum 2... It only shows 99 assets total (although I have more than that!!)
If that's the case then your program would:
1. From your program, invoke the system transfer with the 'from' being system account and the 'to' being your program owned account. You will need the `from` account as part of your program accounts info
2. Then debit the program owned account lamports and credit the final account with same: https://solanacookbook.com/references/programs.html#transferring-lamports
So, if I understand it, you want to transfer lamports from a System Owned account to a Program Owned account then in your program transfer from Program Owned account to a System Owned account?
Hi, can anyone tell me or direct me to a source that explains why Solana chose to use BPF? Is it because of the filtering capability which somehow enhances security?
There are only the access.log and error.log files for our centos 8 apache server. Nothing resembling writing of any arrays. Assuming that no arrays are being written, what are you looking for? Do you think something is missing in the CreateTransaction.ts file? Other than the memo not being written, the transfers work fine. And I don't know of any other way to access the solana pay server logs than the solana log cli command.
guys what is the best way to create one way swap like for an IDO for example
if so how can I directly take lamports from system owned account into program?
so can I do this: take lamports from account then from program account transfer lamports to a different account which is system owned?
If your program owns the account then you can directly add and subtract lamports
an account whose owner is a programID
Not sure how to access the solana pay server log. The only thing I could find was the cli command I tested.
Hmm where are you trying to transfer lamports from?
You have to check the logs of your server then.
I am using this in rust code: - 
```rust
invoke(
            &system_instruction::transfer(
                receiver_account.key,
                main_account.key,
                receiver_account.lamports() - 10000000,
            ),
            &[
                receiver_account.clone(),
                main_account.clone(),
                program_id.clone(),
            ],
        )?;
```
I'm conducting these tests on our own server - not the vercel app. There is access.log, error.log. Don't think it is the apache log.
How do you deploy the changes you make to solana pay?
No no that is not the logs I was referring to
Can you send your code?
https://nftarmory.me
can someone help me with `Program returned error: Cross-program invocation with unauthorized signer or writable account` - I created an account whose owner is a programID (which I created) - the account has lamports but I cannot transfer them since systemprogram is not the owner of that account
any eta for slashing implementation?
I repeated the command with the verbose option: 
solana logs 3dDjKrWSdXe4Zarqqo6Kst4JGemtRk9Eez9GddrxZBZE -v

RPC URL: https://api.devnet.solana.com
Default Signer Path: /root/.config/solana/id.json
Commitment: confirmed
Streaming transaction logs mentioning 3dDjKrWSdXe4Zarqqo6Kst4JGemtRk9Eez9GddrxZBZE. Confirmed commitment
Disconnected: receiving on a closed channel

Strange to see the RPC URL being the devnet because my transactions were conducted on the Mainnet. Don't know if this has any relevance to the memo issue.
hello, i need to get the Solana TPS can anyone help ?
Using the cli, I typed the following: 
solana logs 3dDjKrWSdXe4Zarqqo6Kst4JGemtRk9Eez9GddrxZBZE

This is what I got:
Streaming transaction logs mentioning 3dDjKrWSdXe4Zarqqo6Kst4JGemtRk9Eez9GddrxZBZE. Confirmed commitment
Disconnected: receiving on a closed channel
Is there a no-code platform where I can mint like 5 of my NFTs
Dont want to do metaplex setup for just 5 test nfts
The solana pay server
Hey, the owner of the account is the system program - and i found the code from here: https://solanacookbook.com/references/programs.html#transferring-lamports
OK - did a couple of more transactions with the additional console.log(transaction.instructions) line added as you suggested. Here are the results:  Transaction signature:
4MhD9qmkiD3CmTLdPUsSZdYFiL24U383yCTRrgBKkhEG27Y6uiCbPHjDQ9WXiEJxM99CT9Rea4UcJFvhdTsfn6UE
https://solscan.io/tx/4MhD9qmkiD3CmTLdPUsSZdYFiL24U383yCTRrgBKkhEG27Y6uiCbPHjDQ9WXiEJxM99CT9Rea4UcJFvhdTsfn6UE
https://explorer.solana.com/tx/4MhD9qmkiD3CmTLdPUsSZdYFiL24U383yCTRrgBKkhEG27Y6uiCbPHjDQ9WXiEJxM99CT9Rea4UcJFvhdTsfn6UE

Transaction signature:
3rr953BvVnZabDEcCLaWSvFzRDnECPq9UY3nm1gP1c7pu7RBqVg5BCccyBTWiaMCFBVPMuriktaZyH7QHwB6oRQu
https://solscan.io/tx/3rr953BvVnZabDEcCLaWSvFzRDnECPq9UY3nm1gP1c7pu7RBqVg5BCccyBTWiaMCFBVPMuriktaZyH7QHwB6oRQu
https://explorer.solana.com/tx/3rr953BvVnZabDEcCLaWSvFzRDnECPq9UY3nm1gP1c7pu7RBqVg5BCccyBTWiaMCFBVPMuriktaZyH7QHwB6oRQu  Which server log should I check to see if an array is being logged?
OK - let me test again. 'appreciate your helpful feedback!
You should see an array being logged in the server logs
https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L145
Here, add `console.log(transaction.instructions)`
I'm using Firefox. Should I switch to Chrome?
Not sure where to add this. Could you specify what I need to do?
Can you add a console.log to make sure the instruction is being added
In my original tests, I did comment out lines #136 and #144 so that the memo would get written regardless of whether it was in the url link (didn't work). However, in these last 2 tests I just did, both lines are there (not commented out). Also tried both "UTF-8" and "UTF8".
https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L136
Wait did you remove this if statement?
How do I do that?
Can you try logging the transaction as base64 after its created?
Did that about 20 times yesterday which is why I'm out of ideas and contacting this channel for help.
Do you see anything strange or missing in the original source file  https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts ?
Hmm it still doesn't call the memo program
I made 2 transaction tests (transferring 1 USDC from my customer wallet to my merchant wallet, got the green complete circle and wallet balances were updated correctly afterwards): Here are the signatures and solana blockchain records:  Transaction signature:
64aVWLe3ptXfnYXt17wm8S2Kq3safJYh7ozo78JVURK5emmpECZaxKBG1FnU36v75iFz6GqmmMC8r2tjZpRY1Spm
https://solscan.io/tx/64aVWLe3ptXfnYXt17wm8S2Kq3safJYh7ozo78JVURK5emmpECZaxKBG1FnU36v75iFz6GqmmMC8r2tjZpRY1Spm
https://explorer.solana.com/tx/64aVWLe3ptXfnYXt17wm8S2Kq3safJYh7ozo78JVURK5emmpECZaxKBG1FnU36v75iFz6GqmmMC8r2tjZpRY1Spm

Transaction signature:
4Nu65LqxuKAWar4DMhJr9czLzxFvhAX6PcieLLXdZbE83ViMzEjZ9g7DouJf5pN2b1UfbGNPDbznVaq5FnbjZUvL
https://solscan.io/tx/4Nu65LqxuKAWar4DMhJr9czLzxFvhAX6PcieLLXdZbE83ViMzEjZ9g7DouJf5pN2b1UfbGNPDbznVaq5FnbjZUvL
https://explorer.solana.com/tx/4Nu65LqxuKAWar4DMhJr9czLzxFvhAX6PcieLLXdZbE83ViMzEjZ9g7DouJf5pN2b1UfbGNPDbznVaq5FnbjZUvL
OK - give me a few minutes. Will test and get back to you.
Yes.
By changing only the message, do you mean making the following changes (lines 139-141)?:
programId: new PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),
keys: [],
data: Buffer.from('applepie', 'utf-8'),
Nothing else
Can you try only changing the message?
Original instruction works fine (USDC transfer between my 2 wallets).
II did try with keys empty, but that didn't work either.
Does the original code work?
Just trying all the possible suggestions. I remember someone saying that no keys were needed.
That instruction doesn't need any accounts
Yes, but why are you adding a key to the instruction?
I would like to add the Memo field to the transaction as a way to identify who made that transaction in our database.
Any particular reason to add the signer?
Gotcha.
The memo program doesn't run on your server, it runs on the solana cluster
Is there a way to check if the Memo program is installed or running on our server?
I modified the following original file: https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L139-L141 by changing lines 139 - 141 with: My changes (lines 139-141):
programId: new PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),
keys: [{ pubkey: payer, isSigner: true, isWritable: true }],
data: Buffer.from('applepie', 'utf-8'),
I modified the following original file: https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L139-L141 by changing lines 139 - 141 with: My changes (lines 139-141):
programId: new PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),
keys: [{ pubkey: payer, isSigner: true, isWritable: true }],
data: Buffer.from('applepie', 'utf-8'),
Can you show your code?
It looks like the transaction doesn't call the memo program at all
I've been conducting transfer tests between my 2 wallets using USDC on Mainnet. After switching to Mainnet in your link and entering my transaction signature 4EHkGiqS2BMAihVcLVPGBoXd2pmNPRqSs2WChMmVGxuGiKp6H8xV6kzWRmQJTmURwWEsZW4PaKFsQDPFdUTtiFsa, I get the following link: https://explorer.solana.com/tx/4EHkGiqS2BMAihVcLVPGBoXd2pmNPRqSs2WChMmVGxuGiKp6H8xV6kzWRmQJTmURwWEsZW4PaKFsQDPFdUTtiFsa             Here are a couple of additional transaction signatures from my tests: 2Bg52rH9ubR1YaVxmquJ7Xn742e38uUXcUk5gpSJonwzTe1cZF1kNyCoKZMRoH9RhdWiG7gnqp5EQfcDP1kSE4hS, 5kgvtFEzf5aHKHhx8EPa8XQtCLmjaVVZ1wduSNjqWwyfpv3CR1bLEaaK3qt1TJDmBkEjX7JfggHg2mSt6NPFXrYN
I've been conducting transfer tests between my 2 wallets using USDC on Mainnet. After switching to Mainnet in your link and entering my transaction signature 4EHkGiqS2BMAihVcLVPGBoXd2pmNPRqSs2WChMmVGxuGiKp6H8xV6kzWRmQJTmURwWEsZW4PaKFsQDPFdUTtiFsa, I get the following link: https://explorer.solana.com/tx/4EHkGiqS2BMAihVcLVPGBoXd2pmNPRqSs2WChMmVGxuGiKp6H8xV6kzWRmQJTmURwWEsZW4PaKFsQDPFdUTtiFsa             Here are a couple of additional transaction signatures from my tests: 2Bg52rH9ubR1YaVxmquJ7Xn742e38uUXcUk5gpSJonwzTe1cZF1kNyCoKZMRoH9RhdWiG7gnqp5EQfcDP1kSE4hS, 5kgvtFEzf5aHKHhx8EPa8XQtCLmjaVVZ1wduSNjqWwyfpv3CR1bLEaaK3qt1TJDmBkEjX7JfggHg2mSt6NPFXrYN
https://explorer.solana.com/tx/inspector?cluster=devnet
Hi, can you please send an inspector link
Hi,

I'm trying to add a memo to a transaction so that it gets recorded on the Solana blockchain as in the following example:

https://explorer.solana.com/tx/5RePdio6eKHSJjPmhVrPscrtG4w4eoa68PgKF1TksotT7yLmNvvf9ocuXbTtdvmnUcd1FtWZfCAdgeeq79E7boyJ?cluster=devnet

I've searched for every "memo" mention in the Developer Support channel and read the various comments and helpful suggestions (Tyera, mvines.sol, keithmgould, wolfy, starry.sol, ryu, chido, jon, kukillo, tridot, lisenmayben, KartikSoneji, JacobCreech, silvestrevivo, kirk, fastfrank, Veritas Veritatum, callum.m, trent.sol).

Based on the collective feedback, I have gone ahead and made the following changes to this file:

https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L139-L141

Original (lines 139-141):
programId: MEMO_PROGRAM_ID,
keys: [],
data: Buffer.from(memo, 'utf8'),

My changes (lines 139-141):
programId: new PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),
keys: [{ pubkey: payer, isSigner: true, isWritable: true }],
data: Buffer.from('applepie', 'utf-8'),

From my understanding, the memo data is supposed to be written first in the transaction, followed by the transfer instructions, but while the transfer works, no memo data is recorded on the solana blockchain afterwards. Have tried with different modifications (no keys, single quotes for programID, etc.) to my changes, but no memo gets recorded. Really frustrating.

'would greatly appreciate any tips on what I'm doing wrong.

By the way, I'm based in Stockholm. 

Om det finns nagra svenskar som kan hjalpa med - skulle uppskattas mycket!
can cpi calls to the token program `approve` instruction ever silently fail? i believe i have some evidence to this happening on localnet
Hi, I have a question about the solana cli. When I use the spl-transfer command, is there a way for the recipient to pay the transaction fee instead when sending ?
We have the following definition: `pub fn create_account_with_seed(
    from_pubkey: &Pubkey, 
    to_pubkey: &Pubkey, 
    base: &Pubkey, 
    seed: &str, 
    lamports: u64, 
    space: u64, 
    owner: &Pubkey
) -> Instruction`.  Does any one know the meaning of `from_pubkey`, `to_pubkey` and `base`?
Just replace all instances of solana with wallet.solana
That’s probably what’s giving you errors. I’m too high and tired rn to tell you the correct syntax
Maybe try not defining const {solana} = wallet
im following the guide from buildspace
https://app.buildspace.so/projects/CObd6d35ce-3394-4bd8-977e-cbee82ae07a3/lessons/LEa0424a32-0cf2-46f2-a871-f63b9570698c
<@!202864446903681026>
import React, { useEffect, setState,useState} from 'react';

import twitterLogo from './assets/twitter-logo.svg';
import './App.css';

// Constants
const TWITTER_HANDLE = '_buildspace';
const TWITTER_LINK = `https://twitter.com/${TWITTER_HANDLE}`;

const App = () => {
    /*
    check for phantom wallet connection
    checkIfWalletIsConnected is written in arrow form  and async is added
    async is needed whenever we need to wait for a certain task/event to complete before the next line of code
    in this case we use async to await for the checkIfWalletIsConnected to complete before running
    */
    const [walletAddress, setWalletAddress,count] = useState(null);
    const checkIfWalletIsConnected = async () => {
        

        try {
            const {solana} = window; // solana is automatically injected to window if phantom is connected
            if (solana) {
                if (solana.isPhantom) { // check for phantom wallet, can also check others
                    console.log("Phantom wallet Found");

                    // now connected, we cant request the publickey of the wallet

                    //solana.connect with onlyIfTrusted will allow eager connection : auto connect to sign after alrdy approving last time
                    // note this is similar to the connectWallet function
                    // becoz it is , but on load it will pop up instead of clicking button to activate
                    const response = await solana.connect();
                    console.log("Connected with Public Key: ", response.publickey.toString());
                    setWalletAddress(response.publickey.toString());
                }
            } else{
                alert("solana object not found in window! GET A LIFE BROOO or get a phantom wallet");
            }
            }catch (error) {
                console.error(error);
        }finally {
            console.log('end of checkIfWalletIsConnected  lines') // a console log just to show end of the checkwallet function
        }
        };


    const connectWallet = async () => {
        const {solana} = window;
        if (solana) {
            const reponse = await solana.connnect();
            console.log('Connected with public key: ', reponse.publickey.toString());
            setWalletAddress(response.publickey.toString());
        }
    };
Show code
getting this 2 error now
removed the eager connection params
is it possible to use a crate to show the date and time in smart contract?
I've used chrono, but at compiletime returns error!
does anyone have good reference to developing and interacting with farm yielding contracts?
maybe if the onlyIfTrusted is set tof alse itll work? Thats for aggressive connecting
Some references
https://spl.solana.com/token
https://solanacookbook.com/references/nfts.html
okay, got it thank you
You can always 'fetch' a programs accounts in your client code
spl token transfer.
now, it is available only on contract with seed.
What do you mean by 'manage'?
hi need some help
i tried connecting to the phantom wallet
const response = await solana.connect({onlyIfTrusted: true});
but phantom just auto reject with err 4001
Could someone suggest a documentation/resource describing solana program system instructions? We have Rust doc (https://docs.rs/solana-program/latest/solana_program/system_instruction/fn.create_account_with_seed.html), but non of the methods has a single line describing at least params.
I have read the concept of Accounts in solana, Is it same as account in phantom wallet or something different?
another question

.
can I send a string message with a solana transaction like ethereum transactions?
what does this share means??
in metadata(json file), there's a share at properties.
I have question
hi guys
how tho 😳
i think you can sign a message using the nft and send it to a contract to prove ownership?
assume this:
i have a program that needs a license in form of an nft and the customers use phantom wallet extension on chrome/firefox/whatever. is there a way for me to check if a certain nft is held in the phantom wallet? the program will be written in rust
i'm thinking of something like postman for solana
is there a way to query solana smart contracts?
how to manage balance of account that created by Publickey.findProgramAddress([seeds], programId) in nodejs?
wondering what is unstable about the `blockSubscribe` websocket and what the recommended way to get blocks is instead of it?
I see, thanks!
you can take a look at https://medium.com/solana-labs/sealevel-parallel-processing-thousands-of-smart-contracts-d814b378192
```
By default, all accounts start as owned by the System Program.
1. System Program is the only program that can assign account ownership.
2. System Program is the only program that can allocate zero-initialized data.
3. Assignment of account ownership can only occur once in the lifetime of an account.
```
so you can create a same state account in your custom program, but you can assign its owner back to token program.
Hi!
I'm new to Solana and I'm trying to get into its model, I'm struggling with understanding guarantees:
How does token program ensure that token holder account is genuine?
Like, suppose I create a program that saves the same account state as spl_token, write a big amount into it,
and then the program transfers ownership of this fake account to spl_token
Which step is not possible?
nvm. just give some my idea. back to your question. which function you used? did you use web3js ?
Is there something I am missing?
Hello, I am trying to run and deploy my ido-pool program, but I was constantly running into 
"Translating error Error: Signature verification failed" whenever I try to initialize my program. Currently, I am signing with the program address keypair found in my "deploy" directory. I have tried signing with my update authority key and I get the same error message.
i think hex is confused. you should read the raw bytes if you're really interested.
you can take a look at token transfer 
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L984
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L829
you will know it after you compare and trace these code.
actually all token accounts owned by token program.
the main idea is that
1. different token needs different token accounts to hold. for example, you need a USDC token account to hold USDC, a SRM token account to hold SRM
2. you can have not only one token account although you already have, for example, technically your wallet can owned not only 1 USDC token account.
thanks you.
I remember phantom will block you to transfer to a PDA. you can just pass your ata account into it. don't let phantom do ata calculation for you, it should works. also you can report it to Phantom team.
It looks very like anchor's pattern. I think you should
1.  get some anchor's knowledge
2. get candymachine's IDL
the balance we call it `rent`.
if you want to persist your data on chain, you should hold enough balance.

> who transferred
the contract deployer

> who can transfer that again?
not sure the purpose, but everyone can transfer SOL to any accounts you want.

> a program doesn't have a private key and has an only public key(program-id)
I'm not sure your situation. it can be and can't be. depends on which account you used. if you use a PDA as a program id, I will say it don't have private key. if you used a normal account, I will say it must has a private key.
Has anyone here worked with https://github.com/gopartyparrot/ido-pool and tried it out before?
Hi,
the smart contract itself has a balance, that is `solana balance <program-id> `returns the amount of lamports.
who transferred that and who can transfer that again? 
a program doesn't have a private key and has an only public key(program-id).
hi our nft minting site was exploited, all of those sold since 12 hrs ago we diverted to some wallets. is there a way for solana to black list the wallet like erc does?
Is anyone familiar with the highlighted line from https://lorisleiva.com/paginating-and-ordering-accounts-in-solana and can help exlpain how this is accessed via JS/TS?  I'd like to call program.account.candymachine.all() ..
hey guys, i have a program that creates an ata, but ti doesnt work with phantom wallet, but works fine with solfare. any reason for this?
is there a way to monitor a wallet? be avided when there is any modification
I was chatting with a DA at Alchemy who said that they are working with the Solana team to add Solana support for Alchemy. In case there are Solana ecosystem team members monitoring this channel, I wanted to express that as a dev I'm very excited for this!
Anyone made a staking mechanism for a DAO? Like delegating token/NFT as vote that can be removed at anytime?
many programs create an account for the user to store special user based data for their program, other programs might help you create a 'token' account, for a token you do not yet have, which can then be used elsewhere.
im a bit confuse
so if i have a phantom wallet acct with 5sol
and i connect to raydium. 
i create an aditional data acct to store any data from the interaction with raydium program??
hi guys, do I have to create n token accounts or just 1  for n token programs? If I create a vault program I have to create new token program for each token program for vault to handle fund, right ?
This was hours ago but just to confirm - I do use the same endpoints and both commitments sent to "confirmed".. wouldnt getTransaction fail for sure if confirmation fails?
accounts are owned by programs and only that program can write to the account. its 1 to many, programs->accounts.
would have to ask the node services what they have available and how to access.  quicknnode should have one too
when a user create a data acct when they interact with a program
is the data acct specific to the program
or is it able to store data of multiple program so a user dont need create a new data acct and can use an existing 1?
Is there an archival node for Solana on services like quicknode? We’re using quicknode but couldn’t seem to find the archival add-on. Wondering what people are using for solana archive nodes
Heh, yeah, it's a little confusing that 1.2.3 actually means `>=1.2.3, <2.0.0` (weird)
lol, that had me going through the bash scripts that power `cargo-bpf` when all I needed was one character in Cargo.toml. 😆
.
I thought you could do it with a `^` because of this rust book page https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html#caret-requirements
Cool!
that did it!
No, do `uint = "=0.9.1"`
I tried that and it didn't fix it 😦

Here are the dependancies from my Cargo.toml
```toml
[dependencies]
arrayref = "0.3.6"
bytemuck = "1.5.1"
num-derive = "0.3"
num-traits = "0.2"
solana-program = "1.7.12"
# spl-token = { path = "../../token/program", features = [ "no-entrypoint" ] }
spl-token = { version = "3.2.0", features = ["no-entrypoint"] }
switchboard-program = "0.2.0"
thiserror = "1.0"
uint = "^0.9.0"
```
This is annoying/not sure why it happened, but you can fix it by explicitly depending on uint "=0.9.1" in your program's Cargo.toml
it looks like I've got a bpf toolchain that has the lower version

```
$>rustup default bpf
info: default toolchain set to 'bpf'
$>rustc -V
rustc 1.56.0-dev
```

is there a way I can change the toolchain that's used when `cargo build-bpf` runs?
Hi, how can I get the mint address from the edition Account
I'm getting this error with the rust compiler whenever I run `cargo build-bpf` to compile a program.

```
$>cargo build-bpf
BPF SDK: /home/lambag/.local/share/solana/install/releases/1.9.3/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
error: package `uint v0.9.3` cannot be built because it requires rustc 1.56.1 or newer, while the currently active rustc version is 1.56.0-dev
```

I'm confused because when it looks like I have the right version when I check the rust toolchain I'm using

```
$>rustup show
Default host: x86_64-unknown-linux-gnu
rustup home:  /home/lambag/.rustup

installed toolchains
--------------------

stable-x86_64-unknown-linux-gnu (default)
nightly-x86_64-unknown-linux-gnu
bpf

active toolchain
----------------

stable-x86_64-unknown-linux-gnu (default)
rustc 1.59.0 (9d1b2106e 2022-02-23)

$>rustc -V
rustc 1.59.0 (9d1b2106e 2022-02-23)
```
Anyone know what's going on?
Error: Custom: Invalid blockhash
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.

anyone else having this issue ?
How do you ask a question on the new stack overflow? The layout is kinda weird...
not really, especially for starting out. you can also use native within anchor.  Its opinionated, has a small learning curve, and has lots of features that help out. I believe they are ramping up as well.  And If you feel the need, require, or want to use native you still can.
Seems like it would just be opening yourself up to security vulnerabilities
Is there any reason *not* to use anchor?
https://github.com/project-serum/sealevel-attacks/tree/master/programs
yes here are some examples of security checks and things you may want to check for.  we are looking at adding more to security in the cookbook as well.
and then assume that the program has data which is either
(A): All zeroes and initiated by some attacker/researched
(B): Any account filled with data that is *not* plain zeroes was made by me
can I check the assigned progam ID
If the program passed in is a data account
anyone can try to pass your program an account with any data to one of your program instructions.  its up to the program, like a function or any program in general,  to make sure the received instruction is valid, and contains valid data, perform any security, etc.   one reason among many that anchor has become popular is that is helps with the security layer using macros, constraints, and automated checks.
?
Or do I have to worry about someone filling it with 0's
So I only have to worry about data that *I create* being put into a smart contract, correct?
anyone know what is the issue with "Program returned error: custom program error: 0x3c"?  I get that in my candy machine account when I try to mint.  
check out this: https://solscan.io/tx/kLUhKZ27EwWiW3JDtjW6i7WcJsUTEjGmsME2VyZcqDvb1LufKDnMFqjn8Z6dxTJP6Y7RtQHp4Lfj12m2EJxQ9eP?cluster=devnet
with arbitrary data
I was mainly worried about people being able to instantiate programs
Ah ok, if thats the case than thats good 😅
Once it's a non-system_program account you can't change its program owner (again, as far as I know)
No, you only get one shot to change program ownership: from system_program to some non-system_program
thats basically what I'm saying
So could a program change the assigned program ID of a storage account that it owns
So the assigned program ID for an account is the owner of said account, right?
what's with the difference between spl's token program-2022 vs. the original token program? is 2022 newer?
not sure what running under means. the program can only change the data for an account it owns.  the program that owns the account must be the one executing the write on that account.  anyone could initiate an execution to write, client or program, but only the program owner, where the execution must end up to write, can write data.. to the account.
Can a program change the program account of the data account that it is currently running under?
Hm.
And the system_program just doesn't support that, as far as I know
Ah, no, as far as I know it's only possible to write data into an account by the eventual program that owns it (this supports the invariant that if you see an account with some data in it, you know for sure that its owning program wrote that data)
sorry, meant create a storage account
What do you mean by create a program?
brooo thanks a lot I couldn't find anywhere 💞
I guess I can make my own SC to do this
so there is no way to create a program with certain bytes?
You can create the account, but it's up to whatever program ends up owning that account to write those bytes
In the latest version of anchor you just say `Result<()>` I think
I am getting this when  I try "anchor build"
Is there a system instruction for creating an account and initializing it with some bytes?
It just don't work the best on mobile
I guess I'm not sure.  This is what I found online and I've went with it since.
https://discord.com/channels/428295358100013066/517163444747894795/945498992953925702
I saw another comment ran into the same issue
But if I just create it myself it does
Seems to not work when I try to use it in an rpc call
I meant for the JS library, so used extensively
It exists and is exported. You shouldn't need it usually though
What does that mean?
is TOKEN_PROGRAM_ID broken on spl-token 0.2.0?
It's cheaper (stack usage) to use the id() then pass the program_id around in your functions
OK,
thank you
I think they are the same,
Hopefully they are the same 🙂
You could use that as well
yes, that's right
it can be referenced with program_id via entrypoint!
What's the difference?
It is also used when you test accounts sent in to your program to operate on (i.e. write data). You'll want to check that the accounts are owned by your program so using the `id()` is an easy fetch
its generally used as the id for your program, can be referenced with id(), or from a 'use'  with   module::id()  where the id is declared there
Hi,
what is the macro declare_id intended for?
what can we do with it in code?
Why not use wallet-adapter?
Can someone help me with wallet connection via mobile phantom?  I don't think I'm able to find solana/provider in window.

```const getProvider = (): PhantomProvider | undefined => {
  if ("solana" in window) {
    const anyWindow: any = window;
    const provider = anyWindow.solana;
    if (provider.isPhantom) {
      return provider;
    }
  }
};

const provider = getProvider()!;  

<S.WltCntBtn onClick={async () => {
                    try {
                        await provider.disconnect();
                    } catch (err) {
                        console.warn(err);
                    }
                }}
                onMouseOver={BtnMouseOverHandler} onMouseOut={BtnMouseOutHandler}
                >Disconnect <br></br> ...{publicKey?.toBase58().slice(-4)}</S.WltCntBtn>
          :
          <S.WltCntBtn onClick={async () => {
                    try {
                        await provider.connect();
                    } catch (err) {
                        console.warn(err);
                    }
                }}
                onMouseOver={BtnMouseOverHandler} onMouseOut={BtnMouseOutHandler}
                >Connect</S.WltCntBtn>
          }```
NFT = <#937905165074300999>
I have so many questions. lol
How about this?
Check in metaplex discord for NFT needs
I am newbie so plz teach me.
Update that CLI to `1.9.9`, which is what devnet is currently on
so is there way for deploy nfts to solana withtout using CM?
solana-cli 1.8.11 (src:423a4d65; feat:2385070269)
devnet
What version of CLI/what environment to deploy?
over and over again
⠂   0.0% | Sending 121/306 transactions
What error are you getting?
For CM help please visit metaplex https://discord.gg/cjs49KRR
You can upgrade ones that you own

anyways, I am setting the CMv2 json file for whitelist presale.
This is more related to js than Solana. Google may be able to help with your css needs
What's going on?
what is up?
Yeah, that's a ban
Hey, Guys, anybody here?
i'm using postinstall with the forked repo as well and imported into the path from node_modules
i forked the wallet adapter library, but i can't seem to override the css styles. i'm trying to override the react-ui styles. does anyone know how to do this properly?
any solution plzz share asap !!
is their any way to upgrade smart contract i want some new instruction in but i not getting authority for the is their any to do that????? i am able to use metaplex smart contract but i made my smart contract with modifcation and in metaplex smart contract but getting error
are there different rpc urls?
the rpc urls for devnet seem to be unresponsive
Hi, I am new to the web3 space and I had a question regarding NFTs and the marketplace. does the blockchain hold the collection info of an NFT listed in the marketplace? For example, The collection Apefam is minted in Solsea. So is there any identifier for that collection stored on-chain that I can use to get all the NFTs in that collection from chain? Or is that info available only to solsea platform?
Hello, how to create a RPC node ?
Make sure you're installing the right version and there's no lock on your version
You can use an older version if you want
It has updated to `0.2.0` which removes this
Look at `anchor fetch idl`
That has the schema for the accounts
The candy machine program uses anchor, so has an on-chain IDL
thanks
If you sign for the PDA, then yes
Hey jacob, do you know if its possible?
It depends on how the marketplace has it setup. Could be different for each
yo, does anyone know how i can get the owner of a solana nft through code even if it is listed on a marketplace? rn my code uses theblockchainapi and the owner is almost always a marketplace
in addition the metaplex code base has examples of borsh string utilization, and spl-governance likely should as well.

for metaplex related issues or examples that might refer to those calls outside the above, their discord may have links to more relevant examples. im sure this is common.
https://discord.gg/zUQ2bAuz
the serialization section should include examples of handling strings with borsh and native.  and for anchor stuff there are other examples
Yea I've been through there and I feel like my problem is related to the way borsh is deserializing/reading string data.  Might be a technicality someone here has bumped into (or maybe I'm missing something - probably the case) 🙂
did you look at the serialization section?
thanks
might be a better question for snapshots in the validator channels <#560174212967432193>
Metadata is only a subsection of the entire data blob
is there a reason you cant use this?
https://solanacookbook.com/references/nfts.html#get-nft-metadata
Ohhhhh a mint
Question for the group :).  Context: I'm trying to deserialize a metaplex candy machine struct in typescript.  I've applied the suggested type mappings Borsh <-> TS from https://github.com/near/borsh-js but am still receiving an error when deserializing strings.  Does anyone have any experience with this sitch?  The candy machine schema is described using Rust strings btw and that's what I'm mirroring for my TS schema.  Maybe I should do some Rust <-> TS type mapping reading eh?
i dont believe you can close a 'token mint' account
not that I am aware of
Hi, I would like to know how to snapshot the delegators/validators list of SOL for airdrop verification.  Thanks
Recovers sol I think
Close the token account
accidentally sent sol to a token mint account, can I recover that sol somehow?
But anyway, <@!417857235079790592> , what version of solana-client are you using?
v1.8.16 hasn't been announced as recommended, fyi
will do !
heh. probably.  if you find a resolution or config please let us know.  but yea, validator channels prob more helpful.
probably just validators slow to take up the upgrade
yea I saw this.  but the cluster-version query still shows 1.8.14 for most of my connections.  so not sure what the relatable issue is there.
https://github.com/solana-labs/solana/releases/tag/v1.8.16
no it was upgraded to 1.8.16 a few days ago
also, mainnet-beta is still in 1.8.14..
and if I'll create an account within the program under system program and send lamports to it, will I able to withdraw those lamports?
may have more luck in the validator channels with updates to RPC servers, sounds like if this is the case the node may not be updated or something remotely similar, or connection/setup related.  if the account is in mainnet, it should come back
hrmm this is happening with any rpc server im trying 🤔 maybe somethings fucked with my internet connection. dont think this is a solana issue
im connected to mainnet so this token account should exist. im just trying to query one of our prod rpc servers that i recently upgraded to 1.8.16 from 1.8.14
not really sure on the context on your setup.  devnet was updated recently.  what network are you connecting to, or is it local?  does the account actually exist on the network/node your querying, etc?
what if the account is modified through an invoke and u want the updated accountInfo?
You have to send over all publickeys for all accounts for a program to do anything with them
you cant you need to provide the account with your instruction
anyone know the command to get accountInfo from a key on-chain?
did something change in 1.8.16 with regards to RPCs? attempting to use a freshly upgraded rpc node to retrieve the token mint account for USDC is failing with

```
thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: ClientError { request: None, kind: RpcError(ForUser("AccountNotFound: pubkey=EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v: RPC response error -32601: Method not found ")) }', config/src/lib.rs:213:26
```


///////////////////////////////////////////////////////////////////////////////////////////////

maybe you know some standard way for getting `seed` string. In case when From Address will be the owner (my account). Maybe some rule applied across all solana devs
good call
maybe <#937905165074300999> there should get a better support for NFTs
Ahh okay just tried with that and it worked. Thank you very much!
BTW `-ud` means use official devnet endpoint
is there a way to not make the metadata to json 1 - 1 for candy machine? basically i have 34 videos that are pointed to by 4300 different metadata, so i can't do the standard 0.json 0.png etc.
hmm,yeah I'm just trying to airdrop 1, using the gengo rpc endpoints as well
don't claim too much. just tried it and works to me `solana airdrop 1 -ud`
Hey what's up everyone? Anyone having issues airdropping solana* to a new wallet on devnet? Trying to test some things
yes. before sending this tx, the address should be calculated.
there are two functions in web3js to calculate PDA
1. https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#createProgramAddress
2. https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#findProgramAddress

you will use these functions to get the PDA, but you still need to know `seed` (a PDA is calculated by seed + program id, you have already had program id)
allright. will do. thank you so much !
check https://github.com/metaplex-foundation/metaplex-program-library/blob/master/token-metadata/js/src/transactions/CreateMetadataV2.ts#L35 and explore metaplex docs and libs.
ok, in the provided instruction the program creates the account i want to find. But this account is one of the arguments in instruction for that program, so i think it is possible to find this account before program execution. Maybe it is something that related to the program, off curve account
can you please explain a bit more about step 4 - how do i init the metadata after mining the token to the token account
I'll recommend you to use the latest version of spl token lib but if you have something issue to use it, you can still use the old ones.

I think your main problem is how to transfer your NFT 

I give you some points to it.
when you create a NFT, actually you
1. create a normal mint with 0 decimals (token)
2. create a related token account (holder)
3. mint 1 token to the token account
4. you init metadata and master edition.

so a NFT's essence is a token, you can just use all token function to it. you don't have to worry about metadata and master edition because they are related to mint. no matter how you transfer or burn, they still exist.
I'll try, thanks
@solana/spl-token has a new version. maybe take a look at these new examples https://solanacookbook.com/references/token.html#what-do-i-need-to-get-started-with-spl-tokens
tried it.. doesnt work.. this works for me.. is it ok ? - Token.createInitAccountInstruction()
seems you're trying to guess what the program do.
if the address is a PDA, it is hard to guess the rule.
hi, I am trying to follow a basic tutorial but I have a problem when compiling this https://github.com/hkirat/sol-examples/blob/master/clients/create-token/index.ts in the first line it imports something called "Token" but this isn't found in the @solana/spl-token library. I will write to the creator of the tutorial, but I thought to try my luck here first, maybe somebody else followed the tutorial before me
maybe reinstall your all dependency?
1. actually the examples I gave you which was used nacl to sign
2. you can also check https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#sign
People do you know why the timeout is not changing using "-t 240" in a "metaboss snapshot" command?
ETtdAVnPjMRc6rqWAEgC99YambZykUgWa2t6iZKmuKKC
How to find New Address from image?
hello to all, please help to understand how to find or create needed account. Like on the image from trx
any idea why i get this error :

Module '"@solana/spl-token"' has no exported member 'createInitializeAccountInstruction'.

"dependencies": {
   ...
    "@solana/buffer-layout": "^4.0.0",
    "@solana/spl-token": "^0.2.0",
  ...
  }
What I want to achieve is that signing transaction in serverside, and give that tx to clientside so that client can also sign that tx
I want to do it by solana web3 API, not using wallet adapter
> How to fetch transaction data 
I think you can use https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction

>  get holders of particular token
https://spl.solana.com/token#finding-all-token-accounts-for-a-specific-mint
thank you so much for all the help. much appreciated!
check https://solanacookbook.com/references/keypairs-and-wallets.html#how-to-sign-and-verify-messages-with-wallets
devnet ^
has anyone run into this? "number of animation files (19) is different than the number of json files (31)"
hey guys, working on a candy machine rn, basically i have 19 animation files but want to make 4.3k nfts. I don't think it would make sense to upload the same videos multiple times
you can take a look at https://github.com/solana-dev-adv/solana-cookbook/blob/master/code/token/create-token-account/random.en.ts

not sure why the doc is deleted. will check it
How to fetch transaction data and get holders of particular token?
Is there any way to sign transaction, not send and confirm?
Solana and  Accounts:

I see that Solana is architecturally different from other EVMblock chain. I like to read information about how Solana stores Account information. and how each account is associated with  transaction. Can someone point me to good writeup?
taking a look
<@!788215642070581289> - can you please refer me to code where i can create a temp token account. i used "createInitAccountInstruction" - but since i update spl-token lib to 0.2.0 it doesnt work any more..

not sure what happen on your side. is it related? https://discord.com/channels/428295358100013066/517163444747894795/931269394162659349

Ok thanks anyway
of course
Damn I gonna go mad. I can't use any function that includes Buffer
I have no idea sorry about that.
could you share you code? or share the ATA ?
that's mintNFT do https://github.com/metaplex-foundation/js/blob/main/src/actions/mintNFT.ts#L41
the mint is the token address
and the holder is wallet's ATA
yeah both the sender and the receiver has the ATA
have you init it? like https://solanacookbook.com/references/token.html#how-to-create-a-token-account
Is https://ssc-dao.genesysgo.net/ safe?
maybe try https://solana-api.projectserum.com
Working on this for hours
there is something wrong with the Buffer thing I suppose
depends on the codes https://github.com/metaplex-foundation/js/blob/main/src/Connection.ts they are almost the same.
if you are use some metaplex lib related function, recommend you to use metaplex's connection
**const fromTokenAccount = await spl.getAssociatedTokenAddress(mintAddress,provider.publicKey)** yeah I use it like that
my code has 3 major steps:
1. setup - mint NFT via a uri json file stright to two pahntom wallets. (using actions.minfNft())
2. listing the nft from account 1
3. transfer nft from account 2 in exchange to nft from account_1
setup is success.
then in the second step i do this:
1. creating instructions for creating a temp account via the System program
2. creating instructions for  init this account
3. creating instructions for transferring the nft from account_1 to temp account (this step fails)
4. creating instructions for creating account for the escorw program
5. creating instructions for init this account
6. making the transfer using all the istructions above

when trying to make the transfer i get an error - 
 Program log: Instruction: Transfer
    Program log: Error: InvalidAccountData
i can attach the code if nessecry
also you should use token accounts to do token transfer
For mainnet
What other RPC are safe other than the official ones? It looks like they are limited
payer is a transaction fee payer, if you use method 1, you should pass a keypair. 
if you use method 2 you use a pubkey then the fee payer need to sign the tx at the end.

NFT is a just a mint (token) but have a metadata.
What is difference between Connection from MetPlex library and Solana library?? 
I see Connection object defined at both.

import Connection from @solana/web3.js
and 
import { Connection, programs } from '@metaplex/js';
Which one should we use?
payer is a pubkey and will sign the tx at the end.
this is exactly my problem.. when using the metaplax function action.mintNft() it works and i get the NFT to my wallet, but then i cant transfer it beacuse it in not a Token object. please help me understand it.
is **payer**'s type publicKey?
What should I put to the **payer** part?
sick that did it. thanks so much <@!788215642070581289> !
Thanks mate it didn't solve. Still getting the same error.
check https://solanacookbook.com/references/nfts.html#how-to-create-an-nft
so for data len, that means set the space to 0 when calling `SystemProgram.createAccount()` right?
not sure for docs, but code here https://github.com/solana-labs/solana/blob/master/runtime/src/accounts.rs#L350
I am trying to perform a metaboss snapshot for an NFT collection
does it say this anywhere in docs?
ahhh i was setting the data len to 200. lemme try that
some method is closed atmainnet endpoint. like getProgramAccounts.
and I think you can use projectserum ones for substitute.
there are many data in mainnet, not sure what data your are trying to fetch. you can take a look at https://lorisleiva.com/paginating-and-ordering-accounts-in-solana for pagination
thanks! but if i create a Regular Token, how can i make it an NFT with uri containing metadata?
NFT is just a token. so use token transfer 
https://solanacookbook.com/references/token.html#how-to-transfer-tokens
Hi <@!788215642070581289> could you take a look at my question please? It should be an easy fix but I am new here haha
check https://solanacookbook.com/references/token.html#how-to-transfer-tokens
I am trying to complete a task with metaboss but using the solana mainnet-beta RPC the error is ""Error:HTTP status client error (410 Gone) for url (https://api.mainnet-beta.solana.com/)" and using the projectserum the connection closes before the task is completed.

Does anyone know which RPC to use?
I remember there is another action to retrieve your funds back. you can use serum's UI to know which instruction is
just guess your account Lve... has initialized but not sure what account he is
an account need to 
1. owned by system program
2. data len should be zero
so that the account can pay fee.
where can i find help regarding transferring of NFT from one wallet to another ?? - in code.
does anyone have any resources/guidance for indexing the entire chain?
Even tho buffer is defined
I keep getting **Buffer is not defined** error
Hey guys, I'm trying to do a spl-token transfer via js. 
This is the function I use **const transaction = await spl.transfer(connection,payer,fromTokenAccount,toTokenAccount,provider.publicKey,1,[],{},SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID)**
Hi I got one last question
In devnet everything works like a charm
now I am in mainnet and I am trying to use metaboss snapshot
The problem is that when I try to use it here I get an error

"Error:HTTP status client error (410 Gone) for url (https://api.mainnet-beta.solana.com/)
Why is that?
Hey, does anyone know how you can close Serum Open Orders Account and get the SOL back? I cannot find anything about closing the account from serum docs
how can i see these log messages "custom program error: 0x0 [3 log messages]
"?
Does anyone have any thoughts on this? I've tried everything I can think of. The TX shows that the account has a balance, but i cant for the life of me figure out why it wouldnt be able to pay fees
hmmm im not sure then
says i have 4 sol

solana balance
how do i check my balances? i've been airdropping
devnet if thats what your using
real sol or airdrop sol?
do you have enough SOL in the acccount to cover TX fees?
i think 0x0 usually means no funds
with -v
i tried flagging w verbose

this is all i get
i'm on dev net
is there a TX signature?
they don't show up
i can't find the log messages
can you paste the log messages?
anyone get this error when making an spl token? Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0 [3 log messages]
https://explorer.solana.com/tx/54HXVhMCFVYMNqoxv6Y8E5dxEry8MPdDicju55xMbdQzT5P4GoGbdKmbCBAaCaXTwfiAGJ3PmCjY9bYJnJ14qXQj?cluster=testnet
here is the TX on explorer, at this point i'm almost willing to pay for someone to help me
if i add the account as `.feepayer` to the transaction i get this error: `This account may not be used to pay transaction fees.`
i am getting so frustrated over here. i cannot figure out why i am unable to send and sign transactions with a newly created account
Hello everyone!

I just have a question, I am about to update the metadata for an NFT which I have in json file, but metaboss is asking for an URI and I am able to upload the metadata to arweave only when preparing a mint through the candy machine.

Is there a way to upload data to arweave systematically?
Thank you
You can do a memcmp filter to query by creator, please check the solana cookbook for reference
Thanks, is there a way to query via creator or only via the owner?
how can i mint NFT from uri without usin metaplax - actions.mintNft()??? can someone help ?
Hi everyone!
I am sending a token with web3 to the account I have defined, so far there is no problem.

But I have a backend in the node, how can I verify this transaction in the backend with signature?
oh yeah
try `#[error_code]` (if you are using anchor)?
<#937905165074300999>
<@!814228493302497301>
metaplex is a protocol that is complusory to use in nft marketplace making  like opensea , solanart?? or metaplex is a marketplace itself?
You should be pasting the DM you received in <#812122623654887444>
what should I do??
hey
i get allot of responses from what it seems to be scams accounts tryign to fish my wallets.. be aware.
Hello. 
I'm looking at offline transaction (offline signing). Is it not possible to construct and sign transaction without knowing the fee payer address?

What I want to do is:
Offline backend signs a transaction.
The backend sends transaction data and signature to any online client.
One client receives the data and sends the transaction. 

I want the client to pay the fee. Thanks!
is there any way to send reqeusts via web3js with proxy?
As per my reading metaplex is a protocol that is complusory to use in nft marketplace making . is metaplex is also a marketplace too like opensea , solanart??
Hey im trying to write an escrow program to transfer NFTs from one wallet to another. but im getting "invalid account data for instruction" on my tansfre instruction.. can someone help pleaseeee???
A lot of NFT platforms, storage solutions, and tools are not fully decentralized. Metaplex is doing the hard thing and designing all of our solutions to be decentralized as it's the vision for web3 that we and many others in our community share. To date, all five of our smart contracts are on chain and future updates are also planned in this fashion. Thanks to the Solana blockchain, which we leverage, we're able to do this and provide a great customer experience.
Beyond Solana, the future is multichain and we're very mindful of this as we make architecture decisions. 



i only about 4 smart contract in metaplex which one is 5th in this?
error was on my end. figured it out, appreciate it
is there some kind of error?
i see. im also coming across this issue where calls to the approve ix in the token program are successful but token delegates are not, in fact, being set as i instruct. is there a reason that you know of for why this could happen?
they are different program Ids.  Not sure if its loaded in the local validator off hand, but you could check the source code and or deploy it yourself.  have not looked much into it yet.
i noticed that there are two different versions here: https://github.com/solana-labs/solana-program-library/tree/master/token
is the current version of the token program thats included in local validators just the standard program or the 2022 program?
you have to understand how wallets work.  most wallets are loaded through other apps and plugins.
?
yea exactly
cant tell haha
what is this app actually doing tho?   aside from checking for an nft
you dont understand what im saying
rust normally isnt used as a GUI. most user wallets are plugin, unless they are connecting by other means.. so that would be through web apps, primarily..
the app will be free but wont work without them having the nft
the nft
yea
so they will purchase your app
so probably
theyll purchase a license for it
are you expecting a user to actually interact with your application by choice?
wdym
not really sure on your design here..  but it depends what your actually trying to do.  that sounds very hacky..
why cant i make something like a server that opens up their web browser, checks if they hold the nft, returns smth to the app and closes
no heh.  if u want them to connect to your app,  thru a web app, most likely youll make a web client, like typescript/javascript.     otherwise u would have some other web app/or client, call your service to check.
you might try the cookbook, soldev, or metaplex docs for the many githubs and places where they have some queries.

https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata
https://soldev.app/
my app would launch a server on localhost:3000 that checks if they have the nft
not sure if thats possible but like
i guess i could pack a server in my app?
the dudes there arent as friendly
you can if your in a browser app, and they connect to your app..  not from your rust app.

there are probably better ways to do it.   as its a specific metaplex NFT type query. im not sure of the type of query off hand.

https://discord.gg/zUQ2bAuz
can i retrieve their pubkey from the phantom wallet extension on their browser
dont criticize the artwork please haha
i own it
heh..  so you need to check what type of NFT that is if its not one you own, or dont already know.
looking for this nft

thats if they are using a wallet,   
if you have the users publicKey, you can check the same way
ahh so a client app,  do you know what NFT your looking for?
you can get all the tokens in the user wallet..  but you have to know what your looking for
i just want to make sure someone has a certain nft
not related to the blockchain or anything
i mean a simple application
its a rust executable

omg wait
its literally a
what do you mean
or you referring to an on chain program or off chain app?
a program on chain does not just launch,  something calls it
idk upon launch it should make sure if someone holds an nft
whatever data your program requires needs to be passed into the program.  including accounts/addresses.   unless that information is explicitly passed in, you may not be able to verify.     how is your program being interacted with to check this in the first place?
assume this:
i have a program that needs a license in form of an nft and the customers use phantom wallet extension on chrome/firefox/whatever. is there a way for me to check if a certain nft is held in the phantom wallet? the program will be written in rust
Solana Cookbook built by the community.  🚀
Thank you! 🙏
My bad! just expanded it and saw the full import --- and program worked!
did you expand full source?  looks like your missing imprts  </>
Tried that !

Where should Metadata be imported from ? 

import { Metadata } from '@solana/spl-token';
//also tried    import {Metadata} from "@solana/web3.js";


const tokenMint = '9ARngHhVaCtH5JFieRdSS5Y8cdZk2TMF4tfGSWFB9iSK' const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint));


Error :Uncaught (in promise) TypeError: Cannot read properties of undefined (reading 'getPDA')
https://solanacookbook.com/references/nfts.html#how-to-get-nft-metadata
Hello - New to Solana and web3. I am trying to read tokens and NFTs held inside Phantom Wallet and displaying it on webpage.

I am able to read tokens held using connection.getTokenAccountsByOwner function ..
How do I read metadata about NFT? ideally, I like to show the image of NFT just as it is displayed on phantom wallet. 
Would appreciate your response.
ok will look into that now, thanks
Try using subsystem for Linux will make your life easier.
hello 👋 . need someone to help me please, some very noob questions for issues im having with running solana on windows. please inbox if you feel like helping me
probably check the histroy in the github, or mango github may have a version 🙂
search on something like `spl_token::instruction::transfer`  in the Solana Program Library github source code.  should be several examples.

program = smart contract.

for some bonus credit, submit the easy example to Solana Cookbook under the similar section, for a rust implementation

https://solanacookbook.com/references/token.html#how-to-transfer-tokens
gm! would anyone be able to tell me where I could find the source code for `realms-explorer.com`? As far as i can tell it's from an older commit of the `governance-ui`  repo but i can't seem to tell which commit. the latest commit is an updated version at `realms.today`
Hi everyone! Does anyone have a good link on how to do a spl-token transfer in a smart contract for a given token (when you already have the mint addr)?
and is the token_program_id is simply the public key of the program which I deployed to manage the transaction?
hmmm, its just a hunch but is farm_id equivalent to stake_pool account?
no. its a complex thing in any eco system. most are still churning out the basics and intermediate items.
I actually see a lot of articles on how liquidity pools works and how farm yields are used to mint tokens but I have not found examples of diy on developing such ecosystem, are you aware of any? thanks for the help:)
no. farm Ids just defined by the protocol. a fee vault is just an account.  its up to you to create them and associate.  the farm program has examples of using other protocols.  if your making your own entirely, you probably want to consider learning how to use one first.
does it help?
It is a minting protocol
There is no information on how the public keys for farm_id and fee_vault is defined also not pre-defined, I have to generate them and send it to the program.
I'm trying to interact with the json rpc protocol on my local devnet using solana-test-validator, I have deployed a program which accepts the following accounts and transfer the fee from user's token account to the fee vault and changes the data in the farm_id data.
whats the protocol your trying to interact with, that actually is the farm?
also, farm_id is generally not generated, its generally pre defined. same for many fee accounts.
it is a simple contract program which activates a farm when a user transfers fees to the vault
every protocol makes their own up.  what protocol is it?
the program i'm working with the developers have not provided with the details and I'm looking for resource on how are these accounts related to each other and details on them
all these things are specific to whatever protocol your working with.
I have to generate keypairs for farm yielding ```        AccountMeta::new(*farm_id, false),
        AccountMeta::new_readonly(*authority, false),
        AccountMeta::new(*creator, true),
        AccountMeta::new(*creator_token_account, false),
        AccountMeta::new(*fee_vault, false),
        AccountMeta::new_readonly(*token_program_id, false),``` I want to learn how to generate keypair for farm_id, fee_vault and token program_id to activate a farm for yielding. I am looking for resource on the farm accounts
just ask here
<@!785084693023424542> can I dm for something specific on how to generate key-pairs for a transaction?
how are the values of farm_id initialized when activating the farm for farm yeilds```AccountMeta::new(*farm_id, false)``` is it just a random keypair?
I was wondering what solana program library file you were modifying to get the memo data to work? I've been trying to modify the solana pay file https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L137-L143 without success.
Hi - I was wondering if you got the memo data to work by using the following file:  https://github.com/solana-labs/solana-pay/blob/d6563f9c5d57ff13b981157a39100000a03c2ca6/core/src/createTransaction.ts#L137-L143 ?
the code is all open source. and there are readmes included and instructions in the repo.  forking and setting up your own Solana blockchain instance there is no real guide that I am aware of, and would take some time to do. someone else may know of more detail or anyone working on a guide.
there are token mints and token accounts.  they are separate. a token account is created using a token mint as a reference when creating the account.  generally, u do not want to change the token owner or authority, and only if your transferring control of the token mint, would you want to change the authority/owner of the mint.  not really sure what find the token account means..   find what token account?
for an spl-token you do not set a fixed price, its determined by the market generally. if your building a dex u can reference serum aldrin and others..
probably varies by rpc and whoever is connecting,  most general timeouts from a client are 30-60 seconds unless otherwise configured,  it depends on the connection method as well.  not sure on what exactly your asking or why.  a call is a call, and generally not something that stays open unless its using a specific method of connecting..
Hello all! I am trying to create my own exchange in which and will swap my own custom spl-token with usdt, I want to provide liquidity in usdt and give my token a price (probably 0.25 USDT) but I want the price to always be that, I don't want it to change. I came acroos solana-labs/oyster-swap and I am building it. But where are the variables that set the property I mentioned?
hey guys, how long does it take for an idle mainnet-beta rpc connection to timeout?
Hi everyone.
I am trying to change the updateAuthority through "spl-token authorize TOKEN_ADDRESS AUTHORITY_TYPE AUTHORITY_ADDRESS"

I can only change the mint authority using the TOKEN_ADDRESS but in the metadata I can't find a token account, which according to the --help is what I need in order to modify the "owner" which is the updateAuthority address. 

Where can I find the token account?
Hi, I am new to Solana. I am looking forward to get some help. Is it possible to create a private chain on Solana network? Can i add my own validators to the private chain? Someone told me it is possible to fork Solana code and do it?
Yes. The way I understand it now that the SOL account and the Token account are seperate. One can have a Token account (with 0.002 SOL) and it works fine even though there is no native sol on the same keypair's primary SOL account. As long there is a 3rd party payer for transfers etc.
I see. Every account in solana has a SOL balance. In order to keep an account on the chain, it has to have some SOL to pay for rent (or enough to be rent exempt).
Thanks for your answer, to be clear when I say primary SOL account I'm using these word's because I don't know any better way to discribe it. If I create a new keypair and add transfer sol to this wallet, this is what I would call adding SOL to the main balance.
hi all. im getting Error: No such file or directory (os error 2)

after calling to anchor idl init
There's 1 token program, but each token has its own mint account (that generates new tokens if a mint authority mints tokens)
Yes it should be rent exempt. What do you mean any SOL balance to primary SOL account? As long as you have some in the token account, it should be rent exempt.
I got the answer for this , I can use switchboard to talk to the apis off chain , they have 2sec limit but I think I will do it with fire and forget model . Just posting here if it would be helpful for anyone.
If I create a keypair and a Token account from that keypair with a 3rd party payer 0.002 sol gets added to that token account. This will render the token account rent exempt correct? I'm wondering if I never add any SOL balance to the primary SOL account will the Token account still remain rent exempt?
Both
If you do a `solana rent 0` (which is the case for accounts created on Solana without storage) you will see a cost/rent amount
hey, is there only one token program in solana or every token have seperate token program?
Ah okay, that's interesting
i think bc u need to give the accounts to the instruction but also tell solana what accounts youll read and write too
hey guys, i have question regarding oracles on solana, is there any oracle for Solana that can connect to custom servers outside of solana? I see pyth and chainlink are just providing data feeds, I want to offload some computation to an external service. Is it possible?
Why does CPI (`invoke/invoke_signed`) require you to specify the list of account inputs both when constructing the instruction + in the `account_infos` param?
Not 100% sure about this
I meant that program-executables are a subset of data-storing accoutns
or user accounts too?
yep, thanks! so does that mean that only data-accounts pay rent?
everything in this line make sense to me except last 4 words 😐
are you talking about program driven address owned accs here?
hey guys, does anyone have a quick answer for how I can determine the data length for a stake account to get rentExemptAmount?
<@!750336829072605336> does tthis make sense?
So, you create accounts whenever you want to either store data (for a program) or create a program
if that owner is a program account, than only that program can mutate the data inside of the account
data accounts can be given an owner
accounts that are not on the curve are used for data-storage and can be programs
in that case they are user-accounts and can be used with a signature
Some accounts have addresses that lie upon the public-key curve
On solana, accounts are used to store data.
2 questions:
1.  What's the equivalent of an account as it is in Solana in Ethereum? I get the feeling that accounts are created when the need arises like transactions, so are they really just a form of a transaction?
2. I asked earlier, maybe someone knows - why did Solana chose to use BPF?
does solana support Sharded wallets?
```rs
use solana_program::borsh::try_from_slice_unchecked;
let account = self.rpc_client.get_account(&self.candy_machine_id)?;
let candy_machine: mpl_candy_machine::CandyMachine = try_from_slice_unchecked(&account.data)?;
```

```
Error: Custom { kind: InvalidInput, error: "Invalid Option representation: 238. The first byte must be 0 or 1" }
```
whenever I try to deserialize candy machine data I get this error
got it, thanks a lot 🙏
For solflare you might need to use the latest wallet adapter
It's all zeroes. You have to separate your thinking a bit here though. When you setup data it has nothing to do with any struct you may have defined in your program. It is the responsibility of your program to serialize and deserialize between the data and your structure
Ah okay, so say I have a struct like 
```
pub count u64, 
pub name string ,
pub other_var: string
```
From my client side, when I create a new account and provide sufficient space for it, initially all my values would be 0s? What would the value be in case of say a non integer data type ?
Any account created with storage, that storage is initially cleared (0's)
Or, often times a program will have an `initiation` instruction that sets up the  initial data.... this is well advised to be in the same transaction as the create account
Sollet also has a warning popup which warns users not to use it.
Sollet seems to work but I have to leave the tab open in my browser.
<@!590982495923732511> If I try using Solflare on any browser nothing pops up, on https://solanart.io/ for example.
Hi so I have been following the solana bootcamp playlist, consider the simple counter example, 
my question is when we first create the counter account, where the initial value ( counter = 0 ) comes from? 
In the client code (https://github.com/jarry-xiao/solana-bootcamp-lectures/blob/master/lecture_1/js/index.js)  , we are using 
```    let createIx = SystemProgram.createAccount({
      fromPubkey: feePayer.publicKey,
      newAccountPubkey: counterKey,
      lamports: await connection.getMinimumBalanceForRentExemption(8),
      space: 8,
      programId: programId,
    });
``` 

In the program side on-chain , we have 
```

#[derive(BorshSerialize, BorshDeserialize, Debug, Clone)]
pub struct Counter {
    pub count: u64,
}

let mut counter = Counter::try_from_slice(&counter_ai.data.borrow())?;
```
My question is how does the initial counter value = 0 comes from ?
There are already two web wallets: solflare and sollet
Hello, is it possible to use Solana without installing a browser extension like Metamask?
Safari does not support these extensions so there is an extra barrier to entry for users who use the default Safari browser on Mac computers or iPhones.
Are there any plans to bring a Web Wallet to Solana or is there already one in the works?
Sure, that works too
I'll DM you <@!590982495923732511>
Update authority is for nfts, that is handled by the metaplex protocol
In the docs there is nothing about it
What is the right value then?
Hello again, we are trying to run "spl-token authorize <TOKEN_ADDRESS> <AUTHORITY_TYPE> <AUTHORITY_ADDRESS>"

Token address and authority address definitions are more than clear, the issue now is that if we use in the AUTHORITY TYPE position "updateAuthority", which is the field name in the metadata, the CLI says "updateAuthority isn't a valid value for <AUTHORITY_TYPE>

Did anyone experience this issue?
i.e. WalletSendTransactionError failed to send
console.log shows me the full error, but when i check error.message/error.name, it gives me a standard error
hi ya'll, how do i get more detailed error code with an dapp using anchor framework on the frontend?
Hey, I had transactions running super smooth on the devnet but running it on the mainnet gives me `Transaction was not confirmed in 30.84 seconds. It is unknown if it succeeded or failed. Check signature...` often. Is there something i could be doing wrong?
Ping me there if you need help
You should really ask in the Metaplex discord
It's deployed on-chain, see `anchor idl fetch`
and 0 NFT are ready to be deployed
Guys, uploading the candy machine my balance dropped of 17 Sol
Ok we found info about the token address
Where can I find the IDL for candy machine v2?
How to get the TPS of solana ?
We have to change the authority wallet on an NFT collection, I can find something in the docs but not that much
You can always trace the accounts by checking the transaction
That is not possible
because I don't want our users  on the client side to be able to view what accounts we are using to transfer money
How do different currencies work on devnet? Like, is there a devnet mint of USDC? and price oracles?
ok thats cool, so lets say I send lamports to my program.

and I want to withdraw it to my personal account.

Will I be able to just use a transfer lamports between the PDA account and my account from another program?
Thank you
Yes
will I be able to see the account using solscanner?
Correct
following the solana cookbook example
is that right?
I find it a little bit hard to understand 😅 

We create a key on the client side with the 
```
  const [pda, bump] = await PublicKey.findProgramAddress(
    [Buffer.from('customaddress'), PAYER_KEYPAIR.publicKey.toBuffer()],
    programId
  );
```
and pass it on to the program.

the program gets the signer key, and the PDA key
check if the expected seeds are the seeds we got.
If so - it creates the address inside the program.
then its creating the PDA account using the invoke signed
🤔
The point of a PDA is to allow a program to sign for an address
nvm updated cargo to 1.59.0 and it works now
with seed and the program id
but its not the whole point of the pda?
that its creating its own unique public key?
You can do `solana config set -k "path to keypair"`
All transactions on solana must declare the accounts they are going to interact with
why does the pda_account is passed from the client side?
When trying to download solana-client and solana-sdk for my Rust project I get this error message. Any fix for that?
Just with "solana-keygen recover" which asks for a seed phrase
But there isn't in the docs a way to log in the CLI with the keygen
So I have the keypair for the authority wallet
I am in the process of updating an NFT collection
I have a couple of questions
I am a web/software dev and I am starting to work with Solana
Hello
missed it 😅
oh theres another section down there
about the program invocation?
Have you seen the solana cookbook
Hey,
can anybody direct me on how to use PDA?
I want to create a program that users will be able to send lamprots to an account that the program created and later on withdraw those lamports to my personal account.

I've  read the documentation about PDA and seen the solana bootcamp video but I'm not sure about where to start.


///////////////////////////////////////////////////////////////////////////////////////////////

Whatever RPC you are using won't allow you to do that. You would likely need a private RPC
More specifically, https://github.com/solana-labs/solana/blob/911c5a836278470db27e92d79ac840826d17e442/sdk/program/src/clock.rs#L67
150
Hey, what is the exact # of blocks that a recentBlockhash stays valid for?
Hey guys .. I am trying to get all `mint accounts` for a specific authority using `getProgramAccounts` with some filters and I am getting this message: `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA excluded from account secondary indexes; this RPC method unavailable for key` .. any workaround to solve this and getting the expected result ? Thanks in advance
<@!489206164270350337> on chain it points to "foobar.sol" which then unwraps it to whichever address foobar.sol is pointing too? still thinking about how this works. So, an nft is minted by "foobar.sol" which then points to "xyz", that can be changed to "def", on chain we have "foobar.sol" and not "xyz"?
Hey I’m pretty new to solana, but spent some time learning the creation of SPL FT’s and NFT’s the past couple days. However, I can’t seem to find any instruction or tutorial as to how I may implement utility into these tokens or NFTs? I understand sols read only programs/smart contracts and how they interact with accounts, and do have a decent understanding of Rust and C++, just having a hard time seeing how programs and tokens are tied together on solana. Or even just how one might add metadata to an NFT, any help or point in the right direction would be appreciated.
If you want to move your assets to a new address, that's up to you. You have no requirement to move assets
<@!489206164270350337> I'll have to ask this properly with a bit more time, as I explained incorrectly I'm afraid.
No, you update the data in foobar.sol to point to an address
<@!489206164270350337> right, my thoughts were you transfer to foobar.sol  that points to an address, in the case where you change foobar.sol to point to a different address, wouldn't you have to transfer your assets to the new address?
The `.sol` name points to an address. They would not have to transfer anything
I've got a question regarding the bonfida name service. So, let's say someone mints as foobar.sol ("xyz" public key), but then after sometime change foobar.sol to "def" public key. They'd have to transfer their NFTs to the new address, is this correct?
I'd recommend going through a little of the rust book https://doc.rust-lang.org/book/ to learn more on Rust. Candy machine is also maintained by Metaplex, so they may be able to help you out with NFT needs https://discord.gg/cjs49KRR
would all nft programs made with candy machine look "exactly" like this? with the same functions and params in functions?
as im here, i found this, https://github.com/metaplex-foundation/metaplex-program-library/blob/master/candy-machine/program/src/lib.rs
```ctx: Context<'_, '_, '_, 'info, MintNFT<'info>>,
creator_bump: u8,
```
and they look like this:
and i need to make a struct with the params for the function
im trying to make a script that can mint my test nfts for me
Because you have a lot of concepts there, such as lifetimes and custo data types
i know unsigned integers
<@!329317263796731904> I think you have to study rust to understand the syntax, which maybe while you do that, learn about data types like u8.
like what is that
this one
what about that witchcraft data type?
okay
the u is for unsigned and 8 is for the number of bits
yes
<@!329317263796731904> what language? Rust?
and this:
u8
hi, what data type is this ? 
Context<'_, '_, '_, 'info, MintNFT<'info>>
<@!489206164270350337> for letting me know! 👍
Just switch based on input
On your app, you can resolve the address given a `.sol` address like this https://solanacookbook.com/references/name-service.html#resolving-sol-domains
I've got an application that uses wallet-adapter, web3, to mint. It's been tested and works fine with regular wallet addresses. Now, noticed there's the "bonfida" names. As my app understand text, and only computes it on signing e.g minting etc, I believe the "bonfida" name would cause it to fail. I'll have to research and see what I have to do there, but guess its not supported natively and I'll have to get the address from the bonfida name server. Correct?
I reproduced, but want to double check everything
Where should I replace the program id with the program I deployed?
okay thanks
So you want to send a String that the receiving program receives and parses to figure out what to do?
You can also serialize an Enum which is the other 'defacto' approach programs use.
The examples which I see are interactive with the program using index key and mapping in the program to fetch the instruction, but what if the instruction is not mapped to a specific key i.e sending raw instruction.
https://solanacookbook.com/guides/serialization.html
This line ```'SendInstruction::SendFee(cost)'``` has to be modified
Borsh
It depends on how the program you are sending the instruction to decodes instruction data. Is it Borsh? bincode? What program?
```function Send(cost): Buffer {
     const dataLayout = BufferLayout.struct([BufferLayout.u8('instruction')]);
const data = Buffer.alloc(dataLayout.span);
dataLayout.encode({
'SendInstruction::SendFee(cost)'
}, data);
return data;
}  ```
how to include custom data for transaction using type script for example
```data: SendInstruction::SendFee(cost).try_to_vec().unwrap()```.
Hmm It is a dependency issue with serde feature since farms have been disabled from the build process believed this was the right forum but thanks will try asking in the anchor server
npm run nftest_all
I have program deployed. Just want to test your code now
What are your setup steps?
Try anchor discord https://discord.gg/K6UXJ8u3
anyone with regards to this error on how to solve it?
library or sdk
What is a solana bookstore?
Greetings colleagues,
I am looking for some guide to buy tokens or swap through solana bookstore. Can someone help me?
here you go:
https://github.com/aMittelmanNFT/testing_solana
Gotcha, thank you
Thx mate, appreciate your help!
You'll have to do some source diving
You can create a program to do this, or create a transaction with multiple instructions and have each account sign the tx
Can you shortly describe how to grab it? Like in which section it can be found? 😄
```Their program or contract is not open source```
There's lies your problem. You need to contact them for the source or grab their idl in their webpage
Guys, does solana support sending from multiple wallets to multiple wallets in a single transaction like bitcoin does? Or is it only one-to-many?
Hello guys, I am sure a lot of you have faced such issue. I spent all night trying to figure out how to solve it, but unsuccessfully.

So the main Idea is that I want to create **buy function for NFTs** listed on **Magic Eden**. Their program or contract is not open source so I dont know which data they need.

**1.** I have tested it out and fetched request in the browser (when hitting that buy button) with encoded transaction.
**2.** then -> 
```javascript
const buf1 = Buffer.from(b64string1, 'base64'); //where buf1 is transaction string
```
**3.** then -> 
```javascript
const tx1 = Transaction.from(buf1); //i got transaction object, cool
```
The main problem now is that there are 3 instructions included, and each of them has Buffer type data, like:
```javascript
<Buffer f2 23 c6 89 52 e1 f2 b6 fa 00 a3 e1 11 00 00 00 00>
```
Do u have any Idea **how to decode it**? I have tried almost everything, but maybe there are some methods in web3 library as I am not really familiar with it yet.

Thx in advance.

*PS: checked ME discord as well as metaplex discord, nothing was found*
Still looking into it. Could you put everything so I can reproduce on my side?
I've tried them - they haven't responded to requests on Telegram. I'll try their Discord.
Switchboard.xyz
any clue regarding my error ?
Thanks alot
Token-list repo itself is where support is done https://github.com/solana-labs/token-list
Sure I won't tag, can you please refer their support community
Hi All, looking for a sol based oracle service that allows us to pull from a custom dataset and one that offers rng capabilities. Do either of these exist? we've spoken with chainlink and they don't have a date for either as of yet.
Please do not tag here. Also, spl-token metadata is currently managed by token-list, which is not supported on this discord
Hi @here, hope you guys for having a great day. I have a couple of questions regarding SPL-Token.
Is it possible to update parameters in a merged Token-pull request?
Being specific:
- Is it possible to update token Symbol & Name?
- Is it possible to update associated attributes i.e. Tags, Extentions, Social links, Weblinks, Icon etc
- Is it possible to update token address?

If possible, what are the conditions and limitations?
My gratitude in advance.
You can add them as instructions to the transaction objects, or wait for one transaction to confirm before the next
Ah ok. But if I want to have in specific order, I have to make them into one transaction from instruction object?
THANK YOU!
Looking into it
If they have no overlapping writable accounts, then you can push them out and they may be included in the same block. You can always broadcast transactions at the same time, but there is no guarantee on ordering
Hello. 
Is it possible to send two raw transactions at the same time? Each transaction is signed by different account.
Likely not a good idea to go with a BTreeMap for maps. Check the link sent, gives more options
Max size of a pda is 10kb
also - 
https://github.com/aMittelmanNFT/testing/blob/main/processor.rs
Thanks, btw I have a question about BTreeMap in Solana programs. Am I limited by the 32kb heap size (https://docs.solana.com/developing/on-chain-programs/overview#heap) when deserializing BTreeMap inside a Solana program, although the maximum size of an account is 10mb?
can this help ??? (thank you so much for the help!!!)

https://github.com/aMittelmanNFT/testing/blob/main/account_1_listing.ts
gm frank ☕
<@!489206164270350337> ☕
Do you have a github? Are you positive that the account grabbed is the token program? I do not see any validation on that
let token_program = next_account_info(account_info_iter)?;
        let owner_change_ix = spl_token::instruction::set_authority(
            token_program.key,
            temp_token_account.key,
            Some(&pda),
            spl_token::instruction::AuthorityType::AccountOwner,
            initializer.key,
            &[&initializer.key],
        )?;
No, however you are using that program on your escrow program itselff
you mean this - "  { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false }," ?
And what about the token program?
this is the only use i have in the processor for the programId - 
let (pda, _nonce) = Pubkey::find_program_address(&[b"escrow"], program_id);
I wouldn't be able to tell you without the program itself. I do see that you are referencing the token program though. You may be doing something incorrectly with the token program itself on the program side
const initEscrowIx = new TransactionInstruction({
    programId: escrowProgramId,
    keys: [
      { pubkey: account1Keypair.publicKey, isSigner: true, isWritable: false }, //signer
      {
        pubkey: tempAccount1Keypair.publicKey,
        isSigner: false,
        isWritable: true,
      },
      {
        pubkey: account1Keypair.publicKey,
        isSigner: false,
        isWritable: false,
      },
      { pubkey: escrowKeypair.publicKey, isSigner: false, isWritable: true },
      { pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false },
      { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },
    ],
    data: Buffer.from(
      Uint8Array.of(
        0,
        ...new BN(1).toArray("le", 8),
        ...new BN(auctionEndsTimeStamp).toArray("le", 8)
      )
    ),
  });

how does that looks like ?
OK
This is a question for the serum team. Try their discord https://discord.gg/HzjSuzZe
You do not "confirm" a transaction that was finalized earlier. Transactions you create but do not broadcast are only valid for 150 blocks. Past that they are invalid and will not broadcast
hi, I am playing around with serum APIs. I got to the point where i can access a Market and list `bids` and `asks`. What is the way to get the actual current price ? Is there a proper way to calculate from the orderbook ?
That means you are creating your instruction incorrectly, or your program is referencing another program incorrectly
You can. You would just have to do what `mintNFT` does under the hood after creating the mint account https://github.com/metaplex-foundation/js/blob/a4274ec97c6599dbfae8860ae2edc03f49d35d68/src/actions/mintNFT.ts#L44-L114
how long back can we go to confirm transaction? i am trying to confirm tx that was finalized 1hr ago, and i get 30s timeout.
yes. this is the error im getting (devenet):

Program GKb2g458CcFjmwwg1jwbkNsavr5hQf6Sujf75DPzmz3V failed: incorrect program id for instruction
So you're failing at the transaction creation, not at the deploy?
im not using anchor... 
i run: cargo build-bpf
then running the deploy line showing in the build-bpf output.
i take the programId generated from the deploy and this is the program id im using for my instruction.... is that wrong ?
I guess my question is a bit misleading. What I'm asking is can I create a new mint account myself when minting rather than the mintNFT function creating one for me?
Within the token program, you cannot change the transfer mechanics
not really just read https://docs.solana.com/cli/deploy-a-program you will get an understanding
This means you're using the wrong program id for one of the instructions. If during deployment, it could mean you need to use a different id. If deploying using anchor, this is in the `target/deploy` folder
metaboss is NFTs, please check out <#937905165074300999>
Here's a nice guide on doing maps on Solana https://solanacookbook.com/guides/account-maps.html
hey! thanks for the help.. can you please a bit ellaborate on that ? should i replace my keypair in the solana config to the one in the target/deploy folder?
The NFT metadata address is derived from the mint, so you have to create a new one each time.
Is there a way to use a previously generated token as the account which holds the NFT when minting it? Because the mintNFT function creates a new token but instead I would like it to be one I created beforehand and just assign the NFT to it.
No, but you can use a BTreeMap
Can I use HashMap in a Solana program? What's the equivalent of `mapping` of Solidity in Solana programs?
Hi people, is there a reason why the "metaboss snapshot mints" command now takes forever while 10 minutes ago it was so fast? Is it Solana congestion?
The solana program deploy is using your wallet address in the config file, you should deploy using the keypair generated during building using -k flag placed in the target/deploy
hey, im trying to deploy my program but i get "incorrect program id for instruction", i double checked that this is the corrent program id generated after running "solana program deploy...."....

the only thing i noticed that might be the problem is that the "my_program_keypair.json" file placed in the target/deploy folder is different then the one showing on the solana config get - in the KeyPair path... is that a problem ?
how do i incorporate burning mechanism into a spl token i created (on dexlabs's minting lab)
?
Hi, how can I get from a phantom wallet all the TokenAccounts minted on my program?
must I loop through all the tokens in the wallet, looking for an optimal approach.
please.
hi all 
how do i create stack account for SPL token?
can you explain how to get token transfer onprogramaccountchange
but data not matching with magiceden or solscan
i used onprogramaccount change to listen to token transfers
could you please elaborate
onprogramaccountchange data is not matching with magiceden
has anyone came across theses errors while building farm program from solana-program-library https://github.com/solana-labs/solana-program-library

```error: cannot find attribute `error` in this scope
  --> /home/kali/.cargo/registry/src/github.com-1ecc6299db9ec823/vipers-1.6.1/src/lib.rs:58:3                                             |
58 | #[error(offset = 1100)]
   |   ^^^^^
   |
note: `error` is imported here, but it is a function-like macro
  --> /home/kali/.cargo/registry/src/github.com-1ecc6299db9ec823/vipers-1.6.1/src/lib.rs:10:5                                             |
10 | use anchor_lang::prelude::*;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

error: cannot find attribute `msg` in this scope
  --> /home/kali/.cargo/registry/src/github.com-1ecc6299db9ec823/vipers-1.6.1/src/lib.rs:60:7                                             |
60 |     #[msg("Keys do not match.")]
   |       ^^^
   |
note: `msg` is imported here, but it is a function-like macro
  --> /home/kali/.cargo/registry/src/github.com-1ecc6299db9ec823/vipers-1.6.1/src/lib.rs:10:5                                             |
10 | use anchor_lang::prelude::*;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

error: cannot find attribute `msg` in this scope
  --> /home/kali/.cargo/registry/src/github.com-1ecc6299db9ec823/vipers-1.6.1/src/lib.rs:62:7                                             |
62 |     #[msg("Associated token account does not match.")]
   |       ^^^
   |
note: `msg` is imported here, but it is a function-like macro
  --> /home/kali/.cargo/registry/src/github.com-1ecc6299db9ec823/vipers-1.6.1/src/lib.rs:10:5 
```
btw: I figured out it is due to a picture filesize or picture amount limitation
Can someone point me into the right direction or channel? the Solana explorer project registration seems to be down or buggy since at least a week
Trying to build farm-client from solana-program-library/farms/farm-client but end up with errors from other dependencies any nudge on how to solve it ?
merged <a:partysolana:736734768565321738> https://github.com/solana-labs/solana/pull/22738

and the code is this
hi im trying to use this command but i have this error (TypeError: tx.serializeMessage is not a function)
thank you!!
but data not matching with others
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#onProgramAccountChange
Can someone please help with this?!! Been stuck on it for hours now 🙏
onprogramaccountchange
no events
do you mean how to transfer NFT using solana/web3 ?
thank you 🙂
that feature will prevent ATA ownership changes, it doesn’t affect delegate approvals
<@!445425471027544095>  apologies for the tag, can we not `approve/delegate` ATA accounts with this PR ?https://github.com/solana-labs/solana-program-library/pull/2854)
ty sir
they live here now: https://github.com/solana-labs/solana-program-library/tree/master/token/zk-token-protocol-paper
I'm sure he explained this here
"When including a signed account in a program call, in all CPIs including that account made by that program inside the current instruction, the account will also be signed, i.e. the signature is extended to the CPIs."
Can i decode signature at this state? Get token amount, from, to, etc
hi
can you help
to get nft transfers using solana web3.js
Hello everyone,
does anyone know how to listen to all the transactions  of a program?
Hello, I've been following the NFT tutorial from the cookbook. However, I ran into a problem when calling the mintNFT function - it calls an axios get request that expects to return MetadataJson, but from what I can see it returns binary data and therefore all the metadata prameters (inlcuding the creator) are set to undefined. As a result it returns a creator error and I can't mint the token.
<@!445425471027544095> did you pull the spl zk token papers because theyre inaccurate enough that they shouldnt be read? or just general housekeeping
Ok thank you. So no way to view the token amount, sender, recipient etc. Need to wait for it to confirm on chain?
hi, i get recentHash use this method, after base58 encode to string, why it is not same with the blockhash in explorer. i check the base58 encode method is right
i want to get latest token transfers
hi
on paulx dev git this is code to transfer money from one account to another account
```
let transfer_to_initializer_ix = spl_token::instruction::transfer(
            token_program.key,
            takers_sending_token_account.key,
            initializers_token_to_receive_account.key,
            taker.key,
            &[&taker.key],
            escrow_info.expected_amount,
        )?;
        msg!("Calling the token program to transfer tokens to the escrow's initializer...");
        invoke(
            &transfer_to_initializer_ix,
            &[
                takers_sending_token_account.clone(),
                initializers_token_to_receive_account.clone(),
                taker.clone(),
                token_program.clone(),
            ],
        )?;
```
but i am enable to understand how this transaction is signed? :/
I thought that one of the reasons for the above error might be that Account was specified as a deprecated method (https://github.com/solana-labs/solana-web3.js/blob/master/src/account.ts). I replaced it with Keypair, which has been suggested as a method with a similar function, as shown below. As a result, I got the following error. After checking the contents, it seems that Keypair cannot be specified as the owner of the order. If there is any way to solve this problem, please let me know.

○Source Cord
import { Keypair, Connection, PublicKey } from '@solana/web3.js';
import { Market } from '@project-serum/serum';

// wait method

let connection = new Connection('https://solana-api.projectserum.com');

// settings
let marketAddress = new PublicKey('7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ');// "name": "SOL/USDC"
let programAddress = new PublicKey("EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o");// "name": "SOL/USDC"
let market = await Market.load(connection, marketAddress, {}, programAddress);
console.log("◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇1");

// Placing orders
let owner = new Keypair();
console.log(owner);
let payer = owner.publicKey; 
console.log(payer);
await market.placeOrder(connection, {
  owner,
  payer,
  side: 'buy', // 'buy' or 'sell'
  price: 1.,
  size: 1.0,
  orderType: 'limit', // 'limit', 'ioc', 'postOnly'

○Error
    return new TSError(diagnosticText, diagnosticCodes);
           ^
TSError: ⨯ Unable to compile TypeScript:
typescript-start/src/NewOrder.ts:20:3 - error TS2322: Type 'Keypair' is not assignable to type 'Account'.
  Types of property 'secretKey' are incompatible.
    Type 'Uint8Array' is missing the following properties from type 'Buffer': write, toJSON, equals, compare, and 66 more.

20   owner,
     ~~~~~

  typescript-start/node_modules/@project-serum/serum/lib/market.d.ts:110:5
    110     owner: T;
            ~~~~~
    The expected type comes from property 'owner' which is declared here on type 'OrderParams<Account>'
I'm currently writing code to place an order using serum-ts (https://github.com/project-serum/serum-ts/tree/master/packages/serum), which is a DeFi DEX. The code I'm using is the following "Usage" sample code from the above github.
Also, below is the source code and the error that I am running. What is the meaning of the error "ReferenceError: System is not defin" that is output as an error? I would like to know if there are any environment settings required to run the following source code.

○Source Cord
import { Account, Connection, PublicKey } from '@solana/web3.js';
import { Market } from '@project-serum/serum';

// wait method

let connection = new Connection('https://solana-api.projectserum.com');

// settings
let marketAddress = new PublicKey('7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ');// "name": "SOL/USDC"
let programAddress = new PublicKey("EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o");// "name": "SOL/USDC"
let market = await Market.load(connection, marketAddress, {}, programAddress);
console.log("◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇◇1");

// Placing orders
let owner = new Account();
console.log(owner);
let payer = owner.publicKey; 
console.log(payer);
await market.placeOrder(connection, {
  owner,
  payer,
  side: 'buy', // 'buy' or 'sell'
  price: 1.,
  size: 1.0,
  orderType: 'limit', // 'limit', 'ioc', 'postOnly'

○Error
import { Account, Connection, PublicKey } from '@solana/web3.js';
^
ReferenceError: System is not defined
okay so i followed the quickstart quick and ran the `./setup-test-validator.sh` script it worked fine and gave me the vote account pubkeys! 
now after when i give the `$ solana delegate-stake --force stake.json(keypair path for the stake account) vote account that i got from the script`
`--force supplied, ignoring: Bad parameter: Unable to delegate. Vote account has no root slot`
`Error: RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: Invalid account owner [2 log messages]`

this is what the command outputs when i give it this command
did you try running the help?  --help  ?  

id also reference this:
https://spl.solana.com/stake-pool/quickstart
yeah but `spl-stake-pool create-pool --epoch-fee-numerator 3 --epoch-fee-denominator 100 --max-validators 1000`
this is the command that i'm running in the CLI using the spl-stake-pool cli command! So I don't understand how do I pass in any other account
probably means your missing some accounts that need to be passed.
hello everyone, i hope y'all are doing good!
So i'm using the spl stake pool cli and trying to create a pool using the command `spl-stake-pool create-pool` but it fails on the creating stake pool instruction and says `Error processing Instruction 2: insufficient account keys for instruction`
any insight on what's up with that?
thats not an option i just have power shell, bit dash and java script debug terminal
saves a lot of problems in the future and most things dont even work with cmd
use WSL
hello im trying to install solana but its not able to find it i think
Hello guys I ran a single node validator for my local testnet. But I cannot connect to its rpc. Any idea what and how can i connect to it? I am testing using the native explorer ..
yeah, thanks for the help. I think I fixed it by using `require('@solana/spl-token')` but now anchor's screaming at me about some other module 🙄
It's probably best to ask in a node.js discord
I do, my project's node_modules contains the right version of spl-token
I'm pretty sure modules install their own dependencies locally. Do you not have a top-level install for spl-token?
Hey, I'm trying to do some SPL Token shit on typescript and I'm trying to use `@solana/spl-token` v0.2.0 as per the Solana Cookbook. However, I'm also using the `@metaplex/js` module which requires `@solana/spl-token` v1.8.0. I checked `@metaplex/js`'s package.json and it lists v1.8.0 as a dependency, and in my project package.json I list v0.2.0 as a dependency. Even after running `npm install`, it looks like when I `import * from '@solana/spl-token` it's still on v1.8.0. When I ctrl-click on the filepath it points me to `@metaplex/js`'s own node_modules folder which has v1.8.0. I thought npm would already handle version conflicts like this but I think I may be doing something wrong... I'm kinda inexperienced with npm so I'm not sure what to do here
Chain logs:
```
Transaction executed in slot 28254:
  Signature: 21yuSA5Cz6fbHznZzk8cUfqAxq1ic9d7m7NkTF5CjprhnS7RwmrSE2s2xBdx3WncsVFwCZHVh9Ayn8h2SfUPZLEg
  Status: Error processing Instruction 0: invalid account data for instruction
  Log Messages:
    ELF error: Unresolved symbol (sol_memcpy_) at instruction #5671 (ELF file offset 0xb050)
```
Now I'm getting a new error when attempting to deploy the helloworld example:
```
Error: Deploying program failed: Error processing Instruction 0: invalid account data for instruction
```
It seems to be failing during the "finalizing transaction" step of the deployment script
This issue spontaneously fixed itself when I deleted the auto-generated keypair json file and had the deploy function generate a new one
What information? The signature is just the data of the transaction encrypted with the private key.
Say I sign and send a transaction. I get a signature that is created, I want to get information from the signature before it even starts confirming on the chain. What is the best way to do this?
I have some question about zk-token-protocol:
- Due to the available and pending feature, isn't a balance of 0 not confidential?
- A transfer of a certain amount from a sender is confidential, but sending again the same amount is not confidential, as in it is clear it is the same amount as before. But not how much.
gone after moving crate around O_o
solana program close
But what does it do internally?
init annotation
anchor
What is the best way to create an account inside a program?
any ideas of what i can do?
mainnet node is messed up atm
can't deploy our program
tx just stuck on finalizing transaction
also there are no log messages on-chain despite the error message suggesting it
Ugh, why would I be getting "unsupported program id" when trying to deploy the helloworld example to my local testnet?

```
Error: Account allocation failed: RPC response error -32002: Transaction simulation failed: Error processing Instruction 1: Unsupported program id [2 log messages]
```
I've verified the auto-generated keypair exists, and I've also tried explicitly passing the file path using `--program-id`
Running into a weird issue when calling a custom program through Phantom. Who's seen this before?

```Phantom - RPC Error: Transaction creation failed. {code: -32003, message: 'Transaction creation failed.'}```

Here's how I am setting up the transaction. The function doesn't take any arguments...

```from = window.solana.publicKey;
let keys = [{pubkey: from, isSigner: true, isWritable: true}];
const programId = new solanaWeb3.PublicKey(<PROGRAM_ID>);
let transaction = new solanaWeb3.Transaction().add(
      new solanaWeb3.TransactionInstruction({
        keys: keys,
        programId: programId,
        data: {
                "type": "Buffer",
                "data": [
                    0
                ]
            }
      }),
    );```

```{
  "version": "0.1.0",
  "name": "frcnt",
  "instructions": [
    {
      "name": "initialize",
      "accounts": [],
      "args": []
    }
  ]
}```
Hi, I have checked the corresponding accounts and found that the data are there, but the transfer history and signature are missing. I wonder if this is the behaviour on testnet only. Or it would happen on mainnet as well.
lads, what is the Cli command to close a program account to get back exemption fee?
Ah, I found the solution: https://github.com/solana-labs/solana/issues/21053
Does anyone know why I would be getting
```error while loading shared libraries: librustc_driver-a8aaff3fbd0bfff2.so: cannot open shared object file: No such file or directory```
while trying to build using `cargo build-bpf`? I'm doing this on WSL 2, and I have installed both Rust and the Solana CLI. Both work fine independently, but there's something wrong with `build-bpf`.
I see only business hitting the system_instruction_processor
I don't see logs from the program under test
Where have the logs during program_test with test-bpf gone to?
anyone working with anchor test and using createMintandVault?
If they are all under the same collection parameters will they be added on secondary markets together?
Does anyone know how I can create an expandable nft collection, one that increases in supply over time? What is the cheapest way and can I just use the Solana client?
is there a way to disable features on localnet for solana v1.8.x? ex: i want to disable the transaction-wide cap since it's not implemented on devnet and mainnet yet, but its enabled automatically on localnet
create_account instruction on the system program:
```
   const ix = SystemProgram.createAccount({
      fromPubkey: sdk.provider.wallet.publicKey,
      newAccountPubkey: newAccountKP.publicKey,
      space: MintLayout.span,
      lamports: await SPLToken.getMinBalanceRentForExemptMint(
        sdk.provider.connection
      ),
      programId: TOKEN_PROGRAM_ID,
    });
```
okay I figured out my own problem; the signTransaction method modifies the transaction object you pass to it. Kind of weird if you ask me.
i get this: **error: Invalid value for '--program-id <PROGRAM_ID>': unrecognized signer source** after: anchor deploy please help ive been stuck for 2 hours now
Hello all, anyone knows how to limit users mint (ex: only 2 mints per user) without token?
I'm guessing that the entire transaction is serialized in some way, and then the wallet-owner uses their private key to create a hash of that transaction (the signature), which it returns by adding it to the signature array. But maybe I don't understand something.
I might be misunderstanding something;

I'm creating a `transaction` in Typescript, and then I call `signTransaction(transaction)` which prompts the user's wallet to sign the transaction. After that I get back the signedTransaction object. However comparing the before-signed and post-signed transaction objects, they're the same:

transaction.signatures[0].signature = signedTx.signatures[0].signature

what am I misunderstanding?
web3 library allows for `Keypair.generate()`
Gm Solana fam!  I'm trying to construct an AccountClient for Metaplex's candy machine and am wondering if someone here knows how to use the constructor?  https://project-serum.github.io/anchor/ts/classes/AccountClient.html.  If so, I'm confused about what the second parameter is asking for "IdlAccount"?  I believe this is different than the programId which in this case would be `const CANDY_MACHINE_V2_PROGRAM = new anchor.web3.PublicKey('cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ');`, right?  Is IdlAccount implying a specific candy machine id (this wouldn't make much sense seeing the `all()` method available to the AccountClient it would seem IdlAccount is something more generic)
Chainlink API calls aren't yet supported on Solana, but I think it may be in the pipeline for a future feature
I don't think so, this is used in an airdrop script I wrote and I just get this error on a few addresses, 99% are successful
anyone with anchor deploy experience? need some help
i.e., is checking reward comissions enough or would looking for the voting account in the account_keys be better? are there edge cases?
when getting a block and filtering for only non-vote txns, what's the most sure-fire way to do this?
but now iam getting this Transaction simulation failed: This program may not be used for executing instructions
okay i was using wrong keypair
and then used sameId to rpc
I deployed program to my solana-test-validator local network
generally means the program id u specified or are trying to call does not exist
Does anyone have any pointers on how to calculate transaction fees? it seems that using `getFeeForMessage` would cause circular logic problems if I'm trying to fund an account with exactly enough lamports to send a transaction no?
hmm that sounds like maybe you have your signer and your receiver keys swapped in your signer array?
Hi, when using the spl token method `getOrCreateAssociatedAccountInfo()` (from @solana/spl-token in TS) I sometimes I get this error thrown : `Owner cannot sign`  followed by the pubkey of the wallet I'm trying to send SPL tokens to.
Any idea why I'm getting this error and how to fix it ?
Transaction simulation failed: Attempt to load a program that does not exist
anyone have experience with this issue?
Does there currently exist the ability to create a token (a parent token), and then create subsequent child tokens such that someone can determine the parent of a child or if a child belongs to a parent token?

Something like this pseudo example:
```
parent = Mint(address: '32uh4.....kam324o')
child = Mint(address: '....', parent_mint: '32uh4.....kam324o')
```
Hi All - I am trying to run the cashiers check example from here https://github.com/project-serum/anchor/tree/a604f8595c875a23b8e13c8569577d6a6b1c79bd/tests/cashiers-check. I was able to build the program successfully, but am struggling with the test cases. I keep encountering this error:
Program log: Instruction: InitializeMint
Program log: Error: Lamport balance below rent-exempt threshold
I am running this on devnet and have sufficient balance in my solana config wallet to fund account creation.
I was updating a program deployed on mainnet when connection broke of and I had to Ctrl-C

I didn't get the usual "deployment failed here's your wallet to collect funds" - but the wallet lost something like 5 SOL

is that gone forever or is there a way to recover?
sounds like an escrow is def a fine option for this.  an escrow is just an account that holds funds until a claim/decision is made by an authorized party (in this case winner).  the scrow examples are fairly simple.  there are some tutorials to walk through escrows as well, in native and in anchor.  

rust:
https://hackmd.io/@ironaddicteddog/solana-starter-kit#2-Escrow-Program-using-vanilla-Rust
anchor:
https://hackmd.io/@ironaddicteddog/solana-anchor-escrow
Here is a good one I found -- ..https://medium.com/solana-labs/sealevel-parallel-processing-thousands-of-smart-contracts-d814b378192
I think I'm misunderstanding something fundamental, so this is probably a stupid question, but here goes:

I'm trying to build a turn based time limited game where at the end of the game the winner of the round gets both their own bet back and the opponent's bet. I've been following the escrow examples, but they seem pretty complicated for what I'm trying to do - essentially what I'd like the program to be able to do is to charge a bet when the user calls join_game RPC, and then return the bets to the winner at the end of the game.

Is there something fundamentally wrong with this idea? If not, is there an easy example of this that I could follow?
Use `Result<()>` instead (this is a change in the latest anchor version)
its the hello world test

Guys Iam getting this error after anchor build


///////////////////////////////////////////////////////////////////////////////////////////////

Hello solanians... Quick question I am calling the following function:
`const getTransactionAccountInputs = await connection.getParsedConfirmedTransactions(signatures, 'confirmed')`
How would I get the fee payer, I know how to do that from a confirmed transaction but not from a parsed confirmed transaction (or is there another call I should use rather than getParsedConfirmedTransactions)
I was using getConfirmedTransaction in a loop but that is not efficient - and a parsed transaction doesn’t have a feePayer object
Thanks. All I need to know
Understood 🙂 thanks a lot
If you have your own validator with the rpc open, I believe you can just hit it via the rpc.
Ok, thank you very much. If I have my own server with a validator, do I need to send rpc requests or is it possible to use some program on this server to forward transactions to the leader directly?
You can send a transaction any time on the public rpcs, you'll just be rate limited if you try too many at once
So the endpoints in the documentation are a bunch of rpc servers. There's a bunch of other rpc providers like genesysGo, quicknode, etc. If you have your own non-voting validator, you can send transaction through it. The rpc will forward your transaction to the leader to get added to the block
Hey! Is there any good way to make transactions NOT by sending requests to mainnet endpoints from solana documentation. I know about some solana rpc node services but I don't understand how do they work. I found this in solana docs 
`While you can run a validator on a cloud computing platform, it may not be cost-efficient over the long term.

However, it may be convenient to run non-voting api nodes on VM instances for your own internal usage. This use case includes exchanges and services built on Solana.`
Does it mean that with your own validator you are able to send any transaction anytime? Sounds weird. 
I would be grateful for any advice
thank you! Greatly appreciated
Shouldn't be too much info then. I'd suggest what <@!202739061796896768> stated. Basically it is generally good to go get your own rpc if you're using getProgramAccounts
I haven't tried the programs function though
this one has always worked so far ``https://ssc-dao.genesysgo.net/'`` (exchanged for ``web3.clusterApiUrl('mainnet-beta')`` in new connection)
<@!489206164270350337> trying to get all accounts tied to Raydium - identify all LPs
<@!202739061796896768> interesting, what did you use in the past?
Might be worth playing around with the RPC connection you are using, some of them blocked some of these functions
What endpoint are you using and what program?
https://solanacookbook.com/guides/get-program-accounts.html#facts hey guys I am trying to use getProgramAccounts but it keeps timing out, I tried making it copy zero bytes and just get the afccount IDs but same issue - anyone have a potential solution? Is there anything besides the accounts DB program?
that makes more sense ty 😄
ah gotcha
not true.  only the ATA owner can burn tokens they hold.  There is a freeze authority in the mint, that if enabled, can freeze any token account for that mint
Is it true that the mint authority of a token can burn the token in any ATA?
Thanks other jacob!
We get this asked a lot, going to add it to the cookbook
Not sure on tutorial, but you can use `signMessage` to sign a challenge in the normal jwt flow, and use tweetnacl to verify the sig on the backend
In node js specifically
Is there a tutorial for adding wallet auth to an API endpoint? Something like generating a signed message on the front end a verifying on the backend?
welp, i guess i'll just revert back to 1.8.14 haha. thanks for the help regardless
There's a bunch of changes between 1.9.X and 1.8.14 that could cause problems
Do the same version as mainnet, or 1.8.14 as of right now
aww, i am. Is there a recommended version to be on if i am developing for devnet/mainnet?
Glad you got it working! Just a heads up though, if you're developing for devnet/mainnet, you may have issues deploying with 1.9.4 cli
appreciate the help <@!489206164270350337> <@!814228493302497301> !
oh wow i got it to work from binary! I know what the issue is now. I was originally using a third party terminal that ran rosetta by default. So i think when i did the curl command, it installed the wrong binary. When i opened up a non rosetta terminal to run the curl command to re-install the binary, it works!!
You can transfer the ownership. Just won't be able to sign
You got it working building from source?
Sure. I cant sign. I was specifically asking about creating  a PDA. As far as I understand we cant create a PDA outside of a related program? We can create an account with a PDA address that belongs to System program, but we cant transfer ownership of it to related program since it has no private key to sign?
I am trying to totally understand without making a fatal mistake)
Looking at the script... looks like it should have worked
anyway to check? if the curl command installed the wrong binary
The binary for m1 exists for 1.9.4... wonder if it didn't get picked up correctly
yes correct
But you installed the binaries with 1.9.4, yes... curl
That works. But I saw that you ran the curl install
when you say from binary, do you mean building it from source? for 1.8.14, i just pulled the repo, ran this script `./scripts/cargo-install-all.sh .` and it worked out of the box
Oh, from binary right?
for context, i was able to have it working with `1.8.14` but when upgrading to `1.9.4` i have this issue
He tried with 1.9.4
I was able to get through. Hmm
That should be fixed on `1.8.7`+
The CLI install chokes on `solana-test-validator` unless you do rosetta and <@!885945841196597308> was hitting that for the first time 👆
gm Frank
Wait, problems with m1?
🙂
Good luck, the arrows in your back will help when my M1 Max arrives
damn thanks 🙏 ! super helpful. I'll try out these approaches
The M1 has enough juice that with rosetta it would be unnoticeable from performance but the second link may fit your bill
https://dev.to/ibossptk/solana-test-validator-on-m1-without-rosetta-9ol
https://dev.to/nickgarfield/how-to-install-solana-dev-tools-on-an-m1-mac-kfn
shit... ok this is another issue.

```
solana-test-validator
Ledger location: test-ledger
Log: test-ledger/validator.log
⠙ Initializing...
zsh: illegal hardware instruction  solana-test-validator
```

I'm assuming this has something to do with mac m1. do you have any pointers here?
OMG that worked!! thanks!
`export PATH="/Users/YOURUSERHERE/.local/share/solana/install/active_release/bin:$PATH"`
So your path may need to be updated
ls -la .local/share/solana
I think it should be something like `/path/to/solana/bin/solana`
```
solana --version
solana-cli 1.8.14 (src:devbuild; feat:1006352700)
```

i think the `~/.config/solana` path is where solana stores the metadata for stuff. is there a path where solana installs the binaries?
also `solana config get` shows you important stuff
verify that it will be invoked with:
`solana --version`
On a mac:
~/.config/solana
I'm trying to write a Solana sending function that forever retries to send a transaction until it succeed. However, it still fails when not confirming a transaction the first time (try/catch doesn't work).

Could anyone give me a pointer on a better way to forever retry sending the tx?

Thank you!
```

/**
 * Sends Solana with a fallback -- calling optional functions on each step (such as logging calls)
 */
function sendSolanaWithFallback(receiver: string, appWallet: Keypair, lamportsToSend: number, completeFunc, errorFunc, finalErrorFunc, maxFallback = 5, counter = 0) {
    var connection = createConnection()
    let transaction = new web3.Transaction()
    transaction.add(
        web3.SystemProgram.transfer({
            fromPubkey: appWallet.publicKey,
            toPubkey: new web3.PublicKey(receiver),
            lamports: lamportsToSend
        })
    )
    try {
        web3.sendAndConfirmTransaction(
            connection,
            transaction,
            [appWallet]
        )
        if (completeFunc) {
            completeFunc()
        }
    } catch (error) {
        if (counter <= maxFallback) {
            setTimeout(
                () => {
                    sendSolanaWithFallback(receiver, appWallet, lamportsToSend, completeFunc, errorFunc, maxFallback, counter + 1)
                    if (errorFunc) {
                        errorFunc()
                    }
                },
                1000 * (30 * counter + 1)
            )
        } else {
            if (finalErrorFunc) {
                finalErrorFunc()
            }
        }
    }
}
```
thanks for the help! appreciate it. 

```
sh -c "$(curl -sSfL https://release.solana.com/v1.9.4/install)"
downloading v1.9.4 installer
Install is up to date. 1.9.4 is the latest compatible release
```

this is what i got from trying this. so same results. Previously, i did install solana from source on verison 1.8.14, and then updated my path to point to the directory where i downloaded and built from source. I think what is going is is that the 1.9.4 was downloaded and installed to a new path. Do you know where that path typically is?
Let us know if it works out or if you are hitting issues
<@!885945841196597308> I believe the installs were updated to better support M1, I can't say definitively though
Ummmmm
thanks! for context I am on a mac m1. Would that still be the  recommend way to update?
<@!885945841196597308> Just do `sh -c "$(curl -sSfL https://release.solana.com/v1.9.4/install)"` and it will update fine
guys im trying to make my own cryptocurrency where should i list it so my friends could buy it?
i am trying to upgrade to 1.9.4. I was orignally on 1.8.14
What version did you think you'd get?
Hey all, i am trying to update my solana version. 
whenever i do `solana --version` i get this output `solana-cli 1.8.14 (src:devbuild; feat:1006352700)`

but whenever i do `solana-install update` i get `Install is up to date. 1.9.4 is the latest compatible release`

is the cli version and the solana version seperate or should they be the same?
Any resources or explanation will be appreciated 😊
Like multisig?
Hello guys, one quick question is it possible to create a nft with two owners or change ownership in a way that it is shared between two wallets?
But you can definitely create an account with a different program's program id—e.g. tons of programs create token accounts.
Program B can only sign for PDAs that were derived from program B, so if what you're trying to do requires signing for one of program A's derived PDAs, then no.
i wanna figure out why i can';t get staked
can someone give me the pubkey of the Testnet Stake-0-matic account that shows up as "DEPLETED" inthe website: https://raw.githubusercontent.com/wiki/solana-labs/stake-o-matic/md/Validator-2ZqaTLm1TZfpYdR7d8XhRntPjmrF6q69YZVLb6j4GcWz.md
Possible to create a token and make it not listable on serum?
It is ok, i dont know about the web3, but you can try JSON RPC call for actual output.
I can transfer ownership of accounts, but can i create a pda which has program id of A, in program B
Can i do this in program B?
invoke_signed(
    &system_instruction::assign(pubkey: &Pubkey, owner: &Pubkey)(
        &PAYER.key, 
        &PDA.key,
        rent,
        size,
        &program_id_of_program_A
    ),
    &[
        PAYER.clone(),
        PDA.clone(),
    ],
    &[&[&seed.as_ref(), &[bump_seed]]],
)?;
Thanks again!
Sorry to bother you again, but when I run this endpoint, I get an encoded array of 11 'words'. How should I convert this to one string? The JSON encoding didn't work for the Web3js package for me
how to create token account for a pda?
any suggetions?
Sry moving this to the riptide channels ... those are new
> nextjs error `undefined is not iterable (cannot read property Symbol(Symbol.iterator))`
Goes to sign up for a team .... gets a 5 hundo 😵
Okay thanks 🙂
https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
Use 'getTokenAccountsByOwner' this api to get all your accounts, from that you will find a pub key of your SPL token.
Can I still find that somewhere?
You need that pub key to get a balance.
Not a SPL token address, when you minted a token in your wallet, for that token a new pub key was generated for your wallet pub key.
I assumed that was the SPL Token address on solscan right?
Not your wallet pub key.
You need your SPL token pub key to get balance.
Sorry, I'm quite new 🙂
Thanks! I found that endpoint, but I didn't get to get it to work. For example, I have a phantom wallet, but I tried all values as public key. Should I find the public key for example Solana, but also other SLP tokens somewhere else?
https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountbalance
Could anyone tell me how I can retrieve the balance of an SLP token? Using `getTokenAccountsByOwner` gets all tokens, but I would like to retrieve just one from a collection from my wallet. Thanks in advance!
but create a token account for that account?
can I create token account inside rust program like this `let ix = create_account(
            fee_payer.key,
            &swap_authority_key,
            rent.minimum_balance(PoolAccount::LEN),
            PoolAccount::LEN.try_into().unwrap(),
            program_id
        );`
You can find my question in given url. https://github.com/cryptoplease/cryptoplease-dart/issues/171
Yes, but i am able to initialize the account as well, do you have any reference/code for this?
Well the error message says invalid account owner?
{accounts: null, err: {InstructionError: [0, InvalidAccountOwner]}, logs: [Program Stake11111111111111111111111111111111111111 invoke [1], Program Stake11111111111111111111111111111111111111 failed: Invalid account owner]}
What is the error?
Anyone used staking in flutter app? i am not able to delegate a stake.
I briefly discussed this in <#885976714646290473>
Correct.
Excellent question.
What you can do is log the return value if it is small enough, or write it to an account.
In either case you can run a transaction simulation and have the output without paying anything.
BPF SDK path does not exist: /Users/p/.cargo/bin/sdk/bpf: No such file or directory (os error 2)
Guys I am using mac m1 and I am getting this error on anchor build
Possible to create a token and make it not listable on serum?
The Anchor discord?
Thank you. I understood
Is there a good source to read about idl and why fetchidl could return with nothing in some cases?
You could look at their repo for inspiration, it is open source
i want to create my own nft-market place on solana blockchain, how metaplex can help me? are there existing codes in rust?
There is no documented way to establish that the data in an account at time N was so-and-so
The conversation is that you can reconstruct all the instructions and instruction data that was sent to a program through transaction history
Im new at solana, but if you have the pub address and the code and all the transactions you can technically go through the timeline and stop at any point
Hi, is this mean that any "previous" account data can be reconstructed by set of transactions + program, also? For example, I want to figure out what data was in an account X one month ago. Is it possible to do it? Assuming I know the account's data structure and publickey
And <@!165209674486906880> Your better off asking in Metaplex Discord
https://discord.gg/NEc2Fbjs
also looking for
Are there any good examples for minting Metaplex NFT's with a javascript API?
Hi all 👋 

Hope ya'll can help. If I run `getSignaturesForAddress` on a token's address, I get 2 signatures. But there are 2 transactions and 3 trades on solscan. How do I get those trades? 

I'm assuming I can't call `getSignaturesForAddress` on a token address to get those? Maybe I need to call it on the buyer's/seller's pubkey and filter for the token?

Is there a simpler way? Thank you! 🙏
You pass it in vis-a-vis the Instruction key array of Pubkeys, when your program is invoked the system will present you with the AccountInfo associated with those keys
No, If the information you would have liked returned is put into an accounts data, you could retrieve that account from your client and review
Oh my god, I'm so sorry! I used the wrong network, I feel soo stupid!! I think I can manage to continue now. Sorry for bothering you with such a stupid mistake! Thanks man ❤️
your connection is to the same network (test/dev/main/local) as your wallet?
but assuming that ID is correct, it seems like it should be working 🤔
you can import the token program id from <@!569580494283603980>na/spl-token
hmmm, the code seems right to me
I managed to resolve the errors, only the returning value is an empty array. I executed the following lines:
``` console.log(
      await this.connection.getTokenAccountsByOwner(
        new PublicKey('{My wallet address}'),
        {
          programId: new PublicKey(
            'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'
          ),
        }
      )
    )```

On my phantom wallet I can see that I have some value, but in the image you can see the output of these lines:

Thanks again! 😄
Hi there, I'm using log_subscribe method to monitor our program logs, but my websocket client is keep crashing after few mins, may I know if there's a solution on that?
Okay thanks, I will try to work on this. I'll let you know if I will face some struggles!
pls how to update token info in solana-labs/token-list
you can filter that based on the mint, and the resulting token account should have the balance iirc
I think you just need this endpoint: https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner
Hi there, I want to retrieve the balance and amount of SPL tokens from a wallet address. How can I do this? If I'm understanding correctly, executing this:
`await this.connection.getBalance(publicKey)`, will get the amount of SOL from the public key, but I want to support all SPL tokens. Could anyone give me some advice? Thanks in advance!
i'm not aware of any, but also haven't looked into that, you could log something and then get the logs for the resulting signature for the tx after its confirmed
Hello, if I understand correctly the entrypoint to my Rust program has to return ProgramResult. Does that mean there is no way to return some value as a result of my Rust instruction?
I see a lot of NFT projects are adding Staking as a way to earn rewards, but I don't see any examples of how to build an NFT Staking program apart from GemFarm. Does anyone know of an example to build NFT Staking program?
Thank you for the help btw <3
well I think that's essentially what metaplex is doing.. we have to pay for some processing power and server space.. however spl-token transfers using the token transfer program is a headache for this barely-dev
its something i'm not sure non-devs have really understood about the creator fees on metaplex
👀 👀 👀 🤐
ha, you are trying to circumvent metaplex's fees?
That's pretty cool, so then I only have to pay for the transfers and I won't need to write an actual smart contract.. why does it feel like I'm cheating lol
I don't see any reason why you couldn't do that basically, it would be as "safe" as your escrow program (assuming you don't have a security hole in that) and as the private key you have on that machine
Yes, in an encrypted partition in my drive
is the escrow account created by a program you are controlling, and then controllable via a private key you have on the machine thats running this script?
so imagine a bunch of users all sending the same instruction to my program at once, if the instruction accepts my `Counter` state account as a `writeable` account, then they cannot be processed in parallel, and thus leading to slower confirmation times, and failed transactions
Again, I can't understand about 'have a write lock'. Can you explain with it?
Sorry let me word it properly. I'm processing a sale between two users. User 1 sends an NFT in exchange for User 2's spl-tokens. I'm writing a script that processes everything and even utilizes an escrow account, but all of this is through my logic. I was under the impression that to do this I need to use a smart contract. It seems like I can set the terms for this "unofficial" smart contract from my own end, thus the logic can be changed by me whenever I please.. rather than having to abide by a smart contract that can be seen by everyone
hy there! when fetchIdl works, and when it is not? Am I right that you can build and submit your contract/program with idl and without it? and if you don't "publicate" your idl you need to compile it to your page?
it would be easy to do by keeping a counter, and then just setting a page number on each account based on the counter, but then i'd have a write lock, and the creation of these accounts may be bursty
Ah ha
like my program may generate, say 1,000,000 accounts, and i'd like for clients to be able to synchronize all these accounts (😬 ) but I figure such a large query would fail, so i'd want to pull these down in pages of say 1000 at a time
What do you mean by 'paginate'?
i'm not entirely sure what you mean by "safe" and "transfers between wallets off chain", but writing a script that calls the spl-token cli to move tokens around seems like a normal thing to do
is there any data type in rust to Store address of wallet? Please Answer on urgent basis. <@!756724525269254155>
Is it safe to run a script that emulates the smart contract for spl-token transfers between wallets off-chain? All the logic is in js and im triggering the transfer instructions using solana's spl-token cli
the problem is I expect traffic for this program to be bursty
best I can come up with is to use the clock and layer the bytes such that i can query for different times
like i'm trying to think of a design for pagination that doesn't require some sort of counter that would create a write lock
is it possible to paginate `getProgramAccounts` or do i have to add a page number of some kind to the account data and query on that
you need to pass the PDA seeds in
How can we fetch an onchain account from the smart contract itself?
are there any examples of how to create a "Solana Pay" button on a website? Got the point-of-sale working, which is super awesome
when I do `invoke_signed` for a PDA I get `PrivilegeEscalation` for that account why?
I see this https://pkg.go.dev/github.com/gagliardetto/solana-go@v1.0.4/rpc#Client.GetSignaturesForAddress for getting signatures of a given address. It only seems to support getting signatures of transactions backwards in time. Is there a way to get signatures of transactions from the start of a Program towards the present? It's possible to do that in Ethereum and was wondering if there was the same thing in Solana
Any help would be greatly appreciated
Getting error ```Invalid param: Token mint could not be unpacked``` when calling ```getTokenAccountsByOwner``` using web3js. I don't really understand what the ```TokenAccountsFilter``` parameter is for.
I guess anchor?
Is there a more advanced developer discord channel?
can we get the blockhash in our onchain program ?
My project is a highscore dapp, play the game and submit scores and top 10 people get a reward daily, and nft daily claims
hey pls, how can I update token decimals for my token in token-list repo ?
I know it's against auto-merge to modify existing data 😞
How can I find a program's code from it's address?
Depends on the project I think
deleted `instanceof Buffer` check and it works...
but Uint8Array is not Buffer's child...
hmm...
It I port my existing project to solana what sorts of grants do you guys think I actually stand a chance of being awarded
but let me check
I don't think so...
Isn't buffer an extended version of Uint8Array in node?

why `connection.getMultipleAccountsInfo` started to return `Uint8Array` as `acc.data` instead of `Buffer`? oO
<#937905165074300999>
how do i turn my blender 3d models into nfts
can someone help me?
hello friends
<@!134416332509675520> added
sure sure!
Yeah want to DM me and we can share a screen?
don't mean to spam this issue between servers haha...just have an angry mob in my server tryna swap and I'm like "IM TRYIN IDK DIS"
```
    Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL invoke [1]
    Program log: Transfer 2039280 lamports to the associated token account
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Allocate space for the associated token account
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Assign the associated token account to the SPL Token program
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Initialize the associated token account
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [2]
    Program log: Instruction: InitializeAccount
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA consumed 3412 of 182975 compute units
    Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA success
    Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL consumed 21097 of 200000 compute units
    Program ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL success
    Program 5ngL1dRExB5B8PpDL5Y9KuwNBJuPgFFyxmysV74MNpXw invoke [1]
    Program log: Instruction: Swap
    Program log: Custom program error: 0xbc4
```
it works on localnet 🐳
haha yeah sure
Lol I'm now sufficiently nerd-sniped that I'm down to pair on this for a bit if you want?
sure sure
Can you try against a local solana-test-validator instance? Maybe that’ll reveal what’s not quite right  by chance.  It’s gotta be something subtle
programId shows `ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL` as expected
instruction looks right

did everything line by line and it all looks right
Yeah idk, everything is getting passed in right
darn, everything else in that tx setup and log looked pretty good 😕
'tis a proper mint

https://solscan.io/token/FZxUbyQ9oeFiSDaabw8KfAWACsDMQhbuxR9vm2Rh7Ewm

```js
  const keys = [
    { pubkey: payer, isSigner: true, isWritable: true },
    { pubkey: associatedTokenAddress, isSigner: false, isWritable: true },
    { pubkey: walletAddress, isSigner: false, isWritable: false },
    { pubkey: splTokenMintAddress, isSigner: false, isWritable: false },
    { pubkey: SystemProgram.programId, isSigner: false, isWritable: false },
    { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },
    { pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false },
  ];
  console.dir(keys.map(i => i.pubkey.toBase58()), {depth:null})
  const cnx = new Connection(clusterApiUrl(`mainnet-beta`))
  console.log(splTokenMintAddress.toBase58())
  console.dir(await cnx.getAccountInfo(splTokenMintAddress))
```
added some logging in that same function after `keys` <@!397190811239841802> I use `@solana/spl-token`
could I get some help setting up this wallet?
A required privilege is not held by the client. (os error 1314)
whats the `ASSOCIATED_TOKEN_PROGRAM_ID" ? what type and how do you load that? via IDL, do you use anchor?
My guess is that you're getting an error on this line of the token program, https://github.com/solana-labs/solana-program-library/blob/eb048559eb71bd9218729978c9020926b4b4fd10/token/program/src/processor.rs#L112, because `splTokenMintAddress` is not the address of a valid token mint account
Anyone know how I would put USDC in a localhost wallet?
i'tried to follow a guide, but i don't understand in whitch format the signature is sent
hi guys, i'm trying to verify a message signature from a nest backend, can somebody help me to understand how to do it
🤔
shows IncorrectProgramId for InitializeAccount instruction

```js
export const createAssociatedTokenAccountInstruction = (
  associatedTokenAddress,
  walletAddress,
  splTokenMintAddress
) => {
  const keys = [
    { pubkey: walletAddress, isSigner: true, isWritable: true },
    { pubkey: associatedTokenAddress, isSigner: false, isWritable: true },
    { pubkey: walletAddress, isSigner: false, isWritable: false },
    { pubkey: splTokenMintAddress, isSigner: false, isWritable: false },
    {
      pubkey: SystemProgram.programId,
      isSigner: false,
      isWritable: false,
    },
    { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },
    {
      pubkey: SYSVAR_RENT_PUBKEY,
      isSigner: false,
      isWritable: false,
    },
  ];
  return new TransactionInstruction({
    keys,
    programId: ASSOCIATED_TOKEN_PROGRAM_ID,
    data: Buffer.from([]),
  });
}
```
Been trying to decipher this for a while but I don't see anything wrong here
Literally thousands of requests in the span of a couple minutes if you let it run.

EDIT: For context, it looks to be related to Gitpod and handling UDP traffic. There was a related Issue raised on the Gitpod repo recently: https://github.com/gitpod-io/gitpod/issues/7830
I've tested it with previous versions of the Solana CLI as far back as 1.8.0, same issue, slightly different output. Basically it keeps grinding on `getBlockHeight` and `getSignatureStatuses` when it's failing.
Interesting problem I'm seeing with program deployments performed from inside a Gitpod workspace: The `program deploy` command fails, seemingly because the blockhash is invalid?

```text
Blockhash expired. 5 retries remaining
Blockhash expired. 4 retries remaining
Blockhash expired. 3 retries remaining
Blockhash expired. 2 retries remaining
Blockhash expired. 1 retries remaining
```

I can deploy just fine from my local machine, and to a test validator. This worked on Gitpod as of a couple of weeks ago. So .. why is deploying from inside a docker container failing? What changed?
thank you
1. Yes unless you do something with mint authority/freeze authority/etc
2. Currently you cannot re-enable
Two SPL questions:

1.
When I do something like ``spl-token create-token`` / `` spl-token create-account ${TOKEN_ADDRESS} ``
I won't ever need to track/have private keys for these created accounts right? And I just need my main keypair to act as the authority

2.
Is mint-disable a permanent action, or can it be re-enabled?
``spl-token authorize ${TOKEN_ADDRESS} mint –disable``
id reach out to phantom
i would need to know the route
You could try it out in the phantom app
Hey guys, do any of you know if phantom's iOS app supports deep links? So link to open a particular website in their in-app browser?
To verify the participation of a creator.
yeah it's generated by https://github.com/solana-labs/solana
After minting is over.
Haha.
I believe so
is the solanalabs org on dockerhub official? i.e. https://hub.docker.com/r/solanalabs/solana
🎶 they sing now? 😉

Again specifics seem helpful.  When is this bulk signing happening?  During setup for a mint?  Or something else?
But what about singing NFTs?
Oh right.
multiple fee payers won't help you with program deployment.  The program account is written to on each transaction regardless
https://docs.solana.com/proposals/slashing
Do you know if it gets burned? Or what happens to it? is there any Solana doc that explains this? Thank you?
And to perfom bulk transactions on accounts, like signing NFTs.
The one that I have run across many many times is to deploy a program.
I think it'd help to discuss an actual use case.  In generic terms it's easy to argue endlessly about details that don't matter in practice
Then for various limitations like wallets need user approval so need to sign all txs at one go as opposed to sequentially.
🤷‍♂️  no big deal
For JS, Node, Py, Rust, Go, Dart...
that also can be done once 🙂
As opposed to once per implementation.
it's pretty easy code to write
That has to be done once.
bench-tps actually does this already when it's funding
less complexity than rewriting bank.rs 🙂
Ok. So the loss of stake is the punishment. Thanks. Just had to verify that it is the case. Working on the "Trust and Blockchain Protocol" video in the tutorial series. Needed to confirm. Thank you.
exactly
But is so much complexity worth it?
Unless you are using a branching approach.
It's 1:1
yeah but you can do that in advance, and it's an exponential curve so you'll be done in no time
But to do that efficiency I need many fee payer accounts.
To make many fee payer accounts I have to send them sol.
What is?
It's a chicken and egg problem.
Makes for a few 'best practice' patterns
yeah.  I guess there could be a potential optimization to try to extract the fee payer out first.  Probably not worth the additional complexity when the alternative is just to simply use more fee payer accounts in cases when there is contention
Pretty sure you loose part or all of your stake.
I know in proof of work u spend electricity to mine, and don't get fees if block rejected, but what about POS?
<@!445425471027544095>  So the logic in the entry agreggate figures that out?
?
Hey guys. How does proof of stake punish for an attempted fraud attempt.
correct
That means one batch cannot have two transactions with the same fee payer?
Transactions are arranged into batches called entries.  All transactions in an entry can execute in parallel because they have no overlapping writable accounts.  The fee payer account is included in this list
if the fee payer always gets charged there is no other technical reason I know of outside of architecture. his transactions if many just have to be run sequentially.
You just have to serialise the debits and the txs can run in parallel.
Technically not necessary but that's how the code works today
meant do in serial *
But the key thing is you don't have to wait for the sol transfer to complete.
Yes.
If, indeed, that the fee is upfront and the feepayer is not also in the account list with write and even if Tx fails the feepayer is not re-imbursed, requiring another lock (ugh) then I agree it could optimize and free up some dependency waits
Wouldn't you need to serialize because of the debits to the feepayer?
https://docs.chain.link/docs/solana/using-data-feeds-solana/
What if 100 accounts sent sol to 100 different accounts, all using the same feePayer(separate from all accounts in transfers)?
Haven't checked the code but someone asked if the fee payer was locked for the duration of a tx and I felt it was not necessary.
thx
look ok to me.
API calls aren't ready yet, but will be coming in the near future
Hello, is solana mainnet ok?
And locked for the duration of the transaction, I get that for fee payer and this is confirmed in code?
The feepayer is marked for write.
Late to the game, but accounts not marked for 'write' can be used in parallel. I may be missing the point however
You shouldn't need a lock.
My question exactly.
so if your not writing data. is there a need for a lock?
So it doesn't really have much to do with this.
From what I understand, a transaction is only confirmed if it is included in a block.
The fee payer is charged regardless if the tx fails or succeeds.
what if the transaction fails. does the fee payer get debited anyway?  or where does confirmation come in to play here.
So the flow should be:
- Lock fee payer
- Debit fees
- Unlock fee payer if it doesn't participate in the tx
- Lock other accounts in tx
- Run tx
- Unlock all accounts
But it's being debited before the tx runs.
ty
Good info here https://solanacookbook.com/guides/retrying-transactions.html
does anyone know what happens to TXs that get "lost"?
Thank you
I agree that the instructions are not using it, but the account is being debited
😆  didn't mean to make you count, just if im understanding the math right, but just double checked and it's right so yolo420yeetsendit
Unless another instruction uses it, the feepayer doesn't need to be locked for the duration of the tx
Because the feePayer is not necessarily participating in the tx.
Why not?
I have no idea of the current behavior, but I was saying that it should not be.
I thought it was 🤔
Ideally the feePayer should not be locked during the tx, right?
Sorry, counting 0s
I'm not actually aware, but isn't the feePayer a locked account during the transaction? Or are they completely separate
Thanks. I just did yarn add stream-browserify and it sort of runs now, but I just see the logo image in the browser. I'll watch the video now
You can transfer ownership of accounts.
This guy ran into your issue. It's an issue on the yarn/npm side of your installation. He fixes in the video as well https://www.youtube.com/watch?v=E1ir2VYnUc8&t=675s
And not during the execution of the tx
Hmm but the feePayer should only be locked to deduct the fees before the tx is run.
Yes, but still not a huge fan of the naming
`@parcel/core: Failed to resolve 'src/index.html`
and
`@parcel/resolver-default: Cannot find module 'stream-browserify'`
What errors?
i burned 100 tokens
> 100000000000 / 1e9
> 100.0
the decimal of this token is 9

just making sure im understanding this right and im not stupid
I tried to get the point-of-sale project running, but I'm getting some @parcel errors
Hello, anyone here trying out the solana-pay repository?
There's the explorer here https://github.com/solana-labs/solana/tree/master/explorer
I believe this is correct
Thanks for the heads up
<@!455114989397868556> there is a tag not closed correctly on solana events page.
Are there any large scale ‘block’ explorer projects released or in development right now?
random q - does the feePayer take a write lock for each transaction it submits? for example if i have 1000txs from the same wallet with no write locks taken in the accounts, are they still processed serially?
And your body of work
Show your code
https://github.com/solana-dev-adv/solana-dapp-next
made this for you trent. you can now test with ease from the world wide web.
ah for sure! i would be happy to add the right person as well 🙂
Github is down :C Just wait and someone will get to it
who would be the best person to review? https://github.com/solana-labs/solana/pull/22893
Should get to it sometime today
And I didn't even get a wink
no worries, just noting what you suggested was good and in
In the long queue of GH reviews 🙂
PS: I updated PR as per your comments
Sounds familiar 😎
"while you're here... wink. wink. nudge. nudge"
🙂
'Con'? Did you offer a Bridge in exchange?
A few hundred characters if I remember correctly. What the memo program does is summarized here: https://spl.solana.com/memo
Yeah I tried to con someone who was already making a similar change into adding it.  I think they'd abandoned their initial change though 😔
Would be great to have this exposed some way. We love contributions!
if others would find it useful as well
i see, would it be worth me opening that PR? in terms of getting our successful tx submission from 95% (quite low tbh) to 98-99%+?
Not exposed today via web3.js
Correct
for sure, but i wasn't clear on how to consume that in the web3js sendTransaction / sendAndConfirmTransaction? https://solana-labs.github.io/solana-web3.js/modules.html#sendAndConfirmTransaction
Not exposed by web3.js though AFAIK
Lets say there is a program A and a program B
One can never create a PDA in program B, that can be owned by program A
right?
maxRetries is part of the rpc api https://docs.solana.com/developing/clients/jsonrpc-api#sendtransaction
another minor question here - i am looking to optimize our application's tx broadcast logic and the cookbook entry is pretty sweet https://solanacookbook.com/guides/retrying-transactions.html#handling-dropped-transactions but I'm not clear on where exactly `maxRetries` is set to 0? is that implied as part of sendRawTransaction?
Very appreciative of the response , i will have a look , and see exactly what canbe stored in memos
You can add memos to transactions, as well as send messages by storing messages in accounts. It is possible
oh interesting, thanks for clarifying!
Hello good dev frens 

Is there some solana protocol that does messaging ? Use case is for example i want to make a message board ,to post cute little duckies , from many people for judging whose is the cutest ?
Suggesting that could be done under covers at time of Tx compile/submission?
Yes
I saw that, but it would stand to reason that you would call getRecentBlockhash to set recentBlockhash
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getLatestBlockhash
That makes things quite confusing for new devs.
So you would do `tx.recentBlockhash = await connection.getLatestBlockhash()` ?
Correct, method to use for blockhash is now ` .get_latest_blockhash()` on RcpClient in Rust which is build on same in web3 rpc
Only the feeCalculator part is being deprecated if my understanding is correct.


///////////////////////////////////////////////////////////////////////////////////////////////

What logic do you need to gate on cluster <@!454992007752843284> ?
Which I don't think we expose to program runtime in any way today
Most reliable way to identify a cluster is via its genesis hash
Here is the list: https://docs.solana.com/developing/runtime-facilities/sysvars
Also if they're all ATAs, don't
"Efficient" in what way?
What is the most efficient way to transfer all token accounts in a wallet to a new wallet?
"stable" is not necessarily tip of stable
needs to be _default_ not just active AFAIK
Are there any sysvar accounts or something so a program can identify which network it on?
My active_release for solana is 1.8.14 too
hmmm i have the right version
```
➜  install rustup show
Default host: x86_64-apple-darwin
rustup home:  ~/.rustup

installed toolchains
--------------------

stable-x86_64-apple-darwin (default)
bpf

active toolchain
----------------

stable-x86_64-apple-darwin (default)
rustc 1.58.1 (db9d1b20b 2022-01-20)
```
`rustup default --help`
how do I bump my rust version up to 1.51.1? I've already installed it
```
$ anchor build
BPF SDK: ~/.local/share/solana/install/releases/1.8.14/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
error: package `uint v0.9.3` cannot be built because it requires rustc 1.56.1 or newer, while the currently active rustc version is 1.56.0-dev
```
```
$ solana-install init 1.8.14
Install is up to date. 1.8.14 is the latest compatible release
```
hmmm it didnt seem to work
What is the smartest way to watch for wallet balance change of multiple wallets (thousands)
beast. thanks man
I do support as part of my job lol
how do u know so much? lol
ohh interesitng.
Anchor is compatible with 1.8.14
Looks like whatever package you're using in that repository requires a higher rust version
anchor uses 1.8.5
i didnt do 1.8.14 here ^
```
$ solana-install init 1.8.5
Install is up to date. 1.8.5 is the latest compatible release
```
the weird thing is, I have another repository and it doesnt throw this error 🤔
You can do `solana-install init <VERSION>`
```
rustc --version
rustc 1.58.1 (db9d1b20b 2022-01-20)
```
It also seems like you need to upgrade rust
how do I set it to 1.8.14?
Try version `1.8.14` on your solana cli
I get this error when I run `anchor build`:

```
BPF SDK: ~/.local/share/solana/install/releases/1.8.5/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: cargo +bpf build --target bpfel-unknown-unknown --release
error: package `uint v0.9.3` cannot be built because it requires rustc 1.56.1 or newer, while the currently active rustc version is 1.56.0-dev
```
```
Thanks
I believe NFTs have some sort of royalty system. Please check metaplex https://discord.gg/faQrN5Pc
Is there a way to take a percentage out of a transaction and send it to an nft holder?
Thanks!
Base protocol JSONRPC API is documented here. https://docs.solana.com/developing/clients/jsonrpc-api
There are no markets in the base protocol.  You should ask support for whatever defi protocols you're interested in
Where I can find information about the Solana API and how to make HTTP Requests to get market history information?
ok thanks. i have referred the docs and it wasnt very clear for me. maybe i need to have a look again. Let me check the tests as well
Unfortunately these are the only resources available at this time
Yes, I believe so. I would look into the docs or tests. You can find the tests here https://github.com/solana-labs/solana-program-library/blob/master/name-service/program/tests/functional.rs#L20 and docs here https://spl.solana.com/name-service
Ah so you'd _already_ cross posted. 😒
is it possible to use the name service program to create domains other than .sol......like nsk.abc, xyz.abc etc
Please just ask the questions
so should i continue here or in the other channel?
i was advised to seek help here in this channel. which is why i posted here
thanks!
Don't cross post
Hi, can anyone help me with answers to a few questions about the name service program?
It was helpful
Thanks for replying!
That's their service 🤷
but their link was crashing everytime
But know that what you're doing may still lead to a bunch of account write failures
I tried to use quicknode
thx
a quick google search can help you
genesysgo, quicknode, rpcpool, etc
Maybe u can advice some of the rpc providers
So many factors
Faster code execution, better internet, lower latency
Some of them have their own rpcs, many pay a lot for a private rpc from the many providers, etc
?
and how this arbing bots update them that fast
If you're subscribing to serum accounts and watching orders, you may just not be making your transaction in time. There's a ton of bots arbing those accounts and they get updated incredibly fast
And I just store it locally
I subscribe on token accounts and serum accounts
Would be great if you post on stackoverflow instead. We can answer there easier. While you're at it, please follow and upvote questions on getting our own stackexchange https://area51.stackexchange.com/proposals/126615/solana
What kind of account? You're subscribing to an account to read the data, and based on the data decide to update another account?
Can someone take a look at my question in the forums: https://forums.solana.com/t/technical-private-key-security-requirements/4988 Thanks!
I think it's like 10 a day or something on devnet. If you need more you can try this faucet https://solanatools.xyz/faucet/devnet.html
How many times am I allowed to airdrop? And for how long am I blocked?
not succeeding*
and all of them nos suceeding because of this problem
Thanks for your help Jacob and <@134416332509675520>
and im using the account updating software to submit transactions
i mean that it isnt uptodate
Im using subscriptions for updating account data and the data that i receive is irrelevant
I have problem with updating accounts data
Yeah,sure
Don't really understand what you're talking about. Could you expand on what you're doing and the exact issue?
You should be able to use the constructor + isOnCurve if you want to make sure it is a possible wallet
or other methods of updating accounts
maybe there are some services that can offer faster updating
so the construction of the instance failing is good enough to tell if string is valid or not <@!134416332509675520>
Im receiving irrelevant data
What problem are you running into?
The `new PublicKey("asdfas")` part will fail if the address isn't even 32 bytes
and subscriptions
I really don't care if publickey belongs or not to an existing wallet. Just a way to know if string is valid as a possible wallet address
Im using Json rpc websocket
No, it will be enough to tell if the address is on-curve or not 🙂
I have problem with updating account info
Hey everyone!
and the outcome of that method will be enough to know if valid or invalid solana address?
```.js
let address = new web3.PublicKey("asdfasdas");
address.isOnCurve()
```
ok, so no way to guarantee a solana wallet address will be either on or off curve
No, that's just a property of the address (not all solana addresses even have private keys)
yep
the entity with method "isOnCurve"
Oh, to check on/off-curve-ness?
To generate what?
I don't need the private key to generate that right?
So depends on what you're trying to do
But wallet addresses don't strictly speaking need to be on-curve
Yeah, you can indeed check whether the 32 bytes are on the ed25519 curve
I have read there are ways to generate some entity which can be asked if it's on the curve or not, but not sure how to recreate that with solana python lib
Solana addresses are basically 32 arbitrary bytes.
I have the wallet address, as a string and I want to filter out that address from other addresses which might belong to other protocols or badly typed. I just want to keep valid Solana wallet addresses
What do you mean by valid here?
Hi all, here another dev asking questions. Is there a way offline to verify if certain wallet address is valid or not? Was thinking something like a simple regex but any cryptography method is welcome too 🙂
`            let create_token_account = instruction::initialize_account(&token_program.key, &token_account_b.key, &mint_address.key, &stake_info.key)?;

            msg!("{:?}", create_token_account);
            invoke(&create_token_account, &[
                token_account_b.clone(),
                mint_address.clone(),
                stake_info.clone(),
                sysvar_account.clone()
            ]);`
unfortunately I can't share the whole repo but the instruction is only hitting those lines:
Did you hit airdrop to many times? You may be blocked at this point
Do you have a gist/git repo for this?
You can include both instructions in the same transaction
so when sending a token to someone that never received the token before you have to send two transactions? one to create it an account the other to do the actual transfer?
Here is `create_token_account` log `> Program log: Instruction { program_id: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA, accounts: [AccountMeta { pubkey: CGWykMk7D5zm8rwAy8Y4o1aBDEJpe8rt2h8WzXZd5skM, is_signer: false, is_writable: true }, AccountMeta { pubkey: 8TSHnALLPuswwjgm4BRnp5jQghePKR3gwiZJg6m8goUn, is_signer: false, is_writable: false }, AccountMeta { pubkey: Cmiz58F5y83F64W66UZwsCmLeL77GuGfSuKzfptENBzN, is_signer: false, is_writable: false }, AccountMeta { pubkey: SysvarRent111111111111111111111111111111111, is_signer: false, is_writable: false }], data: [1] }
`
I'm using `instruction::initialize_account(&token_program.key, &token_account_b.key, &mint_address.key, &stake_info.key).unwrap();` instruction how can the data be invalid?
Error: airdrop to HXtSjx4nycpki9yQK7PR4cHMEip4BppjJFKY16caoB9r failed: Internal error
    at Connection.requestAirdrop (/Users/andy/Documents/wallet-api/node_modules/@solana/web3.js/src/connection.ts:3448:13)
    at processTicksAndRejections (internal/process/task_queues.js:95:5)
    at SolanaWalletService.deployUserWalletWithTokens (/Users/andy/Documents/wallet-api/src/modules/wallet/solana-wallet.service.ts:19:34)
    at /Users/andy/Documents/wallet-api/node_modules/@nestjs/core/router/router-execution-context.js:46:28
    at /Users/andy/Documents/wallet-api/node_modules/@nestjs/core/router/router-proxy.js:9:17
Sounds like your sending invalid data for the instruction
`            let create_token_account = instruction::initialize_account(&token_program.key, &token_account_b.key, &mint_address.key, &stake_info.key).unwrap();

            invoke(&create_token_account, &[
                token_account_b.clone(),
                mint_address.clone(),
                stake_info.clone(),
                sysvar_account.clone()
            ]);`
Ok there was a mistake I fixed it now I'm getting this plain error `Program returned error: invalid account data for instruction`
I have a quick question. We would like to add Solana calls behind a GraphQL API endpoint but understand that would mean that we are making all requests from our server. Due to rate limitations we are concerned that might become a problem when making too many requests. Is there some kind of API key mechanism or alternative whereby the rate limit is able to be removed for this type of service? I read something about a custom/dedicated RPC URL and wondered if that is a thing and if I could get clarification? Regards
thanks 🙏
Account may not exist. It will have to exist first
I'm getting this message `Instruction references an unknown account`  for the owner public key but I'm already passing it?
Use `getOrCreateAssociatedAccountInfo` https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L536
How can we : 

1. get the token account for a particular public key?
2. send a token to someone who does not have the token account i.e never received the token before
amazing, thank you!
Change your cli version to match mainnet-beta
Usually happens when you send an expired transaction. Does your CLI version match mainnet? Mainnet-beta is on 1.8.14
Hey guys, trying to deploy to mainnet. Getting this error
`Error: Custom: Invalid blockhash`

anyone know why that could be?
solana-cli 1.9.1
https://github.com/solana-labs/solana-program-library/blob/master/token/program/tests/action.rs#L49 Here's an example
`pub fn create_token_account(
    token_program_id: &Pubkey,
    mint_address: &Pubkey,
    new_account: &Pubkey,
    owner: &Pubkey,
) -> Instruction {
    let accounts = vec![
        AccountMeta::new_readonly(*token_program_id, false),
        AccountMeta::new_readonly(*mint_address, false),
        AccountMeta::new(*new_account, false),
        AccountMeta::new_readonly(*owner, false),
    ];

    let data = vec![1];

    Instruction {
        program_id: *token_program_id,
        accounts,
        data,
    }
}`
is this the correct instruction to create a token account?
We're going to need more of that stacktrace
I was able to fix the problem with 'too many requests', but now I have another one, can you advise? 'ERROR [ExceptionsHandler] airdrop to HXtSjx4nycpki9yQK7PR4cHMEip4BppjJFKY16caoB9r failed: Internal error' on method connection.requestAirdrop()
Indeed it seems to be the issue thanks for the help!
no worries, its just normal debugging ops
You need to read up on Rust memory management. The error you reported is Rust and not Solana..... search on the error
ok, I'll try that, thanks
looks like you are in a loop and hitting the server each loop and it thinks you are trying to crack it so its shut u down. try just one tranny ata time manually and see if same error
here is the error ` |                 stake_info_account_data?.timestamp = clock.unix_timestamp as u64;
     |                 ^^^^^^^^^^^^^^^^^^^^^^^ value used here after move`
`let stake_info_account_data = StakeAccount::unpack_from_slice(&stake_info.data.borrow());`
` stake_info_account_data?.amount = amount;
   stake_info_account_data?.rewards_collected = stake_info_account_data?.rewards_collected + (((clock.unix_timestamp as u64 - stake_info_account_data?.timestamp)/stake_info_account_data?.rewards_timeframe) * 
   stake_info_account_data?.rewards_percentage as u64);
   stake_info_account_data?.timestamp = clock.unix_timestamp as u64;`
Can you please help me with @solana/spl-token library?
I'm on devnet, using @solana/spl-token for creating a wallet and transferring some tokens to it
I get these errors:
Server responded with 429 Too Many Requests. Retrying after 500ms delay...
Server responded with 429 Too Many Requests. Retrying after 1000ms delay...
Server responded with 429 Too Many Requests. Retrying after 2000ms delay...
Server responded with 429 Too Many Requests. Retrying after 4000ms delay...

I tried setting delay times as big as 9 seconds between every async method I use from spl-token library.
1. you should know how to create a token account in client side https://solanacookbook.com/references/token.html#associated-token-account-ata
2. do the same instructions in program via invoke and invoke_signed.

some operations about PDA https://solanacookbook.com/references/accounts.html#generate-a-pda
How can I read all transactions for one NFT collection?
I assume the nft collection itself should have somesort of ID , but for example on this transaction how can I spot this NFT collection ID:
https://solscan.io/token/2G4Aa2xAm28sqWvXsGbe4wFbVaAJ9jiDSuZnBAhgHAca
Unreadable screen, paste the relevant lines into a formatted block
can someone tell me how to fix this rust issue `value used here after move`
Hey Chido! You've gave me some great help and I've progressed with what I'm doing.
Thanks for clarifying for me. 
P.S. The answer to Q3 is pretty much the answer to Q2 🙂
thank you so much can you answer my other question: how to create a token account for a PDA inside solana program and not from javascript client
here are some points.

1. you can treat mint as a ERC20 address.
2. there are two kind accounts in token program, mint account and token account. both of them owned by token program.
3. only token account can hold tokens. different mint (token) need different token account to hold.

so back to your qn
> TOKEN_PROGRAM_ID ... Is this meant to be the SLP token address that i want to interact with? or should i not change this at all? ( n00b q i know )
all operations about token will be done in the token program. (like transfer, mint, burn ...)

> mintPubKey ... What is this if I didn't mint the token and i'm just wanting to transfer some Chainlink or Luna etc ?
mint is just an account which you can treat it as a ERC20 token, so you just pass which token you want to transfer.

> Where do I define which SLP token to transfer in this scenario? 
not sure what you mean. all token transfer can only be done by token transfer or token transfer_checked and I will recommend you use transfer_checked atm
PDA is just an account. you can close it by draining its SOL out.
https://solanacookbook.com/references/accounts.html#close-accounts

but not all program support this. you should know which program own your PDA then use the same program to close it.
just guess you pass a sol account not a wsol account.
when you do SyncNative, I think there is a only way can trigger the error, you pass a non-token account.

you can take a look here to know more about wrap sol
https://solanacookbook.com/references/token.html#wrapped-sol
Fetch.Ai = Deploy machine learning agents , that learn a task and then perform them more efficiently ( event though they say , the protocol uses AI , its really just ML algorithms that can hint an action with a statistically higher probability of a positive outome) - based on my limited unerstanding 

Forta Protocol - Smart contract threat monitoring agents 

my question is do protocols such as this exist for solana ?
up
Thanks, brilliant
I think it is because i cannot instantiate the wsol account but not sure

"incorrrect program id for instruction" error
however i get nearly always a
I am trying to implement swaps on my project using the jup ag
```
curl https://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
  {"jsonrpc":"2.0","id":1, "method":"getVersion"}
'
```
gm
Ah okey, I thought since it says jsonrpc 2.0 it was version 2.0. What version is the mainnet-beta on?
Like he said 🙂
getFeeForMessage is only available in solana-core v1.9 or newer
Yes - I don't know when the function was added to RPC stuff but the mainnet-beta may not be at the version. I tried locally (using `solana-test-validator`):
```bash
$ curl http://localhost:8899 -X POST -H "Content-Type: application/json" -d '
> {
>   "id":1,
>   "jsonrpc":"2.0",
>   "method":"getFeeForMessage",
>   "params":[
>     "AQABAgIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAQAA",
>     {
>       "commitment":"processed"
>     }
>   ]
> }
> '
{"jsonrpc":"2.0","result":{"context":{"slot":16},"value":null},"id":1}
```
You mean this? https://api.mainnet-beta.solana.com
What cluster are you running against?

Wow...This looks really Amazing👏 . Will read it full asap. Thanks so much for sharing <@!814228493302497301>
Hi, when trying to access the method "getFeeForMessage" over the JSON RPC API I get a "Method not found" error, someone know anything about that?
It's THE Solana Cookbook: https://solanacookbook.com/#contributing the guide I'm writing is not there yet because, well, I'm still writing it 🙂

However; the various testing options are available (both ProgramTest and TestValidatorGenesis) in <@!445425471027544095>  BPF template repo: https://github.com/mvines/solana-bpf-program-template
Could you please share the link 🙂
Thank You So Much!!
hello everybody, so i have a question, let's say i'm creating two or three accounts in my program, do i need to pass the SYSVAR_RENT account for all three or passing just one would be sufficient? and i can use that for say the mint account and for the token account as well?
<@!860085710325153792> Your feedback is welcome as I am writing a cookbook guide on using the various testing/debugging choices
is there anyway to close/delete/uninitialize a PDA?
Here you have two options:
1. Setup tests to use the implementation of the local validator and programmatically control it (similar to what your doing with ProgramTest)
2. Run it from command line. `solana-test-validator --help` which will startup a local ledger and load your program. You will then need to invoke your function vis-a-vis command line apps, Node, etc.

For 1 here is a sample that should help you understand and modify for the particulars of your program: https://github.com/FrankC01/solana-gadgets/blob/main/rust/scfs-program/tests/cu_test.rs

You won't be able to breakpoint in your program but it should suffice to see that Clock is behaving as you expect from the log output
Thanks a lot! Could you please recommend some example test cases or documentation to call program functions using `solana-test-validator` , I have never used it
The ProgramTest is a major stripped down runtime. It may be using the DEFAUL_XXX values if you look at `clock` source. Try it using `solana-test-validator`
I'm also printing `let (_, recent_blockhash, last_valid_block_height) = banks_client.get_fees().await?;`
`println!("recent_blockhash: {}, last_valid_block_height :{}", recent_blockhash, last_valid_block_height);` for debugging

which is giving me 
 `recent_blockhash: 5KHdErhJRqWTsUCGQ4i64uYefTiGN3E3YpsNB1drADV1, last_valid_block_height :301` for first pool.test_print_current_timestamp call
and 
 `recent_blockhash: 9d7icZ8hdMCA1jtcxMkfNDFHE5sbYqk4vLcCPVVYHho5, last_valid_block_height :301` for second pool.test_print_current_timestamp call

last valid block height is not changing
PROBLEM: BOTH OF THE ABOVE print_current_timestamp PRINTS SAME VALUE `Program log: now : 1643970819`, but as per expected behaviour there should be difference between current timestamp as I'm waiting for 10 sec before calling print_current_timestamp again

How to fix this? Any suggestions please
Hey guys I'm trying to write test cases in rust like this https://github.com/solana-labs/solana-program-library/blob/master/binary-oracle-pair/program/tests/tests.rs

My Solana program have a function `print_current_timestamp` which prints current timestamp using `msg!("now: {}", Clock::get()?.unix_timestamp);`

`#[tokio::test]`
`async fn test_reward() {`
`let pool = TestPool::new();`
`let (mut banks_client, payer, recent_blockhash) = program_test(pool.program_id).start().await;`

//call program print_current_timestamp function 
`pool.test_print_current_timestamp(&mut banks_client, &payer,&recent_blockhash).await`

//wait for 10 sec before calling print_current_timestamp
`tokio::time::sleep(tokio::time::Duration::from_millis(10000)).await;`

//call  again program print_current_timestamp  
`pool.test_print_current_timestamp(&mut banks_client, &payer,&recent_blockhash).await`
`}`
Hello, wrapping my head around transfering SLP tokens using typescript SLP token lib:
Questions based on code that follows:
1. TOKEN_PROGRAM_ID ... Is this meant to be the SLP token address that i want to interact with? or should i not change this at all? ( n00b q i know )
2. mintPubKey ... What is this if I didn't mint the token and i'm just wanting to transfer some Chainlink or Luna etc ?
3. Where do I define which SLP token to transfer in this scenario? 

```
            Token.createTransferCheckedInstruction(
                TOKEN_PROGRAM_ID, // always TOKEN_PROGRAM_ID
                tokenAccountXPubkey, // from (should be a token account)
                mintPubkey, // mint
                tokenAccountYPubkey, // to (should be a token account)
                keys.publicKey, // owner of from
                [], // for multisig account, leave empty.
                1e6, // amount, if your deciamls is 8, send 10^8 for 1 token
                6 // decimals
              )
```


Thankfully I do understand the concept of "Associated Token Accounts"
how to close a PDA?
Hello everyone, tell me how to start the node correctly? I am running a testnet node in docker, there is such a script https://github.com/solana-labs/solana/blob/master/scripts/run.sh , but my node starts syncing from scratch, as far as I understand - it never syncs at the first start it should download a snapshot, but it does not download
You could look at the source for how CM defines the data and go with that or ask in the Metaplex Discord server
The system transfer expects a System owned account to transfer from. You must be passing in a Program owned account. You can transfer Program owned account lamports to ***any*** account right in your program without invoking anything and save 1500 CU: https://solanacookbook.com/references/programs.html#transferring-lamports
I have some (kind of technical) questions regarding the security of private keys:

1) Once a mint account was created, we don't care about that accounts private key anymore? It's no problem if it get's leaked/might be known to the public?
2) Once a program is uploaded, we don't care about that accounts private key anymore? It's no problem if it get's leaked/might be known to the public?
3) Once an account is not longer owned by the System Program, but by my custom Program, we don't care about that accounts private key anymore? It's no problem if it get's leaked/might be known to the public?

I statement I've read (but I couldn't find the source again) that would match those "questions" is, that only the owner (in the technical sense and meaning the owner program) of an account can withdraw lamports from that account.
And in the cases above, the System Program is not the owner of any of these accounts (in 1 its the Token Program, in 2 it's the choosen Loader Program, and in 3 it's my Custom Program).

Reason for these questions is that I wan't to create such three accounts, using a vanity address (generated using `solana-keygen grind`), but the keypairs I found are already commited to a private bitbucket git and I'm concrened that if these get leaked something bad happens...
Hello, is there no way to transfer lamports from one account to another? When I do it with system_instruction::transfer is says '`from` must not carry data'. Does that mean I can transfer only from a wallet?
nvm got it
i wanted to know whats the command for transferring sol from cli?
Is it possible to use solscan to search for transactions involving 2 specific accounts?
Anybody have any experience depositing into a lending protocol (solend, mango, tulip) via SDK? Having some trouble and would love to chat.
asked there but no response 🥲
<#937905165074300999>
Can someone help me deserialize account data from a candy machine ? Im using borsh but i dnt know what schema to pass into it...
yeah... maybe I lost something. will dig into loader more deeper and let you know any updates.
appreciate your help! i'll take a look at this
its very meta, a program parsing it's own executable
maybe you can take a look at https://github.com/solana-labs/solana/blob/master/sdk/program/src/bpf_loader_upgradeable.rs#L25

the first 4 bytes (u32) is the type. (so if you get account info for a program. the first four bytes should be [2,0,0,0])

you can use the type to know what is the account type.
the executable account data i mean
ahh, i see, what type does that deserialize into?
if your program owned by BPFLoaderUpgradeab1e11111111111111111111111, an executable data account will be stored in there.
when you got your executable data account, you can parse it further to get upgrade authority
helpful to know i'm doing normal things, thank you, haha
whats the difference between my program account and my executable account? sorry i'm being thick
yeah. I think keep admin's pubkey in your program is the most simplest way to do.
I think it also works if you want to use a `init` instructions.
use a PDA to store admin's pubkey
I haven't tried it but I think you can do it. here are the steps 

prepare:  pass your program account and executable account into your instruction. 
in your program you check

1. program and instruction's program is match
2. executable data account is match to program
3. parse upgrade auth from executable data account
4. check is it match any accounts which in instructions and also is a signer
I'm currently keeping a "state" account for my program, and when i upload to mainnet, i plan to basically just send an "init" transaction that sets the pubkey that sends that transaction as the "owner" is that what others do?
how do people typically handle "administration" of their on chain program's? Is it possible to check in a program instruction that the program's upgrade authority is a signer?
You mean creating account in the "init" instruction with "Pubkey::create_program_address" and received seeds? and using these seeds?
How do we disable further minting (effectively capping token supply) using the typescript client for SPL Token?

https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js
You probably shouldn't be doing that if you're working with token accounts. Use associated token accounts
Seems like a proper research direction. Thanks. But it leads me to another question. This transaction should be signed by "this_program_account", shouldn't it? And it's an account created with "Pubkey::create_with_seed" and "solana_sdk::system_instruction::create_account_with_seed". What should I pass as a signer_seeds?
Try invoke_signed. Alternatively, there's some example code here to reference https://github.com/solana-labs/solana-program-library/blob/master/token-swap/program/src/processor.rs#L146
thanks! bro.
Help needed!
I'm trying to transfer spl-token from my program token account back to my account. And I get "Cross-program invocation with unauthorized signer or writable account"
yea i needed only to decode account data
https://solanacookbook.com/guides/serialization.html
Go through this guide to get a better understanding of what is going on
In order to decode the actual account, you're going to need to know the account's strucutre
You got json all fine and dandy
Ok, you're trying to decode the actual account data. That's different
This is what i do and this is what i get
i did
yeah makes sense, ty!
The account has to exist for you to transfer tokens. So you'll have to create
I would google doing base64+zstd stuff on node js.
is the way to go
but sounds like create ATA, after closing the ATA
I'm thinking program-wise...dunno whether to create ATA or just transfer tokens
I mean decoding correctly. No i dnt get json.
You'll have to call getOrCreateAssociatedTokenAccount method via web3.js
When you say doesn't parse, what you mean? Are you still getting json? Nodejs should be able to do just fine with express
or do you need to create an ATA again
After you close an account, such as a token account, can you reopen it by simply depositing more tokens?
Oh thanks!
Hey can anyone tell me how i can decode the base64+zstd response from rpc api ? I tried to decode it using traditional methods but it dsnt parse them correctly. Can anyone help ? BTW its in node js.
https://spl.solana.com/token#multisig-usage
Any resources or tuts that i can follow and learn more?
So two people sign and own the nft?
You could have the owner like a multisig
Like multiple signed nft?
Hello guys, is it possible to have multiple owners for one nft?
You can wrap SOL. https://solanacookbook.com/references/token.html#wrapped-sol
Sure way to get ignored here
@everyone
anyone online?
H
when someone goes to buy a token, how do you associate pricing with it basically
hey guys I'm very confused as to how you tie solana/lamports to a token transfer or token mint
Another thing you could look at (will be super tough at first, but a good goal): https://workshop.neodyme.io/ This will hammer home core low-level solana concepts (e.g. the type of thing that led to the wormhole hack, etc.)
appreciate the responses, helpful, i think ill go native but have anchor docs on another tab - slowly move over
Anchor is still great though once you learn the concepts
Yeah. Solana native will teach a lot of the concepts. Anchor will hold your hand, but going anchor first may cause some problems long term
But yeah, starting purely with anchor will be tough since you still need to know all of the actual solana concepts.
Think it just depends on what you like, I personally got a lot out of learning anchor + solana at the same time, by using https://github.com/dtolnay/cargo-expand to expand out the anchor macros—it's a great way to see how simple anchor programs turn into pure solana programs.
would y’all say to shy away from anchor to start? I don’t have much rust exp or solana. Been writing js for a decade almost
They can. Why would that matter?
I don't think this is relevant to developer-support
ty
Think that's what people do, yeah, separate numerator + denominator
Ok but that if all the mining computers  kept making transactions, effectively dosing solana tps
what are the best practices in Solana programs when working with percentages? how should we represent our percentages? multiplying it by some constant in u64 or something?

or representing it as numerator and denominator in separate fields?
Definitely
Would be cool to have that kind of computing power. So many possibilities
If you can compute that, we've got bigger problems on our hand
So you've got just about enough space for an address per atom
One way of saying it: 32 bytes = 256 bits = approximately 10^77. There are only about 10^80 atoms in the observable universe
Many universes
Yeah, worth working through some of the numbers—your intuition is off by a factor of like the lifetime of the universe-ish 🙂
Please do a bit of reading on Google. There's a ton of research out there. If this stuff is broken, Solana is the least of our troubles
Seems very exploitable. I mean if people used all mining cpus to generate addresses, they could all be used up
Yes
Ah so have them sign/encrypt the message then post to my server, decrypt via the pubkey, if the original and decrypted strings match then they must own the priv key to that pub key
lol
yeah you and me both, very difficult to try and write thats for sure
Ah, ok—well, now I'm curious if it'll work haha 😛
I dont think it needs too necessarily, but then it'll be boring :). I think without a generator program the community portion sort of gets lost maybe, because I want this to be a point that anyone can hit and make lil baby programs from it. A program that mints programs if you will
Right, I'm curious if it needs to translate directly like that in solana (not sure, genuinely curious)
this concept is easily accomplished in the evm
Why do you need to programmatically deploy new programs?
thats where the analogy is coming from
hmm, that does seem to be a drawback from what I understand vs ethereum where you can just call other smart contracts and easily make smart contracts form smart contracts
Also, for what it's worth, I think deploying a program from within another program would be tough—deploying a regular program usually takes hundreds of individual transactions
thank you
omg thats perfect
https://pencilflip.medium.com/learning-solana-3-what-is-a-program-derived-address-732b06def7c1
No, there are multiple types of addresses in solana. Regular keypair addresses, program-derived addresses (the address isn't an actual cryptographic public key), plus a weird third type that's not super relevant.
Anyone can in principle read that account and take the private key
like from the system_instruction crate?
I'm curious what a pda is I might have glossed over that could you provide a link?
Like say you make some new keypair client side, sent it to a deployed program as instruction data. It processes that keypair to make a new account and stores that private key in its own data account. I wonder if theres any issue with that account having the private key if that accounts owner is in succession mine?
But I haven't thought about the idea of a program living at a PDA before
This issue though of letting a program sign for an address, *without* needing a private key, is exactly what "program-derived addresses" (PDAs) do
I need it for my use case
Mm, I'd have to think about that question some more, but they usually don't (do they ever?)
cause you need something to sign to confirm that the parent account created the child accounts
so how would a program create other programs?
No, all accounts are publicly fetchable
Is it safe to store a private key in a program accounts data?
Raydium has their ui open source
It depends on the program and how they structure the accounts
Yeah, big table has long term history
You can do something like `signMessage` with the wallet adapter and use tweetnacl to verify the message
People can. Why though?
What are those/what do they do?
does anybody know the link to the big query long term rpc history? https://docs.solana.com/implemented-proposals/rpc-transaction-history - it wasn't big query it was big table: https://github.com/solana-labs/solana-bigtable
That sucks so much
And in the context of 32 byte addresses, "millions" is a tiny number.
Whenever you create an account in solana, you need to sign with the account's address. So, that means you *can* create millions of wallets (just generate millions of keypairs), but you can't pre-emptively squat on someone else's preferred address (since you won't be able to sign for it)
so i put up a smart contract/program and host sol in it that allows for free rent then send an instruction and that has a 0 sol cost?
Im looking through this, I can only find methods that take publickey as an input, i dont want someone to be able to spoof their public key, something like validate by signature, maybe i missed something in the docs?
I mean why can’t someone just create a million solana wallets
Sign what
Hello is there something like , Fetch.ai and/or Forta Protocol for solana ?
I guess you could read the on-chain data pushed by https://pyth.network/ using the JSON RPC API
That is determined by exchanges and off-chain entities, so you'd be better off querying an exchange.
Nope.  coingecko has an API for that, as to most exchanges
is there any way to get the solana price in usd with the solana JSON RPC API?
How can I get the format of the binary data retrieved from an RPC from the programSubscribe call?
offchain check - above ^
onchain check - pass in the token account to the instruction and verify that token account mint owner equals the signer
You could just use an RPC to get the tokens in a wallet, check the API here: https://docs.solana.com/developing/clients/jsonrpc-api
pardon my ignorance, new to the space
is it possible to validate ownership of a wallet without paying a fee, for instance can i make an auth system that requires tokens/nfts in a wallet and check ownership of that wallet via a free signed message
is there a reusable react component or anything similar to a token swap UI that we can build off of? goal is to build a swap ui on top of my own AMM pools
There might be a newer version of the library that tries to be more ergonomic.
It's annoying, but you're going to have to just manually do whatever instructions the `Token` class was going to run for you 😬 Try jumping to source to see what it does.
This also then does not let me get associated account info and when I run `token.getOrCreateAssociatedAccountInfo(recieverPubKey)` I get
```
Error: Failed to find account
```
but it works fine when I run the same function using provider public key ( the one phantom provides )
"brute force" in what way?  You have to sign to claim an address
Hey guys, I need some help with spl token transactions using phantom wallet. When I do it locally, I'd generate a keypair from my private key and create a token like this -

```javascript
let keypair = web3.Keypair.fromSecretKey(private_key)
const token = new splToken.Token(connection, encoded_mint, splToken.TOKEN_PROGRAM_ID, keypair)
```

The problem is when I'm in browser environment (phantom web3 wallet) I don't know how to create a token and pass the proper signer keypair (last variable in the Token constructor) because I don't have access to keypair from phantom.

Is there something I can do to sign/create this token properly in browser environment?
Thank you so much
How does solana protect against someone just brute force creating addresses?
hey guys i wanted to know how should i list my spl token?
In the end, it's probably something simple.... I've been focused on the raw materials and haven't touched into the various ge-gaws layered on top of those.
I'm checking with someone who got it working previously. They may be slow to respond though
that's crazy
I'm not going to debug why. If the basic instructions don't work on supported platforms then the issue route or an expert on the solidity repo lurking about here should help. I couldn't even get the local airdrop part of the script to run... it blows up
wasn't expecting that
wow
Sounds like an open issue for the git repo
Yes, following the instructions for either option fail, fail, fail.
so you think I should put in an issue?
No I don't think it is you. I'm on MBP with x64 where everything just works
really, so you think its not my fault?
Ok, I just did the Build from Source and `yarn test` aspirated food particles all over, trying the quick setup but methinks you may want to open issue in the repo... hold on
quick setup
We're not metaplex support, sorry
I still can’t get in to metaplex having trouble with verification
Are you following the Quick Setup or Build from Source?
Looks like the documentation gives the run script as `node erc20.js`
if that's the case, what would i need to do to add it
You have nothing in your package.json that runs this script
<@!814228493302497301> what am i missing?
Try asking metaplex https://discord.gg/faQrN5Pc
No

<@!804350183105363980> Is <#937905165074300999> open read permission for all?
Yeah, this looks like the project isn't set up correctly
Hello I tried to gain access to NFTs and it didn’t work
Ok, I'm looking for:
 What actually starts the test validator and deploys your ERC20.sol program
```{
  "name": "project",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@solana/solidity": "^0.0.18"
  }
}```
What is inside the script section of `package.json`
https://github.com/solana-labs/solana-solidity.js
I followed the instructions exactly
dude this is my tree
<#937905165074300999>
Hello,  is there a way to do a Solana NFT reveal… for NFTs created on Solana blick chain?
You may have your project set up incorrectly then. I'd Google that error
and I have it in my directory
erc20.js is my deploy script
I'd like this. Pay as you go
Looks like you're missing a file if you read the stack trace
I still get the same error
but it still won't except the script
``` const connection = new Connection(' http://127.0.0.1:8899', 'confirmed');
``` I modified the connection script to connect to the node
here's a guide for the oracle part https://docs.chain.link/docs/solana/using-data-feeds-solana/
that's the last problem then i can deploy my script
```Error: Cannot find module '/workspace/template-typescript-react/solana-solidity2/project/erco20.js'
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)
    at node:internal/main/run_main_module:17:47 {
  code: 'MODULE_NOT_FOUND',
  requireStack: []
}```
it would provide more comprehensive accounts filtering for your app, so you don't have to run a validator + database + server endpoint to support your dapp and query larger numbers of accounts
welcome back
Ok I got the node to run but I'm still getting this error
firebase-like dapp? Firebase is a web hosting platform
A firebase-like dapp service seems like it could be an interesting hackathon project?
Thanks. Sorry I was directed to the wrong place… if there’s any reliable resources for hiring developers (and not scammers) greatly appreciated 🙏🏼
Bye Devs 👋🏼
🤣
Playing along with those scammers  is fun aswell
You can try in <#428295358100013069> .  This channel is for actual developer support.  We don't really support job hunting on this server, but if you keep it small and don't spam, no one will bother you
I don't know of any accountsDB as a service today. The link I sent goes through the various ways of getting your accounts, but accountsDB really is the best way if you have a large amount of accounts
Thank you. Waiting for someone to reply me on serum lol from yesterday..
Nice, how polite.
dms are a scam usually
i was trying to get away with a pure client and not maintain a server, maybe others provide more comprehensive accounts db as a service
lets work
dm me if this is for solana network
Shit.  They're finally fighting back against us sending all of the degens to TG
K thanks— any resources can I access to find a developer for hire?
Ideally it just filters and feeds another DB, then you can add an endpoint there if needed
I wouldn't really go in developer-support <@!894720046587326464>. Probably best for general and good luck
Note: AccountsDB is probably still your best bet
Hey, Solana bot on Telegram sent me here in search of a developer
interesting, helpful info. so the idea would be that I set up my own server that runs a validator following the chain, and also runs an accounts db plugin that presumably provides some sort of custom endpoint?
It's not possible to paginate with the json rpc api call today. You either do accountsDB plugin, or something like https://lorisleiva.com/paginating-and-ordering-accounts-in-solana
Serum discord is your best bet
Hi i got a serum question, I have posted it on serum dev, but no one  replied me back on this. So just wondering if someone knows about it. Is it possible to create an amm  id for serum in testnet ?
If you're asking these questions, you need to start writing an accounts DB plugin.  RPC is not The Way ™️
does anyone know if it is possible to paginate results from `getProgramAccounts` and also, how many accounts can that filter over and return before issues pop up. https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts`
A multisig account requires rent, yes. I believe it needs the 2 years minimum amount to be created
Hey sorry, i have a dumb question. Does a multisig account need rent SOL to avoid getting deleted
i'm gonna try it
no i have a virtual environment
delete the previous solana install and run again
hold on i have an idea
i did my man
It'll grab the correct install on your system
You should be able to run the curl command as long as you use the base terminal on your mac
is this where i go

https://docs.solana.com/cli/install-solana-cli-tools
what does that mean?
Reinstall using the arm binaries
nope same outcome
See if it runs successfully
`solana-test-validator`
thanks
bytes
solana rent <data size>  :   <data size> is bytes or bits  count?
ok i did that natively in my terminal now what?
my guess: you’re running under rosetta.  instead install the cli again from native and you’ll get the aarch64 binaries that won’t crash on you
yes
Are you on an M1 piece of hardware?
Or worst! https://discord.com/channels/428295358100013066/517163444747894795/938887183476097064
solana-cli 1.9.5 (src:39a4cc95; feat:3125401026)
only the best for our community 🤗
This guy is getting some premium help
The AVX messages are using thrown pretty quickly
`solana --version` please
```kaleb-mbair:project2 kalebamarante$ solana-test-validator
Ledger location: test-ledger
Log: test-ledger/validator.log
⠙ Initializing...
Illegal instruction: 4```
Or older and no AVX/AVX2
he’s prolly running on an MBP with 1.7 or an early 1.8 release that didn’t support M1 builds
Pasting screen shots sucks
Looks like it wasn't successful
Can't see the command
whot does that mean

It's a common misconception that folks think that SLT is a daemon that is always running
You need to _keep_ it running
If you run `solana-test-validator` successfully, then you should be able to hit it
ideally yeah, but i can't
If you have it running, then you should be able to deploy your program now
Off topic.  Delete
Not related to this channel
Nope, not Tim Curry
yes i have it running right now!
You'll also likely run into issues with your invalid package.json later
Just run it directly
You shouldn't need anything special. https://docs.solana.com/developing/test-validator
Failing on docker it does say that `docker` is not acommand. Did you install Docker?
`yarn docker` is step 4, `yarn validator` is step 5
https://solana-labs.github.io/solana-solidity.js/ I was simply following this documentation
Well, if you have solana-test-validator dockerized, sure. But doesn't look like you do
don't i have to run docker first?
Yeah.  Anything referencing `docker` should be immediately suspect
That doesn't look like `solana-test-validator`
Looks like you need to read the error output
I just did and it failed
Looks like you need to run it
no i forgot to do that

Is the solana-test-validator running?

when I ran the deploy script, I received this error...
Hey Guys, so I successfully transpiled a solidity contract, now I am trying to deploy
cool
Guide 👍
<@!489206164270350337> Guide or Reference on the Debugging... It's a Guide in my opinion
excellent, gonna road that doc thank you all
Do not use time
Lots of good info on this topic here https://solanacookbook.com/guides/retrying-transactions.html
Doesn't that depend on the business model?
what would be a good timeout to set for a transaction? like if the network is misbehaving or whatever, when can we say "this transaction has no chance of succeeding", i've heard 1min30s is that right?
Just an FYI - .transactions[].transaction.message.accountKeys[0].pubKey is the correct call for any1 interesting
Better for some, worse for others.  Gotta separate the wheat from the chaff 😉
<@!489206164270350337> thanks <@!585868308419444749> super thanks you make solana just better for all of us!
YES! Sorry for posting again got it to work needed to add some minor error checking before making that call
This is what it seems to be 
.transactions[].transaction.message.accountKeys[0]
But I do get an Assertion fails error
Does anyone have any thoughts or ideas on what features theyd like to see in a block explorer?
`.transactions[].transaction.accountKeys[0]`
Try using the floor implementation in precise_number https://github.com/solana-labs/solana-program-library/blob/0a98473f0a452fce8f8e0f2445779ef4cb624891/libraries/math/src/precise_number.rs#L111
but i meet the problem during compilering
I use native floor function in rust
There is a compiler problem
Looks like that is how the explorer does it https://github.com/solana-labs/solana/blob/ffb5518cbea56dc70088fe522fba92d2e17ed676/explorer/src/pages/TransactionDetailsPage.tsx#L382
Error: ELF error: ELF error: Unresolved symbol (floorf) at instruction #1141 (ELF file offset 0x22c0)
Warning: the following functions are undefined and not known syscalls ["floorf"].
do not support floor in rust?
hey guys
So I would check the “accountIndex” in the result?
The first account in the accounts list is always the fee payer
So looking at the source getConfirmedTransaction is deprecated, and is replaced by getTransaction which does not have the feePayer any longer ( https://github.com/solana-labs/solana-web3.js/blob/237ee3e9095bb6acf3aa02fae8663d0ad816b6ca/src/connection.ts )
Yeah
On web3?
Let's get it added. You're welcome to make the contribution or forward along the details of where it is and I can look into getting it added
Confirmed that it is missing
Where is it on the original transaction object? Let's get it added to the `parsed` variant
It does not, but I am cross checking and stringifying both to be 100% certain
If not, we probably need to add what is missing
Parsed should have all the same fields, does it not?
https://project-serum.github.io/anchor/tutorials/tutorial-1.html#defining-a-program
is there a simple getter/setter smart contract written in anchor that I can see somewhere? a single variable kept in account storage, a function for setting the value, a function for getting it
What commitment did you use?


///////////////////////////////////////////////////////////////////////////////////////////////

can someone suggest me?
why is that?. its not pulling the transaction that happens on magic eden
just a question guys, im using getSignaturesForAddress, but its not pulling all transaction that happen on that nft.
Guys, anyone help me in making a solana program/smart contract, I’m ready to give them 2% of mint sales from our nft company
guys question
Hi! How can I decode the instruction data of https://solscan.io/tx/UiqDJVGLuC3ZQ16RKxzW7RRMqJqxrjDG5UWPE5aXucUwrWTcBPCVJoRYWMa5Yc82Vq7dG1BVgQpb8eYcERhwJNk ? I tried to decode the hex and use that byte array as input for AnchorDeserialize but without success
so do you know how could i do that?
yes yes thats what i meant
hello, please help with discovering all nfts from one collection. How to find all nft addresses from a collection ? By what attribute it could be done ? Please provide some details
Trying to make a website like this - https://mint.networkchuck.com/
Does any1 know where I need to go to red up on it or anything?
Hey, I was thinking what if instead of sending 1 nft I just send 1 coin then make it so they can choose how many coins they want and what they will have to pay in sol to get it? When they then hit mint or buy instead of sending x amount of nft it just sends x amount of coins
To figure out why you're going to need to do some debugging unfortunately.
So some `has_one = ...` constraint broke.
0x7d1 = 2001 = https://github.com/project-serum/anchor/blob/master/lang/src/error.rs#L44
is there a way to exactly know what’s wrong? the program has been done by another guy of my team that didn’t work with us anymore
yet the import is indeed a libsecp256k1::SecretKey - https://github.com/AudiusProject/audius-protocol/blob/0c82bfb8d0d8d7fa40720bc4d39b6672127ed37c/solana-programs/cli/src/main.rs#L18
https://github.com/AudiusProject/audius-protocol/blob/0c82bfb8d0d8d7fa40720bc4d39b6672127ed37c/solana-programs/cli/src/main.rs#L301 is the specific reference
```error[E0308]: mismatched types
   --> src/main.rs:301:58
    |
301 |         secp256k1_instruction::new_secp256k1_instruction(&private_key, &message);
    |                                                          ^^^^^^^^^^^^ expected struct `libsecp256k1::SecretKey`, found struct `SecretKey`
    |
    = note: expected reference `&libsecp256k1::SecretKey`
               found reference `&SecretKey`
    = note: perhaps two different versions of crate `libsecp256k1` are being used?
```
hi all, we're abruptly getting this odd build error related to libsecp256k1 when upgrading to 1.8.14 - somehow the compiler thinks we have two different versions of libsecp256k1 even though we only declare 1?
is there any docs where I can find whats on each part of the candy machine data? Like its specific offsets for each type of information stored in the data
yea I tried that but idk how to get the candy machine creation timestamp to then order them :/
Thanks! I'll take a look
There's a bunch of info at solanacookbook.com
That's a custom program error, meaning it is related directly to errors defined in your program
https://lorisleiva.com/paginating-and-ordering-accounts-in-solana
I'm trying to send a Transaction to a program using the JSON RPC sendTrasaction method but can't figure out how to sign and encode the params portion. Can anyone help me form a sample request or point me to a tutorial?
why did I get this error on my transaction?
Hi
Programs don't automatically do anything unless you send a transaction with instructions to do so
is there any way or any tutorial that explains how to order by created date the candy machines that will be displayed when using getProgramAccounts enpoint?
Understood. So how does someone exploit a program on solana ?
What's the best way to verify a server-side API request came from a client owning a specific NFT?
Just send and sign tx
ah ok
As long as your NFT is made with the Metaplex standard, they can do as they wish on these secondary markets
like if they mint the nft from my website, how would they sell it on magic eden for example
whoops I meant marketplaces like magic eden or solanart
Opensea doesn't currently have Solana integration, but there's plenty of secondary markets
After all 100 NFTs have been minted, how will my NFT holders be able to sell the NFT on marketplaces like opensea?
Lets say I have a minting function on my website, and I have 100 NFTs available for minting
**.**
The question is unrelated to the wormhole exploit. 

If someone has access to the keys of the program upgrade authority, they can upgrade the program. Iirc a lot of protocols put the upgrade authority behind governance or a multisig
Hello community support… this question is about the recent wormhole exploit

As far as I understood it only someone with your private keys can have access to your program. Can someone explain in detail how another person can connect to your dapp to exploit it ?
If this is the wrong channel feel free to move the question
No workaround if you want PDAs
Any SPL can be used. The spec tells you how to do it
What do you mean by automatically
has anyone figured out how to add solana pay button to frontend? or how to change point-of-sale to request SPL tokens (ex. USDC)?
Hi, trying to submit a project to solana.com/ecosystem/submit-project but getting an error when doing so. Anyone know what's up? If inspecting the logs I see a POST 500 error, but don't know what that's about
Thanks
Hey everyone! How can I make a rust program with anchor that does automatically send and sign the transaction and then use the endpoints in my ts program?
createAccountWithSeed are not PDAs though. The workaround is as you say to create the account on the client side in an instruction preferably in the same transaction.
Program Owned accounts can have up to 10 MB
Program Derived Accounts (PDA) can have up to 10 KB
❤️ ❤️  thank you
or web3.PublicKey
import
`"ReferenceError: PublicKey is not defined"`
`1926247593`, right?
it'll help you avoid stuff like this
and use typescript, not js
try `.getBalance(new PublicKey(pub))`
it's in a Vue 2 method
`const web3 = require("@solana/web3.js");
      let connection = new web3.Connection(
        web3.clusterApiUrl("mainnet-beta"),
        "confirmed"
      );
      let pub = "Bp4CeYv7UXn7VV7tSSdEB2mKVZ6u9RsEag8AQ5zgf34a";
      connection
        .getBalance(pub)
        .then((res) => (this.account = "foo"))
        .catch((e) => {});`
I can't run a screenshot 🙂
code please
thanks. i believe it's either not executing the function or the function is not working. getSlot() returns as expected. getBalance(publicKey) does not produce any response. i try setting a null variable to the response, it remains null. i try simply setting the variable to 'foo' after `then` and it remains null. if that's not nothing, it approaches nothing pretty close 🙂
hey guys i have made my own spl token can u please tell me how can i list it on an exchange
Namaste Everyone,

account creation via internal instruction limits space which can be requested to 10,240 Bytes.
Is there any way to get around this problem?? 

So that can utilize PDAs which can request upto 10,485,760 Bytes??
Or creating account SystemProgram.createAccountWithSeed from client instead of onchain program's invoke/invokeSigned
there is no "nothing" thing in js
1. what's returned exactly?
2. Please provide your code
Thanks! Got it working now
i got web3.js working and i can do stuff like getSlot() - but when i try getBalance(publicKey) it returns nothing. publicKey is a string of a public key. any ideas why? i am using mainnet-beta and a valid public key.
if you used `anchor init` it should have created one for you
it's in your `Anchor.toml`
Try the Anchor discord
Hi, regarding Anchor config feature question.

How to set the config to devnet in anchor? Dex::ID is set to mainnet by default. I would like to use the devnet ID in my test program.

Thanks!
Hi rookie question.

I am following this great tutorial - https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/
It mentions that  "Accounts can only be owned by programs" and link to this example that is suppose to be owned by `System Program` - https://explorer.solana.com/address/6TkKqq15wXjqEjNg9zqTKADwuVATR9dW3rkNnsYme1ea

However there is no "owner" field here. Was owner renamed to Assigned Program Id? Or am I misunderstanding something?
okay, memo program found 🙂
Can I provide some text data in transaction?

how does one get a public name for their program?
heyo
If you wait for the transaction to be confirmed to the same commitment level as you call gPA with, then it won't be in the results
Depends on cluster conditions and how you call gPA
Okay. Let me put in other words. If I do  getProgramAcconts right after draining one of accounts lamports, Will the result of getProgramAccounts contain the drained one????
Don't think in time on Solana.  Save yourself the trouble
In other words can I say that in worst case a account can survive at Max 0.4 seconds after draining all it's lamports?
Accounts are reaped at the end of the block that zeros their lamports balance.  No waiting
Namaste everyboy.

Is there any other way to delete a PDA than draining all lamports and letting solana runtime do the purging?

I want to delete account instantly. Don't want to wait for next rent epoch. Any suggestions?
Hey guys, I am using this simple snippet in python, to see if my client is connected, and I get returned true. However, when I use my own custom rpc node, I get a client error. Does anyone know how I can fix this issue?
using a JS or TS library, sorry
hey guys, does anyone know how to get all stake accounts that belong to a user?
https://solanacookbook.com/references/token.html#get-token-account-by-owner
a mint will be stored in the token account
I know. It's just the wording that threw me off a bit.
Well it displays inflationary rewards for vote accounts as well
<@!307236671517360139> <@!929900896274501662> <#937905165074300999>
It was a little confusing. I was looking for "staking rewards" this whole time and never bothered to check inflation rewards
What's wrong with the name?
Sorry for the newb question. I'm trying to validate if a specific NFT is in a wallet and have found that...
```    const tokens = await connection.getTokenAccountsByOwner(publicKey, {
      programId: new PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA')
    })```

Will return all the token accounts (not the tokens themselves), but I'm struggled to figure out how to drill down to the token ID itself.
Any Solana Rust devs here available for contract work?
If i tried to transfer from another wallet it works
I made exactly like here
https://stackoverflow.com/questions/68236211/how-to-transfer-custom-token-by-solana-web3-js

Someone know why i am geting this error while transfering NFTs between account?
Trent, do you think it'd be worth opening an issue in the Solana repository suggesting a better name?
<@!585868308419444749> <@!489206164270350337> 

I finally figured out how to do it. I honestly had given up but then realized the Solana explorer is open source so I had a look into how the explorer does it. Turns out it was right infront of me the whole time. The function call is `getInflationReward`. I have no idea why it's called that but it is. What a relief ☺️
hello is project serum API down? in our game we used to be able to make connection but suddenly this error appears
gm sers

any devs here interested in developing a free mint NFT claim for whitelisted wallets? All NFTs r the same image - no generative aspects needed.

*must have proven track record and referrals
Any comment ?
Aight, thx - this helps me in my further thinking here
getEpochSchedule -> getBlocksWithLimit (first_epoch_slot, 1)
So I see the slot index of the most recent epoch. Is there a way to find it for all the epochs?
I see here that each epoch has 432000 blocks
How would I know that the block is at the beginning of an epoch?
You should be able to get the rewards from the block at the beginning of an epoch iirc
I don't know of any example today because the implementation is still under development to my knowledge
Or anything that's not a system account
You're using an account that is not allowed to pay fees. Like a PDA or program
I'm trying to understand what this means `InvalidAccountForFee - This account may not be used to pay transaction fees`
I am looking for an example of using the new `address-lookup-table` functionality, I am trying to find it for a while now without avail
It's not in the transaction signatures of the stake account
How can I view stake rewards with the web3 library?
THANKS FOR THE HELP!
I cleared out the aux account by using spl-token gc, then I was able to transfer just using the Token's Mint address
Yep - that was it!
I believe old serum dex's still use the legacy token accounts
Yeah, I think raydium has a tool to migrate to ATAs
That's the thing we're seeing on Raydium, right?  When you go in there it says you need to migrate the token accounts...
Those are legacy token accounts
SWEET
Poorly behaved  dapps usually
Sorry folks - just trying to learn
why are these Aux tokens accounts getting created?
This might be it:
OOOOOOOOHHHHHHHHH
Assuming no because that could be rugg-y but thought I'd ask
In the metadata can I associate the entry to a different token address?
Well nuts
you can't
Oh - can I modify the token itself after it's created?  I put 0 decimals when I meant to put 6
mannnn - I really don't want to recreate this because the token metadata is already through github
That is how I understand it
Thanks for the answer! By the way (just to double check my knowledge) it's the same with mint accounts right? Once they are deployed the private key is not needed anymore and it would be ok if someone stole it, as the person can not do anything with it?
I hadn't run into this before AND when I use Phantom it works just fine

giving it a go
can you send screenshot of command you typed and error you got
This is the ATA:  FxKnG2yRhtRTvHmdiuRKmotJmdWJYtndEw3m9GXqCfV6
Are you following the spl guide? https://spl.solana.com/token It should walkthrough everything step by step
Token address is just the token name with .json
I will try
So it's the Associated Token Address and not the Token Address?
the ATA Address?  Why?  it says above <TOKEN_ADDRESS>
You need to transfer them like `spl-token transfer <ATA ADDRESS> <AMOUNT> <RECIPIENT ADDRESS>`
I can't find any relationship between the funding wallet, the token account, the ATA, and the address that is reported in this error:  Account could not be parsed as token account: pubkey=EnRvnMdwiASXbxvUAXnik59Wboz7r5HCnJUd3CdiorjB
and get a weird error
and I issue ```spl-token transfer FxKngPeyV2mM4oZPiF5EQ7xPBBAj5WtrzpBcf7n8HHaH 1 <targetAddr>```
I have the wallet I minted with in solana config --keypair
I did that - used that
That is what I'm trying to send from the wallet that holds them
Try `spl-token transfer --help`. It gives a lot of information on the args
As far as I can tell it is:  ```FxKngPeyV2mM4oZPiF5EQ7xPBBAj5WtrzpBcf7n8HHaH```
```
ARGS:
    <TOKEN_ADDRESS>                                           Token to transfer
    <TOKEN_AMOUNT>                                            Amount to send, in tokens; accepts keyword ALL
    <RECIPIENT_ADDRESS or RECIPIENT_TOKEN_ACCOUNT_ADDRESS>
            If a token account address is provided, use it as the recipient. Otherwise assume the recipient address is a
            user wallet and transfer to the associated token account
```
Very cool, thank you!
excuses I meant what version is mainnet
`solana cluster-version --url mainnet-beta`
solana --ver?
```tokenId``` should be the actual mint address, right?
how do I find out what version of solana is deployed? are we at 1.8.14?
Is it not a token account?
Hey folks - why would ```spl-token transfer tokenId # recipient``` return the error "Account could not be parsed as token account: pubkey=<accountI'veNeverHeardOf>"
That's my understanding. You need that full keypair to do your first deploy (you create an account that lives at your program_id, which requires a signature from the secret key), but once you've created that account you don't need the secret key anymore as far as I know.
I deployed a program using `solana program deploy --program-id <KEYPAIR_FILEPATH> <PROGRAM_FILEPATH>` like in the docs, but later noticed that the keypair I used for the program id was checked in source control and got pushed to a remote server. Is there any security risk? What happens if this keypair gets leaked? From my understanding this should be no problem since this account is owned by the Loader Program and my upgrade authority is still safe. So the keypair of the program should be worhtless?
Thanks
You should be checking that the program owner is indeed the spl token program (this is essential, don't skip it) and that the account's data deserializes as a token account (then you can check whatever you want, who its user-level owner is, etc.)
Yes, the account will be passed. Should i check if all of its properties right?
If the account is passed, you should be able to check the data in it. You should verify a number of things on ATAs
Which way is better to check  in program if ATA exists or  not? Check its lamports, owner, or data ?
yea will definitely do
I think I'd recommend reading through https://doc.rust-lang.org/book/
Well if you're using a string, I'd `from_str()` for conciseness
Literally all I did and it worked https://gist.github.com/jacobcreech/142ff40b888189e4c90a0657960fe266
I get way more error such as
```
error[E0277]: the trait bound `Pubkey: From<&&str>` is not satisfied
   --> src/lib.rs:71:44
    |
71  |     let metaplex_metadata_program_pubkey = Pubkey::try_from(&METAPLEX_PUBKEY).unwrap();
    |                                            ^^^^^^^^^^^^^^^^ the trait `From<&&str>` is not implemented for `Pubkey`
    |
    = note: required because of the requirements on the impl of `Into<Pubkey>` for `&&str`
    = note: required because of the requirements on the impl of `TryFrom<&&str>` for `Pubkey`
note: required by `try_from`
```
Turns out we needed the entire error as suspected
kk
it is indeed saying to use `std::convert::TryFrom` when I try to run full compile using cargo build-bpf
Please try this
Hey, I just downloaded example-helloworld and tried doing what you said. Ran into exactly what the all powerful Trent expected,
```
help: the following trait is implemented but not in scope; perhaps add a `use` for it:
   |
1  | use std::convert::TryFrom;
```
Added `use std::convert::TryFrom` and it worked just fine
It existed back then according to the docs. While we're debugging this, update that to 1.8.14
I am using hello_world's default so 1.7.9
What version of solana_program are you using?
full error states `no function or associated item named 'try_from' found for struct 'solana_program::pubkey::Pubkey' in the current scope function or associated item couldnot found in 'solana_program::pubkey::Pubkey' help: items from traits can only be used if the trait is in scope`
Thanks for the notation. I found I didn't send transaction for SystemProgram.createAccountWithSeed before instruction.
I only did client-side PDA creation! My mistake!!
It most likely suggested to `use std::convert::TryFrom`
99% sure that they simply didn't copy enough of the compiler output
My Rust is a bit Rusty, but I see examples of people using `solana_sdk::pubkey::Pubkey::try_from(address)`
Not skipping you, just looking for the answer
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
Is there a way to get transactions by an address?
Edited
double-space is unhelpful and wastes chat space
This might be more of a rust question, but can you think of why `Pubkey::try_from` is receiving `function or associated item not found in 'Pubkey'`?
I do have `use solana_program::pubkey::Pubkey` and my Cargo.toml also contains `solana-program`
Using VSCode when I do F12 (go to definition) the local copy of `pubkey.rs` does indeed have `try_from`.
Why would this issue occur?
🤷
It literally was copypasta. I can't help any more than that
no ser plz just some copypasta
It literally has an example of adding an instruction to the transaction. You may want to run through a tutorial on buildspace https://buildspace.so/learn-solana?utm_source=solana.com or figment https://solanacookbook.com/ to learn more of the basics
Accounts owned by the program are PDAs. Check out https://solanacookbook.com/references/programs.html#create-a-program-derived-address
That doesn’t tell me how to add transaction instructions inside of a transaction
Yes, and I wanted to greet to the account that the program can modify, a.k.a. program-owned account.
But createWithSeed() seems that it does not give me the account which is owned by the program
So it sounds like you have a check that requires you to use a specific account to modify an account.
Yes, but little twisted:

I did build & deploy process at Linux (WSL2) due to bpf-tools installation issue
And made web-based frontend at Windows
Actually, fee payer and deployer are not equal now
https://solanacookbook.com/references/basic-transactions.html#sending-sol
Can you send a link or example on how to do this
Are you just doing the hello world example?
I printed the owner's address by

msg!("Say hello to {}, owned by {}", account.key.to_string(), account.owner.to_string());

Cannot find why the owner's address printed with 1s
I created program-owned account with two ways: createWithSeed() and findProgramAddress().
And, with both ways, when I printed the owner of the program owned account (by modifying rust program), It results like the image
I found this section invokes the exception, so I was working on that, and find weird things
thanks Jacob!
You can include an instruction in your transaction, but you cannot do this by default unless the program you're interacting with does it
You can try https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedAccountInfo I think. Otherwise it's a getProgram accounts call https://solanacookbook.com/references/staking.html#get-delegator-by-validators
Can you send a percentage of a transaction to different solana wallets?
In solana's web3js library, how do I get the vote account a stake account has delegated to?
Not sure on that. I've been saying someone should do this as a service somewhere for sure, but haven't seen it done yet
Thanks for your help <@!489206164270350337>
```
[provider]
cluster = "devnet"
wallet = "~/.config/solana/id.json"
```
This was in my `Anchor.toml`
ahhh i found the problem if anyone is curious
quick follow up - do you know of any RPC services that have a package that would allow me to specifiy accounts / transaction subscriptions for the accountsdb plugin and hookup a postgres notify trigger to be notified when one comes in via a websocket?
Not knowledgable enough on anchor to know this was a thing, but cool!
`const program = anchor.workspace.FirstRepoName as Program<FirstRepoName>;`

This shouldve been

`const program = anchor.workspace.SecondRepoName as Program<SecondRepoName>;`
Still working on fixing the error
Ok so I merged two anchor repos with different names
What was the issue?
That usually means that you're sending a malformed instruction to a program, or that the program does not have the instruction
ohhhhh i think i know why. super weird error. my fault.
[on-progress] with advice of <@!489206164270350337> , I only signed by phantom and send raw tx by provider,
and I can get this error. It seems better to use this way for debugging. Thanks for all!
localhost is right. What are you running into?
nope didnt work
ahhh wait i think it's supposed to be `localnet`, not `localhost`
keypair is just using a keypair labeled as devnet. Connection still states local
`anchor test`
What tests?
Notice keypair path: `Keypair Path: ~/.config/solana/devnet.json`
My tests are running in devnet, even though my local config is localhost?

```
Config File: ~/.config/solana/cli/config.yml
RPC URL: http://localhost:8899
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: ~/.config/solana/devnet.json
Commitment: confirmed
```
thanks <@!489206164270350337>
Once you get to websockets, be sure to check out https://solanacookbook.com/references/local-development.html#subscribing-to-websocket
Yeah, change in data or lamports. If those don't change, then you just have to `getSIgnaturesForAddress`. Don't think there's a way json rpc-wise to subscribe to this
but that could be incorrect - havent worked much with the websocket subscriptions of the rpc api yet
by state of the program, I understood that to mean a change in getAccountInfo
my understanding of accountSubscribe is that it tells you when the state of the program itself is update, rather than when its mentioned in signatures
Could you not use `accountSubscribe` for a single account https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe
i see a signature subscription in the accounts db but not really in the json rpc documentation
whoops my bad - it was getSignaturesForAddress
Ideally if you need to stream account changes, you would probably just use the accountdb postgres plugin. I believe you have to run everything yourself
Try with a different wallet other than phantom. For some reason, phantom swallows the real error
I meant a signer when you send, the owner of the from token account `await provider.send(tx, [signer])`
hi! i'm interested in learning more about websockets in the json rpc or the accounts db plugin and have a few rudimentary questions. Is there a way to stream results for "getProgramAccounts" over time? It seems from the documentation that there's not a way to subscribe to signatures, and you can only subscribe to account updates. Also, wanted to ask about accountsDb as an option, but I can't tell If I can set up my own instance of postgres and subscribe to a node, or if I have to run a validator myself?
I found -32003 RPC error refers 'transaction rejected', and maybe program issue?
I added as .feepayer of tx object, like

let tx = new sol.Transaction();
tx.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
tx.feePayer = account;

* sol is the solana-web3 api (const sol = solanaWeb3;)
I ran into that once. You might be missing a signer?
Hello, i'm trying hello-world transaction send via (solana web3) + (phantom) at devnet.
After clicking 'confirm' button at the phantom chrome app, I got -32003 RPC error.
Is there any clue that I did something wrong?
I am trying to get token holdings with account address using CLI. Is there a CLI command for getTokenAccountBalance? I see that in client docs but not in cli. Anyway to do this in CLI?
I am doing something like EIP-712's domain separator. I can just change it in the build though between devnet / mainnet
The weird thing is, 1.58.1 is my default 🤔 
```
➜  git:(master) ✗ rustup default stable
info: using existing install for 'stable-x86_64-apple-darwin'
info: default toolchain set to 'stable-x86_64-apple-darwin'

  stable-x86_64-apple-darwin unchanged - rustc 1.58.1 (db9d1b20b 2022-01-20)
```


///////////////////////////////////////////////////////////////////////////////////////////////

Good day!!
I have these nft: https://solscan.io/token/C3WgXtgyQqosU31gUrPUoZjpipxjAFZmr7saTh7bV3gg?cluster=devnet#metadata

with these arweave link: https://tkxt7gvm4xcyotluxhs6ywo4voqzpjmt6dwchacvcgcab7tfpguq.arweave.net/mq8_mqzlxYdNdLnl7Fncq6GXpZPw7COAVRGEAP5leak/

And these section: https://i.imgur.com/ULz1v8r.png

As you can see even when have "my collection" in the collection field, the phantom wallet agroup the nft in the "Web group" not in a "My Collection group": https://i.imgur.com/fv7P29p.png

The documentation of phatom says that the name of the group of an NFT is based in the Collection.name field first at all: 
https://i.imgur.com/qg4PNN9.png

Someone knows why phatom don't put the proper name of the group of my NFT?
Hello ! I have a rust dumb issue who can help me with that please I've been stuck on this ... "'main' panicked at 'Argument short must be unique -l is already in use' " even thought i don't pass any argument -l to my cargo run..
perfect, thank you
Anchor uses the first 8 bytes of an account's data storage for the "account discriminator", which records which rust struct its supposed to serialize/deserialize as. Sometimes you need to create an account in a separate instruction, outside of your anchor program (so, not using `init`), so you need a way to tell anchor "you haven't had a chance to set this discriminator yet, don't freak out"
Hey guys what does it mean to assert that account discriminator is zero? (anchor)
Thx
reach out to <@!122531133190701057> he's been working on this one
has anyone seen `TransactionError(InvalidRentPayingAccount)'` when using `SolanaProgramTest`?

it was working fine then all of a sudden got this. i'm using the `payer` returned by the `ProgramTestContext`
Is there a easy to way to get the estimated staking APR?
Hi, everyone, there's necessity to use Solana SDK for Java. I noticed solanaj SDK, but couldn't download it from Maven Central. It was deleted or placed in another repo?
maybe https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress
getParsedTokenAccountsByOwner is the answer. found it there. what a great function, someone clearly suffered through this and made that. thanks again.
hi  everyone, what is the easiest way to get all of an acount's transactions using json rpc client?
Ok so I found the problem. When the signature is invalid, the returned error is `InvalidAccountIndex`, which is not very appropriate 😄
Also, if you test locally with the solana repo... ALL features are active. When was 6ppMXNYLhVd7GcsZ5uV11wQEW7spppiMVfqQv5SXhDpX introduced?
Try testnet... 1.9.4
I think that is because the devnet rpc node is only `1.8.12` (edit, same error on localnet `1.9.5` 😦 )
Hi Guys, How to use spl_token::instruction::transfer using program
thanks i hadn't seen that github, i'm sure i'll find the answer here, lots of useful stuff already 🙂
I'm trying to use the `Ed25519SigVerify111111111111111111111111111` program
Running `solana feature -u devnet status` shows that ed25519 has been activated for devnet : `6ppMXNYLhVd7GcsZ5uV11wQEW7spppiMVfqQv5SXhDpX | active since slot 109296004 | enable builtin ed25519 signature verify program`
Whenever I try to use it with `createInstructionWithPublicKey` , I get `Transaction precompile verification failure InvalidAccountIndex`
Any idea why ?
The SPL token account has a JS/TS decoders you can reuse: https://github.com/solana-labs/solana-program-library/tree/master/token/js see the examples and tests to guide you
thank you, if you search the docs, that's a quote i used. someone said that. how do i decode it? some documentation is needed on that. throughout the docs i just says you may get binary but nothing about how to decode it haha
I tried to deploy .so file but get this issue
Error: Custom: Invalid blockhash
How can I fix this issue?
It is not 'arbitrary' as its structure is well defined in the source. The key is to decode it. Here is something to give you a better understanding: https://solanacookbook.com/guides/get-program-accounts.html#deep-dive
the value object returned by getTokenAccountsByOwner is evidently 'program specific arbitrary binary'. so that means we have no realistic way of seeing the contents? and thus need to make a separate call for each account to get stuff like token balances? or is there some way to decode that data?
Looking for a developer that can help with NFT Staking. Will pay in SOL, please get in contact via DM
looking at the impl it seems sequential but I'm having some bad results
hi, is sendAll parallel or sequential, is the order guaranteed?
Hey Thank you! <@!814228493302497301> . That helped!
To get lamports from a non-system owned account, you have to add an instruction in your program to do so: https://solanacookbook.com/references/programs.html#transferring-lamports versus https://solanacookbook.com/references/accounts.html#transfer
my test wallet where I want to get back the lamports to
And who 'funded' the AccountWithSeed (the `fromPubKey`? This would typically be the signer on the transaction. However; realize that when you create the AccountWithSeed it gets funded automagically with the `lamports` amount from  `fromPubKey`
yes
First:
The SystemProgram `transfer` requires that the `from` account is a ***System Owned Account*** but did you create the AccountWithSeed designating the Program as the owner?
Namaste Everyone! 🙏 

- Create rent-exempt account with `SystemProgram.createAccountWithSeed({`
- wait for a minute or two
- transfer SOL from the above created account back to wallet with `SystemProgram.transfer({`

But not able to achieve this getting  `Error: Signature verification failed`. I'm doing this from mocha testing framework.

I know either I'm missing a signature or an unexpected one.
What am I doing wrong here?
yow guys anyone who knows how to pull a transaction on ME for a specific NFT? im having trouble using json api  rpc getSignaturesForAddress
couldn't it be a solution for scalability?
do you think it could be possible for SOL to adapt with multichain integration?
Actually cron won't work for my use case. I want to analyze a limit set of TXs from an account, so either I should have a TX listener for N minutes or I should make a one time call to retrieve all TXs within a certain time or block range. I'm not sure how to implement either approach at the moment.
Can you link me to the API doc and/or code example?
Ok
<@939665776489693214>  here are two screenshots regarding the same and what I'm trying to achieve
But how? Can you please elaborate?
Solution : watch a rust tutorial (-:
Yes... you need to
If I create createAccountWithSeed(). Do I need to sign it for any operation? If yes how? (The owner of the account is my program)
Hey guys I’m starting dev and a topic I find hella fucking confusing is encoding and units such as uint u64 how do I go about learning that. I can google a single topic at a time but is there a better general resource? Also in terms of encoding and decoding
using anchor how can i find the creators of a mint? like it shows on solscan
Hi. I just updated my web3.js package to latest and noticed  `getRecentBlockhash` is deprecated and that I should use `getLatestBlockhash` instead, but `getLatestBlockhash` gives error, "Unhandled Rejection (Error): failed to get recent blockhash: Error: failed to get latest blockhash: Method not found". What should I be using?
how should I fix an error like this so I can verify?
guys I answered my own question by looking at the code -- someone order a plaque
signs point to yes --- `system_instruction_processor.rs` calls `allocate_and_assign` with whatever space is requested (up to `MAX_PERMITTED_DATA_LENGTH`) and then transfers `lamports` into it after
hi! I have a client trying to send 2 transactions (one to create an account and a second one to do something using that account) and the instructions don't fit into a single transaction, so I need 2 that are dependent. Which is the best way to achieve that and ensure that the account is created?
i.e. I don't need to pay `Rent::minimum_balance` for any amount of space?
If I'm creating a temporary PDA, it's okay to call the `CreateAccount` instruction with zero lamports even though I'm requesting some space, since I explicitly want the account to be cleaned up at the transaction's close, right?
a) we aren't grading your posts, no need to double space. b) just don't pass `--log`
I'm on localhost

why does solana-test-validator have so much activity on the terminal

What is it actually doing ?

I have not made a single transaction but my terminal is going crazy
<@!528383344216375307> here cron task exemple for python : https://towardsdatascience.com/how-to-schedule-python-scripts-with-cron-the-only-guide-youll-ever-need-deea2df63b4e?gi=70aef0991bb7
should I just use the rpc standard for all api calls? the web3 library feels like foot guns everywhere -.-
it doesnt seem possible to me
hello mr. smart people how do I add an AbortController signal into the web3 library fetch requests
<@!528383344216375307> And in your case, you check an account. And in the Solana API doc, you can get all transactions from an account !
And I will use the Solana API for that
Im new too but if I wanna do the same maybe I doing it like that :

Cron task who check all transactions. If a new transaction spotted, you send a notification, message or mail with the transaction
I want to be notified when a new TX is made with this program https://solscan.io/account/5zxs8888az8dgB5KauGEFoPuMANtrKtkpFiFRmo3cSa9?cluster=devnet Which Python SDK function is the right one to use? I'm new to the Solana ecosystem. https://michaelhly.github.io/solana-py/api.html#module-solana.rpc.websocket_api
And in this exemple, DCF random come from a Smart Contract
In my opinion, it covers the scam alert by proving that it is a Smart Contract that everyone can see and that it is random that chooses and not us.
https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
Hi all !  I have a maybe stupid question but I wanted some advice.

 If ever I can do the same code in JS or in Rust via a Smart Contract.  Which one should I turn to?

 Basically, the user can choose between 2 proposals and the result is random.  This result can be done via a simple Math.random.  But isn't it better that a Smart Contract decides?

 Sorry I'm fuzzy for logical reasons.. I'll try to make a simpler example:

 Take the example of DCFs.  The user chooses between heads or tails.  After his selection, he pays a given bet.  If the transaction is ok, the coin is launched and there a random decides if it is heads or tails.  This choice of heads or tails can be done simply in JavaScript.  But since the user uses cryptocurrency, isn't it better that this random choice be made by a smart contract and be registered on the blockchain?

 One, JS can be easily "hacked" if it's poorly secured.  At least it is the smart contract that decides the fate of the part and it is permanently registered in the chain.

 Which solution will you go for?
 I hope I was clear 😭😭
There is no mempool
I think I got it - getConfirmedSignaturesForAddress2 returns only *CONFIRMED* signatures whereas getSignaturesForAddress returns signatures that are still in the mempool but not yet confirmed, correct?
Is there any difference between https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getConfirmedSignaturesForAddress2 and https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getSignaturesForAddress ?
Public Key: 9i2rKMAxQtpAmPPtWdzzhR8nqTLjhqzvCVD9BDHdC2sK
Balance: 500000000 SOL
Owner: 11111111111111111111111111111111
Executable: false
Rent Epoch: 0

rich
thanks
Okay that makes sense
If you want to use localhost then you have to run a local validator.
but yea



https://openquest.xyz/quest/solana-calculator

^^^ For this tut 
They want me in localhost 

and I'm getting RPC error 😢
https://docs.solana.com/cli/transfer-tokens
the tutorial has always been 1
solana airdrop 1 <RECIPIENT_ACCOUNT_ADDRESS> --url https://api.devnet.solana.com
you are right idk what I was thinking
-u d will put you on devnet, but the limit is still 2
also I'm not sure this fixed my original problem because I'm  following a tutorial and they are working using localhost 

If I switch to local host the RPC error comes back
there's a dev net that I can def airdrop at least 50
I just checked and -u m puts me in mainnet-beta
You shouldn't need so much sol, what are you trying to do?
The faucet was rate limited because people were abusing it.
what the heck is going on.....
I have to airdrop 2 sol at a time
balance unchanged error
$ solana airdrop 100
Requesting airdrop of 100 SOL

Signature: 4eAXSUrth1F3m8vwGubpfMALXvTvBiwWL7fenBb6PwEPwn3AAu3uxKbKmU8xr9ruighQeAYKptGHWD4vzurRLQdG

Balance unchanged
Run `solana confirm -v 4eAXSUrth1F3m8vwGubpfMALXvTvBiwWL7fenBb6PwEPwn3AAu3uxKbKmU8xr9ruighQeAYKptGHWD4vzurRLQdG` for more info
I can't
Thank you this got rid of the error 

but now I can airdrop more than 2 sol
`solana config set -u m`
this seems to be an oddity specific to libbase58, instead of filling up with zeros from the back it does so from the front. so if i have a buffer of 33 bytes the pubkey will be in [1,32] super confusing, but at least i found a way to calculate the number of zeros appended.
compiled bs58-cli from the rust crate and then dumped the decoded output to file
`echo "mv3ekLzLbnVPNxjSKvqBpU3ZeZXPQdEC3bp5MDEBG68" | bs58 -d >~/Code/solcpp/tests/mv3ekLzLbnVPNxjSKvqBpU3ZeZXPQdEC3bp5MDEBG68`
Help 😢

$ solana account 9i2rKMAxQtpAmPPtWdzzhR8nqTLjhqzvCVD9BDHdC2sK
Error: RPC request error: cluster version query failed: error sending request for url (http://localhost:8899/): error trying to connect: tcp connect error: No connection could be made because the target machine actively refused it. (os error 10061)
how are you able to parse the response? i get [object Uint8Array] and nothing i throw at it is able to parse that into human reaadable format.
working on a cpp library to access the jsonrpc api, used the original bitcoin libbase58 code and noticed that there seem to be differences to the solana bs58 for certain keys. I wrote a small test that decodes a base58 key to binary and back to base58. It seems to work for some keys and for some it doesn't work:
a) MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac - works
b) 98pjRuQjK3qA6gXts96PqZT4Ze5QmnCmt3QYjhbUSPue - doesn't work
c) mv3ekLzLbnVPNxjSKvqBpU3ZeZXPQdEC3bp5MDEBG68 - works
d) 9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin - doesn't work

also double checked the alphabet used for rust, which seems to default to bitcoin, so the result should be the same, but doesn't work out for me yet. now compared the binary buffers that i get from both methods and turns out that the bs58 decoder trims a leading zero byte that the libbase58 decoder would return. seems to me like this would be a well known issue, curious if anyone else ran into this.
Does anyone know of any resource to look into regarding charging users a token (such as $ PUFF or any other token currency on the blockchain) in exchange for a token?
Namaste everyone,

Trying to wrap my head around account and when to use specific type of instantiation in which case.

Following is code  snippet trying to do the same.

Intention: Create an account (withSeed / plain create account) with lamport. This account is owned by my program.
(Note: Want to allow single user to create multiple account for storing their data)
once he don't want the data anymore he can close account and get rent lamports back. 

here is my try

client side test mimicking the same [please refer attached snippet screenshots)
Hi there ! 
Do you know how I could develop my first Smart Contract in Rust? I would like to create a very simple one. The user chooses an amount, this amount is sent to a wallet, and when he clicks on a button, the smart contract will return his money. Do I have to have 2 SCs ? One for the outbound and one for the return? How can I do that?
Are there any plans to eventually move in a direction where the inner workings of contracts become more transparent to make trust less interactions easier?
But it would be nice to atleast be able to give the code a quick skim to ensure nothing obviously malicious is hidden in there
For simulations you can pass in replaceRecentBlockhash, but for actual transactions you have to fetch the recent blockhash and sign again.
<@456226577798135808> <@!508054431930122261> need to be a little more specific.
You can try the memo program.
That is candy machine, try the metaplex discord.
But it seems like the program can't find the cache file.
Having trouble installing Solana CLI on M1 Mac... Uggggh
what is the proper way to handle `Transaction simulation failed: Blockhash not found` errors
I am having trouble downloading Solana cli
i just want to invoke from an on-chain program very quickly and easily just to test something
are there any programs deployed by default to which i can send an instruction that are effectively no-ops?
C:\Users\isiah\Solana>ts-node C:\Users\isiah\Solana\metaplex\js\packages\cli\src\candy-machine-v2-cli.ts verify_upload -e devnet  -k C:\Users\isiah\Solana\Buyer.json -c example
wallet public key: AzKgcsME78zPk5XFT7f7gMDu2wcwhTZBzZqiwFqGnVJC
C:\Users\isiah\Solana\metaplex\js\packages\cli\src\candy-machine-v2-cli.ts:360
      new PublicKey(cacheContent.program.candyMachine),
                                 ^
TypeError: Cannot read properties of undefined (reading 'program')
    at Command.<anonymous> (C:\Users\isiah\Solana\metaplex\js\packages\cli\src\candy-machine-v2-cli.ts:360:34)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
Hey guys, new to Solana, I'm getting this error when i try to verify my upload?  not cure what it means, if anyone can provide any insight
That means you're somehow not signing correctly for the owner of the tokens (the soruce, not the destination)
issue only occurs on devnet, not local tests
im transferring tokens to a PDA and getting `signer privilege escalated` error, any ideas why this could be?
Checking boxes doesn't solve problems
You get someone to build with a buggy tool chain, have that code audited, nice fancy repro build.  Then they deploy and you own them anyway
Supply chain attacks are a long game
I would imagine some representation of the tool chain (forgive me, I haven’t actually started learning rust yet and so I’m unfamiliar with this stuff) would also be public, and it would need to be anyways in order for you to end up getting the same compiled byte code right? If you have other things inserted, the byte code won’t be compiled to the same and it should therefore not be considered verified
What good is audited source if your toolchain can insert vulns?
No
A trusted source that can issue verifiable credentials that the claim of program safety, security, etc. etc. etc. is good
What is this, and what’s the issue with it?
Did you try the Anchor Discord?
Hello, I am receiving Error: failed to send transaction: invalid transaction: Transaction failed to sanitize accounts offsets correctly details of code can be found at  https://stackoverflow.com/questions/70987634/solana-anchor-error-failed-to-send-transaction-invalid-transaction-transactio
Also <#918252324693094400>
Thank you
You may get better responses in <#560174212967432193> ?
Hi I am looking to become a solan validator and run a full node was wondering if anybody could help me answer a few questions?
Ideally you have end to end audited source code, but no way in hell that's practical
Probably for some definition of "it"
So if there was like some collective archive of all dependencies, so that anytime a verification pair of source code and docker is uploaded, you also save archived dependencies, so that if anyone wanted to verify down the line they have access to everything they need to to verify the compilation
then it wouldn't require network access
except for the output directory
yeah I guess you could freeze the whole file system
Can it be archived?
I mean, you have to allow them somewhere, but there's always the chance that something in your dependency chain disappears in the future and now you can't reproduce builds
Seems like kicking the can if you do
Would there be a reason they wouldn’t permit it?
is it actually legacy ie depracated
any reason for this?
from the 'legacy.rs' file in solana-program
the struct Transaction
In solana-sdk
Ah https://discord.com/channels/428295358100013066/517163444747894795/939594699323347034
And is there a reason why something like this isn’t already the standard? Is there some pushback or something?
What does that have to do with the replied message?
Hmm, looks like the 1.56.0-dev is coming from here https://github.com/solana-labs/rust. So rustup ends up linking a bpf toolchain to solana/bin/sdk/bpf/dependencies/bpf-tools/rust, and that's set at 1.56.0.
Assuming building the docker container reproducibly is permitted
So that devs can upload their source code and docker file onto solscan
Is this standard trying to be pushed now?
Yes, Docker can be 100% reproducible.
Here is a simple sample of LLVM-IR
```
declare fastcc i32 @tailcallee(i32 inreg %a1, i32 inreg %a2, i32 %a3, i32 %a4)

define fastcc i32 @tailcaller(i32 %in1, i32 %in2) {
  %l1 = add i32 %in1, %in2
  %tmp = tail call fastcc i32 @tailcallee(i32 inreg %in1, i32 inreg %in2, i32 %in1, i32 %l1)
  ret i32 %tmp
}
```
So a Docker image contains all the relevant details needed to know how to compile source code in the same way?
If we find a way to standardize reproducible solana on-chain program builds, then creating etherscan.io alike program checker would be easy. Cargo.toml and Cargo.lock give us only information about dependencies, what we need is versioning of the whole toolchain and the same build settings (rust && solana tools which includes cargo-build-bpf).

As a simple solution, if developers create a reproducible Docker image with Dockerfile that compiles the same object.so that is uploaded to the blockchain, then we're all set. Keep it simple.
Like could someone hypothetically keep an archive of compilers, enumerate them, and then use the correct ones to verify it after?
So is it only dependency dependent when updates come out, or is there like a hidden version number still
release their source code
Is it possebol in any way to send out a SPL token insted of a nft?
I do think that big projects should
I mean, you are trusting a defi smart contract to not have bugs that allow your funds to be drained. Other than that idk
Or verify that your assets and funds are non-retrievable by people you wouldn’t want
But even if you test it in the now, you can’t see if they have given themselves the ability to update and change functionality later right?
What is that? Like testing out a black box Input/outputs?
Ig you could also use the transaction-simulate rpc method to ensure nothing weird happens when u actually interact with a contractt
BAHAHA lord, I’d die if I had to read a program in assembly
The LLVM-IR is assembly, I find it readable because I've emitted it in the past. It's not generally consumable or understandable otherwise
Because it somewhat feels strange to not have the ability to verify contract code thoroughly on the block chain, as it somewhat seems one of the greatest plus sides, the complete trustlessness
You can't specify Rust compiler version, only dependencies afaik.
I wonder if the LLVM format is human-readable enough to be used as 'source code' for this purpose
It can use a version though and use what ever version it was compiled on’s compiler to verify right?
I guess we'd need to compile with the exact same toolchain (including rust) and all crates and then compare the binary with what's been written to the ProgramData account's data field (in case of the Upgradable Loader). However, even a small update to Rust itself can change the final bytecode. Developers would need to provide reproducible builds to test against. This is pretty hard, because even an update to rust can change the final bytecode and there's no way to specify the Rust compiler verison in Cargo.toml. Docker builds would be a solution, but first we'd need to standardize this.
Will a feature ever be added to sol scan where devs can publish their source code and it gets verified against the compiled byte code?
Does anyone here use `rust-analyzer` with `solana-program-library`? I'm not sure if my configuration is just borked or if there is something wrong with the project, but having trouble getting code hinting working specifically in some of the tests. I'm relatively new to rust so just figured I would ask in case everyone is using RLS or something. I did try RLS and it seems to work fine.
They are unfortunately pain in Rust
Would you be less confused if using the output in the explorer was the main design driver around many of those replies?
If you mean show the source, not happening. Solana Programs are BPF bytecode generated from LLVM emitted from Rust. While there are ways to convert the byte code to BPF assembly there a not tools (that I am aware of) that reverse that back to Rust.
Look for the program publisher open source code and, if not
Look for credibility that the program is legit
Look for the exit door if not
am confused
ofc I could do it manually but at this point I
looked in the crate and wasn't able to find one
is there a method that allows me to convert between the two?
I noticed that UiConfirmedBlock holds EncodedTransactionWithStatusMeta instead of TransactionWithStatusMeta which is found in ConfirmedBlock
Maybe, I'm not sure if it does the same thing when the source is a git repo
and UiConfirmedBlock
ConfirmedBlock
and I see two different structs
I'm working with solana_client
Hey!
How do you verify Solana contract code like is done on Ethereum on etherscan? Solscan doesn’t seem to have an equivalent section for contract verification
Hello! I'm very new to web3 development, so please pardon my ignorance. I'd like my web UI to fetch a user's NFTs in their wallet. Could anyone point me to the right direction? Should I be using window.solana directly, or interacting with the web3.js library?
thanks for the help trent! I'm going to try to find a workaround. Appreciate the quick responses 👍
if I do `path`, then it has to be local right? So i should use `git` instead?
quit cross posting
right??
it should  go transaction1 to transaction 2 to transaction 3
above verifier 2
after transaction 2
is this supposed to say transaction 3?

Yeah. I'm not 100% how to specify it in cargo.toml though.  I'd start with a `path = "token-lending/program"` and follow the error messages
I think I see what ur saying. So regex/ specifies `[package]` , while SPL doesn't. So I'd need to import `spl-token-lending` : https://github.com/solendprotocol/solana-program-library/blob/mainnet/token-lending/program/Cargo.toml#L1
Hi -  when using spl-token  commands is the key pair that is used derived from a wallet or are they unrelated ?
Then do it respectfully.  What you've done earns permanent ignore
vs SPL. https://github.com/solana-labs/solana-program-library/blob/master/Cargo.toml
regex repo is a crate, not a workspace. https://github.com/rust-lang/regex/blob/master/Cargo.toml
okey sorry just want to ask question
Don't reply to unrelated messages

Here's the example on the rust wesite
I specified a path though, no?
hey sir can i ask question, why when i use getSignaturesForAddress for an nft address its not pulling all signature of the transaction? like the transaction from magic eden?
That repo is a workspace, not a crate
You need to specify a path I think
However, "rustc --version" outputs `rustc 1.58.1 (db9d1b20b 2022-01-20)`
Hi everyone, 

I'm try to add this crate to my Cargo.toml:
```[dependencies]
spl-token-lending = { git="https://github.com/solendprotocol/solana-program-library/", version = "0.1.0", features = ["no-entrypoint"] }```

But I get this error when I run anchor build:
```error: package `uint v0.9.3` cannot be built because it requires rustc 1.56.1 or newer, while the currently active rustc version is 1.56.0-dev```
Better question for the Project Serum Discord server, probably
is there an api
Whats the best way to convert blocktime to a date


///////////////////////////////////////////////////////////////////////////////////////////////

does anyone know if tx-wide compute budget is supposed to go live in 1.9? it was merged back in july but it’s not enabled on devnet.. is there a blocker?
Hello I submitted my project on the ecosystem page but I haven't got any feedback regarding this for more than one week. Do I need to be more patient or is that not accpted for some reason? The slug of the project is "nftbucket"
basically we are designing something with the cross collateral , which requires us to aggregate the collateral info across pools. As time goes by I would expect there will be more pools so eventually break the account number per tx limit.
I would expect it to be more than 50
How many is "multiple"?
I know this is a bad design but not sure how to improve it in such situation when I want to aggregate information across multiple accounts in a single tx .
e.g. synthetify doing this as well: https://github.com/Synthetify/synthetify-protocol/blob/master/programs/exchange/src/account.rs#L208
They squeezed all the tokens into one account.
You can update that account no more than once per entry.  Doing this is braindead
lol yeah. But in reality we want to implement something that requires knowing the vault balances for all the pools in a single tx. Passing them as accounts does not work because there are too many.
Do distributed.
Yeah that makes sense. Do you have a rough estimate on the TPS with distributed and monolithic design?
The monolithic design problem is that everytime you have someone use that account to write data, you get the account write locked. You limit your overall TPS in the long run
There's a big problem with the monolithic design. I would recommend distributed. When in doubt, the best practice is usually to go with many PDAs rather than a small amount of large PDAs
Hi guys, I have an account structure designing problem and want to know your comments:
For a swap program, we can either:
* go distributed, which is one account per pool just like the swap contract in the SPL library, 
* or we can go monolithic, which is one account for all the pools, where we preallocate 10MB account size and write down the required states inside the account (e.g. how many tokens in the vault for each pool).

May I ask what is the pros and cons of these two solutions, besides the prepaid rent for the second approach?
https://solanacookbook.com/references/nfts.html#get-nft-metadata
how would I get the name of the NFT from a mint address
No, there is not any type of paging mechanism today
in looking at the `getTokenAccountsByOwner` RPC function, is there any kind of paging mechanism for that?
could you please add me as friend, so we can dm
i'm founder of https://creaturez.io and we're looking for help with similar type contracts
just found your gems staking repo, thanks for publishing it!
hi <@!707604162673639504>
Thank you!
THE Token Program source code is here: https://github.com/solana-labs/solana-program-library/tree/master/token
Someone can send where there is an example of a code how to send a transaction(for example on mint nft) on python
You don't know what program processed the instructions?
Encryption/Decryption on 'private' data in your program may be expensive from a Compute Unit standpoint. With 1.10.x you'll be able to purchase more compute units but fundamentally Solana is a public chain
Try anchor discord https://discord.gg/RDHwm3U7
any docs explaining
whats difference between `anchor run test` and `anchor test` ?
Do you know the program for this? It may be easier because you see:
1. Decoding from base64 results in a byte array
2. To further decode the byte array you need to know how the data was serialized
3. You would then need to use the corollary deserialization into the structure layout from whence it originated
Hey! If I wanted to hide some information on chain for my program to interreact with, would that be possible? Or will people be able to see what accounts my program interreacts with and then decode the information from there?
program to instructions, or are you talking about transaction to instructions?
oh sorry i did not see that. i'll check it, ty!
Look at the link I shared. It gives the code to do what you want
No. Metaplex is not a token program
oh so i should use the program id Metaplex used for candy machine creation?
To use that call, you must provide a token program id. Candy machines are not token programs
Metaplex
I'm not too familiar with Solana NFTs. Where did you get the address from?
it is what i have in cache file
Yeah I'm getting the same error. My guess is the candy machine address is wrong.
There's a way here on how to retrieve mints from the candy machine: https://solanacookbook.com/references/nfts.html#candy-machine-v2 From there you can just check if the user has a mint in the collection
You need to give the token program and go from the tokens to the specific candy machine
replacing http://localhost:8899 with http://127.0.0.1:8899 worked
Config File: ***
RPC URL: http://localhost:8899
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: **/solana/id.json
Commitment: confirmed
<@!208030576798597137> 
Owner - `Hb1iAGBjr1SkkRDocfu4LBwxq23McqL1r11tdub8Fy2V`
Candy Machine - `8mZkUVfuWHczKyGFMZssHBgn3W9LVXKxFTwshrQ2tbBL`
devnet
Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer fund
This correct way to request for tokens?
solana airdrop 1 <pubkey> --url http://localhost:8899
Can you send me the public keys of the owner and candy machine? I want to try it myself.
I see you're using JS. Is there anything you're making raw HTTP calls instead of using the web3 library?
```
const response = await axios.post(SOLANA_RPC_URL, data, {
            headers: {
                'Content-Type': 'application/json'
            }
        })
```
```
const data = {
        jsonrpc: '2.0',
        id: Date.now(),
        method: 'getTokenAccountsByOwner',
        params: [
            owner,
            {
                programId: CANDY_MACHINE_ID
            },
            {
                encoding: 'jsonParsed'
            }
        ]
    }
```
Can you share the code that you're using to make the RPC call? Might be helpful if we see the parameters ourselves.
Hello everyone! Please tell me if I am moving in the right direction and how to solve the problem that I need to solve.
I need, having a person's public key, to determine if he has an NFT of a certain Candy Machine. I thought RPC call `getTokenAccountsByOwner` would help me with this (https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner)
But when I try to execute the request I get the error `Invalid param: unrecognized Token program id`. For the `programId` parameter, I took `candyMachineId` - but apparently something else is needed - can someone tell me what?
https://discord.com/channels/428295358100013066/517163444747894795/940258106078814218
That means you're not signing something correctly
So what i need to do?
You can't "inject" logic into transfer today. You can wrap the metaplex program or spl-token and add logic though
You didn't read my reply
NFTs are spl-tokens and can be traded/transfered the exact same way
But I see others use the same "coingeckoId" and everything is fine.
Sorry that wasn’t really my question 

I’m asking can you be both an NFT and a tradable token
If you're making NFTs, it is better to use the metaplex standard
token-list is not supported here
Hi, I try to update coingeckoid to Solana/token-list and I got this error. What should i do?
Specifically speaking 
On phantom wallet there’s a token section and an NFT section based on the metadata
Noob  question 🙋‍♂️ 
There should be a channel just for noobs 

I found a good tutorial on how to add metadata to spl-token to make it an 
NFTs using ipfs and metaplex 


And I also found how to add a logo and $tkn-name to treat it like a regular token on a marketplace 

Do you have to pick 1 or can both exist as a tradable token and NFT
You cannot resend the transaction from the backend if the blockhash has expired. Please read for more information on how to go about retrying and what happens to a "lost" transaction https://solanacookbook.com/guides/retrying-transactions.html
Instructions change based on the program. The idea is that you need to know the source of each program to more understand what is going on. However, you can get transfers/trades by just monitoring the balance changes on each account
hello everyone, i am trying to build a tool that takes transaction data, and returns the type of transaction (for NFTs) i am talking her about, trades, transfers, listing, delisting, etc...
is there anyone who faced this problem before?
i was thinking about instructions as good path to follow, but  i didn't fin any documentation about all types of instruction
please need this guys
So I have a react app that is sending a transaction of a token. Done on the front end. However I don't want to hold the front end up for a long time if the network is doing poorly. 
1. I want to be able to confirm on my node backend that the transaction was successful. That's easy enough, I just send the transaction sig to the backend and confirm it. However if the transaction times out, what is the best way to resend the transaction? I can't resend from the backend, advice?
Hi there, how do I start learning how to build a custom NFT program. All the tutorials I found are using Metaplex or at least SPL, but I don't see a way to inject my logic into say transfer method. (I would like to limit what transfers are possible for given token)
why I'm getting `signer privilege escalated` for a PDA while I'm invoking signed and passing the seeds?
lets say
1) A token account's delegate authority has been set
2) Now the Account has been been freezed

Can the delegate authority be changed after freezing or no?
So basically what I’m asking is after I call createApproveInstructon() with required amount and my program as a delegate that means that the program can simply call Transfer as if it was the owner?
yes, we have go through this document. using document example I am able to create pool and swap. Now i am integrating it on React app on frontend. Here i can getting the error "Program returned error: invalid account data for instruction". I want to understand or like to read to know what wrong I am sending. If we have any document kindly suggest.  On extension before i approve, i am getting message that transaction may get fail, i want to understand that checks which tell extension that transaction may get fail.
if I delegate a NFT to somebody will the NFT appear inside that delegated person's wallet
Are you going by this: https://spl.solana.com/token-swap
Hi, I’m not quite sure how to use Approve instruction with Anchor. What I want is to approve some tokens from client and then transfer them to the account that is owned by a Program.
I am transfer liquidity to pool, after creating pool account on testnet. 
swap program ID: 35J9s72PQRsHKf7bnsBfQnHYxkchLAaQmN9Bc1x7vS7w. 
Token Program Id: TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA on testnet. 
First transaction for create account is success: 2A71LAdwPa6a293phxRQ4BkCDXX56o2FuaSq8mSC3gnM46m8KaFePSKs2MJXxYN2KMd9Cri34ZTND4JJsGFwB4Ag.    
Second transaction to add liquidity get fail: 3Juy8AM5MD2iFGxVeBFdipHgqnFbDrxSYpJe8BA5Nuf6pJhMNXoUkaTa3StFr8LsebzyCY1ybUMHjqZ8SFT7JeVm
What program are you calling? What does it say the accounts that should be passed in?
Hello Team, I am facing below error. kindly tell me where i can read detail for sendTransaction and what exectly we need to send in instruction data. "Program returned error: invalid account data for instruction" in solscan explorer.... Any support / guidance or point where i can check details.
that command is not in your $PATH  , look into adding that directory to the $PATH

https://www.shellhacks.com/windows-cmd-path-variable-add-to-path-echo-path/
ok , so no replies , i take it this doesnt exist on solana yet
What is a erc20 vault?

I was recently given a task to `"Make a simple ERC20 vault in rust for Terra or Solana based chains." `
I am very new to this, I don't have any idea on what a `ERC20 vault` is. Can anyone share any resources on how to move forward with this? 
Thanks in advance!
Step 2, I'm using the ATA approach, btw
Hey, I followed the examples published here https://yihau.github.io/solana-web3-demo/

1) Create mint (token)
- https://yihau.github.io/solana-web3-demo/tour/create-mint.html

2) Create an account (token)
- https://yihau.github.io/solana-web3-demo/tour/create-token-account.html

3) Mint to (token)
- https://yihau.github.io/solana-web3-demo/tour/mint-to.html

But the last one (step 3) throws an error: `Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction`

The receiver also has a token account, mint's authority is the same account as used in step 1. What could be causing the issue?
I want to get an owner of a single token mint
mint is today still no spl tokens please jjoanh ❤️
please help a friend <@!127864443966062592>
What am I doing wrong?
The metaboss cli has some great tools to get owner addresses and other information from a CM
Hi guys, using the `JSON RPC API` 
What would be easiest way to get owner Address by querying mint Token?
<@!264404649518301185>
because since you're using a list it now overrides the candy machine
alright so if you download the most recent build, run the command like usual but just type none into the candymachineid part
♥️
will create one once airdrop submitted
okay one sec i'll fix that
not yet
oh wait right you don't have a candymachine yet do you
cargo installed metaboss
like if candymachineid is not there
so cd to the airdrop2holders directory
so what's the command I should launch ?
but at the moment it sends the same amount to everyone, which is why I asked
lets see 🤝 👀
so you can set it to anything you like
you specify the amount in the script
<@!127864443966062592>
And regarding the amount , it drops 1 auto ?
so it doesnt need all the handle and amount etc
the list should just be ["wallet1", "wallet2", "wallet3"] etc
If it looks like that , is the structure good >
Alright, if you use my tool now you can add the -l option with a json of all the wallets as strings
Hello, seems it is from last year but I was looking for the same question. 
By writing an account do you mean account data that user want to store or modify? 
Can an account receive lamports or tokens only once in an entry?
👀
okay easy
Yes its 1 per wallet
are you sending the same amount of tokens to each person?
and no spl tokens have been sent
we mint today
this will be so kind
Hold on I'll quickly edit my code so you can get that working too
Maybe you know how to help ?
Ahh okay I get you
The problem is that there are no holders , Its dropping an SPL token to make them white listed
Can someone briefly explain how staking rewards work for SPL tokens? From reading Serum's documentation, it sounds like an off-chain committee must trigger a transaction. Rewards are sent to a `RewardVendor` account, then accounts are pushed to a `RewardVendorQueue` account to distribute staking rewards, but this requires a new transaction for every single account that has staked your SPL tokens. Is this correct?
Just released this tool to do exactly that haha
https://github.com/jjonahlowercase/airdrop2holders
is there a link?
You can dm or you might want to try <@127864443966062592> 's tool.
i get this error when running slightly long tests using `anchor test`: 
```
Error: Unable to obtain a new blockhash after 10149ms
```
anyone dealt with this before?
How can I use it ? can you dm?
Hey guys, I recently developed a tool to help you automatically airdrop custom SPL tokens to all  **current** holders of NFTs in a CM collection. It's all open source so feel free to improve upon it, I hope it helps some of you! https://github.com/jjonahlowercase/airdrop2holders
Try something like https://github.com/h4rkl/Ghetto-SolAir
I got a full list of wallets
okay thanks men 🙂
please help !
Hello , im running a solana collection but cmv2 whitelist is driving me crazy for like 3 days , I'm trying to airdrop an spl-token to 888 wallets I have 
1 each  
found this website but it says wrong amount
I was using javascript but the principal is the same.
Oh thanks for your response , was it in rust ?
Last time I had this error, I was accidentally passing a program as a writable account.
Thank you so much dude <@814228493302497301>
Gotcha let me try again. I was following solana cookbook but I changed rpc endpoints it worked
When you do a `cargo build-bpf` the last lines are where it put the program keyfile and `*.so` file
`solana-test-validator  --bpf-program PATH_TO_KEYPAIR PATH_TO_SO_FILE`
Wym load?
And you load your program when you start `solana-test-validator` ?
Hi guys, im getting an error on a my mint_to transaction 

```Transaction simulation failed: Transaction loads a writable account that cannot be written```

does anyone have an idea?

Thanks in advance !
Hey!! can some one tell me that when i make a token from CLI and take the address to solana explorer it properly shows me that i have made a token, But when i use the token example code provided in solana github and deploy that token contract on solana Devnet and put the address after deploying on solana explorer it shows me that it is a account i know that everything in solana is account but why is this going in this way.
Hey guys, is there any way to query a node for information on non current blocks? Specifically I want to access the get_account_info function on python at older blocks (I know you need an archive node for that but I don't know how to query for older blocks)
can someone help me with this issue https://stackoverflow.com/questions/71014833/could-not-create-program-address-with-signer-seeds-when-creating-a-token-account it's about creating token account for a PDA using spl associated token program.
but now it is just 
```py
tx["result"]["transaction"]["message"]['accountKeys']
```
because I used to use
```python
tx["result"]["transaction"]["message"]['accountKeys'][0]["pubkey"]
```
did the json change from get_confirmed_transaction?
all g
Oop sorry I was replying to myself
The raw data from rpc only returns 2 accounts. I thought it should be 3.
```
"instructions": [{
  "accounts": [
  "2YnL16L174Tj8awY9FfRfR5odpGNEbLnx3dM6CRt9L81",
  "na6p7HsTrGQcQKM3LHRkneAkDYiDjbfqddRiE5Q4Qwq"
  ],
  "data": "4HSo5dRyJoPYKSTR",
  "programId": "Vote111111111111111111111111111111111111111"
}]
```
It can be checked by
```
curl --location --request POST 'https://api.mainnet-beta.solana.com/' \
--header 'Content-Type: application/json' \
--data-raw '[
    {
    "jsonrpc":"2.0",
    "id":1,
    "method":"getTransaction",
    "params": ["428oQ2g6uYmNyqdtQUaDf4qqWnuqAh7jowgrwsRbapcdjNPMdZr5gDVXboNocyDbBF4D8Kxj97UuMZcLqa8iL1uN", "jsonParsed"]
}
]'
```
I am mainly referring to DNS
Might have to use sysgo or whatever that is
I tried doing a cname but it's not able to resolve the host. Anyone have any idea.s
I am trying to make my own RPC endpoint on a VPS of mine. I am successful however I want to mask from datahub so instead of like solana--mainnet.datahub.figment.io I want it do say something like solana--mainnet.nodestop.xyz
Hey Guys
And I am doing connection.getprogramaccounts() and getting a blank array instantly no matter the input
Hi all so I have a local solana test validator running
ok i found the solution, So it was this that we have to go to the .cargo folder by 
`cd ~/.cargo
`
then `vim config `

and then we have to paste the following into the file 
`
#Put it in the file '$home /. Cargo / config'
[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"

#Replace it with your preferred mirror source
replace-with = 'sjtu'
#replace-with = 'ustc'

#Tsinghua University
[source.tuna]
registry = "https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git"

#University of science and technology of China
[source.ustc]
registry = "git://mirrors.ustc.edu.cn/crates.io-index"

#Shanghai Jiaotong University
[source.sjtu]
registry = "https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index"

#Rustcc community
[source.rustcc]
registry = "git://crates.rustcc.cn/crates.io-index" 
`
upgrade crate?
can someone tell me that what is the error when i run this command in solana github examples of token program command i am entering is : cargo build-bpf
I see
2 accounts and a signer in the screenshot here

theres only two accounts and a signer in the docs. you sent
getProgramAccounts is disabled on public rpc nodes due to spam crashing them. You will likely need your own private rpc node.
Hi, have a question about Vote::Withdraw instruction.
https://github.com/solana-labs/solana/blob/master/programs/vote/src/vote_instruction.rs#L47
The withdraw instruction should have 3 accounts in this docs.

https://explorer.solana.com/tx/428oQ2g6uYmNyqdtQUaDf4qqWnuqAh7jowgrwsRbapcdjNPMdZr5gDVXboNocyDbBF4D8Kxj97UuMZcLqa8iL1uN
But actually, the returning only includes 2 accounts, is that because the signer and recipient are the same address?
Did some Google searching, could not find a fix
But I get an error message saying “the rpc call or Params have been disabled”
With the getprogramaccounts call
Hey I’m trying to test something on main net
nani
Nvm
there should be some owner of the collection, they can prove by signing?
cool thanks
ive never used
it would be on one of the accounts, you should ask the metaplex people if its a metaplex nft though
noob question, how would I check this? anchor doesnt have return values for CPIs
lol
get to 1 million and we can have this discussion
fair enough
1k is peanuts
you dont have to worry
there are 3k tx ps
I'm more concerned about spamming the network with 1k txs at once than the cost
compute unit limit
what is CU limit?
but it really depends on the NFT
i think if they are using the metaplex standard its in the metadata
you will run into CU limit. One txn -> 1 solana txn fee so you can save money or donate it to the validators. Your call
If I have to send 1 token to 1000 accounts every day, is it better to make 1000 separate transactions with 1 instruction, or 1 transaction with 1000 instructions?
let's say someone is trying to create an account, and they claim to be the creator of a certain NFT collection - I need to be able to check within the actual instruction that said someone is indeed the creator of the NFT collection. Would I essentially just check the creator metadata of the NFT collection (which would be passed in) via some CPI?
timestamp seems a lot easier to me
id rec doing everything in rosetta for another year or so. The perf hit is almost nothing. Rosetta is an amazing piece of sofwtare
your limited to one CPU worth of core that you share with other people so there are in effect limits, but they dont have the same issues that rpcpool has where rpcpool needs to be up 100% of the time
hi! what's the best way to rate limit a program to once a day? should i compare current slot against the slot of last run or should i go off of unix_timestamp? thanks!
Noob question 

If I have to make 100k transactions 
Should I 

A. write a solana program to do so
Or 
B. Use the solana-cli and a bash script to make all those transactions 

I’m thinking B
Hi,  i am new in solana, want to create transaction on smart contract, can you please explain a little how can i do it,  knowing the trx details from explorer ?
No problem.
hey thanks for that
Let me know if you have issues, but I have had no rate limits so far.
But it's on their discord, so 🤷‍♂️
Haha true.
"no limits" and free node is words that rarely go together 😅
Should be fine.
For genesysgo?
They say no limits.
probs only going to make 1000 queries
any documentation on I should do in terms of rate limits etc
No, don't use the public one.
but mostly just querying data
https://ssc-dao.genesysgo.net/ is free
not sure if I an just use mainnet beta
Ah, thanks for that.
can anyone suggest an RPC
Thanks. Good idea. Program has been working all this while. Will just log as you recommended. Same old debugging. Haha.
Turns out the cookbook is missing out a decent chunk of the process for getting this done. Gonna try and submit a PR to fix it this week
Try adding log messages with the version number.
Are you sure the program is working?
not sure what the problem could be.
Oh. thanks for that. 

The issue is i deployed my program multiple times, but seeing no changes when i interact with it.
Can you explain what the issue is?
But you can fetch the binary and compare it to the one you have locally.
You can't read the source code of a deployed program unfortunately.
i was trying to delegate on devnet, that ended up being my problem
oh damn it looks like it does
Doesn't the Solana Cookbook have an example?
Yes I did. I tried going through, and the only thing i found was this 
https://explorer.solana.com/tx/yz5KKgLrYbP9gexRHVfCZ84QkoGnydxYBSBsLMmwUS2ReAg61kMcEsS7vFHEyHxFNVLdihzqVUjfuvRr7CFUMFN?cluster=devnet

But I can't seem to find the source code. Is it at all possible to read the source code of a smart contract on the blockchain ? Please help me out if you know exactly how to find it . Thanks 🙏 .
and i cant figure out how to fix it. i'm using the `StakeProgram.delegate()` function
```Transaction simulation failed: Error processing Instruction 0: incorrect program id for instruction 
    Program Stake11111111111111111111111111111111111111 invoke [1]
    Program Stake11111111111111111111111111111111111111 failed: incorrect program id for instruction```
i keep getting this error when i try:
does anyone know how to delegate stake via javascript or typescript?
okay im so close to figuring this out
When running solana-test-validator
I'm getting "dyld[15876]: symbol not found in flat namespace '_BIO_free_all' ""
"MacOS Monterey M1 Chip: linking with cc failed: exit code: 1 #21441""
Can anybody offer some help in this thread? https://github.com/solana-labs/solana/issues/21441
ohhhhh do i just create a new keypair to pass in then sign with that one too?
how do i get the newAccountPubKey before i create the account?
im stuck right now on the createAccount part i think
You should be able to check on explorer.
Thanks for your help. Can you please point me to where I can check ? 😬 . I'll be very grateful
hey guys, anyone around that could help me figure out what im doing wrong trying to create stake accounts using the typescript library?
Looking for a developer that can help with NFT Staking. Will pay in SOL, please get in contact via DM
There shouldn't be a delay.
You can check the last upgrade slot.
hey fam. please a little help. The past two hours when i redeploy my program, I don't see the updates. Is there a way to check my program code on the blockchain? 

Also, is there maybe a delay after a deployment sometimes? 

Your help is very appreciated. Thank you 🙏
Slight caveat, I don't think you can redeploy a program to the same keypair after closing it.
It gets your rent back too
`solana program close --help`
Now that is a question I was pondering myself this morning. Perhaps one of the engineers will respond!
+1 on that question
but they dont pay rent
if they are not being used
okay well how do we purge programs then
Don't put too much into semantic parsing there
It sounds like a 1 time fee not a rent
I'm confused with the term rent 

Why use the word rent
If you need to be rent exempt to deploy....
I keep trying to mint crate tokens using the issue function through my program, but keep receiving an error about my signer not being authorized, anyone have experience with using Crate or the following error: 
> > Program returned error: Cross-program invocation with unauthorized signer or writable account
What is the heart of the question you want an answer to that will make you less confused?
I'm so confused
As <@!590982495923732511> said, not programs.
Accounts whose balance falls below this threshold are charged rent at a rate specified in genesis, in lamports per byte-year.
To deploy a program requires 2 years rent which will be based on their size. The program is then considered 'rent-exempt'
I'm getting confused by the docs
https://docs.solana.com/implemented-proposals/rent
okay so how are programs considered "none-exempt"
Thus after deploying a program you don't need to do anything.
Once you pay 2 years of rent it will never reduce.
oh boy
No.
Okay so by what you said I'm understanding that.... 
Initial upload u need 2 years of rent 
and it starts paying rent if balance falls below this balance 


So the program has to be profitable + used enough to maintain a balance that covers rent
Thank u
Let’s gooo😭😭😭
Should help
https://solanacookbook.com/references/keypairs-and-wallets.html
Yea
Using JS/TS?
Just googling each will work for now I guess
man I’m missing some of these conversions everywhere haha I wish there was just some page that would let me know
GOTCHA
A pubkey string is a base58 representation of the 32 bytes
It's a byte (8 bit) array, not a string
I’m assuming. It’s the encoding which does this
How can a public key be 32 bytes when a char is 4 bytes?
If you have less than two years of rent then the program won't be created.
If you want to upload a program to the solana blockchain then you have to pay 2 years of rent to make the program rent exempt.
Let me put it this way.
I'm confused 
U said they must be rent exempt
then u cant create a program that is not rent exempt
^ ?
No you can't create a program that is not rent exempt.
I would appreciate if you could detail your approach whenever you have time, just so there is no duplication of work.
Are you saying they should be rent exempt...have enough for 2 years 
or.....that I run the risk of losing everything if I dont pay rent
Ah ok no worries.
sorry I'm quite busy and can't chat for now
How do you plan to implement it?
Oh interesting, I was playing with that idea.
Programs must be rent exempt.
yes that's accurate
<@!97462263392243712> is this an accurate statement by me ?
I'm novice so not sure but I think that's how it works
https://discord.gg/hkj5RGdz
where at?
=.=
you can join the foresight discord dev discussion and bother us though
😢 okay
probably not sorry
can we work on this together maybe ?
She would always keep the head
in your thing, Alice should be able to send just the head and keep the others
I see. I think I'm trying to build a different thing. In my thing, one NFT "owns" a bunch of others, so if you send someone that one, they transitively gain ownership of all the others (and you lose it)
and Alice would alway own the HEAD
a program would own the NFTs
in theory
well
correct
so Alice owns all the NFTs in the chain, but she cannot transfer any but the head one?
I would like to prevent people from selling NFTs until the head link NFTs are sold 
these head links act like guardians 

I have a specific use case for it
lol
So this means that programs can own NFTs 
kinda like a wallet/address can own an NFT

what happens if rent is up and the program is purged
I don't really understand what the picture is talking about
<@!97462263392243712> is building this
So how can the coin get stuck because of Solana if it's just a backend deciding if it's won or not?
Not aware of any existing ones.
Hmm not sure how useful it is but you can write a program to do that.
They have both a smart contract and an off chain backend.
Hmm do you have the full transaction or just the signature?

Hi....is there a program out there that does something like this
To transfer from one wallet to another, use the system transfer...., this requires that the from account is a System owned account.... like a wallet
I really don’t understand 😭 They use Solana 100% for know if the flip is good or failed
Thanks. But then... when you buy something or say mint a NFT, how can the program transfer the lamports (pay) from the user wallet to program / app owner?
So:
A transfer like that requires that the `source` be a Program Owned account
any ideas why? thanks
but for some reason i keep getting a -32003 Transaction creation failed
The data from the source comes from the user wallet whereas i'm reading the data from the program owner from the json... this have all been based on examples available on github
Hi. I'm trying to run a simple program that basically transfers lamports from one account (source) to the program owner (destination)
Thanks but that only works for not-yet broadcasted transactions while I want that info for an already broadcasted one without waiting for max_confirmations
But in their case, when you bid and run the program, the program can be true, false, or "Solana wait"
No, a normal backend like a server.
But the backend is a Rust program ?
They use a backend.
See simulateTransaction
I don't understand how DCF do it so..
Not on an on chain program.
How would you check the token account balance change a processed transaction has caused before waiting max_confirmations?
Its not possible to set an array with 2 string values and select one of them randomly on rust ?
So you have to use a trusted backend for that part at least.
How would you check instantly if a IOC order was filled or not (programmatically)? Transaction seems to be in state Successful in both cases
One of the first things to understand is you can't have true on chain randomness, at least not yet.
Someone ??
(you can change my-wallet into any file .json of your choice)
in the console
and then type in the seed
solana-keygen recover -o my-wallet.json
Hi, how can I convert my private key (string) yo an array.
yep doesnt work
house have you tried house.publicKey
but after i confirm it doesnt send
i get popup for 0.02 sol as it should be

what's your code look like
i get this
hmm i get the transaction popup but when i approve it it doesnt send the sol
yes it should be an array so [provider.wallet.publicKey]
?
can i put provider.wallet.publicKey instead of signers
thanks!! lemme try
try await provider.send(transaction, signers)
Hey you have crated a transaction and inside of it a system instruction but you haven't send it to solana yet
hey guys do you know why this transaction code doesnt work?

Hi all ! I have a maybe stupid question but I wanted some advice.

If ever I can do the same code in JS or in Rust via a Smart Contract. Which one should I turn to?

Basically, the user can choose between 2 proposals and the result is random. This result can be done via a simple Math.random. But isn't it better that a Smart Contract decides?

Sorry I'm fuzzy for logical reasons.. I'll try to make a simpler example:

Take the example of DCFs. The user chooses between heads or tails. After his selection, he pays a given bet. If the transaction is ok, the coin is launched and there a random decides if it is heads or tails. This choice of heads or tails can be done simply in JavaScript. But since the user uses cryptocurrency, isn't it better that this random choice be made by a smart contract and be registered on the blockchain?

One, JS can be easily "hacked" if it's poorly secured. At least it is the smart contract that decides the fate of the part and it is permanently registered in the chain.

Which solution will you go for?
I hope I was clear 😭😭 

And I take this opportunity to ask another question, is the cost to call a Smart Contract always the same? The idea being that it is the user who pays the Smart Contract call costs and not us. Otherwise the project will close quickly 🥲 
And if not, is it possible to know how much the Smart Contract call will cost before each  call to add the fee to the user? Oh and last question promised (😭) rust has no connection with the blockchain in itself, do we agree? Is it a program that I can call with Web3 and it is via Web3 that the program is executed in the blockchain to which we are connected? So technically.. We can make a Rust contract that will work in any blockchain? Thank you for taking the time to read me !
no sorry it's just a random question
These is for me?
Not sure if there will ever be a valid use case for this. However, would it be possible in the case that we would want to create PDA account and use PDA signed transaction as an auth even though the account already belongs to the program. Just in case we wanted to create a hierarchical data structure.


///////////////////////////////////////////////////////////////////////////////////////////////

i know, but is it connected with ip which made requests?
or get your own rpc
It means you should do less requests
is too many requests error connected with requests from one ip?
Will give it a try there, someAccount is just the name of the account where I am getting the public key in the setPubkey instruction in order to set some_pubkey, which then leads to the pesky overflow
Also, not sure on the macros. You may want to also check in the anchor discord https://discord.gg/RDHwm3U7
Where is `someAccount` coming from? Seems to not be in the struct
Yes
Hope that helps make my problem a bit clearer
Got it 🙂 as far as I can understand then I can simply find my ATA by the mint?
Recommend reading through the docs https://spl.solana.com/associated-token-account and https://spl.solana.com/token
CPI here as well https://github.com/solana-labs/solana-program-library/blob/master/associated-token-account/program/src/instruction.rs#L24
So how my newly created and initialized plain token account can become associated?
Could you link a gist or use code tags to make your post readable?
Hello everyone, I have run into a unique problem. I am working with an account that holds an array of structs in the following form.

```#[account(zero_copy)]
pub struct Account {
    pub structs: [Struct; 255], 
}

#[zero_copy]
#[derive(Default)]
pub struct Struct {
    pub some_pubkey: Pubkey, 
    pub some_other_pubkey: Pubkey,
}```


When I run the following instruction on my client to set some_pubkey at index 0…

```await program.rpc.setPubkey({
      accounts: {
        someAccount: Account.publicKey,
      },
});```

I then fetch and print out both Account.structs[0].some_pubkey and Account.structs[0].some_other_pubkey and get the following…

some_pubkey
PublicKey {
  _bn: <BN: 54588872aa701a7c5c673831a1db1629879c6f8742256339ba5a>
}
some_other_pubkey
PublicKey {
  _bn: <BN: 90cad83349090000000000000000000000000000000000000000000000000000>
}

The initial Account.publicKey was…
 
PublicKey {
  _bn: <BN: 54588872aa701a7c5c673831a1db1629879c6f8742256339ba5a90cad8334909>
}

Any idea why this overflow is occurring? Any guidance would be greatly appreciated
You can use the PDA to create it using the normal means. You can CPI the initialize account if it does not exist https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L63
hi, how can I create associated token account from a PDA inside program?
Trent they type of guy to show up to university classes with a ThinkPad running Ubuntu
Bill Gates passing on generational trauma
It is known that Windows is the bastard child here, yes
this is a general known since forever windows related issue, it has to do with console/terminal and paths and naming in windows related programming and scripting in general and for those new to it is often an issue. Not related to Solana.
Thanks for your help! It was due to the space in username messing up the install for SPL. Created a new user without space with success. Is this a known issue?
hmm, I'll try. thank you! i thought tho that signMessage doesn't work for transactions
Wouldn't you have signMessage called and then use that to add the signature?
i wonder how they implemented the client code for partial sign
i mean in the application code, like the apps that connect to phantom/solfare
You can sign messages today with phantom/solflare
do you know by any chance  projects (preferably open source) that implement partial sign in browser? i'd glimpse at their code
You can also ask the maintainer on the repo. He's pretty responsive to usage of the python sdk
Not sure on the python sdk, but you can partial sign and set the feepayer manually when you create the transaction
thanks
Ok
I believe it is. Just put an issue and they'll likely resolve it
hey! i'm trying to implement signing a transaction in the browser, then sending it to the backend to be submitted to network with paid transaction fee. it's like octane, but i'm implementing it on python.  

here is my code on the client: 
`const transaction = // program.transaction.XXX from Anchor
transaction.feePayer = new PublicKey('[fee payer wallet');
transaction.recentBlockhash = (
    await provider.connection.getRecentBlockhash()
).blockhash
 await wallet.signTransaction(transaction) // i use phantom 
const rawTransaction = transaction.serialize({requireAllSignatures: false}); 
// send raw transaction to server  `

and on the backend: 
`transaction = Transaction.deserialize(bytes([...])) 
transaction.add_signer(_fee_payer_keypair())`

  however, if i try to do .serialize() either before or after add_signer in python code, it fails. i debugged the code and it seems 2nd signature (not fee payer, but the one requested in browser) is for some reason is invalid. the error is: `transaction has not been signed correctly  `

here is what i've instructed by one solana developer: 
>It should be possible to set the `feePayer` of the tx first, add a `null` signature for the user's pubkey after that, and then have them (partially) sign it
but i'm not sure what it means given the code now or how to further debug this issue.
When i try to initialize a Wallet object it always asks me for a mnemonic, but surely it should be possible to create a Wallet object with only the private key
I would submit an issue on the repo. The maintainers are pretty responsive
I'm getting confused by its documentation
Or has used it before
Hi, does anyone use solnet for c# here
gitpod has tpu problems right now. There's an issue about it breaking a ton of integrations
ok i did it locally, gitpod was the probelm
And setting the url to localhost?
Are you running solana-test-validator?
I'm testing it locally
got it thanks!
Devnet has max 2 SOL per airdrop request
~~I was not able to find anything as such
They just setting up price in sol~~
gitpod has some issues with tpu right now iirc
Yes, check the docs.
Are you sure GitPod is not blocking ports?
you said this node would perform better. I'm still stuck
Is there a way to use metaplex candy machine to mint NFTs using your custom SPL token?
```Requesting airdrop of 5 SOL

Signature: 41gUx7dZ1aykZDinG86e9643AU1Ls7ZkGiyM8yNQEqn9cVaXfAZAYCUAsoXmda8rBX9bqh5T3nJR4aHj2xgiSMrD

Balance unchanged
Run `solana confirm -v 41gUx7dZ1aykZDinG86e9643AU1Ls7ZkGiyM8yNQEqn9cVaXfAZAYCUAsoXmda8rBX9bqh5T3nJR4aHj2xgiSMrD` for more info``` but when i try to airdrop 5 it fails, why?
ok it worked
```Requesting airdrop of 1 SOL

Signature: 5jgr7gRV8Uta3h1JHPQ5g3ygCRB6nu9fM6waoaT2deqF9p3FA3Jt3Wf3JG76VLppTuCZENLpm8siLhpnaWw3qkNL

25.15123584 SOL```
Try `solana airdrop 1 -u d`
Hmm.
```Config File: /home/gitpod/.config/solana/cli/config.yml
RPC URL: https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/ 
WebSocket URL: wss://psytrbhymqlkfrhudd.dev.genesysgo.net:8900/ (computed)
Keypair Path: keypair.json 
Commitment: confirmed ```
What is the output of solana config get
same issue
`solana airdrop 1` may be.
what's the command for that
Try try grabbing 1 SOL.
```Requesting airdrop of 5 SOL
Error: airdrop request failed. This can happen when the rate limit is reached.``` how tf did i reach the rate limit when i never received my tokens in the first place?!
I assume Bonfida's version is one possible way to do that.
Hello about the Solana Name Service program. 
Is it possible to create a TLD like `.spl` & issue my own sub domains under it.
9
`spl-token create-token`

How many decimals it takes as default
`solana config set -u https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/`
Because that is the RPC.
your link takes me no where
yet the solana blockchain still got hacked 🤣
https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/
The public rpcs are rate limited to prevent abuse.
ok what's a good developer rpc
seriously? I thought solana was supposed to be fast lol
Ah the public rpcs don't have the best performance.
devnet
Which RPC are you using?
```Blockhash expired. 5 retries remaining
Blockhash expired. 4 retries remaining
Blockhash expired. 3 retries remaining
Blockhash expired. 2 retries remaining
Blockhash expired. 1 retries remaining
=======================================================================
Recover the intermediate account's ephemeral keypair file with
`solana-keygen recover` and the following 12-word seed phrase:
=======================================================================
timber life width aware town also army ramp battle right section praise
=======================================================================
To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
=======================================================================
Error: Data writes to account failed: Custom error: Max retries exceeded```
why is it taking so long for to deploy a simple hello world contract?
Broad question - is anyone building, or aware of, social graph tooling on Solana? I've been looking at ethereum based Lens Protocol (https://lens.dev) and wondering if anyone is creating this on Solana. We need some of this capability for our project and would rather not build it ourself if someone else is already doing it.
hi, is there any example how to invoke swap on serum via nodejs please? (hope this is the right channel to ask). Thanks
Is it possible to create flash loans on Solana or is the infrastructure not allowing such logic?
Hey guys , is anyone working on Auction house -Metaplex?
I have set -ccsp flag to true while creating the auction house.
if  ccsp is true,  user initially places item for sale for 0, then AH can make new sell prices without consent(off chain price matching). But how does the AH change the price ? Can anyone help me with the cli commands?
hey does anyone here know where I would ask a question about a current grant?
Try reinstalling rust and the cli.
hello guys, when i execute this command: "cargo build-bpf --manifest-path=contracts/solana/program/Cargo.toml --bpf-out-dir=dist/solana/program" I got this error: "BPF SDK: \\?\C:\Users\fBpv\.local\share\solana\install\releases\1.9.5\solana-release\bin\sdk\bpf
Can't get home directory path: environment variable not found". Do you have some ideas ? (i`m new with solana )
just convert the hex to dec to find the error code( ignore the 0x)
this can be used for serum error codes: https://github.com/project-serum/serum-dex/blob/master/dex/src/error.rs
oh ok
I'm using Jupiter SDK to send swap txes
Sorry, I probably pasted the wrong error message. Most are slippage related, I'm sure.
are these custom transactions or txns made on frontend?
either that ir the wrong address is supplied to one of your instructions
this seems like an insufficient funds error
Hey! I've been doing swaps and getting a lot (80-90%) of failed txs on diff DEXes (mostly Serum and Raydium). The errors are all slippage related, e.g.

`Invoking Serum DEX V3
...
Program returned error: custom program error: 0x22`

I'm using 0.5% slippage and from what I've seen/read, that should be enough to succeed at most txs and definitely not have 80-90% fails. 
I've tried using 1% with no improvement. I think the true issue is something else.

What are some other common reasons that could cause this? Could this be caused by me using  `confirmed` commitment level?
Are there some tricks to improve the chance of my swap tx going through and succeeding? Sending multiple txs? Hitting multiple RPCs simultaneously? Using paid RPCs?
No problem.
you too <@!814228493302497301>
thank you so much for your help!
that would certainly leave a lot more room for development
yes i have seen, transactions v2
There is a proposal to extend that but it hasn't been implemented yet.
The current limit is ~30 unique public keys per tx.
Yeah then thats an issue.
some are common between both but only a couple
not exactly, no. i will check now. I believe each place order instruction has 8 and each settle funds instruction has about 4-6
Do you know how many unique public keys are there in the transaction?
the individual steps work fine, even two orders with settleFunds for each works, but if i add any more the txn is too large
as an example with serum only
a place order instruction, then a settleFunds instruction , then a placeOrder instruction using funds from the first order, then a settleFunds for the second order, followed by another order with ankther settleFunds instruction
A custom program might be able to help.
Hmm which instructions are you adding to the tx?
Due to the current implementation of NFTs, traits are stored on Arweave, so are inaccessible to on chain programs unless you are willing to do a lot of custom programming.
before the transaction even hits the chain solana web3js gives me a “transaction too large” error which is why i was wondering if a custom program could help avoid this
i am not sure, probably the public keys knowing they are each 32 bytes
Morning guys, I'm looking at implementing a breeding/upgrade platform for my collection is there any resource out there that people could share?
Are you running out of space for instruction data or public keys?
2-3 dexes
the dex route is fixed but the pairs and sizes are not
And is the order fixed?
How many?
But it doesn't matter since the transaction won't be accepted the node is up to date.
There is no limit to how far behind a node can be.
trying to route a trade through many dexes
Can you explain what you are trying to do?
ok, so is there any information/stats/site as to the synchronization state of the network as a whole ? ie how far behind a particular node may be ? Maybe this is best known by validators/rpc operators. edit, found this ==> https://www.validators.app/?locale=en&network=mainnet
any suggestions? i can do two serum trades with fund settling without exceeding the limit but any more and it exceeds 1232 bytes
I'm sure you can design them to work around the size limitations.
Hmm?
true but my transactions require full atomicity
Preflight checks can be performed by any validator.
I have only a rough idea how the whole cluster work together and something that is not clear to me is how are block production rewarded. Naively i would say producing a block is rewarded the same as a regular vote, just because otherwise more stake would mean more rewards in a non linear fashion.

But what are rewards or penalties linked to block production or where should i read about it?
does the rpc perform the sim, or the leader validator please ?
yes, I set preflightCommitment:processed, and then processed for my txn. Regarding RPC - I make a connection to an RPC. Its unlikely that its the actual leader at the point I send transactions, it may not even be a voting validator in the leader schedule. So its more likely it forwards it imo
No problem.
Thank you for ur time tho
Coz it work smoothly out of nowhere.
Each validator may choose to expose an RPC interface.
Also rpcs don't exist independently.
Like def network  thingy
Coz it was working completely fine.
The preflight bank is the bank with the preflight commitment.
Possible.
I thought it was due to congested network
There are two different commitments specified for the preflight and the actual tx.
Sollet and other works fine
Im only support phantom atm
Try Sollet.
thank you sir. Would you be able to find out on the coherency/sync of the banks pls ? and when you say it executes on the first validator that receives the txn - I send it to an RPC. Is it that RPC that performs the simulation, or the leader when its forwarded to it ?
Seems to be a phantom thing.
But sometimes, I don't get that error
Error disappears
And the 2 or 3 sec
Transaction  may fail to confirm
What error?
And automatically refresh it and shows the amount that should be deducted from my account
It gives me that error
Suddenly
Yes it was working fine
Are you still having issues?
And the passing to my tx
Im using the  getrecentblockhash
Hmm I would say no.
The system architecture is too different to allow more than very limited interoperability.
Then you might be using an expired blockhash.
try re-installing windows, with linux - heh, its what I did when I started. Spent a while trying all sorts of hard drive consuming ways. Linux just worked.
My apologies.
https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction
The preflight checks do include a simulation.
I seem to be mistake.
Is it possible to let solana implement the ethereum web3 interfaces to be compatible to metamask and other ethereum dapps?
And shows me the sol value?
searched up the net, was confused what exactly to do
Well it fixes itself?
Did you follow the advice in the error message?
hey im new to solana dev and trying to set up.
when starting the local network using solana-test-validator on my windows i get this error
erm... really ? that doesnt seem to be what I'm seeing. If I set skipPreflight to true it sends and tries to run the tx. If I set to false I get Transaction simulation failed - and it has checked the data. Its not just signature and blockhash
Ah then skipPreflight will only skip the signature and blockhash verification.
directly
im not actually calling simulate
ok, apologies I've been confusing then. I'm trying to understand simulations - which are configured using skipPreflight
It is a different RPC call.
simulateTransaction is different from the preflight checks.
ok... that sounds odd though - because if you simulate a transaction you do get correct results (ie if you have wrong data etc) - and in rpc.rs there is this code: preflight_bank.simulate_transaction(&transaction) - which I assume means it runs against the preflight bank ?
The logs are returned as part of the response.
Preflight is run on the first validator that recieves your tx.
Preflight doesn't run the tx, so there is no state.
From what I understand, the preflight checks only verify the blockhash and the signatures.
also, want to turn off the simulation logging - is this possible ? not entirely sure yet how the error message from the rpc.rs is propagated back to web3.js
any docs/info on this much appreciated - digging through code is slow and can end in wrong conclusion
Hi, what is the preflight bank please ? more specifically, within a single validator is the preflight bank (and comitment) in sync with the non-preflight bank(s) ? also where is the preflight check actually run please ? is it on an RPC or is it on the actual validator being targetted please ?
That means there is an error with the transaction.
Feel free to post here.
I am not aware of one.
You can always break things into multiple transactions.
is there a showcase channel, to show what we are working on ?
mine are big fat ones haha
Of course they are, just not big fat ones
so essentially complex transactions are not possible at this point in time
ok thank you
Hi, so when I'm getting transaction approval on wallet, it shows me transaction may fail to confirm and then  the info only shows few secs later. I changed the commitment to confirm but still get the same error?
Of course it does, but you only have so much to play with as the Tx size includes the instructions, accounts and instruction data.
ok, but doesn’t reading the accounts from the program still included in the txn? (still increases the byte size)?
Well, you'll need to block/group instructions in the txn by type, target, whatever... or, if feasible, stage the instruction execution in chunks to an account and then trigger the true instruction to read the account info and fire from within the program. Something of that ilk.
multiple trades in one transaction hits the limit very quickly
trading tokens on both serum and through jupiter aggregator
What is your use case?
does anyone know of any ways to make the most of the 1232 byte txn size limit?
Not for your program. Rent exempt is required
rather than paying upfront
Is there a way to pay rent every epoch
Google it <@!872000929719791646>
what do you mean by stackframe?
You need to understand that your program must be rent exempt which is charged up front but you won't have to pay anymore for the program. At 2.7 SOL your program must be quite large
And I though eth gas was expensive !
The program deployment fees is outrageous. A simple program costs 2.7 SOL to deploy on devnet
1. Goog stackframe
2. Reduce the local variables in the function
is there any in-depth explanation of stack on solana? except for the one in docs!
and any hints on as to how can i reduce that?
No, it means you've exceeded the stack frame limit (4 KB) by 8 bytes
`Access violation in unknown section at address 0x0 of size 8 by instruction #21477`

does this mean my compute units are burning out while completing the instruction?
hello everyone
I am building a python function that can identify the type of a transaction whether it is a Trade, listing, transfer, etc...
but i am facing some problems with trades.
i am currently using solana rpc API, i get signatures (tx) of all transactions that happend to a given NFT, i don't get trades signatures 
is there anyone who faced this problem before ??
Is there a convention on how to filter out vote transactions? For example is it safe to assume if account_keys contains the voting program it is a voting transaction, are there any edge cases to look out for?
I'm using `wallet.sendTransaction(transaction, connection, { preflightCommitment: 'finalized' })` but returned transaction is not commited to the network
why?
If you used `borsh` in your program to serialize the data than you need to setup a Borsh schema in the TS/JS to deserialize into whatever you've defined
https://solanacookbook.com/guides/serialization.html
Thank you. Let me try.
If it's your program and that program manages writing data to account then you know how to deserialize. First thing you need to do is convert the base64 `data` to a buffer. 
```typescript
Buffer.from(data[0], "base64")
```
Then it is an array similar to the `&[u8]` as the account data.
I want to know how to decode these result. Thank you.
{
  lamports: 1907040,
  data: [
'0yGIELpu8n8QhAWjWlPaQZlZ29XrSGILqqXj049W7TvQSGlwOW07ZLf9Zy03nEBNUA3+N3DUwtpI8FJCQRCxMBPw4cJS9bw5/3R2RWAAAAAA+VHhJgAAAAAB11eNDgAAAACGq+MFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=',
    'base64'
  ],
  owner: 'HXKFTiCDU6HxXTwH95x96q9Sh5Ltcof79cZZXWr9BJHZ',
  executable: false,
  rentEpoch: 261
}

My smart contract on Solana chain
What program? Yours? Metaplex? ....?
Hi guys, I have a problem when i use json RPC to listen event from program throught by rpc-websockets package
I use method programSubscribe from https://docs.solana.com/developing/clients/jsonrpc-api#programsubscribe then i received a result.
I want to know how to decode the result. Thank you.
Hi! I'm trying to build a mobile wallet for my spl token. I'm using React Native and solana/spl-token library. I need to generate keypair from mnemonic, this is why I also use libraries bip39, bip32 and tiny-secp256k1. tiny-secp256k1 uses web assembly, which is not supported by react native, I found a polyfill, but it is lacking 70% of functionality, and thus doesn't help me. Please give an advice. I don't want to generate keys on back-end. Is there a working repository of mobile wallet that generates keys? I'm willing to switch to any programming language if I have to, I'm using react native because you have a js library
<@!785084693023424542> 🙂
<@!130415586080587777> PR merged, on with the show:  https://github.com/solana-labs/solana/issues/23005
Thank you very much
https://discord.gg/fnquWFmj
I didn't know he had a discord. Is it possible to have the link?
its the recommended use.  whats your issue?  generally its best to use anchor discord.
Hello everyone, has anyone ever initialized a TokenAccount with the anchor proc-macro?
```#[account(
    init,
    payer = payer,
    token::mint = mint,
    token::authority = payer,
)]
pub token: Account<'info, TokenAccount>,```
Do you have any signer issue ?
Any developer interested in the payments track willing to jump on a call to see if an idea i got in mind is possible to implement? If positive will also allow the developer to help me building It
Got it, sleep well
a github issue perhaps?  but I’m about to 🛏️ so not now 🙂
<@!445425471027544095> 👍 On https://github.com/solana-labs/solana/pull/22860... where is the best place to discuss options for `solana-test-validator` incorp of capability with you and <@!585868308419444749> ? Issue? Some other channel?
Okayy 👍
readme is stale, you’ll be able to call zk-token as a CPI.  But programs themselves can’t hold a ElGamal private key, so there’ll always be an off-chain end user involved in all confidential token transfers (assuming you want the transfer to remain confidential)
The readme says confidential transfers are not supported by Cpis
probably?  I’ve never tried.  that program is still under development though
Hey <@445425471027544095> can we call Spl-zk token program from an anchor program?
Can an account receive lamports multiple times in a slot time? Is it considered as writing?
for wallets from the browser client, you use the wallet functions to sign and send transactions.
some simple examples are located here.  note the wallet adapter tab, and full source code buttons </>
https://solanacookbook.com/references/basic-transactions.html#sending-spl-tokens
Hi there! I have a question regarding `sendAndConfirmTransaction` function from `@solana/web3.js` and wallet integration by this doc https://docs.solana.com/developing/clients/javascript-reference#stakeprogram. To confirm stake transaction I need pass keypair of account, from which I want to send tokens to the stake, but we don't have secret key from phantom wallet adapter and we should confirm stake transaction on wallet extension interface. And I cannot understand how to send correct request to connected wallet to open interface for confirm stake transaction. Maybe someone can help me with that?
If anyone has experience sending solana transaction on a back-end proxy server, please DM me.
okay cool, thanks for that!
thanks for the response! I appreciate the help. trying to start a NFT project with little dev knowledge, but wanted to know before if its even feasible to do before going further
no, not currently if i recall.
once you do: 
spl-token authorize tokenAddress mint --disable

can you enable it back?
protection on your server is up to you, its possible to have keypairs sign from file system, and as long as everything is secure in your environment and server, the process of loading and signing with a keypair should be secure. same would go for any handling of files and security on your server and environment.
Is this possible to do by protecting the private key of the "treasurey" wallet (the wallet which handles tx's on the backend)
doing this is not recommended. it is recommended to use the NFT standard, metaplex, for creating NFTs with meta data.  I am not aware of a good usable alternative path to manually creating NFTs at this time that is supported by theg reater NFT eco system.
Hey guys I am making a tutorial series and need to verify one thing. Is it over 50% of nodes that need to be defrauded in order for the fraudulent transaction to go through?
i think youre right...just working late at 3am lol
hey thanks, ill double check that
hi all. if i want to manually create nfts myself

i would create a token - 0 decimal and 1 total supply and call to token-metadata program to link metadata to it right? what else am i missing?
you may want to specify a decimal when creating a token mint, and are using the existing default decimal place.  decimal places on token creation determine max supply. i recall 9 is the default.
I dont see why you could not try sending a signed transaction object to the node js server if using a traditional rest api, and use the web3 rpc interface in the node js server to send/fwd the transaction object. But I have not tried this.
in SPL token ,how come im being capped at 1.8m mint supply
if your checking a transaction signature you can try this:
https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#verifySignatures
in what way?   do you have a signed transaction your checking the signature of? or how is the signature being generated and what is being checked for signature?
Does anyone know if it is possible to send Solana via a web3 transaction on a back-end node js server? Cheers.
is there any function we can use to check if a signature is valid?
or signing seeds, in case of pda
typically happens when passing the wrong signer
an invalid or wrong signature to verify against
Hi everybody. What can cause the "Signature verification failed" error?
thanks very much!
ah nice!
https://solanacookbook.com/guides/get-program-accounts.html#dataslice
yes i'm looking at payer - would you happen to have any code pointers for what you've mentioned for reference?
https://switchboard.xyz/ may have some form of randomness but I have not used it.  I am not aware of any on chain randomness as of yet. Most randomness appears to be generated offline currently.
hi, who has the experience about random number oracle, which one is support well or available?
Lisen, may I dm you? I think it will help if I can explain my specific use case to you. I would greatly appreciate that, if you dont mind.
a wallet is a separate integration and instance all together.  I would reference:
for basic integration and examples: https://github.com/solana-labs/wallet-adapter
a basic starter scaffold with real world starter implementation:
https://github.com/solana-dev-adv/solana-dapp-next
Sorry <@!785084693023424542>, one more thing if I wanted the to address to by my phantom wallet, how could I do that? Cheers.
`
  // Add transfer instruction to transaction
  var transaction = new web3.Transaction().add(
    web3.SystemProgram.transfer({
      fromPubkey: from.publicKey,
      toPubkey: to.publicKey,
      lamports: web3.LAMPORTS_PER_SOL / 100,
    })
  );
`
Right, my terminology is mixed up. Sorry, thanks for that fix.
and it does work, the public key is the same as the string above
that does not create a keypair.. it creates a publicKey..
var to = new web3.PublicKey("7PmSLzu8pRw7KWWCGPb84vHfDw9LH6wNApwe1cTYoCbp");
Confirming that it is valid to pass in a wallet address into new web3.PublicKey() ?
where exactly above are you trying to generate a key pair?
web3.PublicKey creates a publicKey..  not a keypair
Can anyone please try to generate a new keypair from this wallet address please 7PmSLzu8pRw7KWWCGPb84vHfDw9LH6wNApwe1cTYoCbp
Am I not calling the constructor properly then for the new web3.PublicKey?
Hi everyone, I am attempting to generate a new web3 public key via the following call:   // Generate a new random public key
  `var to = new web3.PublicKey("7PmSLzu8pRw7KWWCGPb84vHfDw9LH6wNApwe1cTYoCbp");`

This is throwing the following error within index.cjs of the solana/web3js library:
`
node_modules\@solana\web3.js\lib\index.cjs.js:2493
      const pubkeySorting = x.pubkey.toBase58().localeCompare(y.pubkey.toBase58());
                                     ^

TypeError: Cannot read properties of undefined (reading 'toBase58')
`
Logging the array which is sorted based on the keypair
`
[
  {
    pubkey: PublicKey {
      _bn: <BN: 7938bc362a81b62efc2c5218ffa02c1a7c41154a5ff83646b93e4dbe0f8bcfe5>
    },
    isSigner: true,
    isWritable: true
  },
  {
    pubkey: PublicKey { _bn: <BN: 0> },
    isSigner: false,
    isWritable: false
  }
]

`
The issue seems to be in the second element.
in general, if your getting a toBase58 error, its because the object is not in a valid format, or does not exist.   pubkey, x,y, in your case from what it looked like.  so the method your using to generate is not working, or the object is bad/not exist.
id also recommend more code, as that does not seem complete enough to answer the question
Sure thing, I will fix that up now, sorry.
i would suggest formatting your code  at least with  code blocks using start/end ' ` '   otherwise for larger blocks use gist or another copy/paste/uploadable code link
Any guidance would be greatly appreciated, cheers.
if your talking about updatable NFT metadata, I dont see why not. your only other concern may be how to capture the event. which should be doable.
Within node_modules\@solana\web3.js\lib\index.cjs.js:2493
forgive me if this the not the correct spot to ask this question, but I wanted to know if there is a possibility to have a sale transaction trigger a metadata change? for example a sale on a secondary market would trigger the metadata to update a single attribute on a token from 1 to 2.
does the deploying account have enough funds?
sender in what way and meaning what?  a sender field may depend on the type of transaction. It might generally be considered the first account in a transaction, the payer, which you may? be able to filter on, but this is not 100% true in all cases, based on what sender means in your particular case.
thanks
thanks a lot
i would check metaplex for the multiple ways and most efficient, as that is normal business around there.
https://discord.gg/vcdd2byN
you generally do this with some kind of price feed, quote, or related on or off chain data source or oracle.

simple example would be to get the price of each token in the wallet by querying coin gecko for the USD value, and sum the results.
How do we close a program state account? Do we have to take the rent out of it?
saw them taking a look at the questions, that's why I tagged them. disturbing wasn't my intention.
is that the only way to do it or theres a more efficient way of doing it?
all these will be done using a script.. and assuming if im airdropping to 2000 holders i will be making 2000 separate calls to token and token metadata program
hi all. im trying to do a nft airdrop to existing nft holders

right now my approach is:
1. retrieving the snapshot of nft holders by providing candy machine id
2. for each holder. im going to mint a spl token using solana token program with 0 decimal and total supply of 1 (so they will be considered as nft)
3. for each token minted. i will associate them with the metadata using the token metadata program
It's generally bad manners around here to summon people, just FYI
<@!585868308419444749> can you take a look a this, please?
was initially thinking of using solscan's api, but it seems to be limited in it's query abilities
does anyone have any code-pointers towards finding all transactions with a specific sender? i'm trying to create a function for the user to see how much of a particular SPL token has been transferred to a specific tokena ddress, without needing to create a data account
Don't cross post. I already answered
Hi all, qq on wallets for a tool I’ve been thinking about 

If, for argument's sake, I were to reveal my private key via untrustworthy CLI would that thereby compromise all my private keys on an associated phantom account (eg of same mnemonic)? 
To me it seems like it would since they are just different prompts of the same mnemonic
hello, I am trying to show the total value on my website. I can get the sol balance but I don't know how to get the total value of all the coins in my wallet and show the total value in usd
`Error: Deploying program failed: Error processing Instruction 0: custom program error: 0x0`
I am getting this error when deploying does it refer to my program error when it sats custom program error or what?
thank you very much, now i understand clearly) best answer from best solana dev )
BJ93Je5amjTKQPoJG2amDYX6EAbjB36xSjQYLxLpiM1U is a mint address.
BXfyPbifnV8zmkhf3dNRtA4Qej8MxNxUEZeBiBv4WB7e is a token address which is used to hold `BJ93Je5amjTKQPoJG2amDYX6EAbjB36xSjQYLxLpiM1U`

and the owner will be `5ahakiv2dZjp8vitFJ3cS8jzfbRhtLcsJoVpMDJpm4Kv`
you can use the owner 5ahakiv2dZjp8vitFJ3cS8jzfbRhtLcsJoVpMDJpm4Kv and the mint BJ93Je5amjTKQPoJG2amDYX6EAbjB36xSjQYLxLpiM1U to fetch the token account BXfyPbifnV8zmkhf3dNRtA4Qej8MxNxUEZeBiBv4WB7e by the method I give you.

if you just want to know who hold the NFT, you can use another function https://solanacookbook.com/references/nfts.html#get-the-owner-of-an-nft
Please can you describe a little, who will be the owner in my example ?) 

for example i have this spl token address BJ93Je5amjTKQPoJG2amDYX6EAbjB36xSjQYLxLpiM1U and i need to get token account that holds that token BXfyPbifnV8zmkhf3dNRtA4Qej8MxNxUEZeBiBv4WB7e
AFAIK you will use these steps to achieve what you expected
1. get all toke account
2. check these token account is holding NFT
3. get NFT's metadata and the url
4. do http request for the url and get collection back
===================
for v1.1.0's metadata account, you can fetch collection on chain.
https://docs.metaplex.com/token-metadata/specification#collections
Thank you for helping <@!788215642070581289>  <@!585868308419444749> <@!785084693023424542>  🙏
You _could_ use the same seeds with two programs if you control them both or are certain that the lowest program won't change on you.  Good odds that the bump seeds will not be the same for both though
No, only the program that's calling `invoke_signed` can sign with the seeds
I meant, can you use a PDA from program A in another program B as invoke_signed?
and what is a collection ? )
and one more question, maybe you know how to get all spl token addresses that belongs to a certain collection ?
thank you )
for example i have this spl token address BJ93Je5amjTKQPoJG2amDYX6EAbjB36xSjQYLxLpiM1U and i need to get token account that holds that token BXfyPbifnV8zmkhf3dNRtA4Qej8MxNxUEZeBiBv4WB7e
check https://solanacookbook.com/references/token.html#get-token-account-by-owner
use  `2. Filter By Mint`
ty
you can use 
```
curl https://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '
  {"jsonrpc":"2.0","id":1, "method":"getHealth"}
'
```
to check status
<@!700072580845011054> you mean you want to initialize a token account denominated in a specific spl token address? for client side via typescript or from rust?
Hi, friends can you help please, i do not understad how can i get token account by spl token address, can you please provide some info
suddenly getting time out errors
is devnet down?
your wanting to invoke_sign in the program the PDA is owned by?  then yes.
sure. here is the example https://solanacookbook.com/references/accounts.html#sign-with-a-pda
hello guys. there are some limits for every network, one of the limit is "Maximum connection rate per 10 seconds per IP: 40" but there is not measure, 40 of WHAT? kilobytes per second? megabits?
I think you can do it. a tx in solana is composed by instructions, you can mint more than one NFT in the same tx if it don't over tx size limit
hi devs, any good ways to subscribe to multiple accounts update at once?
Can I use PDA as signer of invoke_signed in other programs, if seeds and bump are known?
i'm on an intel-based mac - i'm assuming this has something to do w/python not being setup correctly but i'm not sure (didn't realize python was needed at all)
has anyone run into the below error before?
`dyld: Library not loaded: @rpath/libpython3.8.dylib`

this is when trying to run `cargo test` for solana's token swap program
Is there such thing as bulk minting to save on gas fee ?
I need to mint 40k prints of a master edition
Thank you!
you can take a look at https://discord.com/channels/428295358100013066/517163444747894795/917412508418068510
I'll rephrase: is there any parsed equivalent of `onProgramAccountChange`, as `getParsedProgramAccounts` exists to `getProgramAccounts`? If not, how can I parse the base64 notifications to JSON?
yes but for public api they have
Does anyone know what the format the notifications from `programSubscribe` or `accountSubscribe` are? The docs don't specify...
Is this what you need?
is there devnet version for solscan.io api?
Thanks a lot again for the help <@!785084693023424542> ❤️
https://github.com/exiled-apes/candy-machine-mint/issues/126
Looks like its because of SSL not being enabled on the server
The error comes from https://github.com/sindresorhus/crypto-hash/blob/main/browser.js
`const hash = await globalThis.crypto.subtle.digest(algorithm, buffer);`
If I understand that correctly that would mean 
globalThis.crypto.subtle is undefined
Which doesnt seem to have much to do with my code at all
<@!469776019784466442> if you end up going this route, this off-chain script may help you (for the chainlink ones anyway) https://github.com/smartcontractkit/solana-starter-kit#running-the-read-only-client
Okay thanks.
maybe related to spl-token related calls then,  as based on the calls may be the other spl-token js, and maybe something with an account or value there, that is not null/undefined, or not the same as when your running from the client. hard to say. will take some troubleshooting. but should not be the libs themselves if the only difference is the machine your hosting from.
Like the reverse. The buying so SOL transaction works.. and thats basically almost the same code except the spl-token usage.. that makes me think it has something to do with that not the transfer to the machine/server
if uploading to your server is involved id troubleshoot that portion. how its consumed and run there. could be many things, none may be super obvious, but on diff machine/server, generally configs, settings, policies, certs, access, priv, network, versions, type of webhost/service, are the variables at play. especially if you note that none of the web3 js related calls are working, or most of them dont.
Yeah I maybe overlooked something but its very wierd since its client-side in the same browser and everything
desktop chrome
without posting code its hard to troubleshoot further.  with all values being the same this does not make much sense. web3.js is not going to care. something in the environment (code, browser, service, config, settings,) or value wise is most likely to be different. I would try more logging and follow the trail and make sure all inputs to the web3 sources are the same.  the error above end up at browser.js.  what target platform is this being tested on? general web, mobile, service?
I checked all the values used and they are the same.
this shouldnt have anything to do with the web3 lib unless it is somehow pointing to a different version, if all other variables are the same.  did you log or debug and see what the objects values are that are calling the web3 objects that you suspect are your originating call sources?
```
TypeError: Cannot read properties of undefined (reading 'digest')
    at browser.js:47:47
    at Function.createProgramAddress (index.browser.esm.js:189:22)
    at Function.findProgramAddress (index.browser.esm.js:214:30)
    at Function.getAssociatedTokenAddress (token.js:2288:23)
    at Token.getOrCreateAssociatedAccountInfo (token.js:539:43)
    at createTransferTransaction ((index):195:45)
    at sendTransaction ((index):222:33)
    at (index):237:5
    at new Promise (<anonymous>)
    at sendCOIN ((index):171:11)
```
To be honest I do not really understand why it behaves differently.
Is it possible to merge Sol Pay and Minting? It would be so cool to integrate NFTs with Sol Pay. That way you can set up NFT galleries where people can come into see your work, use their phone to instant mint a NFT of a collection you are displaying.
https://mattmazur.com/2021/11/18/using-a-phantom-wallet-address-with-the-solana-cli/
what leads you to believe it is from inside '.getOrCreateAssociatedAccountInfo'  and not the object trying to call this?

 `TypeError: Cannot read properties of undefined (reading 'digest')`  where is digest coming from?
ahh got it maybe it it is some random network error, it was showing up when making a call to connection.confirmTransaction but might just be a generic network issue, let me double check that
[Answered] How can I change my default solana-cli wallet address using a seed phrase I know
https://gist.github.com/LeM0-Dev/51b97de50927cbf3990ae44e43f05c44
is that the exact error?  does not look like a familiar Solana based error?   what are you calling to get this?  Sounds like a general web socket or other internet or other protocol related error
Oki 🙂
That string does not exist in the monorepo
C'mon... Use a gist
So I have a option on my site to "send" xy amount of custom solana token with connection to phantom wallet.
This exact same function works in localhost but not when I upload it to my server and go to the website through the ip adress. How is this even possible when this code is executed client-side in the same browser and the code is the same but when using the website hosted on the server I get: 
`TypeError: Cannot read properties of undefined (reading 'digest')`
`In function .getOrCreateAssociatedAccountInfo`
Using
```
<script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
<script src="https://unpkg.com/@solana/spl-token@latest/lib/index.iife.min.js"></script>
```
In the headers

Code:
https://gist.github.com/LeM0-Dev/51b97de50927cbf3990ae44e43f05c44
Hey guys <@!569580494283603980>na/web3 question: 

I'm getting this error repeatedly and don't know why: `The operation couldn’t be completed. Network is down` this is when try to confirm a transaction. 

Anyone know why that would be happening?
its up to the community. tells me its not as in demand.
Hi... Does anyone know how far is the deployment of the solana/wallet-adapter-angular? Im looking for a stable version of it and i could not find anything 😞
clippy greiger audit
Any Sublime users out there? Other than rustfmt, what other packages would you recommend?
Could also just output to PWD and copy by hand
Maybe building the path programmatically will work better than reading it from the CLI
If you leave the whole `-o FILENAME` part off (and don't pass anything else), that's also the default output directory
It does, although using keygen new // --force doesnt change the file
I thought so too. Using double quotes in filepaths
Oh maybe some bug 'cause of the space in your username?
That just generates a new keypair, leaving me with the same error
if you go to that path, does id.json exist?
It's literally in the error message
Also:
>solana airdrop 1
>Error: Dynamic program error: No default signer found, run "solana-keygen new -o C:\Users\DGTL DVNTY\.config\solana\id.json" to create a new one
Is there a command to manually set keypair signer?
i'm not really sure what the problem is then, i haven't run into that issue myself
ah okay
Discord formatting. Its there in CLI
i believe there should be a \ before .config
>C:\Users\DGTL DVNTY\.config\solana\cli\config.yml
>C:\Users\DGTL DVNTY\.config\solana\id.json
what are your url and keypair path configs?
Just reinstalled fresh... Now I get this:
>spl-token create-token
>error: unrecognized signer source
May be your keypath config is set up incorrectly? Type `solana config get` and make sure the keypair path is correct
thanks for that tip! I do confirm that AWS instance need `elastic IP` to setp solana cli tools correctly.
Otheriwse there will be this error `RPC request error: cluster version query failed: HTTP status client error (403 Forbidden)`
Guys, quick question. Is it possible to create a vanity wallet with `solana-keygen grind` that has no `outfile` with the `--no-outfile` option? Doesn't seem to work for me, and I get a prompt stating the usage, which I've followed
You could burn the nfts and then close the ATAs: https://spl.solana.com/token#burning
Hey Devs! 
I'm creating my first token and im running into some issues.
>spl-token create-token
>error: The system cannot find the path specified. (os error 3)
Very small amounts
How much sols you sending
There should be
Use case: Airdropping royalty shares in Sol to nft holder wallets proportional to the number of nfts they hold.
I've looked at SPLdrop but I guess it can't be used to transfer sol?
Hey guys, is there a tool I can use to transfer sol to a large number of wallets (in a json etc) at once?
is there a way to force close ATA? I have received some scam NFTs and other tokens to my wallet, so I want simply to destroy all the data stored in account without transferring it somewhere else
yes, i want to fetch information from a previously committed transaction, executing onchain program.
What's up Sol fam！ I am new here and want to learn how Solana works. I am stuck on understanding POH sequence, does solana ledger basically = a very long POH sequence?
this is a separate thing all together.  an exchange listing.  NFTs are not traditional SPL-Tokens, so they wouldnt not be supported exactly the same. If you looking for a listing the exchange needs to support SPL-Tokens, and they wouldnt also have to accept your SPL-Token.   NFT support is separate and would follow the same process. and I would ask the exchange, as they would know.
perfect ty
Step has all their staking stuff open source https://github.com/step-finance/reward-pool
Okay cool 😎 

I just haven’t seen people marketing their NFTs as available for trade on binance / Coinbase as a monetary asset
https://github.com/project-serum/stake/blob/master/docs/staking.md
are there any good technical reads on how SPL token staking would work on solana? all I could find was this
there is no issue I am aware of that prevents you from attempting to do NFT and SPL-Tokens, not sure what the specific question is or why you think you couldnt do both?
I asked
I’m a member
these are specific to metaplex, and changes have been occurring. if is the better place to ask those specific questions if your not getting the answers here. docs.metaplex.com.  different offerings, marketplaces, and sites, have different capabilities and features as well. 
https://discord.gg/vcdd2byN
Yes we are on the same page 


Now my question 
Can both be done simultaneously?
how phantom specifically does it is up to phantom. if your using metaplex NFT standard, and giving token meta data in that sense, it would likely go to NFT tab, but every wallet may be doing their own checks on this, so you will have to see based on the wallet.

for traditional spl-tokens, they do not have typical meta data atm.  traditional spl-tokens themselves, are not also NFT tokens, they are different, thought the NFT token use spl-token in the background and much of the functionality can be leveraged..  as far as I know this is still the site to submit traditional spl-token meta data: https://github.com/solana-labs/token-list. which is separate from NFT specific meta data.
Hey guys! I'm starting to work as a designer for NFT collection on solana and client says he cannot add % of the mint to the smart contract due to Solana limitations. And that he can only add it for secondary sales. Is that correct?
Again my distinction is how the metadata of the token 

Makes it either go to the NFT TAB or token tab on phantom
eh if it happened our users would be pissed, so perhaps I'll check the postgresDB plugin (and ill start with getProgramAccounts as initial step)
I’m just trying to understand 

After using 
spl-token 

I can do 
Option A 
Give it NFT art metadata 

Option B 
Use it as currency and give it a logo and $shortname

Can both be done at the sametime ?

I’m assuming no 
But it’s not very clear
What's the risk of a mistaken airdrop? Probably 0
No, it does not
would suck if someone traded their token and I mistakenly airdrop the wrong quantity due to race conditions here
(reading the docs, don't see anything that indicates it)
funny I had just read that, but if I undertsand, `getProgramAccounts` doesn't really tell you at what blockhash/block the results were calculated correct?
accountDb postgres plugin if you're after that many accounts. Otherwise, follow some info here https://lorisleiva.com/paginating-and-ordering-accounts-in-solana
Can be both. Know what you're after though
What's the best way of getting a list of thousands (or hundreds of thousands) of accounts that hold a particular token at a particular block / snapshot? E.g. if I wanted to airdrop something to these accounts but if they hold the token at time XYZ
Noob  question 🙋‍♂️ 
There should be a channel just for noobs 

I found a good tutorial on how to add metadata to spl-token to make it an 
NFTs using ipfs and metaplex 


And I also found how to add a logo and $tkn-name to treat it like a regular token on a marketplace 

Do you have to pick 1 or can both exist as a tradable token and NFT

Specifically speaking I’m making a distinction between what phantom wallet shows the user 

On the NFT tab
Or Token Tab
That doesn't tell me much. What program is that a part of? I think you probably need to go to that protocol's support to ask about it
According to Solscan It is the Token Account binded to the SPL Token (that was created previously and that i do want to mint)
What is artMintTokenAccount?
Thank you
Not sure. Try another wallet other than phantom. Seems to be swallowing errors
If you are asking if, within your executing onchain program, you can fetch information from a previously committed transaction the answer is no.
Hi everyone... anyone knows how can i retrieve this artMintTokenAccount info that is being used during the minting process. Im focussing nor in a marketplace but in a minting platform. And that field is the only missing in order to start minting process on my side. I've tried the getProgramAccounts from solana/web3.js Connection and i couldn't get a succesful response. If anyone knows or have dealt with this before... please reply me, It would be a great help 😓
Hello, Is there a way to return transaction details for a committed transaction inside on-chain? Something similar to the getConfirmedTransaction method of web3.js.
You need to input python3 at the beginning of the command
Hey guys, would anyone know why this would happen at random but persistently to certain NFTs - 
```
{code: -32003, message: 'Transaction creation failed.'}
```
When I try to send an NFT. I get account address and sign and send transaction using phantom wallet
Response has `unitsConsumed` to get an idea of compute
https://docs.solana.com/developing/clients/jsonrpc-api#simulatetransaction
simulating would be ideal. how would you do this?
thx, checking
Probably not in docker, so check your environment
Where does the folder need permission? in my environment or inside docker?
So you're mounting a workspace I believe there. If the folder does not have permissions, you're going to run into trouble
I want soteria command to run inside docker in a single command so that i can write it in npm run script

this command says ```docker run -v $PWD:/workspace -it greencorelab/soteria:0.1.0 soteria -analyzeAll /workspace``` permission denied
What problem are you having?
Fixed my own issue with this guide: https://dev.to/nickgarfield/how-to-install-solana-dev-tools-on-an-m1-mac-kfn
but wanted this to work ;c
Got it. Thanks!
Also I think you can simulate
https://github.com/solana-labs/solana/blob/cc76a73c4916c23c88bad25db3f5d352bf073dac/program-runtime/src/compute_budget.rs#L77
anyone know if there is a way to estimate the compute units a transaction will take up?
Code exists on master, and I believe you can do it via testnet and local-test-validator. Not sure how though at this time
Is the code written?
Probably a 1.9 thing, but not for a while
will transaction address mapping come out soon? <@!489206164270350337>
best support I've ever seen!
thank you
https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
hi how can I convert a secret key from string to a web3 secret key?
mine works inside
I got the same error, no idea how to fix that. If I bash into the docker and run soteria with the same command, it gives another error: `error: toolchain 'bpf' is not installed`
says permission denied ;c , anyway to do sudo outside of docker ?
maybe `docker run -v $PWD:/workspace -it greencorelab/soteria:0.1.0 soteria -analyzeAll /workspace`?
I haven't tried soteria in docker.
Anyone with soteria knowledge here?

Wanted to know how I can execute soteria in docker with a single command
```docker run -v $pwd:workspace -it greencorelab/soteria:0.1.0 /bin/bash```
Another solution is doing permissioned updates: instead of passing oracle accounts, an off-chain bot scrapes the data from all oracle accounts, and pass them through ix data instead of using accounts.
yeah with 255 accounts there will be more possibilities unlocked
I know mango is limited to like 18 total markets. A lot of people are waiting for transaction address mapping to come out
I guess that's why Synthetify chose this seemingly bad design.
yep. Same for Synthetify
So you have structured products across a ton of assets?
Because I need to do this calculation in the product `for i in ...: sum(token_balance_i * price_i)` in a single tx. If I have 50 tokens in the product, then I need to pass 50 oracle accounts
Transaction history from beginning?
Damn, then what use do people have for archive nodes on sol?
Why would you need to pass 50 accounts? Sounds like there has to be a better way
Not mentioning if I want to enable multiple oracle support, e.g. for each token I have (Pyth, Switchboard, Chainlink). Then 50 tokens means 150 accounts in a tx.
This will break if I have 50 tokens because I need to pass 50 oracle accounts which exceeds the tx account limit.
Read vs write is very important
With pyth, they're updating multiple accounts a ton every day for price of the assets. However, you can read all you want to on those accounts
But the problem is cross collateralization: In order for synth to work, I need to do `for i in ...: sum(token_balance_i * price_i)`in a single tx, which is not possible to have many accounts storing the price.
Or you could derive PDAs based on specific seeds with mint + programId, etc. That's probably the best solution
You could have a list of assets in an account with the links to the pubkeys of the oracle accounts for each, then update those many accounts. That way the list of assets is rarely updated.
Just doing a basic call to the solana token program.
From a phantom wallet.
Yeah. In general how to do the aggregation without having a monolithic account? It sounds like the only solution is clumping everything into a single account like how Synthetify did.
Doesn't sound like a very good idea, especially when they get more assets. I would speak to synthetify to understand their architecture reasoning
I think it is targeting 1.10.x but it appears to be available in 1.9.4 (perhaps sooner but that is what I have installed right now). Even that, though, does not portend when it would be available on any cluster.
All depends on how they do the transactions. Without proof, I would not make this claim
They stored the oracle price inside the assets list, which is updated quite frequently by gathering different oracle accounts
There's not stored state of old accounts. You'd have to apply transactions as they're made to see what the state of the account was at a certain point
I would contact gemworks
1.9 has a large amount of changes. Probably going to be a while
It would be literally impossible to do that right? All interacting with the rollbit token account would do is transfer your balance, etc.
It looks like they just have an assets list that they can update rarely, and then have many accounts to many each pool
No one making the claim has provided evidence 🤷‍♂️
Hey guys, is there any way to query a node for information on non current (old) blocks? Specifically I want to access the get_account_info function on python at older blocks (I know you need an archive node for that but I don't know how to query for older blocks)
Is there any merit to people saying rollbit tokens is some draining your shit?
Seems like a urban legend
Only way people could get drained is if they went to th rollbit website right?
Has anyone figured out how to configure Rarities in Gemworks Farm


///////////////////////////////////////////////////////////////////////////////////////////////

``` 
   const resp = await solana.getProgramAccounts( new PublicKey(METADATA_PROGRAM_ID), {
                filters: [
                    {
                        memcmp: {
                            offset:
                            1 + 
                            32 + 
                            32 + 
                            4 + 
                            32 + 
                            4 + 
                            200 +
                            4 + 
                            10 + 
                            2 + 
                            1 + 
                            4 + 
                            0 * (32 + 1 + 1),
                            bytes: creatorAddress
                        }
                    }
                ]
            });
```

im trying to get collection's NFT using this code and it took a long time in devnet
is there any other way?
In the Solana pay best practice docs (https://docs.solanapay.com/core/merchant-integration#best-practices) it mentions validating the transaction signature to check it has the expected reference + amount. Could someone give me a pointer to which JS SDK function I should be using for that?

I've tried `connection.getTransaction(signature)` and `connection.getParsedTransaction(signature)`, but neither of these seems to return the reference anywhere. I think I may be able to use their `meta.preBalances` and `meta.postBalances` to work out the amount paid, but not sure if there's an easier way to achieve that too?

Edit: I've noticed that the reference is in account keys:

```
      "accountKeys": [
        "Fkc4F...", <-- sender
        "BBz7S...", <-- receiver 
        "GeQzWrbt8y8Q6hXG86ybNPZ9emft5Akph1zdHyx6zapK", <-- reference
        "MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",
        "11111111111111111111111111111111"
      ],
```

Is that the right place to get it? And then parsing pre/post balances to calculate the amount paid?
😶
Hi, So when I create an account, on the field where its says program id. Can I pass my pda in it ? Or does it have to be program id ?
Solana phantom wallet, anyone knows where I can find a flow diagram of how the user interacts with it , im trying to understand what happens after the user enters his password for a purchase for example on solsea , any idea where I could find something similar like that ?
'Program log: Error: memory allocation failed, out of memory',
    'Program 7GuSHYTVwR1cCNcvbrNPNdrzR5ZE1SCWMoSdf9h22vYF consumed 116689 of 200000 compute units',
Why do I have this error?
alright
Yup.
Oh so I just do this?
 ```ts
Metadata.findByOwnerV2(connection, new PublicKey("walletAddressIwantToGetTheNFTsFrom"));
```
Commission and APY ^^
Yes , sir! I'm trying to log these data serverside , instead of clientside
Are you just trying to get commission? You're going to have a ton of transactions to run through
Would I have to interact with vote program in some other way?
Is this the right logic ? get all the vote accounts->loop through the vote accounts public key->get transactions for each account->filter data
I believe this is correct
Like , get the transaction hash for change in commission?
Please correct me if I'm wrong. So for tracking these historical performance data , I would have to routinely run a logging script every epoch , right?
I believe places like solanabeach have just been aggregating over time
I don't believe you can unless you get transactions and replay them to understand previous state
Even candy machine v2 doesn't use it
Very, very few nfts have actually implemented it.
Currently , I am using getVoteAccounts(); method to get data for the current epoch. Is there any other way to get this data for old epochs as well?
What'd wrong with collection at this time?
First verfied creator is better for now.
Yes, but don't rely on collection yet.
Oh I see thank you. So you need to list your stable coin in coin gecko ?
I believe what you can do now is get all token accounts, use what Kartik posted, and use the `collection` field to understand what collection it is from
how do I do that, got some docs for me? 🙂
Use Metadata.findDataByOwner from `@metaplex-foundation/mpl-token-metadata`
Right, 💯 .
It's likely a coingecko api call
It will usually be faster to fetch the user's nfts instead of the candy machine's
🧐
How do they know about the toke value?
Just posted above ^
Hi, In solana Explorer,  how do they fetch prices for the stable coin ?
oh ok
<@!489206164270350337> is there a faster way of getting the NFTs of a wallet address from your candymachine?
Ah interesting.
You could probably speed up some of the calls if you're ok with pagination. Follow this handy guide https://lorisleiva.com/paginating-and-ordering-accounts-in-solana to optimize
Hi , is there some method to get historical performance data from validator nodes? or is it obtained by logging data every epoch?
tnx tho
the plugin didnt work but cargo test did 🤦‍♂️
yeah it's to try to prevent some kinds of scams that'll send you an explorer link with a custom URL parameter
thanks
https://ssc-dao.genesysgo.net
what is their url ?
Seems to not have any effect.
Is there a reason for the "Enable custom url param" toggle?
I see thanks
86s
I will note it took a while
serum and mb usually block candy machine calls
Seems to work for me. I used genesysgo to do it
Looks like this does it https://marketplace.visualstudio.com/items?itemName=swellaby.vscode-rust-test-adapter I believe there's also something via cli you can do
CymFJSwjbEyDCT3maYR4XwEwzVzgEV3RaCHnaGx6Ds2U
What'd you replace it with?
I did
Make sure you replace `ENTER_YOUR_CANDY_MACHINE_ID_HERE`
is there a way to use it without a plugin?
if not what plugin  should I use?
What candy machine id?
did i do something wrong here?
`Connection('https://solana-api.projectserum.com');`
Oh i got this now after some really long waiting 
```
VM149:1 Uncaught (in promise) SyntaxError: Unexpected token < in JSON at position 0
    at JSON.parse (<anonymous>)
    at ClientBrowser._parseResponse (index.js:130)
    at index.js:102
    at ClientBrowser.callServer (connection.ts:846)
```
Probably a plugin
do I need to change something in the configuration?
<@!489206164270350337> 
do you know why I dont see the option 'Run tests' on the vs code?
alright thanks
I am using the https://solana-api.projectserum.com api instead of the mainnet-beta one if this is of importance
Let me try. Hope metaplex didn't break things again...
yes
Did you copy the full source? `</>` to view
I am following this tutorial to get all the NFTs a person owns https://solanacookbook.com/references/nfts.html#candy-machine-v2
But it somehow doesn't return anything after calling `getMintAddresses()`. Not even an error or anything. I just straight up copied the code from the link
https://github.com/solana-labs/solana/pull/23041 
^ PR for cli option to deactivate features
So active support here ,keep it up 🤘
Ok 🙂
We're not going to build the product for you 🤷 If you come with direct and specific questions, we're usually more than happy to help though
This is a pretty fun idea. I suspect it would take some time to build out though
Anyone can help me here 🤔
Any podcasters can create pool in which the supporter of that Podcaster can stake the tokens and support them and in return stakers will get some reward
Reach out to the developer. Not too sure what this product does
How easy it is to build this product ?
https://staging-launch.circlepod.app/
Will try this one out! Thanks again ser!
```js
  let sourceTokenAccount = null;
  let { value: accounts } = await connection.getTokenLargestAccounts(token);
  for (let { address, amount } of accounts)
    if (amount === "1") return address;
  if (!sourceTokenAccount)
    throw new Error(`Could not get current owner for ${token}`);
```
I seee!
<@!623134223930228736> what that means is instead of doing Token.getAssociatedAccount you have to do connection.getLargestAccounts for the token.
right but we need this to reduce the supply of that collection..
Ah that's good.
They're supposed to be updating, but yeah some things are broken because of it
Also burning the nft doesn't remove the metadata, it is still visible on solscan.
Then you should know MagicEden has a nasty habit of transferring the ownership of the associated token account instead of creating the correct one.
Yes
Are you burning NFTs?
No, the machine shouldn't matter.
Does this vary on people's browser/machine? So we've tried adding 4 Burn Instructions in one Transaction which is the maximum that our user can add. It's working on our end and for some users but not for everyone.
ok thx
Does anyone have an example, how to get all owned token balances by using solana react wallet adapter?
oh now i remember, 
token is the SLP token & account is the account that holds that slp token
There's some great resources here https://solana.com/riptide/resources
Likely go through the boot camp listed and use cookbook as a reference
im new here, what do you recommend first to learn solana programming
okay, thank you <@!590982495923732511>  <@!489206164270350337> 💚
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedTokenAccountsByOwner Will get you them. Also follow Kartik's advice
Try reading https://spl.solana.com/token
Environment? Would keep trying
the relation, etc
yeah thats pretty much what I am doing
i just want to understand the account & token..
the TX keep expiring.
Could you rephrase the question? Are you just trying to get the token accounts a wallet has?
*
account & token
You may need a different slice based on the key. Each in 32 increments
hello, can someone tell me the chain of command between token & token accounts
https://solanacookbook.com/references/keypairs-and-wallets.html#convert-mnemonic-to-keypair
const seed = Bip39.mnemonicToSeedSync(<list of words>).slice(0, 32);
  console.log(seed)

  const mint_authority = web3.Keypair.fromSeed(seed)
and then used this in my code
I just generated a seed phrase with phantom I think
Also did you create the seed phrase on the cli?
Are you sure you're importing correctly?
Thanks!
so yeah I can see them in the Solana explorer.. but nothing in Phantom. The strange thing that when I import my phrase into Phantom is that I cant even see any of the public keys that are supposed to represent my Solana address
Got it..
You will have to do some testing on this one.
The transaction size.
I see. what's the limit here?
Also might be that you are putting too many burn instructions into one tx
I've seen this error from phantom a few times. Seems phantom is swallowing the actual error
https://gist.github.com/jensnowww/ff15819869aae8a0b616529fadbb46ec
This is the sample code for our nft burning. We use web3 and phantom for signing transaction.. I'm really hoping there's just something sneaky within the code.. 

I don't really know what the issue is but it's working for some users, and some users are getting "transaction creation failed" error
Please go through docs to figure out what params each function takes
It takes in a publicKey https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountBalance

Thank you. Should i provide "account" to getTokenAccountBalance?
Do you know the exact issue?
`solana program deploy --buffer <KEYPAIR> <FILE>`
You need to send it as a publickey, not a string. So `new PublicKey("STRING")`
tnx
Unit testing in Rust.... google search as there is a tremendous amount of references. As far as Solana, check here: https://solanacookbook.com/guides/debugging-solana-programs.html
hmm is there some limitation on using custom rpc endpoint like quicknode that would cause this? not sure why some user is getting transaction creation failed and some are getting through..

it says "To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'."
which keypair?
So a tx expiration. You should follow the message you originally posted to continue deployment
can you tell me how to resume the deployment?
I had 5 sol before the deployment now I have 1...
Sounds like you ran out of funds or the tx expired
Could you try getParsedTokenAccountsByOwner?
this is the error msg
```Error: Deploying program failed: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds
There was a problem deploying: Output { status: ExitStatus(unix_wait_status(256)), stdout: "", stderr: "" }.```
According documentation, getTokenAccountsByOwner returns account. So should i use this account or it should look differenlty?
What was the actual error message?
I deployed my program to mainnet bt it failed with this message
```To resume a deploy, pass the recovered keypair as the
[BUFFER_SIGNER] to `solana program deploy` or `solana write-buffer'.
Or to recover the account's lamports, pass it as the
[BUFFER_ACCOUNT_ADDRESS] argument to `solana program close`.
```
Ah got it, thankyou 🙂
hello
There's no USDC on devnet at this time. You should be able to use any spl token in its place
Does anyone know how to get USDC on Solana devnet or testnet? Looking to experiment with Solana Pay but can't figure out a way to get USDC there. Phantom doesn't seem to be able to trade tokens on those networks, and I can't find any documentation about how to get it on test networks
well not so much,
Is there maybe an example of a rust program(its code) and its specific test?
Each function is a test if that makes it easier
I feel like im reading Chinese every time i see so much code 🥲
Are you sure that's a token account?
I cant get non SOL balance. It returns an error Error: failed to get token account balance: Invalid param: not a Token account
    at Connection.getTokenAccountBalance (index.browser.esm.js?156f:5824:1)
I don't believe you need to
Lots of good example tests here https://github.com/solana-labs/solana-program-library/blob/master/token-swap/program/src/processor.rs#L1148-L6930
do you have a good source on how to write a unit test?
You can write unit tests and run them
<@!489206164270350337> Hey,
I wrote a program that send sol, is there a way to check it without using client side?
Ask in https://discord.gg/RDHwm3U7
Yes
if you `getBlock` on the slot, you can get the estimated timestamp https://docs.solana.com/developing/clients/jsonrpc-api#getblock
Are you seeing the tokens at all? They should show up at the very least. Not sure how phantom uses testnet
So it could be a number of things. It sounds like you are interacting with a contract without sending the account as a signer though
Doesn't look like there currently is a way. Was looking at https://docs.rs/solana-program-runtime/1.9.5/solana_program_runtime/invoke_context/struct.ComputeMeter.html, but there's nothing else close in invoke context
Hey! I'm trying to use octane with a contract I wrote. When octane simulates the transaction it gets "InstructionError: [ 0, 'PrivilegeEscalation' ]" error. However, it seems that if the fee payer is regular user of contract and octane isn't used, transaction passed just fine. Could you give me a few ideas where to look when debugging this problem?

Hi all, I have created and minted tokens on testnet with web3 and then also assigned metadata using metaplex to the token. If I import the correct seed phrase into Phantom wallet (ans switch to testnet) then shouldnt I be able to see the tokens and metadata in there automatically ?
Is there a way of getting the current CPI call depth in program?
Hello.  From slot, how do I calculate the timestamp?
is there any way of decoding instruction data using an anchor program client?
Does anyone using  solana-labs /wallet-adapter for React?
Hello,
Q: Do you need to create an associated token account when sumitting burn transaction? I'm wondering why burn transaction isn't working for some users, but working for others..
hi, can someone help me to understand why I get transaction creation failed?
I wrote a program that send sol
Is it related to mint?
Where  should i get this token account?
i am trying to understand how to get balance using getTokenAccountBalance.  so i have two tokens in my wallet, SOL and SOLB .I can get SOL balance but no luck with SOLB  as it follows with an error "Invalid param: not a Token account"
Hello ,
Java would be the last resort for me. If I can make it work in React Native it would be the best option
hey, is there a convention on how to filter out vote transactions? For example is it safe to assume if account_keys contains the voting program it is a voting transaction, are there any edge cases to look out for?
I'll let them know.
If you want help reverse engineering the transactions then I know some people who have done that, I can ask them if they can help you.
https://www.urbandictionary.com/define.php?term=bupkus
https://tenor.com/view/the-more-you-know-gif-10358303
Ah.
bupkus is a Yiddish word literally translated as "nothing"
Is that English?
Yes.
I think.
So the easter egg hunt will result in bumpkus
Yes, there are rust code examples there.
I would assume they are not too keen on people bypassing their frontend.
That being said, I know the program is written with anchor and some people have reverse-engineered it.
<@!912134116978352158>
howdy. is there any anchor example of spl token transfer program for deposit and withdrawal?
Did you check the Java SDKs listed in <#763249718339567626> ?
thanks! i did not know you had a cookbook, i think i should be able to work with Solana with the help of Rust, there are Rust code examples there
Did you ask in their Discord?
lovely
There is no one size fits all solution unfortunately.
You need to know the instruction/account layout to decode it.
Press Ctrl + Shift + I, you can see the network calls in the network tabs.
https://explorer.solana.com/?cluster=devnet
does this have an api ? I want to pull that data into JSON->csv
It should.
After freezing the account will the revoke instruction work to remove the delegate?
Hi , 
problem on test-validator
https://github.com/solana-labs/solana/issues/23004
i think i got the error gonna try it out first!
i was basically calling the next_account_info function twice directly in the invoke function that's why i think it was happening!
It is not unusual to have accounts in one cluster (i.e. devnet) while testing against another. It is always a good thing, if you see this error, to first check that your testing is aligned to the correct cluster and `solana balance ACCOUNT` or `solana account ACCOUNT` for a sanity check
Can you show some code?
why do i get an error that instruction references an unknown account eventhough the account is being passed properly into the program?
Follow the instructions in the PR itself about how to make inquiries. `token-list` is not supported here
Hi. I created a PR https://github.com/solana-labs/token-list/pull/17862 with an updated project logo. Such changes are approved manually. How long does it take to process the request?
gotcha thanks
There might be an implicit IntializeMint buried somewhere, we have no idea unless we see the program and the instructions.
a simple description would help answer the question. all anyone can tell you is yes, its possible that when you perform a CPI the program your calling makes other calls..  but that would seem obvious. Invoking it just calling another program. So it could be doing anything, if you dont know what your doing.
That is an incredibly broad question.
did not intend to delegate debugging to others and waste time
thanks
simple yes/no to this - i'm not invoking this - is there an implicit invoke InitializeMint somewhere? would've sufficed
i figured it out, messed up program accounts
you may want to describe what your actually doing.. what your calling, and the code itself in a gist or linked in some way if its more than several lines. saying your doing a CPI and getting errors is not very helpful or a useful description.
im not directly invoking InitalizeMint so i have no idea
Well are you using the right arguments?
i found that solana-transaction-status has references to this instruction in parsing methods but not sure if this is something that is run by runtime or what
i'm not invoking this - is there an implicit invoke InitializeMint somewhere?
hi! im trying to cpi another program and getting: 

Program TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA invoke [2]
Program log: Instruction: InitializeMint
Program log: Error: InvalidArgument
I see thank you!
I would suggest you brush up on async/await in JavaScript, and wrap the whole thing in an async function so you can use await.
The forEach will return without waiting for the async function to complete.
The problem is you are using an async function in a forEach call
Olay thank you for the clarification and the help!
That error means the RPC node that happened to recieve your transaction was behind by x slots so it couldn't run the transaction on the latest ledger state.
here ser https://gist.github.com/jensnowww/a10a9b6ddb69cb9dd17077b48161258f
And do you have any idea why I'm getting that error?
Yes, I would say that's the best way for that kind of error.
So you'd recommend just catching the error and retrying sending the tx?
Can you show some code?
Retry sending the tx.
I'm  adding createTransferInstruction and createAssociatedTokenInstruction to a transaction then I'm using phantom's signAndSendTransaction to actually commit the transaction. It works sometimes but not all the time, it's giving me the "No instruction provided"
I think Java has an SDK, check the solana cookbook.
You've provided zero context about your problem
Hi, how do you wait for instructions to be created before you trigger sign transactions. I'm getting error "No instructions provided" occasionally.  Any idea why?
Break it up into multiple transactions
are there any tips and tricks to reduce transaction size?  I'm trying to chain a bunch of instructions together, and coming up against `Error: Transaction too large: 1537 > 1232` errors
Hi guys! I'm trying to build a mobile wallet for my spl token. I'm using React Native and solana/spl-token library. I need to generate keypair from mnemonic, this is why I also use libraries bip39, bip32 and tiny-secp256k1. tiny-secp256k1 uses web assembly, which is not supported by react native, I found a polyfill, but it is lacking 70% of functionality, and thus doesn't help me. Please give an advice. Should I be able to work with React Native, or is it entirely not reccomended? Should it be possible to generate my mnemonic and keys via different libraries? Do you have support for flutter or native Swift and Java?
hello everyone!
anyone knows how to make swaps in testnet ?
Is there a reason why I'm seeing an `Error: failed to send transaction: Node is behind by 236 slots` error when signing a transaction? Is there any *good* way to handle this error?
Hi, does anyone know how much Serum charges on the back end for swaps? We're building a DEX and trying to figure out how to split the fees.
I will check that out. Thank you
That's a Phantom feature.  Ask their support
Hi, so every transaction i make, it gives me error saying that it  may fail to confirm, and auto refresh to the amount that it should be deducting. What would be the reason  behind it ?
thanks a lot
Thanks, will try this method
you can do it for any feeds listed here (USDT and USDC is listed) https://docs.chain.link/docs/solana/data-feeds-solana/
can I do that for other SPL tokens? Like USDT, USDC and etc.?
Hi, does anyone know how to extend program max-len due to program data too small?Could i use `solana program deploy --max-len 200000 <PROGRAM_FILEPATH>` to extend?
hi does anyone have tips on how to read/parse the data from the gettransactions endpoint

ie. how do I know one transaction is a cancel transaction vs a bid in an NFT marketplace
But i can't edit the token list now. As it rejects buy automerger
you need a market and/or coingeckoId in the token list
Sorry I'll edit it
Because you hog the whole chat with inline code instead of using a gist
Hi Team. I am in process of making a Solana wallet. But I am not sure how to make my wallet compatible with the Solana wallet adapter. I have checked their Github page but couldn't find any documentation to start. Can anybody help me with some sort of starting points or with some documentation?
Hi
Hello everyone!
Does anyone know how to add price to custom spl token?
or is that even impossible?
is there an example NFT that has royalties for the past few sellers of that NFT (not just creators?)
Hey everyone
Just wondering what happens if we don't specify "space" when creating an account. What happens here by default? Will the minimum for rent exemption be allocated automatically?
AFAIK you will need to implement your own batch method
or maybe here is a function you can take a look https://docs.phantom.app/integrating/sending-a-transaction#signing-multiple-transactions
you can take a look at https://discord.com/channels/428295358100013066/517163444747894795/917412508418068510
does anyone know if implementing serum collects fees when implementing a swapping page using serum-swap-ui?
hi qq - what's the best practice to find the entity/business associated with an accountKey from a transaction? ie. the addresses associated with Coinbase/Magiceden/ etc
Is there a way to batch requests using the javascript SDK?
I got the same reply while trying to decode output from getprogramdata.account.data. Have you managed to solve this issue?
Hi guys recently, I want to build a solana node, and I want to ask what platform most developers use. AWS?
can't see your code. here I give you a general view
a tx = some signatures + a message
a message = some instructions + blockhash

here are some functions you can use.
https://solana-labs.github.io/solana-web3.js/classes/Message.html#from
https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#from

and back you qn, if you just only have a random signature. I don't think you can recover it back to a message, it is just a signature.
thanks so much makes sense
actually a mint also has a field, `decimals`
so basically the amount contains a decimals
for examples, your mint's decimals is 3
if you mint 1 into this instruction, you will get 0.001 token after you execute the tx.
Not sure where you got the string. For decoding, here are some steps.
1. decode your string to bytes. (in your case you use base64 decode)
2.
if the string is a message, use 
https://solana-labs.github.io/solana-web3.js/classes/Message.html#from
if the string is a tx use
https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#from

for more about a tx https://docs.solana.com/developing/programming-model/transactions
how do you mint fractional spl tokens if `amount` type is `u64`?

```
pub fn mint_to(
    ...
    **amount**: u64
) -> Result<Instruction, ProgramError>
```
Is it possible to do better than +/- 400 milliseconds from slot time?
What's a rough confidence interval for timestamps that come from the Solana program clock `unix_timestamp`?
you can easily query the Chainlink SOL/USD on-chain price feed using this 'read-data.js' script in your front-end. This is a better solution that relying on an API like coingeko, which is prone to being manipulated, going offline etc https://github.com/smartcontractkit/solana-starter-kit#running-the-read-only-client
why would this not be caught during preflight?
https://solanacookbook.com/guides/data-migration.html
Nevermind, I was actually able to do it by sending it to Solflare and deleting it within the wallet
Hey everyone, I started to get some `Transaction was not confirmed in 60.01 seconds.` messages today when attempting to sendTransaction through my website.  There were a few times the transaction went through, but then other times it didn't.  Anyone know what's going on with this?
Oh another question 😂 . When a program is already deployed to mainnet, is there a safe way to add new properties to an account struct ? For example say I'm saving "total_cost" on an account data. What if i wanted to just add a new one such as "total_expenses" ?

From what I see, it somehow breaks the program. Anyone with enough experience with this? Thanks thanks again
for demo purposes
I created it on Dev net but now I need to show investors and want a clean photo
Is there a way I can remove a created NFT on Metaplex?
Thank you for sharing. This gave me an idea on how to solve my problem.
Thank u ❤️
will keep waiting
I was there my friend, nobody did answer (
<#937905165074300999>
Gm Everyone!

I want to ask if somebody is familiar with GLB format minting process through the candy-machine
just a little walk-through would help a lot
as I didn't find any documentation on it
Generally the output from a transaction is reflected in one or more on-chain accounts, which are readable over RPC after the transaction is confirmed.
Is there a method available? or do I have to implement it myself? if so , can somebody please give me an example
Hi , I'm trying to get Stake pool account names like Everstake's stakesolana.app , I have retrieved an array of stake pool accounts using getProgramAccounts("programid") , but so far , I haven't been able to find a method in the library to get the account data from the uint8buffer
Heey Solana farm. Another quick question please. Is it possible to get output from a transaction? Say I wanted to perform a calculation on a smart contract and get the result. Is there a way? Thanks thanks.
Thank you, was thinking about PDAs as well, cheers.
Utilize PDAs to derive the accounts from user's publicKeys
many small accounts
Hello Veterans. What do you think is right way to implement followong scenario : in bettig app should I create one big Vec account that will store all users snd their tickets? or many small accounts for each user.
Many thanks
Regardless, Jacob and Lisen, thank you very much!
This worked.... dam, what was my issue with the public key generation....
Especially with 4 days
If you're looking to setup your own node from scratch, I'd visit <#837340113067049050> and read history on how to setup a node. Not entirely on what is out there resource-wise on personal setup. Likely you should work with the many private rpc providers
Ok, thanks. And one last question (I promise).. is there a Github repo that will help us achieve this quickly as we are 4 days away from our intended launch date 🙃
Our public infrastructure is dwarfed in comparison to the competitors. It is also highly rate limited, meant for testing purposes only really
I would get your own rpc node
Is there a way to get whitelisted instead? I heard that might be possible via people that we talk soltech within Clubhouse and have been meeting with your core team.
If you're worried about this, you should run your own rpc node from scratch
close
Awesome, thanks!
This is a walkthrough of what you want. This works. Please try it and read the references
Not my SOL... the devil already owns it....
https://gist.github.com/jacobcreech/590ea915247c3becea988a324a12c154
But all I need for the "to" address is a public key, right?
it creates a publicKey.  its not a keypair. that line alone should now be throwing an error. it should work fine by itself.
Need a :groundhog:
Sorry Lisen, I am still confused on this line.
we did this yesterday no?
Hi, how to sign a transaction with web3js in the format : {feePayer, instructions, nonceInfo, recentBlockhash, signatures}
Thank you for the response. One quick question, are there any security implications when running a RPC server/validator via a third party?
Any idea what else I could be doing wrong with this line  var to = new web3.PublicKey("7PmSLzu8pRw7KWWCGPb84vHfDw9LH6wNApwe1cTYoCbp"); <@!489206164270350337> ? Cheers.
The errors are within web3/solanas index.cjs library
Where: 7PmSLzu8pRw7KWWCGPb84vHfDw9LH6wNApwe1cTYoCbp is my phantom wallet address.
Those are two different lines of code. Something else is wrong
Get your own rpc. GenesysGo, Triton, Quicknode, etc
I am trying to do so with this block of code:
`
 var to = new web3.PublicKey("7PmSLzu8pRw7KWWCGPb84vHfDw9LH6wNApwe1cTYoCbp");
`
But get:
`
   const pubkeySorting = x.pubkey.toBase58().localeCompare(y.pubkey.toBase58());
                                     ^

TypeError: Cannot read properties of undefined (reading 'toBase58')
`
Still seeking info about this if possible plz
Just take the base58 string, pass it to your server, and set it as `new PublicKey("STRING")`
A public key is a valid to address?
Thanks a lot ! I appreciate the help 🤎
Sorry yeah duh... rather a valid "to" address.
100k * 10^9
No. Of course not. If you could generate a keypair from a public key, you could steal everyone's SOL
I know, but I don’t think I can generate it from a wallets public address, is this true?
Hey thanks for sharing. So let's say a token of 9 decimals. If i want to fund 100k tokens, i'd have to fund 100,000 * 1,000,000 ? 

So confusing lol.
I gave you the link on how to get the keypair from mnemonic, base58 secret, etc. Please look at the references
One moment, I will find the issue I am encountering, thanks for the reply’s.
The issue I am running into is generating a keypair from my phantom wallet address
Seems all standard
So you have a server with a centralized wallet. You pass the request with a public key. You want to send that public key SOL from the server. What's the problem?
I am still testing wether this is possible or not, has anyone implemented something similar before?
Thanks, Jacob. The setup I want is having a centralised wallet with its private key stored on a proxy server, where I pass the public solana wallet address in the request body. The issue is I don’t think I’m generating the right “to” address from the wallet address in the request body.
https://solanacookbook.com/references/keypairs-and-wallets.html#getting-keypair-from-a-secret
What is tripping me up specifically, is the to address, I am trying to generate a valid keypair from my phantom address, but it keeps failing.
What are you having trouble with?
Hello, I was wondering if anyone has any experience sending solana transaction on  a back end node js server from a solana keypair generated from a private key to a wallet like phantom? Thanks.
You passed a million = 10^6, but you need 10^9 if you want to wind up with a whole token (since you used 9 decimal places).
plz ser, we are not grading your posts.  no need to double-space.  spare the chat
So you actually transfer the lowest denomination. For example, when transferring SOL tokens, you transfer lamports as the denomination in web3.js. So `1000000000` Lamports = 1 SOL
hey fam. how's it going? 

Quick question please. Would love to get some understanding.

I minted a token with 9 decimal places. Called Token transfer function on the Nodejs library and passed 1,000,000. It ended up transferring less than 1 token. 

Okay is this because of my complete ignorance of how decimals and tokens work ? 😅

Or am I supposed to do something differently ? Any help would be really appreciated. Thanks thanks !
Takes a bit more, yes
thanks, ill try it and when it isnt enough for me ill consider running my own, is it hard to run own rpc?
Best is very subjective. There's quicknode, genesysgo, triton, etc
the one from figment?
Or use a test validator and drop yourself 1,000 SOL
no problem
Y i suppose i will, thank you once again!
consider switching to devnet
weird, for me on devnet 2 is max
Aha thanks everyone, even 2 is a lot, 1 passed!
yes, 2 is max imo
try 2
Trying 10 still a lot?
try less sol
Hello guys i am trying to request airdrop thru solana cli on Testnet and i am getting this message:  Balance unchanged. And my balance is really unchanged. Some help please
<@!489206164270350337> I got what I needed out of the example you linked me. I wasn't taking the serialization into account, but now that I know I'm dealing with serde `Values` I can get what I need no sweat 👍
DataHub
whats the best provider for private rpc?
any good web designers or devs out there dm me please
Even in open source world there are official things (e.g. https://github.com/ethereum/go-ethereum) but I get what you mean 🙂 thanks for the pointer!
This is an open source world. No real unofficial or official things
Officially the one we worked with the developer on
Unofficial though, yeah?
https://github.com/gagliardetto/solana-go is the one right now
Hi all, wondering if there's an official solana golang sdk floating around? Or only unofficial for now?
You can get them by using `getSignaturesForAddress` and parsing the transaction history https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
Another question: can a custom NFT "know" its owner? Like keep a running record of all the past owners?
Thanks!!! This was what I was looking for!
Programs can interact via CPI https://solanacookbook.com/references/programs.html#how-to-do-cross-program-invocation
Here's what happens when a program is deployed https://jstarry.notion.site/Program-deploys-29780c48794c47308d5f138074dd9838
Yes
by app do you mean program?
Can someone point me to docs or something that explains the life cycle of an app? After it's deployed how does it get instantiated? How long can it operate for? Can one app instance talk to another? What happens if it runs out of funds/lamports? Does it stop?
Thanks <@!489206164270350337>, lots to chew over 🙂
Here's an example of iterating through those accounts and getting the data in the rust cli https://github.com/solana-labs/solana-program-library/blob/6d62ea6cc7300bf58e756c305b313f5f33d39631/token/cli/src/sort.rs#L28
in Rust, and `RpcKeyedAccount` is the rpc response struct from `solana-client` that gets returned from `get_token_accounts_by_owner()`
What is `RpcKeyedAccount`? And are you doing on the Rust side or js?
I thought I knew how to print data from structs until I started working with Solana. Yikes.

So .. How do you refer to _just_ the "mint" String that's in a ParsedAccount object? I can get the entirety of the token account data with either `get_token_accounts_by_owner()` or iterating over an unwrapped clone .. but what if I just want a single value out of the ~~nested struct~~ account data? How to go from a `Result<Vec<RpcKeyedAccount>>` to something I can `println!()` ?
Sorry but I am not going to teach anyone how to circumvent the rate limits


///////////////////////////////////////////////////////////////////////////////////////////////

