so far it's been a struggle but kind of fun - I just didn't know if it was worth it or not b/c yeah - I would rather run it all locally
```
/**
 * Borsh schema definition for greeting accounts
 */
export const SampleSchema = new Map([
  [
    SampleAccount,
    {
      kind: 'struct',
      fields: [
        ['creator', 'u8;32'], // what type to put? is this correct?
      ],
    },
  ],
])
```
Hi all, on the JS/TS side, how should I put thee type for a PublicKey? Is this correct?
I was able to compile the metaplex programs and deploy to localnet - and am replacing the program ids etc.  but getting a weird error --
Oh ok - so I'm trying to use web3 and also metaplex's javascript sdk --
I solved it, by accessing the `accounts` param
I only use localnet ü§î Lol
What's your question on getting it working?
totally worth it
Ok - just got an answer from a solana developer (not like an official one or anythign) that localnet isn't worth it
For anyone reading this, it looks like I can download and install a prebuilt binary to a path myself...

https://github.com/solana-labs/solana/blob/22a18a68e3ee68ae013d647e62e12128433d7230/docs/src/cli/install-solana-cli-tools.md#linux
Hi. Is there currently any way for a user to sign a web3 transaction from a mobile phone? for example, buy an NFT but without using a browser extension?
I'm trying to set up a development Docker container with Solana already installed for my team, and want to install it into `/usr/local/solana`. I'm struggling to figure out the right arguments to pass into `https://release.solana.com/v1.8.6/install` to do that though.

Anyone installed Solana to a custom path or able to find the code where the installer determines where to install it?
does anyone run <@839088888449466409>/web3.js on localnet?
TYVM
Check this out https://solanacookbook.com/recipes/keypairs-and-wallets.html#getting-keypair-from-a-secret
Hi, how can i convert my Solana private key to a Uint8 array?
Also I tried the slot hashes sysvar just to see what would happen and I get this: Error processing Instruction 0: Unsupported sysvar
https://pastebin.com/g7NHfTSS
Could you share a gist of the working example?
<@!831450660146642974> Ok I got your example working now. Amazing! Thanks so much.
i guess i am using the correct pubkey, because it works in the typescript client, but not in Rust client version.
what are the possible reason that would throw "transaction signature verification failure"?
thank you
That's it. Causes compute units to run out
let recent_blockhashes_sysvar_info = next_account_info(account_info_iter)?;
        let recent_blockhashes = RecentBlockhashes::from_account_info(&recent_blockhashes_sysvar_info)?;

        let blockhash = &recent_blockhashes[0].blockhash.to_bytes();
It's only when adding the code for getting the blockhash
That's a separate issue then
This code example apparently gets around that, but I'm not able to compile this, something is missing
That'll be my answer next time üëç
This compiles. But I get: Program consumed 200000 of 200000 compute units
The correct answer to how to `uint256` on Solana is "don't".  The stupid won't stop without everyone's help
Depending on the type, Rust already has them https://doc.rust-lang.org/std/primitive.u64.html
Atleast for math, I think it's built-in
or is that built in ?
hey what is the rust/solana equivalent of safe math functions to prevent underflow/overflows
Yep, optimizations aplenty
got it! I think here not necessarily every integer vars has to be type casted as `uint256`, which is really good here from low level point of view.
Discord is a client ü§∑
hm. ok
But there is another library that compiles all the code with rust. But Im not sure tbh
You can create clients with javascript, not programs
Discord is written with electron
I don't think there are any libraries in javascript that can write programs today
Thanks btw
Ok. I got it. But there's also some libraries of javascript that can let me write programs. Sure, not as fast as could be written with rust.
I think there's an effort going to do it with Python in anchor-py.
If you want to write programs, Rust is the most supported/used. You can also use C
Only if you are writing a Program... clients can be Rust or TS/JS, Python, etc.
Look at <#763249718339567626> under SDK section
Cookbook has a bunch of reference documentation
Does 100% required to know rust to code with Solana?
ok, thanks. but no actual reference documentation it seems.
Otherwise just head to the source https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js
There's a bunch of references here https://solanacookbook.com/recipes/token.html
is there any documentation on the javascript spl-token package?
Possible Solidity has some unique stuff
Note: not guaranteed that all types from Solidity can be converted 1:1
You can try this https://docs.rs/num256/0.1.3/i686-pc-windows-msvc/num256/uint256/struct.Uint256.html
how to define a uint256 from Solidity for Solana programs in rust?
Yeah you're working with a `RecentBlockhashes` there, not a `SharedAccountInfo`
Ah, you've already done the deserializing part then, you can just do `recent_blockhashes[0]` etc.
And this is how I get recent_blockhashes:

        let recent_blockhashes_sysvar_info = next_account_info(account_info_iter)?;
        let recent_blockhashes = RecentBlockhashes::from_account_info(&recent_blockhashes_sysvar_info)?;
let bytes = recent_blockhashes.try_borrow_data()?;
   |                                        ^^^^^^^^^^^^^^^ method not found in `RecentBlockhashes`
What goes wrong specifically?
Please does someone have a working example of how to get the last blockhash from within a program. I can't get this example to work for me.
cheers ser
I believe Serum has a sdk you can use. I would check in their discord https://discord.gg/XvJXnVeZ
<@!489206164270350337>
correct ser
So you want to interact with serum and place buy/sell orders?
I'm hearing a bunch of chatter saying that txns are failing and RPCs are behind
but like specifically to place buy/sell orders
Is the network under crazy stress right now or what?
no i know there is forks
Are you asking if there are any forks of Serum?
fk im gunna get booted for my .sol arnt i
but nothing for serum directly
ive seen some mango order placing forks
is there any forks for serum for order placing ? Ive only come across fetching book and general market quotes
hola frens
i assume code would be something like this 
mint_acc = match Mint::unpack(&mint_account.try_borrow_data()?) {
Ok(e) => e,
Err(error) => return Err(error);
}
cool, will give it ago. Thanks!
`remainingAccounts: [...]` (probably easiest to search the anchor repo for examples)
is there an example somewhere? I tried 'optional' in achor repo but didn't find anything
alright, how do I even pass optiona accounts to anchor syntax wise?
argh
At any rate, no way around this annoyance üòõ
It's true that anchor doesn't have good support for optional accounts though, yeah.
Isn't the logic on the front end just some calls to `findProgramAddress`?
I was thinking how to explain this most succintly, I guess the best way is: 

I have a vault account that accepts tokens for deposit.
For certain tokens, and depending on vault settings, I might do additional verification before accepting them. That can incur anywhere from 0 to 3 additional checks.
For each check I'd need to pass in an extra optional account.

So that's 3 optional accounts to prepare by the front-end, which leads to 2 problems:
1. a ton of complicated logic on the front end
2. I gather anchor doesn't like optional accounts
Maybe to clear up a confusion: you don't *create* program-derived addresses, you *find* them (they exist no matter what‚Äîit's only the *account* that might live there that you need to create)
bump !
Why don't you want to pass it in?
god dammit
That should be solana's motto
Ah, you need to pass the account in no matter what üòõ
but to get accountinfo I still need to pass it right?
No, owner lives on the raw `AccountInfo`
I was hoping to avoid doing that - I really don't want to pass the account in
oh but hold on - if I need to check the owner, then I still need to deserialize it?
that's perfect! 

just one other thing to make sure: I'm thining of using PDA's existence as a proof of something. Then during one of the ix execution I'd like to verify that proof by checking the PDA exists.

am I correct that there's no way to create a PDA owned by a given program without that program explicitly doing it?
You could check who its owner is/whether it has lamports in there (if the owner is anything other than the system program then it has already been initialized)
`pow` is supported for ints, it just proxies to `powi` for ints or `powf` for floats (i think)
ok ok, what if I only wanted to check if it exists rather than fully deserializing it?
you have to pass an account in to the program to be able to access and deserialize it yes.
Nope, always have to pass in any account you want to use
probably a stupid question, but here it goes... there's no way to deserialize a PDA inside a program without passing it in as an account, is there?
not yet..  would be a good add though!
Even i set skipPreflight as true, Phantom can still give me a preview result...
Hello guys. It is possible to close the token account using json rpc api?
Is there a cookbook or pow wow that goes over all these solana exponential types?
One nice thing about it is that it lets e.g. your phantom wallet give you a preview of what you're about to agree to (how much money you're about to transfer, etc.)
so `pow` not supported either?
Could someone tell me what is the purpose of preflight ? to prevent failed transactions broadcasted on chain ? And how developers should decide on the skipPreflight value ?
So that means Instead of using the? Operator, I need to check for the error
Is it possible to send an NFT from my wallet to another wallet using a command or an API?
OK thanks
<@489206164270350337> any chance you have an example for getting the most recent block hash in program
No, trying to deserialize will return a `Result` type in rust, which tells you if it succeeded or not (you can then react accordingly)
That's Great. And we have to also refill the account with lamports for the newly added **10k bytes** to keep it rent-exempt, I assume.
It shouldn't be turned on yet. It's in master, but not in 1.8
I'm not familiar with Rust so I'm not sure if failing means it'll cause the transaction to fail
Oh, is that already turned on? For some reason I thought it didn't actually work yet‚Äîwould be cool if it does! üëÄ
solana account data can be resized, by 10k per transaction. See `MAX_PERMITTED_DATA_INCREASE` in the source code.
Hello everyone hope everyone's doing well!
So now i have a question about displaying nfts on my site. I do have an idea on how to get the token accounts of the user and we would have our database for token addresses as well! 
How would i go about doing that?
Also once displayed on site i want the user to be able to burn those tokens i know on how to burn but one thing that I'm stuck at is how can get the address of the token that user is wanting to burn! They select that token but how can i check for it's address?
What have you tried so far?
How do you check whether the deserialization failed?
can also reference this:
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L511
I would first check the owner as <@!134416332509675520> üëÜ mentions before attempting deserialization. And, if you know the owner then you know what the account data layout is.
Yep. And make sure you verify that the owner of the account really is the spl token program!
so the simplest check would be to see if deserialization succeeds or not ?
hmm was doing this in pure solana
Mints and token accounts are totally different in memory so only one attempted deserialization will work.
Are you doing this in pure solana, or in anchor? In general you would have to try to deserialize the account's data as one or the other (or both), using helper functions from the spl library.
for example i was trying to include a check in the escrow program to differentiate between a token account and mint account
what is the best way to check if a deserialized u8 into a struct, contains a specific field or not
hello. What is the best practice for connecting to the network for running dapp transactions? I'm currently connecting to https://api.mainnet-beta.solana.com/ as per the documentation but I keep getting "node is behind" and "transaction was not confirmed in 30.0s" errors. Are there other endpoints I should use? I've heard about paid RPC endpoints but I don't know if that's the best approach or even where to find them...! Thank you.
After adding this in, I still get the same compile error. ^^^^^^^^^^^^^^^ method not found in `RecentBlockhashes`

Can you please show me what you have beforehand to get the recent_blockhashes object?
Do you have sample code for this?
So if you are not using RecentBlockhashes - what is the recent_blockhashes object?
ye you hav to unpack it
<@!831450660146642974> I don't know trying to get it to compile first! üôÇ
or does that work for you on devnet/mainnet?
the account is too big, i think.
this was causing issue for me
not using `RecentBlockhashes::from_account_info(&recent_blockhashes_sysvar_info)?;`
sorry edited, i import the anchor lang prelude
can change data in the account meaning program ‚Äústate‚Äù accounts dont need to be pdas just owned by the program
OK thanks, trying to figure this out...

        let recent_blockhashes_sysvar_info = next_account_info(account_info_iter)?;
        let recent_blockhashes = RecentBlockhashes::from_account_info(&recent_blockhashes_sysvar_info)?;

        let bytes = recent_blockhashes.try_borrow_data()?;

Compile error:  ^^^^^^^^^^^^^^^ method not found in `RecentBlockhashes`
good news appears to be it doesnt actually affect anything. maybe some poor reference material is all..
Agreed
yea it was a convo above. appears there is code that is unnecessary, as <@!248066053161222144> pointed out, but appears to be sprinkled here and there. i discovered its not actually referenced internally it seems, so any calls passing it at the end it just gets ignored.  program Id is important at pass in and top level, but in these cases, not necessary to pass inside the program during an invoke.
not sure what that has to do with 1155, 
Metaplex just wraps SPL with metadata and functions, 
and staking is just a design for storing assets from an account in another account
so sure.. you could stake with some thought im sure
https://solscan.io/tx/4uq95g4s9kAqUpNVeiXRvv5Riv6GnwRKg77bHLT5LJS6eYwtzw2fBxgxJswkr2nY3hYHY9u1hSZBxddFwDpEf7Y9?cluster=devnet
Runs and executes fine
This works without the program, as it is already passed in on the instruction
<@!785084693023424542> https://github.com/solana-dev-adv/solana-cookbook/pull/80
Some people have done this I believe, but I am unaware of any open source code for it
does it seem feasible?
I want to implement staking in a program using metaplex tokens
Yes, it is still necessary to be passed in at the top level
why are u trying to implement something like erc1155?
Thanks I'll try again. cant get past their verification bot for some reason ü§£
I believe there's a way to do this, probably listed under the docs https://docs.metaplex.com/ We don't support metaplex unfortunately, so you can ask in the metaplex discord https://discord.gg/tk9rhbE8
maybe update authority can work in my use case?
I want to keep track of a set of metaplex tokens minted for a collection but it seems each mint is basically unique token with supply of 1 and not like an erc1155 in solidity.
go to bed <@!785084693023424542>
mint account holds the supply, has an authority to 'mint' tokens.  spl-token creae-token actually creates a mint account.   a token account, is created passing a mint, so the token account is of that type of mint, and can hold a balance, and hold the actual coins minted, by the mint.    the mint is like the money press and you hold the dollars in your dollars token account.
sorry if asked before, could someone explain difference between mint account and token account for spl-tokens?
yea they would pass tests because everywhere its used its probably not referenced. not sure on the overhead or any other magic there.. not sure if it was ever used explicitly inside any of the calls. easter egg hunt for anyone who wants to find accounts invoked in the wrong order that still pass the test cases üôÇ it seems it may just be a case of some examples or not frequently used programs just included accounts incorrectly. appears to have been done for other cases and programs for system or others as well. does not appear to be linked to anything affecting runtime or SPL programs themselves. Unless you see something different.
Hello again, guys!

I wrote this message earlier this day, but I didn't received an answer, so I will try to ask once again -  
Often, after sending a transaction, I receive a signature that does not exist on the blockchain (it cannot be found at https://explorer.solana.com/). 
When can this happen? 
Could this be due to the large number of transactions being sent? 
And how can this be avoided?
but the account is still necessary in the instruction at the top, isn't it?
the trait allows deserializing the entier account, but that doesn't please compute units
that is how i hackily did it
<@!483890519924277261> 
```
use anchor_lang::prelude::*;

    let bytes = recent_blockhashes.try_borrow_data()?;
    let mut entry_length = [0u8; 8];
    entry_length.copy_from_slice(&bytes[0..8]);
    if u64::from_le_bytes(entry_length) == 0 {
        // Unreachable, but unhandled we never know
        return Err(ProgramError::InvalidAccountData);
    }
    let mut last_blockhash = [0u8; 32];
    last_blockhash.copy_from_slice(&bytes[8..(8 + 32)]);
```
It's not just any account, it's the program!
<https://github.com/project-serum/anchor/pull/1123>
Can someone please give me an example of how to get the most recent slot hash or block hash from the sysvar. I know how to get the Sysvar Object by passing it to the instruction, but after that I'm really confused.

https://docs.rs/solana-program/1.8.6/solana_program/slot_hashes/struct.SlotHashes.html
https://docs.rs/solana-program/1.8.6/solana_program/sysvar/recent_blockhashes/struct.RecentBlockhashes.html
much more advanced that the simple anchor chat
https://github.com/Bonfida/jabber
if i use the exponent method `::pow` in rust won't I get an overflow?
Pika pi! üëç
I think bonfida also has an on-chain chat
https://github.com/project-serum/anchor/blob/master/tests/chat/programs/chat/src/lib.rs
then
Technically we can't predict number but we are thinking of limiting number of 50 messages per account interacting with smart contract
heh it looks like its not necessary.. thing is with an account especially, if its toward the end and it is not referenced it just doesnt get used. perhaps code that was never utilized. ripvanwinkled.
the client is but not the program itself
is there any walthrough or detailed docs for using that api similar to solana/web.js?
or can previous messages be erased?
infinite message storage?
Yes. https://docs.solana.com/developing/clients/rust-api
I have deployed program, can i interact with it using rust, instead of using typescript?
That seems to be the only recipe where clicking on show full code does not work. Seems there's a missing file. Anyway, trying to figure out where they imported decodeUTF8 from
<@!639493393512398869>  <@!712412210814779454>  can you help here please?
üôÑ
Hello Solana Community,a program which will allow users to chat,

As solana account storage can't grow dynamically,

How this should be tackled??
Have you read up on program-derived addresses yet? They're a funny type of address in solana that is designed so that their deriving program can sign for them, but no one/nothing else can. "Signer seeds" are solana's way of accomplishing this (with `invoke_signed`)
what are signer seeds??
can any one point to resources for writing solana program tests in solana and what all sdk solana provides in order to do so any refrence implementations or guides /articles will suffice.
hello. What is the best practice for connecting my dapp? I'm currently connecting to https://api.mainnet-beta.solana.com as per the documentation but I keep getting "node is behind" and "transaction was not confirmed in 30.0s" errors. Are there other endpoints I should use? I've heard about paid RPC endpoints but I don't know if that's the best approach or even where to find them...! Thank you.
ya you are right i mean the way it was calculated was done manually no ? by summing up the sizes of each field , was just asking for future use cases if i ever wanna find out the size of a struct.
I know, but isn‚Äôt the rpc call getting this information from the blockchain anyways?
you cannot since rust has no rpc access
Sorry, for the magic 165? That's defined as a constant in the link I sent you above (don't need to manually calculate it yourself if that's what you're asking about?)
hmm so manually looking at the fields in the struct  been the most accurate way so far.
Given a token account, how can one get the largest account holding that token **in rust program code, not on solscan/solana explorer**?
Ah, yeah, basically just by source-diving
We can't do exponents in solana programs?
no implementation for `{float} ^ i64` ?
was just curious üò¶ if there is a way to get to this magic number accurately üò¶
Hello,
Is that possible to read contract values without calling an instruction through transaction like in EVM?  (example : https://etherscan.io/token/0xdac17f958d2ee523a2206206994597c13d831ec7#readContract) Didn't find a documentation about it :/
The only time you need to know that magic 165 is when creating an account that will hold a token account (and yeah, then you have to get it exactly right, otherwise the token program will complain)
Actually, maybe I misunderstood your question‚Äîwhy are you manually deserializing? Definitely can just use helper functions exposed by the spl library for this ü§î
Honestly, I doubt there are any docs about this, you'll just have to learn by source-diving ü§ø
it still needs to be part of the larger transaction that is calling the CPI
it doesn't actually change much whether or not you include it in the account list
i still don't understand why it matters that much to you
<@!785084693023424542>  if the invoke changed what would be my best bet to find relevant documentation on it ?
i was manually serializing and deserializing using array_refs so what would be my best bet to get accurate sizes of structs to pass in the pack trait LEN variable ?
this is super weird!
program doesn't need to be part of the account list
so i actually tried this out in a test. I removed `token_program_info.clone()` from the account list and the CPI works fine
Following on, that particular size, 165, is set here: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L124
Hi guys!
I'm new to the solana development space, and i'm trying to load a snapshot; but i'm unsure of how to retrieve the epoch schedule in *load_from_snapshot*
How do i get the epoch schedule prior to loading the snapshot?

could anyone be kind enough to guide me through it? Thanks!
In general, no, because it depends on the serialization you're using.
Hello, guys!
Can I ask a question - often, after sending a transaction, I receive a signature that does not exist on the blockchain (it cannot be found at https://explorer.solana.com/). 
When can this happen? 
Could this be due to the large number of transactions being sent? 
And how can this be avoided?
the reason seems to be padding if so is there a way to get the size needed for a struct accurately ignoring the padding, this is needed to pass the accurate size to system_program in the space paramteter
any idea why is this so ?
can i use size_of::<type>() to accurately get the size of the struct i am creating ? because i tried using it with the token account struct and it returned 175 size where is the token account struct as per the docs is of size 165
i was thinking the same thing , which is why this makes me even more confused , https://solanacookbook.com/recipes/programs.html#how-to-do-cross-program-invocation.
Someone broke the solana token list JSON.
Here is a fix: https://github.com/solana-labs/token-list/pull/6666
You will have to say which tutorial you are following or what you are trying to accomplish. If you want the account to be owned by the program on behalf of user then you need a PDA. Depending on amount of data you want to write, you will also need to top it with rent.
Hey, i used to start `solana-test-validator` inside docker container based from `solanalabs/solana:v1.7.14`, but now i'm started to get:
```
solana-test-validator
Validator process aborted. The validator log may contain further details
```

No details, no logs, nothing to to start debugging. What could be changed?
Hey I am new to Solana and programming in general I am following the figment learn guide to get Solana set up on Windows and I am having problems. Is there a video with a step by step process?
the custom program we code won't own the user's account (system program owns it) though, so it seems like devs make the program create a new account on behalf of the user owned by the program itself that it can persist data to, and later read from
Hello devs! I'm a novice at solana contracts and have some stupid questions üôÇ I want to create a simple staking contract but can't imagine how to increase a reward counter per each user and change APY? Because program can manipulate with pda only when user create some instructions and interacte with program?
When the users will work with real money ie on mainnet, they will reuse their accounts. It is up to you if you want or need to store that information in your server database - can‚Äôt say really as I don‚Äôt know your scenario.
In most tutorials i usually see client generating random keypairs and calling a program with it and program creates the account, but how do we reuse that account next time after user refreshes the webpage if client doesn't save it anywhere?

Is there an API the client can use to fetch all program accounts owned by the client's local wallet pubkey? So that it can pass in the same account pubkey and program can read/write to the same data store
Thank's for your patience.
you just modify the code, if necessary, based on your goal or desired outcome. its a starting point.
transactions run independently of each-other. instructions within a transaction depend on each other to all succeed or they all fail and the transaction fails.
at a glance if its this code exactly, its a prayer loop, and assumes everything works. if it fails, it will probably fail at whatever transaction fails, the function may blow up or halt execution. as its not parallel its calling synchronously. the transactions that have been sent and dont fail continue, anything at failure and beyond does not. no error handling, or retries. this is probably example code.
Thanks for your reply. I mean send multiple transactions in an loop, you can reference this: https://github.com/project-serum/anchor/blob/0f8de4f6af21c63df12f1ef5d59ca1b34fac6746/ts/src/provider.ts#L130
not sure what you mean. sendAndConfirmRawTransaction only sends 1 transaction, but it could contain multiple instructions, if any of them fail, the transactions fails, and those changes would not take place, all the instructions get executed in order atomically and if anything fails it all fails
https://docs.metaplex.com/
and metaplex discord.  
there are a lot of tools and repos now for candymachine related functions based on your need. try looking at the metaplex discord links as well for candymachine and related resources. search on how to get all the NFTs for a wallet or candymachine id
right, account, so for example -> if your calling a token program related function, you pass from the client into the program, the token program id (public key) into the accounts array, and in the process function (entry) you read the account from the array: 
`let token_program_info = next_account_info(account_info_iter)?; ` 
then when you call your invoke, along with any other accounts, you pass your token_program_info (account).

`invoke(
        &instruction,
        &[
            account_info.clone(),
            mint.clone(),
            authority.clone(),            
            token_program_info.clone(),
        ],
    )?;`
I did research but don‚Äôt found the answer, i know how to get all token of an wallet account but not for a candymachine. if anyone can just guide me, ty
Hi, guys, when I send multiple transactions at once using `sendAndConfirmRawTransaction`, when the former transactions failed, what happened to the latter transactions, would it fail or have the chance to succeed any way ?
Also this also reiterates that a account address matching the program Id passed in the accounts array should be present.

Does the invoke function require that the program_id whose instruction am trying to call , is one of the accounts in the array of accounts, or simply the program_id in the instruction is enough for it to call that program ?
https://explorer.solana.com/ the explorer looks down
What do you mean by mutate
the tutorials? Yea those are great. They don't cover tokens at all, unfortunately
ah then checkout the exmamples folder. the programs there are much more concise
could mutate it i think
<@!385692658317918208>  Is that normal? I'm new to writing for the blockchain and I figured it'd be simpler to have a simple/secure transfer of goods process.
just found it. The escrow example is massive.
checkout the examples under tests/ in the anchor repo
Is there some sort of simple escrow process?
any super simple examples out there?
safely, of course
I'm a relative beginner. I'm building out a program and I would like a very simple example of how to sell a token.
Not actually sure. Going to have to revisit a few of the spl-governance walkthroughs to figure out treasury
Or is that like there's an "authority" and it's just removed?
Is this how DAOs work in the end game, when it takes over from whoever created it?
I believe you can do that, but whether or not the program can do anything with it is a different story
You are correct with your impl
https://solanacookbook.com/recipes/programs.html#how-to-get-clock-in-a-program
If I'm measuring time, should I use `solana_program::clock::UnixTimestamp;` How would I get current time?
can ownership of any account be xferred to programs?
good observation
thanks!
In the solana SDK: <https://docs.solana.com/developing/clients/rust-api>
where can I see what data types Solana uses on-chain?
https://solanacookbook.com/recipes/token.html#mint-token
Relevant code is: ```let attack_damage = player_metadata.curr_stats.attack * cur_move.stats_modifier.attack;
    let attack_damage_rounded = attack_damage.floor();
    if attack_damage_rounded <= opponent_metadata.curr_stats.health {
        new_stats.health -= attack_damage_rounded;
    } else {
        new_stats.health = 0.0;
    }``` with all variables being an f32.
I'm seeing the following error when attempting to use the .round() or .floor language intrinsics for Rust.
```Program failed to complete: ELF error: Unresolved symbol (floorf) at instruction #3036 (ELF file offset 0x5df8)```
I'm building with Anchor if that matters, but I wouldn't expect that to cause this weird linking issue.
https://github.com/solana-labs/solana-program-library/blob/master/token/js/examples/create_mint_and_transfer_tokens.js

Is there an example of how to mint to my phantom wallet instead of a randomly made account
Thanks all, I am clicking the link for the trx from my FTX.US account web site, so it is their system that is selecting the network. I also sent 1.0 SOL to the same wallet an hour earlier, and it got there. The audit trail is showing the same wallet address as the target, so I have good docs. I do have a ticket in. Very odd thing was that when I sent the first 1.0 SOL, it hung in PROCESSING status for half an hour, and showed a trx id, and then half an hour later, it showed a new ID and said complete, and that id was good. I know this is going on, but I do think they have a problem. I feel safe because if they are showing complete  and the tx id that goes with it is a file not found, then they have that issue. I would suggest that no-on withdraw SOL right now. Now day two, and no reply from FTX support. This was a simple send of 1.9 SOL to a wallet that was used and hour earlier, and FTX is onfirming, but they have no valid transaction to confirm. So, something is very wrong, and I would suggest that no one withdraw SOL from FTX  until they address this. Just to close this, today FTX admitted it was their problem, and they did a whole new transaction, and now the SOL made it, and I'm no longer missing it. They said they would have development look into it. So, it was a glitch. No really a Solana problem, but a FTX/Solana problem.
a few things.  make sure your on the right network. also verify the addresses. if they have given you a transaction id, and your balance in ftx.us reflects that, and your new wallet does not, file a support ticket with them on their site with the help button.  it takes 2 mins. paste the info details. and they will respond.
Sounds like an FTX issue, I haven't used the various DEX/Market/whatever sites much, but they can be very confusing - is it possible they sent it on a different network, like the tx id is to your address but on ethereum or something like that?
Thanks, I give it a try, but SOL never gets to the wallet, so most likely no trx. Yup, just tried it, and no such trx.
Yeah - it sounds like it's a glitch at their end. Did you try the tx id on <https://explorer.solana.com>?
Okay, thanks, jhay. This is a weird problem, and I"ve done a lot of other xfers of SOL to and from FTX, but this is likely a software glitch on their system, and surprising, since I trust them so much.
No official support people in here. If you get a DM from someone offering to help it's a scammer.
Excuse me for posting this twice. I'm new here and not sure of group for this: Is there any FTX.us support person here? I withdrew 1.9 SOL to my Phantom Wallet, and it shows it as complete, but the transaction id is "FIle Not Found" on solscan.. I think this is serious FTX glitch because how can they mark a Solana trx as COMPLETE  if they can't confirm it? They deducted the 1.9 SOL from my account, so the audit trail shows the problem. If someone wants, I'll post the link of the trx, but it is a file not found. I have a support tick in since this AM.
Yeah, ta. üôÇ
yea some protocols have their own faucets/tokens/airdrops in dev, but for things like USDC its just made up.  same way u can make your own SPL token.  its SPL so should work.  id just transfer a small amount $1 and then go from there.
I found Mango Markets created a fake USDC mint - although I had to use google cache to read the page, so who knows if that will still work <https://webcache.googleusercontent.com/search?q=cache:CfHx1eJjBNgJ:https://docs.mango.markets/tutorials/how-to-receive-dev-net-tokens+&cd=3&hl=en&ct=clnk&gl=uk&client=firefox-b-d>
I know nothing about ETH - I've come into crypto since the end of October and only deal in Solana, nothing else.
there is no official USDC in devnet. there still may.. be? in testnet.  otherwise for a real test u may have to use mainnet üòõ
kinda like wrapped Eth. Lamports can be transferred directly, or  'wrapped' to be an SPL token to interact with the SPL-Token eco system. most apps using your 'SOL' are using SPL-WSOL (SOL) to perform operations on the token.
I'm going to play on devnet a bit to see how `spl-token transfer` works... and whether I'll have to manually `create-account` etc. before transfer, or if it will do it for me, and if I need to specify the ATA address or owner address, etc. - it's so complex üòÑ
just the SPL version of Solana Token.
I don't even really know what wrapped sol is
all spl compatible tokens should be able to use spl functions. not aware of any current limitation..  native/wrapped sol is the only funky one that u work around.
Ohhhhh... maybe... will that craft an instruction fro the USDC Token Program? I thought I'd need one specific to that token-program. I'll go read up.
does spl-token transfer not work for that?
yea.. you could just transfer USDC between associated accounts.
I don't need to do the swap cold though - I can just transfer the USDC, right?
What's the difference between `authority` and `owner` for a given `TokenAccount`?
they need an SDK so people can add features
you need to target a protocol that implements swap if your going to actually build a transaction to know the instructions.  Orca for example basically uses the native token swap program. they have an SDK in javascript which you could probably tweak for offline transaction of some kind. you just target their ORCA pool.  they have a code example on their github that goes through the whole process.     otherwise phantom has a swap? but do not think it has an API. may poke them to see if they have some integration, would be a cool feature if they could support exactly your use case..
Yeah, so the only cold operation I need to do is Send USDC => hot burner. Then I can swap, and send the SOL right back from the burner. It's that first bit I'm wondering how to do - I guess it's an instruction to the USDC Token Program, and I have no idea how to construct one of those üò¨
sounds somewhat custom! not as familiar with the cli command, but the overall workflow should be the same. creating saving and then signing an offline transaction, and submitting it, for a swap though, you would be receiving funds right away, so unless your controlling the protocol, and its not another - that may be an issue. In that case you may have to have a work around or other solution. Id personally transfer to a burner wallet for the actual transaction from the cold wallet. then perform a transaction from the burner/hot wallet on demand or automated. and then just connect your cold wallet at some point to take back ownership of the funds.  not much more inconvenient but safer.   - the creation and implementation part is all theory, have not gone through that whole process on Solana with a Cold swap. But something like it should work üôÇ if this is for a business idea, or some personal automation. you could transfer funds to a program escrow account that performs the swap and holds them until you reconnect and take ownership, signing with the program or other hotwallet escrow account   sounds like a fun project.
Thanks - yeah... so I figure it's a "transfer USDC" transaction from the cold to a phantom wallet, then I can go to Orca or something and do it there, then transfer it back. I've previously only ever transferred SOL from my cold wallet though (which is an airgapped machine and a USB stick to transfer the recent blockhash on, and the signed transaction off, for submission). However this uses the Solana CLI, which I guess doesn't support USDC, so I want to figure out how to construct such a transaction and sign it, then submit it üòÑ
Ah yes ! I was using the mint parameter instead of programId ! Thank you ! üòç
like this?
https://solanacookbook.com/recipes/token.html#get-token-account-by-owner
sounds like you want to submit a swap transaction to a protocol of your choice with offline signing? what is the existing cold storage your using? I dont see how there is an 'easy' way to do a cold storage swap, per say. generally you transfer funds to a hotter wallet, or make cold storage temporarily accessible, or have to have a receiving solution that is cold wallet compatible.. with whatever your current cold storage solution is.  how are you envisioning the works.  
* for personal use its like connecting ledger with phantom then disconnecting after done, assigning a temp wallet to transfer to and do a transaction.
Does anyone know how I can achieve that ? ü§ó
I tried `getTokenAccountBalance` but got `Invalid param: not a v2.0 Token account`

Hey guys !
I'm trying to retrieve token accounts just like in solscan using the JSON RPC API but struggling to find the right endpoint
Does anyone know how to create a transaction that will convert USDC into SOL from a cold wallet, that I can sign offline?
gotchya. that guy is great
Ive been using the hackmd one for a few days now, but ended up switching to alan‚Äôs
There were some other things i cant remember off the type of my head
Thanks for ur help btw <@785084693023424542> !
so whats the issue then? alans demo probably uses anchor and takes care of numbers for you üôÇ
Yeah it‚Äôs good foundation i agree
Because the PDA is static
thats just a design choice. and simple demo. as long as it works for demo purposes.
This is a very robust escrow, made by one of the core devs at anchor <@134416332509675520>
https://github.com/cqfd/quidproquo
One example is that you can only ever have one escrow going on at one time
what do u mean not coded well?
Here‚Äôs the escrow I ended up using:
^ yeah i was using this but it‚Äôs not coded well
pretty sure this has a native and anchor version of doing escrow , with amounts.
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account
Thank you
I think so
most the escrow tutorials use amount, and store the amount in an account to use for escrow, like that?
if you want to close an account, you just send a close instruction and destination address to send the remaining lamports.
Anyone have an example in JavaScript how to use an account to store a single digit integer on the blockchain?
Ok i got it. I was brain dead. Time to go to sleep probably...
Ahh I see. That makes sense. 

I'm still unsure of if the lamport balance is separate from the SOL balance for any types of accounts.

E.g. say I want to purge some type of account. Do I need separate commands to purge the lamports and the SOL balance?

Thanks
I appreciate it, but I just do it for the tech üôÇ
<@!445425471027544095> can I DM you to send you a legends NFT?
So am seeing ppl use saturated_add, saturated_sub to avoid overflow and underflow, isn't the simplest way is to turn on the overflow-checks in release mode to deal with underflow and overflow errors ? Why go the extra step with using safe add , sub functions ?
Thanks for the quick reply, the docs only show how you can retrieve metadata for already existing tokens, and running actions is described as ‚Äöin development‚Äò as far as I saw ü§î I‚Äòll have a look at the code
it says its undefined when i just return metadata and use it outside the function.
Thats why i want to specify what object i want to get back
the SOL in a program specifically is used for rent exemption basically, and you dont send programs SOL or transfer its SOL out, really.
whats the confusion?  is there an issue your trying to solve?
what wottt

i am confused now Xd

1) All accounts can hold SOL, right? Even programs?
2) If I understand correctly, this is the logic:
```
if (account meets rent exemption criteria):
   separate their lamport balance 
   from SOL balance
else:
   deduct from their SOL balance
```
generally it will return all the metadata, and you need to parse out or use the object to select what you need from the json object.   jsonObject.imageUri  for example. otherwise look at your console (f12) and looks at the object returned.  if its json, u can access it in the way mentioned. there should be a metadata object you can load it into to access as well. but this is all metaplex stuff. you can google how to access json objects.
or am i completely blind and missing something
getting the metadata works
Already tested it. Just want to be able to specify what metadata i get. For example i want to get the image uri then i would call the function with jsonObject as "image"
`const GetTokenMetadata = async (i,pubkey,jsonObject) => {
    
    console.log("Getting Metadata of: " + pubkey);

    const tokenmetaPubkey = await programs.metadata.Metadata.getPDA(pubkey);
    const tokenmeta = await programs.metadata.Metadata.load(connection, tokenmetaPubkey);

    let nftMetadata = await $.getJSON(tokenmeta.toJSON().data.data.uri, function (data) {
        return data;
    });
    console.log(nftMetadata);


    return nftMetadata.jsonObject;
}`

nftMetadata is where the metadata of the NFT is stored (its a JSON). i want to return the jsonObject of the metadata. 
jsonObject is parameter of a function (a string)
doesnt really make sense tbh. this is a javascript question. what are you trying to do..
<@!445425471027544095> the memo works! Thank you!!!!
the metaplex js lib?
https://docs.metaplex.com/community
Hi,
just a simple question. Don't know how to google it.

`function foo(test){
     tomato = doesSomething();
     return tomato.test;
}`

BUT test is a string
How do i make that work. Probably very easy but feel kinda stupid rn
In javascript
Hey everyone, does anyone know if there is a programmatic (Javascript) way of adding metadata to an spl token without using the metaplex cli?
<@!445425471027544095> thank you so much, let me try the memo
or fetch a new blockhash for each transfer, but then you're throttled by how quickly new blocks are produced (eg, 1-2 transfers a second)
let me try this!
Thats a great idea
<@!445425471027544095> you are a legend
you could add a memo instruction perhaps, with a different memo for each transfer.
Is there anything I can do to add randomness?
Otherwise indeed we'd just roll them up
Ok that makes sense, the transactions are not rolled up because they need to match separate receipts
copy paste the specific errors not just screenshots.  looks like candy machine, so metaplex support. subscription is usually related to a websocket issue or something similar.
your welcome metaplex:
https://discord.gg/vgSBr3Ta
In this case the signatures would all be identical since none of the transaction bits are different.  Why wouldn't you perform a single transfer if the source and destination is the same for all
sounds like an NFT thing? you can get mint authority in account info, if you can get the token mint to begin with or know the ids, you could filter that in some way.  there may be a better way with jsonRPC getProgramAccounts and filters or a related call. Probably a metaplex related tool that has this already? I would think..   worst case if you have a token/mint list you just crunch it.
Hello, while uploading on devnet, I get this message about subscription in the console. What does it mean ?
`the unsupported code work around` Do you by chance have a link to how to do that or anything (if it comes to that)
I did spin up an actual VirtualBox VM with latest ubuntu installed as well - will give it ye olde try later
Any pointer would be appreciated üôèüèª
Hi all, I am running a number of spl-token transfer commands in parallel. I noticed that some transactions don't make it. Turns out that the Signature of those is the same. Are Signatures not unique? Note that I am sending the same amount of tokens to the same address, parallelized.
if your hardware does not have avx2 support I believe the only workaround is the unsupported code work around, or other hardware/vm/container. that check is built in to the code.
good question. if i recall, for things where a minimum balance rent is posted for rent exemption, like tokens, rent reserve, on creation, is something you cannot touch and does not apply to a tangible balance you can use, but you can reclaim when closing the account. 
if a minimum balance and rent exemption is not used, the balance that exists pays rent, and if the balance is not enough to pay rent at any point, where its paid in advance for an epoch, the account will be purged. cc: <@!483890519924277261>  the chosen may have more accurate info.
https://docs.solana.com/developing/programming-model/accounts#rent
search on rent in the docs as well there is much info.
`as paper weights ` haha for sure!ü•∫ 
` wtf did you do!??` I am kicking my own ass trying to figure that out. I did do all you said, WSL, latest ubuntu and did the cargo build which built fine, just running it failed with AVX
The one time I got it to run was using the `./scripts/cargo-install-all.sh` Gonna try building a new checkout with that now and see where it goes.
sounds like you want to query a historical transaction by transaction id/signature and inspect the data. 
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
retrace your steps?   wtf did you do!?? üôÇ   always save an image or backup when you get to a working copy/version !    the only workaround on the same machine without a vm or container for AVX2 i recall would be an unsupported code change in the Solana core then build without AVX2 support (!recommended, but may work).   otherwise the above. admin.rpc issue sounds like some pip/pathname issue that may be related to your ledger/ledger path.  Which sounds like something was not setup correctly, built wrong/not built, something is missing, or related to permission write issue.  

When using WSL, make sure its an updated ubuntu with v20+, apt install - update all packages.  then run the CLI install for rust, and solana, and build. if build fails run build from source. if avx2, workaround is unsupported code modification, or using different/supported hardware/vm/container. Ask santa for a new/used linux or mac, or use one of the many macs that are sitting around most peoples homes as paper weights used for email and microsoft/adobe doc/pdfs üôÇ
1. Same
2) What is the `rentExemptReserve`?
1) Is an account's solana balance separate from its lamport rent balance?
Yeah I got past the os error by restarting the shell in admin mode. Thing is I got the test validator to work last night like once and cannot remember wtf I did so I did a clean WSL install and just followed the Solana build from source guide. 
That one ran and but I got `can't find admin.rpc`. Then I installed the latest version and tried that but ended up with `AVX2`.
sounds like a rust questions, but a code example usually helps if your having an issue. 
& is generally a borrw/reference, * is generally a deref/pointer.
https://doc.rust-lang.org/book/title-page.html
Any idea how to find all mints with a specific update authority?
I basically have a program that sends automated transaction to a community wallet. There are 3 different options for these transactions, lets call them "A,B,C" 

I want to be able to go back and look at the transaction and see if it chose option "a,b,c" which I cant do just by looking at the amount of SOL that was sent
not sure what this means. you can save data to an account on chain. and retrieve that value from a client or query the program account later.. or save a transaction and send it later (nonce account)/offline transactions.
I would check the raydium discord dev channel
btw '*' works too
can any one explain why adding a '&' allow implicit deref coercion while without a & it wont auto deref ?
the os error 13 error is generally a permission issue of some kind, related to your setup and configuration, and you may need to enable or grant permissions to the folder structure, and or try running a cargo clean and build, especially after an update...
I would try to get a setup working without continuing to install and build new versions and try random things, unless there is a good? reason. 
the AVX2 requirement exists for reasons explained prior, and if your unable to get it working, or do not know how, you may need to try an alternative that meets the spec (actual supported hardware, some VM that is compatible, different machine) or use devnet or another public or paid RPC for now.
Hey anyone who knows about implicit deref coercion can help answer this,
"Escrow::unpack_unchecked(&escrow_account.try_borrow_data()?)" deref coercion happens.
"Escrow::unpack_unchecked(escrow_account.try_borrow_data()?)" deref coercion does not happen
Is it possible to save a variable on a solana transaction, and then scan the transaction to retrieve it later?
Hey guys, I am using solana py and trying to send a swap transaction on raydium. I have built the whole transaction but when I send it the amountIn and minAmoutOut variables are not being decoded properly. I am encoding the amounts like this:
```
from solana.instruction import InstructionLayout, encode_data
amountIn = 10000000
minAmountOut = 1500000
encode_data(InstructionLayout(idx=9, fmt="qq"), amountIn, minAmountOut)
```
I have tried other formats and also tried casting the amount variables as Decimal but the values in the transaction are always wrong. Anybody know what the correct format for this is?
omg I just installed latest solana and now hit with `Error: Unable to create directory test-ledger: Permission denied (os error 13)` after trying to run test validator
Aloha! I hope all you developers out there are getting ready for the upcoming Solana Hackathon  (ü§´ ) . I represent a membership-owned cooperative with an existing team, and we are looking for an experienced Rust dev (React.js an asset) who is available for long-term collaboration in an emerging competitive space. Please PM me for more details
So I am **STILL** fighting to get `solana-test-validator` to work on WSL by trying to find the right order of steps but I am still missing something. After hitting the `AVX2` support issue, I followed the solana guide to build from source which took a while but done.
After that I went into the `solana/target/debug/incremental` folder to run the test validator and I am getting the `AVX2` error. It is unclear what to do after building the source - is this even the correct file to run or is there some secret one I am not aware of.
~~noob question:  I'm receiving an insufficient funds error trying to redeploy to devnet local. The acct shows it has plenty of SOL. Tried recover w/ buffers w/ same result.  any pointers appreciated.~~

(answered)
I'm trying serum/anchor.
I also tried to run the same code and am getting the same error.  `Fallback functions are not supported`
What should I do?
https://github.com/project-serum/anchor/issues/279
what does your current setup look like?  metaplex borsh implementation does public keys, and there is a borsh addin or extension that uses pubkey as well. trying to recall the repo/ext.
not really and have it play nice in the eco.  NFT metplex tokens has that built in for their implementation
Right now there's no way to integrate royalties into normal tokens right?
Hey, anyone know how to serialize an array of two public key with borsh? (js)
alright cool, thanks for clarifying üëç
They're paying for the token account creation fees afaik
You shouldn't have to do anything except provide your wallet publickey
hey this is a really dumb question probably, but want to make sure I don't screw it up and burn the ignition NFT:

In the survey for Ignition, is the SPL address that's being asked for different from our wallet pubkey? I know that we have to create SPL token accounts for individual tokens, like to create a USDC / other token account. For NFTs on devnet I haven't had to do anything special to send them between my test accounts.

Is there a specific token account I'll need to create for minting the Ignition NFT, or is providing a wallet's pubkey simply enough?
üëç I'm readying a section on serialization (borsh) for Client (TS, Rust) and Programs for both instruction and program owned account data.
I should look at this cook book more. Often :)
Here you go https://solanacookbook.com/recipes/keypairs-and-wallets.html#sign-and-verify-a-message
Can you clarify? What is the 'caller' in this case? If the submitter of the instruction imbued that relevant information in the program instruction then the answer is yes. Or do you mean the caller of a CPI?
Does the Solana JS API provide methods for signing messages and verifying message signatures?
anyone?
hello guys, can i retrieve all token address created by a candy machine with the solana web 3 api ? ty
I‚Äôm building a token claim dashboard wherein users can claim a % of tokens at IDO. 

We have a hard coded number of wallet addresses that we check the claim against being stored in a database.

We want to initiate/sign the token transfer from our end to the users end if their claim is valid after the check against the backend. What‚Äôs the best way of doing this?
I'm going to try my luck again, 
is there a way to get the address of the caller from `process_instruction` ?
.
thanks!
nice job
````
let a: [u8; 32] = ....
bs58::encode(a).into_string())
````
I solved it.
hmm which IDe do you use
I'm trying to convert [u8; 32] to base58 string
this doesn't work
Yeah I just asked
Hey guys, I am using solana py and trying to send a swap transaction on raydium. I have built the whole transaction but when I send it the amountIn and minAmoutOut variables are not being decoded properly. I am encoding the amounts like this:
```
from solana.instruction import InstructionLayout, encode_data
amountIn = 10000000
minAmountOut = 1500000
encode_data(InstructionLayout(idx=9, fmt="qq"), amountIn, minAmountOut)
```
I have tried other formats and also tried casting the amount variables as Decimal but the values in the transaction are always wrong. Anybody know what the correct format for this is?
Hello,
New to web3 and loving it... working on a dapp scaffold project
and I'm trying to add a create mint and transfer option to my current wallet that is setup in `import { useWallet } from "@solana/wallet-adapter-react";`
https://github.com/solana-labs/solana-program-library/blob/master/token/js/examples/create_mint_and_transfer_tokens.js

I took the github code and modified line 48 in the pastebin to use my wallet adapters public key
https://pastebin.com/Yp7JLn0c

Running into issues üò¶
Hello so I'm launching a token and I'm thinking about what decimal points should i give it and how would that affect my token. Any help on this specific thing would be very much appreciated! Do the decimals affect the value of a token or is it just a visual thing?


///////////////////////////////////////////////////////////////////////////////////////////////

Can anyone help with solana auto minter or flash bot?
Anyone looking to launch nfts on solana network (new or import from eth mainnet) contact me
how to check if an SPL Token is disabled minting?
Eh no wonder I was having a problem with this u64 in ts. It's being imported by spl-token!
I don't have the ref off hand.  Look for something like "transaction wide compute budget"
These caps are like training wheels
Can we make sure the cluster can actually run it first?
Which one has the increase from 200k?
it seems fair you have as much computation as you need as long you pay the fees, similar to ethereum
Not long-term, no
Only so much SOL üòâ
Is there a proposal somewhere on the long term plan on the docs?
I doubt it will ever be unlimited
It will likely be raised as other optimizations come in
and in the long run, that will be unlimited ?
Initially
that's the max ?
Up to 1M
so buying additional blocks will make cap bigger, and you can buy as much as you need every transaction
Afaik inital min/max will be 200kCU/1MCU
Before this, compute caps will be transitioned to transaction-wide instead of instruction-wide
Probably never unlimited, but there will essentially be a base cap, then you buy additional blocks of compute by declaring a special instruction
will this be fully automated in the future ? literally like unlimited computation ?
```
export const Schema = new Map([
  [
    Account,
    {
      kind: 'struct',
      fields: [
        ['creator', [32]],
      ],
    },
  ],
])
```
Can anyone help spot what's wrong? This is JS side. I want to specify creator as public key (u8; 32) in bytes/buffer but this is making my js code error out. `Cannot read properties of undefined (reading 'length')`
Exactly that is a work in progress
why not change it to more computation = more sol, rather than fee per number of signers
yeap gotcha, multiple readers is fine, but a writer gets an exclusivity lock üëç
Ah damn, rugged by Android discord not showing me that I wasn't at the end of history again
is there a reason why solana limited to 200k computation limit ?
The runtime prevents this.  Accounts can only be loaded by multiple transactions in the same block entry if they all declare it read-only
No. Historical account state is not stored anywhere.  Even external to a program, to get intermediary state you'd have to start from an accounts snapshot and play the ledger forward to the desired block
yep, and then once the data is all loaded there's a `Finalize` instruction that informs the loader program to check the ELF that was uploaded for validity and if so it will mark the program as executable.
Here are the main instructions: https://github.com/solana-labs/solana/blob/master/sdk/program/src/loader_instruction.rs

The upgradable loader is a little more complex but the general idea still applies
This has a lot of good information about what is happening behind the scenes on `solana program deploy` https://jstarry.notion.site/Program-deploys-29780c48794c47308d5f138074dd9838
so i am guessing it's something like

```
tx0: create account(program_size, programId)
tx1: load_data(programid, 0, max_data_per_load, our_first_data_slice)
txn: load_data(programid, n*max_data_per_load, program_size, our_last_data_slice)
```
one of the things i am thinking about in deploying a dapp is that there are pretty severe limitations on data size and instruction size.  so it might be necessary to orchestrate across multiple programs.  obviously it would be ideal if there was a way to generalize it.
Programs typically don't fit in a single transaction, so `solana program deploy` sends hundreds of data transactions to populate the on-chain program account with the program ELF
so when i am doing a deploy with `solana deploy` what is actually happening underneath?  is there any good resource other than the code itself as a primer?

i notice i generates many "transactions" when i do that; are these "transactions" the same as any other solana transaction?  if so, who are they being sent to and how is the program distributed across the the transactions?
i.e. does the program receive a frozen snapsnot AccountInfo for that account and the account is totally locked during execution of the transaction?
yeah i'm also like to know this. as such, if an on-chain program checks something on an account (lamports, its data section, etc), and then checks it later in the program, can there be any differences, assuming the program itself didn't modify it?
so it's an anti-pattern to design a program that constantly needs to write to a single (same) account.
yeah, think of it as a standard read-write locking mechanism.  Multiple readers are always permitted, but a write lock gets exclusive access
ah indeed, that's why you need to pass the writable flag in with the accounts you pass in in your transaction payload
not just write to, but also read from?
Transactions must declare the accounts they might write into.  The runtime ensures that transactions that might write into the same account execute serially
or is an account locked when a transaction is using it?
i guess another thing i'm not yet sue about on a logical basis is reasoning about what happens with other accounts whilst a transaction is running and busy making changes. as such, there might be logic that runs as part of a transaction that deals with or manipulates some account. i mean, what happens if that account is closed or otherwise modified or altered *by another entity* during the transaction?
They should be able to, I can't think if anything that would prevent this.
I don't want to rely on a centralized way where I have to store it
no other way ?
Can solana programs create and deploy other solana programs?
Hello, is there any c# SDK for unity?
thanks guys
... not _committed_
its effects on state are not cancelled?
The transaction is committed to the ledger as a failure.  It's effects on state are not committed (except the transaction fee charge)
as such, let's say an instruction calls into system_instruction::create_account and creates an account like that. then, the instruction later returns an error and the changes are reverted, meaning the account creation is reverted. did that account ever actually exist on the blockchain?
also, just a question about the reality of "reversion" üôÇ does this mean that the changes never actually existed on the blockchain at all?
thanks üôÇ
that account just doesn't exist then right?
let's say a transaction calls into some instruction and that instruction does system_instruction::create_account and the original instruction later returns Err(something)
Yep, everything gets reverted
one question is, though, if a transaction fails due to one of the instructions returning an error (for any reason whatsoever...), i understand that all changes made get reverted. however, do changes made via CPI's using invoke() or invoke_signed() also get reverted?
quick question about the "atomicity" of transactions folks. i understand that all instructions in a transaction must succeed in order for a transaction to be successful.
using invoke
I mean within a program, not in JS
Sure sushant's got you covered https://learn.figment.io/tutorials/crowdfunding-with-solana#the-donate-function
Can someone please give me an example of how to send SOL from the signer in an instruction?
Is there a way to convert u64 to number in ts/js?
Not real SOL, but local clusters have fees and rent all the same.  You should be able to airdrop yourself plenty
I'm getting insufficient funds for spend error
Do I need to spend SOL to deploy to localhost?
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291 and https://solana.com/developers
Any docs on how to make smart contract with Solana?
Do we know why the devnet faucet keeps getting drained. Is it just demand?
I mean... devnet works the same way as MB.  The obvious place to fill the faucet from is inflationary rewards that the validators collect
Thanks lisenmayben. I Appreciate it üôèüèº
So airdropped sol on Devnet is minted? I didn't realize....
You'd have to have stashed it in a second account at that blockhash/slot
is it possible to get account data in a certain blockhash ? (inside program)
https://discord.com/channels/428295358100013066/749059399875690557/919249557890695178
where can I get some devnet sol
did you guys ever deploy the Shared Memory program? couldn't see it on mainnet-beta, nor testnet, nor devnet based on the program-id present in the code: https://explorer.solana.com/address/shmem4EWT2sPdVGvTZCzXXRAURL9G5vpPxNwSeKhHUL
I don't think the devnet validator nodes have made enough from inflation to be worth refilling it
Probably drained again
Oh devnet airdrops still down huh
Ok thanks for your feedback.
Airdrops on devnet also not working for me
this is all just auto-generated without any usage information. are there any examples or intro's to the library anywhere?
Are we to read you mind as to which cluster you're seeing this on?
Are airdrops currently disabled or why are my transactions timing out/not even showing in the explorer? (devnet)
thanks, this is easy to check, i'll let you know
Hey team, I am entirely new to the Solana ecosystem. I want to know how liquidity work for new tokens and what exchanges can we use to do so? If you could direct me that will be great!
So you're probably passing the system program someplace where you shouldn't be
Ha, interesting‚Äîthat's the system_program, you definitely can't mutate that üòâ
thanks, it shows `"11111111111111111111111111111111's writable privilege escalated",`
If you look carefully in the logs you should see a line that says either that some public key's signer privilege was escalated (or something like that), *or* a log about some account's writable privilege escalating
If you sign for a PDA when invoking program A, and that program further calls program B (and passes along the PDA), then yeah, it will still show up as a signer.
you can get devnet airdrops here: https://app.saber.so/#/airdrop but you need a phantom wallet
Hello, any ideas what to do?
i have a program making this call:
`solana_program::program::invoke_signed(&ix, accounts, signer)?;`
the instruction is a deposit into a stable-swap pool (Saber stabel-swap)
and signer is the PDA seeds 
the deposit instruction invokes a token transfer:
`solana_program::program::invoke(&ix, &[token_program, source, destination, user_authority])`
where `user_authority` is the PDA signer above 
this transaction fails with the error: 
`Cross-program invocation with unauthorized signer or writable account'`

my question is: can the PDA signer be used in multiple cross-program invokation calls in series?
not sure why
my serialization errors out
`    let update_data = MetadataInstruction::testdata(
        testargs {
            val: 12
        }
    );

    let data = MetadataInstruction::try_to_vec(&update_data).unwrap();

    pub fn process_instruction<'a>(
        program_id: &'a Pubkey,
        accounts: &'a [AccountInfo<'a>],
        input: &'a [u8],
    ) -> ProgramResult {
        // deserialize the input
       let instruction = match MetadataInstruction::try_from_slice(input){
           Ok(val) => {
               msg!("in here");
               val
           },
           Err(_) => {
               msg!("that so sad {:?}",input);
                MetadataInstruction::testdata(testargs{
                    val: 12
                })
           }
       };                                                                                                             `
Yep, in solana_program::native_token::LAMPORTS_PER_SOL
<@675681308541976586> or may be any doc explaining account types we need which explains program accounts, data accounts, associated account and how they interact with eachother.
I can't remember exact method but you need to get rent exempt estimate based on the data storage you need
In solana-web3 there is LAMPORTS_PER_SOL variable that we can import. Is there the same thing on Rust side?
hello, I want to unstake SOL by Cli. I import the SEED, and I can see my balance and my public key.
I'd like to unstake using `deactivate-stake` but I get this error: `Error processing Instruction 0: Invalid account owner`
Hello Solaninans,
Can anybody point me to thorough how-to deploying solana program with account types and rent exempt amont transfer.
Correct
thank you so much <@!814228493302497301>
oh okay, I should have clarified, when I was trying to get account from a base58 pubkey string, it was in my Program. but the more right way is to pass the account right?
https://solana-labs.github.io/solana-web3.js/
etc, etc
`import { Keypair, PublicKey, Connection, clusterApiUrl } from '@solana/web3.js';`
ok, but if you are in a Rust Client you can `use solana_client` as I showed above. In a JS you import the web3.js and use the Connection object
no just JS. I know how to pass accounts :))
<@!814228493302497301> but any idea why as soon as I used solana-client, the errors came up? a lot of them.
is your client Rust or ???
oh ok I'll try that out! thanks
You pass accounts to your program
oh what do you mean? how can I go about getting an account data?
a lot of `unresolved import`'s  and `similar path exists`
Oh, you can't call out externally in your program
yes but the issue is that my program spat out a lot of errors as soon as I used `solana-client`
`use solana_client::rpc_client::RpcClient;`
on that note, is there a way to get an account using just `solana-program` when I only have the base58 string of the account's address?
hi everyone, 
This is on the Rust side, I wanted to use something from `solana-client`. I already had `solana-program`. Once I `use`d solana-client, when I try to build, a bunch of errors came up

```
5 | use crate::sys::{
  |            ^^^
  |            |
  |            unresolved import
  |            help: a similar path exists: `crate::socket::io::sys`
```

anyone knows why? Both my solana-program and solana-client are using the same version `1.7.9`
oh, just `32` and not `u32` ?
Hi, I am trying to learn to create a Dapp and interacting with Solana through #buildspace . I followed all instructions as one this Link: https://github.com/buildspace/buildspace-projects/blob/main/Solana_And_Web3/en/Section_2/Resources/m1_setup.md, However when I try to run on myeociproject folder the following command => anchor test --skip-local validator , the terminal shows message : error: no such command : 'build-bpf'        .... I tried on my M1 Mac pro and also Mac Book air, both machines show the same error. Unable to go through the project, CAN SOMEONE PLEASE HELP üôè?
thank you. i have an idea of what to build and know i have a bunch to learn, just trying to pick and choose how to approach it best
thats just theoretical workflow.  sounds like you need to learn how to at least use the web3 library.    you might want to go through some tutorials here to see how the basics work
https://learn.figment.io/protocols/solana
in theory you may be able to implement the wallet adapter, just submit a transaction, from their address to yours, they approve it, and when the transaction is confirmed, your site triggers a send product or process order.
a few iterations on the question as well actually... what if it was
> meme coins for a nft

> meme coins & some sol for a NFT
yep, this is just an example. haha.
so, someone is going to pay for your PDF in meme coins then u send them the pdf
Let's say I want to send digital assets [a pdf, not necessarily on chain] with payment in a memecoin built on solana, would that be done through a smart contract?
depends on your requirement.  if this is just a traditional online store and you want to accept 'crypto' or if you want to use blockchain for some reason as part of the store model, like for NFTs, or other items, tracking, or transactions, that live on chain
Hey I just want to make sure I'm understanding something right and have my head on straight. If I'm developing a webstore that takes solana transactions, accepting the money sent would theoretically be a smart contract yes?

And what tokens it would accept (whether Sol or Tokens built on Solana) would be set in the smart contract/program as well right?
Thanks so much
To 7mcUEPBpZpv4c5tfXEMgkn5sFFReb4jDVknCeujiFCRd
whats the address for dev
Yes I do actually! Is that something I could get?
Ah i think i fixed it by `sudo apt-get install bzip2`
could be your memory or hard drive space
not sure. people keep botting it.
do you just need a small amount to do some basic testing?
Hey, I am currently setting up the Solana helloworld project. 
When trying to start the solana-test-validator i recieve the following error:
```sh
$ solana-test-validator
Ledger location: test-ledger
Log: test-ledger/validator.log
Error: failed to start validator: Failed to create ledger at test-ledger: blockstore error
```
I am working in a docker development container on windows with rust, node.js and solana cli installed:
```docker
RUN curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
RUN source $HOME/.cargo/env
RUN curl -sL https://deb.nodesource.com/setup_14.x -o nodesource_setup.sh
RUN sudo bash nodesource_setup.sh
RUN sudo apt install nodejs
RUN sh -c "$(curl -sSfL https://release.solana.com/stable/install)"
RUN export PATH="/home/vscode/.local/share/solana/install/active_release/bin:$PATH"
```
Any idea what the problem might be?
Hi~ any idea on if that would get back today? Or is it something that would take a bit longer
I am constantly receiving "no close frame received or sent" when connecting to the solana nodes websocket. Any advice I could host a long living and stable connection with the websockets? üò¢  Thank you in advance
go to support, scroll to the bottom. do you see a button?
do they have a support link?
They provided a bot, thats all
so you made it to their website?
Yes, I did.
did you try googling their website? and look for a way to get in touch?
They didn't provide a direct way to get in touch
your saying you downloaded and used a wallet and dont know the company or provider?
how can i fix this ?
So you're saying as members of the SOL community, you don't know who developed Phantom?
just because its merged does not mean its affective immediately. they have to pull updates
website should be linked or listed.  they probably have a support ticket system on their site. im not sure how often they refresh their token list.
google store
how did you download phantom wallet?
Then where can I find them?
this is not phantom support..
My issue is about the Phantom wallet, not Github
dont maintain the github from here. you need to leave comments and issues in the github for the maintainers.
<@785084693023424542>
<@439209823201132558>
<@472537211884011530>
It's been days since we submitted the token info to Github and successfully completed the branch merge, but the Phantom wallet still doesn't show the token info. What should I do? Help!
How come I see "failed" transactions in the block explorer, but when I try to push a transaction which results in an error, they don't get into the cluster?
All you need is the public key for the account
The call above fetches the account from Solana... look at the account structure. If you want to deserialize the `data` field on what the above returns then...
Hm - don't you need to have account passed into the instruction to be able to read it?
It's been days since we submitted the token info to Github and successfully completed the branch merge, but the Phantom wallet still doesn't show the token info. What should I do?
<@472537211884011530> Who can I contact, if I want to translate Solana documents to Turkish language?
```rust
/// Checks for existence of account
fn account_for_key(
    rpc_client: &RpcClient,
    key: &Pubkey,
    commitment_config: CommitmentConfig,
) -> Option<Account> {
    rpc_client
        .get_account_with_commitment(key, commitment_config)
        .unwrap()
        .value
}
```
What class/method?
Hi all. In Rust, how can I get account info given an account public key?
Hey I just want to make sure I'm understanding something right. If I'm developing a webstore that takes solana transactions, accepting the money sent would theoretically be a smart contract yes?

If I wanted to accept certain tokens/coons made on the solana blockchain, that's also a parameter worked into the smart contract correct?
yep it works, I simpkly switch to second wallet on sollet and export it, it works ^^ tahnks
i know with phantom and some others you could do something like:
solana-keygen recover prompt:?key=0/0 -o derived-keypair.json
to output a keypair,  where 1/0 is the next wallet..?
sollet may have used a different bip.

you might be able to try and create a new keypair, with your same sollet seed phrase, and then try the above, for the key derivation, if it doesnt work with your existing keypair.
very cool!
lmao
ah i'm dumb, will it be a different one ? goign to try
you cant export the 2nd wallet as a different keypair?
it's the byte array jsonfile
It work fine but I have a usecase where I need to use my second wallet
ahh.. thats the answer
I export it from sollet.io
file
where did you get the keypair from..
yep
your loading a keypair..right?
this give me the first pubkey, I need the second one
const wallet = anchor.web3.Keypair.fromSecretKey(Uint8Array.from(walletKp))
return new anchor.Wallet(wallet)
check screenshot
how did you get the first keypair?
Hi all, is it possible, from keypair file to get the second derived wallet instead of the first with anchor (javascript) ? 
I'm doing this at the moment:
Thanks
ok. i have some fun ideas. may try to community source it and make it a project others can benefit from as well.
interested in the load balancing, bot mitigation, and some other things as well.
sorry, just had to share my small progress with someone lol
the hello world counter is always 1 though, so i guess i'm overriding the program data account each time. I'm actually invoking create_account_with_seed, then invoking the hello-world program all in one transaction. i must be wiping out the buffer each transaction...
Alright I did it! Got my rust client to actually invoke the hello-world solana program on my localnet.
Follow this:
https://medium.com/coinmonks/understanding-arithmetic-overflow-underflows-in-rust-and-solana-smart-contracts-9f3c9802dc45
Maybe disable that RPC call entirely and redirect `solana airdrop` elsewhere.  Or modify the RPC call to take evidence that a captcha was successfully passed
Thanks a lot... üòä
potentially relevant resources:
https://github.com/project-serum/stake
https://github.com/step-finance/step-staking
https://github.com/Bonfida/token-vesting
anchor discord:
https://discord.gg/9xky5z3R
other protocols may have staking contracts posted on their gits
Hi Everyone.
Hope you all are doing good.

I am new to solana and rust. Can any one help me how can i create token staking contract in anchor, rust. I created one in solidity but i dont understand how can i do this in rust..

If anyone can provide sample code. I will be very thankful pray
devnet faucet drained. standby
I keep getting `Error: unable to confirm transaction. This can happen in situations such as transaction expiration and insufficient fee-payer funds` when trying to airdrop myself some tokens on devnet. Does anyone know the solution to resolve this?

My address is C2jaDLizj2mmaXXn5RiHv1jqvgGexFHkohGVgoP32QqS
how would you prevent anyone from hitting the call directly on the rpc?
Noted
Anyway, thanks again - off to bug them
nah - the team's great too and really responsive.
Well, whatcha gonna do....it works....kinda
yeah totally, I just suggested that to them üòâ
bwah hahahaha
maybe Phantom adds a "DEVNET" banner between the USD and the %change or something
yeah I know üòâ   Just being obnoxious cause it's mfbt
It's an NFT creator
üê≥ !  Actually thinking more, this is actually really bad!  It makes it super easy for scammers to fool people into thinking that devnet and testnet SOL is worth more than nothing
OMG I'm so rich
Yeah - Phantom does it
HAHAHHAHAH
Best theory I've heard is that some wallets still show a USD value when you configure them to use devnet.  So lots of devnet SOL can make you feel like a big man
Anyhow - thanks again for fighting the good fight
Joy of getting free SOL that ain't worth anything
That just is way beyond lame
OMG
Just saying though - as the resident teacher's pet - feel free to cap it at 1 or less even.  SOL doesn't cost ANYTHING to work on.
oh maybe it's changed a little then.  a couple days ago there was some champion using multiple IPs to get around the limiter to pull down like 50 devnet SOL a second.  For what purpose, who knows.  There's been some devnet SOL scams recently so maybe that's why
like within the past week
Oh?  I was able to get up to 5 in the recent past
it's already capped at 1
retards drain it anyway
I know you had it capped, and that sucked, but it also stopped some of the abuse right?
<@!445425471027544095> you should cap it at 1 or .5 or something if it's suffering from abuse.  Those who REALLY want it will take the effort to ```solana airdrop 1``` as much as they need.
(obvs because there's no SOL in that wallet)
Also - they report success with a txn BUT it doesn't work
perhaps they throw a capcha on it
Yes, but if we nudge them.....
are they drained too?
Maybe partner with these guys:  https://solfaucet.com/
making candy or something
doesn't look like a network issue.  from the logs, candy machine blew up doing whatever it is that it does
And also - I am using Figment's devnet RPC node
I am also posting in Metaplex but hoping to understand if this is a network issue or not.
And also - wondering - why is the candy machine program crapping out?  ```  logs: [
    'Program 11111111111111111111111111111111 invoke [1]',
    'Program 11111111111111111111111111111111 success',
    'Program cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ invoke [1]',
    'Program log: Error: memory allocation failed, out of memory',
    'Program cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ consumed 200000 of 200000 compute units',
    'Program failed to complete: BPF program panicked',
    'Program cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ failed: Program failed to complete'
  ]
}```
anybody want to write a captcha front-end for the faucet.  with that in place we could even increase the amount that the faucet provides
had to go raid other devnet wallets
devnet faucet definitely drained
After installing metaplex on mac m1 and running this command: `ts-node ~/metaplex/js/packages/cli/src/candy-machine-cli.ts --version`   I am getting this error:
```Error: dlopen(/Users/pwarrior/metaplex/js/node_modules/canvas/build/Release/canvas.node, 1): Symbol not found: _cairo_fill
  Referenced from: /Users/pwarrior/metaplex/js/node_modules/canvas/build/Release/canvas.node
  Expected in: flat namespace
 in /Users/pwarrior/metaplex/js/node_modules/canvas/build/Release/canvas.node
    at Object.Module._extensions..node (internal/modules/cjs/loader.js:1144:18)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at require (internal/modules/cjs/helpers.js:93:18)
    at Object.<anonymous> (/Users/pwarrior/metaplex/js/node_modules/canvas/lib/bindings.js:3:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12) {
  code: 'ERR_DLOPEN_FAILED'
}``` Can anybody please help me on this?
appears devnet faucet has already been drained again
devnet airdrop does not appear to be working atm..
things are working under ubuntu... thanks, will be back for next roadblocks
just do it in ubuntu.

im guessing i should in ubuntu command shell
ok i  just tried that under ubuntu and it worked... but doesnt work under wsl command prompt
do `sudo npm i -g @project-serum/anchor-cli`
permission denied are related to permission/privs errors in ubuntu and the folder its trying to install to in WSL.  u setup correctly, and setup username password, linux admin, sudo root etc and `sudo apt update && sudo apt upgrade`  to upgrade ubuntu? 
this section also talks about node, and setup environment, and related issues and troubleshooting.
https://docs.microsoft.com/en-us/windows/wsl/setup/environment#additional-resources
you need that setup correctly , to have npm and other things working properly,
before you run and install solana and other things its best to have the environment setup and configs correctly. initial slight pain if uve never done it before. but after its easy.
Getting 'unable to confirm transaction'
Even using solfaucet.com it doesn't work on devnet
Are there issues at the moment with airdrop on devnet? Can't get any transactions to go through with different wallet addresses
How did you manage to host for 1 day +? Got disconnected in my python scripts every a few hours. Did you find a better solution yet? Thanks
ill give this article a shot
https://medium.com/@sncryldrm/setup-solana-development-environment-on-windows-cbed9e42ccef
yea i know!
windows makes things hard
I def can't help
if you're windows
nah OSX
are you on win 10?
not sure what's up with your system
but I don't remember having trouble with that at all
bit out of my depth
im suppose to run it under wsl cmd prompt right?
hm
but i can run npm in git bash
actually under wsl anytime i try to run npm, i get permission denied
yea i tried that... i get npm commadn not found
you would probably run `sudo npm i -g @project-serum/anchor-cli`, but understand that running sudo overrides any security settings you have
so i run wsl and in it i run 
npm i -g @project-serum/anchor-cli

getting permission denied
what error are you getting
i have wsl and solana installed... 

i was following this guide and cant install anchor... what should i do next?
I'm struggling with how to test a transactional process, where I create a test account in `test.ts` and pass that through with the required information to make a transfer of lamports
<@!785084693023424542> do you know of a simple example of this?
is there an easier way to find out the name of the SPL token without comparing the mint address to the token library?
hahah
while i have you here...
yeah dude noted in my readme already!
haha write that down. include that in the template üòõ
needed a URL polyfill in the index
oh fuck thanks a ton dude, you helped me fix it!
my guess is it 10x's content by neat year
thats helped me a ton interfacing with the SPL library actually!
going to start throwing all the resources up here soon.  some templates for other things on the way.  https://solanacookbook.com/
thats an awesome idea actually
for sure. be sweet if someone made a mobile template/scaffold
i thought getting my phone to commuicate with my Ledger over bluetooth would be the hard part, not so much though
hahaha i know its gonna be a longggg road but hopefully worth it
yea. usually work around for a few things u think should work outta box. wait till u get to apple and its privacy and permission
yeah that makes sense. lemme try that polyfill quick before i create a JSON RPC request
among other things, react native is great tho, has come a long way
it has to do with the engine bring used, typically, as native works a little diff
i love getting back into mobile developement though
yeahhhh thats what i just came across too but thought it was unrelated
need more mobile dev going on.
maybe, https://stackoverflow.com/questions/62183745/url-pathname-or-url-searchparams-is-not-a-function-in-android-react-native
https://justinnoel.dev/2020/12/08/react-native-urlsearchparams-error-not-implemented/
not sure its relevant, not currently doing it myself..  haha lemme know how it goes.
yeah, but its been about 2 years. I've searched all over the react-native repo and forums for that specific error and haven't found anything about it though
have u done react native before? depending on your tool set and the platform your building and testing on, you may need to use polyfills or other magics for react native. especially with certain js libs, or various components.  let me check quick
To prevent address space griefing
hey folks - slightly unrelated to the current discussion. Given that an account is simply a place to store state, why do we need a keypair for every account? specifically why do I need a private key - why is an address not enough? I searched through the discord and it seems like the core dev team has previously had a discussion around this. But it never got resolved? https://github.com/solana-labs/solana/issues/7240
search on `impl Signer for Keypair` in solana repo.  sdk->src->signer  keypair.rs i think
oh, found it haha, 2min searching
```
 ERROR  Error: URL.protocol is not implemented

This error is located at:
    in TokenList (at Wallet.js:70)
    in RCTView (at View.js:32)
```
error i'm getting is: ``````
Hey guys, i'm trying to interface with the <@839088888449466409>/web3.js package in a react-native app and I'm getting an error when trying to create a connection. does anyone have experience with this ?
first step is use WSL: and use this install guide for WSL:
https://docs.microsoft.com/en-us/windows/wsl/setup/environment
then back to the Solana docs install to install Solana
i wouldnt bother with native for end to end, and running a solana-test-validator.
<#560174212967432193> 
and https://docs.solana.com/running-validator
**I would copy and paste the shortest part of relevant errors to get the most help, images usually sucks and not mobile friendly, and hard to search on, etc.

the first error looks like a libdev package related error maybe and you probably need t make sure you run the the ubuntu updates package installers. and make sure its up to date. then run the installs for the other things. and test the CLI commands `solana address` make sure the keypair is setup. then install the anchor CLI and related installs. 

here is a good install run through  for WSL
https://docs.microsoft.com/en-us/windows/wsl/setup/environment

here is anchor discord for future reference
https://discord.gg/9xky5z3R

hi, which keypair struct implements signers trait, i couldnt find anything like that
Hi I am trying to develop for Solana but having issues with finishing setting up dev env for Win 10.  
Anyone here mind privately helping me with setup?  I have a lot of coding experience and will be youtubing eveyrthign I learn to advance development for Solana and will be happy to credit you with all your help.  

I could just use a working hello world for starters . üôÇ
During testing I found my websockets would stay open a while (1 day plus) so what I've done until I find a better solution is to restart my web socket script every four hours.
I have read a couple places that maximum size of an account is 10mb; is that in a const somewhere i can read it?
Hey all, does anyone know what's the expiration time for recent_blockhash?
what can i do?!
Guys, i was doing the messenger app with anchor and i was able to build etc, deploy it as well, but when i try to test it, it fails, like this
`messengerapp
Transaction simulation failed: Attempt to load a program that does not exist

    1) Is initialized!


  0 passing (144ms)
  1 failing

  1) messengerapp
       Is initialized!:
     Error: failed to send transaction: Transaction simulation failed: Attempt to load a program that does not exist
      at Connection.sendEncodedTransaction (node_modules/@solana/web3.js/src/connection.ts:3689:13)
      at processTicksAndRejections (node:internal/process/task_queues:96:5)
      at Connection.sendRawTransaction (node_modules/@solana/web3.js/src/connection.ts:3649:20)
      at sendAndConfirmRawTransaction (node_modules/@solana/web3.js/src/util/send-and-confirm-raw-transaction.ts:27:21)
      at Provider.send (node_modules/@project-serum/anchor/src/provider.ts:118:18)
      at Object.rpc [as initialize] (node_modules/@project-serum/anchor/src/program/namespace/rpc.ts:25:23)



error Command failed with exit code 1.`
set up a script to restart it after it disconnects <:KEKW:677743574602874896>
Yeahh, me too
have u tried with this one  `$ sudo apt-get install pkg-config libssl-dev`?
Hello Folks, I am recently testing a web socket to listen transactions from a specific contract. I found the websocket will be disconnected after sometime for no reason. Do you have any advice that I could keep the web socket connect as long as possible? Thanks alot!
I've been able to build it without the `bpf` target listed in the thread. To specify this is running on WSL ubuntu
https://github.com/sfackler/rust-openssl/issues/855
see if u can find anything related here

üëã  Hello team, 

Has anyone managed to `build-bpf` with openssl? see üßµ for debug output.

I've been able to do a standard rust build so it appears i have all the required dependencies. I am assuming there is an additional step wih the `pkg-config` I am missing. 

Cheers
Basically, where can I learn on how to setup my pc to become a validator??

I am a complete noob on this developer thing
Hey guyss
Hey guys, how u doing?
I'm new to all these dev things and stuff and I am trying to compile the anchor in Ubuntu WLS and it always get an error about "hidapi v1.2.6" and for real, i dont really know what to do haha, if any of u could help me, it would be very much appreciated!
amazing
this was just one example, basically you specify the accounts in a transaction and whether or not they are read-only or read-write, this allows the runtime to identify across transactions those that can be run in parallel and those where there is more than 1 write operation taking place, on the same account, as you cannot allow 2 writes in parallel to the same account safely. so for those particular transactions on the accounts mentioned, the operations would get executed serially as they should be, if the same account is not being written to, parallel execution continues. in general its a fairly common parallel execution design.
https://hackmd.io/@ironaddicteddog/solana-anchor-escrow
https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291
https://discord.gg/9xky5z3R
It's been days since we submitted the token info to Github and successfully completed the branch merge, but the Phantom wallet still doesn't show the token info. What should I do?
https://cdn.discordapp.com/attachments/861406880471842868/919045404149035058/video0.mov
Hey all, anyone here familiar with Cybavo who can advise me?
i'm looking to send out btc from a .csv of transactions and am investigating a solution that allows me to do this automatically
presently i'm just using a vanilla wallet and sending the payments individually by hand which is very time consuming
i have to do several hundred per month
there's some links out to  API documentation here: https://docs.solana.com/developing/clients/rust-api
where is the rust client side api documentation for interacting with on-chain programs?
`Create` and `Auction` look like this atm
```rs
#[derive(Accounts)]
pub struct Create<'info> {
    #[account(init, payer = user, space = 8 + 8)]
    pub auction: Account<'info, Auction>,
    pub authority: Signer<'info>,
    #[account(mut)]
    pub user: Signer<'info>,
    pub system_program: Program<'info, System>,
}

#[account]
pub struct Auction {
    // timestamps (should be positive)
    pub start_time: u64,
    pub end_time: u64,
    // prices (should be positive)
    pub start_price: u64,
    pub reserve_price: Option<u64>,
    // math values (should only be positive)
    pub slope: u64,
    pub y_intercept: u64,
    // other
    pub is_ended: bool,
    pub authority: Pubkey,
}
```
anyone working with Anchor? I'm a beginner and I'm trying to understand how to pass data correctly to the handlers.

This is my initialize handler
```rs
#[program]
pub mod test_anchor {
    use super::*;
    pub fn initialize(
        ctx: Context<Create>,
        authority: Pubkey,
        start_time: u64,
        end_time: u64,
        start_price: u64,
        reserve_price: Option<u64>,
    ) -> ProgramResult {
```
I'm not sure how to pass data to it from the test.ts file... something like this?
```ts
    await program.rpc.initialize(
      program.provider.wallet.publicKey,
      start_time,
      end_time, 
      start_price,
      {
        accounts: {auction: {}, },
      },
      signers: []
    );
```
I keep getting errors like
```
#[derive(Accounts)]
pub struct Create<'info> {
    #[account(init, payer = user, space = 8 + 8)]
    pub auction: Account<'info, Auction>,
    pub authority: Signer<'info>,
    #[account(mut)]
    pub user: Signer<'info>,
    pub system_program: Program<'info, System>,
}
```
From this, it sounds like transactions are NOT parallel if they write to accounts. But I saw a buildspace tutorial that said that metaplex accounts for race conditions
when i try to compile a bpf program that calls AccountInfo::realloc() on an AccountInfo struct, i'm getting the error "^^^^^^^ method not found in `&solana_program::account_info::AccountInfo<'_>`". does this most likely mean i'm trying to build with an old SDK?
no, it just runs a validator it seems
also, this docker image (https://hub.docker.com/r/solanalabs/solana) there is no documentation and when I look at the dockerfile it seems more like something for solana core devs than for program developers. is this right?
is there an overview of what the different cli tools do? stuff like `solana-dos`, `solana-faucet`, ...
how do I use the `solana-log-analyzer` cli tool? what does it do? if I point it to my `test-ledger` dir when running `solana-test-validator` it panicks
Thanks. The connection.confirmTransaction was what I needed. But, to your broader point, would be better to roll into one transaction.  Right now I'm just learning by using existing blocks of code. Once I have better situational awareness as to what's actually going on I'll refactor all of this.
How come `createTransferInstruction` is using lamports here https://github.com/solanasail/tipsailbot/blob/a6f8c05046aa4d3ee5abacac484a850143f141f6/src/solana/index.js but sol units in the escrow tutorial?
https://docs.solana.com/developing/programming-model/accounts#read-only
Are Solana transactions automatically parallel?
Ah, ok (I wouldn't be surprised if you can manage to string multiple instructions into a single tx, but ok). I think doing connection.confirmTransaction(theSignature, "confirmed") should work though
It would be cleaner - but I'm doing this in javascript via metaplex/js/actions/mintnft.  It creates the 1/1 NFT then I move it in another call.  No way to string them together without modifying the metaplex/js code which I'm a little gun shy of doing just yet.
I'm attempting to build a dapp that queries against my own solana node's rpc endpoint. However in testing, I'm running into a CORS error. Does anyone know if there are settings to pass to the solana  application to configure CORS allow origin?
Would it be possible to do both steps with a single transaction?
I'm looking for help on something similar.  I need to move a token right after it's created. I've got the transaction ID - i just need to figure out how to wait until the transaction is confirmed before moving to the next step.  Does getTransaction or getConfirmedTransaction get me there? Any example code I could peek at?  Also, I'm working on Javascript.
I see so a Program Derived Address is what a program should be using to store data?
I will look into it!
thanks mate
is there a way to add persistentency when listening to events in the rust source code provided by solana ?
Not entirely sure, but gum drop may help with distribution. You could also make it centralized on your end as well for distribution
Yeah i was  reading through the docs and many examples of solana programs and of course the escrow programs as basic examples and instantly thought of something like this.

But the main problem now is how i do this to minimize cost because minting them all by myself would mean 2$ per NFT. But maybe implement something like that the redeemer has to pay 2$.
Questions over Questions...
Hopefully someone from the Metaplex has some good input on how to achieve my goal!
Sounds like escrowing between NFTs, with checking the rarity to decide which pool of escrowed NFTs you use
I was mentioning the candy machine as an example.
But i will ask the question over there too!

But do you get my point of what i am trying to do? 
Could you tell me your thoughts on this?
Try the metaplex discord. We don't support candy machine here https://discord.gg/tk9rhbE8
Hi there,
How do i let people kinda like trade in their NFT. Not really trade in but they have to show that they own the NFT and then have a one time opportunity to redeem another NFT. But the NFT they are able to redeem is supposed to be devided into several rarity levels. Its is written in the metadata of the original NFT which rarity level you will get.
How do i implement this.

The simplest way is to have  accounts that hold the NFTs for each rarity and then it depends on the metadata, from what kind of account you will get the NFT. 
But this approach is really expensive when you do it with candy-machine: I control each of those NFT accounts and mint the rarity i want into that account. That would be 2$ for each transaction.

Or write my own program that uploads the NFTs to arweave and then do my own little candy-machine. This would be very time consuming and very difficult.
What do you think?

What is the cheapest and best solution for what i am trying to do?
CPI is available in anchor as well to my knowledge
Something like this https://solanacookbook.com/recipes/programs.html#create-a-program-derived-address
How did you get this to work with lamports? It's defaulting to non decimal sol int for me üò¶
You're supposed to use `CreateAccount` with a generated PDA
Im not using Anchor, is it a problem?
Goodday, I am looking for an example of the usage of `BankClient` to test against a compiled bpf program. If this is ofcourse possible.
ah nvm, i think i got it. i just used a useeffect
so is the the way i should create a data buffer for a program account is to use the CreateAccountWithSeed? The program will be the owner of the data buffer? The client who wishes to invoke the program must pass in the this data buffer account as one of it's account parameters?
Could you just set to some publicKey or undefined?
You should be able to call mint with CPI within the program
hi there, im trying to set the initial state of a public key address for a form within react. does anyone have good suggestions for approaching this? is there a best practice for setting that?
hello guys. Q: how could create a token and mint it from a program? I mean, as I understand, to mint a SPL token from a .rs, the program has to be the owner of it to mint, burn and transfer, right?  I can create a token manually with spl-token-cli, but the owner is always the id.json setted in the solana/config file, so I imagen I can create once the token, and then mint and transfer in a pub fn. please help me with this! thanks!
solana-web3 sends a ping every 5s to prevent timeouts: https://github.com/solana-labs/solana/blob/2bbe1d875a815867349db614a0575a0b803f66fa/web3.js/src/connection.ts#L3708-L3709
<:hi:616281298121654280>
up <@!445425471027544095>
üëç
yep that's the current workaround, if you don't mind copying the data
Awesome ty for the info, it looks like closing and reopening the account kinda works to
The v1.9 release (what testnet is moving too very soon) contains the realloc feature [1].  So it should be available on mainnet in a couple months once v1.9 is stabilized 

[1] https://github.com/solana-labs/solana/blob/2bbe1d875a815867349db614a0575a0b803f66fa/sdk/program/src/account_info.rs#L113-L124
Thanks
At this point no, once creating an account it is fixed. However; I believe there is an upcoming feature that may allow some degree of grow/shrink
Is it possible to change the size of a program account?
Yes, likely encryption would also use `rand` which will fail in compile anyway.
Thank you, I should avoid heavy calculations on the chain.
You'd have to encrypt it and send the encrypted data to the program that can store it.
Data in an account is just serialized as encryption/decryption would slurp up your execution unit budget quicker than a 28 year aged single malt
thanks! will take a look
sorry here: https://bitquery.io/blog/solana-api
https://graphql.bitquery.io/ide/Sr4ksApTAT
there is some solana graphpl thing u can try
oh you mean programmatically, haha duh
yeah! i see. I want to get this data in my current project, so i need to find a way to fetch it
solscans show the total supply ~122M tokens
https://solscan.io/token/2poo1w1DL6yd2WNTCnNTzDqkC6MBXq7axo77P16yrBuf
i would like to get the current supply of this token (https://explorer.solana.com/address/2poo1w1DL6yd2WNTCnNTzDqkC6MBXq7axo77P16yrBuf?cluster=mainnet-beta), is there any available api for me to use, thanks!!
hey guys, is there any api for https://explorer.solana.com/
ok I created solana-cli create-address-with-seed, i think that actually doesnt create an account it just generates a keypair. I also dont see where to specify data buffer size, so I think thats not how i'm suppose to make a data account.
How can I store users' private data on the blockchain?
Do I need to use some kind of encryption?
Do I need to mix transactions?
is there a documentation on how to have persistent websocket with solana ?
should I use the solana cli to somehow make an account owned by the program account? and that would be its data buffer?
do I also need to create an account i mean
I've deployed the helloworld.so bpf, do I also need to create an account owned by the deployed address that has space for the helloworld's data?
hello, I'm trying to right a rust client to send a transaction to the  helloworld example https://github.com/solana-labs/example-helloworld
So I took charge of a Rugged project known as Mere Marbles, I made a new discord/twitter and got a snapshot of all the people who were still holding marbles. The new project is Marbles Evolved. I have the Metadata for the old ones as well and was hoping to Airdrop everyone on Snapshot the same Marbles they previously had from the Rugged project. But am not sure how to do so... Thats where I need help
whats the recommended way to get performance stats in client?  

im trying `connection.getRecentPerformanceSamples()` but am getting error: ```
Error: failed to get recent performance samples: Invalid params: invalid type: map, expected usize```
Try the airdropping call and see if it works. Should be fine https://solanacookbook.com/recipes/local-development.html#airdropping-sol
Go ahead and post here
System program should have the same id in local. What you did was correct
program account*
is there a reliable way to close an account or is it just a case of fully defunding it?
Hey there, just looking for a Dev that I can talk to. Need some help with something sort of urgently
so I don't need to find and replace the system program ids or anything in web3?  just setting connection  like :

const connection = new web3.Connection(
  'http://127.0.0.1:8899',
  'confirmed',
);

is enough?
Yeah - I built the metadata program and deployed it and then plugged in that id, etc.  but I probably screwed up something ..
You were just trying to do metaplex stuff locally? I think those programs need to be deployed first
Looks like you're doing something with candy machine and there's some config that uses a publicKey. Check and make sure everything is set, or head over to metaplex https://discord.gg/tk9rhbE8
Yeah - I was -- I wasn't getting the details in the error in terms of missing program -- but I should probably try and strip more layers back first
that would probably depend on the other library you're using, the solana libraries themselves don't use an env var
What program are you missing? Also, you can just set up your `connection` to use localhost for web3
Here's an example of a publicKey on the ts/js side https://github.com/solana-labs/solana-program-library/blob/c05f445d73ffe917367c590aaccee1ec018801f6/name-service/js/src/state.ts#L18
it needs to be recreated
Is there an environmental variable that you can use to set the solana cli config file location instead of using the `--config` flag? I'm using another library which doesn't let me set it.
What happens when an account created via the System program with create account can no longer fund it's rent? Would it need to be recreated or would simply depositing lamports into it bring it back to life?
can someone help me?
Hi, would anyone know what I am missing in the following snippet?
```rust
    let pubkey = Pubkey::from_str("BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW").unwrap();
    let system_account = Account::new(1, 0, &system_program::id());
    let cli_account = CliAccount {
        keyed_account: RpcKeyedAccount {
            pubkey: pubkey.to_string(),
            account: UiAccount::encode(
                &pubkey,
                &system_account,
                UiAccountEncoding::Base64,
                None,
                None,
            ),
        },
        use_lamports_unit: false,
    };

    let serialized = serde_json::to_string(&cli_account).unwrap();
    println!("serialized = {}", serialized);
    let deserialized: CliAccount = serde_json::from_str(&serialized).unwrap();
    println!("deserialized = {:?}", deserialized.to_string());
```
I am trying to serialize/deserialize a struct (`CliAccount`, defined here: https://github.com/solana-labs/solana/blob/b8837c04ec3976c9c16d028fbee86f87823fb97f/cli-output/src/cli_output.rs#L99), but the program simply exits without any complaint/error as soon as it hits `serde_json::from_str(...)`.

My assumption is was that this was possible since the struct is decorated with the serde `#[derive(Serialize, Deserialize)]`, but I guess I'm wrong. Would someone have pointers? Maybe a reason or an alternative?
I want to use it!  do you have like a special config for using web3 with it?  or do you have your own rpc clients etc - i haven't done that
Any inputs on why the network is so slow right now?
same program in devnet worked -- I wonder if maybe the system program ids I need to change for localnet?
getting "Transaction simulation failed: Attempt to load a program that does not exist " -- I guess could try on devnet and see if I get the same error or it could be something I'm doing wrong


///////////////////////////////////////////////////////////////////////////////////////////////

but not sure how/when it's applicable
<@!840683071496912916> I think the main purpose of allocate is just what the doc says, allocating space without needing to deposit SOL
I made a dumb mistake. My `create_account` was fine. My data was failing to serialize simply because my `space` arg was wrong
I am learning cli commands this is really hard
on the Rust side, does anyone know how to get length from a schema?
can anyone explain exactly how `system_instruction::allocate` is different from the regular account creation route?
ok thanks
FWIW, you only need to do that if it's a PDA. Since only the program can sign for the creation
It's that create_or_allocate function. Never looked to deep into the technical details of _why_ you need to do it that way.
does allocate mean the same as create?
Yeah, after you allocate the account you can put whatever data you want in it. Assuming it's been set to writable
can I just assign data to some bytes array?
thanks

```
    metadata.mint = *mint_info.key;
    metadata.key = Key::MetadataV1;
    metadata.data = data;
    metadata.is_mutable = is_mutable;
    metadata.update_authority = update_authority_key;
```

is the above something that can be done generally?
You can do something like this https://github.com/metaplex-foundation/metaplex/blob/master/rust/token-metadata/program/src/utils.rs#L603
I'm not using anchor
I know how to write inside a program but I am trying to find out if I can write data to it in the same instruction as creating it.
Are you using anchor? Anchor has an `init` directive in #[account] which does this for you
I can't do that because the PDA needs to be signed by my program
You can write to it inside a program. So have them init the account, then pass it to your program to write data. You can see an example of how this works with spl-token. You initialize an empty account, then pass it to the program to "init" the account.
Is it possible to init an account with data when I create it? Right now in an instruction, I create a PDA and would like to write to it, but of course I can't serialize it yet since the account has not been created.
I'm talking exactly about the marketplace you are referring to üòÑ

and it indeed sucks that there's no protection against it
There's no actual protection against it, which sucks.
no, my program will do something based on the condition that the user has paid the amount. but I realised that simply by specifying the `fromPubKey` to the user's key, it will include that amount in the transaction. I initially had a separate `SystemProgram.transfer` instruction but realised that was not needed. All good now.
Dear god, please don't do this. Some secondary NFT market places do this and everyone else has to repair their stuff.
hey guys

not sure what the best place to ask this is, so here goes nothing

but should the owner of an associated token account be changeable by a call to setAuthority? otherwise why have the associated token account program in the first place?

it breaks the pattern of deterministically finding a token account given a mint key and a "wallet". and it forces developers to endlessly create multiple token accounts
I think the config should just need the mint? Haven't looked at it in a while though.
you mean make sure they have some SOL to pay the small fee before sending?  you can use getBalance
you mean other frameworks? no. using Native is the alternative.  whats the issue with Anchor?
for custom instructions for custom programs, what's the best way to ensure the caller (wallet calling the instruction) has transferred some SOL?
Won't work
```const poolMint = stakePoolAccount.account.data.poolMint;
```

Would work
```const poolMint = new PublicKey(
    new PublicKey(stakePoolAccount.account.data.poolMint.toBuffer()).toBytes().reverse(),
  );```

The actual code samples are via Solana's stake pool program js chunks
https://github.com/solana-labs/solana-program-library/tree/master/stake-pool/js/src
are there Anchor alternatives?
Can you please send a minimal code sample?
https://discord.com/channels/428295358100013066/517163444747894795/920700616366514266

> Given poolMint is a PublicKey^ This is for instance, with regards to constructing the pool mint pubkey. Because the above line results in a different pub key
but for the getLargestAccounts function it tells me i need config, is there no way to get the owner from mint alone?
So can't you use that directly?
```export class StakePool extends Struct {
    accountType: AccountType;
    manager: PublicKey;
    staker: PublicKey;
    depositAuthority: PublicKey;
    withdrawBumpSeed: number;
    validatorList: PublicKey;
    reserveStake: PublicKey;
    poolMint: PublicKey;
    managerFeeAccount: PublicKey;
    totalStakeLamports: BN;
    poolTokenSupply: BN;
    lastUpdateEpoch: BN;
    fee: Fee;
}```

PublicKey

Pure web3.js

```import { Struct, Enum, PublicKey } from '@solana/web3.js';```
That is to say, only for nfts. Since you know that call will only return one account.
Magic eden is doing something weird. That address looks like an address they use in their smart contract, which I don't think is open source. If you want to get the correct owner of a mint, you can use `connection.getLargestAccounts()`. If you already know the owner and mint, you can get the ATA the way you're doing it. If you only know the owner, you can get the mint by fetching the ata and getting the mint off of it
What is the datatype of `stakepool.account.data.poolMint`
anyone has thoughts/knowledge on using `next_account_info()` vs accessing accounts via indexes?
It was producing a different pubkey when u output it to console

But the latter method parsed it fine
do you know if theres a function to get the correct owner?
thanks!
https://magiceden.io/item-details/9kSxgcXck1GFVdMk5HbAQgNu3Dxjrva6WXh4tHz5hr8k as can be seen here
strange though because i was going off magiceden and they put the owner as  AH28shAxohQUVzDofZn2uMfKaQ2nocVib2V4rpRNVH9x
oh yes when i set the owner to ``Fy4iG6ge17zDa9U8UQ56NUCSDm7N9gVbXXmmLsoh9avx`` it works
https://explorer.solana.com/address/FaWzKjG7JCqZe63MBTStFYCBtTi6p7JAQv6NWTQCkZzv
Or actually, GUfCR9mK6azb9vcpsxgXyj7XRPAKJd4KMHTTVvtncGgp
Shouldn't the owner be https://solscan.io/account/Fy4iG6ge17zDa9U8UQ56NUCSDm7N9gVbXXmmLsoh9avx?
Try this.
`const { TOKEN_PROGRAM_ID, ASSOCIATED_TOKEN_PROGRAM_ID } = require("@solana/spl-token")`
Should be `ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL` `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA`
```js
const { TOKEN_PROGRAM_ID } = require("@solana/spl-token") 
const SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID = new anchor.web3.PublicKey(
  "ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"
)
```
What is `SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID` and `TOKEN_PROGRAM_ID` ?
Extensions > rust_analyser. It's better than the default rust ext
This causes f***ed up state where someone's associated token account is owned by someone else.
help
Hi all. I'm using VS Code, but I'm not getting any autocomplete for my rust code. How can I have auto complete?
Not sure if you posted earlier, but what's the calling code doing? I have a strange feeling this is because some NFT retailers just transfer ownership of the account instead of transfering tokens
i followed the docs
no problem, i wonder why the result is incorrect though
Ah sorry, I was mistaken.
isnt that what i was originally doing though?
Just owner, token program id, mint.
The issue with yours though is the SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID shouldn't be in the array
What is the issue with the first method?
https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L2277

You should use this.
Bump!
This is how I am calculating the space to allocate. Is there something wrong here?
let space = std::mem::size_of::<MyDataStruct>();
Ok I think I know what is causing my issues. For some reason, the account I am creating has 3 bytes more data allocated than I am expecting.
so i changed to this but the address is still incorrect
```js
const getAssociatedTokenAddress = async (owner, mint) => {
  return (await anchor.web3.PublicKey.findProgramAddress(
    [
      owner.toBuffer(),
      TOKEN_PROGRAM_ID.toBuffer(),
      SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID.toBuffer(),
      mint.toBuffer(),
    ],
    SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID
  ))[0]
}

```
Thanks, is there any "official" docs I can show to persuade people?
You are missing SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID in the seeds.
yeah that should be harmless if you've not also used that keypair for other purposes
heres my function 
```js
const getAssociatedTokenAddress = async (owner, mint) => {
  return (await anchor.web3.PublicKey.findProgramAddress(
    [
      owner.toBuffer(),
      TOKEN_PROGRAM_ID.toBuffer(),
      mint.toBuffer(),
    ],
    SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID
  ))[0]
}
```
and here's how im calling it 
```js
  const owner = new anchor.web3.PublicKey('AH28shAxohQUVzDofZn2uMfKaQ2nocVib2V4rpRNVH9x')
  const mint = new anchor.web3.PublicKey('9kSxgcXck1GFVdMk5HbAQgNu3Dxjrva6WXh4tHz5hr8k')

  await getAssociatedTokenAddress(owner,mint)
```
how come sometimes im unable to find the correct associated token address for a token? for example, for this https://solscan.io/token/9kSxgcXck1GFVdMk5HbAQgNu3Dxjrva6WXh4tHz5hr8k the associated address should be ``FaWzKjG7JCqZe63MBTStFYCBtTi6p7JAQv6NWTQCkZzv``, but when pairing the owner with mint, like i should, it returns ``DaZfuTDibabFwfkkAB4UenBTQazydjoq5h2Y8y4ehPKP`` for some reason
bump
SO anything wrong with my Data struct?
It's not clear if you are wanting to deserialize the `Record` object or just the `Data` object within that record. The Data Object has 1 field  called `data` which is a fixed 8 byte array
Ok
Also <@!814228493302497301> I notice that here for example: https://github.com/solana-labs/solana-program-library/blob/master/record/program/src/processor.rs#L48 They didn't need try_from_slice_unchecked ü§î

There's a new devnet SOL faucet in town: https://solanatools.xyz/faucet/devnet.html
Take a few, give a few. Don't be mean.
pub struct Data {
    /// The data contained by the account, could be anything serializable
    pub admin_account: Pubkey,
    pub hours_per_round: u8,

    pub round_num: u32,
    pub start_time: i64,
    pub blockhash: [u8; 32],
    pub pot_size: u64,
    pub num_minted: u32
    pub num_burned: u32,
}
Run Solana under WSL
Windows the newest version
And what does your `struct Data {...}` look like?
#[derive(Clone, Debug, BorshSerialize, BorshDeserialize, BorshSchema, PartialEq)]
What does your Data struct look like? It should `#[derive(BorshDeserialization, BorshSerialization)]` right about it's declaration
Do I need to add a trait or something to my Data struct? I'm getting function or associated item not found in `Data
Are you asking what will happen if the account data is all 0's? Try it out in a unit test!
Will this causes values to go to defaults if there is not data set? E.G. Integers to 0?
Context? What version? What OS? What command?
Greetings guys! Working on something related to web3.js, no anchor.

Just wondering, given a stakepool object why would i need to parse the PubKey like that rather than directly using 

```stakepool.account.data.poolMint```

Given poolMint is a PublicKey^ This is for instance, with regards to constructing the pool mint pubkey. Because the above line results in a different pub key

Instead, i would have to do this. Am I right? I mean it works, but I don't want to have code that works for which i have no idea how it did..
```const reserveStake = new PublicKey(
    new PublicKey(stakePoolAccount.account.data.reserveStake.toBuffer()).toBytes().reverse(),
  );```
i came from other blockchains, so just trying to understand the landscape for trading tokens (not SOL) on Solana at the moment. do trading platforms like Raydium and Serum call into Solana's Token Swap Program?
I know I can derive the address, but just for the purpose of cloning it through solana-test-validator, can it be done?
it's actually a PDA, so is there a problem with cloning PDA accounts on localhost?
I know for sure the account exists, and I'm using it in tests, but when I boot up the local validator, it cannot fetch the account
trying to clone an account from devnet, when I run solana-test-validator --clone <pubkey> --url devnet, I get an error solana_core::test_validator[0m[38;5;8m][0m Failed to fetch <pubkey>: AccountNotFound: <pubkey>
curl: (35) schannel: next InitializeSecurityContext failed: Unknown error (0x80092012)  Im getting this error when installing solana tool suite
Please pm me with your profile and cv. we have some opportunities
We need help on the solana cookbook. Also, there's a few bounties out there by drift and mango
Hey is anyone working on something interesting or planning to and need an extra hand? let me know. I'm looking to start some project.
Try `confirmTransaction` or `sendAndConfirmTransaction`. The `onSignature` code for waiting can also be found in `confirmTransaction`
thanks <@!489206164270350337> guess it's either `sendAndConfirm` or I can do something like `onSignature` then run code once signature is found
Given a signature, it subscribes and returns once confirmed with your set commitment
You can use `confirmTransaction` https://github.com/solana-labs/solana-web3.js/blob/168d5e0/src/connection.ts#L2623
That doesn't wait either
there is a `getConfirmedTransaction` does that wait ?
`getTransaction` fetches processed transactions from the cluster https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTransaction
one would think that would come built in to the `getTransaction` method
If you use `sendAndConfirmTransaction` it will return after it is available
is there a separate mechanism for that ?
Wait until the transaction is available
I would imagine the `await getTransaction` would or should wait till the transaction is available on the blockchain, then return it
I think you're trying to get it before it is available
null for both situations.
I would imagine at the `get transaction` step it would wait till it get's at least one confirmation from the block, I would imagine that would include the transaction info including the status of the transaction ? I did try waiting for the entire finalization but that also resulted in the same problem, i.e. `finalized` instead of `confirmed`

```
await connection.getTransaction(setupTxId, {
          commitment: 'finalized',
        });
```
yeah, my flow is 
create transfer -> post to block -> get transaction -> check status -> continue to next flow
The account created has data but Borsh expects that your Data encompasses the entire data range from the account.
Try:
```rust
use solana_program::borsh::try_from_slice_unchecked;
// In your function
let mut account_data = Data::try_from_slice_unchecked(*pda_info.data.borrow())?;
```

Also note this in the source for this function:
```rust
/// Note that there is a potential issue with this function. Any buffer greater than
/// or equal to the expected size will properly deserialize. For example, if the
/// user passes a buffer destined for a different type, the error won't get caught
/// as easily.
```
I keep getting a borsh error in deserializing
Fail?
let mut account_data = Data::try_from_slice(*pda_info.data.borrow())?;
If the account has been created, but no data has been set yet, will;
Are you getting it immediately after sending?
hey team, I am using the `connection.getTransaction` method after posting my transaction to the block. I expect to get back a `TransactionReponse` as per the documentation, but instead I get back a null value.

txId = `5xcXA26tBg9M7dLwjvvv57ev7HCKA3Min9fYtuxMxbAEBGi3RbKZ2zwavG1y2sAjBnbyjaT2TvvP7nW5tY6q36CY`
```
const txResult = await connection.getTransaction(txId, {
          commitment: 'confirmed',
        });
```

I am trying to check whether or not the transaction succeeded. Here is the transaction in question:
https://solscan.io/tx/5xcXA26tBg9M7dLwjvvv57ev7HCKA3Min9fYtuxMxbAEBGi3RbKZ2zwavG1y2sAjBnbyjaT2TvvP7nW5tY6q36CY

Is there a different method to be used here or a different flow ?
<@!489206164270350337> thank you!
Run `solana rent <bytes>` to get the cost. You could also try arweave
Solana on windows is not 100%. Try WSL/Ubuntu
Hello! I am looking to upload pdf files on this blockchain. Does anyone know how much is the cost per kb of data? Does the cost have a linear increase for storing for example 1Mb of data? Also, do you know if the language has support for byte type?
Hello newbie here :
i wonder why i can't use solana command on vs code even though i follow all step?
Thanks for your feedback.

I have solved it. The problem was the different versions. 
Now everything works as planned under Win11 on WSL with the following versions:
anchor-cli: 0.19.0
solana-cli 1.9.0 (src:7782d34b; feat:378846963)
It's the same as sending extra sol.
Hello.
Unfortunately there is not much you can do.
Hi Soneji-guru!
Then what would be the appropriate action to take if extra amount of tokens were sent?
I think you are facing this https://stackoverflow.com/questions/69848319/unable-to-specify-edition2021-in-order-to-use-unstable-packages-in-rust
You can't burn a token from someone else's account.
I have successfully installed Rust, Solana CLI, Yarn and Anchor under Windows on the WSL.
Now I would like to build the automatically initialized project but I get the following error from "anchor build":

error: failed to download `solana-frozen-abi v1.9.0`

Caused by:
  unable to get packages from source

Caused by:
  failed to parse manifest at `/home/michael/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-frozen-abi-1.9.0/Cargo.toml`

Caused by:
  feature `edition2021` is required

How can I fix this problem?

I have installed the following versions:
anchor-cli 0.19.0
solana-cli 1.8.0 (src:4a8ff62a; feat:1813598585)
I transferred a custom token to another wallet but I'm trying to burn some of that.
Tried invoking `spl-token burn <associated_token_address_of_receiver> <amount> `but got the following error:
`RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x4 [5 log messages`]

Can anyone enlighten me with where I was wrong?
But I figured I would ask to be safe.
I think it doesn't matter since the account is owned by the bpf loader, so only the update authority can change it.
Does anyone know if it's ok to share a program id private key once the program has been deployed on mainnet, devnet and testnet?
Check verified creators + candy machine.
How do i check if an NFT is a "real" one from a specific collection? For tokens i can just check for the `mint`.
What do i have to check for NFTs
Ok I will run it from home. üëç
This worked when running from my home directory:
```bash
fastfrank@ubuntu:~$ sh -c "$(curl -sSfL https://release.solana.com/v1.9.0/install)"
downloading v1.9.0 installer
  ‚ú® 1.9.0 initialized
```
No, your better off here as I may not have the same problem you are but others might
Can I DM u if you are ok with that?
DO NOT RUN AS ROOT... that's how üôÇ
I'm noob ü§ß
How to run with root?
I have an Ubuntu VM I will try what you are doing
Not clear if 'Yes' you are running as root or 'Yes' you are not running as root. Bottom line: Do not run as root
Any solution for that?
Yes
And you are not running as 'root' correct?
where we can check someone's wallet inventory for NFTs, etc.?
Is there a solana API ?
Yeah I have tried older version but same error is coming. In linux
Keep in mind that each use of `sol_log_compute_units` costs 100 EU but you can get your approximate easily enough
Did you try an earlier version? Once you have the CLI installed you can also `solana-install update`
<@209587923203522560>  how to fix this?

thx
Metaplex has a Discord you should ask there
I want to do this without using candy machine, and generate the nft myself on server and then send it to receiving address
https://www.quicknode.com/guides/web3-sdks/how-to-mint-an-nft-on-solana

i'm looking for an example like this, but with on-chain metadata (metaplex)
hi
Or will they create PDA to act as virtual wallet of those said NFTs, working like a "storage space" that can do operations of checking on each 'send/retrieve' operation?
To create a system that each time an NFT is sold or moved It also will send an instruction to another program changing the owner in Its Accounts, is It possible to do so with Metaplex? I don't think so but It's worth asking.
Related question: Should we expect from Games on-chain to check NFT ownership on every single action in the game? Or how do they check an NFT ownership?
Blimey, yes coming from swift I am used to a completely statically typed language.  Really not a fan of the dynamism in js
Uhh, thanks!
If you surround a particular area of your logic with `sol_log_compute_units()` you can figure out computation cost (as consumed execution units). For example:
```rust
fn func() -> ProgramResult {
   sol_log_compute_units();
   // Do some work
   sol_log_compute_units();
   Ok(())
}
```

This writes messages to the log calling out that you have consumed X EU from a budget of Y EU
I will accept of course a very approximated value
How much computation does It require for on-chain programs to read from different accounts in the same transactions? Let's say 5 accounts in the same tx which are not bigger than 1KB
hi everyone, I have an issue with custom token program. I am looking for your discuss to this issue https://github.com/solana-labs/solana-program-library/issues/2639
any help on this
most libraries in general have ts support anyway and if not you can easily generate your own
you don't need to view the generated files with ts since you can just hover over objects in vscode
<@819513372159770694> typescript is way better than js
also, is typescript support just as good as js?
I have a question about using `anchor` 
How exactly does codegen happen after just using this import in javascript - 
`const anchor = require('@project-serum/anchor');`

And where can I find my object / function definitions that were generated?
i don't need anything too detailed, just a starting point
how could i achieve rewarding users x amount of my token based on requirements that need to be fufilled from my backend? is this in the contract? relatively new to dapp dev, especially on solana
what does this mean?
Error: Deploying program failed: Error processing Instruction 1: custom program error: 0x1
i get this error
whenever i try deploying my solana program to devent
hey guys
Anyone implemented erc-2917 staking rewards on solana before?
https://github.com/solana-labs/wallet-adapter

How can i get wallet provider for the transaction s?
Okay dirty solution to my own question is to change the compiler option `"noImplicitAny": false` to permit the implicit 'any' type returned by the call. If anyone has the *correct* way to fix my issue, I would love to hear. Thanks and gn
will check them out are those in the tests folder ?
any good option for filter USDC or not?
<@!785084693023424542> i just want to add  swap ui features  with serum-dex-ui code for my project.
Hi All, I am following along this `getParsedProgramAccounts` example from the Solana cookbook (https://solanacookbook.com/ingredients/get-program-accounts.html#filters), in order to yank out mint ID's of a connected wallet. Unfortunately, when I try to use this code const mint_id = `${account.account.data["parsed"]["info"]["mint"]}`, I get the following error: `Element implicitly has an 'any' type because expression of type '"parsed"' can't be used to index type 'Buffer | ParsedAccountData'.Property 'parsed' does not exist on type 'Buffer | ParsedAccountData'.  TS7053`. Is there another way to access the mint ID from the returned account data? It works fine in Node / TS on the command line, but not within my React app. Thanks for any hints!
Hai DEvs, how to get the transaction history for a wallet ? any hint please
i believe its just saying that you include all the accounts your dealing with, and the ones with signatures, and read write are in front/first.  the many ways its worded and a little differently may throw you off, but you can include many accounts read/write or read only, with and without signatures. 

to write, the account needs to have a signature/owner to write, its possible the signature/owner can be from a program (PDA) as well. its possible in this case you dont pass an additional signer from outside, but inside the program itself if its the owner it can write to it.  whenever submit a transaction that requires a fee, you still need to include a signer.  what scenario do you have a question about, if any, causing the hang up?
yep
just about browsing the api and code and seeing what fits your scenario
yea you can get transactions with that too, several different ways, only go so far back. depends what your trying to achieve. may work for you.
Oh I found `getSignaturesForAddress`
Thank you !
I read the code and  understood that I have to parse the associated token account's data. I'll tryüëç
why don't do a direct transactions history endpoint that fetch blockchain like bitcoin ü§î
Maybe I miss something but why accountsdb plugin receive notification only on writing accounts to cache?
https://github.com/solana-labs/solana/blob/8d22ca507671343b4c1a99d27c63fa376ad3b90b/runtime/src/accounts_db.rs#L4882
and it seems like this method is deprecated now
how to know it? ;D
so I should know signatures right?
Hmm.. sorry for lack of my understanding. Can you please elaborate?

"The addresses that require signatures appear at the beginning of the account address array, with addresses requesting write access first and read-only accounts following"
=> "The addresses that require signatures appear at the beginning of the account address array, with addresses requesting write access"

"The addresses that do not require signatures follow the addresses that do, again with read-write accounts first and read-only accounts following."
=> "The addresses that do not require signatures follow the addresses that do read-write, with addresses with read-only access"

I believe the this should be fixed like above.

why does address that has signature includes read-only? and vice-versa? (not having signature, but how to write?)
ah yes but I would like to do in frontend only, anyway I will check your link)
thats a bit broad and could be taxing and cumbersome, for transactions already processed you could try getting `https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedConfirmedTransactions` and filtering on token and mint USDC, for older stuff you would probably have to get at data a different way through bigTable, or an archive RPC node, and for active listening you could try subscribing and parsing logs  onLogs.  not sure there are any great examples per say for something like this..   you could also check how Solana explorer works, when you enter the USDC Mint Address inside the transaction explorer..  github repo posted just above.
there are also a lot of rust test clients in the solana and spl repos for reference writing rust clients in general.
just like history with dates etc
I would like to retrieve all USDC transaction for my phantom wallet
not sure what this means?
i believe its just reiterating the same with a different meaning also, 'again with read-write accounts first' meaning  the addresses that do no read-write and require signature come after the ones that are read-write and do require signature.
not sure you want to merge those together..  but if you really do, may want to ask in the project serum discord:
https://discord.gg/nC6dNWhH
Hi, I have a question with the message format (https://docs.solana.com/developing/programming-model/transactions#account-addresses-format)

Account Addresses Format
"The addresses that require signatures appear at the beginning of the account address array, with addresses requesting write access first and read-only accounts following. The addresses that do not require signatures follow the addresses that do, again with read-write accounts first and read-only accounts following."

Isn't that modifying account's data or debit requiring signature? 

so I cannot understand the last sentence.

"The addresses that do not require signatures follow the addresses that do, again with read-write accounts first and read-only accounts following."

how does the address without signature could write?

shouldn't the "again with read-write accounts first and read-only accounts following" to be changed only to "read-only accounts"?
if you get accountInfo on the ATA who is the owner, authority?   the source for explorer is in github as well in case you want it, its a great reference:
https://github.com/solana-labs/explorer
Hi.
How can I programmatically get the wallet account that is the owner of an Associated Token Account from the client using web3( or using JSON RPC)?
I think there must be a way to get it, because it shows up in the Explorer.

The following is an example.
I want to get the Owner, "MELBssovCW8bFb6bGJHEiQYRbM8HFWZpTubaGBVQNdT" from the Associated Token Account, "42ztA1vfQWX3RM8SrMQBoUZw1dkj8mEx9oeDNhAPNutv "

https://explorer.solana.com/address/42ztA1vfQWX3RM8SrMQBoUZw1dkj8mEx9oeDNhAPNutv?cluster=devnet
hello <@!687000627615629332>  i am facing  issue, i cannot merge Swap UI with serum-dex-ui. If any one  solved this merging issue .Please let me know how to merged  projectserum/swap-ui code into Serum-dex-ui.
Who wants to be paid on a project monthly need a solana developer around the clock!
how to list transaction for `USDC` by example using solana `web3`?
hi
example may give you an idea, then search their crate documentations 
https://github.com/mvines/solana-cli-template/blob/master/src/main.rs
like we call from phantom
i want to call instruction 0 with my pda
i have a function in processor.rs and its intruction number is 0 which is used to call from our frontend. Now i want to create one function and generate pda and sign intruction 0 function what will be the right approach to do that <@!445425471027544095>
https://github.com/mvines/solana-cli-template
Hmm any other examples you could recommend, for someone who knows nothing abt writing client side on rust.
Rust clients are great, and well supported. Approachability vs. JS/TS really just depends on one's past experience.  Here's a template to start from: https://github.com/hashblock/solana-cli-program-template
Hey, was curious about writing client side interaction in rust instead of js/ts any resource that might help with it ,? Also why aren't rust clients popular is there a tradeoff that makes it not as approachable like a js ts client
i have a function which is called from frontend from our normal phantom wallet. Now i want to call that from my newly generated pda in the same smart contract. So, can i call my function with invoke_signed or i need to copy whole code for that ?
hi everyone, I have an issue with the error "Invalid param: not a v2.0 Token mint". Does anyone have the idea to resolve it? Thanks in advance ü§ï
yeah, hope you understand the explanation as well - gl
thanks! will try that
yeah so your public keys are 44 characters long, each character is a byte, because it's base58 encoding, you need to decode it from base58 to the bytes first. if you're passing in the accounts, try `account.key.as_ref()` which will get the 32 bytes you want
I am trying to find the PDA for a NFT metadata but getting error `'Unable to find a viable program address bump seed'`  with this snippet 
```let seeds = &[
            "metadata".as_bytes(),
   "metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s".as_bytes(),
            "HXi919NQv7dPDA2fP9pNL9dFUMLGpSooTuNvH87unJhk".as_bytes()];
        let (metadata_addr, _) = Pubkey::find_program_address(seeds, &Pubkey::from_str("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s").ok().unwrap());```
Thanks so much!
I was expecting a function that takes `solana_sdk::account_info::AccountInfo` as the return value, but the following code certainly seems to achieve what I want.
```rs
let alice_pubkey = Pubkey::from_str("BgvYtJEfmZYdVKiptmMjxGzv8iQoo4MWjsP3QsTkhhxa").unwrap();
let account: Account = rpc_client.get_account(&alice_pubkey)?;
let account_info = AccountInfo {
  key: &pubkey,
  is_singer: false,
  is_writable: false,
  ..acount,
};
```
maybe here https://docs.rs/solana-client/latest/solana_client/rpc_client/struct.RpcClient.html#method.get_account
just found that the solana nodes' transactions has been lagging behind quite often recently. May I know any fixes I can do to prevent this
That's true for javascript.
Is there a similar API for Rust?
im using simulateTransaction
web3js use both http request and websocket. it depends on what method you called.
all function in web3js followed https://docs.solana.com/developing/clients/jsonrpc-api
1. yes.
2. just put your pubkey to accountInfo and call it. like
```
let accountInfo = await connection.getAccountInfo(new PublicKey("your address here"));
```
does web3js use sockets or anything? trying to monitor the requests my node script is doing because i cant tell if theres some client side caching going on or what
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getAccountInfo
Is there an API equivalent to `getAccountInfo` in Rust, and how can I call AccountInfo from pubkey?
Like what resoultions are good price/nice looking
Anybody got any recommendations for gif sizes?
gotcha thanks@
I remember there is a something like sign transaction or sign message. not pretty sure but the main idea is that to get the first signature.
right now i have a ``sendTransaction`` method using the solana wallet adapter & I guess it signs & executes it within it
gotcha, and *then* I can send the signed off message?
seems you haven't signed it. after your finishing signing then you can get the first signature.
it has a ``signature`` property but its empty before it gets executed
i have an ``anchor.web3.Transaction`` object I've added instructons too & was trying to get the signature it would generate before executing it
hmm right
oh! this is the first signature of your tx
in the other word, your fee payer's signature will become this tx's txhash
oh i meant the tx id like ``4xjThWzBhn5JyD8gt1Xha8ungGE7LuMfE2uvbpL3PvsvPTKdJxJ22fD3kfL8QHSexC9yvgEzsUqMzr7A8Y8d4G3c``
sure. all signatures you need will write in the message's first byte
a tx = signatures + message
you can get the message to know how many signatures you need in this tx.
there is a good article https://jstarry.notion.site/Transaction-Fees-f09387e6a8d84287aa16a34ecb58e239
Is it possible to get the signature of a transaction **before** it's sent out?
Could anybody help me with getting an idea on deployment fees?
I regenerated yet another key and it seems to be deploying now.
Oh wait, nvm. The build is successful the `.so` file is there, it just wasn't showing in my IDE
and so when I try to go to run deploy (old build destination where there is no file), I get `Error: Account <old_key> has insufficient funds for spend`
I also ran `solana program close --buffers`
Yes, there are no errors when I run build
ook then maybe the delay can be from the web app. thanks but have to tried getting a token registered on solana before?
thats a different problem now then?   no error running the build?
so if the github was merged. the list is there and updated. the web apps use the list, but everyone updates or uses it how they want. so it may take some time for them to fresh, not sure, it would be based on the web app likely.
actually the build step isn't even working. it's not outputting a `.so` file
this is on local
yeah that's what i meant
you said github already verified,  what does that mean? it was merged?
Hi, I am looking into using the Solana ledger to ensure that some data is authentic and hasn't been tampered with and for that I'm thinking about actually storing the data on the ledger. But I can't seem to find how to do that. It's also very likely I am missing something, I haven't worked with blockchains/Solana before. Do you guys have any idea/suggestion regarding this?
so --force can overwrite your existing keypair..  which is the keypair you probably used to deploy..  so you may have just overwritten the key pair used to deploy and upgrade the program, and new created a new keypair, so your trying to deploy with a different keypair/authority, and you cannot now.  is this dev or local ?
okay if i get you correctly github maintainers are actually responsible for the the delay i am experiencing in getting my token name and logo registered ?
I see. I ran `cargo clean --manifest-path=./src/program-rust/Cargo.toml && rm -rf ./dist` and then I did `solana-keygen new --force`, I rebuilt and I'm getting this error when I try to deploy:
```
Error: Program's authority Some(<old_key>) does not match authority provided <new_key>
```
It seems like the program is somehow retaining the old key, even though I've removed the build folder and closed the the test-validator. Is there someway to reset the whole thing?
1. explorer or solscan, or wherever the logo is not yet showing. would be the web app (application).  2. the github maintainers listed on the github
okay thanks very much, please i want you to help me clarify this questions    1. whom do you refer to as applications          2. who is responsible for approving the name and logo of a token on solana blockchain?
these are different things. getting on the token list is a stand alone process and updates the list in github, when it actually does get merged. after, it is up to the applications using the token list, as to when they show any updates from the list. it can take days or more based on the application and how often they pull new data or refresh cache.
yes it is likely, that your program has grown over the max allocated size based on its initial deployment.  if none is specified, be default a program is allocated at max size of a little over twice its initial deploy size.  If you exceed that, you may need to redeploy your program under a new program Id.  under preferred conditions, you can estimate and specify this size yourself with the `--max-len` flag when using `solana program deploy` initially.
thanks for your reply, actually github has already verified the token and there are no errors but the token is still yet to be named on explorer or on solscan and it doesnt have a logo too is neither showing
you mean the token list in github and it was merged?  and showing up in phantom as an NFT?  may have to file a ticket with Phantom? not sure why that would happen.
you mean the token-list?  you have to file issues and comments in github. there has been an influx of new requests so it is slower, but it can take up to 2 weeks normally.  looking to improve on the process.
that is a client call.  do you mean from a program or client?  
thats an older version but something like that could get a mints total supply. in any case you need the mint account, and u can get the supply.
Getting an error about account data being too small. Does this mean the account where my program resides is too small? ```Error: Deploying program failed: Error processing Instruction 0: account data too small for instruction```
Hello, I minted spl token and it was all going well until verification. After that phantom decided to list my tokens in collectibles section. I tried solflare wallet and it shows them as tokens. Does anybody know how to fix this with phantom? Thanks
but you're right that as rpc user there is no way to directly access that index
not sure about that. Looking at the storage code for the bigtable archive, it looks to me like it does store the index of the transaction in the block, and uses it to sort when returning a list of signatures
Hi guys- please i need help about this, i created a token and then pushed it to solana to be registered but its taking over 3 weeks. is there a solution to this or does it really take this long to get a token registered
How would one go about getting the supply of a token from a program?  I see https://docs.rs/solana-core/1.6.4/solana_core/rpc/rpc_full/gen_client/struct.Client.html#method.get_total_supply in the docs here... is that the best method to call?
Hi Guys - I disabled to authority on my spl token to disable minting, this was a mistake, is there a way to re-enable this?
doesn't reflect the entry order
The rpc doesn't return in the correct order at this time https://canary.discord.com/channels/428295358100013066/517163444747894795/916080798862565466
are there any docs so far on how to take advantage of the increased account limits ?
hello good people. It looks like v1.90 should be a big deal
does getSignaturesForAddress return txs in the correct order at all times, even if two txs are executed in the same slot?
lol  whats for dinner
please i need help about this, i created a token and then pushed it to solana to be registered but its taking over 3 weeks. is there a solution to this or does it really take this long to get a token registered ?
is there any way to download a snapshot of state + access accounts without running a validator?
I'm trying to deserialize a struct  (in a JS client) that only has a string, but I am getting:

`Unexpected 44 bytes after deserialized data`
recipe? ingredient? dessert? Anyone for a single malt scotch and cigar after dinner?
is `this.wallet` defined?
does anyone know what could be causing this error? using anchor
```
        await this.wallet.signTransaction(tx);
                          ^

TypeError: this.wallet.signTransaction is not a function
```
do you think creating a new program id will solve our error?
okay for this I solved it by just running `solana-keygen new --force`
in regards to the rust/ts samples?   on that yea would be great.  a section in recipes under serialization ->  to include client/program examples for some different structures, for different types of serialization as well.
seems like today is not our lucky day
just tried. didn't work. new error now: `This account may not be used to pay transaction fees`
try to delete the target folder and run anchor deploy
Anyone knows how to force deploy a program to a new address? I have a new dev key now but solana cli is trying to deploy to the same address but I don't have the old key aymore
Im getting an error saying `Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 4: Cross-program invocation with unauthorized signer or writable account` any ideas of the cause? I checked my code against metaplex code and it should work, the only difference is that I'm not using a config account
https://github.com/solana-dev-adv/solana-cookbook/issues/90
Never mind, I added it! Thanks anyway!!!
I'm deploying to devnet
Will do it in the morning if that is alright.
I dont know if this will help you, but when I deployed to the devnet, instead of the localhost, some errors were fixed on my program
I added a new account into the list.

I previously had only: user's account, and the pda account. I added the program's account.
what have you modified?
Today is a day of many new errors for me

`Deploying program failed: Error processing Instruction 0: account data too small for instruction`

after modifying the accounts bit for `invoke_signed()`
<@!445019022338031618>  - Go ahead and add an issue here: https://github.com/solana-dev-adv/solana-cookbook
Assign the issue to yourself if possible as well
Correct. Add to issues and comment saying you're working on it. Just to avoid duplicate work
Right, IMHO requests like above could be added to the issue log there as others can pluck them off if I can't find the time?
Going under some structural changes
I moved your page under `ingredients` btw
Rust <-> js type conversions? Would be fantastic
<@!489206164270350337> <@!785084693023424542> - What do you think of requests like <@!445019022338031618> being added to the Cookbook issues on GH?
Tysm <@814228493302497301>  , the above example is quite good consider adding it to the cookbook, also another addition in the serialization section would be of diff rust types and how are they represented in js/ts side in the borsh schema tbh would be quite poggers.
<@!445019022338031618>  `const pkbuf = new PublicKey(BASE58_STRING).toBuffer()`
https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html
same error as me hahaha
I solved this. It was because in my `create_account`, the `fromPubKey` was not listed in the `account_infos` passed to `invoke_signed()`

now I have a new error:

`Cross-program invocation with unauthorized signer or writable account`
Any chance you might know how to convert a b58 public key to a buffer?
No no, ur example answered my question tysm , I only wanted to know how to represent the rust pubKey in borsh schema which you have shown, tysm.
I updated for simple... of course the 'payload' would also have a `u8` instruction as per the cookbook
Are you asking for the Rust side?
I assume pubKey here is a placeholder, which would be my variable name on the rust side,  you wrote type of a pubKey on js ts side would be written as ['u8',32]
Anyone I could contact about this?
ok ok thanks though
I've never done it myself, sorry
```typescript
// Flexible class that takes properties and imbues them
// to the object instance
class Assignable {
    constructor(properties) {
        Object.keys(properties).map((key) => {
            return (this[key] = properties[key]);
        });
    }
}
// Our instruction payload vocabulary
class Payload extends Assignable { }

const schema = new Map([[Payload, {
    kind: 'struct',
    fields: [
        ['pubkey', ['u8', 32]]
    ]
}

// In some function:
    // Construct the payload
    const mint = new Payload({
        pubkey: publicKey.toBuffer()
    });

   const mintSerBuf = Buffer.from(serialize(schema, mint));
    // Create Solana Instruction
    const instruction = new TransactionInstruction({
        data: mintSerBuf,
        keys: [
            { pubkey: account, isSigner: false, isWritable: true },
            { pubkey: wallet.publicKey, isSigner: false, isWritable: false },
        ],
        programId: progId
    });
```
Like isn't that just a local change?
can anyone try help me with this error here please? I'm stuck on this for 2 days
Hmm does this work on a deployed token?
Trying to acheive the same thing, add a pubKey as a field in the schema.
Yo <@675681308541976586>  did u figure this out ?
I've never done it , but is not done via this screen in Phantom?
this CPI thing is very confusing :/
I'm trying to create my own mint program

I've not encountered this error üò¶
and it gives me this error

I'm having a very similar problem, I'm trying to call invoke_signed on the token metadata program
Hey guys any idea on how to make your spl token show up in fantom with name and icon and not just address? Looked everywhere I could but can't find anything
Now I have a new error, haha
`An account required by the instruction is missing`

Gonna try to debug this. Will share once solved.
You know what I might ta a crack at it in the morning if this hasn't been done before and open a issue if I get any success on it.
the error was due to a mismatch between the passed PDA account and the seed passed to invoke_signed
thank you! I found the cause for my error

my seed is one that is a number. on the client side, it was converted to String first, but on the Rust side I had not converted to a String first. it was a `u32` converted to `[u8]` 

my fix was doing
`let id_string = u32_id.to_string();`
then `let id_bump = id_string.as_bytes();`
Ermm u misunderstood me xD I was just describing it's structure in rust, and want to ask how do I add it as a field in the borsh schema.
It's trying to get one off curve
Awesome, is there code that you can contribute? Would be great to have a table there in the serialization part of common Solana types in rust/javascript
`find_program_address` calls `create_program_address` in a loop until it finds one that is valid
https://docs.solana.com/developing/programming-model/calling-between-programs
There is a chance that PDA generation may not always succeed, which is why using find_program_address might be better
pubKey is a tuple struct of one element which is a  fixed sized array of 32 u8 on rust
thanks, but, what does the error mean?
Was following the cookbook example in serialization and deserialization using borsh on client side, so wanted to recreate paulx client side code using borsh, that is why a bit confused on how to get type pubKey which is an array of u8 on js/ts schema
uses invoke signed
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account
anyone?

TLDR: `Provided seeds do not result in a valid address` error
thanks, let me try this.
if the account is already owned by the program you should be able to just debit the account and add lamports (to the other account) I believe. did you try that?
and then transfer SOL in and out of it. IIUC
essentially I would need to have another PDA be owned by `escrow_account` which contains no data
but `claimant` account is a user account
thanks!
you mean `escrow_account`? yes
```
        invoke_signed(
                create_account_instruction,
                &[
                    program_owned_account.clone(),
                    pda_account.clone(),
                ],
                &[&[&u32_id.to_be_bytes(), &[pda_bump]]]
            )?;
```
I'm trying to make this work. `pda_bump` is already `u8`,
I'm getting the error:

```
Program failed to complete: Could not create program address with signer seeds: Provided seeds do not result in a valid address
```
I see. Didn;t see it specified anywhere in the documentation, so missed that part
ahh. yes I dont recall the reason this was put in specifically,  but when transferring lamports with a system transfer, the account sending cannot have data in it I believe.  

however, the account is owned already by the program?
`const ESCROW_PDA_SEED: &[u8] = b"escrow";`
what is the data type of `ESCROW_PDA_SEED` ? I'm currently trying to make my `invoke_signed` work
Hey - can I increase my spl token supply if I already disabled it previously?
thank you so much
Dont I have to set_authority to do so?
how do you foresee it transferring the account?

`trying to transfer the actual account?` - How come? I am specifiying the transfer amount according to what the method expects
it looks like your intending to transfer tokens, but your using code that is trying to transfer the actual account?
where did you get this code from?  misguided copy paste missile?
you are not able to currently resize accounts after initially created. but that may be changing soon.  instead you can estimate what you think the max is you will need and add a buffer. that way if you require everything in 1 account you can try to allocate enough space.
generally means that is not a valid token account..  is that in mainnet?
the seed for the escrow account is derived from a const string and escrow account owner's key
This is what the code looks like

I'm trying to transfer SOL from a PDA based escrow account to a user account
Hello SolDevs, I am running in to `Transfer: `from` must not carry data` error 
https://github.com/solana-labs/solana/blob/master/runtime/src/system_instruction_processor.rs#L190

Are PDA accounts not allowed to carry data?
how is account memory managed? i.e. if I create an account and specify 2MB of space, would I be able to increase the space for that account later on?
pls help
Burn 100 tokens
  Source: 6Q9rgHuNoavtPemAKZ6j9xeLQZ8sXaLy4PpHR9oue9aU
Account could not be parsed as token account: pubkey=6Q9rgHuNoavtPemAKZ6j9xeLQZ8sXaLy4PpHR9oue9aU
anyone knows what this cascade of `msg`s accounts for when i try to upgrade a deployed program?
The docs you are looking at probably say something like `impl Into<Foo> for Bar`. `Foo` is the type it is converting into.
`into` comes from a trait in the standard library, so the docs are general to that trait: https://doc.rust-lang.org/std/convert/trait.Into.html#tymethod.into

To understand what into does in the context of the other type one needs to understand what the Into trait does, and to read the type signature of the specific impl.
is what I use
.toString()
Link to docs?
Looks like u32? You can do something like this https://github.com/solana-labs/solana-program-library/blob/jsx/token-ts/token/ts/src/state/mint.ts#L45
this if from the docs. I'm confused - what conversion? any conversion?
If it is a publickey, do `toBase58()`
trying to create a struct schema in js, what is borsh type for Pubkey(solana-rust) in js/ts borsh
how can i convert something like this to a readable public key?
```
  "BPF_UPGRADE_LOADER_ID": {
      "_bn": "02a8f6914e88a1b0e210153ef763ae2b00c2b93d16c124d2c0537a1004800000"
  },
```
I figured my issue out... ends up I need to make our_token_program writable when sending the request
Thanks, I think I found the functionality I was looking for: 
    /// Given a wrapped / native token account (a token account containing SOL)
    /// updates its amount field based on the account's underlying `lamports`.
    /// This is useful if a non-wrapped SOL account uses `system_instruction::transfer`
    /// to move lamports to a wrapped token account, and needs to have its token
    /// `amount` field updated.
    ///
    /// Accounts expected by this instruction:
    ///
    ///   0. `[writable]`  The native token account to sync with its underlying lamports.
    SyncNative,
`let ix = spl_token::instruction::burn(
        main_token_program.key,
        initializers_token_account.key,
        our_token_program.key,
        initializers_main_account.key,
        &[&initializers_main_account.key],
        transfer_amount,
    )?;

  invoke(
      &ix,
      &[initializers_token_account.clone(), our_token_program.clone(), initializers_main_account.clone(),main_token_program.clone()]
  );`
Anyone have thoughts why I would get this error:  "Cross-program invocation with unauthorized signer or writable account"  with this code:
How would one get a program log with <@839088888449466409>/web3js in a similar way to `solana logs <programid>` ?
got it. Appreciate for all your help
Ig what you mean is BPF Loader is Native Program.
System Program is a type of Native Program, so is BPF Loader.
aha so it seems that program id which is postfixed by 1111 something is all kind of system program, to be said, native program
mea culpa
I should have qualified it as a Native Program
https://docs.solana.com/developing/runtime-facilities/programs#system-program
so BPF Loader is one of system programs? I thought it would be a native program

oh is that so? 

when I type solana config get in my cli, it shows this
But BPF Loader is A system program
aha gotcha.. so as a result,, cookbook has to be modified, right? program account's owner is not a system program, but a BPF loader
I believe the `toString()` converts it to Base58 encoding
BN = Big Number
<@!859429885063331880> what is that <BN> thing? why does toString() converts that to proper system program id?
Did you get it to work?
<@!814228493302497301> <@!859429885063331880> thanks for your help.
nice


wow...
do owner.toString() to get the "stringed" pubkey.
Can you send me the pubkey of the program account?
I don't think you are using the right account. And you will get error if localnet (solana-test-validator) not running
I have a sample program in devnet:
```bash
solana account SampGgdt3wioaoMZhC6LTSbg4pnuvQnSfJpDYeuXQBv
Public Key: SampGgdt3wioaoMZhC6LTSbg4pnuvQnSfJpDYeuXQBv
Balance: 0.00114144 SOL
Owner: BPFLoaderUpgradeab1e11111111111111111111111
Executable: true
Rent Epoch: 213
Length: 36 (0x24) bytes
0000:   02 00 00 00  a4 6d da 51  48 e4 d4 48  b1 19 5e 80   .....m.QH..H..^.
0010:   a7 ff 85 8a  c9 06 49 f3  63 d8 5f 7f  8b 32 6a 4d   ......I.c._..2jM
0020:   9a a6 00 d6                                          ....
```
If it is true, then why the result of the owner is not BPFLoaderUpgradeab1e11111111111111111111111?
I believe, check the source for confirmation, that you build->deploy->test and each 'build' of the program generates a new unique key. So if you do, from the hello world main folder) with solana-test-validator running:
`solana account $(solana-keygen pubkey  target/deploy/solana-bpf-helloworld-keypair.json)` what does that do for you
Seems like it, as per the docs a executable program acc is owned by bpf-loader https://docs.solana.com/developing/runtime-facilities/programs#bpf-loader
Hmm.. it shows an error. weird

Yes, if that string is the Hello World Program Account pubkey string
Hi community, one quick question. My team and me are having multiple error when building the our project, have you seen anything like that? documentation about this error hasn't helped much so far...
do you mean "solana account a682a94280561eea16bb1638e2eba5067dcf5ff263758940957dc247b91329c1"?
and the result is
PROGRAMID PublicKey {
  _bn: <BN: a682a94280561eea16bb1638e2eba5067dcf5ff263758940957dc247b91329c1>
}

Where you fill in the deployed program's pubkey (str or keyfile path)?
Not yet üôÇ -> `solana account <PROGRAM_ACCOUNT_PUBKEY>` what does that show you?
so is that cookbook information wrong?
network is localhost.
Yes, what network did you get this from?
All programs are owned by the BPF Loader and executed by the Solana Runtime
cookbook shows that the counter program account's owner is system program (11111111111111111111111111111111)

yes, but isn't the program account's owner should be the system account?
No, that is the Program account as indicated by `executable: true,`
that programId is deployed rust program keypair
I think that PublicKey is not the system account's.
PROGRAM_INFO {
  data: <Buffer 02 00 00 00 42 fc c7 44 3b cb b1 40 0a a5 e0 50 1d 1f 45 2f e3 49 cf 75 32 7a c7 08 6a 1e ae c0 2a 00 04 31>,
  executable: true,
  lamports: 1141440,
  owner: PublicKey {
    _bn: <BN: 2a8f6914e88a1b0e210153ef763ae2b00c2b93d16c124d2c0537a1004800000>
  },
  rentEpoch: 0
}
This way I logged the hello-world programInfo, and the result is like below.

yep so according to cookbook, counter program's executable byte code is stored in counter program account, and the counter variable(state) will be stored in the counter data account. Am I understand correctly?
What did you do to get that account result?
When your program writes data to an 'account' it is doing it to an account that it (the program) is the owner of, whereas the program account itself is owned by the system


///////////////////////////////////////////////////////////////////////////////////////////////

This is pretty easy but you need a small script to convert from the base58 private key Phantom "exports" to a keyfile.json file. Alternatively an easier way is to re-generate the key in the CLI from the seed phrase: `solana-keygen recover prompt://?key=0/0` (now type in your seed phrase)
I got `Transaction simulation failed: Error processing Instruction 0: invalid program argument` when calling my program, I have no idea why?
```Rust
    let space = instruction_data[0];
    let bump = instruction_data[1];
    msg!("bump_seed: {}, space: {}", bump, space); // bump_seed: 255, space: 5
    // Error occurs in below two lines.
    let rent_sysvar_account_info = &Rent::from_account_info(next_account_info(accounts_iter)?)?;
    let rent_lamports = rent_sysvar_account_info.minimum_balance(space.into());
```
Correct
I see, perfect, thanks. So for now it's "no but soon" üôÇ
a phantom wallet
There's an effort to featurize the `solana-remote-wallet` crate, which would allow for this. https://github.com/solana-labs/solana/pull/21449
ahh. so you want to 'import' a wallet to use as the keypair from.. what app?  there are a few routes to take. `solana-keygen recover prompt:?key=0/0 -o derived-keypair.json`   for the default wallet may work for many scenarios.
(not a rust expert, don't know cargo much yet, so sorry if it's a dumb question :D)
Can the `solana-sdk` crate in a Rust program (i.e. a Rust server that talks to the blockchain) be configured to NOT need a dependency on `libudev` ? I don't see our server needing ledger support. Any ideas?
this could be several things, common ones are building in the wrong directory, or if your on mac  delete all the ds store files in all sub directories, there are others but I think those are most common for anchor build.
Give me a moment
Oh wait... I think I know what it may be...
Sorry, in the `programs` directory. What does `ls -a programs/` say in your anchor project's root?
just lib.rs as it initialized
Interesting, not sure what happened there. Do you accidentally have any hidden files etc. inside your `programs` directory?
i want a wallet to be my cli wallet. I dont want to create a new wallet. I want to use the old one as my command line wallet
I have initialized the anchor project
Hi guys, any idea why anchor build will not work for me?

what do u mean by import in context?  what are you trying to do?   -clone is generally the only thing for copying/importing i recall, on a 1-1 basis.
thank you so much!
genesys go I think may still be free for the remainder of the year? otherwise rpcnodes, quicknode, titan, figment, and more.
thank you for your answer. I was looking for third parties RPC but I couldn't find infos.
Do you have some to recommend?
How do i "import" a solana account with the cli
transactions being sent in a timely manner need a recent block hash. according to the error you may not have an existing one or recent one. hard to say without more info.  there are air drop related tools available. airdrops may need to use non public or alt RPCs to avoid rate limiting as well based on frequency and volume.
Hi everybody, I'm getting an error while I'm trying to do an airdrop of tokens to 10k+ address.
it's "RPC response error -32002: Transaction simulation failed: Blockhash not found"
And it seems that the addresses involved in those transactions never receive the token
Does anybody know anything about it?
Good afternoon! I'm looking for a rust programmer with experience in contracts for a marketplace (escrow contracts etc). The project has a special requirement, I appreciate if interested parties could send me a DM to explain the idea. Thanks a lot!
alright! thanks.
Yes
just to make sure you're not making a mistake?
To confirm that you're sending to a presently zero-balance recipient
why is --allow-unfunded-recipient a necessity?
Should be. Check over at metaplex discord https://discord.gg/dcykgk6k
^ example
https://canary.discord.com/channels/428295358100013066/517163444747894795/920422306252218378
Should by `['u8', 32]`
or Uint8Array?
is u64
do you happen to know what data type maps to pubkey?
Is it possible?
Thanks for the reply, I'll take a look
Hi,
Is it possible to get NFT metadata on smart contract?
Check out https://solanacookbook.com/ingredients/serialization.html
You have to know the structure of the account to decode it
Whole bunch of resources here https://solanacookbook.com/ Also you can create a FE DApp with https://github.com/solana-labs/wallet-adapter
<@!489206164270350337> 
You article helped me!!!!
thank you so much!!!
It worked 
Thank you so much!!!
what's the esaiest wau to decode account data? 
```              "J5pJalBmkZnpaLthAAAAAP4IyywZZZ6vmZe0CLkgaFM1WKaEYUuQyMiOb5S8M/Uz",
                "base64"```
Gm everyone, I would like to know what you recommend me to learn to create dapp on Solana? I know only HTML and CSS, so I'm really a beginner here. I found courses about rust on Solana but maybe it's not the best option to start as I saw Javascript is use in some dapps
I don't think you can tell just by looking at the explorer like that (the PDAness is just about the address, not the account that lives there)
<@!788215642070581289> doesnt look like a PDA account or does it https://explorer.solana.com/address/5ne7phA48Jrvpn39AtupB8ZkCCAy8gLTfpGihZPuDqen?cluster=devnet ?
Right
So "in program" if I want to check a PDA is initialized, I might need to check by data size, lamports, or owned by my program or not, right?
Uninitialized accounts still show up as an AccountInfo, it's just in an empty state
Oh, no, not in your program, no
You can indeed do that (it'll return null if there's no account there)
There's no api like `await connection.getAccountInfo(account);` in javascript to check account exist or not in program?
You need to `brew install coreutils` to get that greadlink command I think
(And this has nothing to do with whether the address is a PDA, just about the account itself that lives there)
You would have to check what kind of account data is there (if the account data is empty and it's owned by the system_program + has no lamports, then it definitely hasn't been initialized)
How to check if the PDA is already created(initialized) or not in program?
line 131 is `"$cargo" $maybeRustVersion build $maybeReleaseFlag "${binArgs[@]}"`
`./scripts/cargo-install-all.sh . `does not work for me <@!489206164270350337> 
That's why i did not do it last time

 `OSTYPE IS: darwin21
./scripts/cargo-install-all.sh: line 13: greadlink: command not found
Install location: /Users/alexanderlupatsiy/Developer/solana (release)
Note: Performance libraries are only available for Linux
+ '' build --release --bin solana --bin solana-bench-tps --bin solana-faucet --bin solana-gossip --bin solana-install --bin solana-keygen --bin solana-ledger-tool --bin solana-log-analyzer --bin solana-net-shaper --bin solana-sys-tuner --bin solana-validator --bin rbpf-cli --bin cargo-build-bpf --bin cargo-test-bpf --bin solana-dos --bin solana-install-init --bin solana-stake-accounts --bin solana-test-validator --bin solana-tokens --bin solana-watchtower --bin solana-genesis
./scripts/cargo-install-all.sh: line 131: : command not found`
Is it common to have a delay of 2 seconds or so in receiving a transaction via websocket at `processed` commitment level?
just found i tthanks
Are you using `Clock::get()?.unix_timestamp`?
i do have `.cargo` but don't have the `config` in there
PDA is an account which fall off ed25519
PDA is just like a normal account but you need to use program to sign it instead of a private key
There are keys that are not in the ed25519 curve?
`isOnCurve` only tell you the key is on ed25519 curve or not.
it doesn't mean the address is invalid
Why is this returning false? `PublicKey.isOnCurve(new PublicKey("5ne7phA48Jrvpn39AtupB8ZkCCAy8gLTfpGihZPuDqen").toBytes())` 
Its a valid key
https://explorer.solana.com/address/5ne7phA48Jrvpn39AtupB8ZkCCAy8gLTfpGihZPuDqen?cluster=devnet
Probably uninstall and reinstall rust. Don't use brew to install rust. Causes issues
I haven't done it personally, but I believe it is. Governance advances time as part of the tests https://github.com/solana-labs/solana-program-library/blob/bf7ad18f41d5878050128c6c3f3412fb581d9e46/governance/program/tests/process_flag_instruction_error.rs#L61
<@!489206164270350337> I dont have `~/.cargo/config` should i just create this dir or did i already do something wrong.
I did not uninstall and reinstall rust
https://solanacookbook.com/recipes/programs.html#how-to-get-clock-in-a-program Is what people are using on the program side
when you create an account, both `from` and `new` need to sign the tx. only program can sign a pda so you can only create a pda in the program.
what are you guys using for times in rust? I've tried adding chrono to my project but it doesn't install (can't install time crate depdency) maybe it's todo with me being on m1
On a a Solana Test validator, is it possible to fake time for testing purposes, for example travelling 1 day into the future?
I'm getting `Error: Signature verification failed` when creating an account, and can't figure out what's wrong. Below is my code, it's simple.
```Typescript
  const SEED = "ABC123";

  [pda, bump] = await PublicKey.findProgramAddress([Buffer.from(SEED)], programId);

  // Check if the greeting account has already been created
  const pdaAccountInfo = await connection.getAccountInfo(pda);
  if (pdaAccountInfo === null) {
    const lamports = await connection.getMinimumBalanceForRentExemption(
      SIZE,
    );

    const transaction = new Transaction().add(
      SystemProgram.createAccount({
        fromPubkey: payer.publicKey,
        newAccountPubkey: pda,
        lamports: lamports,
        space: SIZE,
        programId: programId,
      }),
    );

    await sendAndConfirmTransaction(connection, transaction, [payer]);
  }
```
Not exactly. You should be able to just build from source
But all the commands in that post stay the same?
Should be able to now
I ca just do it in my zsh?
yes
The problem is with homebrew i guess
With my old macbook air it put the packages from `brew install` into `/usr/local/opt`
With this m1 pro it does not do it
Here's a tutorial, but you shouldn't have to do rosetta anymore https://dev.to/nickgarfield/how-to-install-solana-dev-tools-on-an-m1-mac-kfn
try brew install openssl@1.1?
1.8.11 should work
everything is working except solana-test-validator.
It did not work building from source so i did the version 1.8.11 because 1.9. did not work.
Said something like hardware restrictios
Did you build from source?
What version did you try?
Hi,
I get this error when running `solana-test-validator`:
`dyld[7121]: Library not loaded: /usr/local/opt/openssl@1.1/lib/libssl.1.1.dylib
  Referenced from: /Users/alexanderlupatsiy/.local/share/solana/install/releases/1.8.11/solana-release/bin/solana-test-validator
  Reason: tried: '/usr/local/opt/openssl@1.1/lib/libssl.1.1.dylib' (no such file), '/usr/local/lib/libssl.1.1.dylib' (no such file), '/usr/lib/libssl.1.1.dylib' (no such file)
zsh: abort      solana-test-validator`

I did install `openssl@1.1` with brew
But it does not seem to put it in the `/usr/local/opt` dir. I dont even have this directory.
It is a new MacBook pro with the M1 pro chip.

what should i do. I looked up so many things on the web
i've been able to do metamask but phantom wallet is kicking my tail
Hey everyone, I got a weird question, how can I integrate phantom wallet with Unity Game Engine or Unreal Engine 5?
are there any solana nfts that are launched on devnet that i can interact with?
Can you show the whole program log? Much easier than one part of it
Aha...Next error ```Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: invalid account data for instruction```
If you don't rerun anchor build then you'll just end up deploying a stale .so file with the wrong declare_id in it
Duh!
You'll need to generate a key (e.g. with anchor build), then edit your declare_id! to match, *then rerun anchor build!* to generate a new .so file that reflects the corrected declare_id, and *then* run anchor deploy
Let me go through the process and post the output here.

```
rm -rf target/deploy 
anchor build
anchor keys list // FrPvnCJ1jJsdzwVqfEArqPsjJxfZqJeFPztGkDrGXRRP
// update in lib.rs, Anchor.toml, and client
anchor deploy --provider.cluster https://api.devnet.solana.com

Program path: /Users/andreaskoestler/projects/solchat/target/deploy/solchat.so...
Program Id: FrPvnCJ1jJsdzwVqfEArqPsjJxfZqJeFPztGkDrGXRRP

Deploy success
```
(This is dumb that anchor doesn't warn more noisily about this ü§¶‚Äç‚ôÇÔ∏è)
I wonder if you're forgetting to rerun `anchor build` *before* running `anchor deploy` after making changes to the program id.
How are you deploying the program?
Again the client code for ref
```
const provider = new Provider(
        connection, wallet, opts as ConfirmOptions,
      );
      const programID = "7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj";  
      let prog = new Program(IDL, programID, provider) as Program<Solchat>;

      const [chat, bump] = await PublicKey.findProgramAddress(
        [wallet.publicKey.toBuffer()],
        prog.programId
      );
      await prog.rpc.create(bump, {
        accounts: {
          chat,
          user: wallet.publicKey,
          systemProgram: SystemProgram.programId,
        },
      })
```
```
declare_id!("7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj");
```
It is the right ID. Sorry for the confusion

```
solana program show --programs                                   

Program Id                                   | Slot      | Authority                                    | Balance
7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj | 101288735 | FWDxJDmc5MhvBeXhbE6GRTK9yvX4FJ8Bn9edQ5Zp5awA | 6.40729944 SOL
```
(Super irritating that you have to get this right)
But that id from the program log is your de facto program id, and it needs to match the declare_id! part.
Ok, do you know why that id doesn't match what you had above? 7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj != 7zC7Ava4cUASmhqZtpMZhQcsmRhATY2xWd5hctYB42TN
I got used to the api just by reading a lot of anchor examples, personally
```Transaction simulation failed: Error processing Instruction 0: custom program error: 0xbbf 
    Program 7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj invoke [1]
    Program log: Instruction: Create
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Custom program error: 0xbbf
    Program 7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj consumed 8930 of 200000 compute units
    Program 7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj failed: custom program error: 0xbbf
console.<computed> @ index.js:1
error.ts:34 Uncaught (in promise) Error: 3007: The given account is not owned by the executing program
    at Function.parse (:3000/static/js/vendors~main.chunk.js:18485)
    at Object.create (:3000/static/js/vendors~main.chunk.js:19366)
    at async foo (:3000/static/js/main.chunk.js:242)
index.js:1 Transaction simulation failed: Error processing Instruction 0: custom program error: 0xbbf 
    Program 7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj invoke [1]
    Program log: Instruction: Create
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Custom program error: 0xbbf
    Program 7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj consumed 8930 of 200000 compute units
    Program 7LTrJxXtQ5knV2v3t87oyet3LTqgRb6Uk9H6fDnDdJZj failed: custom program error: 0xbbf
console.<computed> @ index.js:1
error.ts:34 Uncaught (in promise) Error: 3007: The given account is not owned by the executing program
    at Function.parse (:3000/static/js/vendors~main.chunk.js:18485)
    at Object.create (:3000/static/js/vendors~main.chunk.js:19366)
    at async foo (:3000/static/js/main.chunk.js:242)
```
is there a better workflow?
makes sense. Do you find them by just looking at the docs here? https://solana-labs.github.io/solana-web3.js/classes/PublicKey.html#findProgramAddress
The tests running `anchor test` pass. This is being accessed from the UI. I can give you the console output
It should be getting printed somewhere, or if you're running this via `anchor test`, in `.anchor/program-log`
`web3.PublicKey.findProgramAddress`
How can I access that? üôÇ
I got it, I thought `is_writable` access need a signature before. I'm wrong.
Thank you both üòÑ
Makes sense. Checked the cookbook already, but there is nothing on custom program interaction with ts/js

what i am actually trying right now is to translate a rust client to js and there are many things where i do not seem to find the correct functions.
e.g. is there something similar to `Pubkey::find_program_address` in <@839088888449466409>/web3? How to find (or if not exists) create ATAs? ... 

I am aware that these are basic questions, but i do not seem to find the entrypoint where to find the solutions myself
as cqfd says. and it is just `is_writable`, you don't need its signature.
is_signer and is_writable are different concept.
Any transfer mutates both the sender as well as the receiver
You're mutating that account, so solana needs write/exclusive access to it
I understand, but why the `to` is needed also?
If `to` writable access is required, how to airdrop the spl token?
Whats the solana transaction to mint an nft with web3?
yes. your `from` in the instruction should be `is_writable` = true
and your `to` is also need.
the main error is `EE4F2bZY1GSoaSDfw7xXGk1ajkDziD8jZafsCra7EVNE's writable privilege escalated`
just need to pass it as a writable in your instruction
Do I need to have "write" access of B account if I want to transfer spl token to B?
I'm trying to transfer spl token from PDA to a user account but shows the error.
https://explorer.solana.com/tx/35iMa47JbSkGhuRgiEchQrcruvvWBBjcvqCMC3zjJxWSpvVj1Ys2NCS9H7VZxp7mgDeYYTAFd2Zfqoa9vNgxDHZH?cluster=devnet
thank you very much for your elaboration. appreciate it. I think anchor documentation should be updated in more detailed way üôÇ
Can you show the program log?
No. All ids match, also on the client... but still
```
Uncaught (in promise) Error: 3007: The given account is not owned by the executing program
```
Does your program work now too?
Sorry my bad. All ids match now.
So borsh will be happy to encode arbitrary-ish-length strings
You have to pick a serialization strategy in general. Borsh (one common serialization library) encodes a string as <4 bytes for the length> + the string bytes (utf-8)
Is there no JS helper function that builds the instruction for you?
How does serialization of strings work on account data? Do they have a fixed size?
(Not actually sure though)
Yeah it looks to me like you can't, or at least that's what I would guess from the rust side
It's the output of the anchor deploy command.
idk i should be
Where is that DBMNJbwrJHEQMxhsbee1roVYSgnvbAu25d3RJmiDeuUa coming from?
Looks like those are two separate instructions in the rust code.
```
 anchor keys list 7zC7Ava4cUASmhqZtpMZhQcsmRhATY2xWd5hctYB42TN

Anchor.toml:
[programs.devnet]
solchat = "7zC7Ava4cUASmhqZtpMZhQcsmRhATY2xWd5hctYB42TN"

lib.rs
declare_id!("7zC7Ava4cUASmhqZtpMZhQcsmRhATY2xWd5hctYB42TN");

anchor deploy --provider.cluster https://api.devnet.solana.com  

Program Id: DBMNJbwrJHEQMxhsbee1roVYSgnvbAu25d3RJmiDeuUa

Deploy success
```
Does this make sense?
Are you allowed to request both units as well as heap in the same instruction?
Is it possible to retrieve transaction data while it is still at the processed commitment level?
anyone else getting a bunch of timeouts?
If a started a Defi project on solana wouldn‚Äôt I need start up capital for loans ?
Hey i am trying to call new `RequestUnits` instruction from JS I already got 1.9.1 and checked that feature is active.
Here is code that returns `invalid instruction data` 
```    const program = new PublicKey('ComputeBudget111111111111111111111111111111')
    let params = { units: 300_000, heap: 1024 }
    let layout = {
      layout: struct([u32('units'), u32('heap')])
    }
    let data = Buffer.alloc(layout.layout.span)
    layout.layout.encode(params, data)
    allocateTransaction.add(
      new TransactionInstruction({
        keys,
        programId: program,
        data
      })
    )```
is the solana network still not back up to speed O_O
Did you check that your `declare_id!` is correct?
pub fn initialize(ctx: Context<Create>, bump: u8) -> ProgramResult {
        let acct = &mut ctx.accounts.counter;
        acct.counter += 1;
        acct.bump = bump;
        Ok(())
    }
And in general if you really want a big number you should really use strings in BN, e.g. `new anchor.BN("11111111111111111111111111111111111111111111111111111111111111")`
You can see the issue with JS numbers by noting that `Math.pow(2, 53) === Math.pow(2, 53) + 1`
So anytime you want to use a u64 or bigger in rust, you'll need to use a BN in JS
The `anchor.BN` part is actually necessary here (well, at least it's necessary given how anchor's JS code currently works): the argument in rust is supposed to be a u64, which is too big for a JS `number`: numbers in JS are doubles under the hood, and doubles can only represent integers exactly up to 2^53 (so only 53 bits, not 64 like for a u64)
Hi everyone! I don't know, maybe this issue has already been discussed. I have such a problem - I sent usdc from binance, when sending I wrote the usdc address of my wallet, but binance instead created an associated token account for my usdc address. Is it possible to transfer usdc from there?
wow.. I got it. thank you very much. and the reason why the example puts BN(1234) is just for demonstrate purpose, not itself has a meaning right?
So if you have `pub fn some_ix(ctx: Context<Something>, x: u64, y: u8, z: String)`, you'd invoke it in JS as
```.js
program.rpc.someIx(new anchor.BN(123), 255, "foo", {
  accounts: {
    ...
  }
});
```
I'm saying that anchor's JS stuff just happens to flip the order: it puts the context/accounts stuff last, just since it's much easier to read that way
So you'll need to know the seeds+bump for that PDA.
Ah, ok, great, then you'll do something like
```.rs
invoke_signed(
  &the_instruction,
  &[ ... the accounts ... ],
  &[
    &[b"a seed".as_ref(), b"maybe another one".as_ref(), &[the_bump]]
  ]
)
```
thanks for the link!

By the way, sorry for my lack of understading. Can you please explain more further?

Isn't that data the second parameter of program.rpc.initalize?

```
{
  accounts: {
    myAccount: myAccount.publicKey,
    user: provider.wallet.publicKey,
    systemProgram: SystemProgram.programId,
  },
  signers: [myAccount],
}
```

Since Rust pub fn initialize method accepts data as second argument. But how does that new anchor.BN(1234) be the data as it is first parameter of program.rpc.initalize?

And I also wonder why we have to pass the BN(1234).

Thanks for your help
The PDA account owns the token! So how to sign it when owner is PDA?
Here's the anchor discord: https://discord.gg/nRFBdUzX
The arguments are flipped in JS (bit confusing but it's easier to read them), so the 1234 is the data argument, not the context
Hi, I just begin to read anchor docs.

In https://project-serum.github.io/anchor/tutorials/tutorial-1.html#creating-and-initializing-accounts,

```
// Create the new account and initialize it with the program.
await program.rpc.initialize(new anchor.BN(1234), {
  accounts: {
    myAccount: myAccount.publicKey,
    user: provider.wallet.publicKey,
    systemProgram: SystemProgram.programId,
  },
  signers: [myAccount],
});
```

I cannot understand why we pass new anchor.BN(1234) to the first argument of the initialize method.

```
pub fn initialize(ctx: Context<Initialize>, data: u64) -> ProgramResult {
        let my_account = &mut ctx.accounts.my_account;
        my_account.data = data;
        Ok(())
    }

```

It seems that initialize's first arg is Context<Initialize>.

How new anchor.BN(1234) is related to Context<Initialize>?

Thanks.

p.s Is it okay to ask anchor related question in this solana discord? if there is anchor discord server (which I cannot find), please let me know!
In this case you would need to sign with the authority/owner of the token account, not the token account itself. Who owns the tokens in that PDA account?
Pubkey::from_str("..........").unwrap()`
any ideas?
having a hard time converting base58 to pubkey
``let correct_recipient_key = Pubkey("555yt8a7MtKExNzQMhQGQa5retoLuDxBpchVjgJFE9e3");`
-----
https://docs.solana.com/developing/programming-model/calling-between-programs
see line :`    let (escrow_pubkey2, bump_seed) = find_program_address(&[&["escrow2"]], program_id);`
Hi everyone, I have a program and a PDA(program derived account). If I want to transfer spl token from PDA account to another account, how to achieve it?
As I know there is a `invoke_signed` method that I can invoke instructions inside the program, **but I don't know where can I get the `signers_seed` parameter**
```Rust
pub fn process_instruction(
    program_id: &Pubkey,
    accounts: &[AccountInfo],
    instruction_data: &[u8],
) -> ProgramResult {
    // Iterating accounts is safer then indexing
    let accounts_iter = &mut accounts.iter();

    // 1. Program derived token account
    let pda_token_account = next_account_info(accounts_iter)?;
    // 2. User token account to send to
    let destination_token_account = next_account_info(accounts_iter)?;
    // 3. Program derived account
    let pda_account = next_account_info(accounts_iter)?;

    // Transfer spl token instruction
    let transfer_tokens_instruction = transfer(
        &spl_token::id(),
        &pda_token_account.key,
        &destination_token_account.key,
        &pda_account.key,
        &[&pda_account.key],
        tranfer_amount,
    )?;

    let required_accounts_for_transfer = [
        pda_token_account.clone(),
        destination_token_account.clone(),
        pda_account.clone(),
    ];

    invoke_signed(
        &transfer_tokens_instruction,
        &required_accounts_for_transfer,
        // how to get signer seeds?
    )?;
}
```
Super excited about 1.9. release (esp. doubled tx size)
Wen safu to use for programs on mainnet?
Is it possible to retrieve transaction data while it is still at the `processed` commitment level?
`const {
  metadata: { Metadata, MetadataProgram },
} = programs;` I get error . how can I sure define right way metadata?
Be more specific? What 'hurdle' do you have first?
There is also this: https://solanacookbook.com/#contributing
Thank you very much for this information.
Can you provide any examples of NFT creation "by ts"?
already found that, thank you. I am just to dumb to understand that
https://docs.solana.com/developing/clients/javascript-api
What does the documentation say about `prog.rpc.Initialize`?
My guess given that code is that your `declare_id!` doesn't match the program's actual runtime program_id. You should be able to check this by looking at the id that gets printed in your program logs‚Äîif it's different that what you wrote in `declare_id!` then you need to update the declare_id to match (and then rerun `anchor build` if you're using `anchor deploy`! Important to rerun `anchor build` *before* you `anchor deploy`)
I am searching for resources that explain how to interact with a custom program with JS / TS. I've checked out <#763249718339567626> but the only thing that i could really fine on that is https://dev.to/cogoo/solana-how-to-send-custom-instructions-via-instruction-data-4g9g which is not really enough for me to understand
I do get ```error.ts:11 Uncaught (in promise) Error: 3007: The given account is not owned by the executing program``` using the anchor client. 

```const provider = new Provider(
        connection, wallet, opts as ConfirmOptions,
      );
      const programID = "12fUBnQ3rn4cxCTumecvsbHgcG7bibkS7zriJAHcJtCn";  
      let prog = new Program(IDL, programID, provider) as Program<Solchat>;

      const [chat, bump] = await PublicKey.findProgramAddress(
        [wallet.publicKey.toBuffer()],
        prog.programId
      );
      await prog.rpc.Initialize(bump, {
        accounts: {
          counter,
          user: wallet.publicKey,
          systemProgram: SystemProgram.programId,
        },
      })
```
This is the program
```
#[account]
pub struct Counter {
    pub bump: u8,
    pub count: u8,
}

#[derive(Accounts)]
#[instruction(bump: u8)]
pub struct Initialize<'info> {
    #[account(init, payer = user, seeds = [user.key().as_ref()], bump = bump,  space = 8 + 16)]
    pub counter: Account<'info, Counter>,
    #[account(signer)]
    pub user: AccountInfo<'info>,
    pub system_program: AccountInfo<'info>,
}
```

Can anyone point me in the right direction please?
if I use `clock::Clock::get()` in multiple places in my program - will all of them return the same number, or if processing takes long enough is there a chance the results will be different?

in other words what I'm asking is: should I run `clock::Clock::get()` once at the start of my instruction and pass it in as saved variable everywhere, or is it safe to call it multiple times?
your qn mix many concepts together. To do what want to do, I will separate them into 2 steps
1. use metaplex to create a NFT (by ts)
2. know how to do `invoke` and `invoke_signed` 
if you can manage the two things above, you can create NFT on program by rust.

for metaplex: https://docs.metaplex.com/
for invoke: https://solanacookbook.com/recipes/programs.html#how-to-do-cross-program-invocation
How can I Create NFT with metadata in Solana contract using rust?
Hi guys, I want to poke around Solana core, but my rust-analyzer doesn't seem to have a good indexing, error catching, do I need to configure it in some particular way?
hi all, what's a secure way to provide this:

- server needs to interact with Program, therefore must sign transactions
- keypair is in the form of a local file
- server MUST send the instruction as there's an argument in the instruction_data that is dynamic that needs to be passed every time

how can I ensure the keypair is safe? but still have it on the server to sign instructions
But it will fail:
```rust
#[tokio::test]
async fn test_borsh() {
    #[derive(BorshDeserialize, BorshSerialize, Debug)]
    pub struct Data {
        /// The data contained by the account, could be anything serializable
        pub admin_account: Pubkey,
        pub hours_per_round: u8,
        pub round_num: u32,
        pub start_time: i64,
        pub blockhash: [u8; 32],
        pub pot_size: u64,
        pub num_minted: u32,
        pub num_burned: u32,
    }
    let pubkey = Pubkey::new_unique();
    let data = Data {
        admin_account: pubkey.clone(),
        hours_per_round: 1u8,
        round_num: 5u32,
        start_time: 5i64,
        blockhash: pubkey.to_bytes(),
        pot_size: 5u64,
        num_minted: 5u32,
        num_burned: 5u32,
    };
    // This works fine
    let data_deser = Data::try_from_slice(&data.try_to_vec().unwrap()).unwrap();
    println!("Data {:?}", data_deser);
    // Attempting to deserialize uninitialized account data
    let faux_account_state: Vec<u8> = std::iter::repeat(0u8).take(1024).collect();
    let data_from_zero = Data::try_from_slice(&faux_account_state);
    if data_from_zero.is_ok() {
        println!("Data 0 {:?}", data_from_zero.unwrap());
    } else {
        println!("Failed attempt to deserialize from empty account data");
    }
}
```
yeah, thanks, pda is a beautiful design.
sure. you can init a PDA as a mint account. Just remember you need to use `invoke_signed` to create these accounts (system program's create account).
if you just want to use seed to make some connections between them, you have another choice , `create_account_with_seed`.
this operation only need `funder` and `base` to sign and you can use system program to do it don't need `invoke_signed`. just give you another options, use PDA is totally fine!
hi, when i lauch a collection of nft, can i use pda as the mint id, 
the seeds of pda like &[&["collectionName"], &[program_id], &[nft_id]] // the nft id from 1 to 1000 like?
ok got it, thanks!
It basically works the same within a program though, so those examples may still be useful to grok the basic operational model
ok, so the owner authority doesn't have to match the destination, got it
Almost.  The close instruction takes a destination account that receives the lamports.  That may or may not be the same as the owner authority
I know about this, thanks, but I need to it inside the program
you can take a look here https://solanacookbook.com/recipes/token.html#close-token-account
I see, and the lamports go back to the authority (whoever initialized the wrapped SOL token account), right?
okay <@!788215642070581289> , thanks the time.
for a wrapped SOL token, a token transfer also moves the underlying lamports too
I'm not familiar with anchor. not sure how many types currently support in idl. seems the error is thrown by anchor. maybe ask the guys in anchor. https://discord.gg/KSpGps7R
transfer the partial amount to a different wrapped SOL token and close that one
I was thinking to transfer the wrapped sol to an intermediary account, but then I still need to transfer the lamports from the original account
I can't close the account, because I only need a partial amount :/
Same token `CloseAccount` instruction, to close the wrapped SOL token account.  But if the PDA has authority over the account, the the program needs to `invoke_signed()` the close account instruction
I see. so how would you unwrap SOL to transfer the native SOL from a PDA account?
Hi <@!788215642070581289>  I'm trying to define the BTreeMap Type in my account, while i try to test its show an error like,

error:-
IdlError: Type not found: {"name":"reserves","type":{"defined":"BTreeMap<Pubkey,Reserves>"}}

code:-
#[account]
pub struct LendingMarketAccount {
    pub bump_seed: u8,
    pub owner: Pubkey,
    pub reserves: BTreeMap<Pubkey,Reserves>,
}

#[derive(AnchorSerialize, AnchorDeserialize, Default, Clone, Copy)]
pub struct Reserves {
    mint_token_account: Pubkey,
    mint_token_amount: u64,
    a_token_account: Pubkey,
    owner: Pubkey,
    reserve_balance: u64,
    reserve_widthdraw: u64,
}

how can i use that, can you help me with it,
borsh support BTreeMap serialization,
You can't.  The token account is owned by the token program, not the system program.  So the system program cannot modify a token account
how can I set authority from the token program so that I'm able to perform system program transfers on a token account?
it is possible. Data store into account is just a u8 array. How to decode these data is our responsibility.
I found that borsh support BTreeMap serialization, I think you can just use it.
https://docs.rs/borsh/0.8.2/borsh/maybestd/collections/struct.BTreeMap.html#impl-BorshSerialize
Hi can someone help me to use BTreeMap in anchor account struct, there is any possibility to use Map struct inside the account
you can take a look here https://github.com/solana-labs/solana-program-library/pull/1802
I think it is just a friendly check. 
No doubt a PDA can have an ATA.
Whats the motivation by this check above? What would be wrong with a PDA owner of an associated token account
https://github.com/solana-labs/solana-program-library/blob/HEAD/token/js/client/token.js#L2282
My coping strategy is to pretend lifetimes don't exist until the compiler starts yelling. Then grab a üç∏ and buckle up!
Is it just me or lifetimes confuses the shit out of one, and u start trying to figure them out instead of the actual code.
But there are 3
That is why am confused üò≠üò≠ the elison rules only apply if there is a self or only one input refrence
Practically, probably because the compiler and clippy didn't complain üôÇ
The process function
Since it's taking refrences but I see no lifetimes here.

Yes my issue is understanding why this particular Solana function has it's lifetime elided
Maybe here, there's also Rust language discords and I hear they're super helpful and welcoming if you have a Rust language issue (like groking a particular lifetime or something)
not really
Tysm <@445425471027544095>  and <@165693124432232449> , is there any channel where I can ask questions abt rust specific syntax which is confusing me ?
When signing a transaction, yes.  And the runtime rejects is_signer transactions without the corresponding signature.
So there are checks for is_signer but not is_writable(without p.k)
you can but it'd give you a runtime error `Signature verification failed`
Strictly speaking on the client side, can a client set the is_signer true without a p.k?
is there an example to replicate --fund-recipient on chain from a program for a token transfer? I'm seeing `invalid account data for instruction` in my transfer_checked call and I'm pretty sure it's because the recipient account isn't initialized. Should I do that atomically before my instruction?
Correct.  Programs always have full authority over the accounts they own.  They may chose to write into them based on an `is_signer` bit provided to them as input, or not.
So I can pass any arbitrary account to a program as writable without having the p.k of that account, but only by having the p.k I can set it's is_signer to true ?
A) No. In this case xyz program can only read from the account, even though its the owner
B) Yes they can be passed in writable from the client.  A program may never escalate account read access into read-write access
I'm trying to send SOL from a wrapped SOL PDA, but since it hasn't been initialized with a system program instruction, I get an " instruction spent from the balance of an account it does not own" error. How can I basically send SOL from an ATA, not wSOL? Any workaround?
Anyone know what this error means???? PickeDbError on a simple solana-tokens command...

Hey, so I'm looking to create SPL tokens for my project and I was wondering if you could direct me to any resources that would allow for me to automatically transfer the tokens from the main wallet to other wallets that contain my projects NFT inside of it. We also want to include bonuses for certain traits. If there is any useful tools for this, I would greatly appreciate the help! üòÑ
Because in the paulx tutorial he never allocated space or created the pda by calling system program, he just generated an address of chain and passed it as an account with is_signer and is_writable as false and later escalated is_signer to true,, also confused if on the client side I can pass any arbitrary account ? Without even knowing the private key of it ?
A)If I pass an account owned by an xyz program  as only readable can the xyz program still write to it,.
B)Also was curious to know can pdas be passed as writable from the client side ,or they are always passed as read only and non signwr, and that is escalated by the program that owns them ?
Howdy! I have a very newbie question. I'm looking at this example, and it simply += and -= in order to transfer lamports https://github.com/solana-labs/solana-program-library/blob/master/examples/rust/transfer-lamports/src/processor.rs

```
    // Withdraw five lamports from the source
    **source_info.try_borrow_mut_lamports()? -= 5;
    // Deposit five lamports into the destination
    **destination_info.try_borrow_mut_lamports()? += 5;
```

Is there some outside validation going on to prevent += 6?
Hai, AnyOne could help me to fetch the transaction history from react native ?
üëç https://jstarry.notion.site/Transaction-Fees-f09387e6a8d84287aa16a34ecb58e239#67aeb39d8b2540019cb37792c6a2cd32
Hi. Anyone can point to resources to on-chain CAPTCHA to detect bots? Tks.
Thanks Im gonna hop on my Ubuntu install good idea
good luck
I've ran into several issues using the windows cmd but when I run Ubuntu in WSL I don't run into any issues
Or another thing you could try is using Windows Subsystem for Linux.
I did :/ and powershell. I think I nailed the command & CSV & keypair at this point but just errors out
Try running the command line in admin mode
ye
What OS are you on? Windows?
would be worth it
hmmmmm
Might have to boot up the old HDD haha
Isnt that ubuntu?
https://www.youtube.com/watch?v=TV6XnAir88Q
Only thing that comes to mind is try with sudo
Dang, why the heck would I get a PickleDb error on this one?
solana-tokens distribute-spl-tokens --from TOKEN ACCOUNT --owner my-keypair.json --input-csv recipient.csv --fee-payer my-keypair.json --db-path C:
Total in input_csv: 1 tokens
Error: PickleDbError(Error { msg: Access is denied. (os error 5) })
I'm trying to find some resources for procedurally generating 32x32 pixel images. Could someone point me in the right direction? I have no idea where to start.
in the same transaction, what would cause the compute units to decrease between instructions?
```
consumed 61983 of 200000 compute units
consumed 50931 of 138017 compute units
consumed 50931 of 87086 compute units
consumed 36155 of 36155 compute units
exceeded maximum number of instructions allowed (36155) at instruction #76439
```
I see. Thanks!
Is `Clock.unix_timestamp` guaranteed to be monotonic?
Anyone know what these means? Trying to use Solana-tokens CLI
Error: PickleDbError(Error { msg: Access is denied. (os error 5)
Hi lads, we are from superbonds.finance backed by Polychain, LVNA .. etc. We are looking for blockchain dev and DevOp to join the team, If you are interested in, please pm.
interesting, wheres the resource/link for that reload?
but thanks for giving advice anyways btw
there's a reload function apparently,  exactly for the situation I described
yea not sure how it was updated in the CPI, but usually you track changes in code through the process.  if it affects an account you dont have access to and your sending params you could either send the account in initially to track the entire change, or you would need to get the update from the client and cycle through. usually with tweaks you can capture what you need for any process tho.
the changes are not reflected in the account data. just track it myself?
if I change account data using CPI, how do I get the updated version in the rest of my function?
if you want historical data youll likely need to access an archive node.  if your not familiar with what your doing, you can ask in the bonfida or serum chats to get more information on the image your not sure about.
Are you not a developer?
You sound confused?
Serum uses the API i got the site from
Youre asking me to ask serum for an alternative?
Like what is your point?
What does that have to do with anything?
your not familiar with what you posted ?
And?
Yes?
the image you posted, the endpoint..  its market data
What are you talking about?
What?
did you ask serum about an alternative?
Thanks so much.
This does not work anymore! It is deprecated! Anyone have an alternative?
HI! Looking for OHLCV data via API (historical data)
currently you cannot change the space after initially allocated/created, but that may be changing.  what you can do is estimate the max size you will need and possibly apply a slight buffer. you can allocate more space than you initially need, and fill it up as needed.
im trying to figure out how to turn a derivation path into a string and vice versa
hey guys, is anyone around that could help me wrap my head around derivation paths on a Ledger with Solana?
Do I have to do 6180000000.000000000?
For instance, I specified 6180000000 and I got 
18,446,744,073.7 in Phantom.  What is up?  I'd like to just have 6180000000 as my entire supply
For example, if the "ACCOUNT_SIZE" is calculated from a struct that's initialized with string "" and number 1. Then in an instruction, I want to change the string to "xx", do I need to allocate more space manually?
when you use spl-token create-token and don't specify --decimals, why does the number that shows up not match with the number you specify when you mint?

Hi guys, I wonder if I set the "space" of an account when creation, and later I change something in the account data, do I need to also change the space allocated here?
^that link helped
got it sortedd
https://opensource.com/article/17/6/set-path-linux
Hi I have a question How can I get the 64 byte key pair from a public address?
Googles *"how to update PATH environment variable"*
solana --version
im linux mint
https://docs.solana.com/cli/install-solana-cli-tools
the section on docs (copy and paste) isn't registering anythin
and how do I update this path?
so you need to update your path to include the solana binaries üòâ
``` PATH   The search path for commands.  It is a colon-separated  list  of
              directories  in  which the shell looks for commands```
hi im trying to install the solana tool suite and keep getting the "Please update your PATH environment variable to include the solana programs:" but what is that and how do I rectify?
thanks a bunch ser
actually - this is exactly what I was looking for
May clear some things up
thanks!
Check out this: https://solanacookbook.com/ingredients/serialization.html#setting-up-for-borsh-serialization
Depends on the account
what format is it in?
If you know how to deserialize it
is the "data" part of non-executable accounts always resolveable into json?
I'll try to help with anything I can üôÇ
I'm new at this community but
Thank you very much! I'll take a look at it
is this custom code?   I don't recognize those values?  not everything in every crate ever is supported.  there are restrictions. https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions
I would review this and review your linking setup for your crate(s), and in cargo. There could be multiple issues with linking, and support for the crate/libs.
Hi I have a question Where can I find the 64 byte key pair from a public address?
No, its not our development, we think that something maybe failing when importing the chronos crate
BPF SDK: /home/stunki/.local/share/solana/install/releases/1.8.0/solana-release/bin/sdk/bpf
Running: rustup toolchain list -v
Running: cargo +bpf build --target bpfel-unknown-unknown --release
   Compiling quote v1.0.10
   Compiling time v0.1.44
error[E0432]: unresolved import `self::inner`
 --> /home/stunki/.cargo/registry/src/github.com-1ecc6299db9ec823/ti
clearly something is wrong with your 'sys' as it does not contain things. it may be linked improperly or not included. are any of you rust devs?
Thanks!
I'm sorry, I'll send it right now
copy and paste an error or sample is better than just posting an image, for readability, search and copy/paste. no need to do the whole thing.
Hi community, one quick question. My team and me are having multiple error when building the our project, have you seen anything like that? documentation about this error hasn't helped much so far...
program id is passed in with instructions right?
Yes, as long as the string in the `Pubkey` is base58
`let mykey = Pubkey("SampGgdt3wioaoMZhC6LTSbg4pnuvQnSfJpDYeuXQBv");`
When ever your program is processing an instruction, the program pubkey is handed to you in the entry point:
```rust
entrypoint!(process_instruction);
fn process_instruction(
    program_id: &Pubkey,
    accounts: &[AccountInfo],
    instruction_data: &[u8],
) -> ProgramResult {
    if let Err(error) = process(program_id, accounts, instruction_data) {
        // catch the error so we can print it
        error.print::<SampleError>();
        return Err(error);
    }
    Ok(())
}
```
It's a good practice to verify that the accounts in the `&[AccountInfo]` that you may write data to are owned by the `program_id`. If you try to write to an account data that is not owned by your program it will fail anyway.
`PubKey('pubkeygoeshere')`
real simple one, how do I create a pubkey inside rust
<@793009052879028254>  I am working on trying to create a program that creates and mints a token and then mints more token every month. I created the spl token first through cli and then realized I have to deploy a program that creates the token in order to update it. I think I'm trying to do the same thing as you essentially but also working through the SPL github for token program so i can just deploy based on what they already have there as a "erc20  like spl token" . I'm still working out how to code the token / acct creation correctly and then need to firgure out the inflation minting I want it to execute regularly if someone has experience doing that.
specifically as a pubkey?
is there any easy way to get my program_id inside my rust program?
thank you
probably the best simplest example is the record program:
https://github.com/solana-labs/solana-program-library/tree/master/record/program
only the owner can modify its account data. additionally, you could use meta data or have additional account fields, like the Token Program, that give properties like 'Authority' that are assigned on initialization, and when a command to write data is processed by your program, only allow the authority, to update, for example.
can someone explain how
I'm trying to create an account that only my program can update
////
buffer..toJSON() now that was simple
how do I read that accountInfo data buffer?
````{
  accountInfo: {
    lamports: 210009954,
    data: <Buffer >,
    owner: PublicKey { _bn: <BN: 0> },
    executable: false,
    rentEpoch: 235
  },
}
````
once called it returns
I am listening to `connection.onAccountChange(` in my program
Hello, I am working on a project which requires high tps in order to be usable. Does anyone have estimates/ insight as to what's going on with the TPS and any projected timelines?
https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction ?
Is it possible that when `getConfirmedSignaturesForAddress2` with the `until` option set with a very recent signature and a cluster is not caught up to that signature, it would not respect the until option? Context: sometimes our call to `getConfirmedSignaturesForAddress2` returns signatures prior to the `until` signature passed in and we're using the default commitment level of `finalized`
Hi, I'm trying to get a list of transactions (I can do that using `solana transaction-history` ) but could anybody put me on the right tracks to get the transactions informations please ?
Ooo thanks this is what I need
Thanks mate!
you might have better luck in saber discord too. cc <@!392918378559438848>
yeah some of the data here: https://github.com/saber-hq/airdrop-artifacts
Is this in a json file
Thanks <@!390651877483741184> how does this work, where do I provide the list of addresses + balance to be distributed
https://github.com/saber-hq/merkle-distributor
I found the solution, using `mem::size_of`

```
 let pda_space : u64 = mem::size_of::<Account>() as u64;
```
what is the bare minimum amount of lamports needed to make a basic system or PDA account rent-exempt ? With no data allocation or additional lamports
also, is the rent-exempt cost of a `solana-test-validator` the same as mainnet?
leaving some additional space is a good idea
check the CLI for all kinds of options. `solana-test-validator` if there is a concern you can also use the help to limit size, I believe a default shred size is around 10000. it needs some runway to store.
hey everyone, I noticed when using the `solana-test-validator`, that the `test-ledger/` folder becomes too big too fast. Is this normal? I'm a bit afraid of letting the test validator running on my machine and run out of space
On another note, what's the best way to conduct mass airdrops on Solana? Right now I pop everything in a Bash script and run it
Thanks for replying. How will multiple multiple txs in a batch work on Solana?
is there a USDT/USDC like token on Devnet for getting a quote price of 1.00? I'm attempting to setup Liquidity Pools with Serum on Devnet and need a quote token.
I want to create contract in which user will stake usdt token in solana blockchain
can any one help me regarding this.
Thank you....
is it possible to know on the explorer the exact time took by a transaction to reach the maximum number of confirmations?
Thank you
Ahh ok I‚Äôll wait till a mod finishes lunch
I think. But I'm not involved in that project at all so not 100% sure. Just looking at the readme
So that means I just need to work on the front end right ?
Looks like the idea is you're supposed to deploy your own version of the contract
"Please note that only the lending program deployed to devnet is currently operational"

Oof. Guess not haha.
It does. You won't need to copy the code though. It's already deployed to mainnet, so you can just hit the program/smart contract there. Unless you're trying to change the way it functions. https://github.com/solana-labs/solana-program-library/tree/master/token-lending
Not something from scratch, doesn‚Äôt solana already have something for borrowing and lending in its library?
thats the spirit
If you're building something new, probably will need to write your own code
All I need to start a defi projects is copy code from solana library ?
Hello devs, hello community managers
Back in the day before anchor, I used to just add it up. And leave a little extra space because Solana doesn't currently support resizing accounts. So you don't want to run into issues if you need to add more fields.
ok so, given a struct, how can I get its bytes length?


///////////////////////////////////////////////////////////////////////////////////////////////

seems like they've got it backwards
but yeah not a mint address
phantom stops you from sending to a token account
I don't know why it's even an option to sent the SOL to an NFT if it can't be retrieved.
This conversation may be helpful https://canary.discord.com/channels/428295358100013066/517163444747894795/919322487060328458
yikes
sorry dude I think you're SOL, if you sent to the token account it could be reclaimed but I think becuase you sent to the mint account it's locked in or atleast I don't know of a way it can be retrieved
Cool, looking forward to reading that! also wrt how you folks plan to do anonymity..
Curious, what are the reasons you're using bulletproofs over something like SNARKs?
(I guess verification is cheaper for your use case?)

Fwiw, I'm currently building anonymous tx for solana using SNARKs. Would love to have a chat about how we could contribute/collaborate bringing zk to Solana
I don't know of away off the top of my head to recover the sol from the mint account, let me see
Hi,
How to parse the data of AccountInfo?
one of the transaction IDs
https://explorer.solana.com/tx/664JPhQq8SazabVa1MP835Djaoh7Z6qg4nFNRXKKh4cKGS3fEZgUs2bkBJBY77kKMREu7CEgdW8e5txsCJqRta1f
I'll let you know if you can salvage it or not
can you send me the address you sent it to
Can you explain please how to do this?
I sent it to the mint id which I believe is the same as mint address

Q about PDA: I know that a PDA is ‚Äúderived" from a program and can be only signed by this program. But who owns the account that lives in this address? I'm reading Solana cookbook, but I don't see any code that sets an owner of the account.
You're not late. Tons of stuff to go around
Dev tutorials, contribute to the solanacookbook, find project bounties and contribute, and more
You may be able to close it and reclaim. Be careful not to lose the NFT though
was is tent to the token account or the mint address? if it was sent to the token account I believe you can reclaim it, but I'm not sure
Hey guys, I know this is going to sound very noob, but I‚Äôm in my mid 20s and I‚Äôm a SWE at a huge company with a BS in Computer Science from Georgia Tech and I wanted to get into SOL development. I wanted to know if it‚Äôs too late to get into Sol Dev and what are some things I should be doing once I‚Äôm able to go through the dev tutorials on Rust and Sol development, I was just wondering what open source projects do people contribute to? I really wanna be apart of the crypto dev wave and not looking to become rich, it just seems like legitimate fun and something I want to dedicate my free time to
I sent sol to an NFT address instead of the holder address. Does anyone know if this sol can be retrieved by either me (the creator) or the NFT holder?
The way homomorphic encryption works makes the two step process necessary. There's a design document for the crypto bits that we'll be publishing soon (üëã <@!768486252168216647>)
Hey <@!445425471027544095> ,
I was checking out the zk-token program and noticed you have this two step mechanism of
1) a transfer_tx that only changes pending_balance
2) a separate apply_pending_balance tx that applies the pending balance to the available balance.
However, you do modify the source available_balance in just one step.

Why the 2-step process?
Why not modify the destination available_balance directly as¬†well?
https://github.com/solana-labs/spl-zk-token/blob/master/program/src/processor.rs#L695-L723
Hello üëã , when checking this transaction https://solscan.io/tx/3mgCUuknW2gPsXqBeNVKsKsGf7bkJJaT92YxyvQQFZzbqs75KPsTEDC4N4cz5f41akA4YN1CCAtWJrouxp3htCVh from the node, I can see that there is a "rewards" property I did not notice before
```
      "rewards": [
        {
          "commission": null,
          "lamports": -2439,
          "postBalance": 678797,
          "pubkey": "DeqrEqbg7vatYQoMshjnymxqBRjUPB9jKX8sWkniMFin",
          "rewardType": "Rent"
        },
        {
          "commission": null,
          "lamports": -2439,
          "postBalance": 273797,
          "pubkey": "GcvVN6iFpLKsPByaucNfKDaPmZviNvNEGU8eqVqQozzw",
          "rewardType": "Rent"
        }
      ],
```
1 - What is this mecanism ? Is is autonomous (I notice only the system program invoked to transfer sol so I guess it's related) ?
2 - Does it means it is impossible to "exact send" a specific amount of lamports as some rent cost can eventually be involved ?
Thank you!
Hello everyone, I am currently developing an early stage game as a solo developer and looking for team mates as well as advisors, grant help. Is there anyone here that works for Solana that I can ask questions about grants?
Is there some doc  where I can find something like "A market is the PDA derived from seed ["market", token1, token2]"?
Where to find (or fetch) every single Serum market?
Hi, is there anyway to store data on the Solana blockchain in order to implement a sort of proof of authenticity app? I don't mean an on-chain program, more like adding some meta-data to transactions or something like that.
Thank you, I changed the parameter, but this error still appears„ÄÇ'code': -32602, 'message': 'invalid transaction: index out of bounds'
perfect. thank you!
https://solanacookbook.com/recipes/programs.html#how-to-get-clock-in-a-program on getting clock
You could check against clock on instruction execution
I believe you can try getting the transaction with a higher commitment level. Alternatively check if 150 slots has passed. I believe the general retry is 30 seconds.
any ideas on how to handle something like this, <@!489206164270350337>?
thanks
Hello, anyone know how I can tell if a tx gets dropped?
To filter to what you care about
You can do something like this https://docs.solana.com/developing/clients/jsonrpc-api#logssubscribe
my logs are flooded with a program that appears to be running in the background
how can you quit tracking programs in solana logs?
I'm just learning))
i'd say to start with spl_math, and if there's anything missing, please send us a PR!
hehe and i didn't even point you to the runtime bits
that's it!!

The solution was to redeclare the lifetime like so: `&AccountInfo<'a>`

THANK YOU
Hi All,
Is there a easy way to add Metadata to an NFT that Ive minted manually
?
Oops, my bad, thanks for replying !
looking to only allow deposits up until some pre-determined deadline
is this possible?
thanks, it looks very difficult)
yeah fair - I was secretely hoping for an easy way out (a library someone with more time and brains built), but I guess the manual way it is üòÑ
Certainly, here's the on-chain program: https://github.com/solana-labs/solana/tree/master/programs/stake/src and all the types: https://github.com/solana-labs/solana/tree/master/sdk/program/src/stake
Try copying this: https://github.com/solana-labs/solana-program-library/blob/a6a1ce4290ad683e13b9ef1c52d6f32a080a996f/associated-token-account/program/src/tools/account.rs#L13
callinng clone() is meant to unify their lifetimes?
same error üò¶
who can throw the native coin staking code, I would like to see how this is implemented on Solana
I think I did that already, same error. Will try again now.
Ah, try calling `create_pda(caller.clone(), pda_account.clone(), sys_prog_account.clone(), program_id, fee.into(), id, pda_bump);` and take all the `AccountInfo`s by value
both `sys_prog_account` and `pda_account` are from the result of `next_account_info()`
Not really, most of us just roll our own options.  For example, here's the version for token-lending: https://github.com/solana-labs/solana-program-library/blob/master/token-lending/program/src/math/decimal.rs
The `spl_math` library can be expensive on compute, but I'd recommend trying it out.  Or maybe other people will chime in with their options
I think I can make progress if I can confirm in which scope the fix will be. Is it just in the function itself?
yes I'm aware those two are the culprits.

ok, here's the full code:

```
// the function
fn create_pda(
  creator: &AccountInfo,
  pda_account: AccountInfo,
  sys_prog_account: AccountInfo,
  program_id: &Pubkey,
  fee: u64,
  id: u32,
  pda_bump: u8,
) {

  let pda_space = 41;
  let id_string = id.to_string();
  let id_seed = id_string.as_bytes();

  // instruction for create race pda account
  let create_account_instruction = &system_instruction::create_account(
      &creator.key, // payer
      &pda_account.key, // to
      fee, // lamports
      pda_space, // space in bytes
      &program_id);

  // we send the transaction and sign it
  invoke_signed(
      create_account_instruction,
      &[
          sys_prog_account,
          creator.clone(),
          pda_account,
      ],
      &[&[&id_seed, &[pda_bump]]]
  );
}

// how I call
create_pda(caller, pda_account, sys_prog_account, program_id, fee.into(), id, pda_bump);
```
again, it's hard to tell what's going on with just a few lines. looks like `sys_prog_account` and `pda_account` are your problems
is there a better / go-to version you'd recommend?
I changed it to `AccountInfo` but it made no difference. Same error.
It's really only used in `TokenSwap`, and it's not very fully featured, but it might work for what you need!
Almost... `AccountInfo` itself has a lifetime üòÖ
if I just use `AccountInfo` does that mean I won't need to deal with declaring lifetimes?
is this the currently recommended decimal lib on solana? I've been trying to find something as battle tested as possible
again, it's hard to tell without more context, but in general it's cheap to clone an `AccountInfo` since it mainly contains references, so I'd avoid passing around `&AccountInfo` and instead use `AccountInfo` everywhere
this is where I use those params

```
    invoke_signed(
        create_account_instruction,
        &[
            sys_prog_account.clone(),
            user.clone(),
            pda_account.clone(),
        ],
        &[&[&id_seed, &[pda_bump]]]
    );

 ```
so you think the solution will just be inside this function? rather than how I'm passing the AccountInfo's ? (as borrowed vs owned, etc)
You specified all of the accounts as signers and writable, so the runtime expects signatures for all those accounts!  You'll need to specify the correct writable / signer flags
Hm, without seeing more, you may need to specify different lifetimes for each param.
You've got it right -- if you disable minting, there's no mint authority anymore, so no new tokens can be created
you need to store the state in an account
Hey! Looking for a developer who could help us implement our version of breeding. Send me a friend request and a DM!
Hi,
I have a program, that takes in two addresses and transfer lamport from one address to another. 
This is all working, but now I need to save the sender and recipient in this program. For this I think I should use BTreeMap that stores two keys. But, where in the code, should I define this BTreeMap? Should I create a global static instance of BTreeMap and use in inside entrypoint method? Or is there a better way to do this?

Thanks
anyone knows what this error is about?

it happens in a function where &AccountInfo's are passed in as args

```
  |
51 |     pda_account: &AccountInfo,
   |                        ----------- these two types are declared with different lifetimes...
52 |     sys_prog_account: &AccountInfo,
   |                        -----------
...
77 |             sys_prog_account.clone(),
   |             ^^^^^^^^^^^^^^^^^^^^^^^^ ...but data from `pda_account` flows into `sys_prog_account` here
```
Solana contracts are upgradeable by default (you can just redeploy them)
Hi, how are you? I have a question, how can I make a transaction from one wallet to another in python, I was using this library: https://michaelhly.github.io/solana-py/index.html, but the function of send_transaccion changes the addresses that I put through other addresses, any idea how to carry out the transaction?
Hello my fellow developpers, do anyone know a kind of boilerplate code somewhere to enable for a smart contract to be upgraded/updated ? Thanks !
<@!439209823201132558> how can i find solana wallet for unity? there is no SDK yet?
I wanted to get raydium's pool information, and I wrote a code by solana.py referenced raydium-SDK, It show invalid transaction: index out of bounds. Who can help me üò´  my issue is https://github.com/michaelhly/solana-py/issues/150
Any ideas to substantiate on that?
Am I missing something or authority field removes if I disable mint?
Good day, lads.
I deployed token, and I can‚Äôt find authority field in explorer. For example, SOLX have an autority field. Maybe it‚Äôs becaise I disabled minting? If that‚Äôs not the reason - any ideas what I need to do to add authority field?
Hey I have created an spl-token and I want to put a logo on it, is there any suitable size in pixel for the the token logo or any square size will work??
thanks!!
Yes (redeploying completely replaces your code)
Looking for this also if you find anything
in Rust, in my program code, If I declare a variable using `const`, can I update (change the value) it by redeploying?
Hi all - is there a good way to reject all incoming fund transfers directed towards a certain program account after a specific deadline?
yes it is.
for 

```
pub fn create_account(
    from_pubkey: &Pubkey, 
    to_pubkey: &Pubkey, 
    lamports: u64, 
    space: u64, 
    owner: &Pubkey
) -> Instruction
```

space is in bytes right?
did you ever find a better option than `rust_decimal`?
what did you end up going with instead?
anyone can aswer me this
is there a recommended decimals library to use for on-chain calculations?
<@!788215642070581289>
I can't split my logic into multiple instructions and that's where the problem amplifies...
is the stack global across each txn or instruction or isolated for individual function calls?
Splitting the logic into multiple functions doesn't seem to help
you have to simplify the code
Getting the weird Access Violation errors when using checked_div in my code...
perhaps due to stack limit being exhausted, any resources to check upon?
this is the error
Message:: failed to get info about account EAWwXrGJwCZaKPMXYiDfKTQv3ZWTamA3xtucUtuipTip: FetchError: request to https://api.devnet.solana.com/ failed, reason: write EPIPE
i am facing this error while broadcasting an transaction on chain
what this error means ?
failed to get recent blockhash: FetchError: request to https://api.devnet.solana.com/ failed, reason: write EPIPE
quick question on NFT Token on Solana:
When I create an NFT, it has Mint Address and Token Address and decimal = 0>
When we trade on NFT marketplace, it the whole ownership of the Mint address move to new trader. Or the just the token Address of the new trader will receive 1 token balance?
hi lads,
Hello everyone, is there any function in Web3 that can return me the gas fees for a transaction before sending it to the program???
Hey all,
Maratta here. I am one of the founding team of an NFT marketplace project, we‚Äôre currently working on our coin and looking for multisig and airdrop libraries. Any suggestions please?
do you have any solution for this?
oh I see ty, do u know how to destroy them?
a token supply is stored by u64
your supply is `amount * 10^decimal`
the result shouldn't greater than u64's max
Who‚Äôs the best person to speak to if I need to make amendments to a token in Solana‚Äôs token list. Can provide proof that I work with associated token team?
Does anyone have suggestions on how to mint more and get rid of this error, or is there way to burn/destroy some of the tokens I created.
RPC response error -32002: Transaction simulation failed: Error processing Instruction 0: custom program error: 0xe [5 log messages]
I tried to mint 1 trillion coins of the crypto token i just made, well I didn't let me it stopped around 18billion and something I believe.  When I rain the mint command again well u guessed it won't mint gives me this error:
It's resolved now I think. I will report back. Thank you so much
HI <@!687000627615629332> 
I have deploy the token swap smart contract on localhost
here program id: 5VsZoc6bPGopwqhMAHeGNTtDm7uj3vUTjWfCyjcznFj2
but  i am getting  issue in swap run function .
How can i resolve this issue....
<@!709556204514574386> thanks for the tip. Mine was the same issue. I assigned an elastic IP to my ec2 instance and the solana cli tool is working. Thank you.
Hey! Trying to run a basic `anchor test` after initializing a basic repository with anchor.

any idea why I am getting this error? ```     Error: failed to send transaction: invalid transaction: Transaction failed to sanitize accounts offsets correctly
```
I'm setting up solana cli tools (connecting to devnet) on an Ubuntu box in AWS. I am having a few a 403 forbidden responses to commands like airdrop, balance, etc. The description of the error indicates "cluster version query failed" for devnet. Any ideas why this may be happening? I went through the same process on Mac and it worked
haha I posted there a few hours ago but without any reply so I posted here üò¢ 

thanks by the way!
Perfect, thanks!
Try the anchor discord, I suspect there's folks there that might be able to better help: tps://discord.gg/9xky5z3R
Hi, this is really a beginner question related to anchor, but I cannot understand quite a bit.

This code is a part of anchor basic example-1

```
await program.rpc.initialize(new anchor.BN(1234), {
      accounts: {
        myAccount: myAccount.publicKey,
        user: provider.wallet.publicKey,
        systemProgram: SystemProgram.programId,
      },
      signers: [myAccount],
});
```


I believe above code is initializing an account in the way of PDA, since new account is derived from another program(deployed program on rust side), and systemProgram is making it.

But I cannot understand why signers field accepts myAccount.

Isn't that new account is derived from the program?

so why signer is [myAccount]? Isn't the PDA just needs publicKey of myAccount?

Isn't that just not a PDA?

Thank you.
Hi, is it possible to collect all the smart contracts running on solana? including the open-sourced ones and non-open-sourced ones. Many thanks
Hi guys, what is the best way to mint a new token?
minting token? and transferring the token inside the program?
Deploying program "anchorDemo"...
Program path: /Users/xietingfeng/Desktop/anchorDemo/target/deploy/anchor_demo.so...
Error: Program's authority Some(HGLF4BpAYcJg6QePSau3oK5fveQ81qdMXEEFQaXv5iBD) does not match authority provided C9hNAGBZpbZ7C38TkL31ZKHFA76NaasnGF8dzYaCTFrQ
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.
Program path: /Users/xietingfeng/Desktop/anchorDemo/target/deploy/anchor_demo.so...
Error: Account C9hNAGBZpbZ7C38TkL31ZKHFA76NaasnGF8dzYaCTFrQ is not an upgradeable program or already in use
There was a problem deploying: Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "" }.
xietingfengs-MacBook-Pro-2:anchorDemo xietingfeng$ solana program deploy /Users/xietingfeng/Desktop/anchorDemo/target/deploy/anchor_demo.so
Error: Account C9hNAGBZpbZ7C38TkL31ZKHFA76NaasnGF8dzYaCTFrQ is not an upgradeable program or already in use
it wasnt actually my token i was trying to mint
Ok
just guessing you want to mint more token but the mint authority of this token has already removed.
what does this mean?
seems you have already removed mint authority. you can't set it back unfortunately
maybe https://solanacookbook.com/recipes/accounts.html#sign-with-a-pda
how can i fix this error ? ^^
Error: the total supply of this token is fixed',
Are there any examples out there for sending SOL to and from a PDA account? All the program examples I see involve minting a new token.
Is there a recommended approach to deal with "Transaction simulation failed: Blockhash not found" ?

We run a service at certain scale, and we get this error randomly once every few hundred calls to Token#getOrCreateAssociatedAccountInfo()

We use a private node in quiknode already.

Is this just going to always happen, and we should just retry with backoff or something? Or is there anything else that we could be doing differently
does anyone know how to fix this issue? I would greatly appreciate any feedback! I am trying to finish this all tonight, so tomorrow I can start studying for classes in spring.
**For now to avoid the issue I started a PopOs Virtual Machine I own on my laptop, and gonna build the environment there BUT if any of you know how to fix that problem with Debian I would appreciate it greatly.**
hey I was trying to create my own token for fun, I pulled open an old computer that I converted into Debian platform a while back, I was trying to install the tool suite for Solana with the command sh -c "$(curl -sSfL https://release.solana.com/v1.9.1/install)"
it runs for a second saying download v1.9.1 installer but then says Exec format error, with sh : 156: /tmp/tmp.IkWEuUuNFQ/solana-install-init:
you should be able to query an archive node for historical data at one of the RPC providers available.  a quick google should reveal several options.
Was wondering if there's with a few questions of hooking up a front-end to an API so I can find "Star Atlas" assets. 

- Is there a framework or 3rd party service that has historical transaction data?
- Do I need to run a full solana node locally to test doing it?
Did you find a solution?
Newton
hey does anyone know the best place to buy solana in Canada?
The latter
When using ProgramTest, is it possible to make multiple payers or would I need to create some Keypairs manually and  transfer some lamports from the payer beforehand?
any recommendations in the context of for example vesting contracts, minting tokens to statically defined account addresses? valid update authority could change those too (in essence sounds like this eliminates the guarantee of any future transactions)
If the program has a valid update authority, the holder of that keypair can update the program at will.  It's up to the user of that program to accept that risk
Qq: is there anything stopping malicious program devs (ie those with update authority) from changing program logic from underneath existing customers to steal their funds?
I accidently posted this in some random channel in this discord xD But then i figured it out, here it is anyway for people who may be searching in the future:
Problem:
```
does anyone have any resource on what causes this?
sum of account balances before and after instruction do not match
It happens during an instruction i wrote right after an SPL Token transfer. in the same instruction, there is a += / -= sort of deal with a lamports transfer, so idk if that has something to do with it
```
Solution:
I moved the lamport transfer code to the very end of the instruction, and now it passes üôÇ
will test out thanks!
You can do this with `getProgramAccounts` I believe
Is there an API endpoint that exposes all the stake accounts linked to a validator or the validator a stake account is actively staking to? Couldn't find this in the docs anywhere. Would appreciate any assistance!
Ok sweet, yea I am working on fixing that math now... Thanks, I'll check against that tool again once I get fixes in
Wow, "tyera" is more common than "trent"! Not used to that.
I really like `tyeraD1D` , but more like `tyeraD1Dnt`, since it failed.
18 txs for you btw: https://explorer.solana.com/tx/tyeraD1DJNEcCDtkegpMiK2oyUPkZ1C3pibsEi443haGGUH4UA6LSx3SYvToWF1pQUvwG6zK5jLL8Rmd6UCx3wT
the transaction signatures in bigtable are searchable very quickly by prefix. finding a "trent" anywhere in the signature though would be O(n) though
I was just sort of wishing that the explorer could do a vanity-prefix search on addresses
I queried a bigtable instance directly: `cbt -project mainnet-beta -instance solana-ledger read tx prefix=trent`
I'm so basic üòî
Out of curiousity, how did you search through them quickly?
Useless fact: there are 12 transactions on mainnet that start with `trent`.  Here's one of them https://explorer.solana.com/tx/trentQsrXKBhNnqLq3kHYBnnPFWrz2fdAufZYPLbut5i2wNC8TA98Xc8Mip982aC4W1vAbXQQeepnGMhS5GxiEJ
0 transactions that start with `mvines` though.  Close one here, but nope: https://explorer.solana.com/tx/mvinerTwBvu37V5cY98JeN9dsxdeghCe4fQUpVQsthoyTQb3LoAohbVgxRnzwKcQvckihUw4N3coHcMCBSnxnHK
<@!351196228484071424> Ran through `soteria` tool and it found the following:
```
=============This arithmetic operation may be UNSAFE!================
Found a potential vulnerability at line 100, column 5 in src/lib.rs
The sub operation may result in underflows:

 98|
 99|    //send swapper the SOL
>100|    **contract_holder_mainid.try_borrow_mut_lamports()? -= lamports_to_send;
 101|    **initializers_main_account.try_borrow_mut_lamports()? += lamports_to_send;
 102|
>>>Stack Trace:

=============This arithmetic operation may be UNSAFE!================
Found a potential vulnerability at line 101, column 5 in src/lib.rs
The add operation may result in overflows:

 99|    //send swapper the SOL
 100|    **contract_holder_mainid.try_borrow_mut_lamports()? -= lamports_to_send;
>101|    **initializers_main_account.try_borrow_mut_lamports()? += lamports_to_send;
 102|
 103|    Ok(())
>>>Stack Trace:

 - ‚úî [00m:00s] Building Static Happens-Before Graph
 - ‚úî [00m:00s] Detecting Vunerabilities
detected 0 untrustful accounts in total.
detected 2 unsafe math operations in total.
```
Looks like it just doesn't like your math
I am making my own cripot and I need .05 sol
you might be able to check and see if https://solana.fm/ has an api now for grabbing data like this.
Ya'll ever use this? https://github.com/mcf-rocks/solanity
Could switch consensus to PoW and let the validators find it for you
Gonna take longer than 2mo if you use `--with-bip39-seedphrase`
don't be like me. back up your keypairs kids!
that does not sound great
of course not.  data recovery company said nope too
Might be able to stick it in something else
I don't suppose the MBP NVMe disks are removable?
yeah üò≠ 
cya in 2 months after I grind a new one
Err, Drown address?
This may be useful: https://spl.solana.com/
RIP.  New burn address
you could setup a little endpoint that just runs that command and returns the amount
on a server
I think your best bet is trying to use "spl-token supply TOKEN_ADDRESS"
yea, I gotcha... ends up being some work to set up that env hugh
okay cos i need it just to fill out a form
ehhh that how you would do it in client node/javascript application yea... That application is making a network call to get that info I'm sure, but I think structuring that call is maybe not trivial
that address is also sitting on a waterlogged SSD chip ü§ø
mintInfo.supply would have what you need
ahh okay so i need write a api to get this information
const mintInfo = await testToken.getMintInfo();
You could see example of how to use it from looking at this: https://github.com/solana-labs/reddit-scaling-demo/blob/c86d9295c6f0e58f92d8c18cbe5d2ca3f5131939/token/js/cli/token-test.js
Then on the the mintInfo there is a supply property
and it looks like there is getMintInfo():
So I'm looking at this: https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js
Hey, y'all. I'm new to building stuff on Solana (also fairly new to Typescript) and looking to get a baseline example implementation of the wallet adapter working. Using React with a typescript template. I'm getting a bunch of errors similar to this:`ERROR in ./node_modules/@solana/wallet-adapter-tokenpocket/lib/index.js 1:0-26
Module not found: Error: Can't resolve './adapter' in '/Users/garrettransom/thurman/web/node_modules/@solana/wallet-adapter-tokenpocket/lib'
Did you mean 'adapter.js'?
BREAKING CHANGE: The request './adapter' failed to resolve only because it was resolved as fully specified
(probably because the origin is strict EcmaScript Module, e. g. a module with javascript mimetype, a '*.mjs' file, or a '*.js' file where the package.json contains '"type": "module"').
The extension in the request is mandatory for it to be fully specified.`. Any idea of how to fix this?
thanks
let me see
is there an public api call for it
There is a command line client where you could use:  spl-token supply TOKENADDRESSHERE
for an spl token

have to provide some info to coingecko
i don't see warnings, there were some but i corrected them, it says that "Project files checked and OK.", waiting for them to do the merging, i will comment then, thanks
client
From a program of from a client?
What's the best way to get the circulating supply value of a SPL token given an address e.g. http://explorer.litecoin.net/chain/Litecoin/q/totalbc
See, SOuL saved üëº
normally could take up to 2-3 weeks. the influx and maintainer availability has been in high demand. looking at improving the system. if you have not you could try posting an update or comment in github on your project. it has some warnings on it so may want to provide info on those as well to the github comments.
Hello, i submitted a request to solana ecosystem 20 days ago, https://github.com/solana-labs/ecosystem/pull/898 , do you know how long does it take? thanks
well, i mostly just wanted to setup a pool and mess around with trading in a devnet environment really
what are you looking to get out of that?   Not sure if Orca has a front end deployed in dev, but they use native token swap.
haha fair enough
Stick around. You'll figure it out
haha, well in that case educate me on the ecosystem?
Also his address is a basic ecosystem awareness test üòâ
Will do that for sure!
the biggest thanks is helping someone else brother. share and spread that energy with others. its all good.
and even post your validation and comments in solanacookbook.com !  get some cred and help others ü•≥
is anyone aware of any swap frontends using the Token Swap Program deployed for use on DevNet by any chance?
<@!445425471027544095> - I will... but you've got to let me thank you on this one... that is huge find... please send address...
just help the next guy, that's payment enough for me üôÇ
Ah ok makes sense, so apps like phantom are ‚Äúwallet managers‚Äù
but they would have to have more lamports in that account than in the contract... but that is very possible
yea right now if they sent fake contract_holder_mainid they could mess up the math and actually get more money then they deserved
yea so before I push contract live,  I will create an address owned by the contract and hard code I think I got it
If you hard code that address, you need to make sure that the account at that address exists and is owned by the program before publishing the address.  Otherwise I could create an account owned by the system program (just a simple `solana transfer <address>`) at that address and prevent your program from working
If I fake `contract_holder_mainid`, I can burn my GRPC token and reclaim part of the lamports (but not all) that I funded my `contract_holder_mainid` with.  But this is worse than if I just burned my GRPC token from the command-line
I need to hard code that address and check it
I think you can actually
ahhh
I was concerned that if I created a fake `contract_holder_mainid` account that I'd be able to mess with the mint supply and throw off the swap ratio.  I don't see a way to do it though after looking a little more.  (or at least, a way to mess with the swap ratio that'd be in my favour)
ok sweet, that is what I wanted to be sure off...
That part looks fine.  If the address is hard coded, you can be confident that the mint data is as expected.  
I think you did pretty good for somebody in over their head!
This is a great place to learn. Most of us won't ask for anything
Ok I'd love to send if you'd allow though, you can DM too. but either way really appreciate it... I'm just learning this... so I'm in over my head
it's ok, this is just fun. thanks though
<@!445425471027544095> - what your SOL address? want to send a little something for help...
I'm just unsure what this is? grpc_mint.data.borrow() ....
Then mint.supply could be hacked...?
let mint = Mint::unpack(&grpc_mint.data.borrow()).map_err(|_| ProgramError::InvalidInstructionData)?;
I think I'm good bc I verify grpc_mint is a specific address... but then I was worried they could send the correct address but send incorrect grpc_mint.data
I'm just pretty worried about my % share logic... haha
exactly yea
got it, so the idea is that there's a single `contract_holder_mainid` account.  Anybody with GRPC tokens (the N holders of `initializers_main_account`), can use the contract to burn their GRPC tokens and take out their respective % share of that  single `contract_holder_mainid` account?
the idea is to put all the donations in one pool (the contract) and then distribute this token (GRPC) to users who contribute content to the community, they can then swap the GRPC for SOL (against this contract)
That will funded by community donations (from my community of 200k devs)
Who creates and funds the `contract_holder_mainid` account, and when?
They will initiate the transaction
that will be from community members (of Grepper) wallets
oh, who does?
No I don't control that...
Nothing else stood out to me at least.  The use of `f64` makes me nervous, somebody with a better math brain than me might be able to do something fun with weird float behavior.  But floats are super expensive on-chain anyway, so best to just yank them.

You fully control `initializers_main_account.is_signer` right?
Mucho Gracias - I'll work on those changes... You see any security concerns?
<@!351196228484071424> - there's definitely some dead code in that program that could be removed to improve clarity.    Also consider using `solana_program::declare_id!("GLoCBYmGqqUCZLy6XpmLUF9xAweUfe9R35pinscKzdZh");` to avoid the unnecessary on-chain compute from `Pubkey::from_str("GL..")` .

Also I recommend removing the floats.  Steal from https://github.com/solana-labs/solana-program-library/blob/master/libraries/math/src/precise_number.rs
Let me test a new tool on it
the SOL held in the contract will be from donations, i want to verify people can't SWAP it for an unfair price...
There is only one instruction it basically swaps GRPC (my coin) with SOL that will be held in an account owned by the contract
but in theory anyone could call that program... hints the concern
I built the client that will exist on codegrepper.com -> all the client can do is basically Swap token for SOL against the contract
haha, here is quik overview: https://github.com/CodeGrepper/grepper_contributor_coin_contract
Let's see if we can save your SOuL:
1. What does your program DO?
2. What are the use-cases leading to calling your program?
3. What are the Instructions you will support?
I'm trying to figure out if this contract I made has any security issues: https://github.com/CodeGrepper/grepper_contributor_coin_contract/blob/main/program-rust/src/lib.rs  - I'll give 1 SOL to the first 3 people who can find any serious security issues and provide fix... (limit 1 SOL per person) . Specifically I'm concerned about ensuring that grpc_mint.data can't be passed by end user.
those are really long file paths üôÇ   id try the anchor discord:  it appears something with your installation, setup, or build process may not be being done correctly?
https://discord.gg/9xky5z3R
a wallet itself when describing using a wallet is 1 keypair.  many wallet applications, like phantom or solflare, have several wallets within their applications, allowing you to use different wallets, each associated with a keypair.
what is the "bank snapshot" & is it different from just a normal snapshot that you'd download?
hi, could someone clarify this for me? i keep seeing "wallet" used loosely. a wallet contains one or more collections of keypairs, but it is also used interchangeably for a single keypair. i am confused, could someone clear this up?
A u32 serialized is 4 bytes, little endian order so you have to 'read' the first 4 bytes into a u32 like 
```rust
// Assume 'data_vec' is a [u8;4]] array 
let fixed_array_count = u32::from_le_bytes(data_vec) as usize;
```
?
Some thing like [u32;x]
The fixed size array starts with a u32 'x' indicating the count of elements that follow
Any ideas what I am missing guys?
I want to transfer spl token in my program from my PDA(program derived account), but I got `Transaction simulation failed: Error processing Instruction 0: An account required by the instruction is missing`  What's wrong with these code ü§î 
```Rust
        msg!("creating pda token account");
        let pda_ata = get_associated_token_address(&pda_account.key, &token_mint_account.key);
        msg!("pda_ata: {}", pda_ata); // pda_ata: Gc1sdMohbadmMZ8ijgw5szQy4aRaaTN48Vod4KBXwwP6
        let ata_ix = create_associated_token_account(
            &payer_account.key,
            &pda_account.key,
            &token_mint_account.key,
        );

        // Error: Instruction references an unknown account Gc1sdMohbadmMZ8ijgw5szQy4aRaaTN48Vod4KBXwwP6
        invoke_signed(
            &ata_ix,
            &[
                payer_account.clone(),
                pda_account.clone(),
                token_mint_account.clone(),
            ],
            &[&[&b"SEED"[..], &[bump]]],
        )?;
```
How should I be interpreting it as ?
<@814228493302497301>
how do i set a phantom wallet as my cli wallet
Hi, i am a cybersecurity professional located in Belgium and would like to make sure someone addresses these issues, can one of the admins please reach out to me in order to fix this, I would like to offer my assistance.
I don‚Äôt know if there is a bounty or not, frankly I don‚Äôt really care, just want to make this right‚Ä¶ Please reach out trough DM. To whom do i need to send the detailed report to take the necessary steps?
Checking it out rn, thanks.
The spec I sent should help then
Just learning the ropes and playing around, for actual programs I would use anchor which uses borsh by default.
Thanks.
Will do
Im using C library - compact_ed25519, and create keypairs, sign and verify signatures via it
hi there, Im developing adapter for solana network and having trouble with signing ed25519 msg. I have already tried many diff libs, could u advise me a verified one, or any other reason why I am getting such an error {"jsonrpc":"2.0","error":{"code":-32003,"message":"Transaction signature verification failure"},"id":5}
Why would you manually try to deserialize on the program side?  Why not just use borsh?
Here is the borsh spec: https://borsh.io/
bc when I made it I thought it was a program... I can change that name to something better like: grpc_mint
yea its a mint
I'm confused by your names there‚Äîis `our_token_program` a mint? Why is it called a `_program`?
Basically I want to verify it's in fact a certain account, which I do... But then I'm not sure how to verify the data that is being sent?
Is is possible to pass fake data in this field: our_token_program.data.borrow() ?
I wrote this contract, but have some concerns about security: https://github.com/CodeGrepper/grepper_contributor_coin_contract/blob/main/program-rust/src/lib.rs
I would suggest just taking a look at the what your serialized output looks like
That works perfectly, thank you!!!
No, borsh only does that for certain variable-length data types (e.g. strings, or vectors)
Does `solana confirm --verbose <signature>` do what you're looking for?
Hi All, couldn't find a straightforward answer in the discord, was wondering if somebody could help.  Is there any way to retrieve the contents of a transaction using CLI by inputting the signature of that transaction?  `solana decode-transaction` doesnt seem to be the solution
If I serialize on the client side using borsh and deserialize on rust side manually using array refs, do I start it from index 0 - Len or 4-len, I remember someone saying borsh stores length of data in the first 4 bytes
Anyone know what the contents of the SlotHashes sysvar represent?  They do not match the block hashes from rpc. Are they not the same thing? Is SlotHash the PoH hash pre-blockhash or something?
I've noticed that the `sendTransaction` function in `@solana/web3.js` always waits for the connection to get a new unique blockhash before sending a new transaction--how come multiple transactions can't be sent during the same block?
in general the error means something with the program argument is invalid. may want to log more info.  could be a bad type or input.
anyway - this feels more like a <#694949720644124762> conversation üôÇ
Install the CLI then (are you trying `solana keygen`? It's a separate command, `solana-keygen`)
it says that command does not exist


///////////////////////////////////////////////////////////////////////////////////////////////

Does exists any dDatabase crate in Rust?
Hello guys, anyone had error when importing web3 js in react `export 'WalletProvider' (imported as 'WalletProvider') was not found in '@solana/wallet-adapter-react' (module has no exports)` and this kind of error for almost all imports from libs
perfect that exactly what I need thanks
we've done it with phantom. connect to the wallet, then sign a unique login token we can verify. there's a `window.solana.on("connect", callback)` you can use to run code that triggers right after connecting
In the program source that you are submitting your transactions to, look for an Error enum... it's around the 313 entry (0x139) and may tell you more
is there a way to edit details of  a project submitted on the solana ecosystem site:https://solana.com/ecosystem
but to no success
I went to metaplex discord
All uploads went through
and now running into some other issue
Transaction simulation failed: Error processing Instruction 0: custom program error: 0x139 
    Program cndy invoke [1]
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Custom program error: 0x139
I checked onChain at .cache
all are true
it doesnt make sense
How to get mnemonic phrase from a Keypair generated by @solana/web3.js?
Pls is there anyone here doing Super team bounties at alpha.layer3.xyz
is there any hooks for afterConnection or something?
but I wonder if I can just get it from the wallet after it connects or something
/////
Anybody using wallets for logins yet? I'm curious to know how you're doing it. I'm thinking of getting user to sign a message or something
is there something from the repo I can copy in or do I need all the wallet adapter repo

EDITl; the key is the next.config.js it needs to transpile only the modules you need for your nextjs (add the depdencdies)
i'm struggling to get one working in it's own directory
I'd like to use https://github.com/solana-labs/wallet-adapter in a nextJS project

however the example above assumes you build your nextjs project inside the wallet-adapter folder

Is that just the way it's done?
but here I have to use the mint authority address. Is it possible to use the Token address?
https://github.com/samuelvanderwaal/metaboss

install this, then run one of these cmds:

`metaboss snapshot holders --candy-machine-id <CANDY_MACHINE_ID> --output <OUTPUT_DIR>`
or
`metaboss snapshot holders --update-authority <UPDATE_AUTHORITY> --output <OUTPUT_DIR>`
Hi guys, I have to extract all the adresses which they have a token. How can i do that?
no, it will stop you from sending too many requests to rpcpool and causing the error. if you want to have a higher rate limit you'll probably have to pay them more money
<@!664625875274301440> 
```typescript
/**
 * Load (read) a file
 * @param {string} path - to file
 * @returns {Promise<string>} - Json string
 */
export async function get_file_content(path: string): Promise<Result<string, Error>> {
    return Ok(await fs.promises.readFile(path, 'utf8'))
}

/**
 * Load (read) a Keypair from file
 * @param {string} path - to file
 * @returns {Promise<Result<Keypair, Error>>} - Keypair or Error
 */
export async function get_as_keys(path: string): Promise<Result<Keypair, Error>> {
    const secretKeyString = (await get_file_content(path));
    if (secretKeyString.ok) {
        return Ok(Keypair.fromSecretKey(Uint8Array.from(JSON.parse(secretKeyString.val))))
    }
}

/**
 * Load (read) a PublicKey from Keypair from file
 * @param {string} path - to file
 * @return {Promise<Result<PublicKey, Error>>} - PublicKey or Error
 */
export async function get_as_pubkey(path: string): Promise<Result<PublicKey, Error>> {
    const secretKeyString = await get_as_keys(path);
    if (secretKeyString.ok)
        return Ok(secretKeyString.val.publicKey)
}

```
and. it gives me more  quuees?
implement a rate limiter on your end like <https://www.npmjs.com/package/bottleneck>
you don't, keypairs should be generated locally on a secure system. they don't need to be created by the node through the api
Hello. Guys, running web3.js lib code on some task returns 429 error "too many requests", how can i pass it?
Thank you,it worked
It will depend on what kind of shell you're using, but you'll need to add solana's bin directory to your PATH env var. E.g. I'm using zsh so I've added a line like `export PATH="path/to/my/solana/bin:$PATH"` to my `.zshenv` file in my home directory
How do I go about this??
Do `myKeypair = web3.Keypair.generate()`, not `new web3.Keypair.generate()`
Can anyone help me out.
I'm getting Error Web3.Keypair.generate is not a constructor
Nope
Cool
ended up sorting it out. but thanks for the response!
it was that my keypair format was incorrect and i had to convert the array from keypair.json into a Uint8Array using `new Uint8Array()` first before generating a keypair fromSecretKey
Did you extend your path to include it?
Hey guys morning

Just started off on Solana

And after downloading the spl-token-cli program my PC still tells me the program(spl-token) doesn't exist when I try running spl-token --help 

What am I to do??
how can historical data be imported to solana smart contract ? are there any oracles for that purpose
Can you paste in the TS/JS context on which this occured?
Getting an error when attempting to send a transaction in node/typescript

`"message": "unexpected type, use Uint8Array"`

Has anyone else encountered this issue when trying to sign/send a transaction. I think it may be something missing from the instruction but not sure how to verify those ideas
looks like discord search isn't working at the moment üò©
it means your transaction triggered an error in one of the programs being used. this can be the program you called directly in the transaction or any of the cross invokes inside of the program. you can check the logs for more info as to which program caused it, then look up that program's custom errors. in my personal experience, the custom error 0x0 that i ended up triggering the most outside of my own program was the system program's "account already in use" error
What were you doing? What Program are you interacting with? Context?
what this mean?
```SendTransactionError: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0```
one developer I know has put together this list of resources: https://github.com/CristinaSolana/solana-developer-resources
I think you can take a look at cookbook https://solanacookbook.com there are a lot of examples.
Hi. Are there any bolierplates on how to integrate Solana into node.js, c#  or rust server-side apps? Preferably into games. Using web3 js lib is no option for me
https://solanacookbook.com/recipes/token.html#get-token-mint
How do I get a mint account using mint pubkey, i need to check the supply for the mint, using spl-token js library
Hello, uploading files to arweave fail; on mainnet, `Error uploading file xxx Error: Timed out awaiting confirmation on transaction` I increase the time before timeout, but no improvement, any advice?
is that any way that i can change my pharse
thanks
anybody DMing you is a scammer. please report scams like this to <#812122623654887444>
and saying first validate you wallet but in case they need for phantom because i use  only backend side
someone message me from this  virtual aid#7168
sry for bother but are you provide any virtul aid
Thanks so much! Really helpful!!
you can take a look how token program do
program: https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L45-L63
client: https://github.com/solana-labs/solana-program-library/blob/a6a1ce4290ad683e13b9ef1c52d6f32a080a996f/token/js/client/token.js#L1473-L1499
Is there currently a way to generate secure randomness like chainlink VRF on solana?
https://github.com/neerajajaja/SPLdrop
https://github.com/cyriimm/NFT-drop-bulk
https://github.com/theskeletoncrew/air-support
Are there any open source android wallets ?
Thank you! Do you have anything for airdrop?
for multisig https://github.com/project-serum/multisig
maybe you can take a look https://solanacookbook.com/recipes/token.html#create-token-account
The line that produces this is *const userWallet = new web3.Keypair.generate()* where web3 requires *@solana/web3.js*
^
Can Someone help me out here.
I'm getting error web3.Keypair.generate() Is not a constructor
Hey all, does anyone know any multisig and airdrop libraries. Any suggestions please?
How to crete token account on web3.js?
a silly question and maybe unrelated to this channel, any help appreciated. Is there a way that one can obtain all available AMM ids on the solana network ?
Hey I'm wondering if I can upload a gif as a logo for my spl token?  üëÄ
oh ok, tks now I get it
not the update authortiy, the signed update authority in the creators vec
just comparing update authority its ok? i was thinking about get all minthashes from candymachineId and compare
likely the safest way to store a file system wallet would be considered the safest way you can store any private sensitive data on your device storing it. as its just a file on your device. some candy machine apps use keypairs instead of wallets because they can be easier and more convenient for developers or those using the tools involved to do certain things. but you still want to be as careful as possible with any key, secret, file, as you can be. 

importing/exporting are essentially copies into or out of the medium,  and ways to place wallets in multiple places as needed.
hey dude, check the signed update authority matches the rest of the pieces
Cool - myself and <@!550052654152155157> are definitely interested.

Wrt anonymity on Solana, also happy to share our shielded pool implementation using groth16 when it's ready in a couple of weeks.
It was due to having deployed the program using a different keypair (but with the same program id) already. ü§¶‚Äç‚ôÇÔ∏è
Also when you import a filesystem wallet to phantom does full migrate there or its pretty much living in both places ?
Looking for insight. What is the most secure way to store a file system wallet ? I see the Candy machine requires that, but also see that its one of the lest secure wallets out there. (Hopefully this is the right chat for this question)
hey guys, what is the best way to verify if a token is part of an official collection?
only editing token name and commiting
keep getting auto-merge error trying to update token name in .json file.
yes i am reading it. thanks a lot just found it
https://docs.solana.com/developing/clients/jsonrpc-api#subscription-websocket
That's a scam. Please do not do that
Hi there, is there a tutorial anywhere to learn about Solana+Websockets
I'm trying to update my token name by updating the token-list .json file and comparing across forks. I keep getting the automerge error. Am i supposed to leave the original entry for my token and just add an updated entry at the bottom, or delete the original, or just edit the original???
trying to get me to input wallet recovery into  some bridgelink. no wayt
is Silas an admin?
yeah for sure. for now we can just chat in the <#774014770402689065> channel and if there's interest from specific folks we can let them in
same here
The "abc" in the error message matches the public key of my 'default keypair' and the "xyz" matches the public key of my ledger.  

So as long as I'm doing `--keypair usb://ledger?key=10'  --upgrade-authority usb://ledger?key=10'`  or `--keypair usb://ledger?key=10'  --upgrade-authority <public address of ledger keypair>` it should work?
So might give that a try
Although I've read somewhere on this channel that it may be easier when using an intermediate buffer
Yes, about 200 tx's if I'm to believe the output when using an on-disk keypair üôÇ
Will have to sign possibly hundreds of transactions
That should be fine as long as the authority matches. I will mention it may be painful doing it on a ledger
I can deploy just fine when using a regular keypair on my disk
I'm trying to deploy a program and paying for it using my ledger. It's giving me the following error, though: 

`Error: Program's authority Some(abc) does not match authority provided xyz`

I've tried providing an explicit upgrade authority using `--upgrade-authority` already. Am I missing something?
Yeah I definitely was over thinking it, haha okay much simpler than I thought! üòÑ
Yeah it sounded like one, well thanks!
That's a scam. Thay away
fml
Dam that's insane. Well back to troubleshooting
ask the bored apes
Do people fall for this lol
well the internet is a series of tubes
Dude realizes he is talking to Devs?
never gets old
the good old clogged wallet
Wow I would've never known
lol
"We discovered your wallet  is
clogged and needs to be cleared from bugs
You need to syn your wallet to fixed this"
<#812122623654887444>
yes
Can I report this somewhere
scam
def not
<@456226577798135808> Is dming me asking for my wallet address, are they support?
I'm trying to update my token name by updating the token-list .json file and comparing across forks. I keep getting the automerge error. Am i supposed to leave the original entry for my token and just add an updated entry at the bottom, or delete the original, or just edit the original. Noob question i'm sure. Please help.
And here's the web3 version of it https://solanacookbook.com/recipes/token.html#mint-token
`$ spl-token mint AQoKYV7tYpTrFZN6P5oUufbQKAUr9mNYGe1TTJC9wajM <amount>`
Not sure if this is the place, feel free to delete the post if so but..

I created some spl tokens with rust and following this tutorial https://learn.figment.io/tutorials/sol-mint-token#next-steps
I was wondering if there is anyway to specify how many tokens I want to create in the command line, instead of the 100 that are created.
Please let me know if anyone has done something similar. üôÇ
Check metaplex discord https://discord.gg/dcykgk6k
Hey! I want to mint my own NFT collection. I tried to upload all assets (env --devnet) but then I always get this *Error: The arweave-sol storage option only works on mainnet. For devnet, please use either arweave, aws or ipfs*.  How can I use arweave, aws or ipfs?
<@!445425471027544095> do you have any opinions on a dedicated channel to discuss zk/privacy on Solana? Maybe on discord? It seems like these public discussions can benefit other developers interested in this space.
Yes, that is correct. Pending balance may change outside of the owner's control. Available balance, on the other hand, is always in the owner's control. Since zkp's are verified with respect to the available balance, the transactions are not directly susceptible to front-running.
Hi everyone . Does someone know how can I get my 64 byte keypair from an specific public address or from the seed ?
Hi, Is is possible to generate a Solana Keypair from an ETH private key? Would presume so since they are both EC keys?
Thanks for the suggestion! it's happening around 1/10 times for me. relatively infrequent, but when it does, the UX feels janky.
is there a way to add some royalty to secondary sale for spl token?
cannot find a way to add metadata to spl token.  is there a doc?
Ah I see, thanks! I misunderstood the function's signature!
Wanted to bump this real quick in case anyone knows where the lamports are disappearing to.
would be same for any other call, if its times out or fails, its up to you. if there is no error that comes back, and get account info is not coming back, something else may be an issue, especially  if its not coming back after a few retries. depends on your scenario, may have to try again later, or worse case investigate any other underlying issue with the initial transaction.  I do not see this happen frequently..  are you sending lots of create and get requests?
Not sure what you mean. When you use the system_program's `create_account` instruction, you have to specify which program will own the account. So in the example I gave above, you're asking the associated token program to please CPI to the system program to create an account that will be owned by the spl token program. The account's address is an address derived from the associated token program, so it'll use `invoke_signed` to sign for the derived address when it does the CPI to the system program. It will then subsequently CPI to the token program to initialize the allocated account as a token account.
Sounds good! What's the best way to continue the convo about this? Getting together in some informal zk group/channel?
It's nice to see other folks working with zk on Solana.

Come to think about it I think a dedicated channel could really help the cause -- also since some other ecosystem folks seem to be interested in it. 

> Regarding the need to divide balance ciphertexts into two parts
Oh that makes sense.  If I understand correctly, you generate a proof for a transaction, which relies on your balance at that time. Now, if someone else sends you tokens before your tx is processed proof verification would fail. Thus, the pending balance puts you in control when your available balance changes - in theory - you'd then be the only one able to sabotage yourself?
thanks. any guidelines on how many times getAccountInfo should be retried?
I would just re-try tbh.  but a retry in a loop. and handle any timeout or failure.
No, the last argument is which program will own the acccount
one work around I am trying is to use "confirmed" for the account creation, and using "processed" for the getAccountInfo. Does that make sense?
i see, so try "final" for the first request? does using "final" on a getAccountInfo makes it longer or it's the same?
of course
did you install rust?
so your doing  await create account -> then (get account info) ?
first make sure it was succesfull and not an error, and then if for some reason you don't see it when calling getAccountInfo, and you need it, in a worst case you can keep retrying the get.  you might try 'final' and see if that produces better results, may have to wait a little longer.
Hello, i have a problem. when i wanna build simple example program, but i got error 

```bash
 cargo build-bpf --manifest-path=./src/program-rust/Cargo.toml --bpf-out-dir=dist/program
BPF SDK: /Users/404piano/.local/share/solana/install/releases/1.9.1/solana-release/bin/sdk/bpf
cargo-build-bpf child: rustup toolchain list -v
cargo-build-bpf child: rustup toolchain link bpf /Users/404piano/.local/share/solana/install/releases/1.9.1/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust
error: not a directory: '/Users/404piano/.local/share/solana/install/releases/1.9.1/solana-release/bin/sdk/bpf/dependencies/bpf-tools/rust/lib'
```
what is a problem?
I installed solana cli correctly ``solana-cli 1.9.1 (src:b66e2ae3; feat:4100269022)
``
when the RPC's asynchronous callback method is returned
How to get all current available serum markets?
2) what do you mean when a response it received?
it says right on the site now. in bold letters. üôÇ
Hi, so I have been using Web3.js to send transactions to 1) create account using "confirmed" commitment, and 2) loading the account using getAccountInfo once a response is received from the first request. I am seeing that sometimes the account is not found in 2), even though the connection is with the same RPC node and should already have been confirmed by 1). Does anyone know how to resolve this issue?
include all the instructions you want to have run atomically together in the same transaction. they will all succeed or fail.  outside of a single transaction would be up to you to determine action to take.  if you require subsequent separate transactions, you can generally wait until the prior has 'confirmed', then proceed.
https://solana.com/ecosystem Submit here
I think there's a new form somewhere
The repo got archived
you can file issues on the github. not sure as to why or how that is maintained.
Hi guys! Just got a quick question.
Is there a function where I can call the `snapshot data` on a specific date?
And is the snapshot data pulled through `metaboss `100% accurate?

Thanks!
I appreciate this so much!! I will look into this. Thank you again everyone for all of the reassurance and resources.
never too late! most people here have been in it <12m, probably <6m https://github.com/ilmoi/solana-onboarding
hello, i made a request to add a token on solana ecosystem, now it has been archived, do you know why? do i have to do it again? https://github.com/solana-labs/ecosystem/pull/898
If you have a series of instructions to issue that's requires submitting let's say three transactions.

For transaction 2 + 3 what commitments should be used to ensure state changes from the first tx are used by tx 2+3? Would it be a commitment of processed
When do "anchor deploy" on devnet, this issue happen.
What is this? I upgrade to solana 1.9.1
It is good to hear that you are building anonymous tx! We are currently just focusing on confidentiality, so the two projects could complement each other well. 

We use bulletproofs for the rangeproof. Our protocol is simple enough (as we only focus on confidentiality), so we can combine simple sigma zk-protocols with rangeproofs to check validity of transactions. As a general purpose SNARK, Bulletproofs are not that efficient (due to linear verification time) compared to systems based on STARKs or PLONK, but for the special case of rangeproofs, bulletproofs performance was comparable or better than other existing SNARKs (for our instance sizes).

Regarding the need to divide balance ciphertexts into two parts, this is necessary to prevent any front-running. Say that I am spending some tokens from my account. In my transaction, I would need to include a zk-proof that I have enough funds to make a transfer. However, my zk-proof will verify with respect to the current state of my account. If I submit a transaction, but the account state changes before the transaction gets processed by the contract, then it will be rejected. Having two ciphertexts prevents this problem. More detail can be found in the protocol doc, which will be uploaded to repo soon...
IIUC what this instruction does is creating an account on the PDA derived from the program that executes these codes. If has the payer's info, and the program id, and the pda's key. But it doesn't say anything about "hey we are creating an account, the owner is xxxx".
Hi, so I have been using Web3.js to send transactions to 1) create account using "confirmed" commitment, and 2) loading the account using getAccountInfo once a response is received from the first request. I am seeing that sometimes the account is not found in 2), even though the connection is with the same RPC node and should already have been confirmed by 1). Does anyone know how to resolve this issue?
This is web3.js, not SC
I'm curious how you create such account that belongs to spl token program. According to what I read from solana cookbook,  the account creation instruction seems agnostic of who owns the account.:
ahhh..  the google.
And google?: https://gist.github.com/hermitthakrab/13f4bfa19dcb048b15f60e3e27bf2483
check out these resources, lots on meta data:
https://docs.metaplex.com/community
for more specific questions:
https://discord.gg/MzPfSFvY
How can I get the NFT metadata from NFT address on smart contract?
Thank you so much
Mm, if I'm understanding your question right it depends on what you're doing. E.g. my program could initialize an associated token account. That's an account owned by the spl token program (not my program) and its address is derived from the associated token program‚Äîagain not my program. My program had to ask the associated token program to create the account though (since only the associated token program can sign for one of its derived addresses).
here are some airdrop/bulk resources:
https://github.com/neerajajaja/SPLdrop
https://github.com/cyriimm/NFT-drop-bulk
https://github.com/theskeletoncrew/air-support
Anybody has experience in get NFT metadata from NFT address?
https://solanacookbook.com/ingredients/serialization.html
Hi, I'm testing some account transfers and the balance of the account has been consistently off by 46 lamports. When I try to send a transaction from that account to another, the system throws an error that there are not enough lamports. We‚Äôre checking the balance before each transaction and it says 40,000 lamports, but upon execution it fails saying there are only 39,954 lamports and it needs 40k. We‚Äôre adjusting for the fee payer and tax and still get the error. Am I missing something?
If program creates an account on a pda derived from program b, does it mean a is the owner of this account?
wanna achieve something like this https://docs.solminter.com/spl-token-tutorials/bulk-distribute
how can we use the token program cli for for a dapp. Like transferring SPL tokens to a wallet
Thanks! Will reply to this conversation
Hi guys, do you know the command to get the list of holders (addresses) of a SPL token?
If someone is available and willing to help, I'd be very grateful üôÇ
Guys, I want to deploy a Smart Contract on the mainnet which simply records hashes, can someone help me with this (My main language is python, I'm new to Rust)
> (I guess verification is cheaper for your use case?)
Yeah (well Sam) built something very tailored to the token transfer use case to optimize the overall transaction size and compute cost as much as possible
Oh very cool.  We're not actively working on anonymous transactions but a couple ecosystem folks have expressed some interest in similar things.  I don't know of anything concrete yet though


///////////////////////////////////////////////////////////////////////////////////////////////

hacking on solana is like getting a free CS degree, I freakin love it
... probably ü§î
ok got it. thanks for explaining
log the bump seed and you'll see that compute units are the same when the seed is the same
The pubkey is going to influence this call to find_program_address here, https://github.com/shardd-protocol/core/blob/main/programs/core/src/instructions/init_shardr.rs#L26
I didn't realize that!
ohhhhhhhhh
These are non-deterministic. https://github.com/shardd-protocol/core/blob/main/tests/shardd_test.ts#L12-L14
this ix: https://github.com/shardd-protocol/core/blob/main/programs/core/src/instructions/init_shardr.rs

this test: https://github.com/shardd-protocol/core/blob/main/tests/shardd_test.ts
Impossible to say without seeing the code
https://solanacookbook.com/recipes/token.html#wrapped-sol
interesting so my setup is this:
- I'm running `anchor test` which is only initializing an empty state account and writing some state to it - no transfer or anything
- obv the same exact values are serialized in every time
- this spins up a fresh local cluster, so past history can't interfere

I always get one of 3 compute values: `17014`, `18514` or `20514`

I can't spot a pattern. What might be causing this?
How do I programatically wrap sol?
They are for identical given inputs.  If you have balance, time, other state conditional logic, execution can obviously take more or less expensive paths
```ts
import { PublicKey, Connection } from '@solana/web3.js';
import { getHashedName, getNameAccountKey, NameRegistryState } from '@solana/spl-name-service'

export const SOL_TLD_AUTHORITY = new PublicKey(
    "58PwtjSDuFHuUkYjH9BYnnQKHfwo9reZhC2zMJv9JPkx"
);

export const getInputKey = async (input: string) => {
  let hashed_input_name = await getHashedName(input);
  let inputDomainKey = await getNameAccountKey(
    hashed_input_name,
    undefined,
    SOL_TLD_AUTHORITY
  );
  return { inputDomainKey: inputDomainKey, hashedInputName: hashed_input_name };
};

export const getSolDomain = async (domain: string) => {
    const connection = new Connection('https://api.mainnet-beta.solana.com')
    const { inputDomainKey } = await getInputKey(domain);
    const registry = await NameRegistryState.retrieve(
      connection,
      inputDomainKey
    );
    console.log(registry)
    return registry;
}
```

This is my current code to get the SOL domain's public key, and this is the error I'm getting:

```
This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:
Error: Invalid name account provided
    at Function.retrieve (C:\Users\kb24x\Desktop\pay\node_modules\@solana\spl-name-service\src\state.ts:43:13)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async getSolDomain (webpack-internal:///./util/getSolDomain.ts:25:22)
```
(coming from anchor test)
woah I just noticed something - are compute units used up by the program not determenistic? how is that possible?
Hello, I would like to know if there is a way to mint a nft with the cli
Don't find the repo so prob they didn't open sourced It
How would be possible to customize my phantom wallet?
I'm probably gonna thank you a lot haha
thanks a lot
oh wow
https://docs.bonfida.org/collection/v/help/integration
How to get the .sol domains of a public key?
Ok thanks <@!489206164270350337> so it's back to Metaplex then as unfortunately I don't have the knowledge to develop in RUST
The tools within the web3 sdk will help you interact with programs, but not write the program for you
Also Metaplex
You have to write your own program for that. Auction house is the way to do it
We are creating our own marketplace with vue 3 so was hoping everything could be achieved via the SDK without the need for Metaplex. Currently we can query items by wallet and MINT but can not define any type of price for an NFT
Read the docs posted, it explains what you're asking
Depends on where you are selling. Marketplaces, escrow, etc. There's no one way
very weird haha
How weird
I mean if I have an NFT say wanted to sell this item for 20 SOL how would I create this transaction using the SDK?
LOL ok here's an interesting discovery gents <@!489206164270350337> <@!417857235079790592> 

when I run `solana-test-validator` inside downloads - works ok, when I run it inside my Dropbox folder it breaks with the above error

turning off Dropbox app in the background fixed it

¬Ø\_(„ÉÑ)_/¬Ø
few minutes?
im sorta noob still about how the chain works exactly. Realistically what would be the time deviation for something like this specifically?
Price within Phantom is not defined anywhere in the web3 sdk. That's decided by how phantom gets prices
Updated based on the validator. If there is a ton of skipper slots in a row, could deviate that number of slots
During the downtime in September the clock deviated like a few hours
https://docs.solana.com/developing/runtime-facilities/sysvars#clock
Is there a way to define the price for an NFT using the SDK?
how much higher exactly lol (how long ago was that)
if you have any links at all that would be cool too
cool so sounds like this issue? https://github.com/solana-labs/solana/issues/21452

and sounds like your proposed solution is to manually increase MAX_GENESIS_ARCHIVE_UNPACKED_SIZE to 100mb

how do you do that within the context of anchor though?
It has been way higher in the past
i can have things that are up to even a couple seconds off, but i just need to know if it's above or below that
It can be very behind. It's just an approximate
hm, okay, good starter, thanks man. How accurate are the on-chain unix timestamps, if you know? Like, what is the margin of error that it can have? anything more than 1 second?
ok awesome, on it! thank you
I expect Phantom is grabbing prices from somewhere. Not sure where
Not on the computer but if you search for  my GitHub handle (bonedaddy) on the Solana repo view the 2 most recent issues created by me and it details instructions on how to fix
hm tell me more - what's a genesis account?
Genesis account is too large
Good luck. Let us know what you find out
You could do something like `let got_clock = Clock::get().unwrap().unix_timestamp;`
ok oh well back to anchor ¬Ø\_(„ÉÑ)_/¬Ø

thanks in any case
Hey guys hoping I can get a little support with the web3.js SDK
I am able to mint NFTs which returns back a mint address which we store for each item thanks to nft-armory.

Looking through the web3 documentation I believe we need to create some type of transaction with custom instructions.

All we need to be able to do is set a price so when somebody buys an NFT. My phantom wallet shows the correct price for the NFT. We don't need to use any auction functionality, so Metaplex is not going to work for our needs.

Does anyone have any suggestions how we can set a price assigned to the NFT mint address and for this to then appear correctly in the Phantom wallet?
any resources on dealing with dates/times in solana on-chain? how to calculate them, store them, query them, etc
May be a solution
There may be a way to start it manually on the side and run the test without running
ü§∑‚Äç‚ôÇÔ∏è Really sounds anchor specific. I don't know how anchor starts the test validator
That's where I started haha, they sent me here:)
Seems like something specifically with anchor. Try asking in the anchor discord
to make it worse - it's not determenistic - sometimes it's there sometimes not, with the same code
yup no problem, only when running `anchor test` getting this error
Are you able to start the validator manually with `solana-test-validator`?
same question haha - did you ever figure this out? having the exact same problem, getting 
```
Error: failed to start validator: Failed to create ledger at .anchor/test-ledger: blockstore error
```
Can you please send some more details in the `#Metadata Retrieval` channel on the metapelx discord?
Hmm there was a pr to fix it.
Thanks for pointing this out. This worked for me the only downside being it takes a lot of time to give the results.
It will be in a js/ts library when this lands: https://github.com/solana-labs/solana-program-library/pull/2583
I was trying to write an smart contract to populate that entry data, but It makes sense that that is already created.
If I understand well, there is a program (everything in Solana is a program/account) with that ID responsible to send data attached to a transaction.
it is copied manually
No yet https://github.com/solana-labs/solana-program-library/blob/2b3f71ead5b81f4ea4a2fd3e4fe9583a6e39b6a4/memo/program/src/lib.rs
Looks like it doesn't exist today in the lib
We're not Serum support
Hi, no one answers me in Serum discord. And this is really important
Ok, difficult to figure out from there. Is there a way to obtain that value from the library?
Yes, using the memo program
But that is a standard value? All the memo's added to transaction need to hace the same programId?
https://spl.solana.com/memo
where is that coming from?
Thanks so much!! <@!213083996689661953> <@!489206164270350337> <@!798949896157790258> !!! it seems to be working
It works
Was curious and tried with 
programId: new web3.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),
Try with `MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr`
`programId: SystemProgram.programId` is your problem, I think. You need to pass the memo program id
I want solana token list json file
Anyone knows how to encode the data to avoid errors?
```const transferTransaction = new Transaction()
  .add(SystemProgram.transfer({
    fromPubkey: fromKeypair.publicKey,
    toPubkey: toKeypair.publicKey,
    lamports: lamportsToSend
  }))

  transferTransaction.add(
    new TransactionInstruction({
      keys: [{ pubkey: fromKeypair.publicKey, isSigner: true, isWritable: true }],
      data: Buffer.from('data to send in transaction', 'utf8'),
      programId: SystemProgram.programId,
    })
  )```
I am trying to send a memo in a transaction doing this, but it seems that the data encoding is not correct.
Slot seems to be what is available at this time
Send public key with signature, verify by looking it up server side
If you're listening to that many, may be easier just to grab blocks as they're made
There's a vesting contract made by bonfida. Ask them in their discord if you need help on how to use it https://github.com/Bonfida/token-vesting
Please do not use here. ALso, this is a question for the serum discord, not solana. https://discord.gg/hW7Nq74p
Hello! I am running on devnet the serum DEX UI and I am having a problem. When an order is fulfilled, the quote tokens don't show as unsettle to the account that sold the base token. But, the person that bought the base token gets the token as unsettle.

Why and how is this happening? Please, some help
@here
hi i need to know how can generate toke with vesting schedule?
Is it possible to verify the account ownership in the server side?
getBlock method takes slot as parameter. Is there a way to get block information by height rather than by slot?
got, thanks.
Just to add I'm testing it on `devnet`
```
connection.onAccountChange(keyPair.publicKey, async function (accountInfo) {
            console.log(accountInfo.data.toJSON());
            console.log(accountInfo.lamports / LAMPORTS_PER_SOL);
            try {
                const response = await connection.getConfirmedSignaturesForAddress2(keyPair.publicKey, undefined, 'finalized');
                console.log(response);
            } catch (error) {
                console.error(error);
            }
        }, 'confirmed')
```
I'm listening to 10000 different public keys using the above function. Is this ok, or there is a better way to do it? Thanks in advance
Transaction is the actual run where state changes are persisted.
No state changes are persisted.
Transaction simulation is run before the transaction to calculate exact balance changes
what is transaction simulation, or what's the difference between these two?
Failed transaction simulation, no.
Failed transaction yes.
`@metaplex/js` has a `Metadata.findByOwner(pubkey)`
can i  get the signature of failed transction?
I'm trying to find an API by which I can query the user's Phantom wallet to get a list of all the NFT they hold, can anyone @here point me in a correct direction?
can i read a phantom wallet public key using html?
thank you
is It that?
conn.getEpochInfo().then((epochInfo) => { console.log(epochInfo.blockHeight) })
Are you using this? -> https://docs.solana.com/developing/runtime-facilities/sysvars#recentblockhashes
Although I think it may be deprecated
is there a function in the JavaScript API that calls getBlockHeight method of JSON RPC API? I want to get the latest finalized block height but I cant find a function in JavaScript API to do that.
I cant compile mine because apparently `RecentBlockhashes` has private feilds... but then how am I supposed to query the recent blockhashes at runtime on-chain?
how do you acccess the recent blockhashes from inside your contract
my bad, it's an error from the smart contract, i was calling it with a different address.
Hi guys! A quick question - how does the blockhash prevents replay attack? If i'm doing MITM and grabbing the tx and replaying it in the same block, what's stopping me from doing it? Is there any other nonce or something preventing me from running 2 txs from the same account in the same block?
Anybody here thjat already pitched a project can give me some help? Open to any help
The problem is, as slots increase, the number of signature confirmations does not increase. I wonder if somebody from the dev team can help to analyze the logs?
Hi team,
What is the chain id for the Solana Mainnet, devnet and testnet custer?
Mostly I'm seeing like 101 for mainnet
whatever you called getMinimumBalanceForRentExemption on the object is saying its undefined..   so whatever   'object'.property is is not defined..
hmm maybe look at logs or more testing, not sure on your setup. but i hang around in <#560174212967432193>  if your running your own nodes and benchmarking etc.  there are lots of tweaks and improvements and updates etc.
if this helps there is some other info on whats going on in status:
https://docs.solana.com/integrations/exchange#transaction-confirmations--finality
Obviously Finalized is best and safest. And confirmed is still good and is optimistically confirmed. Im not sure on the current performance benchmarks for finalized vs confirmed, but it varies by machine, cluster, etc.
so, 17 seconds
2021-12-02T12:49:00.747+0100 => 2021-12-02T12:49:17.874+0100
somehow it got unstuck now
I found this way
Hi I have paper wallet what is best way rto send spl-token?
```
spl-token transfer --allow-unfunded-recipient --from ibrVEGt6vDJmUAbwPn1xmVASGdbhWnkVRqTBT15KL8H  5WCFAT7ruuESBxqhMMh6t8ASCaZKXvRsstgPmPxW7HaK 10 2WefWDmCywnThs7AA4ziMLGfir1ofG6m3YgeL6ggcwAA $testnet  --fund-recipient --owner 6k.json ```
```
TypeError: Cannot read property 'getMinimumBalanceForRentExemption' of undefined
    at Function.getMinBalanceRentForExemptAccount (~/hydra-io/swapv3/js/node_modules/@solana/spl-token/client/token.js:355:29)
    at Token.createAccount (~/hydra-io/swapv3/js/node_modules/@solana/spl-token/client/token.js:448:39)
    at Module._compile (internal/modules/cjs/loader.js:1072:14)
    at Module.m._compile (/usr/local/lib/node_modules/ts-node/src/index.ts:1365:23)
    at Module._extensions..js (internal/modules/cjs/loader.js:1101:10)
    at Object.require.extensions.<computed> [as .ts] (/usr/local/lib/node_modules/ts-node/src/index.ts:1368:12)
```
"@solana/web3.js": "^1.21.0",
"@solana/spl-token": "0.1.8",

hi, any idea about this error?
between confirmed and finalize it wouldnt change that I am aware of. how long has it been taking to go from confirmed to finalize?
I do poll the status, and it does not get changed, that's the problem. But it should be finalized in order to be sure that it won't be overwritten, right
Less than 2 minutes, on a private network deployed for benchmarking purposes
sweet. your rich. in supply..
not really on that one.  all i can think is to poll the signature status..  otherwise finalization can take a bit longer, but confirmation is generally all u ever need.  are we throwin million dollar transactions around?   and what do u consider reasonable time?
<@!785084693023424542> maybe you have a suggestion?
tokens
love you ‚ù§Ô∏è worked
sendTransaction, actually signs and sends a transaction.  and you have a sign above that.
how much do you think its worth?
Somebody tried the solana-wallet-adapter with react?

I am using `await signTransaction!(transaction)`  which issued an approval request,
then i do `const signature = await sendTransaction(transaction, connection);`
which is doing another one.

How come i need to approve twice?

<@!785084693023424542>
Hey, how do I set the price for my new spl-token
yea you want to go through the installation in WSL2 in ubuntu and install and run everything there. no idea what you have or need bzip2 for.
inubuntu on WSL2:   run package updates.
https://docs.solana.com/cli/install-solana-cli-tools
i think not, ill try to reinstall it to wsl2 ubuntu
Just to be clear, you installed solana-cli on the WSL2 Ubuntu? . Havinig bzip2 in the windows context won't help.
not sure. have not seen or run that in some time, and not on testnet.  its possible certain features are enabled, or deprecated since that tutorial was written, on various networks.
Everyone üôÇ
confirmed by default i believe but you can pass finality,  as an option if you check the definition
hello sir, can you also help me üôÇ
its being built by community and supported as well. may be waiting for official endorsement, its early release. it is intended to be the future place to aggregate code samples, resources, and more. will also be updated much more quickly, take community into account more, and start growing more quickly. Integrations, adaptions, and much more to come. It was released early to get everyone who wants to be involved a chance to contribute.
admins please if you could chime in
im getting this error when i run solana-test-validator.  im using a windows 10 as on OS with WSL2 installed. i already installed bzip2 for windows. any one here can help me?
Everything works except for initEscrowIx
hello guys. im new and trying to start my solana development, who can i ask here? im encountering an issue wen i run the solana-test-validator

Any idea what functionality is preventing pauly's escrow code from running on any cluster? I just realized this line frrom the escrow tutorial and cannot deploy to testnet  `you can only deploy the program locally for now because we are using functionality that is not enabled on any cluster yet`
make token on the main net just like dev net? just change the config to the main net?
Hello can you tell me `getParsedConfirmedTransactions` is it returning transactions that are finalized or?
Hi! Could you tell how do I debug transaction finalization? I have certain transactions which don't change their status from confirmed to finalized in reasonable time
you should be able to build the source, thugh. I would still upgrade and run through the installation, and then build, and run the CLI and solana-test-validator and go from there.
ok thank you.

follow your advice.
really you can go through the install, run the solana-test-validator after your setup. and that runs a local validator.. and u can use the CLI commands a lot, to tweak, query, log, etc..  you will view logs with solana logs and use -v for verbose.   Then you can build individual projects/programs from the REPO, and deploy them to the validator..  and then interact via CLI, RUST, Client, web3, whatever you prefer.
I am sorry, I want to build the solana project, and learn the consensus.
follow your advice.
otherwise, if your wanting to just run a validator locally, thats a very weak machine spec..
ok
the CLI has all the tools youll want to interact with a validator, including running solana-test-validator.
proper version of rust, rustup, cargo
I want to run a local testnet, why install cli-tool ?
and im not certain ubuntu 18 is an issue, but id use 20+ anyway, as most appear to be using that or greater if on ubuntu, to eliminate potential issue.  package update.
https://docs.solana.com/cli/install-solana-cli-tools
I have a feeling its an OOM related error, as release has less overhead.. and smaller, and has to with with linking and failing the build process.
Let me follow the readme again.
I have been following the readme .
where is the solana installation instruction ?
there must be some debug related linking, package, space, or some issue..   its a vague error.
I do not have installation instruction for linux.
that links it to a closed problem. does not appear to be the same error or related? am I missing something? your also running a older version of ubuntu.  im guessing you ran through the installation instructions for linux? and everything went fine as well?  there is always upgrading ubuntu to the software thats actually used to build and run the validator..
but with --release flag, the building ok
can someone help me understand what the solanacookbook is ? - https://solanacookbook.com/ , is this something officially endorsed by solana ?
how to resolve my problem?

8G RAM.
i guess it depends what those addresses are.  and is this a 1 off? if so you could just manually create the token account then do the transfer to right? might be easier to trouble shoot.  sometimes there are flags or addresses that need to be used for ATA related accounts.
https://github.com/solana-labs/solana/issues/16473

same problem
it was created back then with sollet, now imported in phantom
yes, my wallet owns that `source` address
so you can only transfer 'from' what you own/authority, and thats all you can sign for, from a wallet perspective, or any really.  the account owner/authority/delegate, must sign/authorize.  is your wallet the owner/authority of the source address?
also, no amount is shown
Hi 
spl-token transfer --allow-unfunded-recipient --from "prompt://?key=0/2" HW6dkFphnqaXir5M3NqNYm3RagMDWrnN9dyg2d367NJM 10 2WefWDmCywnThs7AA4ziMLGfir1ofG6m3YgeL6ggcwAA 
why it is returning 
Account could not be parsed as token account: pubkey=6LzfuVwSSgbFiLP3D2y8vKv54EHsQjM3daYqfSmhXGif
i want to transact USDC or any other SPL token.
we are bros then. god save them. wait till u see what i wrote.. lol
what your doing is a token transfer, from a source?  the source probably needs to be signing for it? is the source the same owner/address as the wallet? console log out?  appears a signature is still being expected that is not being given.
üôÇ Hope you have a good editorial staff, I tend to ramble on üôÇ
yea thats perfect. thanks a ton!  i figure if we can put even a fraction of your material in there we can reference and link it and everyone can build on it.
Thanks I'll have a look
This was for buy sell instructions

```
fn transfer_keypair_to_account_with_fee(accounts: &[AccountInfo], key: String) -> ProgramResult {
    let account_info_iter = &mut accounts.iter();
    let from_account = next_account_info(account_info_iter)?;
    let to_account = next_account_info(account_info_iter)?;
    let service_account = next_account_info(account_info_iter)?;

    // Cost to "from account"
    charge_service_fee(
        from_account,
        service_account,
        SampleServiceFees::Transfering as u64,
    )?;
    // Cost to "to account"
    charge_service_fee(
        to_account,
        service_account,
        SampleServiceFees::Minting as u64,
    )?;
    // Invoke the actual transfer
    transfer_keypair_to_account(accounts, key)?;
    Ok(())
}
```
that came from a solana cli template with a sample program and not the spl-token (although I'm starting into that now). https://github.com/hashblock/solana-cli-program-template
Sorry couldn't be of more help at the moment.
i got `Signature verification failed` üò¶
the wallet's public key
<@!814228493302497301> I was reading some of your earlier posts around taxing one account vs paying another in a Rust program and you provided a snippet which was very helpful:

```
/// Extracts the service fee from the users program account and
/// credits the service account
fn charge_service_fee(
    program_account: &AccountInfo,
    service_account: &AccountInfo,
    amount: u64,
) -> ProgramResult {
    // If tracking can not afford transaction fee
    if **program_account.try_borrow_lamports()? < amount {
        return Err(SampleError::InsufficientFundsForTransaction.into());
    }
    // Debit user and credit service
    **program_account.try_borrow_mut_lamports()? -= amount;
    **service_account.try_borrow_mut_lamports()? += amount;
    Ok(())
}
```

Just wanted to ask how you deployed that on chain to interface with your token? I have minted my tokens to https://explorer.solana.com/address/4vxtSzJTo8CGYcf7zkB1nkc167ed7HodrezZQ6GrFnnd?cluster=devnet using  spl-token. I'd like to understand how to wrap any usage of that token with a contract (so that my tokens can be used explicitly inside the context of the program).
Alright, in the interest of time I'll start building a markdown doc. Program perspective (Rust), CLI perspective (Rust and Python) but I was using serde in our, then, UI so not much help on the JS side. If I have time I'm sure I can figure that out as well
what did you add as the fee payer?
front end is the same deal ,  with 10 ways to do it üôÇ  but probably between maps, bufferlayouts, and libs
I would say whatever you prefer.  for native I think its worth showing not just borsh, per say, especially after some engineer talks and reviewing all the source. maybe it will help lead to some better tools or a preferred method, or maybe we just have a few good paths to pick from based on preference.
if you have an opinion or idea on this id love to hear and gather feedback
so i added the fee payer . and i got "unknown signer". this is hopefully the last step üòÑ
Any format in particular?
works?
woohoo!  def wanted to tackle various serialization.  front end and back.  anything you would want to contribute would obviously be greatly appreciated, probably a custom NFT worthy at least üôÇ
there are various approaches to serialization. and just starting to provide some consolidated examples, best practices, approaches for some structures and various types.  If you prefer program based / rust end I can compliment or fill in any gaps. Just the more the better.
Cool. Let us know how it works for you.
did it like that
yeah the owner is the token program
Do not have a master list... kinda fragmented in a few places. What can I do to support the cookbook though... happy to help!
oh yeah i got it now as well thanks. `Transaction fee payer required`  i get closer to the solution haha
hmm. and the owner is not the ata owner there either?
id check the solana explorer, they do it there.  in solana github.
you need to include the recentBlockHash:
  transaction.recentBlockhash = (
    await connection.getRecentBlockhash("max")
<@!785084693023424542>
previous error: 
   Compiling solana-banking-bench v1.9.0 (/home/ubuntu/solana/banking-bench)
error: linking with `cc` failed: exit status: 1
  |
  = note: "cc" "-m64" "/home/ubuntu/solana/target/debug/deps/solana_validator-09e6c581df4db8b5.108ovjomivtu5vsy.rcgu.o" "/home/ubuntu/solana/target/debug/deps/solana_validator-09e6c581df4db8b5.121ozrnrk4f66um.rcgu.o" "/home/ubuntu/solana/target/debug/deps/solana_validator-09e6c581df4db8b5.13972htowetlc7mn.rcgu.o" "/home/ubuntu/solana/target/debug/deps/solana_validator-09e6c581df4db8b5.156e05zc9c6hclyy.rcgu.o"
just tried that, unfortunately it does not contain the authority. thanks for trying to help though!
thanks. okay, so i signed the transaction before sending it, now i get `Transaction recentBlockhash required`
got it
also as fyi, we build and run on Ubuntu 20.04
Thanks, following your advice!
on average you might have better luck in <#560174212967432193> for something like this as this pertains to that more than development specifically.
Let's me try build again. waiting for me.
is says due to previous error, is there a previous error?
did you already try using the spl-token library version, of Token.getAccountInfo(address) ?
if not the solana explorer obviously get the info.  if the above does not work, i dont recall off hand. there should be a way though
Hi everyone, it's nice to be here!

I am new to Solana and have some weird issue I need some help with.

In our project we run a local Solana single-node network. I run the node in a docker container started from 1.7.9 image, and it works well.

However at some point I decided to backup the Ledger and stopped the node. Then when I started the node again, I was not able to transfer funds and make program calls any more.

After some investigation, I figured out that new blocks stopped being produced.

Luckily I've found an extremely useful document (https://docs.google.com/document/d/1vS4ATFCF4tCGxcdH7IBMTej6zZktSajisQcNNMKYhig/preview?pru=AAABfAoSZOk*tJOYlfpPo58tm2P15YJNcA#) which helped me to create a fork snapshot and restart the node.

Now it works again but the only problem is that when I run `solana cluster-date`, I get `Block: 6124524 Date: 2021-11-15T09:06:45Z`. This is the output I get right now, when it is already December, 2.

I haven't found any info on that regard in the docs as well as anywhere else on the internet, but I may be missing something. Could someone please help me to synchronize the clock of my node so that it gets back in sync with the actual time?

Any help will be appreciated.
Many thanks.
error: could not compile solana-validator due to previous error
warning: build failed, waiting for other jobs to finish...
error: linking with cc failed: exit status: 1
any errors before that?
cargo build without --release not works with the above error.
cargo build  --release works
not VM ,but that's a small machine,    no oom.
it's hard to explain, but I just got it from a call to accountInfo somewhere else. unfortunately it gives me the collateral token and the ATA, but not the authority üò¢
is this a VM?  what are your hardware specs?  are you running oom?
are you trying to build the validator?              yes
what system are you on?                                   ubuntu 18
and have you installed everything required?  yea
have you been able to build before?                 no
so where are u getting an ATA from?
nope
is this related to NFTs?
not much info there.. are you trying to build the validator? what are you trying to do, and what system are you on? and have you installed everything required, and have you been able to build before?
ya i did that too but nothing works.
yup, working backwards
not here. you have to file an issue, and or comment on your PR. like the github says.
generally you start with a primary address, or wallet.. and can find its ATA.  are you working backwards or getting an ata from somewhere else?
Hi, i am trying to name our token and i have same issue from last two weeks, Automerge error. Can somebody help in this matter?
what do you have to work with initially?  how are you getting the ata in the first place to check?
its token js wrapper/helper class. you can pass the constructor params to it, and use it directly to call its associated methods
The owner is just the token program. What I'm looking for is the wallet that owns that ATA. For example https://solscan.io/address/EEc5tqW3EiZeqDcC2BvhbSBbXKbjyWbpHzd64ygQomoN gives me that 
G42FqhwrY5jEqV5u3j7WbrB7qW8CQHN9m6efueFVCM8v owns the EEc5tqW3EiZeqDcC2BvhbSBbXKbjyWbpHzd64ygQomoN ATA, which is what I'm looking for
is the owner returned not what your expecting?
Hmm, is the authority inside the data of the account info of an ATA though? How do I find that out?
btw. it looks like your not signing with the  wallet. if your getting signature verification failed.  generally you have something like wallet.signTransaction() if your using a wallet, and or including the signers as part of the transaction by passing a keypair. for a typical dapp and a wallet scenario your generally going to use:
psuedo:
`transaction = await wallet.signTransaction(transaction);
and or partialSign(...)`
= note: collect2: fatal error: ld terminated with signal 9 [Killed]
          compilation terminated.
          

error: could not compile `solana-validator` due to previous error
warning: build failed, waiting for other jobs to finish...
error: linking with `cc` failed: exit status: 1
error: could not compile `solana-validator` due to previous error warning: build failed, waiting for other jobs to finish... error: linking with `cc` failed: exit status: 1

do you have the same problem ?
an IDO, like the ido-pool, in anchor, is just a program right.  you could code it however you want. inside the program itself, you could, if not locked or frozen, upgrade it to be different. Why do you ask? is there a situation or specific thing your trying to do? or look into potential issues?  tokens themselves may be part of the program, but you cannot change the tokens themselves, but you could change something in regards to minting, transfer, control, etc, especially if your program owns authority, or you own authority on the mint, etc.
Thanks üôèüèªüôèüèª
Okay , i will wait and come back in few days for updates.
whats the issue?
https://solanacookbook.com/recipes/token.html#get-token-account can get the owner and other info, and most any account info, using the getAccountInfo, as long as you know how to decode the account your getting.
i do not believe there is anything you personally can do right now.  it is 'possible', though im not certain yet, there may be something that can be done about this with a future update - as you mentioned they pointed out as a possibility? ill look into it and reach out to them to clarify.
What's the best way to get the authority of a token account? The best way I can think of right now is to go through the solscan API, but wondering if there's a more direct way
hmm i somehow can not figure out this one. very frustrating üò¶
I am hoping you can help me to address this issue to solflare and sol . Right now you are my only hope üôèüèª
In your opinion , Will i ever get the funds back or never? Thank you for your helps üôèüèª
So, i‚Äôll just wait patiently? Until this problem is solved? Or is there anything i can do at the moment?
Thanks for this. For my knowledge, what are the limitations on what we are able to upgrade in a program/smart contract after we complete an IDO or similar?
make token on the main net just like dev net? and if you have any like guide please forward.
If 2 people have same problems two days in a row then many more must also experience it. Perhaps some just let it go if they send small amounts only

Support in discord said that he receive complained similar to mine just one day before
you saw others with the same problem?
So how should i call you? Ben? For now what can i do?
Thank you very much
Okay
no image. delete that please. i found it myself.
did you ask in their public channels? if so can u link me to the channel. im curious.
Yes i did ask. And they say i should not sent it to token adress ( the one with woof image) i should have sent it to sol main address . And many people experience the same thing as me. Nothing they can do and they advise me to go to sol tech
for spl-tokens the only meta data used 'officially' is from token-list, and officially there is not much in dev related to token-list. its mostly made up.  for mainnet, you can use : https://github.com/solana-labs/token-list . you could theoretically put a dev and test instance there, im not sure they are accepting those atm.
hi, I need to know when I was generating tokens on Devnet how can change the name of the token and symbol i tried using (https://dex.cyclos.io/) but did not get any result. can anyone guide me to do this?
I thought it was the correct address
did you ask in their discord?
Yes
u sent the woof to this address?
the one that showed for the woof image above?
6kHdkPqgdBfHcXrdUrRVMSJsJ6TXkrN4UkzMKve3GkNm
Zero
Yes i dont see any woof balance at all
it shows your wallet address owns the token address where all the woof is.  your saying you dont see a woof balance in your solflare wallet?
GRwriHdqeeqvGD4fq79bHd8PmxvH4NxT9tNLhkBfogug
The one on top right
do you know your solflare wallet address?
yea. so that will show all the details and related accounts on the transaction
Like this?
now go here: https://explorer.solana.com/  and paste that in the address bar at top
Thank you üôèüèªüôèüèª
t1d1BaJBaHNBeLXwgH83CY5xTHCtDbGBr4hsJDHCzuMZVBSvTKKG2Lh1L2ptqwzxwaPx4TYkKe44ykp67auJxSY
yea paste it here
Okay so i copy it?
thats from safepal?
the one that says TXID
This one?

so it may be shown in safepal, if it did not make it to solflare
the transaction id is the signature/address of the transaction that is created when you submit/execute a transfer, or transaction
Transaction id is which one? The address that i sent it?
thats not a transaction id
Sorry
6kHdkPqgdBfHcXrdUrRVMSJsJ6TXkrN4UkzMKve3GkNm
no image. the text. or do u expect someone to manually type it out?
I sent it to woof address in solflare wallets
what is the transaction id ?
you mentioned solflare said something about an spl update?  because u sent it to a TOKEN address instead of your WALLET address?
Yes i learned something new everyday
if u sent a small amount, you may have noticed something didnt work. in future always test, worst case, small amount..  u can always transfer more for basically nothing in fees.
So in your opinion i will never have access to my token again?
My bad for not knowing
i would say vast majority. others may be tryin to do their own thing, but metaplex ala candy machine, is the current standard and majority of stores and devs and users are minting and using metaplex for NFT. strong majority, if not almost all.
I thought solflare is a good wallet and very recommended for solana. And woof are solana tokens
Yes I thought it work just the same with safepal and metamask. I usually add new token and as long as the address is correct then i receive the amount without problems
an account is an account, but most likely for NFT and Tokens, is a type of token account. a wallet is a type of account, otherwise could be a keypair, otherwise a token account, or any kind of account. an account could be referred to as a wallet, etc
are all sol nfts metaplex?
more or less, the NFT standard is metaplex. https://docs.metaplex.com you can read all about NFTs and Metadata. they have a discord and links to community section as well.  They use the token program, but they also work differently over all.
an account doesn't mean a wallet right
After a token has been minted, a nft, the token can be transfered to other accounts?
so you did not do a test transaction and send a small amount the first time sending to a new address?
I want to know so i wont be able to get my funds back?
Solflare discord say i sent it to token address instead of sol main address. But the token address is there in solflare wallet. It creates confusion . the only way i can have access if sol do the spl implementations in solflare. Many people experience same lost.
thats not useful reference code
I am using solana/web3  trying to generate keypair and keep getting error: no PRNG 
Deals with this line below in the nacl-fast.js file
//  Pluggable, initialized in high-level API below.
var randombytes = function(/* x, n */) { throw new Error('no PRNG'); };
look up your transaction id in the explorer i just linked above. see what happens to your transaction. it sounds like u sent to the wrong address. you dont need to keep posting images.
Using raydium in safepal
I usually buy all sol coins here for exampe cato woof samo
Thanks
if you have a transaction id, and the transfer was on the Solana network, you can look it up in the explorer: https://explorer.solana.com/
I buy woof token from raydium in safe pal
how did you have woof tokens in a safe pal, wallet? where did u get them? what network is this on? and how did u send to the wrong address?
this is not a developer issue. this is a wallet related issue. and appears you sent tokens to the wrong address?
Can anyone here please kindly help me üôèüèª
anything generally referred to as a contract is a program.  programs have a program Id, aka address, publickey. programs are what are deployed on chain. many differences from eth and erc20 smart contracts.
I copied from woof tokens in safepal and paste it in solflare . I usually do that to send new tokens from safepal to metamask via bsc network. I thought it will work just the same
Yes
is the spl program the same as the contract id



I sent from safe pal yesterday
Hello, can i ask for support. I had problems yesterday. Sending my woof solana token to woof solflare account. The transactions successfull but i dont see balance in my woof solflare accounts. They say because i sent it to the token address instead of sol main address. So i have to wait until solana made new implementations on the spl tokens in order to gain access . I learned that many people experience the same lost as me. Can somebody here help me.
when you create a token your creating a mint. everything you create has an `address/publickey/id`.  a token has an address, a mint has an address. the mint is used to 'mint' tokens.  you create a 'token account' by creating an account and associating the 'token mint address' with the account your creating, and passing the address/program Id of the SPL-token program, among other things.
a token id is the same as a mint id?
whatever its in reference to, most likely a program, you need to figure out what program was throwing the error. you can turn on verbose logging if needed `-v`  in CLI  or run `solana logs` or `solana logs -v` in a terminal. if you need to track down a hex value that was spit out for whatever reason, instead of a custom error, you can use : https://www.rapidtables.com/convert/number/hex-to-decimal.html to convert the hex to string, and use that value should be the error number inside the program throwing the error.
programs = smart contract. but not sure what you mean here. tokens are not smart contracts. a token (mint) is created using the token program. programs are deployed on chain. tokens themselves as part of the current spec (token program) and eco system are not customizable per say. programs themselves can be deployed on chain, and can be upgraded, or they can be 'locked/frozen'.
<#560174212967432193>
in reference to what?
If i host Solana cluster, is it available make transaction without fee ?
what does error 0x137 mean?
This may be obvious, but what (if anything) can be changed on a smart contract after a token is launched? Is it all locked in stone upon launch? What variables can be modified indefinitely?
üò≠
"np!" not a valid command. please run node --trace-errors
np!
thanks for your help <@456226577798135808> I apprecieate it! have a good night!
hyper + wsl2 and you have conquered step 1 at least
üòÇ
already have to try and enable hyper-V lol there's no easy anything ever.
Gonna split but feel free to drop a line and I will do my best to assist (I am a total noob as well, so its the blind leading the blind(
All good - its a learning journey after all
gotcha! I could've googled before asking that last question i guess lol
I kinda wanted a UI and all that but after looking around, i lost patience with how many things you need to do. I will get to it eventually
WSL2
let me know once you made more progress and hopefully I can help you avoid burning so much time as I did as well
guess it's time for linux! full install? or running in Windows?
live and learn, I ran away from linux but here we are, full damn cicle
until 3 weeks ago, all I could do with code was being able to take ads out of custom myspace profile templates a decade ago.
took me 4 days to realize that one of my errors was that I had to many characters in my 'name:' info on the JSON files I was uploading. 20 hours of reading and then saw it in a reddit post with 4 comments. lol
now I am learning unix commands to find big files etc üôÇ
was shocked when i got the space warning - no where was I expecting that or seen it mentioned
oof all of the unexpected space lol
I feel that is very difficult for me.
I have gotten as far as 
1. WSL2 + Ubuntu 
2. installed all the ubuntu updates, packages etc
3. [Skipped for now] UI for ubuntu
4. Installed VS code on Ubuntu
5. Downloaded and built the source as of 1hr ago and watch my CPU & Memory hit 100%
6. Found out that building solana also eats up 50+ gigs of hard drive space so if you build have room
haha
Solana consensus sounds daunting from my current posistion. lol
I accidently installed WSL1 and now I'm just getting warning after warning to get wsl2 lol
ha yeah same here
I'll start on this tonight then!
I keep running into the issue of following along with documentation to find out there's like a dozen other things I should've already ran and installed before doing anything, but I can't find any place that really covers the unmentioned (101) of setting up your system. which I've assumed is the reason for a lot of my roadblocks.
<@!142558769505632257> I say use the microsoft or just google how to get WSL 2 going on your windows machine. I can try to tell you more after that and hopefully save you some time
first I'm working on learning how to launch my own nft project by myself, but I'm looking to learn as much as I can using that as the platform to start stringing knowledge together
Do you want to run a local testnet  ?
I am learning Solana consensus right now.
sorry, to clarify, I've been working on windows, but I also have been trying to work in mac and linux as well
the idea being you dont need to run a VM or dual boot a linux system
<@!142558769505632257> 
what do you want to do ?
Not sure about WSL2 + mac, I thought that was a Windows specific feature
<@!774378220141281330> <@456226577798135808> sorry if i'm not quite getting terminology right, it's a lot to take in. but I feel like I'm at least getting better every day
and I just learned about WSL2 tonight, so I've been reading on that. I also have a mac and then have tried to get Linux to work as well. I've been spending quite a bit of time just trying to absorb everything.
Thanks both of you for replying so quick! It's been an island over here. lol so some things off the top of my head are things like when I'm trying to verify things using metaplex, it won't recognize the "wc" and "xargs" commands.
<@!142558769505632257> if you follow the instructions for Windows - it will not work if you try to run a local cluster. I fought with it and gave up. I am in the middle of doing a full build of the source on WSL2 + Windows...
What errors are you getting specifically? Is this during your setup?
Hey all! Are there any resources out there to help me figure out the little things I keep missing? I keep running into what seems to be basic errors due to missing some necessary install. It seems like I‚Äôm just missing the stuff that I‚Äôm ‚Äúsupposed to know‚Äù and aren‚Äôt included in most documentation I‚Äôve read through.
Appreciate your time!
Here I was thinking that you could bake functionality into those tokens specifically.
<@785084693023424542> thanks, this makes some sense. I guess I was going about it the wrong way. So the correct approach is to mint the tokens using spl-token and then create programs that interact with the tokens in a particular way.
<@!785084693023424542>  <@!585868308419444749> 
So I did clone and ran the build and for the first time since I ever owned my PC, I watched my cpu and memory hit 100% while that build ran. Also, for the first time ever I got a warning on my C drive running out of space - the build now has sucked up 50+ **GIGS** of space....what is going on...
so you would want to use the token program for the tokens, and then use the tokens inside your program.
yes. the token program is code, source in github, reference by the CLI walkthrough in the spl link above.  The links go to the source.
here is an example of a vesting program (contract)
https://github.com/Bonfida/token-vesting 
There are others out there as well. 
Token staking, reward contracts, etc.
https://github.com/project-serum/stake
https://github.com/step-finance/step-staking
But not building in customization into the token itself, for the eco is not really support atm.
The token swap program shows an example of swapping tokens, with options for fees.
https://github.com/solana-labs/solana-program-library/tree/master/token-swap
Yea I think I worked through these yesterday and it was fine. But unfortunately I couldn‚Äôt find much around interacting with custom token logic (for instance adding a transaction fee or having a vesting period). It all seems to be hardwired to the CLI. Is this possible at all with Solana?
there are links to the token code in the walk through as well.  and you can see how those program work.
I would get used to using the token program. First the CLI walkthrough to see what the process is, and then in code. You use the spl-token program to call its functions, to perform actions with tokens.
Ah okay fair enough! So if I create my token with spl-token, how do I then get it to interact with my custom contract code? Is there a way to do that if I know the address of my contract code on chain?
no in place of spl-token, for the eco system. for personal use or use with custom programs, if they integrate with your program yes.  because SPL-Token is a program, the token creation must come from this program currently, to interact with the eco system, because everyone is expecting the tokens to be from that program, that format, etc.  its not like ERC20, and interfaces.
I think I get the contract dev/deployment side, but I‚Äôm having difficulty understanding how to interact with the contract at a token level on chain
Thanks for replying. My code is pretty much a 1:1 copy of the token program with a few tweaks in the transaction logic (e.g. a 1% fee levied on any transactions). Can I use that in place of spl-token? I suppose that hypothetically I could mint/create a token from my custom program too?
a few lines and you can create a token, mint, etc.
also, you dont need to customize the token program to deploy a token or mint tokens.  you just use the token program to create a token, and then cant mint tokens. https://spl.solana.com/token
Metaplex is an example of using the token program to create an NFT standard, adopted by the community. 
Currently token customization would not likely be supported by the eco system, but they may change in the future.
You could however make any customizations you want and deploy your own token program, but others would not be able to use it 'out of the box' with all of its customizations without specifically implementing them.
I‚Äôve deployed my token contract to devnet which is a slightly modified version of the base token contract in the Solana library, but can‚Äôt get my head around interacting with it. How do I mint tokens from it for example? Or execute transactions against the rules set up in that contract?
Are there any good resources on setting up and running a custom token contract?
Yes.
in general, yes. the validator has certain spec requirements to run. its pretty quick and painless to build from source following the instructions. takes a few mins.
the params  --limit-ledger-size, what values can I set?
So I abandoned trying to get `solana-test-validator` to work on `Windows 10`. Got WSL2 + Ubuntu going, installed Solana as per the linux instructions. 
Ran the test validator and it immediately `Aborted`. I just *happened* to come across the validator logs and saw this bit
`
[2021-12-02T03:15:58.126549495Z WARN  solana_perf] CUDA is disabled
[2021-12-02T03:15:58.126562303Z INFO  solana_perf] AVX detected
[2021-12-02T03:15:58.126567013Z ERROR solana_perf] Incompatible CPU detected: missing AVX2 support. Please build from source on the target
` 
Is building the source the only solution here?
Thanks
You need to run your own
https://github.com/solana-labs/solana-bigtable
i have a project to query historical ledger,  how to find this bigtable instance?
Do you have a project or you just want it?  There's a bigtable instance that you can clone
Does anyone know ?
How can i get the complete historical ledger ?
yeah, thats what I was expecting, i'll try actually sending a tx to the program and see if that shows up, just trying to get a handle on how I can observe state, thank you!
Ok faucet has 4M.  Take it easy on it!
what are you expecting under that address?   transactions to upload the program?  hmm not sure those are posted in the explorer..
On the program that I uploaded I can see my address shown as the `upgrade authority`  but when i click into that address the history is empty, oddly
badass thanks trent
should be all transactions.. as i recall
faucet should be funded now
I'm guessing theres no way to just see all transactions (excluding voting) as like a log basically
ok I see, i've deployed a program with anchor deploy and it succeeded, I can put in the program ID and see some stuff, but for some reason when I put in the address from `solana address` there is no activity, I would have expected a transaction to upload the program
you mean, Solana explorer? 
you can view your address, or interested addresses, and it will show latest activity, that you can trace.
is there a way to just view a linear log of transactions on block explorer (pointed at localhost)? I just want to kind of visually see what I am doing as I stumble through learning the systems
Sec I'll plunder the validators
RIP
hmm..  yes.
Hey, is devnet sol out of supply?
Could be.  I dunno what that word means other than "i don't like this thing"
damn <@!585868308419444749> looking around the Cord. You just toxic all over the place huh
why are you saying phantom does not support these?  i havent tried test in forever but local, dev, mainnet work fine. Not sure why test wouldnt, but if not, use a local or dev instance.
You're right.  I told you you were asking questions in the wrong place and I should have just answered your question despite there being no answer
You could've just given a decent answer to expediting via the github but instead you whined. Smh
Not saying it does. No need to be toxic i'm just asking a question. Sounds like you will not be the one assisting me
Switching channels doesn't make you right
_Server_
Right so I went to dev channel. You also do not like that. Understood now. Nothing regarding token-list in the entire server
And I told you that the token-list repo isn't supported on this server
you're welcome to help if you'd like. I wont take more than 2 minutes of your time
Bruh chill im just asking questions which is the entire purpose of a Discord
c'mon man ü§¶
Hey Solana friends. Sam here, cofounder of Turnt Up Tikis. We minted yesterday and sold out in 3 mins. We need a pull request expedited. Was wondering if anyone could help? Or know where I could get help? PR here https://github.com/solana-labs/token-list/issues/5578
Are there any good wallets that support dev/test net? Phantom doesn't support testnet, and I'm looking to show the user experience for a demo
<@!814228493302497301> In another channel, <@!590982495923732511> pointed out that borsh has a `deserializeUnchecked` method. It's as simple as that! In contrast to the plain `deserialize` method, it simply ignores trailing bytes
hey <@!814228493302497301> ! you have a master list of all your serialization knowledge and examples?!  or is it just on hashblock?
sure would be nice to have some serialization examples on that https://solanacookbook.com site.
https://solanacookbook.com/recipes/token.html#get-token-account-by-owner
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getParsedTokenAccountsByOwner
thank you!
web3 you can do `getTokenAccountsByOwner`, in CLI you can do `spl-token accounts`  on the keypair (default)
It's old, there is also one demonstrating Vector storage
interesting.... I will study this üëÄ
is there a way to see all associated token accounts for a given account?
Btw: Here is a Gist mockup for Option One prefix aspect (in Rust): https://gist.github.com/FrankC01/abae44f481c67988820fbb8c2c836c27
Lot's of folks are using Anchor, they've got a Discord Server as well.
But as a newbie, I don't have a good way to gauge my own naivete in this matter.
I mean, it seems like if one understand how to create accounts of various types, make CPI's, and how to reasonably manage authentication and authorization, one can do just fine without relying on Anchor (or whatever the framework may be)
I haven't, it wasn't on the radar when I got into Solana so I was into nuts and bolts
I've been trying to do everything with just web3 and solana SDK
I'm asking myself now if it would be better to just hop on the Anchor bandwagon
Yep, sounds like my school years
Hello, I need some help with Solana wallet integration in Unity game, im struggling to get the wallet and all it's scripts, assets, into my unity game. https://www.youtube.com/watch?v=2SBTyibppzM

This is the only video i found, can someone please help
true üôÇ - a form of study that involve staring blankly at the screen for hours
Here is the Borsh spec if you haven't looked already: https://borsh.io/
It's a form of study üôÇ
heh
Me neither... until it bit me in ass üôÇ
Ahhh, corner case... didn't think of that particular one...
Cool, I think I'll try the "reserved" thing and then option (1). I initially tried (2), but there was an issue: When the struct declared an int as its final property `struct Thing { name: String, age: u8 }`, for example, the stripping procedure removed the value `0` byte for age in the case where age is actually `0`
If your data ***use*** of data allocated is a fixed size then the `reserved` thingy works
If your data use is variable in nature you need another set of tricks.
1. You can use a `length` field that is read off the buffer block first, then slice the piece of variable data out of the buffer at `starting offset+length` then deserialize that slice
2. Solana zeroes out on the initial allocation, you could always slice off the tail. Traverse backwards until you get to first non-zero byte and slice up to that position
Thanks, makes sense. Borsh needs some love in this regard üôÇ
https://docs.rs/anchor-lang/latest/anchor_lang/derive.Accounts.html might be useful
I'm not sure what procedure it used for `account(init)` for generating its address, but it may or may not be a proper PDA. It could be using `createAccountWithSeed` instead, for example. I would defer to an Anchor expert on this or would have to explore Anchor's source
I've been developing outside Anchor, but from what I recall from the Anchor docs, `account(init)` doesn't generate a proper PDA. To do so, you'd use something like `account(seeds = [...], bump = ...)` . In both cases, the account will be _owned_ by the program; however, for a PDA account, only the program itself can sign.
If we allocate an account using `#[account(init, ...)`, then the account would belong to the program itself. Doesn't this create an account that only the program can sign, without using a PDA?
Where can I find an example of how to trade SOL for USD Coin on testnet using web3?
i dont recall off hand, but its extremely picky. you could use 'reserved' buffers in your objects to deserialize for any unused space before between or after data, assuming your using some type of map/object setup. generally it has to be a 1-1 mapping or know the type specifics exactly and all space to be accounted for. borsh is not good with dynamic.
so if you have unused space after. and its coming to the client.  on the client side you can map an empty buffer as the remainder.   { 'reserved', [32] }  for example.
not that I am aware of. i know vs code appears to be more popular. let us know if you do find something, i know some have been using it, was not aware of any special configuration.
https://github.com/solana-labs/wallet-adapter
-- Wondering if anyone has encountered an error when using Borsh to deserialize account data in JS, where the account data itself doesn't fully occupy the space allocated to it. `Unexpected 965 bytes after deserialized data` it's telling me. because I allocated 1KB to the account but am only using the first few bytes.
FWIW, if you're not using Anchor but instead building with the Solana Rust SDK directly, then the workflow for creating a PDA account is usually: (1) client generates PDA + nonce; (2) client sends to Solana program, where said program validates the key with custom logic; (3) Rust program uses `system_program::create_account` in `invoke_signed` to create the account with the PDA
I believe PDA accounts can also have their ownership transferred to other programs.
For example, if you have an escrow program, then you wouldn't want any party to manipulate the escrow account. You'd only want the program, according to its own logic/code, to manage the escrow account.
No client can sign for an account located at a PDA. Only the program itself can sign for it.
What is the point of a PDA? I understand that we don't need to store the public key. But what's the benefit of a PDA if we still need to store the seed phrases?
Hi,
Hi everyone. Apologies if already answered but I couldn't find by searching:  I have a full CLion/Rust config and have used on many projs but want to see if there are any guides to configuring the Solana Rust CLion env. Thanks in advance.
hi guys! does anybody know how to connect phantom wallet to my dapp? i'm new to this stuff. been trying to use javascript, but it doesn't seem to be working
Hi I'm developing with Solana and have a few questions:

1. Is project serum hosted node is rate limited?
2. While testing accountSubscribe method on devnet and testnet, data field returned is empty, is this expected?
3. What would you suggest us to do if we want to create at least 10000 cocurrent connections?

Thanks very much for your help!
can someone validate my understanding here - using getblock with a 'finalized' commitment level should always guarantee fetching committed blocks
the root change subscription seems kind of useless for my use case because the root can change when a confirmed but not finalized block is the root for a node
Interesting.... I wonder if that slot subscription double notify is related to my log double notify issue at an underlying level.
i am still not totally clear on why i wouldn't be able to find a block corresponding to each root the root update subscription provides. i am also seeing this behavior: https://github.com/solana-labs/solana/issues/9919
Thanks. Will take a look
afaik: https://docs.solana.com/cluster/managing-forks
slots are blocks but not all slots become roots
good to know. I read that slots are blocks in solana. ü§∑‚Äç‚ôÇÔ∏è
the slot id is less reliable than the block id, but even that is not 100% reliable in giving the latest confirmed block
I'm subscribing to slotSubscribe and this informs me of new "blocks" as I understand it. Can you use the slot id to to request blocks?
i am not certain using getblock would guarantee all blocks would be confirmed. up until a given root/slot id
what's the best way of finding a stream of confirmed blocks? it seems like when roots are updated it isn't guaranteed they contain confirmed blocks.
it might be relevant but I'm guessing this was a malicious question
I just had a user reach out and ask what wallet I was using. come on! really?
Thanks. Interesting. I was concerned I was missing something
That reminds me, I've actually noticed something similar with a different subscription....

I have a `Connection.onLogs` subscription with a `PublicKey` filter and I've noticed that it will send duplicates pretty frequently. It's not a huge deal as I can filter them out, but I am getting quite a bit of churn from this subscription. Has anyone else run into this? I searched for a github issue, but I didn't see any.
I don't think the order is guaranteed either: https://github.com/solana-labs/solana/issues/18204#issuecomment-871968221
i believe not every slot is guaranteed to contain a block, sometimes slots can be skipped because of consensus conflicts or something like that
Hey, new to Solana and web3 so this might be a rookie question/observation. I'm connecting to wss://api.devnet.solana.com and subscribing to "slotSubscribe". I've noticed that I will occasionally not receive messages for a few seconds, and the next message I receive is a few slots above the last slot I received. How concerned should I be about missing slot updates?
Ok, thanks
https://github.com/solana-labs/solana-program-library
Deserialize it on the client side and check it out. There's plenty of examples in the spl repo
Yep
You mean on the javascript side?
okie
Probably not for this discord.
Okie where should I post it...
Not a question for this chat
Should we vesting the token before going on market or the other way around?
Not that I know of for now
Hey guys, I‚Äôm after some recommendations on auditing companies? Does anyone have any suggestions or companies they‚Äôve had good experiences with?
Ok, thank you, number of sponsors is limited, but i have another question how structure will look like at client with this kind of structure üôÇ If you know any docs where i can find anything what could help me?
So i already have the signatures... I get that from the response to sendTransaction. Is the only way to do a signatureSubscribe for every signature I get? Is there no way that I can do subscribeToAllSignaturesForAccount?
You'll get notifications that a transaction was made, and can get signatures separately
it looks like slotsubscribe doesn't provide a commitment level param
How can I tell I tell from accountSubscribe which transaction passed/failed?
https://docs.solana.com/developing/clients/jsonrpc-api#configuring-state-commitment
like, what does "processed" mean? does that mean confirmed locally, without regard to network confirmation?
Why not https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe
So to clarify I'm looking for confirmations on everything that i've placed from my wallet
what exactly does slotsubscribe provide notifications for? the documentation isn't so clear
Seems possible at a glance. You may run into issues depending on how many sponsors there are. Have to create a large account since account size is fixed
You could do something like https://docs.solana.com/developing/clients/jsonrpc-api#slotsubscribe and then get the slot's transactions with a separate call
Cool, thank you
<@!489206164270350337>  I have this structure, i need to create DPA from client with sponsor already, is it possible? It is just an example
Is there a way to subscribe to all confirmations of transactions across websocket?
There's an RPC query that takes the data field max size and returns the rent-exempt minimum
Rephrase the question?
Guys how can i pass thru JS web3 nested structures to instructions?
Check out how transactions are sent with wallet-adapter https://solanacookbook.com/recipes/basic-transactions.html#sending-sol
From Client, sorry üôÇ
for a wallet you will want to do a wallet.signTransaction
Wants a keyPair. Does the wallet-adapter expose that?
Anybody how to adapt pauly's escrow tutorial to use the wallet-adapter? Trying to replace alice with the wallet-adapter in the sendTransaction bit but it's not accepting publicKey from useWallet bc it does not have a private key or so it says
I'm not sure why that would prevent you from answering my question
Or the discrepancies will always be there
Hi, a question about token. How does token solely on Solana getting their price been consistent cross dex without a support of any oracle?
I have pretty big structure of the data which i am planning to save on it and trying to find automate way to calculate the rent, so i am not sure  (sorry i am new to solana)
from client or contract?
Guys what is the best way to count rent excemption for PDA account?
Cheers, thanks
Listing on Serum is different. Pretty pricey SOL-wise to my knowledge. Check in Serum discord though
What about using serum to list on market? Is there a difference between where it is minted?
Minting is nearly free. Anything they charge seems like a scam
A minting lab
Okay thank you!! I'll try.
Follow how everyone else is adding metadata in the repo
To add do I simply just put in the metadata for it?? Or how do I add it is the better question?
Sorry about too many questions first time for me working on this
Clone, add, pr
To use it i need to clone that repo?or how do I go about it?
token-list is the current way
What is dexlab?
Is there any difference between using SPL token guide to mint token versus using Dexlab? Like fee etc?
Hey guys! Hope everyone is doing well!
Now i want to launch my own spl token 9 decimals to add metadata to it do i need to use the token list or what's the procedure for it? To have a name and symbol show up on solana explorer?
sorry was trying to find the channel <:monkawhoops:592738032579248158>
why?
<#778656605453156376>
yup, can confirm that you are right. Thank you for the explanation. Which means something else is probably causing my problems haha üò≠
It's not "encoding" it's numerical base
s == 115 in decimal
s == 0x73 in hex

0x73 == 115

The differences you see is because of encoding.  When performing `console.log(buffer)`, you see the hex encoded version.  Accessing each byte at a time and printing the value is being done so in decimal format, '115'.
wasn't sure which channel would be more applicable apologies
Stop cross posting
anyone familiar with how to extract private keys from a Solflare wallet backed by ledger? I am trying to get my private key so that I can hook up to the metaplex candy machine cli with my Solflare ledger wallet.

I found https://github.com/iancoleman/bip39

as a way to get ledger private keys, but this has you select a crypto account. Solana isn't an available option to select. I think since it's all managed by Solflare, things are a bit different.

Any help would be greatly appreciated. Thank you
Hi guys, please help, how i can prevent invocation of the Initialize function of the program by anyone except one account. The only way i see is hardcode pubkey of the owner to the code. Another way i've met in the internet is mint NFT and thru RPC check owner, but how can i check it from inside of the program the NFT holder. Thanks
Ah I used console.log, maybe that's why?
(anchor framework) hi! i have this error, 
```
Translating error Error: failed to get recent blockhash: FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED ::1:8899```
 when running anchor example. what should i do?


///////////////////////////////////////////////////////////////////////////////////////////////

Got 2 more questions.

1.: If I want to send a token to someone and that someone doesn't have an account, then what is going to happen? Will the transaction just fail or will it create an account for that someone automatically?

2.: When i do the method, that the authority mints a as many tokens as there are supposed to be, then if I want to give out X amount every 24 hours to every holder, i would just have to transfer X amount to every Holder of the NFT, right? 
But again here if the NFT holder does not have the token account. Will it be created automatically or do i have to do it (basically question 1)?
Does web3.js support the solana websockets?
Alright thanks!
Or, yeah, just only mint a certain amount up front, that works too
You could have your program be in charge of minting (make the mint's authority be a program-derived address derived from your program). The mint keeps track of its extant supply, so you can just have your program check how much has been minted so far before it decides to mint new tokens
If i create a token in the command line, then the account that is my current Command Line wallet is the authority right?
So i am just started reading into the token program so don't judge üòâ
I want my NFT project to have an associated token. Like every holder gets X amount every 24 hours.
Right now i just want to clearify if understood everything until now.

So let's say i want to create a token with a limited supply of 100.000.
First thing i would do is create a token. Then let the mint authority mint the limited supply in this example 100.000? And then it would transfer the token to the NFT holders for example.

Or is there some way that it automatically shuts down the minting after a specific amount has been minted?
The only way to convert *any* address (PDA or not) to an AccountInfo is to pass that address into your program from the client ("passing it as an account")
@everyone
can you use useWeb3React with solana wallet connector to connect to phantom so when the page refreshes the user is still connected to their wallet? like its saved in the context vs the state?
I am working on a little example which I can generate a new Account in JS client and use the account to transfer lamports to one of the Account that a program owns. Is there example for this?
So if the pda is generated by `Pubkey::find_program_address()`, I guess there is no way to convert it to AccountInfo?
Do you mean in your rust program? How you get the AccountInfo for an address doesn't depend on whether it's a PDA.
What you wrote above is basically what anchor does though if you implement the `Default` trait for your struct and don't manually specify `space =`. But again, that only works if you don't have any variable sized things in the struct; if you *do* then you just have to come up with a reasonable amount of space with your brain.
There unfortunately isn't really any general purpose way to calculate necessary space; you kind of just have to think about it (at least in general). What you wrote above could work fine though as long as the schema you're using doesn't include any variable-sized types (for example, a string, or a vector)
is this the go-to way currently ? "const GREETING_SIZE = borsh.serialize(
  GreetingSchema,
  new GreetingAccount(),
).length;"
Hey what is the recommended way to calculate the size of a struct  in a rust program would need off chain in order to pass it to systemProgram.createAccount  as space parameter?
I was hoping to be able to airdrop tokens more cheaply by only funding the accounts for a few weeks
Thanks.  So if I understand correctly, this is a limitation of the actual on-chain code for SPLs (not something I could get around by writing a custom client)?
i don't believe so, the `associated_token_program` program makes the PDA automatically rent exempt. it is possible to close an associated token account you own and reclaim the SOL, though
And I have problem on getting AccountInfo of a generated PDA, too.
If a PDA is generated by `Pubkey::find_program_address(&[b"store_pda"], _program_id)`, then how can I get the AccountInfo of this PDA?
Hi, is it possible to send a token to an unfunded associated token account and only fund it with 1 epoch of rent?
If an account is not PDA, then I think it is owned by system program?
Well, sorry, it depends on which program owns the account that is the source of the lamports. If the source account is owned by the system program then you'll have to use the system program to do the transfer.
Yep, you have to pass it as an account from the client (no way around it)
So I think whether the only way to get system program is sending it from JS client? Or there is another way to get it in rs program
I want to create an account from a JS client, and transfer the lamports this account has to the PDA the program generated
Can you say more about what you're trying to do? You'll still have to pass it as an account from the client
Thank you <@!489206164270350337> 
I am now meeting problem on get `system_program_account_info`. Do you know if there is a way to get it in program?
You can find info there + example lamports transfer code under the close example
https://solanacookbook.com/recipes/accounts.html#program-derived-address
Hi may I ask where can I find an example that a program generate a PDA and transfer SOL from another account to PDA?
yeah sure, but they still have some problems regarding both versions.
So just gonna stay in this bubble for a while till they get everything working üëç
Saw that. Makes sense to use v2 anyways
They told us, that by january 5th everything should be working fine and fully merged to candy-machine-v2
We have some metaplex stuff, but no candy machine info yet
Damn so much documentation üòç 
Just came back from 2 days of candy-machine not working for anybody and troubleshooting with people from metaplex discord server and all of us not having any documentation provided by the team.
Feels good to be here haha
There's create token there. You can write custom code for your cron job
https://solanacookbook.com/recipes/token.html
Hi there,
Are there examples on how to create a token and then give it out to specific people every 24 hours or so?
You're going to get a ton of dms
Dming You
Here! üëç
if anyone has any short term Rust projects they need people for that I can start on next year, please reach out to me!
coming from Javascript and a bit of Python, Rust for Solana was daunting at first but it's freaking awesome. the compile time error messages are super helpful. and man, BYTES? I never had to think about actual bytes before. Thanks everyone who've helped with my questions in the past 2 weeks, without your help I'd still be stuck, and now I'm almost done with my first Program.
They have a different discord too
Serum is a different team
<@!489206164270350337>  Is the team behind serum working strictly with Solana labs or 2 totally different entities?
Love to see it! I'm still learning as well. Learning while building
will try to contribute in the near future, just coming off my training wheels right now
that's super cool! thank you for starting it up
If you find anything missing, please make an issue. You're welcome to contribute as well
Glad it has been useful
I work for Solana Labs. I and another came up with the idea and ran with it
it's been an immense help
<@!489206164270350337> how did you end up starting the cookbook site?
If you just need a local test validator
I know some people have been using this as well https://github.com/workbenchapp/solana-workbench-releases
Okay I will try thanks
alternatively you can run through docker
I do. Lots of people have been successful with wsl
Normally after that its good ? You have a mac ?
got it thank you!
We don't support candymachine here
Hit up metaplex discord then https://discord.gg/UxdZjtbP
on mainnet
I am running metaplex trying to make  candy machine
If it is metaplex related, there may be a way to start where you stopped. Don't know
Whatever you were doing, probably
dang it aka jus have to reupload huh
https://docs.microsoft.com/en-us/windows/wsl/install
it was because of this, thank you! now i can deploy fine
That just means whatever rpc node you're hitting is out of sync
or how to deal with it
anyone ever got this message
SendTransactionError: failed to send transaction: Node is behind by 434 slots
What is wsl ?
For windows, we generally recommend wsl. Windows support is shakey at best
Are you using wsl?
Turn up the conversation and you will find
ohhhhhh thanks a ton!
Lol
Go ahead and ask yours
`.ok_or` always evaluates its argument, and you've given it a little block expression (not a closure), so it evaluates and prints no matter what
You receive answers to your questions
Gotta use `.ok_or_else(|| { ... } )`
what do you mean?
You'r lucky...
I've got this snippet where I want to print stuff out if there was an error:
```rs
            .checked_rem(rhs.0)
            .ok_or::<ProgramError>({
                msg!("tried getting the remainder of {} / {}", self, rhs);
                ErrorCode::ArithmeticError.into()
            })?;
```

But for some reason it's triggering all the time, even if calculation was successful - any idea why?
thanks!
Some people use https://github.com/solana-labs/solana-program-library/blob/master/libraries/math/src/precise_number.rs instead
Yeah. You'd have to multiply by three (regular u64 multiplication) and then divide by 10. I guess you might actually need to do it as u128 arithmetic since can overflow when multiplying (but can't necessarily divide first since that could drop precision? haven't really thought about this before)
0.3
rather than 0.
you mean something like `3/10` ?
Use explicit non-floaty numerators and denominators rather than floaty ratios
what's an alternative?
Hmm, might be because solana doesn't really support floats very well (I'm suspicious of that floor() call)
I have hopefully the final ask to this community today (long day)

I'm seeing a deployment error (when deploying the Rust Program) complaining `Error processing Instruction 0: invalid account data for instruction`

as soon as I introduce this code below:

```
let total_lamports = pda_account.lamports();
let lamports_to_admin_float = (total_lamports as f64 * config::RATIO_TO_ADMIN).floor();
let lamports_to_admin : u64 = lamports_to_admin_float.floor() as u64;
let lamports_to_receiver = total_lamports - lamports_to_admin;
```

the build is fine, it only errors when trying to deploy. I have no idea why
thanks!
Was just grabbing that. Glad it worked out for you üëç
found the answer on your Cookbook, thanks!

```
let dest_starting_lamports = dest_account_info.lamports();
**dest_account_info.lamports.borrow_mut() = dest_starting_lamports
    .checked_add(source_account_info.lamports())
    .unwrap();
**source_account_info.lamports.borrow_mut() = 0;

let mut source_data = source_account_info.data.borrow_mut();
source_data.fill(0);
```
could you suggest any azure vm for an rpc node (non validating)?
idk
maybe I need to specify the number of NFTs as well
So i check my main wallet ID and saw all the transaction go through (I guess im going to lose some sol with this error). Im not sure if this error is  fund related but im going to see what happens when I put more.... the crazy thing all the NFT went through i just did not get the candy machine generate and config
I solved it by rerunning the metadata. I was using the Hashlipsart engine and realized there was extra DS Store files in there. So double check the layers folder possibly and rerun and generate new metadata
Why are you trying to initialize from the 'fields' structure? That is done automatically during deserialization.
thank you
Try metaplex support https://discord.gg/UxdZjtbP
HEllo, my image doesnt show up when uploading it trough metaplex/candy machine. It seems like my image property doesnt update properly to the generated arweave uri. anyone else has had this problem or knows how to fix it?
This is just for the account data. For instruction data, I am using a different structure.
to clarify, the from is a program-owned account but the to account is not.
just debit? how do do that? I thought I always had to use system_transfer
Hey how does one know by looking at the solana program on chain if the account it requires should be a signer or not ?
would it be as simple as if a solana program expect an account and checks if its is_signer that account need to be a signer ? which just means its is_signer flag on the frontend side will be set on.
If the account is owned by the program, you should be able to just debit it and add to another account
how then can I transfer out the lamports in it? the account is owned by my program.
When transfering lamports with a system transfer, the account sending cannot have data in it
Are you using this structure for sending in instruction data as well as deserializing account data?
does this mean I have to clear data from it first?
my `pda_account` is my from and it does have data. but it is lamports from in there that I want to transfer out.
now I am getting `'from' must not carry data`
https://tenor.com/view/homer-simpson-crying-the-simpsons-tears-gif-8647143
sender and recepient should be marked as writable?
im trying to upload to mainet for arweave-sol
You're doing a transfer, so make sure the sender and the recipient are both mut
This is error related to not having enough funds in wallet ?
Nope, never
the SystemProgram account is not writable right?
But now I am facing an error during deserialization. The error says, "Class undefined is missing in schema". 
I am using your code snippet for deserialization as well (edited few bits in it as well though).
```ts
export async function get_states_account_info() {

  const accountInfo = await connection.getAccountInfo(states_account!);
  if (accountInfo === null) {
    throw 'Error: cannot find the account';
  }

  const keymap_data = Buffer.from(accountInfo.data.toString(), 'base64')
  const kmap_deser = borsh.deserialize(KeyMapsSchema, KeyMaps, keymap_data)
  // console.log(kmap_deser)
  // console.log("Initialized = ", kmap_deser.initialized)

  // for (var ppk of kmap_deser.account_maps.entries()) {
  //     console.log("outter key: ", ppk[0].toString())
  //     for (var ippk of ppk[1]) {
  //         console.log("   inner key: ", ippk[0].toString())
  //         console.log("   inner value: ", ippk[1].toString())
  //     }
  //     console.log("")
  // }
}
```
I've commented out rest of the code, just to pinpoint the error statement.
Hi <@!814228493302497301>, thank you for your code snippets. I was getting some errors in this code, about using the variables before initialization. So, I changed few bits in the function to fix the error. So, this is my code now,
```ts
class KeyMaps extends Struct {
  initialized: boolean
  account_maps: Map<any, Map<any, number>>
  // Called when deserializing
  constructor(fields: {init: boolean, maps: Map<any, Map<any, number>>}) {
      super(fields)

      // Convert from binary inbound during deserialization
      this.initialized = fields.init;
      this.account_maps = fields.maps;

      let pkmap: Map<any, Map<any, number>> = new Map
      for (var outer of this.account_maps) {
          let imap: Map<any, number> = new Map
          for (var inner of outer[1]) {
              imap.set(new PublicKey(inner[0]), inner[1])
          }
          pkmap.set(new PublicKey(outer[0]), imap)
      }
      this.account_maps = pkmap
  }
}


/**
 * Borsh schema definition for KeyMap struct
 */

 const KeyMapsSchema = new Map([
  [
      KeyMaps,
      {
          kind: 'struct',
          fields: [
              ['initialized', 'u8'],
              ["account_maps",
                  {
                      // Outter map
                      kind: 'map', key: [32],
                      value:
                      {
                          // Inner map
                          kind: 'map', key: [32], value: 'u64'
                      }
                  }]
          ]
      }
  ],
]);
```
and this is to be done on the client side when passing in the accounts?
Ah, yep, that's a good/easy one üôÇ You forgot to mark some account as mutable/writable
<@!134416332509675520> I think it worked! Now I am getting a different error which I think has to do with the accounts I'm passing into instruction

`<ACCOUNT_ADDRESS>'s writable privilege escalated`
But shouldn't make a difference, no
Why do you need borrow_mut actually? Aren't you just deserializing?
ok. and it makes on difference if I use `borrow_mut()` vs `borrow()` right? because it's `borrow_mut()` that I need.
It would change the borrowing by dropping the borrow right away. As written, that borrow sticks around
I'll try it now
Did you try this idea?
I only need a single field from that state . I will try to harcode it and see if the error goes away
<@!134416332509675520> I'm going to try to do away with this and see what happens
I'm going to try to remove the first borrow. Unfortunately it's a client project so I can't share the whole thing out of confidentiality.
Is your code on github etc.? I'm curious now
no, I've shared with you all the instances where I have borrowed
Are you sure you're not doing `.try_borrow_lamports()` or `.try_borrow_data()` etc.?
Hello

I want to distribute Ray (Raydium.io) tokens across multiple wallets.
https://explorer.solana.com/address/4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R


solana-tokens distribute-spl-tokens --from 4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R --db-path ~/db --owner ~/.config/solana/mainnet-test2.json --input-csv Reciep.csv --fee-payer ~/ .config/solana/mainnet-test2.json
Error: ProgramError(InvalidAccountData)

What's wrong?
The mainnet is set up (it comes out well when solana balance is done)
Solana version is 1.8.0
how would this change the borrowing though?
I think the conflict is more likely due to `pda_account.clone()`, no? In the instruction
I actually wouldn't have guessed borrowing the data would conflict with the lamports though, so not super convinced that's the issue
Mm, not 100% sure, what happens if you consolidate those two lines
```.rs
let pda_account_state = PdaPotAccountState::unpack(&pda_account.data.borrow());
```
yes, above where I call `pay_winner`, there is a part where I do

```
            let pda_account_data = pda_account.data.borrow_mut();
            let pda_account_state = PdaPotAccountState::unpack(&pda_account_data)?;
```
Are you doing a `.borrow` (or something like it) elsewhere?
same error
https://github.com/solana-labs/dapp-scaffold/pull/103

Proposed an alternative solution for the error handling issue. Needs approval to run tests
Quite possibly, try changing that to just `let lamports_to_admin = pda_account.lamports()`
<@!134416332509675520> is it because of `**pda_account.lamports.borrow()`?
I have a function that encapsulates a transfer.

here I call my function

`pay_winner(receiver_account, pda_account, admin_account, sys_prog_account, id, pda_bump);`

here is my function

```
pub fn pay_winner<'a>(
  receiver_account: &AccountInfo<'a>,
  pda_account: &AccountInfo<'a>,
  admin_account: &AccountInfo<'a>,
  sys_prog_account: &AccountInfo<'a>,
  id: u32,
  pda_bump: u8,
) {

  let id_string = id.to_string();
  let id_seed = id_string.as_bytes();
  let lamports_to_admin = **pda_account.lamports.borrow();

  let transfer_instruction_admin = &system_instruction::transfer(
      &pda_account.key, // payer
      &admin_account.key, // to
      lamports_to_admin // lamports
  );

  let _result = invoke_signed(
      transfer_instruction_admin,
      &[
          sys_prog_account.clone(),
          pda_account.clone(),
          admin_account.clone(),
      ],
      &[&[&id_seed, &[pda_bump]]]
  );

  // I intend to do another transfer to the receiver_account but that code is currently commented out
}
```
To improve UX we were fetching tps from Solana explorer but seems they have blocked us any idea where we can fetch tps from?
Sounds like you're messing up some `Rc` stuff in Rust. Can you post more code?
I got  `AccountBorrowFailed` error and the docs says `Failed to borrow a reference to account data, already borrowed` , how can I resolve this?
I think you can do it with parsing all block by yourself. like https://docs.solana.com/integrations/exchange#poll-for-blocks
https://solanacookbook.com/ingredients/get-program-accounts.html
hey does the "sendAndConfirmTransaction" function expects the array of accounts in order, for example if Instruction 1 refers to some accounts it has to be first in the array of accounts or as long as its in one of the accounts in the array it works?
Hello everyone. 
I would like to know if it's possible to get a notification on new transaction.
For instance, I usually use Monero. 
We can do something like this: monero-wallet-rpc --tx-notification="HandleNewTransaction.py %s"
Anyone ever encountered `Error: Deploying program failed: Error processing Instruction 0: invalid account data for instruction` when trying to deploy a Program? Just came across it now.
hi, i have a question regarding: getProgramAccounts, is there any documentation on how the filter works? on what value to put in dataSize? memcmp? where can i see that?  Basically what i want to do is get ALL the NFT by a creator
Same way you close any kind of account, actually‚Äîit depends on which program owns it, not whether it lives at a program-derived address. You need to find some way to drain its lamports, which depends on which program owns it.
how to close a  program derive account?
Hi guys ! Can you help me with this problem :  "Invoke-WebRequest: Cannot find a positional parameter that accepts the "--output" argument.
At character Line: 1: 1
+ curl https://release.solana.com/v1.9.1/solana-install-init-x86_64-pc- ...
+ ~~~~~~~~~ ~~~~~~
     + CategoryInfo: InvalidArgument: (:) [Invoke-WebRequest], ParameterBindingException
     + FullyQualifiedErrorId: PositionalParameterNotFound, Microsoft.PowerShell.Commands.InvokeWebRequestCommand "
Is there a way to get all the current owners from a candy machine using the RPC api?
Got it, thank you
<@!863414688065519616>  Note: PublicKeys are '[u8;32]' when serialized by the program into the account space. On the TS side, the following handles the inbound conversion.
```typescript
class KeyMaps extends Struct {
    initialized: boolean
    account_maps: Map<any, Map<any, number>>
    // Called when deserializing
    constructor(fields) {
        super(fields)
        // Convert from binary inbound during deserialization
        this.initialized = !!this.initialized
        let pkmap: Map<any, Map<any, number>> = new Map
        for (var outer of this.account_maps) {
            let imap: Map<any, number> = new Map
            for (var inner of outer[1]) {
                imap.set(new PublicKey(inner[0]), inner[1])
            }
            pkmap.set(new PublicKey(outer[0]), imap)
        }
        this.account_maps = pkmap
    }
}
```
```typescript
/**
 * Borsh schema definition for KeyMap struct
 */
const KeyMapsSchema = new Map([
    [
        KeyMaps,
        {
            kind: 'struct',
            fields: [
                ['initialized', 'u8'],
                ["account_maps",
                    {
                        // Outter map
                        kind: 'map', key: [32],
                        value:
                        {
                            // Inner map
                            kind: 'map', key: [32], value: 'u64'
                        }
                    }]
            ]
        }
    ],
]);

const faux_keymap = "AQEAAACHykfWRGlisNOCaQI3u1a6bbBQ0E1k3WUUy5WmYKt3IwEAAABFg / 3dAPx7LrYzFoUto30Oo0znx5dO4fGxjDdqjoLQ0wMAAAAAAAAA"

async function get_keymaps() {
    // Setup faux data return from getAccountInfo
    const faux_keymap_data = Buffer.from(faux_keymap, 'base64')
    const kmap_deser = deserialize(KeyMapsSchema, KeyMaps, faux_keymap_data)
    console.log(kmap_deser)
    console.log("Initialized = ", kmap_deser.initialized)

    for (var ppk of kmap_deser.account_maps.entries()) {
        console.log("outter key: ", ppk[0].toString())
        for (var ippk of ppk[1]) {
            console.log("   inner key: ", ippk[0].toString())
            console.log("   inner value: ", ippk[1].toString())
        }
        console.log("")
    }

}

get_keymaps()
```
https://docs.solana.com/ru/developing/clients/jsonrpc-api#getblock if i use getblock  can i see the programid in answer?
need a help
Hi
How to set a breakpoint will depend on how you're running the code, but it's doable.
Yep. Can make this kind of debugging much easier!
what do you mean by breakpoint? to inspect values at a certain point in the code?
<@!134416332509675520> thank you for the suggestion üòÜ
great, I found it.... I just spent 2 hours looking under the hood of the Transaction class
all because when passing the third account, I did `pubKey` rather than `pubkey`
Have you tried setting a breakpoint in that code?
anyone got any guesses?
hi, can someone help find the code with add liquidity and remove liquidity because I can not find
thank you!!!! it worked!
Yep, easy mistake to make!
```
#[derive(Accounts)]
#[instruction(seed: String, bump: u8)]
pub struct BuyParcel<'info> {
    #[account(mut)]
    pub user: Signer<'info>,
    #[account()]
    pub dest: SystemAccount<'info>,
    pub system_program: Program<'info, System>,
}
```

ohh i didn't mark dest as mutable
index.js:1 Transaction simulation failed: Error processing Instruction 0: Cross-program invocation with unauthorized signer or writable account 
    Program F1K4LQZsdDhu6QVCRQhfkMnFYEunDBRCjR1CrcKzLKoG invoke [1]
    Program log: Instruction: BuyParcel
    ASrxwxrVWZQxXG4mG9iBm79Qdo96xPUXBSr3esQsStA6's writable privilege escalated
    Program F1K4LQZsdDhu6QVCRQhfkMnFYEunDBRCjR1CrcKzLKoG consumed 26198 of 200000 compute units
    Program F1K4LQZsdDhu6QVCRQhfkMnFYEunDBRCjR1CrcKzLKoG failed: Cross-program invocation with unauthorized signer or writable account
Can you post the actual error message? It's possible you've actually just forgotten to mark the user and the dest as mutable (gives the same-ish error message)
Nope, if they've already signed then it'll work
yup the user signed from the client already, is there some magic that already should sign the `invoke` call
You can definitely do the transfer from within your program, but the user will have to have signed the tx already (can't sign for them from within your program)
The `user` here would have to have already signed the tx from the client
im trying to transfer SOL from a SystemAccount to another SystemAccount in my Rust program's instruction

```
... other code in my Rust instruction...

        let amount = 100_000_000 / 100;
        let ix = anchor_lang::solana_program::system_instruction::transfer(
            &ctx.accounts.user.key(),
            &ctx.accounts.dest.key(),
            amount,
        );

        anchor_lang::solana_program::program::invoke(
            &ix,
            &[
                ctx.accounts.user.to_account_info(),
                ctx.accounts.dest.to_account_info(),
            ],
        )?;
...
```

how do you sign this system program transfer instr inside your program for `user`? I have a DApp that signs txns from the frontend but not sure how to sign this CPI call (note that that these are not PDAs)

am i supposed to have the code to transfer SOL in the frontend? and then read the transaction history in my program or something instead of trying to transfer in program code??

i tried searching for googling for this simple use case but no answers
Is there a way to fetch historical total supply via a JSON-RPC endpoint at the block level?
e.g. getSupply(blockHeight)
And not even a lot of coding required
Is there some service that works as a proxy for serum markets to lower down fees? I mean, if a program will have its own SRM wallet associated with 1 MSRM, It will be very used
solana/web3: is there a way to do `signTransaction` not with a provider but manually using a keypair file?
I'm trying to still use `sendRawTransaction` instead of `sendTransaction`
thanks, deleting it
Mhhh I think it would make more sense if you asked in <#885976714646290473> . Not completly sure tho, be careful to not cross post. If you go ask there, please delete your post here.
Hi guys! Is there a way to exclude the 1nc1nerator burn wallet for the total supply calculations? 
CG and CMC both show the wrong data and we sent all proof for the 98% of our tokens being in the 1nc1nerator - is there any onchain way to exclude this wallet from the max supply in solana?
I can pass in the 3rd account and even 4th account in other transactions that are using provider signing (Phantom), but this transaction using keypair file seems to not accept a 3rd account. why?
Hi all, have any of you encountered this? This is in `@solana/web3` code

I've inspected everything else, and this is what happens:

I have a transaction that is signed using a keypair file, hence I am calling `sendTransaction(transaction,signers)`

I have only one instruction, to my custom program, and I pass to it currently two accounts, the caller/signer's account, and also the program's account.

Now if I add a third account, it errors with `TypeError: Cannot read properties of undefined (reading 'toString')`

This error is triggered in `sendTransaction()`

In the error trace, it happens in 
```
        accountMetas.forEach((accountMeta)=>{
            const pubkeyString = accountMeta.pubkey.toString();
``` 
in the `@solana/web3` library. What could be causing this? The third account I am adding is a valid Pubkey.
Thanks chido !
Hey guys, I have a question about rewards. I am a normal user and I have a normal wallet(NOT a staker or validator, etc). Sometimes, I think at each epoch in a transaction there is an amount reduced from transaction amount as reward(Rent). The question is how I can predict it and handle it? For example I have sent 500000 lamports and 2754 lamports reduced from it because of reward and I have to send the rest again to destination. How can I handle this? Thanks.
What kind of question ? If it's related to developping progams for the Solana ecosystem you're in the right place !
Currently looking for collaborators to create a very cool protocol with many possibilities. The logic idea has already been tested nad It's something not yet available on Solana (The only chain allowing this kind of protocol cause of its structure). 
If anybody is willing to join me to create a PoC to then ask for investments, just DM me. 
Or is there any place to post a request like this better than the dev support?
Hi there. I have a technical question about Solana, what is the right channel to ask ?
<https://github.com/near/borsh-js> the official borsh js github where you can find types supported by borsh js
there are some examples and more info here <https://solanacookbook.com/ingredients/serialization.html#common-solana-ts-js-mappings>
that error means that borsh doesn't understand what "map" is, i don't think borsh-js supports that out of the box
Hi there,
So I have a struct in Solana program and I need to define the Borsh Schema for in typescript.
Here is the struct in Solana Program,
```rust
pub struct KeyMaps {
    pub initialized: bool,
    pub account_maps: BTreeMap<Pubkey, BTreeMap<Pubkey,u64>>,
}
```

And here's how I defined it inside TypeScript,
```ts
class KeyMaps {
  initialized: boolean = false;
  account_maps: Map<PublicKey, Map<PublicKey, number>> = new Map();

  constructor(fields: {init: boolean, maps: Map<PublicKey, Map<PublicKey, number>>} | undefined = undefined) {
    if (fields) {
      this.initialized = fields.init;
      this.account_maps = fields.maps;
    }
  }
}

/**
 * Borsh schema definition for KeyMap struct
 */
 const KeyMapsSchema = new Map([
  [KeyMaps, {kind: 'struct', fields: [['initialized', 'u8'], ['account_maps', 'map']]}],
]);
```

On running this typescript program, I get this error,
TypeError: writer[capitalizeFirstLetter(...)] is not a function
maybe https://docs.solana.com/developing/clients/jsonrpc-api#getblockswithlimit
you can use the same slot and set limit 1, you will get the first block of slot in this epoch
you an take a look here https://github.com/metaplex-foundation/metaplex/blob/master/rust/token-metadata/program/src/processor.rs#L217
if your account's owner is still system program and you have never allocated for it you can.
Can I allocate data to an account after requesting airdrop to it?
Or the account's data space is unchangeable?
Wait a bit longer. They do it in batches.
Hello üëã ; was hoping to get feedback on some SPL contributions / ideas in development. How does one get permission to post in <#774014770402689065> ?
Hello my fellow devs I have a problem regarding serialize / deserialize with Borsh on the contract side.
`'Program failed: Failed to serialize or deserialize account data: Unknown'`

My account data Struct is as follows :
```rs
#[derive(BorshSerialize, BorshDeserialize, PartialEq, Debug)]
pub struct Data {
    pub mystr: String,
}
```
Here is how I do the ser / deser
```rs
let mut data = account.try_borrow_mut_data()?;

let mut decoded = Data::try_from_slice(&data).expect("Failed to read data");

// modifying the data example
decoded.mystr = "an utf-8 string".to_string();

decoded.serialize(&mut *data)?;
```
I have done some msg!() calls and it seems to fail at the last line `decoded.serialize`, any ideas as how to fix that ?
Any safer way of doing the ser / deser with borsh ?
I have submitted our project into Solana ecosystem for 1 week https://solana.com/ecosystem/pandacoin, but I don't know why it's still not approved, anyone know how to resolve this?
Let me try it! Thank you
If it's SOL you should be able to just transfer it from the user to the PDA directly I think
If it's tokens you can create a PDA token account for each token that you want to support, and transfer the tokens to it as well
I actually want to implement a eth-like bank on solana, so I need a PDA to store all the money transferred to the bank program. I think a easy way may transfer the authority to PDA
Anybody got a better way to fetch historical data for the first block of each epoch? I take x*432000 for the slot height and then iterate past skipped blocks. I would expect the next available block using getBlock RPC endpoint to include the voting rewards of the epoch, but it doesn't. Am I doing something wrong?
accounts are kinda like data containers for programs to store data in, so for the token program it stores stuff like token information, mint information, etc
what exactly are you trying to do with pdas?
So all accounts are owned by programs. For token accounts, all accounts are owned by the token program

When you call system_program::CreateAccount, you have to set a `owner` field of who that account belongs to - https://docs.rs/solana-program/1.9.1/solana_program/system_instruction/enum.SystemInstruction.html#variant.CreateAccount

You can use Assign to assign a account to a program - https://docs.rs/solana-program/1.9.1/solana_program/system_instruction/enum.SystemInstruction.html#variant.Assign
but if I want to set authority for a account which is not a token account, I need to try to find  other function?
spl_token::instruction::set_authority sets the authority of a token mint or token account
so if you're dealing with token accounts, that's the way to update who's in charge of it
But in this how can I set the authority without using `spl_token::instruction::set_authority`?
sol is handled by the system program directly (not spl token)
sol isn't a token, so yeah it doesn't need any of the token stuff (mint, token account)
So for a account which store SOL only. it doesn't need a mint?
I'd try to `create_account` it and see if that changes anything. Looking at `Mint` and `TokenAccount` structs, they don't look like they'd be needed for an authority (unless that authority is supposed to also holds tokens) 
TokenAccount is for storing token information (how many this user holds, etc). Mint is for mint metadata like total supply, who is the mint authority, etc.
It is ok thank you!
no, the mint is the token mint that this account is for, so the mint address itself

but I didn't do authority transfers before..  if this account isn't holding a mint you probably don't need spl_token::initialize_account but just the normal system_program one (https://docs.rs/solana-program/1.9.1/solana_program/system_instruction/enum.SystemInstruction.html#variant.CreateAccount) 

I am not sure why stuff a authority account has to store üò¢
<@137101040687382528> Sorry you mean the mint is the owner of the token account?
I haven't done authority transfers before, but if it's a token account, probably the mint that this token account should hold
Or maybe I should use `&spl_token::instruction::initialize_account`, but I have no idea which mint I should set for SOL token
Hi guys! I want to create an account whose ownership can be transferred to a PDA that a program possess, so I call it as following in program

```
let ownship_change = spl_token::instruction::set_authority(
            token_program.key,
            deposited_account.key,
            Some(&pda),
            spl_token::instruction::AuthorityType::AccountOwner,
            payer.key,
            &[&payer.key],
        )?;
```

But I met this error 
```
 'Program log: Instruction: SetAuthority',
 'Program log: Error: UninitializedAccount',
```

Does anyone know how to solve this problem?
I mean really this is just kind of creating a recreational proof-of-work system
trivially easy to implement the smart contract, it just hashes the input and compares it to a hashed answer
man, these puzzle coins are actually kind of a better idea than what I had before...
even if it costs a little bit of money to play
I feel like the throughput and low transaction cost of Solana makes it more open for things that are more "fun" than valuable
You'd have to
- Check solution
- Create mint
- Mint 1 token
- Revoke minting authority (to make sure supply stays 1)
- Submit metadata
- Send to user

ish
yeah I mean I'm coding this all from the ground up
oh yeah if you implement your own program that creates the NFT and submits metadata for it, it'd absolutely work
The program can't go "jk, taking it back"
I mean that makes sense from an "owning your currency" standpoint.
Sure so like you're saying that even if the "puzzle mint" could restrict the minting or initial transfer, that token's mint has no further programmatic control over actions taken on the token?
in theory something like that may be possible with a custom solution, for on chain programs simply process transactions. it would not strictly disallow or prevent transfer of a traditional NFT after it was transferred to the user per say, but im sure there are creative ways to do things that may not be obvious at first with further custom solutions. it may wonder away from usability across current token standards but that would be in the details.
also, is this something that's been done? I really don't know much about NFTs past buying tokens with links to media files
But I imagine a lot of people aren't programming their own binary representations to send as a u8 array when buying NFTs
Sounds easy enough to do with a basic on-chain program and transaction data
So this isn't my idea I have planned but say, for example, I wanted to make an NFT "puzzle" where you could try to purchase it for cheap, but you had to include the solution to a puzzle in the transaction data or the transaction would be denied
I'm new to the space entirely
if you're coming from ETH, in Solana you can't do things like override the transfer() function and stuff like this, because your contract doesn't control it. All tokens are getting transferred the same way
thanks
I'll cross that bridge when I come to it
I might need to set up my own marketplace for this then
Ok yeah, that's what I expected
nft marketplaces don't do anything besides moving token from A to B and taking SOL
what kind of transactions?
Hey all, I'm about to start a project that relies pretty heavily on user-input data in the transaction instructions. I'm pretty unfamiliar with the NFT space and the Solana dApp space, how much support is there in various NFT marketplaces for custom data input during transactions?
Thank you üôèüèæ
Gotcha let me try that out
I just added the wait after each iteration of the loop and that was enough
Gotcha so you can technically breakup the files and run the upload each time your saying?
Thank you very much for the info <@785084693023424542> i hope to hear good news soon
Thank you for your effort, i've used `try_borrow_data` method of solana program, error dissapeared but i've not tested it yet
üò≤üò≤ oh no understood!
hey!   last i saw multiple parties were looking into and or shipping updates. still following this and will be inquiring again after more updates.
and plz don't use aws, otherwise the project is dead when the team decides to stop paying aws and the bucket gets taken offline üò¢
ah the code is candymachine2 now, I don't know that yet, but it was in this loop https://github.com/metaplex-foundation/metaplex/blob/master/js/packages/cli/src/commands/upload.ts#L207

just make that wait after each upload
let me check where I added it, sec
Spl-token create token gives an error: no device found

What to do

thats what i was trying to do but im not sure if it was the right place
(I had the same issue when I worked with candymachine actually. I also prefer IPFS)
if you're ok with touching the javascript code
you can add a timeout in the candymachine script so that it waits 1s between uploads, that gets around the rate limit
I honestly was trying it with Infura but i could get pass that silly rate limit
Yeah !
ah you're talking about NFTs/candymachine
Mmm just to make sure we on the Sam page so basically i was trying to upload my NFT to arweaver before connecting to the candy machine but i could not get it to. Work for the life of me. Probably cause im uploading 2,500. I was jus trying to do that same thing with aws.
How does rent exemption work for a wallet with multiple types token accounts? It looks like a token account normally needs 165 bytes. If a person has 5 tokens accounts, how does that translate to specifiying his rent exemption
you mean you want to upload _from_ the chain into a s3 bucket? that doesn't seem right
I was trying to save on the aws s3 and It requires the bucket name  from what I understand
wait what, what does a bucket on aws have to do with solana
Hi Friends... I am trying to make a transaction with the client and then sending it to the backend to get it signed. I am using AWS Lambda as my backend. Somehow I am not able to parse serialized transactions. May be something related to how Lambda sends the data in an event. Can anybody please share a working code where transaction needs to be sent to backend/API before sending to blockchain?
Thank you
I hope there is good news for me
I am back to check is there any update regarding my unaccesable woof token in solflare. The one i send from safepal.
Hello <@785084693023424542>
ah i see it has to deal with not having enough sol in wallet
?
I got the following error when trying to upload a bucket on aws ....anyone  know the reason or solution
If a a token protocol airdrops tokens using the associated token program account. Does the protocol pay the rent to create the association?

https://spl.solana.com/associated-token-account
any resources on how to do this I was looking up to see if just the CID would be needed or something
yeah, just update the metadata post mint
is it possible to upload to pinata and use the metplex candy machine ?
There's some folks writing anchor-py
currently it is using C and rust right ?
will there be any plans to do work in python ?
hi i have a question
will drop the massive list soon. in the mean time.. here are a few extras related to metaplex/NFTs along with the link above:
- [https://hackmd.io/@MarkSackerberg/gumdrop]
- [https://hackmd.io/@levicook/HJcDneEWF]
- [https://github.com/samuelvanderwaal/metaboss]
- [https://github.com/kevinfaveri/solana-candy-factory]
- [https://github.com/InnerMindDAO/MintUI]
I‚Äôm new to the disc sorry
ignore that question lmao, theres literally a resources channel
Thanks liquid! how do find all these resources btw?
thanks
not sure on the 'best' way, could check supply == 1,  but you could look at how Solana explorer pulls and checks NFTs,  otherwise you can check and see if there is NFT meta data associated with it, there may be some out of the box functions in a lib or repo that provides this. working on adding a resources links section to cookbook

https://docs.metaplex.com/community
generally something like unhealthy means the node is not fully synced
Would you guys happen to know the best way to differentiate normal tokens from NFTs when retrieving wallet data? From what I know there is no unique identifier.
its working.  might be your instance, connection, or endpoint?  do you need SOL in dev or doing something with airdrop for something else?
Is timing out.
solana airdrop 1.
If y'all were already talking, you probably know my points
Users are having difficulty figuring out deserialization. Program interaction example would be great
haha we were talking
<@785084693023424542> I think you're thinking of the same thing
Hey guys! A quick question üôÇ 
We're thinking of expanding the react quickstart template (https://github.com/dvcrn/solana-react-quickstart) with some more examples and hooks to get people started

Been wondering what common actions you think make sense to get included here. What are some points that new users especially are struggling with when bootstrapping a new application? 

Some ideas currently were to prepare some hooks to fetch token metadata, or some examples on how to decode and borsh-deserialize Account data
Thanks so much chido! Was having trouble finding any good documentation.
you can retrieve user's address from wallet adapter then you can do a lot of thing like 1) get SOL balance 2-1) get all token accounts owned by address  2-2) get all token account's balance and mint .....
all operations I mentioned are documented at https://solanacookbook.com
you can write programs any time. im not sure on what facility you would have for number tracking, its probably a meta data feature, hard to say about your game integration without details, but most likely you can find a way.
check `spl-token authorize --help`
you can make instructions to pack 
1. mint
2. token account
3. token account auth
4. metaplex metadata account

and just check their relationship. (like token account auth is a signer, token account has 1 balance, mint is 0 deciamls ....)

that's for user own NFT checking.
what are you having issues with? seems fine?
Does anyone know if it's possible to use the wallet adapter to retrieve wallet contents? Or have a link to some docs?
hey guys, do you know how to see the tokens that are being sent in the parsed transaction inner instructions?, i know there are pre token balances and post token balances, but in some transactions the amount in the inner instruction and the amount in the balances doesn't match, so can you guys explain to me that?
sol ownership?
Anyone know of an easy way to change the authority of a mint account from the command line?
Also I'm looking for someone to partner with on my project
My question is pretty related to the NFT question
How can I read or engage with an Arweave NFT from a Solana smart contract?
Any example repos would be appreciated 
Basically I‚Äôd like to check that the user really owns the NFT, then do something based on ‚Äúvalues‚Äù stored in the NFT, after confirming the same user really owns it
Can't do anything
Is devnet down?
Can I do the contract after the NFT's are minted?
In the future I would for the people to type the number of the NFT they minted and then use the NFT character in game
you can use the SPL-Governance system which is growing rapidly.
https://github.com/solana-labs/solana-program-library/tree/master/governance
the dao has a lot of features including creation, proposals, and program execution.
the phantom wallet already shows the users collections, i believe, but if you want to show them on your site, there are several resources, including Solana explorer that has the code to display them:
https://github.com/solana-labs/explorer

other resources:  (links to resources)
https://docs.metaplex.com/community
programs (contracts) are for performing operations with tokens and data, based on your need, there are sites where you can create, upload, mint NFTs, and you do not need to write a program personally to do certain things. it depends what you want to do. A major plus of many programs is that anyone can potentially use them without having to write the program themselves. SPL-Token is a program, and everyone gets to benefit from the program when they perform certain interaction with tokens.
i'm creating my new nfts i'm able to mint and everything but i don't understand, do i need a contract?
hello
anyone has some good recommendations on creating a site where I can see my Solana NFTs? I would like to make one where users are able to log in using their Phantom wallet and that shows their collections.
Hi everyone, I am quite new to Solana and programming. I would like to build a DAO on Solana, but there are a few things I don‚Äôt quite understand yet. 1. How can the keypair be managed by the DAO?  2. If you want to make an update, how can the DAO program be redeployed? 3. What‚Äôs  the best way to do Webhosting for a DAO? Thanks for any help and further resources!
Underscores shouldn't do anything at all: https://doc.rust-lang.org/rust-by-example/primitives/literals.html
Really? Have to admit, that's pretty surprising to me
Found the problem, it works alright when I take the underscore out of `10_000`
Hey all, transactions are failing when they're sent to my program and I've traced it to this code

```rust
          let base = (other_token_amount / 500.0 as f32) * years_to_lock;
          let mut boost = (years_to_lock * 0.25 as f32) + (other_token_amount / 10_000.0 as f32) * 0.25 as f32 + 1.0 as f32;
          if boost > MAX_BOOST {
            boost = MAX_BOOST
          };

          let test_amount = base * boost;
```
`other_token_amount` and `years_to_lock` are both type `f32`.

In short, I'm trying to validate a value passed to my program by mathemetically re-deriving it on chain, but something in these math operations is breaking my program. Any idea what it could be?
So I have an idea for an NFT project, but I would need an explorer that could look through the most recent transaction data of a good chunk of NFTs at the same time (maybe 50+)

Am I going to need to run my own RPC node to calculate that myself from the ledger?
It is definitely necessary not to cross post on this server
Is it necessary to create Serum Market for a token that I want to have value/liquidity?
see <@!585868308419444749> message above for 0 data rent
Ok, you type faster üôÇ
No data rent
```
$ solana -um rent 0
Rent per byte-year: 0.00000348 SOL
Rent per epoch: 0.000002439 SOL
Rent-exempt minimum: 0.00089088 SOL
```
or is that doubling it?
Aye, but per account with no data costs what I displayed... no?
You're just inputting the max length of the `data` field
`solana rent` accounts for the overhead already
Thanks just figured it out myself looking at the solana explorer github!
Any luck?
```
$ bs58 -d <<<2 | xxd
00000000: 01
```
Guess what `"2"` is in `base58` ?
Can a buffer account always be closed after it is used to deploy a program? Or does it need to stay up for the program to continue to function?
1 is the uint8 value I sent to the instruction data, so I'm not sure why RPC API is giving me "2"
The block explorer shows data for an instruction as HEX 01, but when I use Solana RPC API, it returns the data as "2"
OK thanks though
Ahh, that I don't know my friend ü§∑
Not 100% sure, just wanted to see how long a typical solana node update would take.
Wait, are you talking about node.js? üòÆ‚Äçüí®  My bad if you're not
It should be pretty short, depends if you have an SSD or not üòÜ
How long does a typical Node update take?
And also, for anyone using react, can I run an useEffect hook on the publicKey instance from useWallet?
I would like to be able to show only the first and third one, but I can't seem to find some clear documentation anywhere üòé

Hi guys, quick question, does anyone know what props I could pass to <WalletModalProvider> so that it doesn't show the change wallet option? ü§î
yeah it seems like it
ü§∑
Whatever is requesting internally on web3 doesn't like hitting localhost
any reason why localhost wouldnt work in this instance?
I think I had this exact problem just yesterday
yeah that worked
wow
I had this problem doing it with web3 connection
Try hitting `http://127.0.0.1:8899` instead?
yes i do
Do you have `local-test-validator` running?
Was wondering if anyone else ran into this kind of error when following this blog post?
Yes, I'm currently running into an issue with the Test scripts. Getting a ```FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED ::1:8899```
I feel like a lot of people have started there
Hey has anyone here gone through this blog post before? https://paulx.dev/blog/2021/01/14/programming-on-solana-an-introduction/
Using solana-py, I don't see any account data, but obviously there are still rent requirements.  Is there a floor value on data size that is used for rent calculation?
```
In [94]: client.get_account_info(address)['result']['value']['data']
Out[94]: ['', 'base64']
```
Thanks a lot!!!
Hi, a simple question: how can I get an account's current size in bytes (the value that is used for rent calculation)?  I was surprised not to see anything in the CLI tools. Did I miss it?
If you're using Borsh, that would be just three pubkeys after the other: <32 bytes> <32 bytes> <32 bytes>
That tracks with me. This is my program account data state. Just trying to figure out how to serialize/deserialize the participants array on the frontend side.
Can you try replacing that `&` with a `*` ?
1. It's best to use the approach (CLI/UI <-> Program) that the program uses for storing data in program accounts. This has to do with the program account data and not necessarily the 'instruction data'
2. If you have the choice, go with borsh as it is less costly (in terms of execution units in the program)
am I shooting myself in the foot by not using borsh on both the rust and js side?
Anyone know how to serialize/deserialize using BufferLayout for a size 3 array of public keys? On the client side
guys can anyone help me please: https://discord.com/channels/428295358100013066/517163444747894795/922488628037443664
It's working perfect thanks <@!814228493302497301>
Hmm okay like this `new PublicKey(data.slice(32, 64)).toBase58()`
Pubkey constructor, in the web3, takes a 32 byte array of u8. You should be able to just slice it in from the data block

<@!195044797134798848> Sorry but I'm still stuck with decoding the data, can't understand how to transform the 32-64 bytes into a readable 32 bytes address üò¶
you'll need a second rpc call for `getAccountInfo` with that address as parameter to get the account's data, then decode it in the way I described above
So the data is public key decoded (of the token account)
Yes I just understand that while you're writing x)
you want to get the data of the richest account (the "address" publickey)
Oh my bad

Oh thanks! But I dont really understand which data I should use, here is an example of what I get with `getTokenLargestAccounts`
Is it possible to see program logs when using the BanksClient?
(you can see a visual diagram of what the token account data you get from `getTokenLargestAccounts` looks like here https://solanacookbook.com/ingredients/get-program-accounts.html#filters), the spl-token js library will have a function to decode it
decode it with the spl-token js library, or as a shortcut, get the account's data and take the 32 bytes at index 32 as pubkey. that's the address of the owner
I have the mint address of an NFT and I can get the token address `getTokenLargestAccounts` but I can't find the owner address of this one
Hello guys üôÇ How can I get the owner address for a token instead of the Token Address account ?
ty
Thank you Jacob!
Responded in https://discord.com/channels/428295358100013066/885976714646290473/922926994247782460 as that is the more appropriate channel
<@!801624040515043359> https://github.com/solana-labs/solana/pull/21756 how does 2X MTU packet size deal with routers dropping packets too large?
Here's an example of option https://solanacookbook.com/ingredients/serialization.html#coption
how can we extend borsh-js to serialize Pubkey and Options as well?
u are amazing
thank you
nvm
anchor
Is this written with anchor or base rust
lmao
im just a loser
I'm not original
FRICK
Check out this tutorial https://lorisleiva.com/create-a-solana-dapp-from-scratch
Is it possible to query all the PDAs easily?
Like if I wanted to make a tweet account which is just a timestamp and a message
But I'm still confused on how a user is supposed to find PDAs
I wanted to build a twitter-like program as a tutorial/learning experience
and watching cartoons
eating cereal
Right in this chat ü§∑ Where were you
anchor discord smh
xD
my god where were you when I started learning this a few months ago
Can read about it here https://docs.solana.com/developing/runtime-facilities/sysvars#clock
oh shizz u wrote this
strange
xD
Like the machine time on the solana virtual machine
Estimated time
I'm confused what is a clock
Very nice, thank you !
Also in the cookbook https://solanacookbook.com/recipes/programs.html#how-to-get-clock-in-a-program
https://tenor.com/view/yawnface-gif-4425271
Something like this https://docs.solana.com/developing/clients/jsonrpc-api#getblocktime
So, can i get the current chain timestamp with the web3 api ?
https://docs.solana.com/developing/clients/jsonrpc-api#subscription-websocket
You can do that. There are a few websocket calls as well
They may be behind as well. I think this is often the case with testnet
Or calls to a program
Is there a way to listen to changes
xD
Query the solana blockchain repeatedly?
If I wanna cache like solana account data into a database is there any like good approach?
Ok that's why thank you, so all testnet/mainet have the correct timestamp right ?


///////////////////////////////////////////////////////////////////////////////////////////////

Thanks, that's useful info. Hmm
i mean via rpc
yes, it had the same issue. i only looked at solscan because the tx set from triton was the single tx
Any chance you looked at explorer.solana.com at the same time?
True, although BigTable still seems suspect. Perhaps solscan's nodes couldn't reach BigTable at that moment, for example...
What appears to be transient may be explained by a load balancer routing your request to different instances
if it was the bigtable issue we wouldnt see the 3 txs now
only the first Approve tx (2yXAvcM9NJramhhFp2CsVzBPfCoTejWsk851i6XXSQ1oxvfCQL6nAPm5GcwNBbC7WhSC78yAmDhYBuJh15gur9p1) was visible for ... around an hour
this was the token with the transient issue today
<@!213083996689661953> https://solscan.io/token/HorMzym5R87Uan8mx8uu7FMbVk1a1QKZ3ryHbEUvPpQu
one sec
that wouldnt make sense because its transient and they just come back
Hmm, hours or days old sounds like the BigTable problem again -- fix isn't actually out to mainnet yet
i did see it today on one token, where only the latest tx was returned, but it cleared up after an hour or so
or days?
but the missing txns are hours old?
Thanks! My hypothesis is that the node is returning some signatures for a very recent block before it has finished writing all address-signatures for that block to its rocksdb, and that's why the response set is changing.
yes
Hey, sorry I missed this over the weekend. However, we've received a few other reports of this issue, and I have an idea of the cause. Quick confirmation: were you using confirmed commitment for the getSignaturesForAddress request?
im lost too.. I will check something and come back again. thank you.
Any wallet that supports Solana supports Ed25519
You've lost me
üßê
ohh I see. Thank you. so not all the wallet support those curve?
Ed25519 private keys are 256bits/32b
im confused.
normally the private key has 64 elements, but the`` new from array `` takes 32 elements..
hi, solana test code seems to have trouble locating my program by name, as per https://docs.rs/solana-program-test/1.9.2/solana_program_test/struct.ProgramTest.html#method.add_program any hints on how to debug this
public keys are derived from private keys, not the other way around.  That's the point
You would have to already have it
You don't
Oh i see. but how do i get the private key for  this?
`Pubkey` is a highly abused type. It may simply be an address and have no private key at all
All that does is blindly instantiate a pubkey from a byte array
did i misunderstood?
one from there
https://docs.rs/solana-program/1.4.4/solana_program/pubkey/struct.Pubkey.html
```solana_program::pubkey::new_from_array([<32elements>])```
Link?
but I saw this code where it created the pda with solana program pub key from array function
ye i read that too.
There's no cryptographic signature, just a bit that gets flipped if the right seeds are passed
That's not how PDAs work at all.  Only the program it was created by can "sign" with it, by providing the corresponding seeds
No
is it possible?
I created an pda, so can i get the private key for it ?
Wallet adapter look's like awesome, but I need to do a simple connection to Phantom. 
My browser has the extension Phantom. I can't understand why window.solana returns undefined
it's not a big deal, just was driving me crazy yesterday
Removes token class
TS lib coming soon
Hopefully soon you won't have to do this
This was due to the `getAccountInfo` function being an instance method and I was trying to call it as static. Instantiating a token and calling against that did the trick.
Word, thanks. I don't think I'll need that much data, but I'll keep that in mind
what's in the array?
How would you go about storing an array then ? Store a fixed size array and make it bigger when needed ?
From wallet-adapter example? Typescript
Yep, that could work. If you really want a huge amount of data you could make the pointed-at account live at a keypair address (accounts that live at PDAs have a funny limitation and can only store 10kb max, not the usual 10mb max)
export const SendOneLamportToRandomAddress: FC = () => ...
Is this Typescript ? (I am backend dev, not front )
I'm not understanding. the main account would be a PDA, and its data would be the public key of another PDA that stores the real data. When I need to update the data, I can just create a net new data account, replace the public key of the old data account with the new one in the main account, then close the old data account, right?
You don't need to store the PDA in data accounts since they're generated using a deterministic process. There's a function in the web3 library that takes the user's pubkey, along with a bump seed, and calculates the PDA. You'll create it initially, but the same function can be used to 'find' the PDA as well.
What about something like this?
1. create a main account that has 32 bytes allocated to it. Use that 32 bytes to store the public key of an account that stores data (the data account)
2. create a data account to store the data. store the data account's public key as the data in the main account.
3. Whenever you need to update the main account's data, create a net new data account. Replace the old data account's public key with the new data account's public key in the main account

Could that work?
you have to refactor your design so that you know how much data it's going to contain
Hey all, I'm trying to write a solana program that creates accounts that store data, but I want users to be able to update the data in the accounts whenever they want to. I'm finding that on Solana, the size of account data is fixed at account creation and can't be changed. How can I handle the case where I don't know how much data needs to be stored in an account at the time its created?
Can someone help me out here? I know getAccountInfo is a function but IDK what's going on here.

```
const {ASSOCIATED_TOKEN_PROGRAM_ID, Token, TOKEN_PROGRAM_ID}  = require('@solana/spl-token');

async function main() {
    let fuel = await Token.getAssociatedTokenAddress(
        ASSOCIATED_TOKEN_PROGRAM_ID,
        TOKEN_PROGRAM_ID,
        new anchor.web3.PublicKey(fuelMint),
        provider.wallet.publicKey
    )
    let fuelInfo = await Token.getAccountInfo(fuel)

```
`TypeError: Token.getAccountInfo is not a function`
Not bundler, but I know people are using React, Vue, Svelte, and Angular with this
Thanks for your answer. What is the best javascript bundler to handle this code ? Parcel ? Vite ? or another one ?
Thanks a lot!
`getSignaturesForAddress` https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
Hey. How to get 10 last wallet transactions by PublicKey?
Does all the connection stuff for you
I'd recommend using wallet-adapter https://github.com/solana-labs/wallet-adapter
Maybe you're doing it before the js is injected?
https://docs.phantom.app/integrating/detecting-the-provider
Hello I have a little problem with the documentation.
When I do this code, the result is undefined

const isPhantomInstalled = window.solana && window.solana.isPhantom
console.log(isPhantomInstalled)

When I enter the same code directly in the console's browser, the result is true:
window.solana && window.solana.isPhantom
There's a writeup on why this happens here https://github.com/solana-dev-adv/solana-cookbook/issues/108 Hopefully will be built out more soon into the cookbook
You could do retries
not sure sorry
should take like 1-2 secs max
i'm guessing it's not confirming?
yes tried but it sends the above error if not confirmed in 30secs
await connection.confirmTransaction(signature, finality);
not sure web3 but anchor it's 

```    await provider.connection.confirmTransaction(
      await provider.connection.requestAirdrop(payer.publicKey, 1000000),
      "confirmed"
    );```
Is there a way to close an account? Not a token account, a data account.
Thanks a lot
Can I somehow get the Wallet Adress from this? If not how else can I get it?
```js
let wallet = new PhantomWalletAdapter(PhantomWalletName);
await wallet.connect();
```
Hey is there any way to launch a nft collecion on solana without having to pay $3000 for candymachine?
Hello, I want to report a problem with the tokens. I just saw that when there is a token refused on solana by the gitthub automerge, an individual copies the name of the token to register it on binance. This is what happened with my token. I see that binance lists all the new tokens refused on solana to be the first to have the token name.
I'm just a newbie to blockchain. I still have trouble coding a small smart contact. With individuals like that I don't move forward at all. I think it's important to point it out. cordialy
Thank you for the reference! I will dig into it! üôÇ
It converts it to a block of bytes
https://docs.solana.com/developing/clients/jsonrpc-api
Hey all üôÇ

My goal is to build a yield aggregator based on the Solana blockchain.

Could you guide me to some links that show me where to start? How can I read the chain to aggregate some of the data?
Hi guys, I want to sign a transaction with useWallet().signTransaction and get the error: Cannot invoke an object which is possibly 'undefined'.


```const wallet = useWallet();

        const connection = new Connection('http://localhost:8899', 'confirmed');

        const fromPubkey = wallet.publicKey
        const toPubkey = new PublicKey("FntXUJoFNvXTbLXj5NfDgikMqSGjQ6JhhX3ia694i1fD");
        let price = 1;
        const lamports = LAMPORTS_PER_SOL * price; 

        if(fromPubkey) {
            const transaction = new Transaction().add(SystemProgram.transfer({
                fromPubkey,
                toPubkey,
                lamports,
                }));

            await wallet.signTransaction(transaction);
            const transactionHash = await sendAndConfirmRawTransaction(
                connection,
                transaction.serialize()
            );
            console.log(transactionHash);
        }```
Anybody able to help?
so it seems to me that I need to find the program address first like you said, which is the PDA, but then, I will need to use create_account_with_seed to create a  (kind of associated) program account, at that specific address(The PDA).

Which means that my new_account_pubkey's seed has to be thesame as this one. I did take care of that, just now I am getting an error of ``too many values to unpack (expected 2)`` instead but still at thesame line of the code
Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: custom program error: 0x0

anyone please check above error, when this error come, where the issue.
Thanks, will give a look
I think the example has done it.
one more thig, i want to pass bump_seed in instruction_data [u8]. from .ts file
https://solanacookbook.com/recipes/accounts.html#program-derived-address
Can you please explain me how can i create PDA account from program. (code example)
if you just want to hold some SOL, you can transfer to your PDA, it will default use system program.
if you want to allocate or assign to another program, you can only do in the program because only program can sign the PDA.
sendRawTransaction do.
````
InvalidAccountData
Program log: Hello World | Processor#Error: InvalidAccountData
    Program log: Error: InvalidAccountData
    Program xxxxxxxx consumed 175593 of 200000 compute units
    Program xxxxxxxxxx failed: invalid account data for instruction
```
when came error
so transaction instruction expects a buffer but my on chain program expect a uint8 array, so the solana run time converts it from a buffer back to the uint8 array when passing into the solana program/smart contract ?
<@785084693023424542> no custom program
hello, i'm getting this error: `Uncaught (in promise) Error: Given address is not a PublicKey nor a string.`  i'm 100% sure that `connection` and `wallet` are both defined objects. what's weird is that it works when i run my react-app on local, but not when i deploy it to a hosting service. everything else on my app works fine though besides the page that uses the code snippet below

```
import { Program, Provider, Idl } from "@project-serum/anchor"; // 0.19.0
import { useWallet } from "@solana/wallet-adapter-react"; // 0.13.1

const wallet = useWallet();

/// code snippet
if (connection && wallet ) {
  // @ts-ignore
  const newProvider = new Provider(connection, wallet, {
     preflightCommitment: "processed",
  });
  setProvider(newProvider);

  if (newProvider) {
     // ERROR HAPPENS HERE
     const newProgram = new Program(
        idl as Idl,
        new PublicKey("public key goes here"),
        newProvider
     );
     setProgram(newProgram);
  }
}
```

UPDATE: Downgraded `@project-serum/anchor` to 0.18.2 and it works fine now!
Can I create and initialize a PDA(program derived account) outside of the program?
Or the PDA can only be created in program?
Sike my code had an issue haha thanks

Fwiw: It was because I was checking transfer amount + token_account.lamports = the increase in lamports post close_instruction - but the token_account.lamports includes the amount of wrapped sol it contains.
you can unwrap via closing token account.
But I do see here the lamports do get incremented on a transfer for native.. hmm 
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L292-L302
How do you unwrap a solana native token account onchain?

https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L623-L655

So I transferred SOL from one native token account into another native token account and saw the `amount` of the token account increased correctly, but not the number of lamports - So when you close a native token account, I see the code checks if not native and amount != 0, but then there's nothing to move new wrapped sol amount into lamports. It appears any new transferred wSol just gets set to 0, and the initial lamports are given to the destination account. Can someone correct my understanding?
are you running the hello world app?  did you use the rust and the ts code? and build and deploy the program with the update?
<@!785084693023424542> its showing after this cookbook code 
```
    Program log: Hello World | Processor#Error: InvalidInstructionData
    Program log: Error: InvalidInstructionData
```
https://solanacookbook.com/recipes/programs.html#create-a-program-derived-address
how can send bump seed form nodejs in instruction data in transaction
Ah I see, I was thinking I could use the Account::deserialize_data fn in solana_sdk.
you need to know how program serialize it then you can deserialize it.

for borsh https://solanacookbook.com/ingredients/serialization.html#client-account-data-deserialization

for other custom ways, you have to separate bytes by yourself. you can take a look at https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js#L738
does anyone have an example of deserializing an account that was returned from the rpc client in rust?
right on
Thank you for your suggestion
Ahh I see. That might be the play then.
if you have an area for users to login anyawy
you can make an easy web2 button to do it
I don't expect them to create one using the cli lol
not that I know of
Is there an easy way for users to do this? I wasn't able to figure out how to do it on Phantom
I saw this post and thought that it was actually 0.02 SOL to create an ATA :/ https://forums.solana.com/t/a-simple-exchange-took-0-02-sol-as-gas-fee/1800/2
cuz that will end up costing you some 5 solana or so I think
yeah, alternatively you could have some area where the users pay gas to create their own ATA and you only send to those who've done so
Ahh I see 0.01 SOL for 2000 users isn't bad at all.
unlike ethereum we don't have to squeeze the use out of every last lamport.. yet üòâ
the gas for creating an associated address is 2034280 lamports, a transaction fee is 5000 lamports, or every 400 transactions is the cost of creating one ATA - you can create multiple ATAs in one transaction but the work to do so isn't going to save you that much in the long run, you're looking at .01 in tx fees for 2000
Hey! I am looking to send an SPL token to thousands of wallets. As most of them don't already have an account for the token, is there any way of mass creating them in a single transaction? I am trying spend the least amount of SOL as possible.
hard to say without some code
hi, localAccount(~/.config/solana/id.json ) is not include in instruction accounts, and is not the signer, why localAccount is the fee payer?
As for your actual error, not sure (haven't used solana-py)
Confusingly, CreateAccountWithSeed actually doesn't create a program-derived address (it creates this weird other kind of address that as far as I know isn't used much anymore). PDAs are created/found with findProgramAddress/createProgramAddress (not sure about exact name in solana-py)
Sorry <@!788215642070581289> ... Missed you in the first place... really appreciate your efforts and giving me a direction.... I haven't yet resolved it but may be soon I will be able to resolve it
hey all, Could anyone give me a much needed boos here, I am trying to practice PDA creation and wrap my head arround the concept and features fully, especially with how metaplex NFTs happen to integrate them, 

but with  `solana-py`

Ran this piece of code, and I have no idea where the issue is from. Any help will be much appreciated: 


https://stackoverflow.com/questions/70457160/falling-into-issues-trying-to-create-a-program-derived-address-pda-with-solana




Thanks much all.
It wasn't me It was <@!788215642070581289>. But thanks anyway.
Ok... Great... Haven't resolved my problem yet but looks like the cookbook that you have given me have some promising answers
I believe you will have to try a transaction again to see logs
in the CLI try using :
solana logs <address of program>
To get logs from the program u are trying to run. Maybe it will give you something.
Ok. Didn't realize that part.
This number doesn't populate anything on devnet or testnet...
okay thanks
No man. Gotta create a new one. Once you turn off minting capacity - no more can be minted ever again.
Hey guys I used spl-token authorize MYTOKEN mint --disable and now I have decided that I want to mint more, is this a possibility with the CLI tools?
Explorer does not find the pubkeys u are using in your code: 01331fcd8b4651e1242efb698e1a0d3178edc94f9a9ff6221a792fac346de24b . I think it should find it.
you can take a look at
https://solanacookbook.com/recipes/basic-transactions.html#sending-sol
https://solanacookbook.com/recipes/offline-transactions.html#sign-transaction

I can't see your code but depends on the error message I believe you do something wrong when you building your tx.
tried it on testnet also but same error
My public key is 5gd6AmQkTg2ZNMiFcw1VU5udzyyvG4bapdBWy97sZAJ
Yea
Are you on devnet?
And how I can check solana logs... Like go to explorer
Check solana  network logs also. To make sure that it is an error on solana side, and not on the JS front end.
Yeah, that's the strategy I'm using for my project idea. Seems like a good free place to store small amounts of data.
That‚Äôs exactly what I‚Äôm looking for thanks!
I think in this case you can store it right on the blockchain trasnsaction in the data field. In a serialized fasion. No need to save metadata somewhere. Then read data directly from blockchain. NFT with metadata approach really only makes sense if your data is big.
Hi Guys. I am trying to send a transaction over API to get it signed by a third party. Sending process is as follows: 1. Create a transaction 2. Put latest block hash & feepayer in it 3. Serialize it 4. convert serialized u8 to string and send over the network.... On network steps, I follow 1, split string on commas 2. Parse each element to base 10 3. Parse the whole array as Unit 8 Array 4. use Transaction.from to parse this as a transaction. Somehow I am getting the error : TypeError: Cannot read property 'toString' of undefined. Please let me know what wrong I might be doing.  Following the transaction just before signing: {
    "signatures": [],
    "feePayer": {
        "_bn": "01331fcd8b4651e1242efb698e1a0d3178edc94f9a9ff6221a792fac346de24b"
    },
    "instructions": [
        {
            "keys": [
                {
                    "pubkey": {
                        "_bn": "01331fcd8b4651e1242efb698e1a0d3178edc94f9a9ff6221a792fac346de24b"
                    },
                    "isSigner": true,
                    "isWritable": true
                },
                {
                    "pubkey": {
                        "_bn": "4a88df333dfdb6624f40a11f0a66ca869d8e3fb193ebe31da10102b0f3b9748c"
                    },
                    "isSigner": false,
                    "isWritable": true
                }
            ],
            "programId": {
                "_bn": "00"
            },
            "data": {
                "type": "Buffer",
                "data": [
                    2,
                    0,
                    0,
                    0,
                    139,
                    65,
                    171,
                    0,
                    0,
                    0,
                    0,
                    0
                ]
            }
        }
    ],
    "recentBlockhash": "6RBKyq7esaqDQe6DDYUy98WJH4gGSNLL5h9UhLVXbZUf"
}
Looking like 32 characters max
How long will your string be?
That might be what I need to do‚Ä¶ my use case is very simple in that I just need to store a super small string or json that I can then resolve on a centralized server.
You probably can. Although you will need to go through Metaplex github,, reverse-engineer code, and potentially write your own programs.
You will still have to use the Metaplex metadata standard for your NFTs. What is your use case anyway?
Pls I need help.
I'm writing a program where I first need to airdrop some Sol to an address. I'm using the request airdrop function. If I airdrop 2 Sol to the address,it is Successful but when I try to Airdrop more than 2 Sol,the transaction is not Successful
A few things on metaplex,
1. Are there examples of creating NFTs with very simple attributes without Metaplex?
2. Is memo a place where we could potentially store some light meta without needing Metaplex?

Everything else seems really straightforward, but I can‚Äôt bring myself to want to implement Metaplex for my use case.
In fact you can choose to use IPFS instead, or Amazon Web Services.
It's like IPFS, but with an insentive to pin content in the system.
arweave is new to me
Ok, looks like I have some more stuff to go learn about. Thanks.
Ok. So in solana when you create a vanilla NFT token - it is just a single token limited to 1 unit and 0 decimals. To link NFT data - you will need to use a standard defined in the Metaplex: https://docs.metaplex.com/nft-standard 
There are programs there that create a token and link it to the metadata. Metadata gets saved into Arweave
I see this, but it looks like it's Metaplex-specific https://lib.rs/crates/spl-token-metadata
I guess I'm just talking in general. Looks like Solana's token program itself doesn't contain any metadata fields, just addresses and balances
Are you using Metaplex?
So what links a collection of NFTs? A common mint authority? Metadata on another service?
ah great. thanks! thats exactly what i was looking for
No. If your account is rent-exempt - system does not charge anything, and program lives there forever, or until the civilization ends.
so after two years what happens? is my account deleted?
As I understand it, each time you upload a new program, - it will get its own public key by which you can call it, and it has to be executable. All executable programs have to be rent exempt- and so live in an account with 2 years worth of rent for that program (I think 2 years  rent is required for rent exemption).
If you have multiple programs - each will live in its own account with its own public key and its own rent amount to make it exempt. Does that make sense?
Hi everyone im building the solana options package for creating options  on crypto tokens, NFTs https://www.npmjs.com/package/solana-options source: https://github.com/dbanda/solana-nft-options. one thing that's not clear to  me is how rent works. if my program account is created using getMinimumBalanceForRentExemption() does that guarantee that the account will live for all future epochs or is this only for the current one?
m1 works pretty ok as of the v1.9 release.  The main remaining limitation is that the `solana-test-validator` macos binary is still x86 with avx, which breaks rosetta.  I'd like to get native arm64 binaries going in the new year, but in the meantime you need to build `solana-test-validator` from source for use on an m1
M1 has a tone of issues with many things. unfortunately it may take a while before it's officially built and tested for that
do other rust projects work fine?
yes
are u using rust?
the fastest blockchain doesn't work on the fastest laptop...
is there a clear solana official document for how to develop on m1. having serious issues
spl-gov is multi-sig capable, and project serum has a different multi-sig version, in addition https://github.com/GokiProtocol/goki may be a different option.
Bumping this to the top! Is there anyone keen to work on this with us ?
üî•
sounds cool, go for it üëç
Hey guys. I think I will start an in depth video series on Solana. Starting with basics on how blockchains operate, RUST, programs, front-end, backend, anchor, maybe also integration of Godot Game Engine with Solana programs. I think I can launch an NFT collection to support this too so that I don't end up like most people who wanted to create such a series, but then quit. Let me know what you guys think. Thanks.
There's functions in the token-account smart contract to enable merchant payments as well
Virtual USD‚Ñ¢ is a Solana-native stablecoin
Yes
so this is all revolving around Solana based payments with support for other tokens?
It also provides HTML checkout & subscribe screens that verify the merchant is authentic
There's a front-end API from Atellix that greatly simplifies the process
For now there's a proof of concept built with my other company: SavvyCo
Yes, those will be built as time permits
thats cool. so is there any integration with other merchants or payment providers,  like shopify, swipe, or wordpress/drupal payment plugin?
The token-agent smart contract make sure that merchants can't double-bill, exceed a pre-agreed budget, or proceed with a subscription that a user can independently cancel.
So people can subscribe to stuff in Wrapped SOL or Wrapped Bitcoin and then the merchants can get paid in USD, all seamless and automatic.
One nice feature: merchants can price their subscriptions in USD, but customers can pay using any supported token. Each rebill cycle the payment token is automatically swapped at current oracle prices.
cool
Along with the Virtual USD‚Ñ¢ stablecoin
The subscriptions thing is launching live in a couple weeks.
Sure thing
check your piggy bank. keep us updated on progress
Thanks!
That gives me something to work with that should be fine for now
That's a huge help
have you used this link? 
https://solanatools.xyz/faucet/devnet.html
On-Chain Limit Order DEX (going live in a couple months)
Token swap
Merchant accounts
Virtual USD‚Ñ¢ stablecoin
Recurring subscriptions
https://github.com/atellix
gotchya.  what ya makn?
for this testing yes
and using lots of new keygen keypairs for things?
anchor
with anchor or no?
On Devnet, yes
yea you def want to know and track that.    ahh..  so your doing entirely new deploys everytime?
I'm doing end-to-end checks so they all have to get new IDs, etc...
It's 3 separate programs, that's why it takes more
I'd have to check
i can run deploys all night and not use that much.  guess im confused. are you making small changes and redeploying repeatedly? how much does 1 of your deploys take?
100 would keep me busy for a while
I could use as much as possible, it will all get used up on code/dev soon enough.
Public Key: G9GUQuEKS6oJsZspUrAJ1aWFqp1SPq5tgCja4wpMueyX
Balance: 12.150891383 SOL
how much do you have and how much do you need?
Fortunately I'm almost done... I can wait a bit to get more, not the end of the world
its not much to deploy and upgrade basic programs in dev
I would use a localnet but it kills by local PC (lol)
Each change needs to be uploaded/tested
It just take a bit to load programs...
what are you doing that requires so much?
yea you can do 2, but you shouldnt be going through that much sol for basic testing. your getting rate limited for requesting too much.
yea, and it still got drained rapidly due to abuse.
Well, I think it's 2, but it used to be 5
you can only do 1 through the standard faucet.  and you cannot spam it.
I'm using too much loading programs...
Requesting airdrop of 2 SOL
Error: airdrop request failed. This can happen when the rate limit is reached.
works fine..  what do you mean?
G9GUQuEKS6oJsZspUrAJ1aWFqp1SPq5tgCja4wpMueyX      <--- DEVNET
Anybody got some extra they want to send?
Devnet SOL faucet is slow these days...
dude you are right lol my mistake
Mint's have length 82, whereas token accounts have length 165
Ah, that's already a Mint, not a token account üôÇ
here is the error
Or send me the address of the token account?
Can you post more info? Like, an error, a stack trace, etc.?
Dude i don't know, i literally been trying for the last hour, it works with regular tokens but with nfts it doesn't haha
```.js
spl.AccountLayout.decode(theAccountInfo.data)
```
Why doesn't it work with an nft account? It's a token account
Yes it does but the data where the mint is borsh serialized. The `Account Layout` on  spl-token library doesn't work with the data in an nft account, im trying to find the token mint just using the token account address, (and yeah using solana explorer or solscan will be a easy option, but i actually need to program this haha)
The token account stores its mint (if you're feeling lazy you could even just load up the token account in explorer.solana.com)
Yeah im trying to load the metadata but for that i need the mint address, right now i only have the account address where the nft is
https://solanacookbook.com/recipes/nfts.html#get-nft-metadata
hey any of you guys know how to get the mint address of an nft token account?
Yeah, this is what I'm thinking. I just want to make something purely decentralized but the users have spoken ‚òπÔ∏è
I guess you could have a centralized back end (üôÄ) and have that be the thing that actually submits the txs (so it wouldn't be the user signing, it'd be you sneakily proxy signing, with your own centralized key etc. üôÄ)
This is probably antithetical to the whole TX concept, but figured it was worth an ask since approving a TX every round is frustrating.
Animated.  Needs nitro üòî
where is head on wall emoji. thats my bad.
im stretching for benefit of the doubt üî®
This is what I get for engaging with half-baked, crackpot ideas
yea reread does sound like that..  heh
Oh I thought they just wanted to reduce the Serum fees
yea not sure on the logic box there. 
terribly assuming there is a save 'somewhere?' else and just want to use serum in someway to avoid outside or 3rd party, exchange or other fees not yet based on Solana or Serum.
Any proxy also has to call through to the target program, which is where the fees are taken anyway
Pretty hard to add stuff and make it cheaper
I would say that it's not generally possible to reduce the fees on another program via a proxy
i was under the assumption several protocols already integrate dex, market, price, and other features from serum market, orders, and permissionless markets..  in any case, you probably want to check with the project serum discord, as that is the best place for Serum related info.
https://discord.gg/TzqFCS2p
I'm currently trying to refactor a turn based battle game to reduce the number of annoying Phantom pop ups for TX approval. Right now every move needs to be approved and the TX fee paid to send the move to the battle contract. 

I know I can use the battle contract as the fee payer so the user doesn't pay the fees, but is there a way to delegate TX approval to the contract as well while still letting the web interface tell the battle contract what move the user selected?
xD
?
getTokenLargestAccounts
What rpc would i use to get the the current owner a nft?
Is this idea possible? 
Creating a program that works like a proxy for serum markets which allows users to use it as intermediary and lower down fees to everyone at the same time at the only cost of an additional very small fee (still better than having to pay the full fee) and currently no UI supporting that
you cannot lock a token itself when its not in your possession.  you would want to do some kind of staking or vesting contract that you can lockup tokens or funds and allow withdraw after a duration or requirement is met - you could additionally use a token as a receipt and exchange mechanism if desired. additionally do not tag or try to tag everyone.
Instruction expects a `Buffer` and not an `Uint8Array` which is produced from `borsh.serialization`
It's best to think in terms that your program has a 'protocol' of how it reads the instruction data. At a minimum it is an array of `u8` bytes, serialization and encoding are based on what the program expects to be in that instruction data and how it is serialized or encoded.
quick question: what is the commitment level of data that is read by the program on chain? recent? committed? finalized? other?
Btw why do we have to convert the data part of the TrabsactionInstruction into a buffer , be it via borsh or manually, for example data : buffer.from(xyz), or buffer.from(serialize(instruction data)) isn't the Solana program expecting a ,[u8], why do I have to convert a u8 array on js side to a buffer ?
Hey, <@385284417674936320>ryone
User buy the token and he gets the SPL token on his wallet.
But the token should be locked for 30 days. How to do it?
I install wallet-adapeter package and managed to create the components for connect and disconect wallet, but when I try to use the hook 'useWallet' it always returns {}. did anyone know what I miss?
Hey @everyone - looking for some partners (developers) to help build out an OHM Fork on Solana - if anyone can point me in the right direction or make a connection, that would be WONDERFUL
Here is example that serializes a struct representing instruction data in TS: https://solanacookbook.com/ingredients/serialization.html#serializing-instruction-data
how do i create a schema for a instruction_data u8 array ?? it made sense for structs
<@!814228493302497301>  if i wanna pass the instruction_data u8 array from the client side these are the 2 ways right ? 
the good old ,1) "Buffer.from(Uint8Array.of(0,... new BN(2).toArray("le",8)))"
2) i believe this could be done via borsh too not sure how
probably had the pubkey substituted for the ['u8',32] syntax then , syntactic sugar or smthing
yea governance and metaplex have a lot of borsh examples and utilities, on the front end as well.
had do `import ./utils/borsh` at the top of the file and everything just mysteriously worked <https://github.com/solana-labs/oyster/blob/main/packages/common/src/utils/borsh.ts>
anyway, the solution was weird
no, i'm saying that i'm copying the borsh code directly from spl governance repo
? Are you talking about the Token JS stuff?
what the hell though, this is all in the spl governance repo though
created pull requestt
https://github.com/solana-labs/solana/pull/22074
Mainly their spec, I walked through the code with more difficult things like Maps of Maps, etc. Also looked that the various 'tests' and 'examples' in their repos (Python, JS/TS and Rust)
kinda curious <@!814228493302497301>  coudnt find any borsh documentation on this did u just figure it out by reading the borsh source ?
for bools, yes. "u8", For PublicKey you could just use `['manager_pubkey', [32]],` as well as you are passing in or reading out a 32 byte array of u8 (as per Buffer or Uint8Buffer)
was doing this wrong basically ["is_initialized", "bool"] instead of ["is_initialized", "u8"]
i figured the issue out, i was using bool type in the schema , substituting u8 seemed to make it work
Yes
i think i figured it out , the issue is ur passing the type of the programid as pubkey in the schema, borsh dsnt know what is pubkey type, so you should either write ['programId',[32]] or ['programId',['u8',32]]
It's your Schema model and not the data. What does your schema look like?
And know there won't be further changes
that is a general point you could make on virtually any platform. it also is not without its flaws or misuse. and again you can lock if you choose.
That assuages some of my concern, you can see that the code is finalized.
I started this conversation about 10% down the page on deploying programs haha
Ok, I also didn't know about finalization
<@!814228493302497301>  is a bool in rust/javascript just written as a u8 in the schema ?
Back to my question üôÇ
Should be a simple template
But my point here is that if the program account owner can *change* the code at any moment, you *don't* know what it will do when all you're going to do it give it the program account address
With code you are able to see for yourself what it does. If it is not an AI, then it will not magically rewrite itself, so you always know what it is capable of and will do.
it will be a combination. but yea. currently deployed code is law. you can always lock it down as well, if ever needed.
I thought decentralization was supposed to mean the deal was immutable unless there's a mechanism to change it that usually includes community voting
I mean that's one of the problems of the overall current financial system, right? That a centralized institution can decide to change the rules in their favor without the people whose money is locked up in it having a say
which can't be convinced by shady backroom deals to change its mind on you willy-nilly
yeah I'm mixing my metaphors including "code is law" there. Overall, I thought the point was to not need to trust people since you can trust the cold, algorithmic execution of deterministic programming.
keep getting the  "TypeError: writer[capitalizeFirstLetter(...)] is not a function" from borsh
"let escrowClassInstance = new Escrow({
    is_initialized: false,
    initializer_pubkey: alice.publicKey.toBytes(),
    temp_token_account_pubkey: aliceTempTokenX.publicKey.toBytes(),
    initializer_token_to_receive_account_pubkey: aliceMainTokenY.publicKey.toBytes(),
    expected_amount: 50,
  });
  let escrowAccountSpace = serialize(escrowSchema,escrowClassInstance).length
  console.log(`escrowAccountspace is ${escrowAccountSpace}`)" this is my code
?
did anyone manage to debug this issue ?
Is there any standard format for pr descriptions?
code is law is a fun statement, and also a separate thing. all it means is code is law. it does not mean you are safe. it also does not mean the code does not have loopholes or have issues or flaws, same as case with EVM or anything 'smart contract' platform. user inherently trust to a large degree, and you cannot prevent that from happening. in the same way, it is up to builders communities and code, to help secure and promote and build trust and protect each-other.
this would be a good solanacookbook.com add too üôÇ  these tips and tricks are very useful
Smart contracts are advertised as "you don't need a trusted third party because the code is law". But it sounds like that's totally incorrect if you need to trust the third party that wrote that code to not totally change it.
cool
So i want my NFT holders to receive X amount of my token every 24 hours.
I would run a function every 24 hours that goes through the holders and sends them each X amount. For that transaction i would need a private key to sign it.
Where do i store that private key so it is safe as fuck.
We like PRs üòâ
Yeah I saw it and wanted to use it, but found that it wasn't documented anywhere (And wasn't declared in the typescript api). I want to make sure my code won't break at some later date, did someone just forget to update the documentation?
Not arguing for that to be removed or anything, just trying to understand what risks there are
more transparency tools and capabilities are actively being developed - but imo, there is and will be inherit trust and more openness in protocols and developers going forward, in many capacities. it will always be possible, even with audits and by design, to essentially rug users, and openly. The way going forward is on multiple channels - in addition to more transparency and trust building and addition to permissionless
I mean that didn't really address my concerns, just said that there are other concerns that exist that this feature addresses, and that people are already kind of irresponsible with where they send their money, trusting reputation more than implementation
So you can identify the wallet that controls the token account without another lookup
Does anyone know why, in <@893467316564676698>lana/web3.js, does a postTokenBalences/pretokenBalances object include a 'owner' field?
or is a proxy contract or inability to upgrade a contract being siphoned of millions a bigger issue?  where a group or company you have already trusted with funds intentionally rugging you with their reputation on the line? where the majority of consumers are not actually or personally reviewing contracts to begin with, where the ability to actually not allow upgrade is possible if you want to close off the ability to force finalization on your program, preventing your issue to begin with?
also, since bytecode is being uploaded, how can I check program code to know what I'm sending my tokens to?
I'm looking into deploying programs now, and I'm seeing you can redeploy a program to the same program account. That's a relief in terms of bugfixes, but isn't that like a huge security issue? Like I could spend a day reading the program code before calling it to be sure it's not going to scam me, then when I go to call it, it's been completely replaced.
Only programs data accounts should use rent, it would be easier to understand.
colectoooor
Not by the runtime rent collector
rent exemption period ...
Ok, so they will never be deleted
same with spl token program accounts
Executable data accounts are enforced rent-exempt by the BpfLoader program
`programs`
lol
I dunno what "smart contracts" means here
since in solana everything is an account and treated equally
i think he just means that his wallet and smart contracts are all accounts
For instance if you have a SOL wallet that controls a bunch of SPL Token accounts, and its SOL balance goes to zero, nothing  happens to the SPL Token accounts because the SPL Token program enforces that all of its accounts are rent-exempt
it might actually be deleted at the end of the transaction if there's less than 0.00089088
No it only effects the account with the sub-rent-exempt balance.  Not any other accounts that it may control
So all accounts with balance < 0.00089 will be eventually deleted, even my wallet and "smart contracts"
ok, so all program accounts do have some minimum space in them, system program included
```$ solana -um rent 0
Rent per byte-year: 0.00000348 SOL
Rent per epoch: 0.000002439 SOL
Rent-exempt minimum: 0.00089088 SOL```
I believe they still use rent
system program accounts with no data on them don't use up rent
program accounts have a minimum amount of data in them by default
Hey, got question about rent, does all accounts with balance smaller than rent except limit will be charged in each epoch? Even when accounts store only balance, like my wallet account? What about program account, it will also be purged? Thx
<https://pastebin.com/iSmFB6kf>
anyone got any good debugging tips for 
```     TypeError: writer[capitalizeFirstLetter(...)] is not a function
```
It's a borsh serialization issue
How do I get the signer of a transsacttion in web3.js
I used create-react-app to make the project
I am not sure if they support executing transactions but I will look into it
Maybe you could even serialize a transaction + send it to remote holder of secret key, remote holder asserts it doesn't drain the account, signs transaction and executes it
api keys can be burned, keypair is never compromised, ideally
```
({"Object.<anonymous>":function(module,exports,require,__dirname,__filename,global,jest){export * from './useWalletModal';
                                                                                             ^^^^^^

    SyntaxError: Unexpected token 'export'
```

When trying to use import `{ WalletModalButton } from "@solana/wallet-adapter-react-ui";`

Anyone know how to fix this?
an api key is required for signing privileges
a third party stores the key and signs transactions with it
What do you mean when you say you can sign with the secret key but don't have access to the key itself?
if anyone has any resources regarding remotely signing deployments or existing code to do so I'd appreciate it greatly
makes sense, thanks
you'd have to modify the deploy code to integrate your remote signing procedure
One might say it is impossibly secure...
transactions are signed by a third party
Setting the authority to a pubkey with no private key is _very_ secure üòâ
you cannot sign a transaction without the signer..  not sure what the ask is here.
I just can't access the key itself
but I can sign with the secret key
Oh it would still be secure, it just wouldn't be safe
so  no
You can still sign offline, but you must sign with the keypair
at all
it wouldn't be secure
If it didn't require your secret key
if I dig around in the CLI program and determine what program deploy does, would it be possible to reconfigure it for remote signing, or is there a technical limitation that requires keypair access?
dang, we keep our keypairs fully secret
https://docs.solana.com/cli/deploy-a-program#set-a-programs-upgrade-authority
Looks like it has to be a signer
I think I just found a workaround, can `--upgrade-authority` be a pubkey?
There's some information about offline signing here https://solanacookbook.com/recipes/offline-transactions.html
You have to have access to the keypair to sign
Hello! I need to sign a deployment transaction remotely, without access to the keypair itself. How do I go about this?
I am looking for a solana coach
signature=tx-address
yeah it seems so - just getting started with solana
Are signatures just addresses?
üëç
thanks for the help
Yep.
and then go load each signatures. transaction
I think
<@893467316564676698>lwalker
https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
So i would have to check before every transaction if someone has a token account?
Yeah
anyone knows if there is a way to fetch a recent tx connected to a wallet using the JSON RPC API (for example all confirmed in the last 10 seconds)?
I would preferably like to use subscriptions but unf I can't see transactions real time with them
I've been parsing every block and now I'm doing a complete project rewrite
<@!773197581370523648> Did you figure this out?
does anyone know if the solana labs wallet button editable as far as the css goes
1. You'll need to create an account for them. When in doubt about where to send a token, you'd generally use an "associated token account" (but you'll still need to create it).


///////////////////////////////////////////////////////////////////////////////////////////////

<@!489206164270350337> failed: custom program error: 0x4' error found in transaction
can I get a walletStore from an initWallet function somehow?
Yeah that should work. If u want to mint/admin you‚Äôll need the keypair on the vm that was used to create the token. But if u transfer to wallet 1 and u have the keypair for wallet 1 outside of the vm you‚Äôll be good to transfer from there
Okay thanks üôÇ but when you say : ‚Äúbut you do need to retain the keypair for the next time you want to interact with the token‚Äù when you say to interact with the token what do you mean like transactions (wallet 1 to 200 example)  or like mint (add more crypto/admin stuff) ? Because what I want to do is transfert allll the token I have to a wallet 1 after I close my VM and I can do all the transfert without opening the VM (example Wallet 0 = VM 
 Wallet 0 transfer to Wallet 1 
  And then make all other transactions) 

Is that good ?
I saw that you have already answered that and were online, sorry.
And don't summon people
Anchor has it's own Discord
Hi <@!585868308419444749>, I'm using anchor and have the same error, I think on Anchor Account's serialization and deserialization, which is weird. I'm attaching a simplified version of the setup that I'm getting the error from. 

On line 7, I get: Program log: panicked at 'Slice must be the same length as a Pubkey: TryFromSliceError(())', /home/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-program-1.8.6/src/pubkey.rs:134:18

Does anyone have an idea or workaround about this issue?
the blockSubscribe seems to be the only way however it is unstable and thus unreliable
<@!585868308419444749>
is there no way to actually listen to transactions from a specific contract? initially ive done the following:
1) getSlot to get the latest block number
2) getBlock based on slot number
however i hit the api limit so quickly that it is not feasible for me to listen to transactions
You run your own RPC node
<@!585868308419444749> yes but where do i use that --rpc command?

hi guys im having this issue whereby it says function doesnt exist but it actually does. What am i doing wrong?
Try my video. I build a chat app on Solana with chat messages stored on chain. It's not the same app as yours but it should deal with much of the same issues. https://www.youtube.com/watch?v=Jz5v_u75xk8
Hello.  We are designing a Solana program that, as a part of its functionality, needs to retain arbitrary lists of strings (named categories), a vec<String>  if you will. I am trying to understand how to organize the data for efficient on-chain storage and retrieval.  I am somewhat new at this, so please provide course corrections if you see anything wrong. üôÇ   So, as I understand, the account storage limit is 10MB.  Tx size is that of a UDP packet, so to fetch multiple records we will most likely need multiple RPC requests. It is my understanding that given that accounts can be deterministically derived, it is possible to create one account per data record (issue then becoming entry removal and insertion, albeit easier updates).

The end goal is to have a caching-layer application that will use the chain _only to sync_ its state.

In other words, what would be the best way to store arbitrary lists on-chain?  Are there any reference implementations for something like this out there?
Hi guys, in 1.9, I'm not able to obtain the transactions logs. Am I missing anything from my RPC?

Am doing
```
let rpc_result = sol_client.get_block_with_config(
    block.number,
    solana_client::rpc_config::RpcBlockConfig {
            encoding: Some(UiTransactionEncoding::Base64),
            transaction_details:
            Some(solana_transaction_status::TransactionDetails::Full),
            rewards: Some(true),
            commitment: Some(solana_sdk::commitment_config::CommitmentConfig {
                commitment: solana_sdk::commitment_config::CommitmentLevel::Finalized
            })
    }
);
```
I believe you're seeing rent collection in action. Even accounts that have zero data still require rent (there's effectively a 128 byte minimum account size for rent purposes); to rent-exempt an empty account requires 0.000891113 sol (somebody check my math). If you send anything less than that then the solana rent collector will immediately steal a little bit, lol.
When you create a token that token persists on the blockchain. You don‚Äôt need to continue running the virtual machine that created it, but you do need to retain the keypair for the next time you want to interact with the token
Hello everyone! I had a simple question for you üôÇ I ask it! (If it's not allowed to delete the comment) I created a token (I'm waiting for it to "fork" as they say, but I'm not talking about that, I created a token from a virtual machine does it have to run 24 hours a day for my token to work or not I need to open the VM only when I need it (ping me if you have the respond)
Or is it just a regular RPC?
The code for https://explorer-api.mainnet-beta.solana.com/ for example.
I'm trying to create a more in-depth solana explorer. Where exactly is the api source code for the explorer?
Getting this error  Error: failed to send transaction: Node is behind by 660 slots
The same error has occurred to me, any idea how to fix this?
[2021-12-24T15:55:54.428294674Z ERROR solana_core::cluster_info_vote_listener] thread Some(‚Äúsolana-cluster_info_bank_send‚Äù) error CrossbeamRecvTimeout(Timeout)

https://discord.com/channels/428295358100013066/560503042458517505/923598560644186132
Probably https://docs.solana.com/developing/clients/jsonrpc-api#gettransaction
How to get the full transaction body by signature?
Does the getSignaturesForAddress result also include contract transactions?
I have no idea where this error comes from, any idea how to fix this?
```
Uncaught TypeError: Cannot assign to read only property 'solana' of object '#<Window>'
    at Object.dispenseInjectMessage (solana.js:45)
    at solana.js:45
    at HTMLDocument.<anonymous> (solana.js:39)
    at n.dispatch (solana.js:39)
    at n.send (solana.js:39)
    at n.sync (solana.js:39)
    at new <anonymous> (solana.js:45)
    at Module.2202 (solana.js:45)
    at r (solana.js:1)
    at solana.js:1
```
How to get payment through solana smart contact ?
Please help me üò´ üò´ üò´
How to get payment through solana smart contact ?
Please help me weary weary weary
Probably https://docs.solana.com/developing/clients/jsonrpc-api#getsignaturesforaddress
Is there an api endpoint for example
wallet address I mean
How to get payment through solana smart contact ?
Please help me üò© üò© üò©
What kind of address?
Hey <@!134416332509675520>. please let me know  can I somehow get information about transactions at a specific address, or do we need to parse blocks?
I think this is a key thing people get super confused about with solana: if you want to mutate an account's data or spend its money, you have to go through its owning program (*only* its owning program has the right to mutate its data or spend its money, not possible to do it any other way)
So if you have a `Account<'info, Whatever>`, you just can't use the system program to transfer with it as the source‚Äîthere's no way the system program owns that account, so it just doesn't make sense to ask the system program to move the funds
That error message is kind of misleading, the issue you ran into is that the account with data isn't owned by the system program‚Äîso regardless of whether it had data in it, the system program couldn't transfer the funds because in solana only an account's owning program can spend its money
Ok thank you very much. Does the limitation to withdraw SOL from an account if it has data only apply to accounts owned by SystemProgram or in general to all ? Is it possible to do something like Account<'info,_> or should this be AccountInfo<'info>? Just trying to go around the problem of  `'Transfer: `from` must not carry data'`
Just to elaborate, you could also escrow the funds in an account owned by your program, but in that case you can't use the system program to de-escrow the funds (the account is owned by you program, not the system program, so it's up to *your* program to do the de-escrow transfer, e.g. with `try_borrow_mut_lamports`)
"Pass as an account" = with its pubkey
You would just pass it as an account, yeah. You only need the bump when you subsequently de-escrow the funds (you'll need it when you `invoke_signed` to the system program's transfer instruction)
So I would just pass the pubkey and bump as an argument instead of the instruction struct? Or would I put it in the instruction struct with eg, AccountInfo as type?
Hello. Have questions about Solana. can I somehow get information about transactions at a specific address, or do we need to parse blocks?
Because it lives at a PDA derived from your program, and the account itself is owned by the system program, you can then subsequently transfer the escrowed sol by using `invoke_signed` with `system_instruction::transfer` , since your program can sign for the address.
You can escrow sol in a regular system program account that lives at a program-derived address, derived from your program. You actually don't even need to init the account‚Äîjust pass it as an account from the client (again, no need to init anything!) with a suitable PDA address, and then transfer it some sol within your program
Tried to write up my question with more formatting here: https://www.reddit.com/r/solanadev/comments/rnodg2/sol_escrow_pda_with_anchor/
So this means I can't upgrade it anymore?
Ah... seems like it's the case, my mind strayed too far..
Can you add any code at all and still deploy? I wonder if you've just run out of space (the upgradeable deployment process allocates 2x your initial program size, but you can run out of space eventually)
No, you'd have to pass the JSON into your program as instruction data (your contract can't read anything from the outside world‚Äîyou have to pass it into the contract)
(I want to read some metadata from an NFT, with the attributes hosted on Arweave)
Hello Guys, 

Do you know if a Solana smart-contract can read a JSON file from Arweave ? If so, do you have any example ?
Hello, first time posting here!
I'm trying to deploy a program with this instruction:
```rust
fn transfer(ins: TransferInstruction, accounts: &[AccountInfo]) {
    let accounts_iter = &mut accounts.iter();
    let from = next_account_info(accounts_iter).unwrap();
    let to = next_account_info(accounts_iter).unwrap();

    msg!("Transfer: {:#?} -> 1", from.key);
}
```
But I get the following error: 
```
Error: Deploying program failed: Error processing Instruction 0: account data too small for instruction
```
It only gets deployed after I comment the line with the `let to` any idea what originates the error?
Hello, does someone know of  a collection of useful sol programs? I am searching for a simple staking program I can use (only used on localnet for testing)
Hello Solana Community,

I have published a Kotlin Solana library: https://github.com/guness/kSolana
A small kotlin port of solanaj.

Is there a way to list the library on the website?
```
Argument of type '(foo: ArgumentMap<WalletAdapterEvents>[Extract<T, keyof WalletAdapterEvents>][0]) => Promise<void>' is not assignable to parameter of type '() => void'.
```
hm seems like there is nothing to pass
Hello is anyone using solana and arweave together? How are you handling token conversions SOL and AR?
Connect your Dapp to a backend.
Hey! Could you please explain, how Phantom wallet figure out an "estimated balance changes" ?
I am working on a dapp that sends transactions on my behalf and I need to pass my keypair object to sendTransaction. Could you please advise me how can I do that in the most secure way? As my dapp runs client-side I cannot embed the secret key in the app to generate my account's keypair.
Hello everybody.
To learn solana/anchor I'm trying to implement a simple lock program (code here):
* Owner creates a vault where they can pay in SOL
* Authority can unlock/lock vault
* Owner can withdraw SOL only if account is unlocked.
I'm struggling to find a pattern how to escrow SOL. My first idea is to store everything in one pda account.
Initialization, locking and unlocking is working. But I'm struggling with withdrawl:
But I'm getting:

  logs: [
    'Program E41ZWCPjxsHmAv6DhUdfduj8W2bt7VCnq4RiypAL1RYc invoke [1]',
    'Program log: Withdrawing 1000000000',
    'Program 11111111111111111111111111111111 invoke [2]',
    'Transfer: `from` must not carry data',
    'Program 11111111111111111111111111111111 failed: invalid program argument',
    'Program E41ZWCPjxsHmAv6DhUdfduj8W2bt7VCnq4RiypAL1RYc consumed 5027 of 200000 compute units',
    'Program E41ZWCPjxsHmAv6DhUdfduj8W2bt7VCnq4RiypAL1RYc failed: invalid program argument'
  ]
After some digging I think I found out, that you can't withdraw from pda accounts with data.
So here are my questions:
If I generate an account via #[account(init)], who owns this? SystemProgram or my program?
Are calls like invoke always calls to SystemProgram? I initially thought so but
seems to work without passing it. But if I try to omit SystemProgram in the withdraw function I get an error that an account is missing.
Can pda accounts with data not have SOL deducted if they are owned by SystemProgram or in general? Assuming my PDA is owned by the lock program it looks like it.
If so what would the pattern look like to escrow SOL?
Does the lock program create a second escrow PDA in the initialize function without the client needing to specify it? If so how?
Does the client need to generate a second PDA that only holds SOL and no data? Something like?
#[account]
pub struct LockEscrowAccount {} I tried this but I get the same error message.
I know many questions, but thank you in advance.
<@&439193644826755093> help pl0x
I have a question related to token can I ask it here ?
This github is deprecated
https://github.com/solana-labs/ecosystem
How do we update our project on Solana.com/ecosystem?
Hi
Hey all
```typescript
/**
 * Load (read) a file
 * @param {string} path - to file
 * @returns {Promise<string>} - Json string
 */
export async function get_file_content(path: string): Promise<Result<string, Error>> {
    return Ok(await fs.promises.readFile(path, 'utf8'))
}

/**
 * Load (read) a Keypair from file
 * @param {string} path - to file
 * @returns {Promise<Result<Keypair, Error>>} - Keypair or Error
 */
export async function get_as_keys(path: string): Promise<Result<Keypair, Error>> {
    const secretKeyString = (await get_file_content(path));
    if (secretKeyString.ok) {
        return Ok(Keypair.fromSecretKey(Uint8Array.from(JSON.parse(secretKeyString.val))))
    }
}
```
yes <@!814228493302497301> keypair is on my local machine
Is keypair for the wallet on your local drive?
I had created a wallet, i want to use that in web3js to perform transaction, can anyone help me how i can access my wallet in web3js. I tried to search but nothing found till now. CC: <@!195044797134798848> <@!814228493302497301>
`b"255"` is actually a string that you turn into bytes. you'll want something along the lines of `&[255]`
<@!814228493302497301>  üò¶ how to directly add the bump seed into the seed phrase if i know its value, for instance 255. üò¶
hi sol devs
what would happen if a block is skipped
should arbitrageur use processed instead?
nvm went and read the source (duh) - https://github.com/solana-labs/solana-program-library/blob/cd8d79a2b4aa4f90c02514d762ab21023449b6cb/token/js/client/token.js#L384
does anyone have an example of creating a token mint (JS-side) by manually crafting the tranasction? I've always used `Token.createMint()` but can't do that on the front end with a wallet üòÑ
Per msg
Hi everyone! 

I just created a pull request for my new crypto token but would be curious to know if the wait time is really 2 weeks for the details to be set into the main branch? It's my first time and i'm just really curious
```any discord integration that isn't mainstream or mainly spoken of to verify minters/holders something like collab land?```
Hello, I want to do token swap with wrapped token, for this task i need to create a script, can anyone help me how i can do that? Is i need to wrap token manually or we have any function available in web3 library.
in short how do i concat the bump seed to the seed phrase is the only way, converying b"escrow to a vec and pushing the bump seed and then passing that to create_program_address or is there any other way to do it directly if i know the bump seed
hey been trying to figure this out for a while now,. trying to generate a pda on chain after getting the bump off chain, how would i go about concatting the  seedphrase with the bump seed on chain to get a pda address using createProgramAddresss ? 
"        let pda= Pubkey::create_program_address(&[b"escrow",b"255"], program_id)?;,  -- THIS IS WRONG
"
i calculated the bump offchain to be 255, is it possible i directly concat 255 to the seed phrase "escrow" and generate a pda address, just wanted to see how its done, its not the best approach i know, just wanted to figure it out.
Hi. I have Set up non-voting validator in Devnet, but the validator down with the following error after a while.

RPC connection failure: error sending request for url (http://0.0.0.0:8899/): connection error: Connection reset by peer (os error 104)

How can I avoid this error?
I'm using the JSON RPC API and I wanted to ask that if I have a token mint address, what sequence of methods do I need to call to retrieve the token's transactions?
What is the best and cheapest way to transfer USDT from Solana to Ethereum efficiently?
https://docs.metaplex.com/sdk/js/getting-started#your-first-request
this example seems not working now
https://docs.solana.com/developing/programming-model/runtime#compute-budget

Msg! Cost is 100 per msg or per character?
Is there any change in `@metaplex/js`? I found below not working now
```
import { Connection, programs } from "@metaplex/js";
...
await programs.metadata.Metadata.load(
      connection,
      tokenPublicKey
    );
```

error :
```
TypeError: Cannot read properties of undefined (reading 'Metadata')
    at _callee13$ (candy-machine.js:363)
    at u (blocto-sdk.umd.js:3)
    at Generator._invoke (blocto-sdk.umd.js:3)
    at Generator.next (blocto-sdk.umd.js:3)
    at asyncGeneratorStep (App.jsx:141)
    at _next (App.jsx:141)
    at App.jsx:141
    at new Promise (<anonymous>)
    at App.jsx:141
    at getMetadataByPublicKey (candy-machine.js:359)
```
Is there anyway to use the rpc subscriptions in web3js?
any told the reason behind it 
```
Error: Signature verification failed
````
Error: Signature verification failed
I'm getting this error when asking for an airdrop on devnet, airdrop request failed. This can happen when the rate limit is reached.
If I were to test reading NFT Metaplex metadata from a smart contract, should I deploy both a Metamask smart contract & mint an NFT to testnet, and a 'game' smart contract to read the metadata via CPI, using 'packed instructions' (aka structs to interface with it)?
I don't think I can test this locally otherwise, since presumably my testnet smart contract can't access mainnet NFTs.
I'm thinking I should be using the PDA somewhere in there 
I'm very new to this but I wanted to know if this conceptually on the right track
when you send a tx with the rpc client and have an error `ClientError` type, how can i retrieve the program logs?

for example if you print `println!("{}", err);` it doesnt show the program logs, but `println!("{:#?}", err);`  the program logs are shown, and im looking to just isolate those logs from the client error type
How can I introduce the fees on an SPL token such that on every transaction, 5% of the whole amount,  goes back into liquidity.
technically your SOL address can owned unlimited accounts of token.

(FYI your SOL address and your token address are different address)
Anyone know is there any limit about how many tokens can hold a single address?
Hi, I'm trying to build a no voting validator in Devnet. However, it takes a very long time (over an hour) after running the sonala-validator command before it is reflected in the solana gossip list.  Is this normal? The machine specs are 4cpu, 16GB memory. It is the spec too low in Devnet? Also, the second and subsequent launches take about the same amount of time as the first launch, is this also normal? Thanks.
Hey guys. I created a market recently on serum and I think I made a mistake with tick size so dexlab won‚Äôt let me trade under $0.01. Current price on raydium is 0.0002. Is there a way to fix that? Thanks
Yea I like NFTs . Please share the link to your server.
Sure. Happy to help. Good thing you fixed it. Just wanted to mention that if you like NFTs - I am starting a project. 
Let me know if you'd like me to send you a link to my project server. Thanks.
https://jstarry.notion.site/Transaction-Fees-f09387e6a8d84287aa16a34ecb58e239
you have to pack a recent blockhash into your tx before you send
can you pls provide any examples ?
what is blockhash ? here
Hello all! I am using candy machine as prototype for minting nft and I notice that once I refresh the page, the phantom account will auto logout. 

I want to do the same thing as https://trade.psyoptions.io/#/markets , when refreshing the page, the browser will detect if I‚Äôve connected before and help to auto login the phantom account. Is there any way to do so?
Finally able to solve it. It was just that Node Js buffers & Javascript buffers are a bit different and we need to get the Uint8Array before sending it to Node Server. Thanks a lot for the help. <@!604784653005619230> Really appreciate your help.
https://docs.solana.com/developing/clients/jsonrpc-api#getfees for solana-core 1.8
https://docs.solana.com/developing/clients/jsonrpc-api#getfeeformessage for solana-core 
1.9

about feeCalculator
 https://docs.solana.com/implemented-proposals/transaction-fees#fee-parameters
Hai , How to get gas Fee from solana ?
not sure what's happening on your side.
you can take a look here
https://solanacookbook.com/recipes/offline-transactions.html#sign-transaction

try to log your success tx and failed tx to compare what's different.
<@!788215642070581289> thanks
try to set a bigger number to `--limit-ledger-size` when you start a test validator.
the more informations can refer to `solana-test-validator --help`
Is anyone using solana and arweave together? How are you converting from SOL to AR tokens?
hey y'all! was hoping to validate an idea here really quick. we have early access keys for our card game we'll be selling very soon. they're not generative, they're all the same beautiful artwork, but they're good for 5 copies of each of 7 decks at mainnet. the plan has been to just eat the cost of minting because solana is so cheap so we would just mint the supply to an address then list inventory from there. i think the metaplex storefont lets us anchor the price to USD right? so we could use that with our custom frontend to connect phantom, etc and do things like limit to 2/wallet etc? would love to know if i'm making sense. stepping away for dinner but will be back this evening thanks!! <:thanks:916078549700583464>
I'm running getSignaturesForAddress and it finds the transactions I want immediate after I run the transaction. IF I wait a minute and try again, it disappears. I am using a test validator on my local machine. Is there a setting change to extend the history?
<@!134416332509675520> you're right. Thanks!
0x32 = 50, 0x64 = 100, so just a hex formatting issue
I see, the type of dev im looking for is a little more on the complex side and not as easy to find in those communities.. so i came directly to the sol discord to try haha. 
Thanks though....
connect = web3, token = spl-token
Why does token.getAccountInfo() have a different amount than  connection.getTokenAccountBalance(). The first one returns 32 versus the second returns 50. If I send another 50 tokens, the former returns 64 and the latter return 100
My guess is you need some arguments to the closure you're passing there (not sure which ones, so idk, maybe try passing `(foo) => { ... }` instead
I have a variable: `const walletStore = useWallet();` 
and use it here:
```js
walletStore.adapter.value.on("disconnect", () => {....
```
this is my error:
```
TS2349: This expression is not callable.
  Each member of the union type '(<T extends "connect" | "disconnect" | "error">(event: T, fn: (...args: ArgumentMap<WalletAdapterEvents>[Extract<T, "connect" | "disconnect" | "error">]) => void, context?: any) => WalletAdapter) | (<T extends "connect" | ... 1 more ... | "error">(event: T, fn: (...args: ArgumentMap<...>[Extract<...>]) => void, cont...' has signatures, but none of those signatures are compatible with each other.
    164 |           await refreshCandyMachineState();
    165 |         });
> 166 |         walletStore.adapter.value.on("disconnect", () => {
        |                                   ^^
    167 |           walletConnected.value = false;
    168 |         });
    169 |       }
```
what did I do wrong?
Hi Dmitry... Thanks a lot for the input... I have checked it by making a new transaction in a lambda function, signed it, and sent it and it is working fine... The problem I am facing is when I send serialized/serialisedMessage from the client to AWS Lambda.. somehow it doesn't get parsed properly in lambda. When I try to sign via Transaction.Sign() or when I try to connection.sendTransaction(transaction, [keypair]) it is giving me error: object is not iterable (cannot read property Symbol(Symbol.iterator)). Any idea how I can safely send data across network? <@!788215642070581289>  You also please let me know if you have any idea on how to send transaction on netwrok
Or 100 for a single msg! Call
100 per char?
not sure there is a specific place as of yet. lots are sourced from within the communities and social nets.
a decent amount. 100 still I think:
https://docs.solana.com/developing/programming-model/runtime#compute-budget
meant to be used sparringly
does msg! cost a lot of compute power?
don't want to just post and ask, so thought here was a good place to ask. sorry if I'm wrong
is there a place here we can look for devs?
ok gtn. thanks!
wasn't running as an admin
what was it?
just got it work thanks for the help
windows? would generally be a client/app related privilege need to run as admin, and or grant certain permissions to some disk, folder, or app being used..
I keep getting this error on windows when trying to download the tool kit, A required privilege is not held by the client. (os error 1314). Any advice?
You usually get that error if you're converting a pubkey into a string (not what you want to do, just do `some_account.key.as_ref()`)
Can you post the syntax you're using?
Yes. The PDAness of the address only affects how you sign for it, it has (almost) nothing to do with the account itself that lives there
I will explore more about PDAs, Thank you. One quick question, Can we create PDA with no data in it? if possible I can search and find this out.
This one resolved my issue, I had changed my seed to only user account key because when I was appending prefix to it, I was facing following error:  

Program failed to complete: Could not create program address with signer seeds: Length of the seed is too long for address generation
Without CPI
If you're within the program, you should be able to debit and credit PDAs
Also, please post your resolution
You can't use system transfer when the account has data in it
I resolved the above issue related to sign the transaction from PDA. Thanks üòç 

I got one more error "'Transfer: `from` must not carry data'" as I am invoking system_instruction::transfer instruction. Is it possible for a PDA to transfer SOLs out of it?
thankyou
Try metaplex https://discord.gg/UxdZjtbP
^to arweave
when uploading a project of 10000 is there anyway to speed it up or does it just take forever and stop alot??
Side*
This is what I did, buffer.from(Uint8Array.of(new BN(1).to array('le',8)) but on the program sie the msg log shows the number 1280
Yes, I have to pass the signing seeds which is currently missing
associated token account in SPL should have a relatable reference..
does anyone have an example of sending batch requests to the json rpc?
Any idea how to properly send a u64 on the client side as instruction data and retrieve this u64 on the program side from the instruction data array and remake this u64 from that array ?
you can clone pda.. its just an account.   not sure where u were getting auth from.  you pass PDA account, and signing seeds.
you can also,    `bytes = key.to_bytes(),  seeds = [&bytes[..32], &[bump]]`   * where bump is a u8
Yes, it understood the point, the issue I was facing when I was trying using only .clone on PDA without passing signatures, it was saying unauthorised
it depends on what your passing in,  and you can also use  account.key, or just account, or .clone().  whatever is being passed in should become readable as an account, you can only clone what accounts you pass in.
Where do I import the function `loadWalletKey()` from?
Just saw that on SOF and was wondering where that person got that from
but when I am unrolling using .concat, I am getting a different type
unrolling the last nesting
it seems, I have to convert `&[&[&[u8]]]` to `&[&[u8]]`
clone doesn't seem to work for PDA
typically your passing in bytes as seed,  where seeds: `&[&[u8]]` and when invoking referenced as `&[seeds]`.  for `accounts your passing`, you typically just `&[account.clone()]`
I was hardcoding "user" and "admin" to know which accounts are created by user and which are created by admin
are you just going to hard code those values into the program? are are you actually trying to use references that can be passed in?
It seems to do it same way 

```
# https://dev.to/fndomendez/exploring-program-derive-addresses-pdas-with-solana-anchor-and-react-19bm
    anchor_spl::token::transfer(
        CpiContext::new_with_signer(
            ctx.accounts.token_program.to_account_info(),
            anchor_spl::token::Transfer {
                from: ctx
                    .accounts
                    .escrowed_tokens_of_offer_maker
                    .to_account_info(),
                to: ctx
                    .accounts
                    .where_the_escrowed_account_was_funded_from
                    .to_account_info(),
                authority: ctx
                    .accounts
                    .escrowed_tokens_of_offer_maker
                    .to_account_info(),
            },
            &[&[
                ctx.accounts.offer.key().as_ref(),
                &[ctx.accounts.offer.escrowed_tokens_of_offer_maker_bump],
            ]],
        ),
        ctx.accounts.escrowed_tokens_of_offer_maker.amount,
    )?;
```
That's what that guide you dropped is doing
`CpiContext::new_with_signer`
Looks like anchor does cpi differently?
I am a bit stuck as I had set seed like  seeds =["user".as_bytes(), user.key().as_ref()] in the anchor. So how to convert it into the format below? 

```
invoke_signed(
  &the_instruction,
  &[ ... the accounts ... ],
  &[
      &[b"first pda's seed".as_ref(), &[first_pdas_bump]],
      &[b"some other pda's seed".as_ref(), b"it's got two".as_ref(), &[second_bump]]
  ]
)?;
```

Error I am getting, I have searched and tried the concat method but that gave me a different data type Vec instead of [u8]

```
expected `&[u8]`, found array `[&[u8]; 2]`rustc(E0308)
lib.rs(61, 17): expected `&[u8]`, found array `[&[u8]; 2]`

&[&[["user".as_bytes(), user.key().as_ref()], &[bump]]]
```
Also some information here https://solanacookbook.com/recipes/programs.html#how-to-do-cross-program-invocation
This is lovely, I am trying this out üòä
You can think of `invoke_signed` as `invoke_with_additional_pda_signatures`, since the point (relative to its sibling, `invoke`) is to sign for some PDAs (PDAs can only be signed by their deriving program, so not possible for the client to have already signed for them‚Äînow's the time if the CPI you're doing requires a signature from an account that lives at a PDA)
```.rs
invoke_signed(
  &the_instruction,
  &[ ... the accounts ... ],
  &[
      &[b"first pda's seed".as_ref(), &[first_pdas_bump]],
      &[b"some other pda's seed".as_ref(), b"it's got two".as_ref(), &[second_bump]]
  ]
)?;
```
Nice, and how to provide the seed and bump part?
Fwiw, I thought it was easier to understand PDAs by just reading their source. They're actually pretty straightforward under the hood: they're just a sha256 hash of seeds + bump + program_id (plus a fixed string, not super interesting). `invoke_signed` lets the deriving program (and only that program) sign for the address by providing the seeds + bump part.
Devrels halp!
Thanks buddy, I was referring to this one https://dev.to/fndomendez/exploring-program-derive-addresses-pdas-with-solana-anchor-and-react-19bm

Do you know any other good resource, I should go through
You should also read about how PDAs work.
You should pass the seeds used to create the PDA there
invoke_signed is asking for signers_seeds parameter also, should I pass &[] there?
It marks PDA as signer for all provided seeds
does invole_signed contains the sign of PDA too?
I am using invoke
are you using `invoke_signed` ?
I am getting this error: Error: failed to send transaction: Transaction simulation failed: Error processing Instruction 0: Cross-program invocation with unauthorized signer or writable account
How do we sign this call system_instruction::transfer with PDA?
Thanks ü§ù
Should be cheap, 'cause secondary index
So yeah gPA with a size filter for token account size and memcmp filter for the mint value
Oh... Hrm that must be the one I always misremember ü§î
if there's some set of debug steps i can quickly run the next time i see the transient issue, would be happy to do so... i should have my own validator soon üôÇ
I didn't see this in https://docs.solana.com/developing/clients/jsonrpc-api
the images I uploaded were automatically compressed to a weird ratio
Hey, how do I edit a submitted project to the ecosystem?
Same gPA call should hit the secondary index if enabled
I think there's a `getTokenAccountsByMint` method in JSONRPC already
While I got you, any suggestion on how best to get all token accounts for a mint? Would this need to be a gPA call?
Thanks trent üëç
At least needs some runtime changes to be able to fit proofs in transactions
Not ready AFAIK
Gm all, anyone know the production ready state of `spl-zk-token`?
What are your system specs?
I've uninstalled rust and installed it again. exited my terminal and made sure all the paths were correct
Would appreciate any ideas from anyone
It usually says killed when building 18/472 regex-syntax
im running this command $ cargo install spl-token-cli
Hello everyone, When I try to install the SPL token command line utility I get an error that says killed. Im running the latest version of rust 
rustc 1.57.0 (f1edd0429 2021-11-29)
Hey. Don;'t know if you fixed this yet, but I remembered I had an issue with undefined something because I had an old Node version. Check that too.
in order to use that convenience object (Token),  you set a Signer 'payer' , which is essentially a keypair.
Excuse me. If there is a way to get the Keypair from an account which is gnereated from `Token.createWrappedNativeAccount`?


///////////////////////////////////////////////////////////////////////////////////////////////

that would be helpful
can someone airdrop on devnet to this address some sol 28osApPRFHegdk67kL4miiPtwp6H52daptvyDQfUGkRH
Hey guys
^bump
Hey can anyone who knows how to change the connect wallet button from Material UI to React UI help me? would be greatly appreciated! üôÇ
<@!814228493302497301>  everytime i wanna serialize something on js side, do i need to create a schema and class, or is there a easier way to do it, for example if i just want to convert a simple uint64 in js to a u8 array inorder to pass it as instruction data, would i still need to create a schema for this or is there a easier way  to do it using borsh ?
Morning team (merry christmas!) 

Does solana support any type of composable token standard (akin to erc998?)

If so, are there any marketplaces that currently support that protocol?
Hello. Is there a way to add extra data to transaction ?
thx <@!195044797134798848>
i see
ah like quicknode
i don't have a list of them at hand, you can google for "solana rpc" to get a couple different ones
at where can i pay for the service?
run your own node or pay for an api service without rate limits
if i delay the api call, the latest block would be way far ahead
getBlock is being rate limited too easily is there any ways to overcome this?
run a central backend server and give each client a unique key, they can request a signed transaction from the backend via their key. key never leaves the backend
also, sometimes it skips some
logsNotification websocket is returning the same data twice sometimes. Is this a bug?
I am working on a dapp that sends transactions on my behalf and I need to pass my keypair object to sendTransaction. Could you please advise me how can I do that in the most secure way? As my dapp runs client-side I cannot embed the secret key in the app to generate my account's keypair.
Hello, why token-list doesnt automerge anymor?
Say I have an app, and want to display all of the user's Metaplex NFTs for my own app. And if the user has like 300 NFTs in his account - it takes ages to pull the metadata from each one, in order to check the updateAuthority to see if they are NFTs for my app.
Is there a better way?
Can anyone help me with sending a transaction that greater than the max txn size? I am trying to send multiple raydium swaps at the same time, but even just 2 swaps is already greater than the max. I have read briefly that there is something about adding the addresses in other contracts and then finalizing the transaction with a contract? Clearly I don't understand this well so any help is appreciated üòÑ
is there a zk discussion channel?
Hey can anyone who knows how to change the connect wallet button from Material UI to React UI help me? would be greatly appreciated! üôÇ
once the account is created (and the program has write privileges to it), you can change the data inside it with subsequent transactions
yes
Hey is it possible to create and store data in a data account in one transaction, but 2 separate instructions. Instruction1: create account, Instruction2: store data into account. ?
Hi all! I had a question about interpreting some Solana JSON RPC data for transactions.
Take this example result of `getTransaction`. What order are these balances supposed to be in? I assume an index of `preBalances` is for the same account as the same index in`postBalances`, but how does the order of the arrays relate to the transaction and accounts involved?
```json
{
    postBalances: [
        87976640,    2039280,
        2039280, 7851525294,
        1461600,          1,
        1089991680,    1009200,
        1141440,  898174080
    ],
    preBalances: [
        90020920,          0,
        2039280, 7851525294,
        1461600,          1,
        1089991680,    1009200,
        1141440,  898174080
    ],
}
```
all good, perhaps i'll try to restart get an older version used in a tutorial im trying to follow. I appreciate you taking the time to have a look though!
I have enough experience with npm. / yarn but not with solana and web3 on js dev world though
kinda using a mismatch of Node and other dependencies
<@!407000935856996363> I'd blame it on a versions compatibility issue
sorry, reading the gist now
which sort of conflicting files
says i have conflicting files; is there a way to delete or overwrite those existing files?
https://gist.github.com/Caardaky/c654cfa14879e862d88e1a8b2866e891
upload the giant block of text into a gist <@!407000935856996363> and share the gist URL
then gives me a giant block of text
PS D:\NFT\metaplex-master\js> yarn build
yarn run v1.22.17
$ lerna run build
lerna notice cli v3.22.1
lerna info versioning independent
lerna info Executing command in 6 packages: "yarn run build"
lerna ERR! yarn run build exited 2 in '@metaplex/cli'
lerna ERR! yarn run build stdout:
$ tsc -p ./src
../../node_modules/@project-serum/anchor/node_modules/@solana/web3.js/lib/index.d.ts(2,1): error TS6200: Definitions of the following identifiers conflict with those in another file:
<@!407000935856996363> does it write an err output file?
did you ever figure out how to fix the yarn build problem?
i install it, works fine, i run the bootstrap, works fine, but when i run the build, "lerna ERR! yarn run build stderr:
error Command failed with exit code 2.

lerna ERR! yarn run build exited 2 in '@metaplex/cli'
lerna WARN complete Waiting for 3 child processes to exit. CTRL-C to exit immediately.
error Command failed with exit code 2.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
PS D:\NFT\metaplex-master\js> "  this happens
Hey guys, newbie here. I'm not sure if anyone whould be familar with handling errors when trying to run yarn?
Why would a 10 SOL airdrop on devnet fail?
ok thanks <@!664625875274301440>
what's the diff between these? aren't they equivalent in practical terms?
I can see there's testnet and devnet, on devnet at explorer I can see my SOL
then I went in and airdropped me
what's the error ?
I had set config to testnet before
Hi I just tried creating a wallet via 

`solana-keygen new --no-passphrase --no-outfile`
Thanks man, I will see this. Merry Christmas from Chile!
Thanks man!
nft candy machine , metaplex foundation standard for NFT metadata
you can use that one
gotcha, thank you!
a tx charged by number of signatures for now so 
`does it cost more to update 100 accounts than it does to update 1 account` 
it depends on how you update it.
and basically I don't think you can update 100 accounts at one tx due to tx size limit.
^ in terms of Solana gas fees
For one transaction, does it cost more to update 100 accounts than it does to update 1 account?
I think you'd only ever say "mint"
What does it mean to mine or mint an nft? Are they the same thing?
ugh, it resolved. after ~8 minutes. i did capture some debug.
<@!213083996689661953> i don't suppose you're around rn? i have an example transient missing tx history, and the history also doesnt get returned from the patched validator
hi I have a problem with Merging I got an error but is my code okay ? :

  //other token ending//  },
    {
      "chainId": 101,
      "address": " Adress****",
      "symbol": "***",
      "name": "****",
      "decimals": 0,
      "logoURI": "logo file on github",
      "tags": [
        "change-the-world"
      ],
      "extensions": {
        "Website": "****.com",
        "Discord": "****"

    }
  }
  ],
  "version": {
    "major": 0,
    "minor": 3,
    "patch": 3
  }


Tag me if it okay I need help and I know like other people is merging so do I need to close my request and redo it or i can click on source Control (vb web) ? 

If i can't post this here delete this üôÇ
how long should it be like that?
--faucet-sol argument ignored, ledger already exists
Waiting for fees to stabilize 1...
Well, I appreciate any and all help! I have few questions in regards to `connection.onProgramAccountChange`, would I be able to use this method to listen for changes to an Associated Token Account created by an SPL token minting program? The second part is in regards to the `KeyedAccountInfo.accountInfo.data`, which I gathered is the state for the account to persist between transactions. If a token was minted or burned to such an account would that data change?

The last question is that I can see that the `KeyedAccountInfo.accountInfo.data` is returned as a `buffer` is there a built in function to parse this data into a more human friendly representation of it?
It's a place that often fields such questions.  Whether we're any good at it has yet to be determined
Is this the best place for `@Solana#3014/web3.js` questions?
?
Something like , create program address(&[b"escrow",&[255]],programID)
So the implementation I saw in findProgramAddress, it turns it into a vec and pushed a &[u8] but if my seed phrase is escrow and my bump seed is 255, how do I create a seed phrase with 255 directly integrated and only call create program address on chain
and then later,
```
    program::invoke_signed(
        &system_instruction::create_account(
            payer_account.key,
            &uniq_pda.key,
            rent,
            1,
            program_id
        ),
        &[
            payer_account.clone(),
            uniq_pda.clone(),
            sys_account.clone()
        ],
        &[uniq_authority_seeds]
    )?;
```
ie something like this
```
    if uniq_auth_key != *uniq_pda.key { return Err(MintError::AlreadyMinted.into()); }
    if uniq_pda.data.borrow().len() > 0 {
        return Err(MintError::AlreadyMinted.into());
    }
```
joining late and don't want to read everything but if you make a pda of nft_mint + nft_owner and create that account, you can easily check this by calculating the uniq_pda client side and passing that in and if the data length is > 0 you know it's already been ran for that client with that nft. you can do the same per nft by deriving the pda with only nft_mint + some string
Solana seems like a great platform for these kinds of games because it's pretty inexpensive to do a transaction and play a move.
So an off-chain client can look at the transaction data for the tokens and calculate and display the current game state
With the change in state basically being represented by transaction data that gets validated by some on-chain program
In general, I have a variety of ideas for on-chain games and collaborative projects that involve using tokens as permission to change some global state
Super helpful conversation for which of the project ideas I have are more-or-less feasible and have the right incentives for participation
right, I'm saying if I were looking for some kind of "proof of sale"
you don't even have to sell it on a marketplace, you can just transfer it since NFTs are just regular tokens
at the very least this is all a good exercise in me understanding the restrictions of this platform
interesting model to be working in
And like I don't think cross-program invocations with marketplaces would help me bc you can sell an NFT on any marketplace, they aren't vendor-locked
right
Since the program can't verify that a sale was made on another program, right?
Yeah, that's where decentralization without identity makes things trickier
also a single owner can do the thing repeatedly without "selling" it by just transferring it between their own wallets. not sure what "the thing" is so i don't know if that's a problem
won't help ya
like hey, don't buy it if you were the last person to do the thing.
But that could just be a known thing with the program
yeah that's a good point
yes, that'll work and save money (only one PDA needs to be created per NFT), the only problem i see is that if someone gets the nft, doesn't run the transaction, then sends it back to the previous owner it wouldn't work
I just don't get to keep quite the benefits I thought I had from using previous transaction data to validate transactions
Thanks
Ok, crisis of doubt averted
That works for the "once per person per ownership" thing because it just has to enforce that the current owner doing the thing isn't the previous owner
And really I'd just need to make a PDA derived from just the NFT that stores the last person to perform the specific transaction. Then just reject if it's the same person trying to do it again
Ok, I think learning about PDAs is my answer here. I've been trying to use the transaction data as my database to save money, but it sounds like that's only going to work for off-chain RPC clients, not the program itself
Where I can read about data tokenization? I need to do an NFT with dta about one month. Someone with experience in something similar?
you could make a PDA derived off [nft, current owner] which just sets a flag for that owner token/owner combo to allow a one-time execution per NFT owner. it would create a lot of PDAs though. there's no way for programs to access their own transaction history to see if a previous transaction of a specific type occurred though
Hi guys, I am thinking in make project to make an NFT of solar energy data. It means that I need to insert data in each sequence of proof of history, typically between a range of 15 minutes. I am really new in Solana and I want to learn how to insert data in order to create an NFT of this solar data. For example, I want to create a document of one months of data such radiation, energy produced, wind speed. Can you recommend me some place to learn about data insert? Thanks!
Other than token owner
So like there‚Äôs no good way for an NFT collection to store mutable per-token data?
Lol, ok
Ok I‚Äôll come back in a few years when crypto actually figures out how to support applications
Can't do that on any chain I don't think (and certainly not on solana, whose entire performance model is about specifying which storage you need to read/write ahead of time‚Äîaka by passing an account)
Can‚Äôt query on-chain data from the chain. Lame.
Clients could just say "uh, I haven't invoked yet"
Man that really messes up my plans
I don't think that will work unfortunatley, you can't query that data on-chain
Since the information is all there on the blockchain
If no such account at that PDA yet, then they haven't invoked the function yet (so all god)
My goal is to store the relevant data just in the transaction logs and avoid storing extra data per token
Each new owner would have a separate PDA (the existence of which just stores the fact that they've already invoked the function)
So invoking the function would require passing proof of the nft ownership, as well as a PDA with, say, seeds = [ the_nft_owners_pubkey ], where you'd store a little object indicating invocation
Since that data could grow
Yeah, I considered that, but I‚Äôd want there to be a whole ecosystem of these tokens so I wouldn‚Äôt want to store the last-user per token
Like in my head the program would just reject the transaction if it found the user trying to use the token twice
Ah, ok. Well, you could use a PDA account to store the fact that someone has invoked the function
Even buy it back and do it once more
That wouldn‚Äôt work, the goal it to be able to sell or transfer it to someone else and they can perform the instruction once as well
You could have that invocation of the instruction burn the token
How can I use a token to allow a user to send an instruction to a program once and only once per ownership of the token?


///////////////////////////////////////////////////////////////////////////////////////////////

Hey what tools do I need to create a nft related android app with flutter ??
I believe it is `onXXX` function signatures for subscriptions. Check the `connection` methods
is it possible to create two transactions in one go with durable nonces? It would seem like it's not possible, since (I presume) the nonce can indeed only be used once, so the second transaction can't reuse the nonce, and we can't know the new nonce until we call `nonceAdvance`
How do i use the logSubscribe call. I've connected to  mainnet-beta and am calling it like this -  `const subscription = await solanaConnection.logsSubscribe({ mentions: addressArr });` but im getting an error saying logsSubscribe does not exist
You're the one!! Thanks
I guess you used a `Pubkey.toBase58()` to verify. You should use the raw pubkey to verify. try to use something like `Pubkey.toBytes()`
if you have Cdh3ocg1YLResC8A4rdTd81Rty8BvKMoyFuLLjrKoinb 's keypair file, try to add one more attribute `-k <keypair-file>`
Hey!
Iam a the dev and founder  of Sbp community, i was tranna create a token for our community and it went successfully but the token info like the logo  and name didn't show up on phantom wallet but it does in solscan, i really didn't know whats wrong ?
Hello, I am trying to verify a signature using https://github.com/dchest/tweetnacl-js/blob/master/README.md#naclsigndetachedverifymessage-signature-publickey , however my public key is 44 bytes long, and I am getting a bad public key size error since it expects a 32 bytes long key -- any workaround?
I  need help pls
~$ solana transfer --allow-unfunded-recipient   --fee-payer Cdh3ocg1YLResC8A4rdTd81Rty8BvKMoyFuLLjrKoinb   --from Cdh3ocg1YLResC8A4rdTd81Rty8BvKMoyFuLLjrKoinb  4CASLGRDzSNKyx81hLeH6NdNjGAUX7GDJCZJbyoJcW82 0.5
Error: Dynamic program error: missing signature for supplied pubkey: Cdh3ocg1YLResC8A4rdTd81Rty8BvKMoyFuLLjrKoinb
Why is missig that signature?
Where can I find that?
For sure. I've written a lot of docs and know how hard organizing it all can be. Thanks for your work on it.
Cookbook is a quick reference thing. Docs will be for learning all internals. Docs is just a bigger thing to do right now
Right. Cookbook was released recently. Lisen and I are working on how to structure the main docs as well. Just a ton of work
TIL SolanaCookbook.com is a thing - thanks for sharing. But... it seems like it's solving shortcomings of the main Solana docs. Would rather see those docs improved vs having a separate site with additional tips and explanations.
Getting the string byte literal of "escrow"
https://doc.rust-lang.org/book/appendix-02-operators.html#non-operator-symbols
Did you find what `b"escrow"` means?
We plan on adding this to solanacookbook.com
Thanks for the feedback. Trying to make this information more available
Similarly for the question about random. Docs say "Programs are constrained to run deterministically, so random numbers are not available." Great - but why are they constrained to run deterministically? I think there's an opportunity in a lot of places in the docs to teach readers who may not be experienced blockchain devs. Probably would reduce questions in here and also make it easier for new developers to adopt Solana.
"rug them" - I'm stealing this... much easier to say than "Pulled the sheep over your head" üôÇ
If I may make a recommendation, the docs could use more explanations for why you'd want to do one thing or another. Like for this question, a sentence or two explanation would go a long way for beginners like myself to understand the purpose better.
Makes sense
May make consumers of the program feel safer that you're not going to change it and rug them
What's the advantage to marketing a program as immutable using the --final flag on deploy? Seems better to leave the option open to modify it so bugs can be fixed.
So in 'pure' functional programs there are no side-effects (rand, I/O, etc.) so that you are guaranteed that given the same input you will always receive the same output. This aspect is common amongst many blockchains for consensus
Thanks
I think I see - because if the data can be influenced randomly, then the different validators in the cluster could reflect different data and therefore consensus would not be reached.
My understanding is that it needs to be deterministic for consensus to be reached
Hello Everyone
I am gonna submit program to solana ecosystem.
But when PR, I've got 403 error. its not allowed to from now on?
https://github.com/solana-labs/ecosystem/issues/911
Anyone know how to fix typos on links on the Solana Token-list for my SPL??? I typed twitter & coingecko links wrong and its horrible.
Related question - why do programs have to be deterministic? For example, why not support random numbers in programs?
Sounds like the answer is no üôÇ
I have done that locally so it is possible. Obviously not very useful through. That's what got me thinking about whether there's ever a real world program that wouldn't need state. Edit: Actually I think I was wrong about saying it is possible. Getting a "Error processing Instruction 0: account data too small for instruction" and "ProgramData account not large enough" error.
process -> ok()
I may be wrong, but you could write a program that does nothing at all. I don't know how useful that will be though
Thanks - are there programs that do not store state at all?
Programs should always store state in an account. Stateless logic in programs, state in accounts
Hey all - beginner question: in the hello world example (the Greeter one), there is code that creates an account for the program to store its state. Are there real-world programs that do not create an account to store state? If so, what are some examples?
Sounds right
My understanding is that solscan gets all transactions and labels/filters them. You can do that too
It looks like Metaplex proxies the Arweave upload via AWS. ie. you pay Metaplex in SOL and they upload to Arweave for you.
I don't think so today. I believe there were talks of it in the metaplex discord though
Hi, I'm wondering if there is anyway to pay for Arweave using SOL directly?
Wierdly easy, cant believe ive been banging against this wall for 2 days
So basically;

- getSupply
- getBalanceOfTokenaccount x howmany

Token balance - supply

Then just make an endpoint?
Just exclude them manually. The API call won't know what is considered "locked" or not. You'll have to have something on your side that filters them out
Hey guys, I've read through the RPC JSON API documentation and I can't find any way to get a list of all SPL Token transactions for an address? Can anyone help me out?
I use Raydium UI to help me with that BTW
Hi, thank for the answer i appreciate.
Alright i will dig into TX to find out what i need.
Raydium doesn't provide the code publicly. Guess Your only chance is asking to the team specificly for what you trying to achieve or analyzing the transactions they accepts and see what You can do
Is the devnet down maybe? The only net I can't reach
Hi again Jacob.

I could use getSupply, but that grabs the circulating supply of Solana, not any SPL.

There's also https://docs.solana.com/developing/clients/jsonrpc-api#gettokensupply which is more of what i'm looking for, but no way of excluding certain wallets (project wallets) to get the desired supply (true circulating supply)

Any ideas on how to go at this from the perspective of a rather bad but curious aspiring dev?
I try to interact with Raydium smart-contacts with my own smart-contract
Hey, guys is there any chance to see the code of a Solana program deployed on the blockchain?
Yooo dawgs, hoping over from Ethereum. Anyone have good resources on minting tokens through a DAPP?
Hi Devs, Imagine a much faster way to do SHA256 is discovered. lets say in half a CPU cycle , instead of usual 1.75 cycles .. how can It impact solana PoH, can I then generate alternate history .. what are the implications?
Hello ! I need help to setup my main net wallet into solana tools, i tried with my recovery phrase, and it didn't work could someone help me please ?
Yeps, I created the stake pool, started staking, time locked staking & unstaking & withdrawals over it.
Because right now as a developer this is the most difficult and discouraging part for Solana implementations
Hello everyone. I would like to ask you if Solana is considering to create some github repo or something in order for all the projects to put their layout structure of the data field. That way Solana RPC calls would know how to decode the base64 values of every project and then return json response instead of a base64 one. Do you know Solana Labs is building something like that?Thank you
ah my bad. be more careful next tim üôÇ
no problem! also, be careful, you've been pinging a different jon üòÖ
<@344855261770678273> it seems it cuts 1.8 before that commit. So i'll build from the source then. Thanks for your support.
Ah I see. You could build against a local checkout of `master` on the solana repo until we cut v1.9, or see if tauri has a previous version with compatibility. I'll look into upgrading this dependency on 1.8
<@344855261770678273> im using tauri js along with solana-client. tauri is using higher version of zstd which conflicts with client's version
I'm not sure to be honest, it may have to do with how the v1.8 branch was cut.  What's the issue you're seeing exactly? We may be able to resolve this through your Cargo.toml
<@!539801435571748868> is it bug?
It looks like the change wasn't backported to v1.8 for some reason: https://github.com/solana-labs/solana/blob/5a7b487e3d3cc105e6b0381f40edf81b55b33e0c/account-decoder/Cargo.toml#L27 which is very strange considering the update was done so long ago
You can create your own token using the spl token program, like here: https://spl.solana.com/token#example-creating-your-own-fungible-token after that, it'll be up to you to add the utility around it with some program!
Certainly! You can start on the quickstart guide: https://spl.solana.com/stake-pool/quickstart
You can get the `Clock` in your program using `Clock::get()` and then print the `unix_timestamp` inside of it
https://docs.rs/solana-account-decoder/1.8.6/solana_account_decoder/ dependency points to zstd="^0.5.1", but https://github.com/solana-labs/solana/commit/9bd02c95704faec6e275378fe4a9504618e232be#diff-4a1db74598b97a698dfc039ab434eb8890699fe3facac8ce20e259bec119b5e8L27 commit already updated to "0.9.0". Can you verify it?
thanks üëç
I'm adding AnchorPy to solana.com/ecosystem, anyone understand why this PR is failing? https://github.com/solana-labs/ecosystem/pull/869
Hi there, i'm having issues with solana-client crate which gives me zstd-sys version conflict. It seems conflicts comes from solana-account-decoder which depends on zstd="0.5.1" on crates but upgraded in the source 5 month ago. i don't know why latest version of crate dependency didn't updated. Can someone verify it?
I raised the PR in the Solana token list and its merged to the main branch updated the Token meta data for my specific SPL tokens
But its showing unknown tokens sometimes 
May I know the reason why?
Sends the whole transaction via udp to leaders TPU port.
Can we create utility token in solana? Is there any open source example on this? Utility token will related to nft
Hey guys, my PR request is approved in Solana ecosystem but my project is not listed. What could be the timeline for the listing?
PR: https://github.com/solana-labs/ecosystem/pull/770
Anyone knows how to do it?
Can we create our own spl token stake pool?
How to print to logs the unixtimestamp in a transaction?
Hi Devs, when a transaction is sent to a validator which is not the current leader, how does the validator forwards it to the current leader? is it the whole transaction or in shreds? does it use gossip or via some sort of direct comms to the leader?
<@!788215642070581289> if i wanna work with free pool rpc i would need to change the connection to https://free.rpcpool.com instead of https://api.mainnet-beta.solana.com right? and token minted through this rpc would still be on the solana mainnet?
thank you but i was already on this page. i meant would i need to set it up or would it already be ready to go after buying it?
FYI
https://rpcpool.com/#/
https://www.quicknode.com/pricing
where can i find on how do i set up a quick node?
thanks! üëç
for debugging tx, you can use `msg!` in the program.
then you can use your client to call `simulateTransaction` 
you can get the log back.

BTW here is a more efficient way to debug for me https://github.com/solana-labs/example-helloworld/blob/master/src/program-rust/tests/lib.rs
also about the name and symbol of spl token, i clone the token list repo from github. now to get my token added in there do i just do something like this:
```{
      "chainId": 101,
      "address": "My mint Address",
      "symbol": "MY symbol",
      "name": "MY token name",
      "decimals": 9,
      "logoURI": "my logo url",
      "tags": [
        "utility-token"
      ],
      "extensions": {

        "website": "my website url"
      }
    }
```
and after this i just need to submit my PR to the repo?
You need an endpoint which doesn't have rate limit I think.
maybe try to build your own validator or try some rpc solution. (rpcpool, quicknode ... and so on)
Hello Devs, is there a way to trace transaction flow, something equivalent to ethereum's debugTransaction, or similar .. ? tried solana logs, but its not as verbose as I need, I need to see how leader processed thee transaction and how it was sent down to other validators, and voted ...
sorry i tagged you all üòÑ
auto merge is giving error, how can we fix this? <@!439209823201132558> <@!785084693023424542><@!788215642070581289>
https://github.com/solana-labs/token-list/pull/6071
hello guys, so i'm trying to mint 200 tokens and the command is in a loop and i'm getting an error stating server timed out with too many requests. i did put a sleep timer for 1 second between calls but the server stills return that status..
Thank u
answered my own question: let accounts = await connection.getTokenAccountsByOwner(wallet.publicKey, { programId: spl_token.TOKEN_PROGRAM_ID });
..
can you show me an example?
From CLI: `solana transfer`
how can i transfer solana from one to other account ? is there any simple function or something?
How do I fetch a list of all NFTs held by an account given its PublicKey using the solana/web3.js library?
visibility on the main function doesn't make a difference
This isn‚Äôt covered in rust docs so is this a solana crate function ?
Hey mods, where is my right hands ? 

What is the different btw 

fn main () { body };     And pub fn  ?
I have tried the script, that works.
does it use cargo build or cargo build --release ?


what is the difference between cmd cargo build and the script ?
Anyone know how to fix typos on links on the Solana Token-list for my SPL??? I typed twitter & coingecko links wrong and its horrible.
I used to check for program <> success and go 2 lines up and it got the program log I'm looking for (since I emit in the end)
how to read program logs after https://github.com/solana-labs/solana/pull/21453 ?
https://tenor.com/view/ravil27-gif-20704161
Program says use STD I don‚Äôt have any std
Help me someone pls help me
thanks a lot! that's very helpful.
good luck with your project!
you could think of many variation using PDA
it's very rough idea though
1. create PDA with enough lamports
2. set token account owner to PDA with seed containing user's publicKey
3. set token mint account authority to PDA
4. having user's publicKey in the PDA's state for user verification
5. when user send claim tx to program,  PDA burn the nft and send lamport to user, so user can get payback for tx fee
Thanks I'll look that up. Do you have something I can refer to?
creating token account with PDA could solve your case I guess
We give them NFTs that they can use to redeem products, then once they claim the product the NFT has to be burned and we have to shoulder the transaction fee so the user don't have to pay for anything
can you specify the usecase?
is there any guide for setting solana onchain program dev environment?
I am having issues running keypair.generate with react native. With the issue I am getting im assuming I would have to create the public and private keys myself.
then you execute the action and pay for the fee
like they'd just send you the tx signature or something like that
is there a way to pay for someone else's transaction?
Hello! I am trying to create some kind of binary sum tree using PDAs. Each PDA is either a node of the tree or a leaf. Basically, the problem is that when I change the value of a leaf, I have to recalculate the values of its parents (parent\_value = lchild\_value+rchild\_value) up to the root node, but as far as I know, I have to send ALL AccountInfos to the context, while I'd prefer some way to do it using only the target leaf. I have an idea how to find its parent Pubkey on-chain, but I need specifically AccountInfo afaik. 
Are there probably any implementations I can take a look at?
check out this great overview that also describes and goes over a CPI call:
https://hackmd.io/@ironaddicteddog/solana-starter-kit
Hi team,
I'm trying to add the Token data in ths solana.tokenlist.json
In my PR I'm getting the above build error how to fix this?
do you have any sample contract where i can have a look
i am aware of this but i am confused
Yes, check out CPI
would love to pair with someone to on-ramp me onto working with Solana (and help polish my rusty Rust). I'm happy to **compensation for your time**, and hopefully you enjoy pairing! this is how I've learned well/fastest
hello devs i have a program which is recently deployed to devnet can i create another program and invoke that recently deployed function
Ah right, of course. Thx
Source of the program. State data is stored in separate accounts
Sanity check - this is the source that the program uses, or the state data it has stored? (The former may be included in the latter for all I know)
`solana program dump`
How would I go about viewing whatever version of the bytecode is on the chain? Presumably it's not especially useful, but I'm curious what reverse engineering looks like in this space
Ask them directly
https://discord.gg/KJDKtdFp
I would contact solanart
E.g. I ran a toy transaction through Solanart NFT Marketplace https://solscan.io/tx/2dxmAoLWAS3FUHe8Ue7vGddaZpMHuYW22WKgd9ScbhP2ji8Yz7FaY5dwGmbhxa7pPM1zHfM4BL9y4oT22L475SsC and I'm curious to look at what is happening under the hood. Quick Googling is not yielding someone publishing the source for this, so I'm wondering how to extract it from the chain
Or twitter, which is better suited for this
Try general. This does not belong here
I'm in search of developers that could lead a project
Source depends on the program. Today it is not that easy
This is not developer-support
Not sure if intentional, but it is definitely different
How would I lookup the source of a program involved in a transaction?
I noticed that `solana_program::bpf_loader` which is supposed to point to the latest bpf loader still points to an older version (`BPFLoader2` ) instead of the new upgradable one. Is this an error or intentional to signal that the upgradable loader is not like the others?
Look's perfect thanks.
there's also the cope one https://bulkspldistributor.com/
there are several now, not sure about your specific use case, but you can probably find a way to manage or mold:
https://docs.metaplex.com/community
my guess if you find what your looking for in less than 1 min
Hey, I'm looking into mass token airdrops. Is there an existing program that can cycle through a JSON of wallet addresses and send an spl-token to each address in JSON? Ideally there would be some transaction verification too. If not I'll make one and share it.
there is no easy way, if i recall to increase the compute budget, currently..  best to break it up or keep your eye on a feature proposal having to do with compute budget. but if u insist for any reason for experimentation, you can probably modify the source as  budget and fees and everything is set there, for a local instance anyway.
me too.  call it a tie then, üôÇ
yea I just found it myself, guess Im just tired üôÇ thank you!
but the actual id is in solana core.  the seeds were also in spl, through a governance util function, which i happen to have read at some point.
why, bpf_lodader_upgradeable.rs of course  in both spl and solana core repo, or general search on BPFLoader eventually.
yesss ty, where could I have found this?
looking for this?
&[program.as_ref()], &bpf_loader_upgradeable::id()  
BPFLoaderUpgradeab1e11111111111111111111111 ?
you cant (yet), gotta split up what youre doing into multiple ix or make your ix more efficient
`consumed 200000 of 200000 compute units`? How can I increase SOL_gas allowance for my program?
hello! have a question about the `program_data_address` of the upgradable loader. How is it generated? iirc it's a pda but I dont remember which seeds where used
if you can't do that you can always dig up the provenance for the piece and look at the transaction info
but this is hard to consistently do across all mints because some people put trash in there
hey kale, you can check the mint's derived metadata account's data has signed information that only the creators would've been able to add, usually a signed creator
I meant for an NFT collection, say a collection of 8888. a malicious actor, for instance, might try to make an exact replica of #1234 of 8888, by copying and uploading their own metadata. I'm not seeing anything about the metadata standard which prevents this
are you referring to the NFT standard, with Metaplex? that is primarily used, for this there is a candy machine id and verification, and of signers. you can find out a lot more at the metaplex discord and https://docs.metaplex.com
https://discord.gg/vgSBr3Ta
for traditional tokens, they would all be using the same mint. and for a bare bones NFT using spl-token only, it would just be the 1 mint, and you can verify the supply and if it can still mint.
question about SPL Token - how is it possible to verify the legitimacy of an NFT token / token account, since they all have unique mints? on ethereum, this is possible because you can verify the contract address of the NFT
I think the biggest thing that stops frontrunning and sandwich attacks on solana is the lack of a mempool. On ethereum, frontrunners have a lot of time to scan the mempool before a block is mined.
just making sure. and unless im wrong?  I also do not see the even near potential for the number of ways or ways in general to manipulate order execution like is done in ethereum or another selective mechanism for execution based blockchain. i understand order matters, prices matters, and manipulation in some capacity cannot be avoided. I am not sure it will have the same benefit or use here, as of yet public proof? but yea.. thanks for bringing that up. was curious. and good to know.
Oops, sorry, I meant the opposite, haha. I mean it's way more difficult than on ethereum.
on a side note: as for: "I know frontrunning and MEV is way more difficult on ethereum" going to have to disagree there. Not sure where that is coming from. Historically has been a bad problem for years.
Got it...thanks for your help üôÇ
Yes, the ledger itself has it.  But like I already said, "The ledger entries [1] aren't visible over RPC at the moment, so via RPC you can't do this yet.  It would be possible to add though."
Are the indexes of that order available somewhere?
yep
What happens if a lot of transactions in the same block all declare that they want to write to the account? Will all those transactions be executed synchronously?
Transactions must declare the accounts they want to read and write from upfront, which allows the runtime to schedule transactions that don't conflict (want to write to the same account) to run in parallel (within an `entry`).
Thanks, I think the parallelization is starting to make more sense to me. I'm still a bit confused as to how it works with constant product AMMs like orca where the order of the transactions matter. If two users try to swap in the same block, those two transactions couldn't be executed in parallel as they would both mutate the same state. Does the solana runtime allow for some things to be executed synchronously, or would the second transaction that tries to mutate the same state fail?
The timestamp is at the block level.  The ledger entries [1] aren't visible over RPC at the moment, so via RPC you can't do this yet.  It would be possible to add though.

All transactions within a ledger entry execute in parallel (and have no write conflicts), and each block is a collection of entries

[1] https://docs.solana.com/terminology#entry
I think the order matters for things like swap transactions where the price changes every transaction. I don't think time has enough granularity as every transaction in the same block has the same timestamp.

For example, these two transactions are the in the same block, but have the same timestamp:
https://solscan.io/tx/kfruDUC29ZBYL7ztjEFyjvMqee9rE5mH9hNmoPBJ3QA7SESN5bamocpNSdXLRJnvhmsxDcBMU5dXhwVT1NAKNaP
https://solscan.io/tx/H8CXC8FWi2hGuFSPDwcZRUpKyqM6Bh8bFnpTCVAcWhSagWR8QTVj1Gg7enXbzwL1RFVFtQ1JiZZJtBDx1SiXhPA

I'm basically looking for something equivalent to ethereum's transaction position.

I know frontrunning and MEV is way more difficult on ethereum, but knowing the order helps when trying to detect when MEV occurred.
why is that useful?  also order would end up being time based. and time is available. you can query by slot/block and index or use a service that might offer indexing or different lookups. im not sure this is a general purpose use case. curious why though.
It would be useful for showing the order of transactions that happen in the same block.
Thanks <@!785084693023424542> & <@!489206164270350337>
yes. the name service program is an on-chain program, like the token or other programs. so you can use it to your benefit.
I believe you're correct. Never personally done this though, so I may be wrong.
Not available at this time. What use is that though?
I have a very beginner question. I want to use the Name Service SPL to create a new registry. Say between wallet addresses and VIN of first car owned. Now I _believe_ I don't need to deploy an instance of Name Service, is that correct? I can just interact with the SPL Name Service program on devnet or mainnet and call `createNameRegistry()` specifying the name of my registry in the second parameter. I guess I'll start there. Thanks in advance for the help.
Is it possible to find out the index of a transaction within a block? I don't see a value for that in a `getTransaction` response.
thanks king, will definitely look at this
check the curve and related token and token swap methods, as well as some newly released saber source code for some insight into number and math usage. Recipes like these would make a great addition to the solana cookbook.
https://github.com/solana-labs/solana-program-library/tree/master/token-swap
https://github.com/saber-hq/stable-swap/tree/master/stable-swap-math/src
is there some special way to do math (specifically addition) with tokens? Is there a possibility of running over the maximum number of a u64 when adding 2 realistic numbers together?
cool thanks I'll take a look at that then, appreciate the help üëç
genesysgo is free right now iirc
quicknode, genesysgo, triton, etc
ok, so something like QuickNode?
Also if you're doing something in production, always recommended to get your own rpc
Probably hitting too much
yeah, I see that, I'm not sure why that's the case though?
I'm using vercel (next.js), and am calling web3 connection RPCs to retrieve account information on my app's backend, and token account information, however looks like the IP / provider is banned?
`Your IP or provider is banned`
I'm getting a weird 403 error I didn't really expect on a staging/preview instance of my app, was wondering if anyone had an idea why this is the case?

```
2021-12-02T19:20:45.311Z    a3fa2e30-314e-47af-b2bd-24aacb259712    ERROR    Error: 403 Forbidden:  {"jsonrpc":"2.0","error":{"code": 403, "message":"Your IP or provider is banned."}, "id": "6edfbc5f-b6de-4242-a793-d654969542a9" } 
    at ClientBrowser.callServer (/var/task/node_modules/@solana/web3.js/lib/index.cjs.js:2777:18)
    at processTicksAndRejections (internal/process/task_queues.js:95:5)
2021-12-02T19:20:45.311Z    a3fa2e30-314e-47af-b2bd-24aacb259712    ERROR    Error: 403 Forbidden:  {"jsonrpc":"2.0","error":{"code": 403, "message":"Your IP or provider is banned."}, "id": "6edfbc5f-b6de-4242-a793-d654969542a9" } 
    at ClientBrowser.callServer (/var/task/node_modules/@solana/web3.js/lib/index.cjs.js:2777:18)
    at processTicksAndRejections (internal/process/task_queues.js:95:5)
RequestId: a3fa2e30-314e-47af-b2bd-24aacb259712 Error: Runtime exited with error: exit status 1
Runtime.ExitError
```
thanks for this, was able to release a feature in time:
https://twitter.com/WagmiBio/status/1466479503476080641


///////////////////////////////////////////////////////////////////////////////////////////////

`Keypair` implements `Signer`, not `Signers`
https://docs.rs/solana-sdk/latest/solana_sdk/signer/signers/trait.Signers.html#foreign-impls
the trait `Signers` is not implemented for `[Keypair; 1]`
the trait `Signers` is not implemented for `Keypair`
rust
?
I have a keypair but that doesn't implement signer trait
how do you pass array of signers to this  tpu client method `send_and_confirm_messages_with_spinner`
hi, my local test validator is running out of lamports for airdrop, is that possible?
Reading an u64 from an account at offset 0 would go like `u64::from_le_bytes(account.data.borrow()[0..8].try_into().unwrap());`
What point are you trying to make ?
Well then show the poor person how!
The point of serialisation/deserialisation is that it does this offset math for you basically
Then you only have half the problem, but still the main problem üòÑ Someone needs to write an in place parser for borsh basically
You can always access. It‚Äôs just binary. If you know the offset you are looking for, you can get the data there
I don't need to modify anything, only writing a program that is trying to read the state of a validator account
The big question - can you access a member of a borsh serialised struct without deserialising the whole thing, I suspect you can with a bit of cleverness, and I suspect lots of people will want this given that borsh serialisation is basically being used by default on everything
Hah yeah, and that's a doozy. You need a way to modify the data in there without deserialising and resrialising it, I don't know enough about borsh to say if this is feasible.

If we were in a "normal program" we would do a heap allocation if we can't fit on stack, which in the context of solana would mean deseralise the data to a new account, modify that, serialize from the account and then delete the account but that doesn't sound like a good solution either here
I'm just sending the token from my wallet to theirs using web3
This solution does not seem to be relevant here because as I said the `VoteState` is natively serialized using `bincode` on the core solana program. I'm looking for a way to access this data from a Validator Account.
your saying the tokens you created and transferred show up in another wallet your transferring to?  how are you currently doing this?     and it would be a 'token account'.
What account is being created for each one though. I already minted the token, the wallets I'm transferring to already exists.
Make sure you have a solana rpc.
I guess I'm just ignorant to that part of blockchain. In web3 I am transferring the custom token from my account to theirs and I see the token amount in their account.
thanks!
not exactly, yet.  there are tools in development, and others like this: https://lithdew.github.io/alon/. 
but nothing exactly like a remix.  web3 and related libs can run in most in-browser editors for the respected language, like repl (under whatever limitations those editors have).
yes. accounts cost rent. and having the 'token' accounts mint helps qualify it as a valid token of the mint, and when set up as associated token account helps associate/link the token accounts under a primary address. atm you can fund the account, or through user interaction they can be charged the cost of the account. it is minimal, but in mass can add up.
Hi, Does anyone know if there is something like Remix where I can copy, compile, and interact with my program's functions but for Solana programs?
I created a custom token, and a token account. I have a lot in my wallet. Can I just send someone the token? They need a token account as well? Why.
Still a Solana noob but I know what the issue is here, basically the deserialisers all make a copy of the struct they are unwrapping which blows your stack

The easiest way to deal with this is just stop using borsh/bincode and store it as a native struct in the account, then you can interact with it directly and never make a copy

Alternately, you can make a custom serialisation which you can do on the fly through accessors, that will be waaay more effort
why surprising? i would check your version vs mainnet version.  and mainnet tags and release. try to identify what changed or newer methods you may be using. `solana cluster-version` can be used as a quick check and you can specify `-u --url`, chk more using `--help -h`
ty a good man
for NFT related your probably going to find more specific answers here:
https://discord.gg/4UQepZms
solsea may have their own chats as well.
Well i don't know but this would be surprising. I'm using the latest solana cli maybe that why ?
And is there some type of devnet market?
you might be on a future of version of dev, with a feature, or method, that isn't deployed to mainnet ?
Hey everyrone, i'm trying to deploy a program on mainnet but i'm getting a `Method not found`  error.
Devnet works well, anyone has any idea ?
Why cant i open test.solsea.io?
Maybe it‚Äôs a noob question but I dont know where to start
Anyone knows how I can transfer an NFT with Rust?
not that I know of. looks like a great service and aggregator waiting to be built or announced üôÇ
Like an API on sonar.watch, but that is not down two days a week üòÑ
Not sure if that's the right place for such question, but is there an API (like DeBank on Ethereum https://openapi.debank.com/docs) that gives you all the info on an account? Like token list, balance in farms, staked, etc.
Hi following up on that. Running into the same "stack overflow" issue. The typical solution "serialize/unserialize with Borsch" is not really applicable here since a `VoteState` is initially serialized with `bincode`. Any help on that ? Thanks
But it sounds like what you are telling me is that cross contract invocations is not possible, which I don't believe
Then I am very confused, I thought the point of the system_programs was to let contracts do exactly these things ü§î 

If it's just to say I need to have the accounts specified in the transaction I send to the smart contract which generates an account I get that
`create_account` does not do what you think. You cannot create an account from a smart contract. You need to send an instruction to create it. See `SystemProgram.createAccount` in `@solana/web3.js`
change it to :
```
    const signature = await sendAndConfirmTransaction(
      connection,
      transaction,
      [acc1, acc2],
    );
```
fee payer must be a signer. Currently, only acc1 is signing
Nice idea though, I can try with sleep in between, I don't need high throughput
For test, it is creating new wallet airdropping it with some SOLs and then find program addresses, transactions like these
Why do you need high throughput ? The only way to send a large number of tx on testnet would be for you to rent an rpc node
Hey guys, I am getting rate limited while testing my program on the devnet. How do we generally test Solana programs on devnet?
Hey, have the system programs an higher stack limit ?
Hello, is there something wrong in solana devnet? I'm getting 50x errors
Do you guys know how to get the price of a token in solana, like from an api?
Thanks, I‚Äôll take a look
<@!213083996689661953> i left a new comment on the merged PR since Bigtable is currently down and it shows an interesting edge case that may need to be considered
erwischt ü§£
right
ah damn
here
became instead of got
yeah
are you haha?
which wording gave it away?
<:sus:812824131443097660>
Weird question
Are you german?
Anybody???
absolutely.
I was working on a new page therefore having it not work is not too suprising. Took some time until i became the idea to try another page
Hate stuff like this when you spend hours on hours and then it is not even your error
But kinda figured it out fast that it is not mine because i was literally using it and then i suddenly did an update and stopped working
That saved some time
how to specify fees account using solana web3? I am using something like this -
```
const transaction = new Transaction({feePayer:acc2.publicKey}).add(
      SystemProgram.transfer({
        fromPubkey: acc1.publicKey,
        toPubkey: acc2.publicKey,
        lamports: LAMPORTS_PER_SOL / 10,
      }),
    );
  
    // Sign transaction, broadcast, and confirm
    const signature = await sendAndConfirmTransaction(
      connection,
      transaction,
      [acc1],
    );
```
where I want to transfer some lamports from acc1 to acc2, and for that provided the signature of acc1,  but I want the payer to be acc2.   But I am getting this error - 
`Error: !signature`. what am I doing wrong?
yep. cost me half of my day because i thought it was an issue on my side
alright
good to know i am not the only one
Oh, and just to finish up, I also have a little critque: https://docs.rs/solana-sdk/1.4.4/solana_sdk/system_instruction/fn.create_account.html

This is not documentation people üòÑ üòÑ
I actually have a pretty long list of dumb questions now I think about it - is there a general CLI tool for calling "any old contract" with arbitrary accounts and data? I made one for my own testing, I might chuck it up on git if there's appetite, and if there's already an easier way to do it I'd love to know
Good day people!

I'm having a dumb problem trying to call `create_account` from a smart contract

I understand I need to include the account of `system_program` in the transaction for it to work, but it's not clear to me where I find that account in the documentation

On that note - it's neat that the preflight checks tell us accounts are missing from a transaction, is there a way to get it to tell me which accounts are missing? Not sure if I missed something ü§ì

```
    let account = create_account(accounts[0].key, program_id, 40000, 1000, accounts[0].key);
    let seeds : &[u8] = &[0,1,2,3];
    invoke_signed(
        &account,
        &[
            accounts[0].clone(),
            // WHAT PUT HERE TO MAKE TRANSACTION HAPPY
        ],
        &[&[seeds]],
    ).unwrap();
```
Thank you bergabman. I`m on rustup 1.24.3 (ce5817a94 2021-05-31)
Namaste everybody, can anybody confirm if associated token account and associated account are the same thing in solana?
Do you guys know where to get the price of a token in an api?
Understood. When I replaced previously...
Hello guys, I'm starting with Rust and Solana. Can someone guide me on this little thing I try to achieve? So the idea is if a button is clicked, it will transfer a certain NFT from the wallet, to another wallet randomly selected from a list. Any idea on how I code sthg like this? I don't know where to look at to know how to transfer a NFT with Rust :/
replace is replace or not? üòÖ  do you want the wrong link to be there?
I will explore it more, Thank you
thx. to replace one  just add the corrected on the same line after "," ?
Try `const kp = new Uint8Array(Buffer.from(str, 'base64'))`
you derive an address based on what's in the standard that I linked, and fill in that account with the metadata, that's it
just fix the problem, that + and - you see in the PRs is automatic, just git showing what's changed
Do you mean to say we need to use only Token Metadata Program(Metaplex) for creating a metadata account and link URI to it ?
When correcting/replacing a line do I need to add "-" and "+"?
Having the same issue with phantom. Looks like an issue with version 14
Thanks!
I see
or use ipfs
you can use any server to store stuff and put the link in the metadata, arweave is just the mainnet way to store immutable data, but on devnet you can use your own vps or bucket or anything
Metaplex for sure uses their own arweave test net or else it wouldn‚Äôt be free to mint NFTs on devnet
Arweave doesn't have this to our knowledge
if it got merged, you have to create a new PR where you fix it, there will be no manual correction if they don't know what's the problem, and a new PR will solve it right away when it gets merged
Thx. that was done immediately and got automerge error. Just waiting for manual correction I guess?
What‚Äôs solana‚Äôs arweave test net?
You don't have to *link* them with an extra step, the metadata account is derived from the word `metadata`, the metaplex program id, and the mint of the token, that's how solscan and everyone else like wallets find it. It's based on the metaplex standard, and you don't want to go around that standard because all the exchanges implemented that.
<https://docs.metaplex.com/nft-standard>
Sorry it is not clear to me,Any references, please 

I have created token(SPL-TOKEN) and stored metadata into an account, But I don't know how to link both. Any suggestions, please

token
https://explorer.solana.com/address/5memwaseNN8uxxeNZjaB89ewHRp7XUT9UZ1AF8Xa1ECC?cluster=devnet&customUrl=http%3A%2F%2Flocalhost%3A8899
Metadata account 
https://explorer.solana.com/address/5a5vRmMtF9T7gWLMMRWSthaXL7g4B9UnyzxNYoAs75hy?cluster=devnet&customUrl=http%3A%2F%2Flocalhost%3A8899
<https://explorer.solana.com/address/7bQ49TnN6VMyri5WcdW6go42FZjvbtVbx3PmkPJqCQT9/metadata?cluster=devnet>
How can I from a private key of base64 transform it to a Uint8Array ?
everything is on chain, the token metadata contains the arweave uri, and solscan checks that
do another PR where you fix the link <:PES2_Shrug:513352546341879808>
How it is possible that solscan is finding out the metadata,I am trying to implement the same thing with code(without metaplex). Any references for it, please
https://solscan.io/token/7bQ49TnN6VMyri5WcdW6go42FZjvbtVbx3PmkPJqCQT9?cluster=devnet
Or where should I post my question plz? Thx
I would first try a `rustup update`
Effed up when submitting spl token and was approved. Now token logo link is broken and won‚Äôt display properly. How to correct GitHub token-list logo image address without [automerge error]?
on azure
OS = Linux (debian 11)
I everyone - I running into a error when trying to "install spl-token-cli" . "error: could not compile `libsecp256k1`

Caused by:
  process didn't exit successfully: `rustc --crate-name libsecp256k1 --edition=2018 /home/TokenTest/.cargo/registry/src/github.com-1ecc6299db9ec823/libsecp256k1-0.5.0/src/lib.rs --error-format=json --json=diagnostic-rendered-ansi,artifacts --crate-type lib --emit=dep-info,metadata,link -C opt-level=3 -C embed-bitcode=no --cfg 'feature="default"' --cfg 'feature="hmac"' --cfg 'feature="hmac-drbg"' --cfg 'feature="sha2"' --cfg 'feature="static-context"' --cfg 'feature="std"' --cfg 'feature="typenum"' -C metadata=f40fb7f9f495cc3b -C extra-filename=-f40fb7f9f495cc3b --out-dir /tmp/cargo-installmWC9Qr/release/deps -L dependency=/tmp/cargo-installmWC9Qr/release/deps --extern arrayref=/tmp/cargo-installmWC9Qr/release/deps/libarrayref-ee1f5e5cb538f6d3.rmeta --extern base64=/tmp/cargo-installmWC9Qr/release/deps/libbase64-61ff7f70cf1b36b4.rmeta --extern digest=/tmp/cargo-installmWC9Qr/release/deps/libdigest-c3bb0dd46c53a1d8.rmeta --extern hmac_drbg=/tmp/cargo-installmWC9Qr/release/deps/libhmac_drbg-e0259817a869a627.rmeta --extern libsecp256k1_core=/tmp/cargo-installmWC9Qr/release/deps/liblibsecp256k1_core-eea11bbe9fea5801.rmeta --extern rand=/tmp/cargo-installmWC9Qr/release/deps/librand-f70342cdbb63fa31.rmeta --extern serde=/tmp/cargo-installmWC9Qr/release/deps/libserde-057478e9370e533f.rmeta --extern sha2=/tmp/cargo-installmWC9Qr/release/deps/libsha2-39ae3d0eca9b8cb9.rmeta --extern typenum=/tmp/cargo-installmWC9Qr/release/deps/libtypenum-8d402692c022a671.rmeta --cap-lints allow` (signal: 9, SIGKILL: kill)
warning: build failed, waiting for other jobs to finish...
error: failed to compile `spl-token-cli v2.0.15`, intermediate artifacts can be found at `/tmp/cargo-installmWC9Qr`

Caused by:
  build failed
"
Unfortunately, you can't do that.
how to link token address and metadata account in Solana?
This is probably a pretty basic question, but I'm trying to see if I can query the api to return a list of all the projects in the ecosystem.

Would really appreciate a few beginner pointers. I've located the data structure and the api ( but only for a specific /vote/getupvote/ query)
Hello im trying to get info about solana account. Using rpc method getAccountInfo
For example its USDT token: "Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB" 

As answer i get bytes sequence and i have found the way how to decode it here:
https://github.com/serum-community/pyserum/blob/alpha/pyserum/_layouts/market.py#L31


But anyway how can i get description of account's structrure ?
What's the devnet equivalent to arweave?
@here
A transaction is arbitrary collection of individual instructions.
Before commiting a transaction to the network, I want to simulate it, to know what will be my wallets state after the transaction happens.
for this I am using transaction simulation.

For eg
A transaction has following instructions
1. Send 1 SOL from A to B
2. Send SPL TOKEN-X(mintAdress is xyz) from A to B
3. Send NFT-ABC  (mintAdress is pqr) from A to B

Now you serialize this transaction, send it over to my wallet, for signing.
Before actually doing this transaction, I want to show that "after" this transaction, you will have following state
a. ) -1 SOL
b.) -1 SPL TOKEN-X
c.) -1 NFT-ABC

How can I achieve this?
I see that phantom calls a simulateTransaction() JRPC method, the response tells the final lamport balances of some accounts.
How do they figure out the above information from this response.
Any help will be greatly appriciated.
GM to you all. Is it possible to link webpage access to whether someone has a specific SPL token or a token from a specific collection (NFTs) in their wallet? If yes, how would you go about that?
Hi, sir 
Is there a way to get all token accounts with amount greate than 0?  
Because there are too many token accounts for a token mint and it will take a long time to get all those token accounts, however I just want to get the accounts that currently have a balance greater than 0.
should the fee payer always partialSign first. I am getting errors with partialSign
Anyone has an idea how I can find the list of accounts involved in a ParsedInstruction?

Example of how one would look like:

```ParsedInstruction {
                program: "spl-memo".to_string(),
                program_id: MEMO_V3_PROGRAM_ID.to_string(),
                parsed: json!("ü¶ñ"),
            }```

I'm attempting to reverse engineer instructions in a "better" way

Would my only option be to derive it from 

```#[derive(Debug, Serialize, Deserialize, PartialEq)]
#[serde(rename_all = "camelCase")]
pub enum ParsableProgram {
    SplAssociatedTokenAccount,
    SplMemo,
    SplToken,
    BpfLoader,
    BpfUpgradeableLoader,
    Stake,
    System,
    Vote,
}```
you can't do it. when you init a token account, the program will check rent
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L104
any devs create websites for other projects? I have a client who needs help asap
anchor channel can solve it for you https://discord.gg/VZz2TFGr
you can use 
```
curl https://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
      "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      {
        "encoding": "jsonParsed",
        "filters": [
          {
            "dataSize": 165
          },
          {
            "memcmp": {
              "offset": 0,
              "bytes": "your-mint-address-here"
            }
          }
       ]
      }
    ]
  }'
```
Hi, recently we are facing lots of transactions disappearing .They are being properly broadcasted to mainnet cluster, we get txid but then the tx just disappears. Any ideas?
Thanks man
<@!788215642070581289> Can you help?
Sorry man, i'm not a developer, i can't help with this
I need to fetch all the accounts addresses holding my token. How do I do it? <@!809198824539160606>
I am getting the same error. Are you using the token program on github?
I recommend using deser if you are using serde. Use borsh if the data is serialized using borsh serialize
I have the same question. Please help me if you find a solution
Hello,  does anyone knows how to fetch all non-zero token accounts of a token mint? I can fetch all token accounts of a token using the memcmp filter, but the accounts size is too large.
Can Someone please help me out with this error
how can i use ```--fund-recipient``` to not fund infinite rent, but for one week only for instance to save on rent for creating account for holding that SPL token?
i want to send someone some SPL token that will be literally valid 1 day
dm me
oh no not he program.
Even if I look at lib.rs (https://github.com/metaplex-foundation/metaplex/blob/master/rust/nft-candy-machine/src/lib.rs) there is no section where you set the metadata?
Ahah, I have looked at the candy machine code before
I also have a feature where i need to change metadata and i took over some code from metaplex. it uploads stuff but the backend is not configured so it just uploads a number and not the json
the metaplex candy machine ü§£ 
Did that too. Takes times but gonna work
And I still haven't found out how to programatically set the metadata
I've looked at the Metaplex code before, but it seems to be that you have to create the JSON with the metadata beforehand, and then mint it
Cheers, any code samples for how to do this?
you can just update the metadata.
It is pretty easy
Don't even need to write your own program
But i don't think this is the right place for such a question

https://discord.gg/XhExCxap
Hey all, I have a question regarding serialization and deserialization logic. 

I need to store a string which for example may be at most 32 characters, but can also by less than 32. So I've allocated 32 bytes to it in my packing and unpacking logic. Just before the 32bytes I have put 1 byte (u8) that represents to the length of the string, it is used mainly in ser deser on-chain ||(for example in :  String::try_from_slice(&string_src[0..string_length]).unwrap();)||.

Is my ser deser handled correctly ? Because I'm having trouble to deserialize client side (borsh), when the string is less than 32 bytes long. The borsh deserializing of my string stops but it is not always at the end of the 32bytes string allocation. 
This has the consequence of not reading all of the chunk dedicated to string storage and falsy deserialized data.
For example in the data representation below the last *some_u8_value* will not be read correctly if the string doesn't actually contain 32bytes of data.
```
string_length |   string_chunk  |  some_u8_value
    1byte     |      32bytes    |      1byte
```
e.g. User chooses a name for a game character. That name is passed to the Solana program and when the NFT is minted, the name is included in the NFT's metadata.
Or have any idea how to do this?
Does anyone have some boilerplate code for creating an NFT with *user-provided info* in the metadata?
Bump
The error code -32603 is an Internal error that something went wrong within phantom
Is there any way to fix this
i literally changed nothing and from one second second to another it did that
do you guys also have this weird problem, that when you try to connect to a wallet in your phantom wallet that it does not work except it is the first one that was there from the beginning. Like you are able to create new wallets in there but it is only able to connect to the first one and otherwise it says

`index.js:1 Phantom - RPC Error: Cannot read properties of undefined (reading 'toString') {code: -32603, message: "Cannot read properties of undefined (reading 'toString')", data: {‚Ä¶}}`

`index.js:1 WalletConnectionError: Cannot read properties of undefined (reading 'toString')
    at PhantomWalletAdapter.<anonymous> (adapter.ts:110)
    at Generator.throw (<anonymous>)
    at rejected (index.ts:1)`
Hello, i want to search how much rates for build a mobile apps that can do something like running app track + pokemon Go games but also can linked to solana wallet. Please DM me and have talk there
how can get keypair from phantom wallet for create mint
You can just make each person pay the fees.
Make them connect to your website und let them click a button. And with that they create a token account on their own and you send them the tokens with that button click.

For each person it‚Äôs gonna be like 0.50$ which for you would be with 2000 people 1000$
I have a source wallet that contains all of the custom tokens. I am airdropping 10 of that token to around 2000 people. My calculations didnt even come close to that cost
if you're airdropping to 25,000 wallets ofc
haha
it matches
when you add it up
you have to create 25,000 new accounts
can you see the tx in explorer?
How does air dropping tokens cost that much?!
so token gets moved
costed around 15 SOL
Token account is already created.
in our project we airdropped to about 25,000 addresses
you should rethink airdropping unless you want to pay a hefty fee
correct, you need to create the token account
Thanks for the help. I got that working. So now I have all the addresses that minted. No I am writing the airdropped. Which just transfers tokens to the list of wallets. It works but its slow. The token gets moved correctly however the wallet shows a token balance of what I sent. But it says "No token holdings found" Do I need to send something special so they can see just tokens?
It's just a dumper, not a disassembler or decompiler.  AFAIK the latter two don't exist yet.  Feel free to take up those torches if that's what you need
So this will give me the original so file! But i won't be able to convert it into a readable rust file or edit the so file in any way?
`solana program dump --help`
you mean decode .so file to rs files ?
Is there a way to get the program data? The actual compiled so file and decode it from the program address?
can you help solve this?
got this error while deploying my onchain program. <@!788215642070581289>
```Error: ELF error: ELF error: Unresolved symbol (sol_get_fees_sysvar) at instruction #25957 (ELF file offset 0x32a40)```
as i'm trying to get the pubkey from a string using Pubkey::from_str("ACBS").unwrap!
how so ? declare_id!() macro?
seems like for most of it you're on your own
is there any good documentation or video tutorials on building programs with solana?
yeah
can i declare a pub const pubkey in my program?
How do we reverse engineer a UiInstruction into an Instruction struct?
<@788215642070581289>  can you help here please???
With candy machine whitelist couldn't some still just theoretically submit a transaction directly to the contract and mint the NFT? or am I missing something
Where can i find the source code for the phantom chrome wallet?
However option #1 I was tried first. Wallet-A created NFT and delegated that NFT to Wallet-B.  with no success. Any  I appriciate if you can provide a web3.js example for option#1
Whats the best way to listen to the program account for changes?
subscriber rpc seem broken
ok I have to play around with option#2.
im not sure if you specify WHICH is the minimum signer  (either A or B MUST be the minimum signer), or if you specify that you only need one signature (doesn't matter if its A or B).
I think he said that you can specify the multisig account to require 1 minimum signer, so you'd only need one signature from one keypair
if I do the option #2 do both A and B have to be a keypair?  In another words, does signing accounts have to be a keypair? [keypairA, keypairB] or can it be done [keyparA, PublicKey(b-publicKeyAddress]
if I'm understanding it right
yeah figured, so if account A delegates token X to account B, in order for account B to transfer token X, the user needs signatures of both account B *and* account A
when you created a NFT, the NFT will be hold by a token account.
a token account has an auth. if you want to transfer, you need the signature of auth.

back to your qn.
you want your token account has two auth, so that you can use A or B to transfer token.
there are 2 ways to do it
1. use delegate. the NFT token account will actually owned by A, but A delegate to B so that B can transfer it without A's signature
2. use multisig account as the token account auth. there is a multisig mechanism in token program, you can create it, pass A and B in to it, and specific 1 as the minimum singer

I don't believe the delegated account will be able to transfer. But this isn't something I've dipped into before so I'll leave the recommendations to others
exactly
so technically you both own it
so you're trying to delegate that single token
okay
hmm
check this: https://solanacookbook.com/recipes/token.html#approve-delegate are the reffering SOL ?
an NFT is 1 single token
but again you're talking about multiple tokens here
sorry it could also mean that you could delegate a part of a token balance
you're talking about 1 single token
ala for staking
you can delegate a part of your SOL balance
Correct but this only applies to SOL
per their documentation: "Account owners may delegate authority over some or all of their token balance using the Approve instruction. Delegated authorities may transfer or burn up to the amount they've been delegated. Authority delegation may be revoked by the Account's owner via the Revoke instruction." couldn't able to do this with web3.js
i could be wrong though
afaik there can only be a single authority or owner of a token
Hi <@788215642070581289> I think I was not clear about explanation of my problem. Here is what I really would like to do: create NFT with two owners. I want each owner to be able to transfer NFT to any other wallet without requiring two signature. Either owne-a can transfer it or owner-b should be able to transfer it.
so you don't spam the rpc
I would also add a sleep timer
repeat
store that in an array
and parse out the minter
then get parsed confirmed transaction
you'll need to get the very first signature for the token
https://solana-labs.github.io/solana-web3.js/index.html
<@!182296047052259338> that shoudl start you off
```js
const { Connection, clusterApiUrl, PublicKey } = require(`@solana/web3.js`)
const CLUSTER = `mainnet-beta`

const main = async () => {
    // Open a new connection
    const cnx = new Connection(clusterApiUrl(CLUSTER))

    // Use the connection class to get signatures for addr.
    for (let mintHash of mintHashList) {
        const signatures = await cnx.getConfirmedSignaturesForAddress2(
            new PublicKey(mintHash)
        )
        console.log(signatures)
    }
}

main().then(result => console.dir(result, {depth: null})
```
oh mint ids
what's the json list you have...a list of token addresses?
your master edition account will be the new mint authority after your created NFT.
I have a list of mint ids. How can I use web3 to lookup each mint id and give me the transactions
actually token address don't sign, token address's owner sign it.
you can take a look at https://solanacookbook.com/recipes/token.html#transfer-token
to know to to do token transfer
Apparently from parse_instruction from the transaction-status project,

```Ok(ParsedInstruction {
        program: format!("{:?}", program_name).to_kebab_case(),
        program_id: program_id.to_string(),
        parsed: parsed_json,
    })```

the parsed_json has to be reverse engineered..
'sol address a' mints and NFT. It delegates NFT to to itself. Then 'sol address a' transfers NFT to to 'sol address b'  can 'sol address a' transfer NFT to 'sol address x'  with only his signature?
Sorry <@!788215642070581289> is there any way to accompish this with a single signature preferably "sol address a" signature as the "sol address a" is also the minting authority address (assuming 'sol address a' minted the NFT)
https://volatility.com/# unless you have a better suggestion. Can you give us an idea of a budget (a range will be fine).

What crypto projects have you worked on? Any github details you can share?

Here is the preliminary tokenomics

Tax/Rewards
Anti-Whale function
* Buy limit of 0.0025% of total supply (250,000)

Buy tax: X%
* 1% staking vault
* 1% liquidity
* X% busd auto-reward

Sell tax:X%
* X% liquidity
* X% staking vault
* X% marketing wallet
* X% busd auto-reward

Early-seller tax send to dead wallet address (de-flationary)

Multiple contracts: main token contract, staking and liquidity pool. If you look at wireframe you‚Äôll see under rewards screen
Thats what 'getOrCreateAssociatedAccountInfo' does
Token accounts are generated using the public key of a Solana wallet
The wallet owner signs with his wallet private key
<@788215642070581289> quick question. if "nft token account A" is a token holder account then how it can sign? It does not have a private key
You would have to change mint address dynamically for this to work with an NFT
Ok so i have it setup with nodejs and I have my json list parsed in. however im not familiar enough with web3 to know what Im going for.
I'm pointing towards dynamic data size involved
Thank you I will try
thx for ur help!
#Namaste Community!
For a chat application to exist on Solana, will that be too much to ask?

Just because there be messages/ data which can't be figured out at earlier stage.

Can that be tackeled?
<@!880889151447261224> ^
Take a look at the withdraw_funds instruction: https://github.com/metaplex-foundation/metaplex/blob/master/rust/nft-candy-machine/src/lib.rs#L428
Trying to rewrite a more "complete" ETL, was already working, just want to improve it
hmm thanks mate! i'll try to look around again
just the accounts involved with that instruction
there are some address, `sol address A`, `sol address B`, `nft token account A`

if you want to approve, you will use `nft token account A` to delegate to `sol address B`
after that you can transfer your NFT by 
`nft token account A` + `sol address A` 's signature
or
`nft token account A` + `sol address B` 's signature
ok
You need to explorer candy machine's functions to find how to close/retrieve it.
So here  is the process I am doing in JS: Wallet-1 creates a NFT. and also it delegates that NFT to itself, Wallet-1 transfers NFT to Wallet-2, Wallet-1 tries to transfer NFT to Wallet-3. (result = insufficient funds, as the Wallet-1 balance of NFT is zero)
just close this account? GhvDMcXSHdQUqJECRwHWcRHXZbmoxUq6cUZkBJHwT3bM
How can I get it back?..
arr.. I see, I thought I was do this on devnet, but I guess not..
yes. I think it should work. after you delegate to an another account, the account is also a owner of token account.
for burn token https://solanacookbook.com/recipes/token.html#burn-token
https://explorer.solana.com/tx/2wnP3Uik2xh666v3sE1fKZpGwuvBX2XFw8GuQKyXXwA6emm5E1aH9JKV3wog8nrB6sjW4kcv6Ktq9FndjkXXXWyo
seems you try to create a candy machine account, and it cost you 33.xxxx SOL
something is really messed up..

<@!788215642070581289>  Wallet-1 (owner) has a NFT with amount 1. Wallet-2 is the delegated account. I want Wallet-2 to be able to transfer NFT to any other wallet.
thank you  btw!
is this the same process for burning a token (in my case I am trying to burn an nft?)
<@!788215642070581289>  If you look at the explorer, I don't have any SOL transaction going out, yet its missing about 30+ SOL
this account looks fine. you say your SOL missing? what is the situation?
how can i check?
did i not pay the rent?
<@!788215642070581289> https://solscan.io/account/engioQb5PycxnQZTmU7umXj67JGBx9fVAhaKYJKw5Ab

what?
you can parse the origin token account and check `amount` and `delegator`
I think you are charged by rent. if you transfer SOL to a 0 data account, you should transfer at least 0.00089088 SOL or you will be charged by rent.
estimate rent `solana rent <data-size>`
Hi <@788215642070581289> I was following that documentation however, the delegated account is not transferring the token to another wallet I always get insufficients funds
```javascript
 const network = process.env.REACT_APP_NODE_URL;
    const connection = await new Connection(network);

    const myMint = new PublicKey(process.env.REACT_APP_TOKEN_ADDRESS);

    let myToken = await new splToken.Token(
      connection,
      myMint,
      splToken.TOKEN_PROGRAM_ID,
      user.publicKey
    );

    const toWallet = await new PublicKey(process.env.REACT_APP_DEST_WALLET);

    const fromTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
      user.publicKey
    );

    const toTokenAccount = await myToken.getOrCreateAssociatedAccountInfo(
      toWallet
    );

    const transaction = new Transaction().add(
      splToken.Token.createTransferInstruction(
        splToken.TOKEN_PROGRAM_ID,
        fromTokenAccount.address,
        toTokenAccount.address,
        fromTokenAccount.owner,
        [],
        amount * 100000000
      )
    );

    transaction.feePayer = user.publicKey;
    let { blockhash } = await connection.getRecentBlockhash();
    transaction.recentBlockhash = blockhash;

    const { signature } = await window.solana
      .signAndSendTransaction(transaction)
      .catch((e) => setError("Transaction Failed"));

    await connection.confirmTransaction(signature);
```
https://solanacookbook.com/recipes/token.html#approve-delegate
https://solanacookbook.com/recipes/token.html#transfer-token
Why is my SOL missing, when I have not done any transaction, yet explorer is showing only small portion of it
Ok so i have it setup with nodejs and I have my json list parsed in. however im not familiar enough with web3 to know what Im going for.
im stuck
I can't figure out how to send spl tokens through a web3 transaction to save my life
nvm
unable to fetch balance changes
Is something wrong with phantom? Working on an app and have been getting this error lately, it never showed up before.
How do I change dialog color in solana/wallet-adapter-material-ui v 0.15 that uses mui v5?
Anybody experienced with "createApproveInstruction" what I am trying to do is create and NFT with two owners. Based on the documentation with delegate feature a token can have multiple owners.
I'm really sorry sorry but I got another 

I made a keypair I think and got the passphrase I ran the command to make it my defult one I think (That's what the video im watching said)

solana-keygen new --outfile /config/solana/devnet-test.json

I thought I worked because I saw it say confirmed so I ran another command to check the balance

solana balance

which then lead to the error I think
lol my bad
ah i solved my localhost issue
so when you type, you're actually typing something, it just doesn't show it because its hiding it
haha
it's deliberately hiding the text
that's because it's a password
It doesn't let me enter any text in their
alright so I did without force flag and I got to here
ah you hit enter twice for empty pass? that's weird, it should work
trying to run helloworld program with test validator, but I get connection refused at localhost, any idea why?

validator:
```
Shred Version: 18738
Gossip Address: 127.0.0.1:1024
TPU Address: 127.0.0.1:1027
JSON RPC URL: http://127.0.0.1:8899
‚†í 00:47:25 | Processed Slot: 7597 | Confirmed Slot: 7597 | Finalized Slot: 7565
```

client:
```
Let's say hello to a Solana account...
FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED ::1:8899
```
When It asked me to make a pass I didn't enter a pass
let me know if you need help
Slightly. I will give it a try.
you can force a new key by adding the `--force` flag at the end like it says
and hence the error
you entered a different password when it asked you confirm
looks like when it asked you to make a password for the json wallet file
its fairly simple
I don't know of any from the top of my head, but are you familiar with solana's web3js
If I try and run the orginal command again I get this
Thank you, do you have a suggested project I can fork that would make this easier than starting from scratch?
Hey sorry but I got another error.  I'm trying to check my sol bal using devnet I think (following a video)
then parse the transaction to grab the minting address
you'd have to get the very first transaction for each NFT
Hello. So around 3000 NFTs were minted and now I want to send X amount of a custom token to each minter. The problem is they can transfer the nft, buy/sell on the market. I have the list of mint Ids. From the mint ids, how do I get the list of the original person who minted it, and not the current holder? Thank you
np <:dankfingers:581630874462978059>
Thank you for your help üòÅ
nice üëç

ran it in vcs again with cmd
k
quit cmd?
yeah you'd need to quit vcs

gave me same error in vcs
then try again
and open it again
quit command prompt
if `solana --version` stil doesn't work

now try using `solana --version`
press any key
cool

this guy
`C:\solana-install-tmp\solana-install-init.exe v1.9.2`
whatever it was
`C:\solana-install-tmp...`
cool, now run that command you had again


run the C:\solana-install-tmp\... command again
lets see if i remember windows right
Ok I now I opened command in admin
looks like the vscode client doesn't have enough privileges to establish the symlink
rather than vscode
or do that in command prompt
as admin
try running privileged powershell
I'll be 100% honest I don't know much about coding and stuff like this so would you be willing to walk me though how to fix it?
but that didn't work in the previous command, hence symlink failed
because the computer doesn't know what `solana` command is and you need to point it to the right path
hm `solana` isn't working because you have a symlink error

Now I have another error I tried doing 
solana --version
but then I realized I left out the other command
 C:\solana-install-tmp\solana-install-init.exe v1.9.2 
and now I have another error not sure if I did something wrong again
üëç
you good
yep
It's working I think
you'll need to install it
if `curl` doesn't work after that
and then run the curl command again
`Remove-item alias:curl`
try this <@456226577798135808>
not curl
you're running something called `Invoke-WebRequest`
oh wtf
When running that I get this
yep!
like that correct
My bad I didn't add with that picture when I was trying different ways
download THIS and (--output) place it HERE
you're basically telling curl
you're missing the `--output` flag
I have two urls here because im trying to install the cli which can be found here https://docs.solana.com/cli/install-solana-cli-tools
interesting, thanks for the note
I've only added solana's bin directory to my path, and at least based on the last time I built from source (like, a week ago) I only have cargo-build-bpf in the bin directory
why do you have two urls there?
Does anyone know how to go about fixing this issue?
not sure why the cargo or build is included in solana source
and everything works great
just tested building the helloworld program
<:Shrug:856158473745727528>
and now everything works fine
so i just nuked it
i dont know it was annoying because my env kept using the cargo included in solana
Think you're all good then (what goes wrong when you use those other files? I've never touched them)

yes validator runs fine
Are you able to run your validator etc.? I have those files too
only cargo from rustup installation works
but these do not work
when building solana from source, the source code includes `cargo` `cargo-build` and `cargo-bpf-build`
hmm anyone have this issue
perfect thanks
oh okay tahnks, did you know if they got a discord?
Recommend asking in their discord https://discord.gg/7EWdUHYZ
It's not a uuid, but I believe it is. Not as knowledgeable on candy machine as metaplex
oh okay, so basically the progam uuid is the candy machine id right?
For candy machine, you would lookup on the candy machine account id and should be able to deserialize it to find out the config. We don't support that program here though
Don't believe you can
Hello guys can I just change contract address for existing token
let me know! Thanks!
HI, I just need to understand what programs actually are. For example how can I see the program uuid/config of a random candy machine nft collection? is the same for everyone?
Right (but that requires looking up a bunch of accounts etc)
i grok why it's useful, i'm just saying that with NFTs it is not as useful as it would be with normal tokens
right, you could find the derived associated token account address or, if i had one token account for that mint, easily choose that one when looking at accounts i owned
Like, if I want to airdrop you some CqfdCoin, I have to figure out where to send it to‚Äîfor lack of a better idea, I'll send it to the [roflsheep, CqfdCoin] associated token account
Associated token accounts are useful whenever you don't have some natural address for a token account to live at
also cheaper that way as you don't need rent in a new account, right?
not as useful because you can transfer a token account which holds 1 nft more easily than creating a new account to transfer the nft into
Why wouldn't they be useful for mints with one token?
is my intuition correct?
i figured this was because NFTs didn't typically use associated token accounts as they aren't as useful for mints with 1 token
thanks everyone for the insight re: the associated token program. i was mainly confused because i saw magic eden change the ownership of an account here: https://solscan.io/tx/5rZtdrKiaQYxN9DsaZG9w4ai3YaUX6BW3mDG6GCYUqycUUEME39sXwJCtHgyF9EVBwdyxCRCMhomfeC8yYZsf6RU
https://swaroopmaddu.medium.com/solana-installation-in-macbook-m1-b08582d50db1
this did it for me
Any input on this ? Did anyone ever try to deserialize a voting account ? How to proceed since it's serialized with bincode but doesn't seem to be deserializable
you should be able to build from source.  and if arm is giving you issues you can use rosetta
let me go back through it again
hmm i thought i did
You need to build from source
```
verata@Veratas-MacBook-Pro solana-bpf-program-template % solana-test-validator
Ledger location: test-ledger
Log: test-ledger/validator.log
‚†ö Initializing...
zsh: illegal hardware instruction  solana-test-validator
```
sure let me check the log
anymore error info?
using macOS 12.0.1 on M1 Max
trying to pop a `solana-test-validator` but I get `illegal hardware instruction` error. None of the responses in the repo issues have helped. Any tips?
Yep, the authority of an account should be transferable via the standard spl token instructions.
the associated token account gets derived from the token mint and the pubkey of the owner address, so if you would just set new authority to that token account, nobody would be able to find it, the token accounts should be deterministic in case of common/traded tokens
the associated token account program and the token program are 2 different things
for ATA, you shouldnt use that method because the concept of the associated token address is to associate it with a primary account, and if you set the authority to another address, your taking that association away from the lookup vs the owner.
So an associated token address is a program-derived address (derived from the associated token program) using the owner + mint as seeds. The account itself that lives at that special address is then just a regular token account.
All token accounts are owned by the spl token program‚Äîthe purpose of the associated token program is purely to give some token accounts a nice "obvious" address based on the owner of the tokens + the mint
if the associated token account program is just a 'wrapper' around the token program, why should one not use the token program methods?
hey all - kind of confused about the difference between the associated token account program and the token program. mainly because of this line in the docs:
`The wallet should never use TokenInstruction::SetAuthority to set the AccountOwner authority of the associated token account to another address.`
<@!307429921225965569> Thanks, that was exactly it. I guess I need to go make some fractals and sell NFTs to fund moving dev to mainnet üòÑ
Mood rn https://www.youtube.com/watch?v=z6-FWJteNLI
For sure! How did you get it done?
ok i actually managed to work out my issues thank you for your time jordaash
Ahhhhh, let me try and increase my sleep to be much longer üòÇ
that's possible, that happens with me when I get ratelimited by the rpc node usually üòÑ
I'm trying to deserialize a Vote account in a program (I believe it is `VoteState`).
However, I do get some errors when using serde/bincode :
```
Error: Function _ZN94_$LT$$RF$mut$u20$bincode..de..Deserializer$LT$R$C$O$GT$$u20$as$u20$serde..de..Deserializer$GT$17deserialize_tuple17hc6644760169e7064E Stack offset of -4752 exceeded max offset of -4096 by 656 bytes, please minimize large stack variables
```
Is there a recommended way to deserialize a vote account in a program ? (https://github.com/solana-labs/solana/blob/master/programs/vote/src/vote_state/vote_state_versions.rs#L20)
Thanks üôÇ
I can already see the details of the error in the output I think: `invalid type: null, expected struct EncodedConfirmedTransaction"` - what's bugging me is it seems like that means the RPC itself is returing nothing?
I prefer to keep developer support questions public but we can use a thread to keep it organized
just remove the `.unwrap()`from the `get_transaction` and it will print `Ok(hash)` or `Err(e)`, from there you will see.
great thanks, do you mind if I DM you?
(I don't know of a direct way to do it, but this looks to me like it'll work)
So then you could filter your inner instructions by matching the public key of the system program, and then create your own TransactionInstruction instances and pass to the decode function to find a match
Hey! I'm trying to write some code to call a smart contract and verify its output, I can successfully issue transactions and view them on the blockchain viewer, but when I try to get the transaction details in code it is failing.

Code looks like this:
```
    // Perform the transaction and get the signature
    let signature = connection.send_and_confirm_transaction(&transaction).unwrap();
    println!("Transaction complete, signature: {:?}", signature);

    thread::sleep(time::Duration::from_secs(5)); // Sleep which doesn't fix the problem :joy:

    let cmpl_tx = connection.get_transaction(
        &signature,
        UiTransactionEncoding::Json,
    ).unwrap();
    println!("{:?}", cmpl_tx);
```

Failure looks like this:
```
thread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: ClientError { request: Some(GetTransaction), kind: SerdeJson(Error("invalid type: null, expected struct EncodedConfirmedTransaction", line: 0, column: 0)) }', src/bin.rs:122:7
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```

I'm running `v1.8.11` in step with devnet, had the problem on an earlier version of the tools too
You should be able to get the corresponding public keys from `Message::accountKeys`
I think you could use the account key indexes and program ID indexes along with https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#compileMessage from the deserialized transaction
do you know how i can get a `TransactionInstruction` from a given `CompiledInstruction` value?
really interesting paper btw!
<@!768486252168216647> I have a question about your paper https://github.com/solana-labs/spl-zk-token/blob/master/paper/part1.pdf... can you still shuffle around ownership of zk token accounts using the set_authority instruction? Obviously the balance won't be spendable without the decryption key but for my application that isn't an issue
Thanks, I'm not sure if that's exactly right though because that takes in a `TransactionInstruction` type and what I have here is a `CompiledInnerInstruction` type

see here https://solana-labs.github.io/solana-web3.js/modules.html#ConfirmedTransactionMeta
This might help: https://solana-labs.github.io/solana-web3.js/classes/SystemInstruction.html#decodeTransfer
Hey all, can anyone point me in the right direction with figuring out which inner instruction of a transaction is the System Program: Transfer instruction as well as who the intended recipient of that transfer is?

I have the encoded inner instruction but struggling to figure out how to parse that out. Haven't found anything in the docs yet. Thank you!
(Or do something way simpler and just hardcode the expected pubkey of that Signer into your program, and then verify that the Signer's address matches it)
You could borrow some ideas from here to do something like that, yes: https://github.com/cqfd/anchor-upgradeable-loader
phantom wallet had an update today. Could not see the time but maybe it was shortly
Maybe that messed something up
But my Sollet Wallet is Connecting
Same problem from my end
or is it devnet rpc?
is phantom wallet dead right now?
Literally did nothing and from one second to another i am not able to connect to it with my website
its faster
its scalable
we have melania trump and steph curry on our side
It's Cheaper
hey guys, i am working on a metaverse/nft project and trying to convince my team why we should build on Solana not on eth/immutable x... any advice or suggestions?
You could hardcode the public key of an account that must sign any instruction of the program
is it possible to prevent a 3rd-party from calling your contract?
it didn't seem explicitly called out in marketing material or in documentation, but my interpretation of this wording w/r/t to Rust, "The basic off-chain SDK, it re-exports solana-program and adds more APIs on top of that. Most Solana programs that do not run on-chain will import this." implies that you can run your own off-chain (private blockchain) based on Solana. I have a strong use case for splitting up my platform into payments (mainnet) and some heavily customized, permissioned, industry-specific L2/side-chain for high tx volume (100K's to millions per second). if that is the case, is there any facility for off-chain Solana cluters to interact with mainnet?
is there a public chart or something of historical slot times
here is the anchor disord,
https://discord.gg/uU9q24Re
it looks like something might have been messed up with an installation path, perhaps anchor cannot find the solana installation?
yeah sure
Can I DM?
you are welcome
LMK if it works
Thanks
https://docs.solana.com/de/cli/install-solana-cli-tools#build-from-source
usually they should be right by default
if they are not right then you would not be able to use commands like solana cli or rust

My problem was i think that my solana cli got messed up

Try building it from source
How do I make the paths right?
seems like more work than it actually is, escpecially compared to trying to make paths right etc.
Wow üò≥
like uninstall rust, anchor and solana cli
had the same error 3 month ago
Something got messed up while installing
What helped me was to uninstall everything and install it with absolutely making sure you have the right paths from scratch
Hey guys. Is it possible to change contract if the token is already in circulation and trading on raydium?
Can Someone Please help me out with this Error
aaaaah 
Thank you for your quick answer
Was wondering all day why that happened
The reason for this is that `sendTransaction` is using Phantom's `signAndSendTransaction` API which performs simulation, but `signAllTransactions` uses Phantom's `signAllTransactions` API which does not
phantom
I created a custom token and delegated to another account. I want delegated account transfer custom token to another wallet how can it be done with web3.js ?
What wallet are you using?
Hi All,
https://discord.gg/3pzG6CjR
Is this a bug somewhere on my side or a weird feature?
Hi, when i try to sign a transactions with the connected wallet, it is supposed to show this little window where it is asking for approval and shows the balance changes and network fees. 
But in my case when i try to sign multiple transactions it is not able to show the costs of the transactions. It just says: Unable to fetch balance changes.

When i click approve everything goes according to plan and all transactions go through.

Is it just like this that when you sign multiple transactions with a wallet, that it does not show the balance changes or did i do something wrong?
hi guys i need some help with anchor, assuming this code 

```rust
pub struct Launch<'info> {
    // this is owned by the current program
    #[account(
        init,
        payer = authority,
        space = LaunchControl::space(),
        seeds = [
            b"crashies",
            authority.to_account_info().key.as_ref(),
        ],
        bump = bump
    )]
    pub launch_control: Account<'info, LaunchControl>,

    #[account(mut)]
    pub authority: Signer<'info>,

    pub system_program: Program<'info, System>,
}
```

is it possible to determine if `authority` created the current program? 

Basically, I only want to allow an endpoint to run only if the `authority` also created the program. Is this possible?
when I use the SystemProgram.createAccountWithSeed() it works perfectly with the phantom, but the SystemProgram.createAccount() function doesn't work. Interesting.
It is a singapore-based website & trying to scam you out of coin for lottery "winnings"
No, that's part of the process
Please be careful of a scam by bit-wall.com
Team, is there any way to transfer wrapped SOL token account back to a native account _without_ closing the wrapped SOL account? I want to transfer part of the funds in a wrapped SOL account only.
```
export async function initProgram(
  provider: PhantomProvider,
) {
  if (!provider.publicKey) throw new Error("No Provider");

  try {
  const programAccount = new Account();
  const createTempAccountIx = SystemProgram.createAccount({
      fromPubkey: provider.publicKey,
      newAccountPubkey: programAccount.publicKey,
      space: PROGRAM_ACCOUNT_DATA_LAYOUT.span,
      lamports: await connection.getMinimumBalanceForRentExemption(PROGRAM_ACCOUNT_DATA_LAYOUT.span, 'singleGossip') + 0.1 * LAMPORTS_PER_SOL,
      programId: programId,
  });

  const tx = new Transaction();
  tx.add(createTempAccountIx);
  tx.feePayer = provider.publicKey;
  tx.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;

  let { signature } = await provider.signAndSendTransaction(tx);

  await connection.confirmTransaction(signature);
  console.log("Transaction " + signature + " confirmed");

  } catch (err) {
    console.warn(err);
    console.log("Error: " + JSON.stringify(err));
  }
}
```

Is it possible to create an account with the phantom wallet this way? I'm having this error:

```
Error: {"code":-32003,"message":"Transaction creation failed."}
```
https://discord.gg/4UQepZms
You should ask this on the Metaplex discord
**Hello everyone, does anybody know what the new 3 commands are for candy machine v2? v1 looked like this:**

*npx ts-node js/packages/cli/src/candy-machine-cli.ts upload ./assets --env devnet --keypair (PATH)*

*npx ts-node js/packages/cli/src/candy-machine-cli.ts create_candy_machine --env devnet --keypair (PATH)* 

*npx ts-node js/packages/cli/src/candy-machine-cli.ts update_candy_machine --keypair (PATH) --price 1 --date "19 Oct 2021 00:00:00 EST"*
I see, thank you
I don't think this is a feature today
Is there a way to 'name' an instruction such that when a user on the client side calls it, Phantom will display that name instead? Like how in MetaMask there can be custom names for contract interactions.
<@!693486673606082580> <@!307429921225965569> there's some effort towards an async RPC client in https://github.com/solana-labs/solana/pull/20683.  Nothing today though
That's what I'm also looking for, but can't find any. And the official rpc client uses tokio::block_in_place for the client for some reason, so it blocks a lot of things. Thinking on doing the encoding part myself and just send it with an async reqwest client. If you have a better idea, let me know please üòÑ
Im using python
Sorry if this has been asked before but how can i get the UpdateAuthority (of an NFT) via RPC call o API request?
I made custom Instruction   
```
 let instruction = Instruction {
        program_id: *program_id,
        accounts: vec![AccountMeta::new(*account.key, false)],
        data: ProgramAccountInfo::try_to_vec(&account_data).unwrap()
    };
```
for invoke
```
    invoke(&instruction, accounts)?;
```
but it didn't invoke target program. May I know why?
<@!483890519924277261> any input on  https://github.com/solana-labs/solana/issues/22150?
hi, is there an *async* RPC client in rust?
hello?
How can I deserialize the returned array from transaction.serialize()
Think I misread that, but this code shows the full usage of parsedInstruction's value
Just looking at explorer's use of `parsedInstruction`, it looks like the value may have the entire transaction object in it, which has each list of account you need https://github.com/solana-labs/solana/blob/7ce910f459beb24e306673e6639a4375fe46f99a/explorer/src/utils/instruction.ts#L51
https://discord.gg/8K8TUfbE
Oh, btw, hi solanafm
Right, what's in parsed though? Possibly exactly what you need
Referencing to my initial question,

```#[derive(Clone, Debug, Serialize, Deserialize, PartialEq)]
#[serde(rename_all = "camelCase")]
pub struct ParsedInstruction {
    pub program: String,
    pub program_id: String,
    pub parsed: Value,
}```

There's no account_keys tho
Thanks a lot for the perspective, that makes sense!
I would look at whatever is in the value
Thank you so much!

For 2)

How do I find out what accounts are involved for the instruction tho?
```rust
    fn from_account_info(_account_info: &AccountInfo) -> Result<Self, ProgramError> {
        // This sysvar is too large to bincode::deserialize in-program
        Err(ProgramError::UnsupportedSysvar)
    }
```

from : https://github.com/solana-labs/solana/blob/master/sdk/program/src/sysvar/slot_history.rs#L19
Gotcha
Ah
I'm getting `Unsupported sysvar` when trying to access `SysvarS1otHistory11111111111111111111111111`. Any idea why ? I saw a few other messages about this on this channel but no answers were given unfortunately
Sure!
can i inbox you to ask a bit more about the example as i'm not that familiar with anchor!
Overall, I'm seeing a lot of people just creating accounts and then using accountsdb to keep track of things
Always ask, "what do I gain here from decentralization?" Sometimes the answer is nothing. Something it is a bunch
Depending on what you're doing, it may be better to just web2 it up. All up to you
oh yes sorry! slipped my mind as i was stuck in thinking about next part of deserialising the program data! as this would be completely the first time for me doing so


///////////////////////////////////////////////////////////////////////////////////////////////

here are both, the parsed data from the parsed transaction instruction, and the unparsed (buffer) data from a non parsed transaction instruction
hey guys, this is i think a tricky question, how can i convert the data of a parsed transaction to the buffer data of a non parsed transaction
can someone help me with switching my wallet styling to react ui instead of the default material ui for candy machine mint? would be greatly appreciated
Thats cool. Thank you!!!!!!!
oh, just noticed this is pinned to the room: https://solanatools.xyz/faucet/devnet.html
That was it )))
the airdrop is limited to 1 for some reason
When I use SolFaucet and drop 5 SOL to my Phantom Wallet (on Devnet network), I do not see it. Any ideas why?
Yep! Definitely think it's good to keep addresses and accounts as separate concepts
"creating an account at an address requires signing" THANKS! that is what i was tripping over - an address is not an account yet üëç
Creating an account at an address requires signing for the address, so yeah, you can't create an account at a PDA without asking the deriving program to sign
‚ùì  Solana NFT question ‚ùì 
Is it fair to say that most Solana NFT projects are built using Metaplex?  Are there any limitations there or is it truly the "gold standard"?
But you could, say, send some sol to a PDA purely from the client (I mean, it still runs stuff on chain, but no need to ask the deriving program to sign anything necessarily)
You can only *sign* for a PDA address on-chain (only the PDA's deriving program can sign for one of its program-derived addresses)
I must have got confused because I can create a PDA off chain and send money to it successfully (anyone can credit anyone) but executing instructions as said PDA can only happen on chain. I think thats the answer I hope.
this is close, but looks like it only subtracts from compute budget. looking for something that'll spin
Am I misunderstanding or instructions executed by PDAs can only be created on chain? I suppose it makes sense that way. Actually probably the only way
https://docs.rs/solana-sdk/1.6.4/solana_sdk/?search=compute - we just did this yesterday, not sure which method but something here.
It seems I can't generate the instruction off chain because only the system program can sign for it on chain
I created a pda off chain and would like to initialise an account with data at said address.
https://doc.rust-lang.org/std/keyword.as.html - or just import them with aliases ü§∑‚Äç‚ôÇÔ∏è
Hi. When creating Solana related rust crates. Can I also name them with "solana-" in the beginning?
https://solfaucet.com/
I have a Phantom Wallet and changed the network to Devnet. How can I add SOL to it for testing?
Hello! Could you please explain how to decode instruction data, like this (`data` field):
```
  "instructions": [
    "data": "11119os1e9qSs2u7TsThXqkBSRVFxhmYaFKFZ1waB2X7armDmvK3p5GmLdUxYdg3h7QSrL",
    "programIdIndex": 8
```
Thank you!
is there a good way to measure how many compute units a program will take? would like to write program + txs that maximize compute used up to the 200k limit to test some stuff
Not that I know of :/ I would love to know about one though!
Is there a tool to decompile it?
The compiled code lives on chain, but not the source code‚Äîthere might not be any easy way to get the source code itself unfortunately
I want to copy this smart contract and use it for my own purpose but the owner hasn't published it so I wonder how I can get the code from the blockchain. I did a transaction with the smart contract and got the Program ID and Instruction Data. I typed it in solscan but I can't find the conract source code. Is the code on the blockchain? I mean the smart contract must be on the blockchain so is it also possible to get the source code?
Instruction Data: jzDsaTSmGkw
The programm ID is this: 9DFgFhTDKJFwbzhfYEXMPNXA1aZN9hHZryZBg4y1poP1
How can I get the smart contract source code if I know the Program ID of the mart contract?
Along with this spec: https://borsh.io/
In general it depends on the serialization framework you're using. Borsh itself does very simple things, so you can guess an appropriate length with some practice/tinkering around like this:
```.rs
#[test]
fn hmm() {
  eprintln!("{:?}", "foo".to_string().try_to_vec());
}
```
What is simulateTransaction
Empty struct works fine if the content is not variable in length, such as String, Vec<E>, BTreeMap<K,V>, etc. In which case take the initial size (i.e. `mem::size_of::<T>()` and add yourself some growth bytes. When the account data 'reallocation` feature is enabled you can adjust this dynamically. Of course, if dynamically resizing then changes in rent should be anticipated as well.
was just about to think that üëç
you could create an empty struct of the account data you want to have, and use the length of it
In javascript you can use buffer-layout https://www.npmjs.com/package/@solana/buffer-layout or borsh-js https://github.com/near/borsh-js
How do I determine space required when creating account in rust?
150 blocks, got it.
<https://solanacookbook.com/core-concepts/transactions.html#facts>

Thanks, is the duration hardcoded or calculated somehow?
iirc it's around a minute now
How long is a blockhash valid for when used as a recent blockhash?
How do i differ between a NFT Token account and a regular spl token Token account?
IF:
1. The amount of the spl token is 1 
2. The decimals of the spl token is 0
Hi, how would i change the decimals on my token?
and im using solflare for wallet on my phone but it does not show the coin name and icon, just the address, same for phantom wallet in chrome, it does not show icon, how can i make it show name and icon everywhere?
is it possible to change the signer status of an account in the program?
for example
`{pubkey:test,isSigner:false,isWritable:true}`
can i somehow change it to t`true` in the program during execution
Lot of transaction timing out after 30 seconds, is there a problem on the network?
is there any dex on solana which is deployed on devnet as well? and we can use it via UI? Also, what is the easiest way to get devnet USDC, USDT?
in spl token, how can I transfer token with fund recipient on? ie transfer should confirm even if receiver account is not funded?  I can only see createTransferCheckedInstruction in spl token js library
any calculation method avilable
0.012 sol
<@!590982495923732511> how can know that how much lamport need for create mint
https://docs.solana.com/developing/clients/jsonrpc-api
https://docs.solana.com/developing/clients/jsonrpc-api#getprogramaccounts
Coingecko has a good one.
provide us with more information man ü§£ 
And try this here https://discord.gg/XhExCxap
What is a good solana price api?
When uploading to candy machine
Makes no sense but I am getting this error
Candy machine v2 error
Error(`Invalid public key input`);
Hello, Is there any web3 JSON RPC API which fetches specific program's all data account at once?
how can i create spl token mint from a phantom wallet lender
HI
wow - way wrong - sorry - but glad you got it!
ah got it there is a `connection.getBalance()`
unsure - I would think you could use anchor to make a ```balance``` call but unsure.
can i fetch the SOL balance through `solana-wallet-adapter` ? or do i have to make an rpc call for it ?
i was working on it yesterday xD
Yup.  THANK YOU.  Where did you get that from?  (or was it your head?)  Anyhow, thanks!
you mean this ?
Where can I find good docs on Anchor?  I need to pull in a private key from a keypair file and read the public address from it, but after searching Professor Google I can't seem to find the code I need.  I'm assumint the function is somewhere in ```@project-serum/anchor``` at ```web3.Account``` or something like that but I'd love to see some boilerplate code showing how we're supposed to do this.
what is the criteria in selecting the transaction to process among multiple transactions belonging to the same slot and having the same instructions?
Hello everyone!
SOL and token transactions go online within 30-40 seconds.  Sometimes, after exceeding the 60-second limit, it does not leave at all.  Is this normal network behavior?
How do I create custom tokens in solana using rust? <@!178068735054053376>
for you, there are two parts.

1. create token
    this part you can only use ts because all token based on token program and token program has already deployed on chain.

2. stake token
   for stake token, you will implement your own logic about stake, I think you will need to use rust (or c) to write your contract and use ts (or other language) to write the client for interacting with your program.
So the cookbook link is in typescript, does that mean it's possible to build your token contract entirely in typescript?
It's up to dapps to deploy and support other clusters.  You'll have to ask them if/how
Am I missing something?
where can I get usdc, usdt tokens on devnet? I am also not able to use dexes on devnet, for example couldnt find option to change network in radium app.
for create token https://solanacookbook.com/recipes/token.html#create-token
for stake you can take a look at https://github.com/step-finance/step-staking
Hi, is there any good resources on creating a Solana based token with the ability to stake it?
when you compose your tx, you can specify your fee payer like `tx.feePayer = xxxx`
I think you can ignore signer's order if you do that.
I've seen a lot of sites that keep wallets connected now, no need to reconnect after refresh
[11:50 PM]
any resources on how they're doing that? doesn't look like its with any localstorage or cookies
new to solana py, can anyone help me recreate this transaction? https://solscan.io/tx/3tffXNxrwsb3dNVWfH3pzGqMnHinkGa4JHUrKnDKYJz6BDBnkwHoV1PwsKjdoaZrp1GXW7SU2hoBd41pohbDdLMu
is it necessary that the fee payer should always be the first signer when using partialSign?
So if that PDA is the authority for an associated token account, then if you want to transfer the token from the ATA to somewhere else you'd need to produce a signature from its authority, aka the PDA‚Äîwhich requires asking the deriving program, since only the deriving program can sign for one its derived addresses.
Think you're going to have to explain further/maybe post some code. A program-derived address is just an address, it doesn't have an authority or owner in and of itself (it has a deriving program, and that deriving program can sign for the address)
np!
ok, ty!
anything to do with NFTs, arweave, candy machine etc should go there
this is def a question for the metaplex discord server. support in here is focused on solana core protocol and Solana Program Library
I am somewhat confused on how I can transact for a PDA.

I can create a PDA and an ATA for that PDA. I can then transfer a token to that ATA. If I need to transfer the token from that PDA ATA, who should I specify as the authority/"owner" of the PDA ?
Actually I'm trying to listen to solana blocks to find nfts on sale. As I understood I can find transactions on desired nfts and then should somehow catch their metadata. For example when looking for transaction with some ape nft I get this key, which I can find at solana explorer (but it gives me nothing useful if I put it to getAccountInfo).  In ideal I need to get those link to arweave. Maybe u have some suggestions?
What is going on with solana program deploy in 1.9.2, it prints
```
msg EBbqUhGrCw8aurJziqMcUhkUGUFYqx6dbomFc4SJUYcT
msg EBbqUhGrCw8aurJziqMcUhkUGUFYqx6dbomFc4SJUYcT
msg EBbqUhGrCw8aurJziqMcUhkUGUFYqx6dbomFc4SJUYcT
msg EBbqUhGrCw8aurJziqMcUhkUGUFYqx6dbomFc4SJUYcT
msg EBbqUhGrCw8aurJziqMcUhkUGUFYqx6dbomFc4SJUYcT
msg EBbqUhGrCw8aurJziqMcUhkUGUFYqx6dbomFc4SJUYcT
...
```
and seems to do nothing
yeah, that works, ty)
yea your right üôÇ
yea haha. but yea.  
looks like someone copied the json RPC example and tried smashing it into the web3 code.
i think this-ish
```let newKey = PublicKey('your base58 public key string here');```
Or at least that's what the types say
Ah‚Äîmy understanding from the source was that it wants an actual PublicKey instance, not just a base58 string
thats not a valid public key?
Nope, think you need an actual public key after all üòõ
Oh whoops maybe I misread that example
Pass an actual public key, `new web3.PublicKey("vines...")`
Hi! Get an error in getAccountInfo with input from example
was requesting too much sol
im an idiot dont worry
works for me
wfm???
wfm
One was not created on install
I only have the one I created
can't seem to airdrop sol or upload a program, on solana beach last transaction 4 hours ago? 
just wanting some confirmation
yo is SOL devnet down atm?
Ok cool thanks
not currently but it will
Hello solana main dude , the solana main site doesn't have a url of those external sources ?
you're better off using https://soldev.app for content aggregation
but those are good sources
looks like an aggregator, not aware of any direct association.
the signature need to be validated at the time the debit happens as part of a transaction, so with something like offline signing, and a durable nonce, if the transaction is signed but sent to the program to process at a specific time, I suppose, it may work. Though im not certain on any durable nonce expiration. Anything else would likely have to be extremely creative, if not possible. Your probably better off using offline signing and storing the transaction with a service then executing at the specified date/time and checking on nonce expiration.
Hello is the sources for solana dev , mentioned in the site associated with solana in anyway ?

https://www.w3bs3c.com/101
any luck?
Is it possible for a user to sign a transaction that allows a program to debit the user's account (probably using a PDA) at a later time? I know the amount, but not the time when the condition will be met.
original is  `.config/solana/id.json` (for me anyway)
how would I check that/
I didn't know it created a keypair with install
did you try the original keypair that was created with the install?
Not familiar with ec2, perhaps someone else here has resolved this
and wget returns the proper content of the page
The security group is configured to allow all incoming/outgoing traffic
This is my first time ever using this
Maybe something with EC2, had you been able to get your balance previously?
Here's the exact process I followed:
Yeah, I can see the endpoint is up by just going to it with a browser.
those questions go in metaplex discord
Can I ask metaplex gumdrop questions here?
Working here
specifically this one: ```Error: RPC request error: cluster version query failed: HTTP status client error (403 Forbidden) for url (https://api.devnet.solana.com/)
```
I get a 403 FORBIDDEN error when attempting to interact
yes
`solana config get` -> Make sure you are on devnet, if you are
Did you create the wallet when connected to devnet or....?
I am unable to view the balance of my devnet account using the solana command line tools
try the metaplex discord https://discord.gg/metaplex
Thank you very much!
you can use `simulateTransaction` to get simulated balance changes and calculate the amount being sent by the change to the sender's balance, this is how for e.g. phantom shows you a cost before you confirm https://solana-labs.github.io/solana-web3.js/classes/Connection.html#simulateTransaction
Or is there a way to get the amount of sol to be send from a serialized transaction?
Is there any way in web3 to get the amount of sol sent in a transaction not yet confirmed? Or confirmed but not finalized?
Hello, where can I get help with Candy Machine error?
Thanks, I will do this.
So do what I just said.  Examine the account you're passed and create it if it meets those properties
So I wanted to create a PDA only if it hasn't been created yet. This can only be done within the  program right?? So I wanted to know if it was created before or if I need to create it.
Well, more specifically it will probably be zero-lamport-balance, zero-data-size and owned by the system program
You should already know what your accounts look like after initialization, if that's not what you're passed, then it probebly needs created
How can I check on the program side if a PDA has already been created?
did you manage to find out how to do this?
does anyone here knows how to retrieve SOL from a Program Executable Data Account with its upgrade authority?
So I configured a devnet wallet, but running "solana balance" gives:

```
Error: RPC request error: cluster version query failed: HTTP status client error (403 Forbidden) for url (https://api.devnet.solana.com/)
```
No
is a PDA rent exempt by nature?
How can I access my project on solana ecosystem website?
ah - ok thats fair. just cutting my teeth on this stuff
Pretty sure this would question would be better directed at the Metaplex discord
gm all - question if anyone's familiar with the @solana/spl-token JS library. Is there a way to get all the tokens associated with a particular collection of NFTs with one request, or few requests?
There's some overhead per account
```
$ solana -um rent 0
Rent per byte-year: 0.00000348 SOL
Rent per epoch: 0.000002439 SOL
Rent-exempt minimum: 0.00089088 SOL
```
You can see the exact rent exemption calculation here: https://github.com/solana-labs/solana/blob/master/sdk/program/src/rent.rs#L55
So a 1mb account accrues the same rent as 1000 1kb accounts, is this correct?
But your initial question can't really be answered generally
You still pay rent on unused, allocated data.
basically what's the trade off between having multiple accounts small accounts per user, versus one large account?
If your average account size is say 500kb, but then you have quite a few accounts that are larger than that,  is it better to initialize all accounts at say 2mb to cover the fringe cases, or initialize your accounts at 500kb and then create more accounts as needed?
Yep
that was it `&[&keypair]` instead of &[keypair] üëç
So `&[&your_keypair]` doesn't work?
https://docs.rs/solana-client/latest/solana_client/tpu_client/struct.TpuClient.html#method.send_and_confirm_messages_with_spinner
the signers argument
the `send_and_confirm_messages_with_spinner` arguments
Satisfy what?
that makes sense, however putting a bunch of keypairs in a slice does not satisfy.
Ugh... why does that method sign instead of following the RPC client synonym though ü§¶‚Äç‚ôÇÔ∏è


///////////////////////////////////////////////////////////////////////////////////////////////

You need to do base58 decode to a byte array and write the array out using json writer
https://solanacookbook.com/recipes/keypairs-and-wallets.html#getting-keypair-from-a-secret
it worked in phantom to add the wallet with the string
yes
Do you mean it's a string? Something like this: "SampGgdt3wioaoMZhC6LTSbg4pnuvQnSfJpDYeuXQBv"?
Hello, I'm trying to use solana cli. i tried to do "solana config set --keypair /home/user/.config/solana/test.json" but my keypair isn't a json Array, its a lot of letters and numbers. How to use my private key (that is a combination of a lot of letters and numbers) ? is it possible to convert it ? or use a txt file instead ? I don't know what to do I'm stuck can someone help me please ?
Try going through this https://learn.figment.io/pathways/solana-pathway
Hi Everyone,

I was wondering about if there's any tutorial for building Solana from scratch to understand it better. 

Does anyone of you know if substrate (a framework) can be use for that?
Is there any way to learn rust for a JavaScript dev or Typescript background?

This is just for learning proposes. Thanks in advance! i really love this community.
ok I realised that 50 is not the limit, but whenever I use it on an account that has ~100+ SPL tokens, it just freezes. does it not take a long time forr you?
I don't know what you need for utxo/bitcoin
For Solana you can catch events for a variety of states (logs, accounts, programs, etc.)
If you wanted the payments from customers to go to one MAIN address you can do a Wallet to Wallet transfer without calling a unique program, it instead uses the Solana system program
after that we check the success of the transaction. if everything is ok, then we provide the buyer with the paid service / product. just as if he was paying by credit card.

the question remains how to accumulate coins later on at one main address.
you can generate many private keys and make transfers from one address to another, but this complicates things too much.

I will do some research on "utxo".
As I understand it, you need to write a smart contract that will monitor all this?
If you do a google on "utxo" there are tons of references. 
With respect to your use case:
1. Consumer A visits your site and they have a SOL wallet for which they want to pay for their purchase from?
2. You want that payment to go to a 'one time' account (I presume it is owned by your program)?
3. What happens after that?

Either way, take a look here for some account basics and how you can perform a transfer of funds: https://solanacookbook.com/recipes/accounts.html
I'll try to explain what we want.

We are developing a project and we need users on the site to buy a product and pay with Solana coins.

The management wants for each new payment, a new one-time address is created to which the buyer will pay.
And then the coins received for payment must be accumulated on the main wallet.

I don‚Äôt know how in different blockchains, but this is implemented in bitcoin.
I don‚Äôt know exactly how, but they give me the address where I have to transfer the coins, I translate, and the second time I can‚Äôt use this address anymore.

In Solana, I did not find this, or maybe there is such a mechanism, but I don‚Äôt know what the name is.

how to do it?
No the new wallet-adapter should be used as is and the community should adopt it; some caveats and a bit more code is missing of initializing tokens on wallets prior to sending which a user can easily skip; and most importantly getting the sender/receiver ATAs let me see it a bit more as share more code
<@!489206164270350337> could you tell if there is a reliable way to get finalized blocks? calling getblock after getting an update with rootsubscribe is not reliable because the block might not still be present on the node somehow
not that i can find
I'm sure anchor has something, but I don't support anchor
That's basically it, as it is a native program.
any docs? the native program example is a bit baffling
Would you recommend more wallet-adapter tabs on the different examples?
Yes
It was fixed and no funds were lost https://blog.neodyme.io/posts/lending_disclosure?s=09
is it possible to do ed25519 verification usingcpi?
Cookbook is a fantastic reference - it is what helped me write out the code - but yes for a new dev it does throw them off as many are not creating a new wallet (from/to etc) and relying on the newer wallet-adapter - but this is my 2cents don‚Äôt want to take up much of the support real-estate happy to contribute anywhere I can
<@!489206164270350337> have you seen this? any solution link?
coz I only use timestamp
I changed to Clock::get() for better security thanks
As long as you do the correct checks on your program, you should be ok
https://discord.gg/hZQgy3FB
Seems like an anchor issue. Try their discord
You could do something like this https://solanacookbook.com/recipes/basic-transactions.html#adding-a-memo
Do you have any feedback for the cookbook?
not a lot of answers on google or stackoverflow :/
> yarn --version
1.22.17
hey guys trying to learn solana following these documents and i was able to install the dependencies correctly. however i keep running into this error when i try to run anchor init

anchor init testsolanaapp --javascript
Error: yarn install failed: The system cannot find the file specified. (os error 2)
anchor --version
anchor-cli 0.18.2
node --version
v12.14.1
rustc --version
rustc 1.57.0 (f1edd0429 2021-11-29)
Quick security question lads, can someone fake Clock Sysvar?
>     let clock_info = next_account_info(account_info_iter)?; // 5
>     let clock = Clock::from_account_info(clock_info)?;
The link you gave is not working
Writes on the page - 404 Out of nothing, something
Hi <@748280825384271895> I noticed your post a few days ago I carefully followed through it to see if you did get an answer not knowing if you actually solved this issue, you will find this helpful which I wrote up, should answer your questions on getting SPL Token transfers done (supports SOL/SPL Tokens and initializes if needed) - using the new wallet-adapter https://github.com/Grape-Labs/send-token
Is there a way to send a transaction AND a message together? Or what options do I have if i want to send SOL to an address but also data?
I know that I can fork the program and deploy it, but any tokens minted with it would not be recognized in wallets, because they (at least Sollet) hardcode the TOKEN_PROGRAM_ID
Hi,
is there any way to override the amount_to_ui_amount function in the SPL token program?
Your use case isn't clear, provide an example. In the meantime: https://medium.com/bitbees/what-the-heck-is-utxo-ca68f2651819I
In a solana program (equivalent of smart contract) you can identify multiple address that you can send lamports (fraction of a SOL) to
The function likely takes an account and not a reference. Perhaps `tokens_sending_token_account` is needed later and because ownership needs to be retained, a clone is made (copy)
Does anyone know if there any way of printing out the full list of token holders on a project?
Good day to all!

Tell me how to make multi-addresses for accepting payments, as well as how it is implemented in the bitcoin network?
New invoice = new address. but in fact all the money goes to 1 main address
I looked in the Solana documentation, I searched the Internet, but in fact I didn't really find anything how to create such addresses
I always wondered what does clone mean in invoke? Clone wars?
How to make sure we dont have this bug in our new dapp?
https://www.theblockcrypto.com/post/126318/solana-library-bug-could-have-seen-attackers-stealing-27-million-an-hour
When making a NFT set, does each NFT have a unique mint address and we know they are part of a set because of the metadata? or do they all come from the same mint address and individual NFTs are dissociated through the metadata?
If that's the case, how can I create token account for SRM ü§î
https://explorer.solana.com/address/SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt?cluster=devnet Here's the SRM - and I guess it keeps failing cuz its an account and not a token?
So far the SRM is the only one that fails
I cannot find srm from the explorer. However, I cannot find some of the other tokens either but I'm still able to create token account for them
No, what's that
Is that the right token?
https://explorer.solana.com/address/E4ZN2KmnVmpwLwjJNAwRjuQLeE5iFHLcAJ8LGB7FMaGQ?cluster=devnet
https://discord.gg/vB7kqMVz
Right, I'm just wondering why or how come the SRM mint is invalid?
I wonder why this issue was not updated
Here is the Token program 0x2 Error:
```rust
if *mint_info.key != crate::native_mint::id() {
            let _ = Mint::unpack(&mint_info.data.borrow_mut())
                .map_err(|_| Into::<ProgramError>::into(TokenError::InvalidMint))?;
        }
```

Where the native_mint::id() is defined as
```rust
// The Mint for native SOL Token accounts
solana_program::declare_id!("So11111111111111111111111111111111111111112");
```
I have created quite many token accounts without issues but the SRM keeps failing for some reason
Yes, a lot of
Are there lamports in the FEE_PAYER?
ATA
Did you do `random` or `ATA`?
There is an Anchor Discord server you'd be better off asking that question in
Hey there, right now I am trying to get into solana development and I really just wanted to ask a couple of questions about the general development process.
The thing is, I really like Solana and I've been trying to figure out how to get in there, but the more I dive into it, the complexer it gets for me (obviously). First of all, I grabbed this tutorial off the Solana-Website: https://dev.to/dabit3/the-complete-guide-to-full-stack-solana-development-with-react-anchor-rust-and-phantom-3291... It tells me to install all of those dependancies, like the solana cli and the anchor framework. So I had to set up a WSL because I am on Windows and here things start to get annoying. I really dont get why anchor doesnt work in my VS-Code. I am 18 Years and I have experience in Front-End- & Back-End development for Websites in NodeJS.  If anyone could help me with a really good advice of where to start and what to read and what to watch, I would very grateful. 
CheersüòÜ
Hi everyone is there a repo for smart contract for referral system faucet in solana? thank you!
I'm on devent, btw
I'm following instructions from here https://yihau.github.io/solana-web3-demo/tour/create-token-account.html

I'm trying to create token account for SRM but it throws an error:
`Transaction simulation failed: Error processing Instruction 0: custom program error: 0x2`
and
`Program log: Error: Invalid Mint`

Here's the SRM data where I'm getting the mint, etc

```javascript
{
  ata: PublicKey {
    _bn: <BN: 23848354dd2ee7c29fe0af3c8594ca5fe1f84d2ffcc156dbcfc508dc380e8425>
  },
  address: '3PeTwvZXYcB3e4AxX7UpGALVfzihGi4hZg4CsAuJPWpk',
  mint: PublicKey {
    _bn: <BN: 68310861a98327d0550574d84418aa6e10c3352ddaa7fd7f58152cceeb23887>
  },
  token: {
    chainId: 103,
    address: 'SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt',
    symbol: 'SRM',
    name: 'Serum',
    decimals: 6,
    logoURI: 'https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt/logo.png',
    extensions: { coingeckoId: 'serum', website: 'https://projectserum.com/' }
  }
}
```

What's going on?
Also when I run this "Run solana airdrop 1000 to fund the wallet. If you run solana balance you should now see 1000 SOL. You should also see 1000 SOL in your Phantom wallet."

It gives me this error" Error: Dynamic program error: No default signer found, run "solana-keygen new -o SolanaWallet/my-keypair.json" to create"
Start a local solana cluster
Run solana-node-validator -r (the -r flag resets any previous state)

How do I run this??
not very predictable
my program log is sometimes in the end of logs, in the start etc...
what's the best way to listen to events emitted by a program using the program logs ?
ya, it was the invoke_signed but when i tested with a few wallets working fine on devnet didn't realize the problem , thanks again
i mean like documentation, for the functions ?
https://github.com/solana-labs/solana-program-library/tree/master/token/js
where can i check the api documentation for javascript spl-token library for solana ?
ok let me try invoke , thanks
its not a pda
yes signer is the wallet user
oic, let me try , thanks again
hold on. I think you use `invoke` can just solve this problem
invoke_signed means you want to sign a PDA but in your case seems you just want to use signer to transfer and signer not a PDA I guess
oic, didnt realise that was the case, then what should be the work around?
so some wallet can pass some can not.
when you use invoke_signed like you provided. you actually is doing `create_program_address` and singer account's pubkey is the seed
thats the only pda in the on-chain, but the client side there is a use createAccountWithSeed , would this cause the problem?
this is the next instruction to execute sending some sol to an account after the token transfer
just tested with the working wallet the same NFT with no issue at all
got it. so is there any other PDA you used?
I can just guessing you pass a wrong seed into your program for current information you provieded
let me try sending the NFTs to the working wallets if they work
the NFTs are random
while some wallets just working fine without problem
but it doesn't depend on the NFT, it is just some wallets will have all the NFTs fail when send to the program on chain
oh bump seed into tx data? I'm not too sure how to do that,
which NFT you used when you encounter this error?
just guessing you pass a wrong seed to invoke_signed
if you use find_program_address, your seed will become something like `&[your origin seed + bump seed]`

BTW you can pass bump seed into your tx data for saving compute budget
but the above statement is just for obtaining the pda to pre store it on chain
whereas nft_mint is a pubkey of a token mint
but b4 these two instruction I used  let addr = &[nft_mint.key.as_ref()];
        
        let (pda, _bump_seed) = Pubkey::find_program_address(addr, program_id);
I'm not sure if that is the seed fails but the console.log on a JS having this , it seems like the transfer of a token was success but and the next instruction on chain is a the transfer of sol to an account
what is the seed you failed when you used?
this has been deployed to the mainnet, thanks in advance
6KpYLKfFECrobqkLJ53XW9VYcjzpbsNNuqFxbx4JGUox
could you provide your program id and seed to me?
you will encounter this problem when you are very lucky.
the main idea of find_program_address is to put a extra byte in the end of your and do 255 ~ 0.
and only some wallets have this problem
but I dont use any create program address in the rust on chain, what I used is a Pubkey::find_program_address
I guess you use function like create program address right?
the result should be off curve. you can use find program address instead.
https://solanacookbook.com/recipes/accounts.html#generate-a-pda
Hello team, I was wondering if it was possible to store private data within an account? 

Essentially a similar question to https://forums.solana.com/t/access-control-private-data/1477
Hi, I'm getting this error with my program "Could not create program address with signer seeds: Provided seeds do not result in a valid address" with some wallets, only some wallets have this problem while other wallets work well, what could go wrong here ?
Hi all,
I am trying to mint NFTs via Metaplex on devnet using the Solana python package. At times, I see that the JSON RPC returns me a tx hash to be found nowhere on the explorer. How do I prevent such issues related to dropped txns?

NOTE: I have tried using https://api.devnet.solana.com and a Quiknode RPC. Both show the same behaviour. I get a tx hash, sometimes even 1 confirmation, but when I go to solscan, the tx is not found.
all good üëç
Oh I meant <@!770532829179150377>  sorry
I think you may have me confused with someone else - I was talking around the same time I saw this 10k going on
I am having `solana-test-validator` running issues - so waaaaaaay behind on what you are talking about
<@456226577798135808>pretty sure the $10k thing with raydium is just for the AMMs involvement but the swap would still work on the LP
Sorry was on work computer so none of this is visible to me
Whats up!
Hi! I'm looking for information on how Instructions differ from InnerInstructions?
<@456226577798135808> yo
<@456226577798135808>
https://discord.gg/hZQgy3FB
Try the anchor discord
You're using anchor?
Hey guys, I've been trying to build a solana app, am having issues with the frontend. I have rebuilt and redeploy with the correct program ID. Have retried with various IDLs alr. Would appreciate any help I can get üòÖ
Thx!
They're not open source today, but their git org is here https://github.com/orgs/phantom-labs/repositories
Hi does anyone knows where is the github of Phantom Wallet?
amazing thanks
there may be several at this point, 
here are at least some related references:
Token staking, reward contracts, etc.
https://github.com/project-serum/stake
https://github.com/step-finance/step-staking
https://github.com/Bonfida/token-vesting
in theory it should only happen on root change. if you see something else happening, and can describe it and hopefully show some logs, you could log a github issue so the team can take a look at this.. would be very helpful.
hey folks - were looking to build some simple staking contracts for our native token for our NFT projects. Are there any good resources/tutorials we could follow?
COPE
https://docs.solana.com/developing/clients/jsonrpc-api#rootsubscribe
this is also a great in depth walk through of the full stack with hello world:
https://kirima.vercel.app/post/gentleintrosolana
are you speaking of onRootChange?
nice, thanks for the discord üôÇ
Hi <@!785084693023424542> Could you check if this is expected please?
if your creating an account for a program any modifications need to be done by that program.
if your program ID changed, you wont be able to modify the previous account with the other program Id, so u wouldnt want to create a new program. it sounds like u want to deploy without changing the id at least. 

here is the anchor discord also:
https://discord.gg/bZq8hDuB
thank you for the material <@!785084693023424542> will help a lot!
and that's the last one https://explorer.solana.com/address/e5LLzdbUXojw7EyhyYMD9cf5bWFH9Q4R2owKi3qpvpV?cluster=devnet
not sure about front end tutorials exclusively, but there is a giant list of resources and tutorials in general, many of which have web3, if not both client and program. If there is something specific your trying to do just ask, many examples are task focused. otherwise the client is about interacting with programs.
has several web3 examples:
https://learn.figment.io/protocols/solana
wallet integration:
https://github.com/solana-labs/wallet-adapter
lots of web 3 examples on the cookbook now:
https://solanacookbook.com/recipes/getting-started.html
solana web3  tech docs:
https://solana-labs.github.io/solana-web3.js/
the first one was this https://explorer.solana.com/address/9YPkgVTcAnM8WtbD8hXT2xDPfM312fUtFG5Xeb19NMeu?cluster=devnet
will not be a problem if I can just move forward with this new... but I really don't know how to avoid this problem so far
the client id changed too
so I got the idl and copied to the client idl
the program id changed when I deployed
if you made an account for 1 program, and deployed the program with a new address, that account would no have the owner of the previous program.  using anchor and solana deploy can be different,  but the first thing is to make sure the program Id, address has stayed the same, otherwise you can just create an account for the existing program, and try to move forward.  make sure when deploying, unless intentional the program address/id is the same if your just intending to update/upgrade. when deploying.
Hey mods, are there any resources on how to do front end work on solana ?
maybe it's a conflict between both ...
just trying to learn you know? I created a program and deployed, so after that somehow it started conflicting with something else and I created another one and deployed, so it starts getting this error
yeah, it's my program
nice
hard to say without more code, but either way do some logging, console log and program log and u can also view logs from `solana logs` and use -v flag, and filter as needed. is this your program?  then u can do both. your sending an account likely,
for sure, sorry for that <@!785084693023424542> . How can I fix this kinda of problem? Is there a way to find more clues in where is the problem?
use text copy/paste next time in code blocks for easy read and copy/paste. especially with smaller text like that.
looks like your specifying an account to use that is attempting to modify some account that is not owned by the program.   account.owner != program id of your program.  you cant change state/data for an account not owned by the program executing and processing that account
I use to anchor build, anchor test and copy the idl to the client ... my solana in devnet is with fake sol too
thats a beast for 8 years old. take advantage of delayed cyber monday üôÇ otherwise you should be able to get up and running either way, just drop back in here.
hey guys, noob here... I have a react client using web3 and a rust program... I'm facing a problem here, maybe you guys can help me to fix that. It was working fine, don't know what to do üò¢
Will def try a little something tonight and see how far I get. My machine is 8+ yrs old AMD FX 8350 + 32G ram + AMD 5700
as long as you can install and build.  you should be able to hit the other RPCs and use those validators no problem to get up and running start deploying and testing. for clients you can also test and build for web3 without anything but the web3 libraries or even using an online ide. for programs you at least want to be able to build. you can just point to a devnet or other public rpc for now to get going. the validator spec has been updated for even more performance optimizations so requirements have advanced some to run locally.
It's far more of a regulatory challenge than a technical one
<@!785084693023424542> Thank you for the reply
I figured Windows general would be a no go but after running into the AVX2 issue using WSL, I though I should at least try (which failed spectacularly of course) . I don't have a separate system so will have to maybe work on the VM angle. I think just relying on some free dev bits for now is the only way I can make any progress. This is just so utterly frustrating.
Darn, well I couldn't find any info on the internet about SPL token sales, so maybe Solana only offers liquidity pools to get your tokens to other people's hands. I dunno. I'll try and get more competent at understanding/coding things for Solana :).
I am not aware there is solana-test-validator support for native windows 10, and personally wouldnt use windows for any linux based programming anyway.
WSL for windows is generally the best alternative path for windows.
AVX2 support was added as a requirement sometime back for validator support.
If your building from source it is likely still possible to modify some lines to get things to build and compile and run the validator without avax2, but that would not be guarantee or supported. the alternative would be to use a different system or vm that supports the minimum requirements and use that for your validator, or use an available RPC Node thats public, free, or paid.  genesysgo has some free use right now, and the public dev and test networks, among many others are available.
It's up to  the program
Token sales aren't something anyone who's competent to do so is going to advise you on here
I just wanna get my meme token out there cheap :).
LQ Pool seems like I would need to provide $10K USDC to keep the liquidity pool... "Raydium‚Äôs docs say to use 10,000 USD equivalent to ensure orders get placed." "However if total liquidity in the LP is below the equivalent of $10,000 USD at any given time, the AMM will pause placing orders until additional liquidity is added or token prices rise to meet the threshold."
Hey all, I created my own SPL Token, but how do I do a token sale so peeps can get it? Maybe I'm wrong, but I thought for example in Ethereum you could add on a TokenSale class for example to your contract and have that feature automatically available in the smart contract to use over web3.js? (although I could be wrong about that) 
Can you do the same in Solana? Or like I need to provide a Liquidity Pool on a marketplace like Raydium or Orca to sell my tokens?
has anyone been able to build Solana on windows 10 at all?
I am getting stuck all over the place trying to get `solana-test-validator` to work.  Tried building the source in WSL2+Ubuntu and still got `Incompatible CPU detected: missing AVX2 support. Please build from source on the target` . Searching around, it says install `tensor-flow` - no go there either.
Tried building on just windows itself and the build itself fails completely. I am seriously stuck without having the test validator going
https://github.com/project-serum/anchor/blob/064d8bb2866a8f10c2ad779f4ad7e35950291131/client/src/lib.rs#L151
That's what Anchor does
Mentioning the program address
You can use https://docs.solana.com/developing/clients/jsonrpc-api#logssubscribe
using program logs
what's the best way to listen for events from a certain program ?
i think i see where is the mistake
those are the only two
hahah this is weird
Hey, we are looking for a solana developer, please DM me if you're interested!
type spl-token accounts to see which tokena ccount the 80000 is sitting, I assume (G3Ae6gRS......)
If you have 80000 that means you minted 80000 and it worked
Next you mint the tokens for the first time, spl-token mint 6nhcNSv...... 

And theyll go right into the token account you made (G3Ae6gRS......)
Just to recap:

first step is spl-token create-token which will create the token and give you your token contract address (6nhcNSv....)

then you would create a token account for the token to go to when you mint it. So, spl-token create-account 6nhcNSv..... 

This gives you your token account within the token contract address (G3Ae6gRS......)

Up til this point the balance and supply is still 0
yeah i got the 80k but i can't mint any of then which is weird
i don't remember doing that how can i see that ?
yes im using the spl-token cli
Did you disable minting by chance?
Are you using the base solana CLI program to do this or did you make your own program or somethin?  

So you got the 80k to mint just fine and now you cant mint more?
its 80,000 haha
is supply 0?
type spl-token supply (contract address)
yeah im doing that but i don't know why is not working
NOT*
When you type spl-token mint (PUT CONTRACT ADDRESS HERE NOW THE TOKEN ACCOUNT)
creted the token> created an account for the token> try to mint it
What were the steps you ran through?
I tried that but they are not reviewing it manually. It's been like 2 months and there are tons of others not reviewing yet either üò¶ Its like they gave up on it
i think you need to submit a new pr with the changes and they will review it manually
hey guys when i try to mint the token i created with an account i created for that token it gives me this error
Anyone know how to fix typos on links on the Github Solana Token-list for my SPL???
If you get rust working as well, add as a tab
Once complete, others can find the answer looking at https://solanacookbook.com/
Just comment on the issue and I will assign to you
Help others looking for the same answer
üíØ do it!
You should be able to verify ed25519 signatures onchain with the above program
I can do this!
https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program
You should contribute back to the cookbook! https://github.com/solana-dev-adv/solana-cookbook/issues/52
i am hoping for something nice like solidity's ecrecover üòõ
has anyone got advice for doing verification of ed25519 sigs on-chain?
that's my next task
Nah, I did in Node only
hey did you also manage to verify in rust? would be intreresting to know which lib you used if oyu did
Anyone know how to fix typos on links on the Solana Token-list for my SPL??? I typed twitter & coingecko links wrong and its horrible.
ws:// .. wss:// ... i believe:  websocket and websocket secure.  so yes looks good.
is this a correct url for connecting to a websocket `'ws://api.mainnet-beta.solana.com'`
There shouldn't be a limit. I can get the full 100+ from some accounts
üò¶
That's binance support you need, not us
need urgent support
can anyone help me. my sol tokens didn't showed up from binance transfer but it's showing withdrawal successful
the account has 53 but I only get 50
is there a limit on number of SPL tokens that can be read from a user's account? I keep hitting 50 as the limit
What I mean is if you wrote the program then you would have defined what errors are thrown at what paths in your logic. Most programs encapsulate their custom errors in an Enum so looking up `0x2a` would be easy enough. There are also ways to debug your program logic (BPF) on a local cluster.
Here's the command to initialize logging: https://github.com/mvines/solana-cli-template/blob/master/src/main.rs#L154
what if i pinky promise no scam
ahahaha
DMs are a scam
nope
can i message you privately?
what client Rust program are you running?  Your custom program?  If so, did you setup logging?
this didnt work, it gave the same error
what do you mean?
If it is your program, `0x2a` is the index in your Error enum no?
```
$ export RUST_LOG=solana=debug
$ do stuff...
```
l
in your shel
thank you, where do I put export rust_log?
`export RUST_LOG=solana=debug` and try the command again to see what those 10 log messages are.  That might help you debug further
Hey guys, I'm trying to run a command in my program and I'm getting the following error:
`RPC response error -32002: Transaction simulation failed: Error processing Instruction 1: custom program error: 0x2a [10 log messages]`


///////////////////////////////////////////////////////////////////////////////////////////////

<@445425471027544095> I saw you open a GitHub issue on this. Do you know if this has been resolved? Is there an equivalent of ERC-1155 on Solana?
Guys, I'm interested to deploy a semi fungible token on Solana, something equivalent of ERC-1155. Is this possible using SLP?
hello, is it possible to enable mint again? I made the token fixed now I would like to change it
Well i'm gonna keep it to fixed size, it's really complicating for something that is not that important, just for flexibility. Thank for your answers Chido
Which filter offset is for the URL in the metadata?
Hey guys
I agree that it does cost less, and more it is simple to implement, but there is one issue with it. If i have 3 accounts with `[Pubkey; 10]`, so my number is 3. If my account (2) get empty and i need to clear it. I should set the number to 2, but my third account is number is 3 and i can't reach it. And if i recreate an (set my number to 3) account after it will try to create an account on `3` wich already exist. One solution would be to have a fixed array of number, and store the number of each in there, but it is not dynamic anymore, just big fixed size.
anyone has an idea?
I think you can get a better support in anchor channel  https://discord.gg/Dm4dBgcY
If you use seed + find_program_address you can save some rent.
Lets say you use seed `MY_PDA_{number}` and number is 1~10
You can save 32+32 byte in each accounts because you don't need to store pre and next.
If this design is meaningful for you I think you can just keep it. If you want to save some cost, you can consider use seed to mapping your relations.
- What does `<'_, '_, '_, ...>` mean in the following example?
- If we're expecting 5 arguments for CpiContext, why do we only pass in two in the last line?

```    
fn into_transfer_to_pda_context(&self) -> **CpiContext<'_, '_, '_, 'info, Transfer<'info>> {**
        let cpi_accounts = Transfer {
            from: self
                .initializer_deposit_token_account
                .to_account_info()
                .clone(),
            to: self.vault_account.to_account_info().clone(),
            authority: self.initializer.clone(),
        };
**        CpiContext::new(self.token_program.clone(), cpi_accounts)**
    }
```
hi, is it possible to have usdc in devnet?
I just got a good idea i think. I can just do a chained list like in C. I create an account (1) that can store let's say 10 pubkeys, if this account get full i add to it the pda of an other account (2) that store the next 10 pubkeys, then account (3)... If one account in the middle get empty, i can just link account (1) to account (3).
Struct would be like:
```rust
pub struct DynamicArray {
    pub pubkeys: [Pubkey; 10],
    pub prev: Pubkey, // If needed
    pub next: Pubkey
}
```
Sound good no ?
Gotcha. Thanks so much <@!788215642070581289> !!
I think it is just `Rent::get();` is a new code for us. In old code, pass sysvar, rent into accounts is a common way.
I think it depends on what situation you encounter and how much data you dealing with.
1. if something is a mapping relationship and there are a lot of data, I will use seed and `find_program_address` to do this mapping as you say although it will create a lot of account but it easy to map.
2. if data is small (about 20 items) and for each it won't run out your compute budget, I think you can just use a large account to store them.
Oh I see! I will use rent::get() instead then. But I'm still not sure I understand what a "rent sysvar account" is and why they're using `Rent::from_account_info` instead of `Rent::get()` if it's a sysvar account
1. https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L769
2. rent::get is a newer function. you can use it instead passing rent var.
<@!788215642070581289> ok i will try soon
Hi,
I'm looking for some tips and tricks if there is, on how store dynamic data like an array of pubkey for example.
I was thinking of creating an account that store a number, and add this number to a seed to create an account that store 1 pubkey, this can work but it does cost a lot of rent sol and create a lot of accounts.
Is there some better way to do it ?
Interesting. 
1) What is `rent_sysvar_account` in the example you sent?
2) Why does the user need to pass in the `rent` variable if I can just do `Rent::get().is_exempt`? What value would get they even pass in?
Here's the tutorial I'm referring to: https://hackmd.io/@ironaddicteddog/solana-anchor-escrow
for terminal cmd, you can take a look at ` spl-token close --help`
<@!788215642070581289> thanks.  close_account is a terminal command i consider yeah??
If you are talking about token account, you can use close_account instruction to close it.
if you are talking about mint account, there is no way to close it for now.
you can use it to check is account rent-exempt 
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/processor.rs#L45
I'm doing an anchor tutorial that passes in `pub rent: Sysvar<'info, Rent>,` in the Context. I can't find any explanation of the rent Sysvar online. What does passing this variable in do?
Hello , i hope all doing well. I need help about how can i delete my token on solana network.Note it has been published already but now i want to delete and create a new one
Greetings to everyone, the question is, how can I expand the transfer instruction for a spl-token, so that in addition to writing off the token, I can add some other custom field and subtract a constant from it?
`solana-test-validator -h`
ok thanks
you don't. You need to fork and then create a PR. Advice: try that the PR has only additions
I'm pushing on a new branch
Does anyone know how to get push rights on token-list ? can't find anything in the readme 
```
ERROR: Permission to solana-labs/token-list.git denied to ceciEstErmat.
```
oops. ok. Option B I'm trying to figure is to change the program to use PDA only for authority, and use independent accounts for storage
Thank you! üôè  <@!539801435571748868>
once that mode actually works, we open up the possibility for lots of cool tooling though üôÇ
No, you have to test in a real BPF env't to create accounts, and not with the poorly-supported "native" program mode in solana-program-test
<@!539801435571748868> Q about "solana-program-test" & "Account data resizing not supported yet":

I'm using `solana-program-test v1.7.11`, and I'm running into:
```
thread 'solana-bank-forks-client' panicked at 'Account data resizing not supported yet: 0 -> 40. Consider making this test conditional on `#[cfg(feature = "test-bpf")]`', /home/lucio/.cargo/registry/src/github.com-1ecc6299db9ec823/solana-program-test-1.7.11/src/lib.rs:357:25
```
when you try to create a new account from the program being tested, e.g. when use a PDA as state/to store data.
Question:
has this been solved in `solana-program-test > 1.7.11`?
Yo anyone have any tutorial for NFT staking with SLP token as reward ?
any documentation on all the parameters usable by the solana-test-validator and there usecases
command line parameters ?
i saw in paulx repo, i have run the test validato r before but what is the need for --mint and --bpf-program
confused about this command "./solana-test-validator -r --mint E2F3fsS1HpsLb2VpEgsA5ztfo83CWFWW4jWpC6FvJ6qR --bpf-program 4yBTZXsuz7c1X3PJF4PPCJr8G6HnNAgRvzAWVoFZMncH <EXECUTABLE_LOCATION>
"
Did you build the program with `cargo build-bpf`?
We've been building on Solana as we're creating a consumer focused, high volume, low transaction dollar value platform.  Transaction speed is great. But we're starting to look at long term data access issues.  Without getting into details, our program creates a transaction account with buyer/seller and associated data. It's about 1k of data - so rent exemption is roughly $1.50 USD at current SOL prices. Our transactions will range from $30-$50 typically.  So that $1.50 is super expensive. Sure, we can get it back by deleting the account - but then the transaction record is gone.  I could store that same 1k data on AWS for 1,000 years for about $0.002. Am I missing something or thinking about this incorrectly?
Hey guys, got a question, does the current SPL token standard on Solana  only support fungible and non- fungible types?
hey guys, is there an easy way to store the whole blockchain into a DB so i don't have to API call everytime? I want to run a box that just works 24/7 to keep blockchain updated into a local db. 

Or rather, is there any way to increase speed of api calls when running web apps that search thru a ton of tx's?
<@489206164270350337> that memo idea is perfect. Didnt get to try it yet, but do you know if there are docs out there about later reading the memo out of the transaction signature?
How can I check on the blockchain using code which wallet has a specific token? (NFT)
Is anyone using the token lending program ? I‚Äôd like to see if any mainet protocols built on it
Hey everyone, Gn
Thanks a ton!
maybe i am just stupid
none of the accounts in the array were my token account! that part really confuses me
the cookbook is a good resource of examples to see how lots of front end client calls are made, https://solanacookbook.com/
figment has some good walkthroughs in general, and heavily on the front end side.
https://learn.figment.io/pathways/solana-pathway
wallet adapter for wallet integration samples:
https://github.com/solana-labs/wallet-adapter
overview and dive into full stack:
https://hackmd.io/@ironaddicteddog/solana-starter-kit#Account
Hi folks! wondering where would be the best place to start looking into for developing frontend part of the solana dapps?
yes a wallet address (public key) is a common use of an associated token account
mucho thanks
am i missing something?
not even txid
as you can see in the screenshot there's no info about the transfer at all

Hey guys! When i subscribe to ws endpoint accountSubscribe https://docs.solana.com/developing/clients/jsonrpc-api#accountsubscribe can I see any information about tx (transfer) in response message or i have to use https api?
does anyone else still facing the issue?
there are many instructions in a message. you can treat each instruction as operations on program. Each operation need different accounts and each accounts have different metadata (is_signer, is_writable) which depend on how program requires.

back to your qn. I'll say
1. fee payer of this tx must have a signature (FYI the first signature of this tx will be treat as a fee payer)
2. the other signatures depend on how instruction(program) requires.
Hi. Looking for a bit of [docs](https://docs.solana.com/developing/programming-model/transactions#account-addresses-format) clarification:
The account addresses format sections seems to state that there are addresses packed into a transaction message that :
- require a signature (read-write and read only)
- don't require a signtaure (read-write and read only)

What determines whether an account address needs a signature? Would really appreciate an example ü•≠
I think read the array of accounts is a right path. you can decode your token account and know the balance changes.
1. for making  an associated token account https://solanacookbook.com/recipes/token.html#associated-token-account-ata
for interact with phantom https://github.com/solana-labs/wallet-adapter
2. NFT is just a mint, you can use token transfer to transfer you NFT.
Can some one please help me, I am getting this timeout error
you can get a number of rent exemption by https://docs.solana.com/developing/clients/jsonrpc-api#getminimumbalanceforrentexemption
I don't think you can calculate it by time because it will be charged if you tx refer to the account. Time is just one of factor of rent.
for rent. https://docs.solana.com/implemented-proposals/rent
okay im guessing that you have to decode every instruction or invocation or whatever in the log, and look at all the ones that are token transfers, and do math accordingly
i would check how phantom does it but its not open source, and sollet doesn't do this
but i just have this array of accounts with data that i dont know how to read, and i dont recognize the accounts as any of my token accounts either
i've successfully simulated a transaction using web3 library. however I have no idea how to interpret the result. i want to know how much my different token balances change as a result of the transaction
How can we make an associated token account using the react application and phantom wallet, and transfer an NFT from the main Token account to that freshly created Associated Token Account?
and so, when I create that acc I want to distribute the correct amt of Sol
I.e let's say I create an account that I want to be alive for 1 month
Is there any way to calculate the rent for a given time / space use solana's web3 lib?
Anyone?
Hello we are a serious project that want to implement a Solana wallet and minting. Can someone guide me or can I hire someone? Thanks
I just need some pretty big bags to test deployment ha
Hi - is there a way for me to get more devnet solana?
solana program deploy /Users/cme/xxx/SAFE/ANCHOR_SAFE/metaplex-jw/rust/target/deploy/metaplex_token_entangler.so
Error: ELF error: ELF error: Multiple text sections, consider removing llc option: -function-sections
I'd use https://docs.solana.com/developing/clients/jsonrpc-api#getblockswithlimit (polling)
Does 1 address mean an wallet address including the public key?
is there a voice chat for developers on here, if so how can i access it.  Thank you
Ah, thanks.
oh here we go
https://docs.solana.com/proposals/transactions-v2
seems like it doesn't have anything to do with Solana specifically
https://gitanswer.com/solana-the-max-transaction-size-of-1232-is-too-limiting-for-meta-transaction-rust-869921174
interesting random thing i found
idk if that's true tho :/
as I stated, it's the max size a UDP packet can be
<@!445425471027544095> hi! Do you know any reliable way to get finalized blocks by chance? now I have to make a busy waiting loop together with rootsubscribe
Instead you can close the token account and reclaim the rent sol
Nope that‚Äôs not the spl token burn address
I have seen `1232` throw around, where does it come from?
Yes, I meant if it is actually mentioned in the official docs.
thank you!
1232 bytes total (UDP packet size)
mentioned in a couple places here
https://jstarry.notion.site/Transaction-Fees-f09387e6a8d84287aa16a34ecb58e239
https://blog.neodyme.io/posts/lending_disclosure
(Ctrl+F '1232')
Is the max transaction size mentioned anywhere in the docs?
https://docs.rs/solana-program/1.4.17/src/solana_program/incinerator.rs.html#4
`1nc1nerator11111111111111111111111111111111`
hi anyone has an idea what spl token burn address?
there's a postgres example in there. haven't actually used it before
yea i believe its option on bottom right and network if u scroll down inside phantom plugin
its just an easy way to creat and find a token account associated with a prinary address like a user wallet, which has a publickey/address.  this allows everyone to send to the primary wallet any token, and it puts the balance in the associated token account. its like a easy lookup and map to associate many address of tokens with 1 address.
(thanks for your comments btw)
I'm talking about in Phantom. I couldn't see how to switch endpoints in phantom
wherever your setting testnet, you set devnet, or another network instead. in wallet plugins themselves, usually options network,  your app would be specifying in the connection object. in clu u can fo config set --url devnet
I didn't understand it
Can you explain what is associated token account?
<@390651877483741184> ,I think that you mentioned that recently
How to use accountsdbplugin? Cant find any docs..
I can't find this in the documentation. How do I Switch the endpoints?
never seen this one before.  Any clue would be welcome.
solana program deploy /Users/cme/xxx/SAFE/ANCHOR_SAFE/metaplex-jw/rust/target/deploy/metaplex_token_entangler.so
Error: ELF error: ELF error: Multiple text sections, consider removing llc option: -function-sections
Hey there, 2 super naive question (dev, but my experience with anything crypto ends with running through some solana CLI examples):

1. What is the size limit for metadata for Metaplex style NFT? (I understand there is a hard limit per transaction of ~1.2kb. Can a Metaplex NFT exceed that limit for storage of metadata?)

2. Are there limits to the size of smart contracts or their runtime?
yes true.
I'd think you'd want the program to own the mint, but idk
Thanks heaps
Oh its fixed. Was creating borrowing platform.
I think you need to actually say what you're trying to do
Through the dapp
I mean I can just do the transfer after I mint it from me account too theirs too.
üßê
Somewhat when they put some  collateral for it ?
Do you want to allow anyone to mint?
https://spl.solana.com/token#example-mint-with-multisig-authority
Ummm but what if the accounts are unknown ..
You can have a mutlisig mint authority
can I have multiple mint authority for the same token ??
you can say that again lmao
floats are the devil
oh, good point, thanks. Still learning all this math stuff üôÇ
'cause the multiply  can overflow
I saw that here, as well:
https://github.com/solana-labs/solana-program-library/blob/master/token-swap/program/src/curve/fees.rs#L54
Why is the token amount as a u128, but i thought the token program defined token supplys as u64:
https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/state.rs#L22

Does anyone know why that is?
why u128? doesn't the token program define a token's total supply as a u64?
can I have multiple mint authority accounts ?
Yes, if you know how the transaction data is serialized you could deserialize that.
From what I understand, transactions are not encrypted but signed.
So the raw transaction data is available for all to see.
`u128 amount = value * (10 ** decimals)` ?
You would have to decompile it yourself.
No, not really.
yes
Do you mean see the program's source code?
check out lava cash, they manages to fit a ZK-STARK program on solana lol which is even more exponential than snarks, pretty crazy
Is there anyway to see deployd Solana smart contract code by scans?
is there a program that uses percentages in any way?
i have a program im making and i want to calculate a percentage of a token amount to the nearest smallest unit of the token
Tried that with PR for modular math already! Ahhh, you sly dog
Yeah patches are always welcome üòâ
I see, I didn't think about this problem
Although we'd love to see zksnark proof verifications and other wonderful things in Solana üôÇ
You'd need to do some SMPC which definitely isn't going to fly in today's compute budgets
It'd be worthless because everything needs to be on chain, so your confidentiality is  gone
If the math is even possible
I can withstand a beating from <@!585868308419444749> but encryption/decryption on chain will probably exhaust your execution units
OK thanks.
Not AFAIK.  It'd just be sampled from some aggregator at the blocktime if it were though
On Etherscan when I check a txn, there is a ETH price at the time of transaction. I'm just asking if this feature is implemented on Solana Explorer
Maybe I framed the question bad. But this is not a tax question.
Is it possible for a smart contract to use its program account's private key to decrypt transaction data that was encrypted with the program account's public key?
If so, how can I access the program account's private key in Rust?
You should discuss that with a tax professional, not internet randos
oh
Nothing related to CEXes
I'm especially referring to the DeFi part
Where did you purchase them? For example Binance can provide that in your history data
Quick question: I'm reviewing all my transactions this year to prepare for the upcoming tax season. I have retrieved all transactions in my wallet with RPC calls and saved all the timestamps of each transaction.

My question is: what is the best way to get the USD value of SOL at a specific timestamp? Is this info stored on-chain or I have to rely on other price feeds? Thanks.
I'm not gatekeeping shit.  You're acting suspicious
Ur just gate keeping the masses
If u want I‚Äôll open zip up and reupload lol
Continues to smell like a scam
Why is the source committed as zip files?
CHEETACHPROTOCALL-https://github.com/CheetahProtocal
Don't act like a scammer and no one will call you a scammer
link. to. it.
It makes ur shit better.. fuck ur a gate keeper.. I make no money from it it‚Äôs open source people like u can go kys
no promo
If u need a faster way and cheaper way to get in solana check r gethub
Here's the fix to your problem, incidentally: https://github.com/solana-labs/solana/pull/21612
https://solanacookbook.com/recipes/keypairs-and-wallets.html#generating-a-keypair
I have the public address and the private key but the private key is some set of numbers
Can your provide some context? What kind of wallet? From where? What are you trying to do?
If you need that granularity of RPC access, you need to get your own infrastructure
We aren't going to help you subvert the load balancer
No. Like I already told you in the other channel, entrypoints and RPC  have nothing to do with eachother
Please how can i get access to my wallet with byte array
i'm guessing they're the same nodes that entrypoint.mainnet-beta.solana.com:8001 resolves to?
Hi all, does anyone know how I can determine the ip:host of the RPC nodes sitting behind the loadbalancer url https://api.mainnet-beta.solana.com/
ohhh thanks mate
I know. I was making that suggestion for after you build with v1.8.5
i did try with 1 but it doest  work as well.
Got it. Thank you, I was able to reproduce. Looks like a cli api issue with our master branch.
In the meantime, if you check out the v1.8.5 tag and build from that, it should work for you. (Also note as fastfrank said, devnet does throttle airdrop amounts; start with 1 SOL).
that would be ```cb368e655478d23b044260044959ec32292db738``` <@!213083996689661953>

`git log -n 1` should do it
i do have the local repo how can i check commit <@!213083996689661953>
yes
Sorry, that doesn't really help, because `devbuild`. I assume you built from source. Do you still have the local repo to check commit?
Yes, this worked. Thanks

We haven't tagged a v1.9.0 yet. What commit are you building from?
<@!213083996689661953> 1.9.0
Also note that devnet throttles airdrop amounts, start with 1. Also see <@!213083996689661953> note üëÜ
What version of solana-cli?
Hey, let‚Äôs say I want to check which address has a specific NFT how can I do it with code?
Thanks
sure will do
Mind filing an issue on github?
Rosetta
Hmm. Rosetta or native?
M1 mac
Is that an x86_64 or M1 mac?
nope
wfm.  were you abusing it?
can't airdrop sols can someone help
Thank you very much !


///////////////////////////////////////////////////////////////////////////////////////////////

It's also available from `solana-sdk` if you're client-side
You probably want, https://docs.rs/solana-program/latest/solana_program/macro.declare_id.html
I'm only used to passiing it in with `program_id: &Pubkey`
Will this work? `Pubkey::"34asdfvava4"`
How to hardcode an address in rust?
Quick question. Does create_associated_token_account fail if the account is already created? Basically wondering if I need to do a check before running.
Yeah, I told them. Shouldn‚Äôt be a problem to fix.
I'm not at all familiar with what ME is doing, programmatically, but happy to look at some program code at some point if it would help.
But yeah, if the desire is that those "missing" transactions appear in getSignaturesForAddress for the mint, the mint needs to be passed in.
Hi, 
is there any example of calling the SPL token program from other programs?
ok, will dig in more, might be a ME bug
but i wonder why the other ones are different
hmmmm yeah, i kinda thought that
Hey! Awesome, I was just writing you a response, but this is a perfect example. In this case, and in the new examples on the github, everything is actually working as expected. If you look at https://explorer.solana.com/tx/BKdiA4VMUDvtBttjK53NcHPdrKAhxMKHDRD8hPPqfa51A8pEwhmxUr6t7z42KfFqSn9EZokmzfRi3av3KGJUsNR, the mint `4MEYD8YcG1FKApr4xWeWLVctPjZEb57Q1Uwdb5rtTGx7` is actually not passed as an account to the transaction. So the transaction is not logged as a signature associated with that address, even though it is in fact an operation of that type of SPL token.
I think this one is the most promising right now.

Token: https://explorer.solana.com/address/4MEYD8YcG1FKApr4xWeWLVctPjZEb57Q1Uwdb5rtTGx7

"Missing" tx: https://explorer.solana.com/tx/BKdiA4VMUDvtBttjK53NcHPdrKAhxMKHDRD8hPPqfa51A8pEwhmxUr6t7z42KfFqSn9EZokmzfRi3av3KGJUsNR

```% ./solana-ledger-tool bigtable transaction-history 4MEYD8YcG1FKApr4xWeWLVctPjZEb57Q1Uwdb5rtTGx7
[2021-12-06T17:42:01.309701000Z INFO  solana_ledger_tool] solana-ledger-tool 1.8.7 (src:6777ca24; feat:3537608180)
[2021-12-06T17:42:01.363273000Z INFO  solana_storage_bigtable::access_token] Requesting token for BigTableDataReadOnly scope
[2021-12-06T17:42:01.641027000Z INFO  solana_storage_bigtable::access_token] Token expires in 3599 seconds
5p5Cxt9i4qMax1GBRL1pEsUZjJ8WcNpkvrUKX1MwkVpbERqZfGB1NqJVguB4htiC4aFjfCjYmaoJJuJjZswhaDZu
4zg4jowCdB7ycXRCGGE4rXHfC4dEXpuJwCjWKRYWJdCa8uGMGR6RgK743wk9sNRd7CFDQJF5wLpTkUryiFq24An8
TgoBxM5M1PKstGi1QHPwHqXqJinvdLD3uumUYh5P38XZmGKh238kyCiZuiafsgMSu6iEBg2yAzMxKtiyFzoi8H8
2iofsPtQWLLJxnfXwBmA1oBAVppYMecvxgZPVSRLRTmYgSdoQwCwsnVNprCP7HRvir1BieV55YRAcBDJd5Zya3YE```
On the frontend(react/thunk example):

```
export const authenticate = createAsyncThunk(
  'identity/authenticate',
  async (
    {
      address,
      signMessage,
      disconnect,
    }: {
      address: string
      signMessage?: ((message: Uint8Array) => Promise<Uint8Array>) | undefined
      disconnect?: () => Promise<void>
    },
    { rejectWithValue, getState, extra },
  ) => {
    const { api } = extra as ThunkExtraArgument
    const state = getState() as RootState

    const isJWTValid = selectJWTIsValid(state)
    if (isJWTValid) {
      const currentJWT = selectJWT(state)
      return currentJWT
    }

    try {
      const nonce = await api.getNonce(address)
      const nonceArrayBuffer = new TextEncoder().encode(nonce)
      const signature = await signMessage(nonceArrayBuffer)
      const signatureBase64Encoded = Base64.fromUint8Array(signature)
      const jwtResult = await api.login({ address, signature: signatureBase64Encoded })
      return jwtResult
    } catch (error: any) {
      // eslint-disable-next-line @typescript-eslint/no-empty-function
      try {
        await disconnect()
      } catch (disconnectError: any) {
        return rejectWithValue(disconnectError?.message)
      }
      return rejectWithValue(error?.message)
    }
  },
)
```

That thunk is taking signMessage method and disconnect method from the useWallet hook of '@solana/wallet-adapter-react'


On the backend (ts example) you can verify the signature in that login method like:

```
import base58 from 'base-58'
import nacl from 'tweetnacl'
import { decodeUTF8 } from 'tweetnacl-util'

export const signatureIsValid = (address: string, signature: string, nonce: string) => {
  try {
    return nacl.sign.detached.verify(decodeUTF8(nonce), Buffer.from(signature, 'base64'), base58.decode(address))
  } catch {
    return false
  }
}
```
There is still an issue of trust and with CPI the network of trust grows. I agree
I'm trying to use `Pubkey::find_program_address` in rust but not sure what the seed is since I made the token with the solana cli
If I create a token on cli , does it come with a seed?
but yeah, by signing a transaction you're actually allowing an on-chain program to do whatever it does aren't you, so anything bad happening as a result is just what you've consented to, but i'm used to interactions with blockchain applications working a bit differently, coming from the eth/bsc world.
i know you are actually consenting to it because you have signed the transaction, so an onchain program being able to do this is clearly "by design", but to be honest, i doubt most SOL users are aware that an onchain program can steal all their SOL just by them interacting with an on-chain program.
as such, coming from Ethereum and BSC, i was sort of struggling to believe that it would be possible. i'm sort of not used to an on-chain application being able to do 'anything' just by having your signature.
no good reason except that i wanted to verify that it was possible to transfer funds from a CPI.
all working now.
brilliant, thanks mate, that was the problem.
What do you use to convert a `BigInt` to `BN`?
Curious what the variation of drivers are
what do you mean? how can i hold a distinct count...say a user posted a message and created a message account. now i want to add a like count on it so that each user can only like once a message - how would you design it? without reserving lots of space up ahead in each message account for likes of course
Could be something related to referral fees, or escrow fees like how the NFT platforms do it
Is there a reason why you are using CPI vs. just debit/crediting the lamports from account to account in the main program?
Looks like you're missing the `system_program_account_info`
Here's an example of calling CPI with transfer https://solanacookbook.com/recipes/accounts.html#sign-a-pda
am i calling SystemInstruction::Transfer wrong here?
i get the followig error message: "An account required by the instruction is missing"
I'm back on the clock now, so if you see any more transient examples, please feel free to give me a ping and I'll look in real-time <@!859641633997324319>
hi folks. i'm trying to do a cross-program call from my on-chain program so as to transfer lamports from one account to another. i'm doing this in Rust, and the code in question looks like this:

```    invoke_signed(
        &solana_program::system_instruction::transfer(user_account.key, dest_account.key, user_account.lamports()),
        &[user_account.clone(), dest_account.clone()],
        &[],
    )
    .unwrap();```
I‚Äôll‚Ä¶ read the source üôÇ hehe
But then BT didn‚Äôt have it for that token either.
Thanks! Yeah, there was one where like all the txns were there, except the latest one that was an hour old? Which‚Ä¶ I would assume triton have enough local storage to keep‚Ä¶ so it‚Äôs very weird.
I'll take a look at your new examples. Fixing the first BigTable bug might have exposed a second. Or there might be a different issue with recent transactions that haven't been uploaded to BigTable yet.
But I‚Äôm not sure how BT indexes are set up
I wonder if it‚Äôs maybe an index issue of some sort? Because the txns themselves are obviously there‚Ä¶
Yeah
I‚Äôm a little bit confused about the output of transaction history on BT, because the same txns are listed as get sigs rpc. Which‚Ä¶ would mean the txns aren‚Äôt being returned for the token‚Ä¶
Oh, rad! So you can use `solana-ledger-tool bigtable transaction-history ...` like here: https://github.com/solana-labs/solana/issues/21442#issuecomment-983091197
Triton were kind enough to give me big table creds so I‚Äôll do some more digging
Perfect! Nice to Discord meet you üôÇ
I‚Äôm the moonrank person yes. üôÇ
Hey, sorry I missed you over the weekend. Not really a good way for you to check the BigTable error, unless you have your own app BigTable credential. I saw a bunch of updates to the issue, which I haven't looked at closely yet. Is your incident one of them?
Sometimes it is the simplest things
What was the issue?
https://github.com/solana-labs/wallet-adapter/blob/master/packages/wallets/phantom/src/adapter.ts#L88
Are you sure it got connected? You can see some vanilla js here for connecting to phantom. You may have a listener that is not acting as it should
Sounds like you have to manage your state with mutliple accounts vs one.
repo, gist, or something
Please give more information
Make sure you connect first
<@!489206164270350337> , thanks! thing is that there is a static number of choices in here - and I'm talking about more dynamic one - user can generate message (account) and someone can like it
Check out how voting is done here https://github.com/bfriel/crunchy-vs-smooth as well as the walkthrough https://www.brianfriel.xyz/learning-how-to-build-on-solana/
There's a PR out there to remedy this
None at this time
are there docs like these -> https://solana-labs.github.io/solana-web3.js but for `@solana/spl-token` somewhere?
Hi guys, how can I implement a distinct count kind of counter? I'm mimiking a sort of a "like" button on messages so I have a message account and I want it to have a like count which is distinct (so that no user can like something twice, but he can dislike and then like again). Any ideas?
Thanks!
yes. exactly üôÇ you could use vanilla solana code and just do what Anchor does (which is building inside a well defined container)
Depending on how the account is set up, it can be possible. For example. this is how you get all token accounts from a specific address

```
curl https://api.mainnet-beta.solana.com -X POST -H "Content-Type: application/json" -d '
{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getProgramAccounts",
    "params": [
        "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
        {
            "encoding": "jsonParsed",
            "filters": [
                {
                    "dataSize": 165
                },
                {
                    "memcmp": {
                        "offset": 32,
                        "bytes": "solana address"
                    }
                }
            ]
        }
    ]
}
'
```
Hello, is it possible to have a filter on the getProgramAccounts RPC call in which i filter only results with a specific publicKey? Is that possible? If yes, how can i do that? Thanks
I'm sure you can. Check anchor discord for more info https://discord.gg/hZQgy3FB
Check out how Grape protocol does it. They have a framework for what you're asking
Heres an example request response i made and im wondering how i determine which ones are NFTs thanks for the help ‚ù§Ô∏è
Did you figure this out by any chance?
Hey I am investigating setting up solana token permissioned roles for discord. Any suggestion on the available tool in market that works properly without issues? TIA
Hi to all, I am new to solana and also rust development and I hope this is the right place to find some answers. First questions I would have: Does Solana support fractionalized NFTs?
Are most Solana program devs using Anchor? Or does it only make sense for certain types of programs?
Hi! Super noob question, but how do you credit/debit accounts in a program using Anchor?  For some reason, I'm having a really difficult time finding information on this.  Obv feel free to just link useful articles instead of fully answering, I realize I'm probably just blanking here

Anyone knows why I changed the network to .sol and the collection still starts with 1
In practice that would require using Anchor, making the program source code public, and someone verifying that the compiled source code and program data match up, correct?
How come `spl_token::instruction::transfer` requires authority_pubkey but `spl_token::instruction::set_authority` does not? Shouldn't they both require it?
with anchor it becomes easier to verify the bytecode actually matches the source code. so if the source code is safe, you have your certainty and immutability becomes important
üëã A few days ago I asked about why a program developer would set a program to be immutable and the answer was that it gives users confidence the developer won't change the program code and steal the account balance. And that mostly makes sense. But couldn't developers just add a backdoor into the final immutable contract to steal the account balance down the road anyway? Since there's no way to view a program source, there would be no way for users to know the backdoor exists. And if that's true, then there doesn't seem to be a reason to make the program immutable, since users can't have confidence there's no backdoor.
hey, in many Solana example programs where they create a voting system, an `initialize` function is implemented to create the state of a voting account. Is this `initialize` function able to be called more than once, allowing the state to be reset? If this is the case, do you have to add. a flag to initialized accounts in order to protect them from being rest?
but a pubkey in rust is 32 bytes, so if I allocate space in my account to store a pda address how does it store the pda correctly? how can I deserialize it?
you should read this first
https://docs.solana.com/developing/programming-model/transactions
it seems a pda is 44 bytes long?
also, in this case does the intruction index refer to the program id index? if so, how do we get the index?
when you say `message's array of account addresses` do you refer to the `compact-array of opaque 8-bit data`? otherwise how do you get this message?
if I use an entire pubkey as a seed I don't get any complaints in rust but solana web3 says `Max seed length exceeded`. is there a difference between the web3 implementation?
An instruction contains a program id index, followed by a compact-array of account address indexes, followed by a compact-array of opaque 8-bit data. The program id index is used to identify an on-chain program that can interpret the opaque data. The program id index is an unsigned 8-bit index to an account address in the message's array of account addresses. The account address indexes are each an unsigned 8-bit index into that same array.
hi, anyone knows what is this `idx`  from https://michaelhly.github.io/solana-py/_modules/solana/instruction.html (it says solana upstream program but how do we find this program and how do we know what idx to use?)
hello, where can I get some source on developing smart contracts for liquidity pools? is the Token Swap Program still relevant for this?
to decode account info's data, you need to know how program serialize it and the account structure.
for old school way there is no a standard. every program implement their own serialization.( like token account https://github.com/solana-labs/solana-program-library/blob/24baf875e9e19c26d694d28c557d33848c3a9180/token/program/src/state.rs#L133)
for new way, it is common for program to use borsh https://github.com/metaplex-foundation/metaplex-program-library/blob/2eb95ec5c5d05dd020b8811b0e21f2f16c5841b4/token-metadata/program/src/instruction.rs#L77-L78

but the main idea is that you need to know how program serialize it.
if you still encounter the same error, I think you should check the file exists or not.
hello, in the solana web3 api, how can i decode the data when i get account info ? ty
if you want to do it on chain, this is the only way.
I'll suggest you do this step off-chain because you will encounter other problems like tx size limit or compute budget run out if there are too many holders
Okay, so we pass the list of all holders of the token to the program and then the program loops through each one and checks they are holders?
this is different situation. in this case (token transfer) you will pass `from`and`to` into your tx. so your program can get these data and do verify.

in your previous question, you want to get `all holders of you token`
I don't think there are the same thing.
thanks or the help, it was my file path in the solana config set --keypair ${HOME}/new-keypair.json
if you assign a fee payer, the fee payer also should sign the tx.
I can just guess depend on the information you provide
Hmmm. So if we're sending an instruction to make payments to anyone who holds a token that isn't really verifiable? Someone could theoretically add their address to the call
you can't. if you want to do that you will need to maintain a list by yourself or use the steps I mention before 1) you fetch them off-chain  2) pack them into your tx 3) send you tx
Hi
```js
transaction.feePayer = new PublicKey("Dt8HDf6LmHQzdQCUWDP4huXioC17wwXjNPabvZLbVCiU");
```
I get a `TypeError: x.pubkey.equals is not a function` error using this, any idea? (I'm using phantom wallet)
I think you can use something like `signTransaction` to request phantom or the wallets to sign your tx then you pass the sig back to your backend.
Okay. So you can't fetch the list on chain or from the token program?
you need to pass all accounts you need into program if you want to access them.
if you are asking you want to retrieve all holders of your token and you want to do it on chain. the first step is to fetch them and pack them into your tx.
you can take a look here https://discord.com/channels/428295358100013066/517163444747894795/909093778604834856
Repost: Hey, quick question. If I create a token and I want to get a list of holders of that token and the amount they hold is there a way to that on chain from within my smart contract or do I need to make a call to a Solana explorer?
did you init your keypair file?
you can use `solana-keygen new` to init it and use `solana airdrop 1` to get a airdrop
im having an issue with spl-token create-token it states os error 3
can you do message signing with the CLI?
Wonder why the suppliable mint isn't determinate.
I only got it to work with 1.84b once, then had to delete a 0 to get it to work a 2nd time
Or it make more sense to use serum‚Äôs multisig program instead
Hi folks, wondering how could one create multisig from the browser, I'm trying to do so but seems that there is no obvious way to make that happen, `MultisigLayout` is also private, Is that intentional that one should  not do so or Im just confused https://github.com/solana-labs/solana-program-library/blob/0b8961597b3adf7355e48506d7e81b3925bbacd0/token/js/client/token.js#L663
hey, i've created a transaction on the backend, and sent it to the frontend. now i want to partialSign it with the client wallet.

`transactionFromJson.partialSign([wallet]);`

partialSign expects a Signer, private and public key... wallet adapters seem to hide this. any way i can partial sign it?
Overall 'trust' credentials (certifications) is certainly a big discussion. I know of no plans at this time but others may
Do you know if there are any plans for an easier verification to be implemented? Sort of like on Etherscan where one can view the actual smart contract executed for a given transaction. It's quite a crucial part of transparency, and just decentralisation in general, wouldn't you say?
Repost: Hey, quick question. If I create a token and I want to get a list of holders of that token and the amount they hold is there a way to that on chain from within my smart contract or do I need to make a call to a Solana explorer?
Raw (may have holes in it) way would be to 
1. Get the BPF code in the executable on chain program
2. Clone and build the Program from source
3. Compare the two
Is there any way of verifying that, for a given DeFi protocol, the code visible on GitHub is the actual code executed on-chain?
It is good practice for the first transaction for new program owned accounts to include at least 2 instructions:
1. Instruction for creating the account (with data size, etc.)
2. Instruction to immediately initialize the account. You can choose to add data to initialize with here
```rust
/// Create a new program account with account state data allocation
fn new_account(
    rpc_client: &RpcClient,
    wallet_signer: &dyn Signer,
    account_pair: &dyn Signer,
    program_owner: &Pubkey,
    state_space: u64,
    initialize_instruction_id: u8,
    commitment_config: CommitmentConfig,
) -> Result<(), Box<dyn std::error::Error>> {
    let account_lamports = rpc_client
        .get_minimum_balance_for_rent_exemption(state_space as usize)
        .unwrap();

    let instruction_data = vec![vec![initialize_instruction_id]];

    let mut transaction = Transaction::new_with_payer(
        &[
            system_instruction::create_account(
                &wallet_signer.pubkey(),
                &account_pair.pubkey(),
                account_lamports,
                state_space,
                program_owner,
            ),
            Instruction::new_with_borsh(
                *program_owner,
                &instruction_data,
                vec![
                    AccountMeta::new(account_pair.pubkey(), false),
                    AccountMeta::new(wallet_signer.pubkey(), false),
                ],
            ),
        ],
        Some(&wallet_signer.pubkey()),
    );
 // Other stuff to sign and send the transaction
}
```
I believe its about 18.4B
try experimenting with minting
Hello there,
What will be our collection address on solana?
how do you add metadata to a token?
What is the theoretical max supply an SPL token can have?
question: I'm looking at this nft: https://explorer.solana.com/address/AdeVP8E6VWhMC1Cb2AUsnYaQzPGRXzbER4pxj1wHSz8k. How does one tell who is paying the rent for keeping the nft on solana and also, is there a way to know if the nft is transferred to another wallet the obligation to pay the rent is also transferred?
What does sparkler mean?
once created only the program can modify the account data but is it possible to initialize the data beforehand?
is it possible to create an account belonging to a program, with it's data initialized?
Hey, quick question. If I create a token and I want to get a list of holders of that token and the amount they hold is there a way to that on chain from within my smart contract or do I need to make a call to a Solana explorer?
(this is the default value for solana signatures, i wonder if this is just something getting initialised poorly?)
thank you after i use WSL its work! much appreciate
Hey, I am trying to submit a project to the Solana ecosystem(https://github.com/solana-labs/ecosystem) on Github and one of the checks keeps failing. Have seen other project submissions facing the same issue. Any idea what would help in passing this check? 

Here's my pull request: https://github.com/solana-labs/ecosystem/pull/916

Screenshots relevant to the issue above:
At this time, correct. I see updated cookbook, see if this helps: https://solanacookbook.com/recipes/getting-started.html#windows
Hi everyone, I'm working with web3.js and was wondering how I can calculate the fees for a transaction before executing it.
I found the feeCalculator `const { feeCalculator } = await connection.getRecentBlockhash()` but how do I apply it to a specific transaction?
got it so i can do nothing with it rightt?
üëÜ
Solana on windows is fraught with a few issues. Use WSL2 and something like Ubuntu
hi guys anyone knows how to fix this ?
does something like  AZTEC protocol exists on solana?
hi all, I'm using the solana python library and trying to create transactions to send to solana, however I'm getting this error:
```
solana.rpc.core.RPCException: {'code': -32002, 'message': 'Transaction simulation failed: Error processing Instruction 0: invalid program argument', 'data': {'accounts': None, 'err': {'InstructionError': [0, 'InvalidArgument']}, 'logs': ['Program gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s invoke [1]', 'Program gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s consumed 178 of 200000 compute units', 'Program gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s failed: invalid program argument']}}
```
my question is, how do you check what are the arguments needed for the program `gSbePebfvPy7tRqimPoVecS2UsBvYv46ynrzWocc92s`?
hey guys, I need some clarification on the scenario below

Alice has a token X acocunt (Associated Account) but transfered the ownership to Charlie.
When Alice request Bob for token X by providing Alice's Sol account address (pubkey)
what would the wallet do?
1) Transfer to the Ancillary Token Accounts ? (the token X account that ownership transfered to Charlie) ?
2) Generate new PDA (Associate Account) and transfer to the new PDA?
Ahhh thanks guys
if you open solana cli, solana-keygen grind -h
solana-keygen grind --ignore-case --starts-with any:5
solana-cli
Any repo you‚Äôd use?
Hey guys anyone know how to add address label like this?
grind key
Hey guys anyone knows how to generate a new solana wallet address that starts with a certain initial? Example JKBxxxxxxxx
this was working fine all this while but suddenly throwing this error
hey is anybody aware of what causes this error?
fixed my problem thanks. didn't have xcode installed
Hey guys I am trying to connect trust wallet with my react native application. Is there any I can use wallet connect with react native and solana
any help

I just pulled the latest sol src to try and compile on windows
Without doing *anything* I am getting an error and the build always fails. What am I missing here...
You can use bs58 if you're using nodejs. bs58.encode(keypair.secretKey)
what is your  host operating system?
trying to install spl-token-cli

installed rust

ran `cargo install spl-token-cli`

get error

`error: linking with `cc` failed: exit status: 1`
im using the `subscribeLogs` method, and it keeps returning logs with signature `1111111111111111111111111111111111111111111111111111111111111111`, which i'm pretty sure is nonunique and also not a signature
(stuff like `{"jsonrpc":"2.0","method":"logsNotification","params":{"result":{"context":{"slot":98982482},"value":{"signature":"1111111111111111111111111111111111111111111111111111111111111111",`)
what do these mean? what do i do with them?
How can I lock specific addresses for a period of 6 months while deploying an spl-token program?  Some sort of crowd sale.
I can see with netstat that the test validator is listening on 8899
I'm guessing I have something wrong with my networking configuration, but I'm not sure
I'm running into an issue with https://github.com/solana-labs/example-helloworld, I have the solana-test-validator running and it says "JSON RPC URL: http://127.0.0.1:8899", but when I do npm run start, I'm getting "FetchError: request to http://localhost:8899/ failed, reason: connect ECONNREFUSED ::1
:8899" -- I'm on Mac OSX -- not using docker
in solanaweb3? keypair has a private key getter iirc, check the docs
you mean grinding a key? check `solana-keygen -h`
hiy guys, how do i convert a `keypair` to `private key`?
Can anyone tell me how to set program id like "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA" when deploy program?
specific one for solana
TY
TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA
just any program id or a specfic one for solana?
token program id will do
What programId would allow you to get all the tokens/nfts that a wallet holds?
sudo port install clang-7.0

sudo port select clang mp-clang-7.0

from terminal
how to fix the error on mac ?

  --- stderr
  crypto/bn/rsaz-avx512.s:36:2: error: instruction requires: AVX-512 ISA AVX-512 VL ISA
   vpxord %ymm0,%ymm0,%ymm0
   ^
thanks so much man. im guessing this changed since this video was made or something?
should be https://api.devnet.solana.com
Hey all, I'm getting this error after trying to run spl-toke create-token on devnet from my terminal. any help is appreciated thanks!
Hry guys ,looking for some help 
Any guids on how to rename your token amd change the logo please and thank you ??
My token is build on devnet
Hey guys I am looking for some help.  I am working on an Identity Solution using phantom wallet/solana.  I am trying to replicate this guide https://www.toptal.com/ethereum/one-click-login-flows-a-metamask-tutorial essentially.  The general idea is where you have access to the wallet, you sign something and give it to your backend, and then you can validate the signature is valid in the backend.  Is this possible with the Solana/phantom signing process?  Thank you so much, I am trying to build something exciting in Solana and really love what it offers.
<@!213083996689661953> hi üëã ... if you're around, we have a live 'txns not returned for token' issue which i presume is the same issue in github, but not sure how to check
For anyone trying to do this in the future. This is what I ended up doing.
```typescript
import { Message } from '@solana/web3.js';
import base58 from 'bs58';
import atob from 'atob';

const deserializeTransaction = (bytes: Uint8Array): {
  message: Message;
  signatures: string[];
} | null => {
  const SIGNATURE_LENGTH = 64;
  const signatures = [];

  try {
    const signaturesLen = bytes[0];
    bytes = bytes.slice(1);

    for (let i = 0; i < signaturesLen; i++) {
      const rawSignature = bytes.slice(0, SIGNATURE_LENGTH);
      bytes = bytes.slice(SIGNATURE_LENGTH);
      signatures.push(base58.encode(rawSignature));
    }

    const requiredSignatures = bytes[0];
    if (requiredSignatures !== signaturesLen) {
      throw new Error("Signature length mismatch");
    }

    const message = Message.from(bytes);
    return { message, signatures };
  } catch (error) {
    return null
  }
}

const signedTransaction = 'ApTx/nlctqM9KE5wP1ucmshegOAksU0UhUU7Y3hMAm3nb5k4MYXAnxRvdBqis2wzwlBo0YGBnJbKkeLCdvYK5QraNXu19mvKj9zUvQqPBYqZucMoa3jiahIF2KM+Bj4zT2sRFNz3ae3GmuWXDiFfxmYSP/EsN00aZ6B+qYlauJUIAgAID4NXnYgRsfIC0eJKV86jJsaAzSuXwdM6RxFq86m59HuoObH9d5QB/EhSrDWHhzPM30Eqa2VGlrMIjHqTZ7RS3Fbws4v/tmsIdpkrdDiuOkgJKAUT3DeORE2xlrCzDM3cMLvUuAssy1ki/JKk7QHSchDUJ5FlaofHDh0MfIi2c1UzuUehTcnne4bSeGElL7p7V15PkppRyuuGILp75kEAN7jfqxjmzNPr6JzWxVE/5603057x+GcHBJynFWdlN5hYZFw+zqPWBbrhhvZ1ib6hGHpZAFqowgyzGSvboomQ6V4eBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCp/zrCWCjdgk4gEsRfF84E164U3eV0dPR0tFgmT0ZxCvQLcGWx49F8RTidUn9rBMPNWLhscxqg/bVJttG8A/gpRgan1RcYx3TJKFZjmGkdXraLXrijm0ttXHNVWyEAAAAAjJclj04kifG7PRApFI4NgwtaE5na/xCEBI572Nvp+FkJKu5Au91jHu/7fJb2FWV2hGXzwZz5kM1/dIyNeZUIIKyoIKdTM7C1dgKPDeHf2gPHCxiXnXyskJnbCYkbTQUBBQgCAAE0AAAAAGBNFgAAAAAAUgAAAAAAAAAG3fbh12Whk9nL4UbO63msHLSF7V9bN5E6jPWFfv8AqQkCAQdDAACDV52IEbHyAtHiSlfOoybGgM0rl8HTOkcRavOpufR7qAGDV52IEbHyAtHiSlfOoybGgM0rl8HTOkcRavOpufR7qA0HAAIAAQgJBwAJAwECAAkHAQAAAAAAAAAODgoDAAQFAQAABgsJCAcMCNM5BqcP2yP7';

const buffer = Uint8Array.from(atob(signedTransaction), (c: any) => c.charCodeAt(0));

const deserializedTx = deserializeTransaction(buffer);

console.log(deserializedTx);
```
I am generating them in a script with solana-go. new-nonce would have worked, but now I generate the whole workload in advance üôÇ
i've been looking over the token docs here: https://spl.solana.com/token
i can't figure how to add metadata to a token (a JSON with the information, including the uri)
Can somebody please help me with a tutorial on how to add metadata to tokens?
how are you producing these transactions?  and are you trying to re use the accounts?  there is a command new-nonce, that you may look into if you havent. otherwise I am not certain on that use case in particular. someone else likely would have more insight.
I want to make marketplace where people can sell their nft pictures and items
The problem I see with the nonce accounts is that after interacting with the account once, I can't determine the next nonce value programmatically, so I need to query it. That's compared to incrementing a counter in Ethereum
i guess it depends by what you mean regarding marketplace.. ?   im not sure any existing implementation or plugin exists, per-say, but theoretically you could put the wallet-adapter in your wordpress site, and use it like any other wallet, if that answers your question.  But I have not done this.
Let's say that I want to produce constant workload of 1000TPS for 10 minutes
I guess it depends on your workflow and what the workload is, but you can use a nonce account for something that does not get sent in the immediate future, as the standard transaction with recent blockhash is around 2min/with the default transaction timeout around a minute. you could always generate workload type objects, and just build the transaction itself on demand as well. if they require additional signatures, just make them nonce accounts, and pass around partial sign, then send when all sigs are gathered.
Or can anyone help me with it ?
Does anyone know if Solana wallet adapter can be used with Wordpress to make marketplace ?
<@!785084693023424542> hi! another question -- am I right that it's not possible to pre-generate a workload for an account? because
a. blockhash will expire
b. durable nonce cannot be known in advance
it is up to you, based on use case, requirements, and how comfortable you are with either approach. There are generally pros and cons to any serialization, and each may be better suited for certain cases based on need, experience, and time to get it done. Id probably suggest going with whatever comes easier and see how that works. There are many large examples with borsh in metaplex and governance programs, and lots of bincode related scattered throughout the core and spl. If your doing a web3 front end, or based on where you need to deserialize and send back, you made to to see what resources you can find.
Found this code within the public repository. https://github.com/solana-labs/solana/blob/master/explorer/src/pages/inspector/RawInputCard.tsx#L65, pretty sure its the same thing I'm trying to accomplish except I'd use the data as json rather than displaying it on the frontend.
Which of bincode and borsh is prefered for serializing solana program instructions, and why?
So I just found https://explorer.solana.com/tx/inspector which allows me to decode the transaction and view exactly what its interacting with but I need to be able to do that same thing in my code.
Happy to send some sol over to whoever can help me with this issue I'm having. Basically I have a json rpc call that looks like this
```
{
   "method":"sendTransaction",
   "jsonrpc":"2.0",
   "params":[
      "ApTx/nlctqM9KE5wP1ucmshegOAksU0UhUU7Y3.......",
      {
         "encoding":"base64",
         "preflightCommitment":"recent"
      }
   ],
   "id":"a53a0325-74b0-42c7-a6b2-e......."
}
```
I'm looking to decode the signed transaction (params[0]). Is this at all possible? I can't find any resources on how exactly it would be done. I'm sure whoever processes the transaction needs to be able to decode it, am I able to decode it myself? I have the private key of the wallet which signed the transaction if that is required but I'm pretty sure it shouldn't be since the data needs to be read by the rpc.
Hello, can I use keypair and secretkey generated from devnet  on mainnet? or better not mix between devnet and mainnet?
i dont believe usdc officially exists in mainnet, you would just make your own to simulate, or use an airdrop or faucet provided by say mango, saber, jet, or another app that has their own usdc in dev.
I have üôÇ
Try restart
It might be a glitch in the system
trying to run the `solana-test-validator` as a github action for end to end testing
hey y'all, i'm running in to an issue where i am trying to run `solana-test-validator` in a container and it's not allowing program deploy transactions to finalise. has anyone ever seen/solved this kind of thing?
the smallest so in SPL, spl_shared_memory.so is 4432 bytes, so yeah something is probably *bad*
sure enough the actual generated file is only 1kb exactly 1024 bytes
hmmm a normal bpf so has a single text section but this one doesn't have one?
oooh a new rust rabbit-hole
which tells me I need to "cargo install rustfilt"
ok trying "cargo build-bpf --dump"
I assume this means I am doing something *horribly* wrong.
I get the following error trying to deploy: **Error: ELF error: ELF error: Multiple text sections, consider removing llc option: -function-sections. ** Google is no help
Is it possible to mint new token with Solana program code? Example contract you pay the fee and then mint new token


///////////////////////////////////////////////////////////////////////////////////////////////

String::from_utf8()?
how?
yes sometimes
I'm trying to figure that out
do you know how to do string from [u8; 32] ??
e
Does solana rust handle euler's number?
;D
OH i FOund `let public_key = Pubkey::from_str("6PpUjY5Tf8wzeR9uBQX2JRpgvcDKMi1Xb7asrAhYS2rZ");`
but i'm getting a different public key (5PopzVC1SGLahAeqQq911jcUtgLNHTHm3icz6gDFmEmg)
I'm doing this:
```rust
let mut a: [u8; 32] = Default::default();
let account = String::from("AFy44j2rMCHV9xNTb7tn7J32ZU9CZ71sDzunf6EFWBzz");
a.copy_from_slice((&account[0..32]).as_ref());
let public_key = Pubkey::new(a.as_ref());
```
how to parse a string into `PubKey` ?
üò≠ Sadly i only got in at $28 not 28cents
You dont have a million to spare? üôÇ
Isn't the barrier to "regular people" to run nodes already like 1mil+ üòÜ
If we all did that, Solana would not be this fast any more and it would be impossible for regular people to run validator nodes.
Hi,
How do i get the URI of a NFT in my react code.

`const tokenmetaPubkey = await programs.metadata.Metadata.getPDA(PUBLIC_KEY_OF_NFT);

const tokenmeta = await programs.metadata.Metadata.load(connection, tokenmetaPubkey);`

i am already this far
But how do i gain now access to the URI?

when i do `tokenmeta.toJSON()` , i get 
`Account<MetadataData>.toJSON(): {
    pubkey: string;
    info: {
        executable: boolean;
        owner: PublicKey;
        lamports: number;
        data: {
            type: "Buffer";
            data: number[];
        };
    };
    data: programs.metadata.MetadataData;
}`

from where do i get the URI
Arweave is the de facto storage chain for solana.
What i really don't understand though is if they went this route why they didn't just make metaplex explicitly part of Solana Labs and the explicit standard.
so even though it is theoretically possible to make a competing standard there is a strong moat making it practically very difficult if the core team itself has already chosen a winner
Yeah i realize that is theoretically possible but it seems like Solana Labs and Metaplex are intermingled and even people from phantom wallets sit on the metaplex board and such and have all sort of made a cartel annointing metaplex as the de facto standard.
Hello, is Solana secure from quantum computing encryption?
i've been trying to dig into the history on this and the structure of metaplex foundation but it is all pretty opaque at the moment
Pubkey::find_program_address(&[b"config"], program_id);

- say I want to use a dynamic seed - I want to add some pubkey to this (after "config"). How would I write this exactly?
Anyone is open to make their own standard, and convince wallets to support üôÇ
basically metaplex has this weird monopoly on nft's and there aren't really nft generic building blocks on solana
exactly - that's the issue üò¢
Anyway, Metaplex does not support what you want to do, and wallets only support Metaplex NFT standard
``data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIw``
Yes it would, the attributes in the linked JSON file would just be a copy
yeah its basically like storing the base64 version of ur image in an account
it wouldn't be fully solana decentralized though üòÑ i'm looking to make an NFT that's fully on-chain on solan with the metadata
Not clean at all but closest i've seen is get the hex for your image and chop it up into bits small enough to write with the memo program https://spl.solana.com/memo and write it all onto the account
Well use both. The external file for the wallets, and your own code to do whatever you need to do with the attributes internally
which is an external url
but the problem is having the nft show up in wallets since they use ``uri`` to get the nft metadata
yess ofc
You'd need to write your own program to store any nft attributes you need to be on-chain and not on arweave
hm what do you mean?
You'd have to put any on-chain data you need in your own program
its a separate network
yeah but it's not on solana
ARWeave is decentralized
Try the metaplex discord. Candy Machine isn't supported here https://discord.gg/tk9rhbE8
I'm on metaplex v1.0.0 ><
has anyone run into this error when creating the candy machine?

otherwise defeats the point of decentralization üòÑ
*surely* there must be a way to have a fully on-chain nft
yeahh
Yeah i'm not sure, i'm just getting started with solana dev and new to rust. I haven't found any examples of someone doing this yet but feel there must be something on github
Yeah I'm not that familar with Rust, so not sure how to append it. Can someone write out how it looks?
instead of the image data
im fine with the cost, its just *how* to do it since the metadata standard is including a ``uri``
yeah it's 0.06 SOL for 9 kb image
yeah just run `solana rent <bytes>` to get the cost to store data rent exempt on chain
cus i know you can do this in ethereum
im looking into nft minting on demand and having to store it fully on chain
yeah but what if its like 1-2kb image i want to store on chain
I've been investigating the same thing. Theoretically yes but storage on chain for the data is likely prohibitively expensive e.g. on cli `solana rent 1048576` for a 1MB jpeg or whatever would be ~$1500. Just metadata would be a lot cheaper of course. But if you want things to just "work" as in show up nicely on Solana Explorer and in popular wallets your only choice at the moment is to use Metaplex
in Rust, I can see there is a function for PubKey called `to_bytes` but is there an inverse function? I want to get the base58 from bytes
maybe just append it to config?
Pubkey::find_program_address(&[b"config"], program_id);

- say I want to use a dynamic seed - I want to add some pubkey to this (after "config"). How would I write this exactly?
thank you so much!
yep that's literally what it is üôÇ https://github.com/solana-labs/solana/blob/8063273d09ddaa179584516292794dd710bfd356/sdk/program/src/pubkey.rs#L70
imagine having a multisig program, you can either set the pda as a delegate, or let the pda hold the funds directly
I would expect you could do something with the metadata. Check metaplex discord https://discord.gg/tk9rhbE8
Likely a safety feature by Phantom
thanks <@!675681308541976586> 
and there is no way to override that?
PDAs have publickeys that are off cuve. You likely shouldn't be sending them stuff anyways
safety, prevents accidental sends. you can send using CLI
would anyone here know why Phantom does not accept a PDA as recipient in sol/token transactions?
it says `Invalid Solana Address`
and on Rust, side, how can I describe its type? `[u8, 32]` ?
hey - is it possible to store metadata of an NFT on-chain? cus the ``uri`` field in most NFTs usually leads to off-chain links, is it possible to have a fully on-chain NFT w/metadata?
thanks, I'm going to try this out üôÇ
that would work, but I'd go the other way around, `BufferLayout.seq(BufferLayout.u8(), 32)` (assuming those are the names, i can't remember off the top of my head)
thank you! how will that look on the js side? 

`BufferLayout.seq(BufferLayout.u32(), 8)` ?
thank you!
Easy. Just set the token_program.key to usdc or whatever token your're swapping for your pda transfers
any idea on this
Hi guys, I am trying to get the balance changes when I simulate a transaction, same as the preview in Phantom wallet before approve a transaction, any idea how to get it? I tried `simulateTransaction` of the web3.js but it just return the transaction logs.
ok.I try .thanks!
Any ideas why I'm getting  **Transaction was not confirmed in 30.01 seconds** with `await connection.confirmTransaction(txSignature, 'confirmed');`
in old version token transfer, actually you don't pass a mint account into it.
you can take a look here https://github.com/solana-labs/solana-program-library/blob/master/token/program/src/instruction.rs#L890

mint account don't involves in so you can't fetch it by `getSignaturesforAddress`
https://explorer.solana.com/address/6eAaYYYXexov1xSc9uizvgk6DY8eYVQiwxkXPvkVjGj4/transfers
the transaction is not returned and the transfer is fully skipped by the explorer.
Why is this transaction https://explorer.solana.com/tx/2ScmUjDCfyDgvDhdn2w2fHzZ4BaaQ3Vmx8fgvrR7DmcgTuM2gC9qp1F9ZBJiEUrY6YLHi68cDVfiu1ADdbWthKBn not returned for `getSignaturesforAddress` for the involved mint account `6eAaYYYXexov1xSc9uizvgk6DY8eYVQiwxkXPvkVjGj4`
Generally the recommendation is to use WSL for windows
I've heard it works fine with ubuntu
I had some problems trying to compile on CentOS, wanted me to update glibc which is extremely risky.
Hey fellas, what linux distro are you guys building on? I personally like CentOS, but open to whatever works.
try solana-py
Vyper isn't related to Solana. You can check anchor-py in the anchor discord though https://discord.gg/ttVxhSD7
if you just want to use PDA to hold some SOL, you can just transfer some SOL to it. Its default owner is system program.
if you want your PDA assign to another program as owner, you have to use invoke_signed
Can i declare optional function params or are they exhaustive and each must be included with every program function call?
Hello I was Wondering anyone write smart contract using python? I am a begginer all the courses I see are in javaScript while there is Vyper which helps coding in python.
I tried to run solana-test-validator on windows ,but I encountered error "libcrypto-1_1-x64.dll is missing" . 

what should I do?
I see (sorry for delete). So there's no way to create the PDA using invoke rather than invoke_signed ?
when you create an account, both of funder and new account should sign this tx.
in your case both of signer_info and pda need to sign tx.
if you change invoke_signed to invoke, you will lost pda's signature
What is the difference here
Thanks. BTW

                &[&[&b"escrow"[..], &[bump_seed]]],
or
                &[&[b"escrow", &[bump_seed]]],
you can take a look here.
the main concept is the same. the only different is that you create account, the book transfer SOL
https://solanacookbook.com/recipes/accounts.html#sign-with-a-pda
Oh ok. So system program, not my program
you should pass system program as program_info
yes
program_info equals program_id ?
ransaction simulation failed: Error processing Instruction 0: An account required by the instruction is missing 
    Program (myprogramid) invoke [1]
    Program log: Instruction: Configure
    Unknown program 11111111111111111111111111111111
    Program (myprogramid) consumed 198896 of 200000 compute units
    Program (myprogramid) failed: An account required by the instruction is missing
I added this, but still having an issue:

            let program_info = next_account_info(account_info_iter)?;

            invoke_signed(
                &create_account(
                    signer_info.key,
                    &pda,
                    lamports,
                    space as u64,
                    program_id,
                ),
                &[signer_info.clone(), pda_info.clone(), program_info.clone()],
                &[&[&b"config"[..], &[bump_seed]]],
            )?;
in general. you have to pass all accounts you need.
i will check that, thankyou
AFAIK there is a borsh lib in ts. https://github.com/near/borsh-js
How do I find a list of required account inputs for various System instructions?
i have program deployed, i need to intract with it using typescript, is borsh available there?
I'll recommend you to use borsh serialization so that you don't need to worry about how to serialize/deserialize it.
you also need to pass your program into `&[signer_info.clone(), pda_info.clone()],` this array.
MissingAccount
When adding this code:

            invoke_signed(
                &create_account(
                    signer_info.key,
                    &pda,
                    lamports,
                    space as u64,
                    program_id,
                ),
                &[signer_info.clone(), pda_info.clone()],
                &[&[&b"config"[..], &[bump_seed]]],
            )?;

I get an error
pub struct Data {
    pub name: String,
    pub symbol: String,
    pub uri: String,
    pub seller_fee_basis_points: u16,
    pub creators: Option<Vec<Creator>>,
}
how to create buffer-layout for Data struct
Instruction parsing is up to the program and it verifies that the instruction being requested is valid by checking (typically) a `u8` passed instruction number against its Enum of instructions.
For example: https://github.com/hashblock/solana-cli-program-template/blob/main/program/src/instruction.rs
How does instruction parsing happen in Solana Program?? Like there is this entrypoint macro which seperates out the program id accounts and instruction_data, but then how does the program know that it is a valid instruction from instruction.rs
Thanks
On your Connection object:
https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getBalance
sorry I meant to say in solana/web3
`solana balance -h`
Hi gys how can I get the SOL balance of the account with public key?
hi everybody, i'm just starting out and getting familiar with Solana. Having this error though, any tips? Should I use another scaffold instead? https://github.com/solana-labs/dapp-scaffold/issues/87
Nevermind guys, I was passing program ID as funding account and that was incorrect, just switched to another account and it solved. Thanks for the help, good luck to everyone
Fair enough, thanks for your reply, i want to mint 10,000 new year's event's entry tickets as  nfts and air drop it to my client's wallet. We have the clients ready. But since we are airdropping them and selling the ticket for fiat, what would be the best way to do it and economical way ? Would you be interested to help us ?
All right. The thing is that when I try to create an ATA for my program ID it gives the error "writable privilege escalated". I think I need to sign this create ATA transaction with PDA, is that correct? (I am already passing the program account as writable)
I am trying to create an LP token  so as to have swapping functionality for the pools without using serum. how can I approach this.
certainly, you create it like any other ATA üôÇ and no need to @ anyone, someone will help out
Ah in that case, just an array of 32 bytes is much better
much better to keep things in the open, that way everyone can help / learn üôÇ
<@!539801435571748868>  Sorry to bother you, but I need to know if there's some way to create an ATA for a program account, meaning that the program has ownership of tokens inside this associated account and can transfer them to other accounts.

Maybe someone here know more about that
thanks. can I send this in instruction data? the thing is that BufferLayout has no type for u256, how can I make it work?
<@!539801435571748868> may i dm you, need to ask few doubts, you seem knowledgeable
Thank you
<@!785084693023424542> Thanks for your reply, may i dm you ?
thanks very much <@!823763744676118539>  & <@!539801435571748868>
It's tricky, but you'll have to go through the accounts being provided to make sure they're all correct.  You can also run some simulations to potentially get more log info
Hi there, this is due to rent. when you create the account, since it doesn't have enough SOL to be rent-exempt, some of it will be collected the first time it's touched.  More information in the last paragraph of this section: https://docs.solana.com/implemented-proposals/rent#actual-processing-of-collecting-rent
correct
Above is to account that does not yet 'existed' on chain. If I transfer again to it, the 0.0001 is credited correctly.
https://explorer.solana.com/tx/4qBNjVNMEsw9EBGGDoGB84uUKX8ojFcDQjfzbKZtMAi49RMAeR84xdMkCjVTQyM7CCiHZLY8cptGiuiMLcLQQDFC
I would like to know the explanation and why is it reflected wrongly on the explorer
Hello, can someone explain please why when I transffered 0.0001 SOL, only 0.000097561 were credited?
https://explorer.solana.com/tx/J4ijVV73yqAC1RWNhdUGmxfB1nm7Z2fcWeP8r3CXm72g7cxVXW589BKRK6taWfzw1ihob2jaGMTF1y5wEZiXTyo
** Swap Program instruction
Program log: Error: InvalidAccountData
Program Swap Program  consumed 2353 of 200000 compute units
Program returned error: invalid account data for instruction**
I am getting this error: How can I sort this:
#1 System Program instruction
> Program returned success
#2 System Program instruction
> Program returned success
#3 Token Program instruction
> Program log: Instruction: InitializeAccount
> Program Token Program  consumed 3680 of 200000 compute units
> Program returned success
#4 Token Program instruction
> Program log: Instruction: Transfer
> Program Token Program  consumed 3227 of 200000 compute units
> Program returned success
#5 Token Program instruction
> Program log: Instruction: Transfer
> Program Token Program  consumed 3120 of 200000 compute units
> Program returned success
#6 Swap Program instruction
> Program log: Error: InvalidAccountData
> Program Swap Program  consumed 2353 of 200000 compute units
> Program returned error: invalid account data for instruction
#7 Token Program instruction
that would 'fail' and 'revert' the whole transaction, would it? anything other than returning "Ok" would signal a fail and therefore overall fail of the transaction?
for instance, if you look into the code for the token program, you might see it do "return Err(TokenError::NotRentExempt.into());"
cool, thank you :). and by "a transaction fails", does this simply mean returning anything other than "Ok"?
(i.e. if the 1st instruction succeeds but the 2nd one fails, the changes that happened in the 1st instruction are reverted)
Yes you got that right.
folks, am i right in thinking that transactions are as such atomic? for instance, if a transaction contains two instructions that are completely unrelated to each other in operation, but one instruction fails, all changes are reverted?
Solana Program (aka smart contracts) are stateless. Meaning programs themselves do not store state. They are like executable programs with no storage beyond what they are deployed with. Programs can use accounts to store state. Accounts can also hold a balance (tokens). You can create an account owned by a program and store data inside the account. The program has ownership over the account so can update/delete, debit the account.  Will be reviewing this and adding more content to https://solanacookbook.com to elaborate and consolidate the concepts and usage of things like this. the spl record program is a good example of how you can create an account to store data, and also give the account an authority, so that a user can also update data to an account on-chain.
https://github.com/solana-labs/solana-program-library/tree/master/record/program
Hi Everyone!
Was going through one of the video provided on https://solana.com/developers
which points to https://youtu.be/qNIhClYDjR8?t=20

where the guy says

"Solana smart contract is stateless or read only, once deployed third-party accounts can interact with that smart contract and store data locally on their account"

Can anybody elaborate this a bit.

Thanks in advance.
you might be able to mint, atm for free. but as soon as you transfer, sell, or try to bridge, your probably not going to be happy about the cost (try it). 
in solana there are no gas fees, there are cheap overall transaction costs. currently minting an NFT is higher than free, due to the overall fee and market conditions. it will cost money, so youll have to decide. tho u can mint thousands of NFTs for free on some other networks, there is a reason everyone isnt doing it. try to find a way to calculate over all cost, and determine your market, and community, and make the best decision you can.
the payer needs to sign.
sounds like you tried it a lot already? as hitting a rate limit means you made too many requests and need to wait
the main difference in my view is that with `program-test`, you can run many many tests concurrently in totally isolated environments, since everything works within the same process with `banks-server` https://github.com/solana-labs/solana/blob/b0be0881a77428f207dc3554b584972462ba2442/banks-server/src/banks_server.rs#L311.  if you're using JS, you're likely running against `solana-test-validator`, and isolating two different tests is impossible unless you run a new validator for each one and assign ports.  otherwise, it makes for quicker dev cycles, since everything stays in Rust
Great, I'll just use that rather than writing my own requests üôÇ
that's right, the call is already provided for you in JS
seems like I don't necessary have to do it through API calls
oh but https://solana-labs.github.io/solana-web3.js/classes/Connection.html#getTokenAccountsByOwner
I appreciate it jon!
Thank you.
Thanks! So my suspicions were right in calling directly üôÇ
https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner will give you what you need
Hey guys, is there a way to quickly retrieve all token accounts of a given pubkey through Solana Web3.js or do I have to call the RPCs directly?
hi, may i know why even the free mint nfts cost 0.05 Sol to mint if solana says that it's gas fees is cheaper ? I am looking to mint NFts and airdrop them to users instead of selling it to them. I am confused whether to choose MATIC or SOL network, can some one who has more knowledge than me please explain which would be best ?
I would be grateful, thanks. I love solana more than poly to be honest, but in poly , it is literally free to mint 10,000 nfts using opensea whereas here even the free mint would cost users 0.05 sol per mint to mint, i know the airdropping fess are less in sol.
hey all
i'm new in solana blockchain 
i try this cmd "solana airdrop 1" 
it's not working 
got this error Error: airdrop request failed. This can happen when the rate limit is reached.
no, the transaction payer does
But doesn't the signer need to pay for the account creation?
technically a `u256`, but it's better to think of it as an array of 32 bytes
ah that's good to know
thanks!
Actually you don't need to pass the rent sysvar: https://docs.solana.com/developing/runtime-facilities/sysvars
You also need to import `solana_program::sysvar::Sysvar` if you want to use `Rent::get()`
addresses always "exist" (as in you can use them to sign), you're trying to create a data account for that PDA, you're not creating the PDA itself
solana_program:sysvar::rent::Rent is the correct import. make sure you also pass the "rent" pubkey into the transaction, otherwise it won't load. you can also do a `let rent_info = next_account_info(iter)?;`and then `let rent = Rent::from_account_info(rent_info)?;`
Hmm, shouldn't this use invoke, and not invoke_signed? You are trying to create an account (PDA) using a PDA which has not yet been created?
what is the int type of PublicKeys?
^^^ function or associated item not found in `Rent`
I tired sysvar::rent::Rent, but no dice
What do I need to import to get

let rent = Rent::get();

To work?
but now it's stucking here
Hi, I'm working Solana with wsl, and previously when I try to run ` solana-test-validator` it's throwing this error
thank you, I'm thinking specifically in the context of the program instruction, for the following:

```
pub fn process_instruction(
    program_id: &Pubkey, // Public key of the account the hello world program was loaded into
    accounts: &[AccountInfo], // The account to say hello to
    instruction_data: &[u8], // Ignored, all helloworld instructions are hellos
) -> ProgramResult {
```
does it mean that I can get the caller address in `accounts` ?
what's faster about testing a program using Rust `program_test` instead of just using javascript? Like aside from Rust being a faster language, is it actually doing things differently? I've heard someone say that maybe the `program_test` way avoids network calls but they weren't sure
How can we create new state account for program from inside of the program itself?
Can someone please help?
Getting this error while running metaplex candymachine cli locally - ```Error: dlopen(/Users/pwarrior/metaplex-foundation/metaplex/js/node_modules/canvas/build/Release/canvas.node, 1): Symbol not found: _cairo_fill
  Referenced from: /Users/pwarrior/metaplex-foundation/metaplex/js/node_modules/canvas/build/Release/canvas.node
  Expected in: flat namespace
 in /Users/pwarrior/metaplex-foundation/metaplex/js/node_modules/canvas/build/Release/canvas.node
    at Object.Module._extensions..node (internal/modules/cjs/loader.js:1144:18)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at require (internal/modules/cjs/helpers.js:93:18)
    at Object.<anonymous> (/Users/pwarrior/metaplex-foundation/metaplex/js/node_modules/canvas/lib/bindings.js:3:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12) {
  code: 'ERR_DLOPEN_FAILED'
}```
hi, i want to store the on shelf nft in  my marketplace, the intuitive way is store all nfts in one account and i have to handler the append and delete; the other way is store in user pda account, which one is better and reasonable?
imo its actually much easier now haha
this also shows how to create it from the js side, working on an example which shows how to do it via the program itself.
every transaction has at least 1 account that is used to send the transaction, and when requiring a signature it is also the fee payer or same as the first signer. the first account would be the equivalent sender when received by your program. you can usually see accounts specified in program comments, in other SPL and solana programs, as good practice to show which accounts are expected by the program. when you process the accounts (iterate_) inside your program, you should process in the order expected.
on rust side, how can I get address of user who sent the instruction?
you can run `spl-token gc` ("garbage collect") to clean them up and transfer the balance from the aux account to the default one
i don't know for sure, this is only a guess, but i'd say it's an "auxilliary account" meaning balance not held at the default associated token address
what does Aux - 1* and Aux -2* mean?
what is the length of an epoch in solana?
getting m1 up and running should be simple now, following that article..  dont know anyone who has not had success..  were you not able to after following the article?
to save your time, better you create new instance from digitalocean (cost you 5 or 10 usd per month) and install solana validator there. it's tricky to make this validator run in M1. but if you have plenty of time, then you can try it.
https://tenor.com/view/facepalm-really-stressed-mad-angry-gif-16109475
on rust side, how can I get address of user who sent the instruction?
it's the data of the account, encoded in hex
Great! Thanks for your help!:)
yes, it's the same for all spl tokens, same on devnet and mainnet
what does that last numbers mean after the "Length : 82(0X52) bytes "   ?
Ah, this is the same for everyone, isn't it? If I'm going to use it in the production this will be the same always?
okay awesome
I do it right now here:D
the programid is the official solana SPL token program <https://github.com/solana-labs/solana-program-library/blob/master/token/program/program-id.md>
hello , is this the right place to ask noob questions?
Thanks for your answer. How can I get a 'programId'? Should my company registry somewhere to get it?
for example: `curl https://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '{"jsonrpc": "2.0","id": 1,"method":"getTokenAccountsByOwner","params":["2t8kgQCBm1h4fPCgqLTUF8rXmfKRnva7UVtMrdDnMSka",{"programId": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}]}'` this gets all the spl tokens for one of my devnet addresses
thank you
user pub key should be the user's wallet address. you don't use the "mint" field because you want to get all mints. you use the `programId` for the spl token program to get all SPL tokens for the wallet
Thanks for your answer. Unfortunately, I still can't understand smt

curl https://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '
  {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getTokenAccountsByOwner",
    "params": [
      "user_pub_key",
      {
        "mint": "what_should_I_put_here_to_get_all_tokes"
      },
      {
        "encoding": "jsonParsed"
      }
    ]
  }
'
user_pub_key - here I should put a user ID
what_should_I_put_here_to_get_all_tokes - but what should I put here to get a whole list of all tokens?
the 'owner' is the address of whoever it is you want all token accounts for. you don't have to be the owner yourself. you can get the address that the user is connected with in phantom with `window.solana.pubkey` i think
Hi 
I saw this method. As I understood, this is only for owner, isn't it? I want to get a list of all tokens/currencies by a userId (toke_id of a wallet in phantom). May be I don't understand the purpose of this method and I can use the 'gettokenaccountsbyowner' method to extract information which I described above?
ahhh i see, thank you!
I think they look for the uri field, if that is present it is loaded into the collectibles tab
<https://docs.solana.com/developing/clients/jsonrpc-api#gettokenaccountsbyowner>
<https://docs.metaplex.com/nft-standard>
Hi
I want to get all tokens/currencies from a user not only his or her balance available throughout the 'getBalance' method. As I understood 'getTokenAccountBalance' it is not a proper method, is it? 
Does this API have a method to get all user's tokens/currencies not only the balance available through the 'getBalance' method? My company wants to accept payments throughout this API and reflects in our interface all tokens/currencies in order that we need to get a list of all tokens/currencies throughout your api. As I understood it's possible, for example, because 'Phantom' wallet has this functionality. What should we do to get access to this API?
anyone knows what phantom uses to identify an NFT to be put in the collectibles tab?
Thank you. No one replies in that server though.
Interesting! Works for us
yes it does, but note that two slots can have the same blocktime multiple slots can be in the same second
Does `Clock::get()?.unix_timestamp` return the same value in a single block? I'm looking for behavior similar to `block.timestamp` from Solidity, i.e. returning block time of a transaction.
all things candy machine, metaplex, and gumdrop. 
https://discord.gg/vgSBr3Ta
I have no BPFLoaderUpgradeab1e11111111111111111111111 program for the development of local deployment environmentÔºåWhat should I do?
Was ready to throw my laptop in the trash can.
Just want to shill this article for anyone having issues with the CLI on Mac M1: https://dev.to/nickgarfield/how-to-install-solana-dev-tools-on-an-m1-mac-kfn
Trying there too, just figured I‚Äôd shoot my shot here as well.
You want the Metaplex discord
this is all there is after Updating. is that it? are there things I need to take note of?
I would assume no? it's just a mint page and it's just a smaller project
if you require to make a lot of consecutive calls to the mainnet you would need it
I've been seeing QuickNode pop up a lot. I'm still trying to figure out if I need one or not lol
or shall i go for quicknode?
i am wanting to set up a custom rpc, would run node be recommended to go with?
then moves right on to deploy to vercel
i'm using next-candy-machine and it's only step after updating the candy machine is to to yarn dev
I'm new to this, so it seemed like it was missing steps.
what do you struggle with? it should just be deploy command with network = mainnet setting
I'm stuck on the last couple steps of deploying to mainnet, the docs I can find don't quick click in my brain. anyone here I can pick their brain really quick?
solana cookbook is awesome. that'd be cool if there was a rust section
help me plz
I think you can just follow the docs then you can get the token account list.
after you get the token account list, you parse their mint to know is it a NFT account or fungible token account.
1: Mmh.. I need to check what is the program id in my case
2: Cool ! Thank you
1. in getTokenAccountByOwner, the program id is always token program id.
2. in this case, store pubkey is enough
What is ProgramID exactly ? A Candy Machine ID ?

2: I wanna verify automatically of user always have our NFT. So after the first verification, I wanna save the wallet and create a cron task every day for check if user always have our NFT
the main idea is that an account only just store a u8 array. 
separate them into meaningful segment is our duty.

back to your qn
you can change the example to string version.
borsh serialize will serialize it for you.
and for a string, borsh will remain u32 (4 bytes) to denote the length of string
so when you create an account, your account space will be 4 + your string max length.
but that is only for a number and not string
sure. you can take a look at https://github.com/solana-labs/example-helloworld
to know how to store data into an account.
1. yes. you can use https://solanacookbook.com/recipes/token.html#get-token-account-by-owner then check token accounts is a fungible token or a NFT by mint's decimals and supply
2. not sure what you want to do. I think there is an open-ended question
is it possible to store a string in account state?
thanks!
helloÔºå how to find all  burn/mint/transfer  transactions of  one spl token ? i want to  use `getSignaturesForAddress` rpc interface  but found  missed some transactions which included inner instruction
Hi !  I have small questions!  This concerns NFTs.

 Question 1: Is it possible (I couldn't find it on Solana's JS doc) to retrieve the list of NFT tokens from a public wallet?

 Question 2: For the use of an automatic script, do I have the right to save the public wallet in a database?  Without any other data, really than the public wallet.

 Thank you !
I'll look into it, thank you
hello everyone i am trying to save all my accounts.iter accounts to an array and save to struct can anyone recommend some code for this ?
its most likely that if multiple signatures are not coming from the same environment and within a short time frame partialSign alone would not work. Its generally for including in a short time frame and passing between methods and adding signers as needed before serializing and sending. thats when the other approach nonce for a more classic offline signing approach, would work. you still cannot modify the actual state of the transaction if your choosing to deserialize and show transaction info for verification, as that would invalidate the transaction and signatures and cause failure.
I was trying partialSign with my tx object but no luck
I did see that but wanted to confirm it was required
you probably want to look into offline signing and nonce accounts,  and additionally based on circumstance partialSign where including multiple signatures.  Here is a reference for offline signing:
https://solanacookbook.com/recipes/offline-transactions.html#sign-transaction
It's ok if I sign with both of the required wallets, then serialize
Is it possible to sign a tx on a server, then have a client sign it and submit it? My tx serialize fails with only one of the signers?
thank you
maybe here https://solanacookbook.com/recipes/accounts.html#program-derived-address
has replied you at <#814696762467287121>
the solana hello-world example shows how to create a Program Derived account from the js side, is this doable also from the Rust program side?
how to create a new account with command line?
your suggestion worked <@!448129579500961793> thanks again!
Thanks, iboss.
Hope this might shed some light, spl token is a low level building block for NFT, metaplex creates metadata account and program to deal with. well, metadata. So going through this might help https://github.com/metaplex-foundation/metaplex/blob/82413d0b67ab9f19ce0a2753ec7859c4ba6f6997/rust/token-metadata/program/src/utils.rs#L580
its more about floating point math vs other implementations up to preference, error prone implementations, and historical cases in finance and rounding. A simple example could be using whole numbers and applying precision post operation. I would review the topic if it interests you as there is a lot of material and references for this kind of thing. You can also look at the code implementation in the repos for reference.
there are no gas fees. but yea, how most work using metaplex is a hybrid approach.  storing data in general on chain costs rent, because its storage. you can calculate rent, cli `solana rent --help` `solana rent <bytes>` and use functions like getMinimumBalanceForRent to get an idea of how much your storage costs may be. Giving image dimensions does not necessarily correlate to data size.
fascinating, what sort of math would you be using to resolve floating point and fractional values?
without being specific at all, in general there are just issues with floats and calculations, especially with math, rounding, and in finance. there are various math implementations and PreciseNumber used in the token program, and other resources to use alternatively. That being said there is some support for floating points you can see in the repos used as well, powf, and related.
Majority of NFT art is centralized in the sense the images are stored on a server while the NFT token is obviously decetralized.

If you had an 3D array of size 128x128x3 (width x height x RGB) which was stored directly on the blockchain. What would gas fees be like to mint this?
I'm a rust dev getting into Solana/Anchor
Why aren't floats supported over Solana
yea this is the way, thanks <@!448129579500961793> . the Token object is more or a helper and utility wrapper, and had initially required a signer to use for wrapping certain functions. This may be changing going forward. The utility functions are very helpful, but the implementation may get an update.
it looks to me like the `IncreaseValidatorStake` will just delegate funds to a validator without checking score or trying to do it in a balanced way
https://github.com/solana-labs/solana/issues/21722

Was able to get some minimal code to reproduce, after some experimenting. If I don't get to writing a PR, hopefully this helps whoever tackles the issue.
i don't see any concept of validator score on the stake-pool program, is this something that's computed and handled off-chain?
hey there
I want to build customize smart contract for NFT.
NFT is part of spl token program, just another token type https://spl.solana.com/token#example-create-a-non-fungible-token
I can't find smart contract for NFT in metaplex?
where can I find smart contract for NFT?
I had encountered the same issue before lol glad that helps
wow <@!448129579500961793> thats great! I didn't know about the cookbook, I way looking up the functions directly from https://github.com/solana-labs/solana-program-library/blob/master/token/js/client/token.js haha, I'll give it a try!
https://solanacookbook.com/recipes/token.html#create-token
Use createInitMintInstruction instead add it to transaction and sign it with signTransaction from useWallet
<@!785084693023424542> ah nice thank you, I'm playing around with the javascript libs rn and I would like to create a mint using the Token.createMint() function. Now the problem is the second parameter needs to be a 'Signer' but I only have a WalletContextState which I'm getting from a Provider from the Phantom wallet (and as far as I know it is only possible to get the public key via a wallet brower extension right?). Is there a way to create a mint using only the public key and then approve it via the Phantom /¬†Solflare / etc. browser extension?
Wonderful. Brute force FTW
https://solanacookbook.com/recipes/keypairs-and-wallets.html#vanity-publickeys  note the CLI tabs as well.
Thanks a lot to both of you, I'll look through those
Im working on it as well, what is your question? See if I could be of help
Hi, I'm curious how to generate a PublicKey that starts with a certain prefix?
ask away
the concepts to blockchain can be relatable, but each chain has its own concepts and implementation. the https://solanacookbook.com is going to launch a Core Concepts section soon that is going to cover this. In the mean time, here are a few resources that will serve as a good starting point and general overview.

Graze through and be familiar with these points in the developer overview:
https://docs.solana.com/developing/programming-model/overview

Overview and project walk through:
https://hackmd.io/@ironaddicteddog/solana-starter-kit
<@!204426347764908033> this blog entry describes the concepts quite well: https://2501babe.github.io/posts/solana101.html#programs-and-accounts
Could anyone recommend a good resource for learning the higher-level concepts around how accounts, programs, program executions are modelled in Solana development or blockchain development in general?
Hey everyone, is there anybody around who could help with a @solana/spl-token javascript question?
ok no worries
PRs can take up to 2 weeks to merge right now based on availability. Working to streamline the process for the future.
https://github.com/solana-labs/token-list/pull/6529
Check out https://solanacookbook.com/recipes/offline-transactions.html#durable-nonce
its to change the logo
I already have but I dont know how long its gonna take
generally you need to file comments and issues for PRs in the repos.
Hey can someone help me with my pull request??
Yeah, not for the fix, just for the repro
Not sure if it'll be accepted using different SDKs, but you use them to show the issue
Sure. Mind if I use our sdks? They're all on npm. I think you need instructions with accounts in a certain order to cause the problem. I know our sdks cause that.
We welcome PRs!
Happens in the mono repo
Could you create a test that replicates the issue and file the issue here? https://github.com/solana-labs/solana
Also happy to contribute a fix. Just not sure where active devving happens for web3.js
Okay so I think I've figured out the bug. The logic here https://github.com/solana-labs/solana-web3.js/blob/74007a55afa29b36e0535bb9bcff3b64dda9b19e/src/transaction.ts#L261-L281

Can lead to different orderings to accountMetas after serializing and deserializing.  The "content" of the transaction is the same, however the accountKeys flipped around. So long as the indices still hold true for writable accounts, the transaction will function the same. The issue is that signatures signed before this shuffle will be incorrect. I suspect it's because when you create a txn from scratch, accounts reused in earlier instructions may be writable in those instructions, but not writable in the later instructions. Because the algorithm used here has no fallback sorting, you just get what you get. 

A workaround is to, before pre-signing the transaction, run `Transaction.from(tx.serialize({ requireAllSignatures: false }))`. Then sign the transaction and serialize. This ensures the ordering doesn't get jumbled. 

Where should I file an issue? Doesn't seem that github is the place.
can anyone explain how a  nonce-account  is different than a regular account and when it is comonly used?
I suspect something is wrong with this logic https://github.com/solana-labs/solana-web3.js/blob/74007a55afa29b36e0535bb9bcff3b64dda9b19e/src/message.ts#L90
Transaction.from seems to also produce invalid instructions. A lot of accounts have isWritable that should not be writable. I'm digging into the web3js code to try to find the exact issue.
The accounts referenced later on are fine, since it's by index, and the new txn has different indices. So it's effectively the same transaction, but it's serializing differently.
Woah. I think I found the issue. The serialization changes the order of accountKeys on the underlying txn message. This makes the signData different, thus failing sig verification.
thanks, didnt know they had a discord
Interestingly, they serialize to the same thing if you add `verifySignatures: false` to the second call. It just for some reason fails on this step when you've already deserialized once:

```
        if (!nacl.sign.detached.verify(signData, signature, publicKey.toBuffer())) {
```
So, for a transaction with two signers, but one of them missing, the following fails:

```
Transaction.from(txn.serialize({ requireAllSignatures: false })).serialize({ requireAllSignatures: false })
```
Check Serum https://discord.gg/XvJXnVeZ
is there any resources on the structure of the accounts and PDAs (what accounts are created for what purpose, with what seeds, etc) for the Serum CLOB?
Yes. Why would you change something that works?
That's what you mean?
Yes. I can directly pass the value of the wallet and it works. The problem is when I try to pass it as a variable.
just passing your `wallet` variable doesn't work either?
I want to use this code to get the spl token of the connected user to my frontend. 

https://yihau.github.io/solana-web3-demo/advanced/token/get-all-token-account-by-owner.html

But don't know how to pass the publickey of the current user. I thought that i needed in string, thats why i did that. But don't work :/
Why do you need to do conversions from public key to string to public key? You could just use the original key
Yes. But I thought you meant there was another way.
Don't you have it with `const wallet = useWallet().publicKey`?
Any example ? Don't know how to get directly publicKey :/
I don't think they have. This test runs on every build, which I would expect to fail if something changed
Did the signature hashing methods change at all? I'm wondering if web3js version mismatches could be causing this. Because locally, `Transaction.from(tx.serialize()).serialize()` does not fail.
Something else strange is happening here. Not sure what.
Yeah, that's what we're doing
Found example here: https://github.com/solana-labs/solana-web3.js/blob/168d5e088edd48f9f0c1a877e888592ca4cfdf38/test/transaction.test.ts#L133
You could also do this `partialTransaction.serialize({requireAllSignatures: false}),`
We don't have an example today, but you potentially could use https://solana-labs.github.io/solana-web3.js/classes/Transaction.html#partialSign
When did this change? Bonfida's name service works this way. The user signs a txn, sends it to the server, which signs the txn and submits.
Thank you so much <@!489206164270350337> this is a great resource
Ah, so you can't partially sign a transaction, then have the user deserialize and sign
Sounds like a great idea
Can't without all of them
You have to add all the signatures then serialize it
Our use case is a server that presigns the transactions then sends them back to the user. We didn't use to have to add them separately
You need to send the signatures separately?
That's why I thought it might be the `tsconfig.json` file, so maybe just providing an example of the minimum requirements for that file in the example in the Cookbook would be enough?
I can make one, but it's really just the ts file from the website, an HTML file I showed above that pulls in the two libraries and calls the compiled js file, and the `tsconfig.json` file I showed above. Then I run tsc to compile the js
Do you have any repo where you're running into this? I can try to use that as a base so it is easier for you as well
Odd, as PublicKey does take in a String. Couldn't you also pass it without going from publicKey -> string -> publicKey?
Although other TS I write without any libraries compiles and runs fine in the browser
Understood! I'll see if I can get an example created later tonight for the cookbook stuff
I thought loading it in an HTML file would be enough, but I keep getting that error
<@!489206164270350337> Thanks I'll check out that other example. I'm just trying to figure out what the bare minimum I need is to get that Solana Cookbook example to run in a browser and print to the console
Im using this code to get the current publickey of the connected wallet at the moment:

``` 
const wallet = useWallet().publicKey
const Base58Wallet = wallet?.toBase58()
console.log(Base58Wallet);
```

So im trying to put the Base58Wallet string (which is the wallet string) in the code like: 

``` 
new PublicKey(Base58Wallet); 
```

But when try to put in the code, typescript show me this error: "Argument of type 'string | undefined' is not assignable to parameter of type 'PublicKeyInitData'. Type 'undefined' is not assignable to type 'PublicKeyInitData'.ts(2345)"

I only want to show the balance of my spl token in the frontend when users connect their wallets.
Just done a different way
It can be enough.
OK, but compiling the provided TS to JS and running it in a web browser is not enough?
https://github.com/solana-labs/wallet-adapter
What you can do is try it out on the react wallet starter or something else. Ultimately it's just a preference on how you build your website
1) This is not explicitly kept quiet. All the information can be found under https://docs.solana.com/proposals/accepted-design-proposals and the discussions under core engineering/git issues. Everything is public and open to other contributors. Check specifically <#774014770402689065> and you'll find a lot about upcoming changes there

2)  NFT integrations are done currently with Metaplex, which I believe is a program wrapped around the token program. They're a separate entity from Solana Labs. Ultimately anyone can create a new standard wrapper as long as they get enough adoption

3) Considered the NFT standard today by the ecosystem
I can get your example from the repo you just sent to build and run locally. I guess what's missing for me in the Solana Cookbook example is how I can actually use that ts example and get it to the point where I can actually run something. Like what else there needs to be. The example repo you just sent me has all these other files, like `package.json`. I never did node or any TypeScript before so I am struggling with how to actually get this example TS to work if I wanted to build a simple web page that ran it
Looks like whatever you're querying is not actually a token account. You may be querying your keypair address or something else
Once minted, you cannot change your token decimals
What program? Please give more info
What exactly is the error?
Check out this example that shows adding the signatures to the raw transaction then serializing it https://solanacookbook.com/recipes/offline-transactions.html#sign-transaction
Sounds like the signatures are lost, which makes sense. Do you have more code on how you're doing this?
Let me know if you can run that locally, replacing one of the examples with an example from the cookbook
We should probably create some example repo in general for the cookbook
So here's an example repo I have that you can plug in the examples https://github.com/Jacob-CG/solana-web3-reference
I ran into another error at first, and then based on some googling ended up adding this to my `tsconfig.json` file to fix that error, but now I have this other error
Yes. Copied and pasted the ts you sent into my local ts file, switched it out to my wallet address and to mainnet-beta, made that basic html file to load the two js libraries, and ran tsc
Are you just trying to get the example to run locally in general?
No, I am just running it locally
Yes, that's the one I'm using
Do you have a link to a repo?
You're trying this example? https://github.com/solana-dev-adv/solana-cookbook/blob/master/code/get-program-accounts/memcmp/memcmp.en.ts
I'm thinking maybe I need to do something different to my `tsconfig.json`? But I don't really know enough about TS to figure it out and googling hasn't helped with any of the solutions I found

My HTML file is very basic, like this, basically just enough to run the compiled ts file

Hey, I'm new to TypeScript. Trying to do the `memcmp` example from Solana Cookbook, but I'm getting an error:
In other words, the transaction can serialize the first time, but cannot be serialized after being deserialized once.
I'm at my wits end. Why would this fail with `Signature verification failed` on the outer serialize?

```
Transaction.from(tx.serialize()).serialize()
```

Doesn't seem to matter the transaction, as long as it has some signers.
Hello @chido, I'm trying to run this code to get the spl token from a wallet but in the publicKey I try to put my const publickey to add the key of the connected wallet and throw me an error. Any ideas ü§î
`pub rent: Sysvar<'info, Rent>`

Why do we need to pass this into a program?
Hi there how can i change my token decimal cause i couldn t mint amount how much i want .. Help????
hi, everyone
I`m trying to perform the curl from the off doc
https://docs.solana.com/developing/clients/jsonrpc-api#getbalance
I used Phantom to registry my wallet

When I perform such a command curl https://api.devnet.solana.com -X POST -H "Content-Type: application/json" -d '{"jsonrpc":"2.0", "id":1, "method":"getTokenAccountBalance", "params": ["my_wallet_code"]}'
I get the error {"jsonrpc":"2.0","error":{"code":-32602,"message":"Invalid param: not a v2.0 Token account"},"id":1}

If I do the same with my_wallet_code which was encoded to Base58 I get such an error
{"jsonrpc":"2.0","error":{"code":-32602,"message":"Invalid param: WrongSize"},"id":1}
https://docs.solana.com/cli/install-solana-cli-tools#macos--linux
Hi, are there a description how to install cli on linux ubuntu? Is it possible with cli to unstake a stake pool?
A few questions. Thanks in advance! If there is a better place to ask please let me know.

1) Is there an SPL roadmap and or a general Solana developer roadmap for the next few quarters? I found a few unresolved inquires on reddit/etc if this is explicitly kept private it would be nice to at least public state that somewhere that people can find. I can't imagine there just aren't roadmaps at all?

2) Are there any plans for a generic NFT integration into Solana? In particular the ability to add metadata to SPL accounts? I've been struggling trying to dig into the relationship between Metaplex Foundation and Solana Labs... it seems like a fuzzy / opaque relationship. I found a closed PR for token metadata on GH that i think later became the metaplex smart contract. Doesn't it at the very least make sense to have a SPL generic token metadata contract or better yet metadata on spl accounts to prevent doubling rent exemption fees?

3) Further on metaplex: Is this a private company that has essentially been endorsed by Solana Labs to be the de-facto NFT standard? Direct integrations on official tools like Solana Explorer and non official but very popular wallets? My read of the situation is that this all spun up pretty fast and involved devs from Solana Labs but don't NFT's warrant being more generic in the ecosystem? I understand I could create a similar metadata smart contract and can mint my own tokens but if they don't have integrations on consumer friendly tools that is a pretty high moat for what essentially feels like metaplex having a monopoly on NFTs. This seems rather antithetical to one of the core tenets within crypto of decentralization.

I'm still rather new to Solana dev so hoping my read of the state of things is flawed. Thanks.
doing it manually via array_refs
hy, can help? when i try to create account on mainnet i have this error >>> RPC response error -32002: Transaction simulation failed: error processing Instruction 0: custom program error: 0x2[18 log messages]  thank you
what serialization are you using? borsh?
need to know for an example am creating to create programs on chain pda and normal accounts.
so is there a easy way to just get the number of bytes a data structure/type would require ?
so i was manually serializing and deserializing and wanted to know what is the easiest way to get the length of some unorthodox datatype, for example pubkey is 32 bytes, bool is 1 bytes, so if a struct consists of a pubkey and bool it is of len 33 bytes, what confused me is the cOption<Pubkey> which is of 36 bytes,
<@!489206164270350337> do u mind helping me take a look at some code and help me out?
can someone link a well-written example of closing a PDA account owned by your program?


///////////////////////////////////////////////////////////////////////////////////////////////

