{
    "total_results": 16,
    "messages": [
        [
            {
                "id": "958878200094662686",
                "type": 0,
                "content": "I had noticed the irregularities on our server files. I edited/corrected them and pasted them here. But running the demo still gave problems. Now when I got back to our regular work location and restarted my laptop, tried again and it suddenly worked (to my surprise) so must be some cache not refreshing. We haven't deployed anywhere yet. Will conduct some more thorough tests including on mainnet. Really cool to have SOL Pay as another useful option.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "946956257749790720",
                    "username": "semlor",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "1207",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T23:59:37.998000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "958876899411640390",
                "type": 19,
                "content": "In any case, very glad you were able to fix the issue, it might be a sizing constraint on the amount or maybe your changes aren't being saved and refreshed? If you share your repo or where your code is being deployed, I can help take a look at the live version and debug that issue.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "958023453905133619",
                    "username": "SBlaze",
                    "avatar": "77212b8212455d9497d28bf085eebf19",
                    "avatar_decoration": null,
                    "discriminator": "5938",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "946956257749790720",
                        "username": "semlor",
                        "avatar": null,
                        "avatar_decoration": null,
                        "discriminator": "1207",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T23:54:27.891000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958799174269288518"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958876697543966770",
                "type": 19,
                "content": "Yes, we've tested the quick start code on devnet, testnet, and mainnet, but maybe there are some issues related to how the copy paste worked.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "958023453905133619",
                    "username": "SBlaze",
                    "avatar": "77212b8212455d9497d28bf085eebf19",
                    "avatar_decoration": null,
                    "discriminator": "5938",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "946956257749790720",
                        "username": "semlor",
                        "avatar": null,
                        "avatar_decoration": null,
                        "discriminator": "1207",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T23:53:39.762000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958795847221538896"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958799174269288518",
                "type": 19,
                "content": "I changed the transfer amount to lamport equivalent of 0.1 SOL and now the transaction is registered in the history, so the test amount was just too small to register. I've changed the lamports amount in index.js to equivalent of 1 SOL but the wallet transfer figure never changes from 0.1 SOL. I will conduct some more tests - in any event, good to see that the basic transaction works. Thanks for your feedback.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "946956257749790720",
                    "username": "semlor",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "1207",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "958023453905133619",
                        "username": "SBlaze",
                        "avatar": "77212b8212455d9497d28bf085eebf19",
                        "avatar_decoration": null,
                        "discriminator": "5938",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T18:45:36.773000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958739321102430270"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958795847221538896",
                "type": 19,
                "content": "Wallet connects fine as I get the wallet address and \"confirmed\" displayed in the console log. One thing that was weird that I noticed now is that when I click on the \"Copy\" icon on the Quick Start page and paste it in a text editor, the code copies correctly. But when I right-click to paste it inside a terminal editor (nano), it pastes weirdly and a couple of code lines were stuck behind comment lines. I've fixed those irregularities and tried again. Now I get the wallet popup to approve transaction when I click on the Buy button. But I don't see any record of the transaction in the history for the Devnet when I use the \"let network_url = await SOLPay.connectNetwork(\"https://api.devnet.solana.com/\", \"confirmed\");\" line. Shouldn't the sent transaction appear in the history of the Phantom wallet? Just curious if you guys have tested the Quick Start code on the Mainnet with real solana transfers from buyer to seller address?",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "946956257749790720",
                    "username": "semlor",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "1207",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "958023453905133619",
                        "username": "SBlaze",
                        "avatar": "77212b8212455d9497d28bf085eebf19",
                        "avatar_decoration": null,
                        "discriminator": "5938",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T18:32:23.543000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958739321102430270"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958739321102430270",
                "type": 19,
                "content": "The variable name part doesn't really matter, `network_details` or `network_url` should both work. What sort of error are you getting on connect? \n\nSeems like you're doing everything right, but I'll take a closer look and let you know.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "958023453905133619",
                    "username": "SBlaze",
                    "avatar": "77212b8212455d9497d28bf085eebf19",
                    "avatar_decoration": null,
                    "discriminator": "5938",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "946956257749790720",
                        "username": "semlor",
                        "avatar": null,
                        "avatar_decoration": null,
                        "discriminator": "1207",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T14:47:46.666000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958659095148236820"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958659289554239538",
                "type": 19,
                "content": "index.js\n--------\nasync function connectWallet() {\n/* Connect to Solana network: */\n// same error results with either of the next 2 lines\n//let network_url = await SOLPay.connectNetwork();\nlet network_url = await SOLPay.connectNetwork(\"https://api.devnet.solana.com\", \"confirmed\");\nconsole.log(network_url); // \"https://solana-api.projectserum.com\"\n\n/* Connect to user wallet: */\nlet wallet = await SOLPay.connectWallet();\nconsole.log(wallet.address); // the address of the connected wallet\n}\n\nasync function buyItem() {\n    let address = \"ourselleraddress\" // replace with the Solana address of the seller\n    let lamports = 10000;\n    let payment_details = await SOLPay.sendSolanaLamports(address, lamports);\n    // IMPORTANT: Send payment_details.signature to the backend for verification\n    let raw_result = await fetch(\"verify.php?txid=\" + encodeURIComponent(payment_details.signature));\n    let parsed_result = await raw_result.json();\n    // Use parsed_result to either return success message or error message to user\n}\n\nverify.php\n----------\n// If the transaction signature is not yet in the database\n$to = \"ourselleraddress\";\n$txid = $_GET[\"txid\"]; // Get the txid in the URL from frontend request\n$transaction_data = json_decode(file_get_contents(\"https://solpay.togatech.org/transaction.php?to=\" . $to . \"&txid=\" . $txid), true);\nif($transaction_data[\"status\"] == \"success\" && $transaction_data[\"transaction\"][\"lamports\"] >= 10000) {\n    // Add the transaction signature to the database so that it cannot be reused\n    // Send the item to the user associated with $transaction_data[\"transaction\"][\"from\"]\n} else if($transaction_data[\"status\"] == \"error\") {\n    // Send $transaction_data[\"error\"] to the frontend to display to the user\n} else {\n    // Send an error to the user that not enough funds were sent in the transaction\n}\n\nWould be great to learn what I'm doing wrong.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "946956257749790720",
                    "username": "semlor",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "1207",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "958023453905133619",
                        "username": "SBlaze",
                        "avatar": "77212b8212455d9497d28bf085eebf19",
                        "avatar_decoration": null,
                        "discriminator": "5938",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T09:29:45.658000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958531902770389043"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958659095148236820",
                "type": 19,
                "content": "Thanks - 'appreciate your troubleshooting help!\n\nA couple of things I noticed:\n\n- on the Quick Start page, the individual code snippets have \"let network_details\" whereas the complete Example code at the bottom of the page (which I tried with) have \"let network_url\". Should either work? I just copied the Example code snippets as they were and inserted our seller address.\n\n- I tried both the \"let network_url = await SOLPay.connectNetwork();\" as well as \"let network_url = await SOLPay.connectNetwork(\"https://api.devnet.solana.com\", \"confirmed\");\" with same error results.\n\n- The \"ourselleraddress\" was obviously replaced with our real address in the code snippets below.\n\n- Wallet connects fine, but always get the following error in console log (and no transaction sent in the wallet history):\n\n  Uncaught (in promise) ReferenceError: lamports is not defined\n    buyItem https://www.ourdomain.com/index.js:10\n    onclick https://www.ourdomain.com/index.html:1\n\nCode snippets that I'm using:\n    \nindex.html\n----------\n<script src=\"https://solpay.togatech.org/sdk.js\" type=\"text/javascript\"></script>\n<script src=\"index.js\" type=\"text/javascript\"></script>\n<button onclick=\"connectWallet();\">Connect</button>\n<button onclick=\"buyItem();\">Buy Item for 0.00001 SOL</button>\n\nHave to break up this message due to discord 2000 character limit.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "946956257749790720",
                    "username": "semlor",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "1207",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "958023453905133619",
                        "username": "SBlaze",
                        "avatar": "77212b8212455d9497d28bf085eebf19",
                        "avatar_decoration": null,
                        "discriminator": "5938",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T09:28:59.308000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958531902770389043"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958628129230966844",
                "type": 19,
                "content": "I pinged you on <#517163444747894795> with an answer to this, doesn't involve Solana Pay",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "492411676889710592",
                    "username": "callum.m",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "8089",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "949214664431128596",
                        "username": "zunairajaved",
                        "avatar": null,
                        "avatar_decoration": null,
                        "discriminator": "9685",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T07:25:56.458000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958627948733292574"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958627948733292574",
                "type": 19,
                "content": "thank you.. but it only use native sol for transfer i want this functionality using custom spl-token",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "949214664431128596",
                    "username": "zunairajaved",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "9685",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "958023453905133619",
                        "username": "SBlaze",
                        "avatar": "77212b8212455d9497d28bf085eebf19",
                        "avatar_decoration": null,
                        "discriminator": "5938",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T07:25:13.424000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958619028555968553"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958619028555968553",
                "type": 19,
                "content": "There's an spl token helper library `@solana/spl-token` I think, but you can also use SOL Pay SDK at https://solpay.togatech.org/ (docs at https://solpay-docs.solblaze.org/) for better abstracting all the complexities for token transfers.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "958023453905133619",
                    "username": "SBlaze",
                    "avatar": "77212b8212455d9497d28bf085eebf19",
                    "avatar_decoration": null,
                    "discriminator": "5938",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "949214664431128596",
                        "username": "zunairajaved",
                        "avatar": null,
                        "avatar_decoration": null,
                        "discriminator": "9685",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T06:49:46.688000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958603500462424084"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958603500462424084",
                "type": 19,
                "content": "Hi <@!958023453905133619>  how can i make transaction and payments with custom spl-token using `@solana/web3.js` other than native sol.  thank you",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "949214664431128596",
                    "username": "zunairajaved",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "9685",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "958023453905133619",
                        "username": "SBlaze",
                        "avatar": "77212b8212455d9497d28bf085eebf19",
                        "avatar_decoration": null,
                        "discriminator": "5938",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T05:48:04.502000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958377295935066192"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958532614032080956",
                "type": 0,
                "content": "just ran and code seems to be working for me, so could you please share your code file so that I can help debug the issue?",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "958023453905133619",
                    "username": "SBlaze",
                    "avatar": "77212b8212455d9497d28bf085eebf19",
                    "avatar_decoration": null,
                    "discriminator": "5938",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T01:06:23.860000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "958532124653264946",
                "type": 0,
                "content": "oh wait, you're probably using quick start code, let me take a look",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "958023453905133619",
                    "username": "SBlaze",
                    "avatar": "77212b8212455d9497d28bf085eebf19",
                    "avatar_decoration": null,
                    "discriminator": "5938",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T01:04:27.183000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "958531902770389043",
                "type": 19,
                "content": "Hmm, can you please share your code or a snippet so that we can take a look? It might be that a parameter is missing or something.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "958023453905133619",
                    "username": "SBlaze",
                    "avatar": "77212b8212455d9497d28bf085eebf19",
                    "avatar_decoration": null,
                    "discriminator": "5938",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "946956257749790720",
                        "username": "semlor",
                        "avatar": null,
                        "avatar_decoration": null,
                        "discriminator": "1207",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T01:03:34.282000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958524989106184243"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "958524989106184243",
                "type": 19,
                "content": "Nice to see a php-based option for solana payments. Tested the example code provided at the bottom of the Quick Start (index.html, index.js, verify.php) but got the following error when clicking on the \"Buy Item for 0.00001 SOL\": Uncaught (in promise) ReferenceError: lamports is not defined.",
                "channel_id": "938828592232693820",
                "author": {
                    "id": "946956257749790720",
                    "username": "semlor",
                    "avatar": null,
                    "avatar_decoration": null,
                    "discriminator": "1207",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "958023453905133619",
                        "username": "SBlaze",
                        "avatar": "77212b8212455d9497d28bf085eebf19",
                        "avatar_decoration": null,
                        "discriminator": "5938",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2022-03-30T00:36:05.936000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "938828592232693820",
                    "guild_id": "428295358100013066",
                    "message_id": "958250716386975745"
                },
                "hit": true
            }
        ]
    ],
    "analytics_id": "d63663060b8a1a424c6366bff336a66d"
}