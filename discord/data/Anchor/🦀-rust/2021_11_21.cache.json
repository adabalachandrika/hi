{
    "total_results": 22,
    "messages": [
        [
            {
                "id": "911990669906673674",
                "type": 0,
                "content": "check out how the serum orderbook processes a new order, there's no way you could do this using PDAs",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:45:19.673000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911990573966188554",
                "type": 0,
                "content": "<https://github.com/Bonfida/agnostic-orderbook/blob/main/program/src/orderbook.rs#L88>",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:44:56.799000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911990441107419216",
                "type": 0,
                "content": "i don't think what you're proposing can be functionally implemented",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:44:25.123000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911990318239469609",
                "type": 19,
                "content": "have you spent much time using solana?",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "637707515328725002",
                        "username": "jonasthecat",
                        "avatar": "913071ed965c493c6af00d53d06dec87",
                        "avatar_decoration": null,
                        "discriminator": "4803",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:43:55.829000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "911983748193591397"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "911983856838672404",
                "type": 0,
                "content": "\"Pass in\" to where?",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:18:15.311000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911983748193591397",
                "type": 19,
                "content": "Each queue account pubkey is added to the btree when an offer for that (previously nonexistent) price is placed in the first time",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "248066053161222144",
                        "username": "donderper",
                        "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                        "avatar_decoration": null,
                        "discriminator": "9738",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:17:49.408000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "911982688985055242"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "911982793167368232",
                "type": 0,
                "content": "You can't load accounts dynamically in Solana",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:14:01.712000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911982688985055242",
                "type": 19,
                "content": "How do you pass in all the accounts? There must be way too many",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "637707515328725002",
                        "username": "jonasthecat",
                        "avatar": "913071ed965c493c6af00d53d06dec87",
                        "avatar_decoration": null,
                        "discriminator": "4803",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T14:13:36.873000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "911975897798705212"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "911976591767248946",
                "type": 0,
                "content": "I am using a VecDequeue which I think Anchor does not support as well, even though it just a circular vec, which borsh also serializes in the same way as Vec",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T13:49:23.183000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911976313617780866",
                "type": 0,
                "content": "(note: my queue prioritizes offers placed long time ago)",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T13:48:16.867000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911975897798705212",
                "type": 0,
                "content": "Ok, just asking because I was implementing something like that but had no experience. First I thought about using a BTree where key is price and value is a pubkey pointing to an account that has a queue of offers of that price. But because my scenario have a fixed set of possible prices (few hundreds), now I don't even have the BTree and the users just use PDAs to find that queue account (using price as seed). Not sure what might be the issues of this approx (beyond the possibility of PDA clashes) yet.",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T13:46:37.728000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911957413844901929",
                "type": 0,
                "content": "i just want to play around with making an auction orderbook for a multitoken auction",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T12:33:10.810000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911955982190526545",
                "type": 0,
                "content": "that's roughly what i'm thinking but haven't really gone into too much detail on it yet",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T12:27:29.477000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911955910719602708",
                "type": 19,
                "content": "key = (price, time)\nvalue = (quantity, public key)",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "637707515328725002",
                        "username": "jonasthecat",
                        "avatar": "913071ed965c493c6af00d53d06dec87",
                        "avatar_decoration": null,
                        "discriminator": "4803",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T12:27:12.437000+00:00",
                "edited_timestamp": "2021-11-21T14:12:12.791000+00:00",
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "911949784879874058"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "911949784879874058",
                "type": 19,
                "content": "For the orderbook what would be the entries of the tree?",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "248066053161222144",
                        "username": "donderper",
                        "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                        "avatar_decoration": null,
                        "discriminator": "9738",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T12:02:51.923000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "911895382370447381"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "911907303681327104",
                "type": 0,
                "content": "Borsh just stores a btreemap as a vec of key-value pairs and then dynamically turns them into a btreemap, so you could always do that yourself if you wanted (a bit annoying but possible).",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "134416332509675520",
                    "username": "cqfd",
                    "avatar": "1843b8189caf8a8252ae7c78becad4ba",
                    "avatar_decoration": null,
                    "discriminator": "6977",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T09:14:03.616000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911895382370447381",
                "type": 19,
                "content": "There's two use cases \n- a btreeset to store seeds of all the PDAs that have been created\n- a btreemap for an orderbook",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "637707515328725002",
                        "username": "jonasthecat",
                        "avatar": "913071ed965c493c6af00d53d06dec87",
                        "avatar_decoration": null,
                        "discriminator": "4803",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T08:26:41.354000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "911768299212263434"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "911769364229947453",
                "type": 0,
                "content": "Also rust implementation of BTreeMap might not be too far from a simple Vec. Read https://doc.rust-lang.org/std/collections/struct.BTreeMap.html",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [
                    {
                        "type": "link",
                        "url": "https://doc.rust-lang.org/std/collections/struct.BTreeMap.html",
                        "title": "BTreeMap in std::collections - Rust",
                        "description": "A map based on a B-Tree."
                    }
                ],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T00:05:56.288000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911768299212263434",
                "type": 0,
                "content": "Today I have more doubts about whether we should or not use that structure considering the solana programming model. Many situations where I was thinking using BTree now I think it's better to use PDA. It would be interesting to have the opinion of someone more experienced in solana development about whether BTrees could be useful and in what situations",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-21T00:01:42.368000+00:00",
                "edited_timestamp": "2021-11-21T00:01:59.472000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911767660193263707",
                "type": 0,
                "content": "That depends on a serum-ts PR, but you can implement the changes of that PR inside anchor",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-20T23:59:10.014000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911766828471160852",
                "type": 0,
                "content": "Don't know how to remove this images in phone",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-20T23:55:51.716000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "911766685206315050",
                "type": 19,
                "content": "https://github.com/project-serum/anchor/pull/916",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "637707515328725002",
                    "username": "jonasthecat",
                    "avatar": "913071ed965c493c6af00d53d06dec87",
                    "avatar_decoration": null,
                    "discriminator": "4803",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [
                    {
                        "type": "article",
                        "url": "https://github.com/project-serum/anchor/pull/916",
                        "title": "lang, ts: Add map type by joaompfe \u00b7 Pull Request #916 \u00b7 project-se...",
                        "description": "IDL support for Map types. Depends on project-serum/serum-ts#181.\nBecause BTreeMap has two generic types I was forced to use syn to extract the two types. Without syn, only with recursive regex, wh...",
                        "color": 1975079,
                        "reference_id": "911766685206315050",
                        "provider": {
                            "name": "GitHub"
                        },
                        "thumbnail": {
                            "url": "https://opengraph.githubassets.com/87095a116665f4ee3529a1470f7a0c4b5de8087e90c8fe873400509020dba06d/project-serum/anchor/pull/916",
                            "proxy_url": "https://images-ext-2.discordapp.net/external/OLo14HW5WESrTQGfBxE0S2QYYABWYeyL87bIausKJ0Q/https/opengraph.githubassets.com/87095a116665f4ee3529a1470f7a0c4b5de8087e90c8fe873400509020dba06d/project-serum/anchor/pull/916",
                            "width": 1200,
                            "height": 600
                        }
                    }
                ],
                "mentions": [
                    {
                        "id": "248066053161222144",
                        "username": "donderper",
                        "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                        "avatar_decoration": null,
                        "discriminator": "9738",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-20T23:55:17.559000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "911255397279604767"
                },
                "hit": true
            }
        ]
    ],
    "analytics_id": "cc6839a195f15e37121af7c2a82f48b0"
}