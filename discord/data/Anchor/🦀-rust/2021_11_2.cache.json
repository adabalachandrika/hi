{
    "total_results": 13,
    "messages": [
        [
            {
                "id": "905140622216794122",
                "type": 19,
                "content": "thanks so much, didn't see that, i'll give it a shot",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "886273867293802556",
                    "username": "joebuild",
                    "avatar": "8bd105a959e9fb8265f56a57776b3f6a",
                    "avatar_decoration": null,
                    "discriminator": "8170",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "134416332509675520",
                        "username": "cqfd",
                        "avatar": "1843b8189caf8a8252ae7c78becad4ba",
                        "avatar_decoration": null,
                        "discriminator": "6977",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T17:05:41.036000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "905139699230859314"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "905139699230859314",
                "type": 0,
                "content": "E.g. https://discord.com/channels/889577356681945098/889577399308656662/901308276761841664",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "134416332509675520",
                    "username": "cqfd",
                    "avatar": "1843b8189caf8a8252ae7c78becad4ba",
                    "avatar_decoration": null,
                    "discriminator": "6977",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T17:02:00.979000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905139452819689472",
                "type": 0,
                "content": "Ah, ok, this is a tricky lifetime issue, you need to explicitly write out all of the lifetimes (rust's lifetime ellision ends up not working there I think)",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "134416332509675520",
                    "username": "cqfd",
                    "avatar": "1843b8189caf8a8252ae7c78becad4ba",
                    "avatar_decoration": null,
                    "discriminator": "6977",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T17:01:02.230000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905139263362957402",
                "type": 0,
                "content": "i tried:\n`ctx.accounts.into_distribute_context(ctx.remaining_accounts[i].to_account_info()),`\nwith:\n`fn into_distribute_context(&self, acc: AccountInfo<'info>)`\nand get:\n```\n42 |     pub fn distribute(ctx: Context<Distribute>,\n   |                            ------------------- these two types are declared with different lifetimes...\n...\n78 |                     ctx.accounts.into_distribute_context(ctx.remaining_accounts[i].to_account_info()),\n   |                                  ^^^^^^^^^^^^^^^^^^^^^^^ ...but data from `ctx` flows into `ctx` here\n```",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "886273867293802556",
                    "username": "joebuild",
                    "avatar": "8bd105a959e9fb8265f56a57776b3f6a",
                    "avatar_decoration": null,
                    "discriminator": "8170",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T17:00:17.060000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905139156592787486",
                "type": 0,
                "content": "Is the `Transfer` type there the one from anchor_spl's token module?",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "134416332509675520",
                    "username": "cqfd",
                    "avatar": "1843b8189caf8a8252ae7c78becad4ba",
                    "avatar_decoration": null,
                    "discriminator": "6977",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T16:59:51.604000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905138858067361843",
                "type": 0,
                "content": "Like, lifetime errors?",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "134416332509675520",
                    "username": "cqfd",
                    "avatar": "1843b8189caf8a8252ae7c78becad4ba",
                    "avatar_decoration": null,
                    "discriminator": "6977",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T16:58:40.430000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905138824458416159",
                "type": 0,
                "content": "I think I'm not totally sure what you're asking\u2014what goes wrong when you try to shoehorn?",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "134416332509675520",
                    "username": "cqfd",
                    "avatar": "1843b8189caf8a8252ae7c78becad4ba",
                    "avatar_decoration": null,
                    "discriminator": "6977",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T16:58:32.417000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905138427928928306",
                "type": 0,
                "content": "i know this is a long question and folks are traveling, so no worries if it doesn't get prioritized",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "886273867293802556",
                    "username": "joebuild",
                    "avatar": "8bd105a959e9fb8265f56a57776b3f6a",
                    "avatar_decoration": null,
                    "discriminator": "8170",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T16:56:57.877000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905137370523897856",
                "type": 0,
                "content": "```\ntransfer_sol(\n    ctx.accounts.into_distribute_context(),\n    dist,\n    i\n)?;\n\nimpl<'a, 'b, 'c, 'info> Distribute<'info>  {\n    fn into_distribute_context(&self) -> CpiContext<'a, 'b, 'c, 'info, Transfer<'info>> {\n        let cpi_accounts = Transfer {\n            from: self.vault.to_account_info().clone(),\n            to: ???                                                             // <-------- HERE\n            authority: self.system_program.to_account_info().clone(),\n        };\n        let cpi_program = self.system_program.to_account_info();\n        CpiContext::new(cpi_program, cpi_accounts)\n    }\n}\n\npub fn transfer_sol<'a, 'b, 'c, 'info>(\n    ctx: CpiContext<'a, 'b, 'c, 'info, Transfer<'info>>,\n    amount: u64,\n    i: usize,\n) -> ProgramResult {\n    let ix = anchor_lang::solana_program::system_instruction::transfer(\n        &ctx.accounts.from.key,\n        &ctx.remaining_accounts[i].key,                                 // <-------- HERE\n        amount\n    );\n\n    solana_program::program::invoke_signed(\n        &ix,\n        &[\n            ctx.accounts.from.clone(),\n            ctx.remaining_accounts[i].clone(),                                  // <-------- HERE\n            ctx.accounts.authority.clone(),\n            ctx.program.clone(),\n        ],\n        ctx.signer_seeds,\n    )\n}\n```",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "886273867293802556",
                    "username": "joebuild",
                    "avatar": "8bd105a959e9fb8265f56a57776b3f6a",
                    "avatar_decoration": null,
                    "discriminator": "8170",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T16:52:45.772000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905137343923642408",
                "type": 0,
                "content": "ok, please get ready for some dumb questions, still struggling with this distribute program and getting these `remaining_accounts` where they need to be, a combination of trying to learn everything all at once i think (rust + solana + anchor), there are ways i could not use remaining accounts for this but i'd like to give a shot at understanding what the correct approach is\nquestion 1): how do i shoehorn remaining accounts into the `into_distribute_context` function, and then related:\nquestion 2) how do i access remaining accounts in the new cpicontext `transfer_sol`",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "886273867293802556",
                    "username": "joebuild",
                    "avatar": "8bd105a959e9fb8265f56a57776b3f6a",
                    "avatar_decoration": null,
                    "discriminator": "8170",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T16:52:39.430000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905040985791279144",
                "type": 0,
                "content": "but nothing is \"forced\", up to you",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "831450660146642974",
                    "username": "Pikachoo",
                    "avatar": "3778d8c6025afe096468846a546f4bfe",
                    "avatar_decoration": null,
                    "discriminator": "4505",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T10:29:45.861000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "905040922738315264",
                "type": 19,
                "content": "better to store it to make instructions less spaghetti",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "831450660146642974",
                    "username": "Pikachoo",
                    "avatar": "3778d8c6025afe096468846a546f4bfe",
                    "avatar_decoration": null,
                    "discriminator": "4505",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "679936424971468859",
                        "username": "0xHaddock (shardul)",
                        "avatar": "2988978494e386a5debdd6b7699954ec",
                        "avatar_decoration": null,
                        "discriminator": "9993",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T10:29:30.828000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "889584618372734977",
                    "guild_id": "889577356681945098",
                    "message_id": "905012479388692510"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "905012479388692510",
                "type": 0,
                "content": "We use PDAs in place of maps in Anchor. For instance `map(A => B)` becomes `PDA[A]` storing value B. As a best pracice should we also store nonce and value A inside the PDA, or pass them as parameters each time?",
                "channel_id": "889584618372734977",
                "author": {
                    "id": "679936424971468859",
                    "username": "0xHaddock (shardul)",
                    "avatar": "2988978494e386a5debdd6b7699954ec",
                    "avatar_decoration": null,
                    "discriminator": "9993",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-11-02T08:36:29.405000+00:00",
                "edited_timestamp": "2021-11-02T08:36:48.292000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ]
    ],
    "analytics_id": "abb6f8b3f56675d7a7990268be6d6a59"
}