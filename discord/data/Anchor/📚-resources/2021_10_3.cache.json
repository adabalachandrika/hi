{
    "total_results": 21,
    "messages": [
        [
            {
                "id": "894272630536937492",
                "type": 0,
                "content": "I argued semi-hard with anatoly as to why there couldn't just be an extra PDA associated with the token account to explicitly indicate the details of the order",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T17:20:09.902000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "894272344430874724",
                "type": 0,
                "content": "technically speaking the details for the order can be checked using the seeds but the seeds themselves aren't easily available",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T17:19:01.689000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "894272182853730315",
                "type": 0,
                "content": "it's storing all of the details about the orders off chain",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T17:18:23.166000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "894272135583920148",
                "type": 0,
                "content": "similarly with anatoly's \"stateless orders\" <https://github.com/solana-labs/solana-program-library/pull/2473/files>",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T17:18:11.896000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "894271482727895091",
                "type": 0,
                "content": "but i just find the offchain merkle stuff a little bit confusing",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T17:15:36.243000+00:00",
                "edited_timestamp": "2021-10-03T17:29:42.821000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "894271428432650291",
                "type": 0,
                "content": "yeh, it definitely ties up a bunch of capital / solana and also costs a little bit more in transaction fees to init all of the accounts",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T17:15:23.298000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "894246946506670080",
                "type": 19,
                "content": "This is quite nice as well, though less capital efficient potentially.",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "501570363566587905",
                    "username": "armaniferrante | Will never DM",
                    "avatar": "7a081b73d4de5c4f7e4f473f265731d2",
                    "avatar_decoration": null,
                    "discriminator": "2513",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [
                    {
                        "id": "248066053161222144",
                        "username": "donderper",
                        "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                        "avatar_decoration": null,
                        "discriminator": "9738",
                        "public_flags": 0
                    }
                ],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T15:38:06.352000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "893934976712724551",
                    "guild_id": "889577356681945098",
                    "message_id": "894142021558763560"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "894142021558763560",
                "type": 0,
                "content": "My alternate design (less solana efficient) would be \n- Get a list of public keys that are eligible for the airdrops\n- Create a PDA token account for every eligible pubkey, using the pubkey itself as the seed\n- Let users claim the airdrop by transferring it to their own ATA for the token\n  - close the PDA token account and retrieve the rent as part of the `user claim` function\n- After some arbitrary amount of time retrieve the rent and tokens from all the unclaimed PDA token accounts",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "248066053161222144",
                    "username": "donderper",
                    "avatar": "7bbcef47e8d4e8218218afd2680ed5a6",
                    "avatar_decoration": null,
                    "discriminator": "9738",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-03T08:41:10.295000+00:00",
                "edited_timestamp": "2021-10-03T08:46:15.761000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893951998494404638",
                "type": 0,
                "content": "Sweet makes sense. Thanks for explaining.",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "501570363566587905",
                    "username": "armaniferrante | Will never DM",
                    "avatar": "7a081b73d4de5c4f7e4f473f265731d2",
                    "avatar_decoration": null,
                    "discriminator": "2513",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:06:05.266000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893951970136703000",
                "type": 0,
                "content": "Yes. Pretty much.",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "392918378559438848",
                    "username": "code_monkey",
                    "avatar": "9570f4c6ff1a3b25530e153ff12efc31",
                    "avatar_decoration": null,
                    "discriminator": "8627",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:05:58.505000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893951827983339570",
                "type": 0,
                "content": "Ok got it. So the design is\n\n* Snapshot airdrop amounts off chain\n* Create merkle tree off chain\n* Submit merkle root on chain and transfer tokens into some vault\n* Claim rewards by providing a proof that you are part of the airdrop, transferring tokens to yourself\n\nIs that correct?",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "501570363566587905",
                    "username": "armaniferrante | Will never DM",
                    "avatar": "7a081b73d4de5c4f7e4f473f265731d2",
                    "avatar_decoration": null,
                    "discriminator": "2513",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:05:24.613000+00:00",
                "edited_timestamp": "2021-10-02T20:05:46.726000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893951765001678849",
                "type": 0,
                "content": "Here is the verification function:\n<https://github.com/saber-hq/merkle-distributor/blob/11c5aaa782c28e8050be853aedeb3ec055c55886/programs/merkle-distributor/src/merkle_proof.rs#L8>",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "392918378559438848",
                    "username": "code_monkey",
                    "avatar": "9570f4c6ff1a3b25530e153ff12efc31",
                    "avatar_decoration": null,
                    "discriminator": "8627",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:05:09.597000+00:00",
                "edited_timestamp": "2021-10-02T20:05:23.307000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893951567370289153",
                "type": 0,
                "content": "The proofs are generated off-chain in this manner:\n```js\n  // keccak256(abi.encode(index, account, amount))\n  public static toNode(index: number, account: PublicKey, amount: BN): Buffer {\n    const buf = Buffer.concat([\n      new u64(index).toArrayLike(Buffer, \"le\", 8),\n      account.toBuffer(),\n      new u64(amount).toArrayLike(Buffer, \"le\", 8),\n    ]);\n    return Buffer.from(keccak_256(buf), \"hex\");\n  }\n```\n\nOn claims. Clients supply the proof and it gets verified on chain",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "392918378559438848",
                    "username": "code_monkey",
                    "avatar": "9570f4c6ff1a3b25530e153ff12efc31",
                    "avatar_decoration": null,
                    "discriminator": "8627",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:04:22.478000+00:00",
                "edited_timestamp": "2021-10-02T20:04:38.422000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893951395605147668",
                "type": 0,
                "content": "No. We only submit the merkle root on chain.",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "392918378559438848",
                    "username": "code_monkey",
                    "avatar": "9570f4c6ff1a3b25530e153ff12efc31",
                    "avatar_decoration": null,
                    "discriminator": "8627",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:03:41.526000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893950941106155611",
                "type": 0,
                "content": "So snapshot off chain and then create a merkle tree on-chain of the airdrop-amount per account created by the snapshot?",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "501570363566587905",
                    "username": "armaniferrante | Will never DM",
                    "avatar": "7a081b73d4de5c4f7e4f473f265731d2",
                    "avatar_decoration": null,
                    "discriminator": "2513",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:01:53.165000+00:00",
                "edited_timestamp": "2021-10-02T20:02:15.382000+00:00",
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893950808687775814",
                "type": 0,
                "content": "I read the words but don't understand. \ud83d\ude1b",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "501570363566587905",
                    "username": "armaniferrante | Will never DM",
                    "avatar": "7a081b73d4de5c4f7e4f473f265731d2",
                    "avatar_decoration": null,
                    "discriminator": "2513",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T20:01:21.594000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893950269631651850",
                "type": 0,
                "content": "https://github.com/saber-hq/merkle-distributor#rationale",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "392918378559438848",
                    "username": "code_monkey",
                    "avatar": "9570f4c6ff1a3b25530e153ff12efc31",
                    "avatar_decoration": null,
                    "discriminator": "8627",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [
                    {
                        "type": "article",
                        "url": "https://github.com/saber-hq/merkle-distributor",
                        "title": "GitHub - saber-hq/merkle-distributor: \ud83d\udce6 A smart contract that distr...",
                        "description": "\ud83d\udce6 A smart contract that distributes a balance of tokens according to a Merkle root - GitHub - saber-hq/merkle-distributor: \ud83d\udce6 A smart contract that distributes a balance of tokens according to a Mer...",
                        "color": 1975079,
                        "provider": {
                            "name": "GitHub"
                        },
                        "thumbnail": {
                            "url": "https://repository-images.githubusercontent.com/412680182/e53fd14f-2a8b-441d-bfcf-a21f25b405f4",
                            "proxy_url": "https://images-ext-1.discordapp.net/external/9rTUSW9Peankl7AcIRNovUqJebTi0VnIRR7a76h3pdw/https/repository-images.githubusercontent.com/412680182/e53fd14f-2a8b-441d-bfcf-a21f25b405f4",
                            "width": 1000,
                            "height": 500
                        }
                    }
                ],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T19:59:13.073000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893947628906238075",
                "type": 0,
                "content": "Is there a quick tldr explaining how it works?",
                "channel_id": "893934976712724551",
                "author": {
                    "id": "501570363566587905",
                    "username": "armaniferrante | Will never DM",
                    "avatar": "7a081b73d4de5c4f7e4f473f265731d2",
                    "avatar_decoration": null,
                    "discriminator": "2513",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T19:48:43.475000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893947549256384574",
                "type": 18,
                "content": "merkle-distributor",
                "channel_id": "889606719829835816",
                "author": {
                    "id": "501570363566587905",
                    "username": "armaniferrante | Will never DM",
                    "avatar": "7a081b73d4de5c4f7e4f473f265731d2",
                    "avatar_decoration": null,
                    "discriminator": "2513",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T19:48:24.485000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "message_reference": {
                    "channel_id": "893934976712724551",
                    "guild_id": "889577356681945098"
                },
                "hit": true
            }
        ],
        [
            {
                "id": "893935492419166219",
                "type": 0,
                "content": "We are using it on mainnet-beta for the recent Saber airdrop. Please let me know if you are interested in using our merkle-distributor for your airdrops and need help.",
                "channel_id": "889606719829835816",
                "author": {
                    "id": "392918378559438848",
                    "username": "code_monkey",
                    "avatar": "9570f4c6ff1a3b25530e153ff12efc31",
                    "avatar_decoration": null,
                    "discriminator": "8627",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T19:00:29.911000+00:00",
                "edited_timestamp": null,
                "flags": 0,
                "components": [],
                "hit": true
            }
        ],
        [
            {
                "id": "893934976712724551",
                "type": 0,
                "content": "Hey all. Here is a program you all can use for airdrops:\nhttps://github.com/saber-hq/merkle-distributor",
                "channel_id": "889606719829835816",
                "author": {
                    "id": "392918378559438848",
                    "username": "code_monkey",
                    "avatar": "9570f4c6ff1a3b25530e153ff12efc31",
                    "avatar_decoration": null,
                    "discriminator": "8627",
                    "public_flags": 0
                },
                "attachments": [],
                "embeds": [
                    {
                        "type": "article",
                        "url": "https://github.com/saber-hq/merkle-distributor",
                        "title": "GitHub - saber-hq/merkle-distributor: \ud83d\udce6 A smart contract that distr...",
                        "description": "\ud83d\udce6 A smart contract that distributes a balance of tokens according to a Merkle root - GitHub - saber-hq/merkle-distributor: \ud83d\udce6 A smart contract that distributes a balance of tokens according to a Mer...",
                        "color": 1975079,
                        "provider": {
                            "name": "GitHub"
                        },
                        "thumbnail": {
                            "url": "https://repository-images.githubusercontent.com/412680182/e53fd14f-2a8b-441d-bfcf-a21f25b405f4",
                            "proxy_url": "https://images-ext-1.discordapp.net/external/9rTUSW9Peankl7AcIRNovUqJebTi0VnIRR7a76h3pdw/https/repository-images.githubusercontent.com/412680182/e53fd14f-2a8b-441d-bfcf-a21f25b405f4",
                            "width": 1000,
                            "height": 500
                        }
                    }
                ],
                "mentions": [],
                "mention_roles": [],
                "pinned": false,
                "mention_everyone": false,
                "tts": false,
                "timestamp": "2021-10-02T18:58:26.957000+00:00",
                "edited_timestamp": "2021-10-02T19:08:18.707000+00:00",
                "flags": 32,
                "components": [],
                "thread": {
                    "id": "893934976712724551",
                    "guild_id": "889577356681945098",
                    "parent_id": "889606719829835816",
                    "owner_id": "501570363566587905",
                    "type": 11,
                    "name": "merkle-distributor",
                    "last_message_id": "902933514788417546",
                    "thread_metadata": {
                        "archived": true,
                        "archive_timestamp": "2021-12-17T10:48:18.256000+00:00",
                        "auto_archive_duration": 1440,
                        "locked": false
                    },
                    "message_count": 29,
                    "member_count": 7,
                    "rate_limit_per_user": 0,
                    "flags": 0,
                    "member_ids_preview": [
                        "392918378559438848",
                        "831450660146642974",
                        "99911938955309056",
                        "501570363566587905",
                        "248066053161222144"
                    ]
                },
                "hit": true
            }
        ]
    ],
    "analytics_id": "2d0127469a66abf681d6d8ddd771cf38",
    "threads": [
        {
            "id": "893934976712724551",
            "guild_id": "889577356681945098",
            "parent_id": "889606719829835816",
            "owner_id": "501570363566587905",
            "type": 11,
            "name": "merkle-distributor",
            "last_message_id": "902933514788417546",
            "thread_metadata": {
                "archived": true,
                "archive_timestamp": "2021-12-17T10:48:18.256000+00:00",
                "auto_archive_duration": 1440,
                "locked": false
            },
            "message_count": 29,
            "member_count": 7,
            "rate_limit_per_user": 0,
            "flags": 0,
            "member_ids_preview": [
                "501570363566587905",
                "248066053161222144",
                "831450660146642974",
                "99911938955309056",
                "392918378559438848"
            ]
        }
    ],
    "members": []
}